"use strict";(self.webpackChunkinstagram_clone=self.webpackChunkinstagram_clone||[]).push([[179],{6304:(vt,De,S)=>{S.d(De,{Dh:()=>Oe,GT:()=>ve,cc:()=>Ie,hO:()=>Ue,on:()=>V,pX:()=>se,xv:()=>he});var d=S(5879),U=S(120),N=S(4556);vt=S.hmd(vt);const Y=["ngOnDestroy"],se=(Se,ht,ft,ee={})=>new Proxy(Se,{get:(Te,ue)=>ft.runOutsideAngular(()=>{var Me;if(Se[ue])return!(null===(Me=ee?.spy)||void 0===Me)&&Me.get&&ee.spy.get(ue,Se[ue]),Se[ue];if(Y.indexOf(ue)>-1)return()=>{};const Be=ht.toPromise().then(k=>{const te=k&&k[ue];return"function"==typeof te?te.bind(k):te&&te.then?te.then(be=>ft.run(()=>be)):ft.run(()=>te)});return new Proxy(()=>{},{get:(k,te)=>Be[te],apply:(k,te,be)=>Be.then(st=>{var Lt;const Ht=st&&st(...be);return!(null===(Lt=ee?.spy)||void 0===Lt)&&Lt.apply&&ee.spy.apply(ue,be,Ht),Ht})})})}),ve=(Se,ht)=>{ht.forEach(ft=>{Object.getOwnPropertyNames(ft.prototype||ft).forEach(ee=>{Object.defineProperty(Se.prototype,ee,Object.getOwnPropertyDescriptor(ft.prototype||ft,ee))})})};class we{constructor(ht){return ht}}const Oe=new d.OlP("angularfire2.app.options"),he=new d.OlP("angularfire2.app.name");function V(Se,ht,ft){const Te="object"==typeof ft&&ft||{};Te.name=Te.name||"string"==typeof ft&&ft||"[DEFAULT]";const Me=U.Z.apps.filter(Be=>Be&&Be.name===Te.name)[0]||ht.runOutsideAngular(()=>U.Z.initializeApp(Se,Te));try{JSON.stringify(Se)!==JSON.stringify(Me.options)&&q("error",`${Me.name} Firebase App already initialized with different options${vt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new we(Me)}const q=(Se,...ht)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Se](...ht)},ne={provide:we,useFactory:V,deps:[Oe,d.R0b,[new d.FiY,he]]};let Ue=(()=>{class Se{constructor(ft){U.Z.registerVersion("angularfire",N.q4.full,"core"),U.Z.registerVersion("angularfire",N.q4.full,"app-compat"),U.Z.registerVersion("angular",d.q4F.full,ft.toString())}static initializeApp(ft,ee){return{ngModule:Se,providers:[{provide:Oe,useValue:ft},{provide:he,useValue:ee}]}}}return Se.\u0275fac=function(ft){return new(ft||Se)(d.LFG(d.Lbi))},Se.\u0275mod=d.oAB({type:Se}),Se.\u0275inj=d.cJS({providers:[ne]}),Se})();function Ie(Se,ht,ft,ee,Te){const[,ue,Me]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===Se)||[];if(ue)return function Ye(Se,ht){try{return Se.toString()===ht.toString()}catch{return Se===ht}}(Te,Me)||(We("error",`${ht} was already initialized on the ${ft} Firebase App with different settings.${ke?" You may need to reload as Firebase is not HMR aware.":""}`),We("warn",{is:Te,was:Me})),ue;{const Be=ee();return globalThis.\u0275AngularfireInstanceCache.push([Se,Be,Te]),Be}}const ke=!!vt.hot,We=(Se,...ht)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Se](...ht)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4556:(vt,De,S)=>{S.d(De,{q4:()=>Us,iC:()=>cs,HU:()=>nh,vb:()=>Es,JM:()=>hr});var d=S(5879),U=S(4097),N=S(5861),Y=S(4303),se=S(9058),ve=S(4537),we=S(7879);S(2591);const he="@firebase/remote-config",V="0.4.4",Ie=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Jt{constructor(F,j,pe,Pe){this.client=F,this.storage=j,this.storageCache=pe,this.logger=Pe}isCachedDataFresh(F,j){if(!j)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const pe=Date.now()-j,Pe=pe<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${pe}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${Pe}.`),Pe}fetch(F){var j=this;return(0,N.Z)(function*(){const[pe,Pe]=yield Promise.all([j.storage.getLastSuccessfulFetchTimestampMillis(),j.storage.getLastSuccessfulFetchResponse()]);if(Pe&&j.isCachedDataFresh(F.cacheMaxAgeMillis,pe))return Pe;F.eTag=Pe&&Pe.eTag;const Ze=yield j.client.fetch(F),et=[j.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ze.status&&et.push(j.storage.setLastSuccessfulFetchResponse(Ze)),yield Promise.all(et),Ze})()}}function Gn(B=navigator){return B.languages&&B.languages[0]||B.language}class ae{constructor(F,j,pe,Pe,Ze,et){this.firebaseInstallations=F,this.sdkVersion=j,this.namespace=pe,this.projectId=Pe,this.apiKey=Ze,this.appId=et}fetch(F){var j=this;return(0,N.Z)(function*(){const[pe,Pe]=yield Promise.all([j.firebaseInstallations.getId(),j.firebaseInstallations.getToken()]),et=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${j.projectId}/namespaces/${j.namespace}:fetch?key=${j.apiKey}`,bt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},Ft={sdk_version:j.sdkVersion,app_instance_id:pe,app_instance_id_token:Pe,app_id:j.appId,language_code:Gn()},Zt={method:"POST",headers:bt,body:JSON.stringify(Ft)},Bt=fetch(et,Zt),Br=new Promise((or,Ii)=>{F.signal.addEventListener(()=>{const za=new Error("The operation was aborted.");za.name="AbortError",Ii(za)})});let Yn;try{yield Promise.race([Bt,Br]),Yn=yield Bt}catch(or){let Ii="fetch-client-network";throw"AbortError"===or?.name&&(Ii="fetch-timeout"),Ie.create(Ii,{originalErrorMessage:or?.message})}let Mn=Yn.status;const To=Yn.headers.get("ETag")||void 0;let Ji,Cs;if(200===Yn.status){let or;try{or=yield Yn.json()}catch(Ii){throw Ie.create("fetch-client-parse",{originalErrorMessage:Ii?.message})}Ji=or.entries,Cs=or.state}if("INSTANCE_STATE_UNSPECIFIED"===Cs?Mn=500:"NO_CHANGE"===Cs?Mn=304:("NO_TEMPLATE"===Cs||"EMPTY_CONFIG"===Cs)&&(Ji={}),304!==Mn&&200!==Mn)throw Ie.create("fetch-status",{httpStatus:Mn});return{status:Mn,eTag:To,config:Ji}})()}}class oe{constructor(F,j){this.client=F,this.storage=j}fetch(F){var j=this;return(0,N.Z)(function*(){const pe=(yield j.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return j.attemptFetch(F,pe)})()}attemptFetch(F,{throttleEndTimeMillis:j,backoffCount:pe}){var Pe=this;return(0,N.Z)(function*(){yield function fe(B,F){return new Promise((j,pe)=>{const Pe=Math.max(F-Date.now(),0),Ze=setTimeout(j,Pe);B.addEventListener(()=>{clearTimeout(Ze),pe(Ie.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,j);try{const Ze=yield Pe.client.fetch(F);return yield Pe.storage.deleteThrottleMetadata(),Ze}catch(Ze){if(!function ce(B){if(!(B instanceof se.ZR&&B.customData))return!1;const F=Number(B.customData.httpStatus);return 429===F||500===F||503===F||504===F}(Ze))throw Ze;const et={throttleEndTimeMillis:Date.now()+(0,se.$s)(pe),backoffCount:pe+1};return yield Pe.storage.setThrottleMetadata(et),Pe.attemptFetch(F,et)}})()}}class tt{constructor(F,j,pe,Pe,Ze){this.app=F,this._client=j,this._storageCache=pe,this._storage=Pe,this._logger=Ze,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function qe(B,F){const j=B.target.error||void 0;return Ie.create(F,{originalErrorMessage:j&&j?.message})}const Wt="app_namespace_store";class hn{constructor(F,j,pe,Pe=function yt(){return new Promise((B,F)=>{try{const j=indexedDB.open("firebase_remote_config",1);j.onerror=pe=>{F(qe(pe,"storage-open"))},j.onsuccess=pe=>{B(pe.target.result)},j.onupgradeneeded=pe=>{0===pe.oldVersion&&pe.target.result.createObjectStore(Wt,{keyPath:"compositeKey"})}}catch(j){F(Ie.create("storage-open",{originalErrorMessage:j?.message}))}})}()){this.appId=F,this.appName=j,this.namespace=pe,this.openDbPromise=Pe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var j=this;return(0,N.Z)(function*(){const pe=yield j.openDbPromise;return new Promise((Pe,Ze)=>{const bt=pe.transaction([Wt],"readonly").objectStore(Wt),Ft=j.createCompositeKey(F);try{const Zt=bt.get(Ft);Zt.onerror=Bt=>{Ze(qe(Bt,"storage-get"))},Zt.onsuccess=Bt=>{const Br=Bt.target.result;Pe(Br?Br.value:void 0)}}catch(Zt){Ze(Ie.create("storage-get",{originalErrorMessage:Zt?.message}))}})})()}set(F,j){var pe=this;return(0,N.Z)(function*(){const Pe=yield pe.openDbPromise;return new Promise((Ze,et)=>{const Ft=Pe.transaction([Wt],"readwrite").objectStore(Wt),Zt=pe.createCompositeKey(F);try{const Bt=Ft.put({compositeKey:Zt,value:j});Bt.onerror=Br=>{et(qe(Br,"storage-set"))},Bt.onsuccess=()=>{Ze()}}catch(Bt){et(Ie.create("storage-set",{originalErrorMessage:Bt?.message}))}})})()}delete(F){var j=this;return(0,N.Z)(function*(){const pe=yield j.openDbPromise;return new Promise((Pe,Ze)=>{const bt=pe.transaction([Wt],"readwrite").objectStore(Wt),Ft=j.createCompositeKey(F);try{const Zt=bt.delete(Ft);Zt.onerror=Bt=>{Ze(qe(Bt,"storage-delete"))},Zt.onsuccess=()=>{Pe()}}catch(Zt){Ze(Ie.create("storage-delete",{originalErrorMessage:Zt?.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class jn{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,N.Z)(function*(){const j=F.storage.getLastFetchStatus(),pe=F.storage.getLastSuccessfulFetchTimestampMillis(),Pe=F.storage.getActiveConfig(),Ze=yield j;Ze&&(F.lastFetchStatus=Ze);const et=yield pe;et&&(F.lastSuccessfulFetchTimestampMillis=et);const bt=yield Pe;bt&&(F.activeConfig=bt)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function ir(){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,N.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}!function Ln(){(0,Y._registerComponent)(new ve.wA("remote-config",function B(F,{instanceIdentifier:j}){const pe=F.getProvider("app").getImmediate(),Pe=F.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ie.create("registration-window");if(!(0,se.hl)())throw Ie.create("indexed-db-unavailable");const{projectId:Ze,apiKey:et,appId:bt}=pe.options;if(!Ze)throw Ie.create("registration-project-id");if(!et)throw Ie.create("registration-api-key");if(!bt)throw Ie.create("registration-app-id");const Ft=new hn(bt,pe.name,j=j||"firebase"),Zt=new jn(Ft),Bt=new we.Yd(he);Bt.logLevel=we.in.ERROR;const Br=new ae(Pe,Y.SDK_VERSION,j,Ze,et,bt),Yn=new oe(Br,Ft),Mn=new Jt(Yn,Ft,Zt,Bt),To=new tt(pe,Mn,Zt,Ft,Bt);return function Me(B){const F=(0,se.m9)(B);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}(To),To},"PUBLIC").setMultipleInstances(!0)),(0,Y.registerVersion)(he,V),(0,Y.registerVersion)(he,V,"esm2017")}();var Vn=S(9519);const Dn="analytics",er="firebase_id",zr="origin",wt=6e4,Ct="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Nt="https://www.googletagmanager.com/gtag/js",Rt=new we.Yd("@firebase/analytics"),fn=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Kt(B){if(!B.startsWith(Nt)){const F=fn.create("invalid-gtag-resource",{gtagURL:B});return Rt.warn(F.message),""}return B}function pn(B){return Promise.all(B.map(F=>F.catch(j=>j)))}function cn(){return(cn=(0,N.Z)(function*(B,F,j,pe,Pe,Ze){const et=pe[Pe];try{if(et)yield F[et];else{const Ft=(yield pn(j)).find(Zt=>Zt.measurementId===Pe);Ft&&(yield F[Ft.appId])}}catch(bt){Rt.error(bt)}B("config",Pe,Ze)})).apply(this,arguments)}function sr(){return(sr=(0,N.Z)(function*(B,F,j,pe,Pe){try{let Ze=[];if(Pe&&Pe.send_to){let et=Pe.send_to;Array.isArray(et)||(et=[et]);const bt=yield pn(j);for(const Ft of et){const Zt=bt.find(Br=>Br.measurementId===Ft),Bt=Zt&&F[Zt.appId];if(!Bt){Ze=[];break}Ze.push(Bt)}}0===Ze.length&&(Ze=Object.values(F)),yield Promise.all(Ze),B("event",pe,Pe||{})}catch(Ze){Rt.error(Ze)}})).apply(this,arguments)}const Z=30,ct=new class He{constructor(F={},j=1e3){this.throttleMetadata=F,this.intervalMillis=j}getThrottleMetadata(F){return this.throttleMetadata[F]}setThrottleMetadata(F,j){this.throttleMetadata[F]=j}deleteThrottleMetadata(F){delete this.throttleMetadata[F]}};function Et(B){return new Headers({Accept:"application/json","x-goog-api-key":B})}function G(){return(G=(0,N.Z)(function*(B){var F;const{appId:j,apiKey:pe}=B,Pe={method:"GET",headers:Et(pe)},Ze=Ct.replace("{app-id}",j),et=yield fetch(Ze,Pe);if(200!==et.status&&304!==et.status){let bt="";try{const Ft=yield et.json();null!==(F=Ft.error)&&void 0!==F&&F.message&&(bt=Ft.error.message)}catch{}throw fn.create("config-fetch-failed",{httpStatus:et.status,responseMessage:bt})}return et.json()})).apply(this,arguments)}function P(){return(P=(0,N.Z)(function*(B,F=ct,j){const{appId:pe,apiKey:Pe,measurementId:Ze}=B.options;if(!pe)throw fn.create("no-app-id");if(!Pe){if(Ze)return{measurementId:Ze,appId:pe};throw fn.create("no-api-key")}const et=F.getThrottleMetadata(pe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},bt=new Qe;return setTimeout((0,N.Z)(function*(){bt.abort()}),void 0!==j?j:wt),R({appId:pe,apiKey:Pe,measurementId:Ze},et,bt,F)})).apply(this,arguments)}function R(B,F,j){return M.apply(this,arguments)}function M(){return M=(0,N.Z)(function*(B,{throttleEndTimeMillis:F,backoffCount:j},pe,Pe=ct){var Ze;const{appId:et,measurementId:bt}=B;try{yield function X(B,F){return new Promise((j,pe)=>{const Pe=Math.max(F-Date.now(),0),Ze=setTimeout(j,Pe);B.addEventListener(()=>{clearTimeout(Ze),pe(fn.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(pe,F)}catch(Ft){if(bt)return Rt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${bt} provided in the "measurementId" field in the local Firebase config. [${Ft?.message}]`),{appId:et,measurementId:bt};throw Ft}try{const Ft=yield function gn(B){return G.apply(this,arguments)}(B);return Pe.deleteThrottleMetadata(et),Ft}catch(Ft){const Zt=Ft;if(!function Ne(B){if(!(B instanceof se.ZR&&B.customData))return!1;const F=Number(B.customData.httpStatus);return 429===F||500===F||503===F||504===F}(Zt)){if(Pe.deleteThrottleMetadata(et),bt)return Rt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${bt} provided in the "measurementId" field in the local Firebase config. [${Zt?.message}]`),{appId:et,measurementId:bt};throw Ft}const Bt=503===Number(null===(Ze=Zt?.customData)||void 0===Ze?void 0:Ze.httpStatus)?(0,se.$s)(j,Pe.intervalMillis,Z):(0,se.$s)(j,Pe.intervalMillis),Br={throttleEndTimeMillis:Date.now()+Bt,backoffCount:j+1};return Pe.setThrottleMetadata(et,Br),Rt.debug(`Calling attemptFetch again in ${Bt} millis`),R(B,Br,pe,Pe)}}),M.apply(this,arguments)}class Qe{constructor(){this.listeners=[]}addEventListener(F){this.listeners.push(F)}abort(){this.listeners.forEach(F=>F())}}let xt,Tn;function mn(){return(mn=(0,N.Z)(function*(B,F,j,pe,Pe){if(Pe&&Pe.global)B("event",j,pe);else{const Ze=yield F;B("event",j,Object.assign(Object.assign({},pe),{send_to:Ze}))}})).apply(this,arguments)}function Rr(){return(Rr=(0,N.Z)(function*(){if(!(0,se.hl)())return Rt.warn(fn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(B){return Rt.warn(fn.create("indexeddb-unavailable",{errorInfo:B?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ls(){return Ls=(0,N.Z)(function*(B,F,j,pe,Pe,Ze,et){var bt;const Ft=function H(B){return P.apply(this,arguments)}(B);Ft.then(Mn=>{j[Mn.measurementId]=Mn.appId,B.options.measurementId&&Mn.measurementId!==B.options.measurementId&&Rt.warn(`The measurement ID in the local Firebase config (${B.options.measurementId}) does not match the measurement ID fetched from the server (${Mn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Mn=>Rt.error(Mn)),F.push(Ft);const Zt=function Ki(){return Rr.apply(this,arguments)}().then(Mn=>{if(Mn)return pe.getId()}),[Bt,Br]=yield Promise.all([Ft,Zt]);(function me(B){const F=window.document.getElementsByTagName("script");for(const j of Object.values(F))if(j.src&&j.src.includes(Nt)&&j.src.includes(B))return j;return null})(Ze)||function rn(B,F){const j=function Nr(B,F){let j;return window.trustedTypes&&(j=window.trustedTypes.createPolicy(B,F)),j}("firebase-js-sdk-policy",{createScriptURL:Kt}),pe=document.createElement("script"),Pe=`${Nt}?l=${B}&id=${F}`;pe.src=j?j?.createScriptURL(Pe):Pe,pe.async=!0,document.head.appendChild(pe)}(Ze,Bt.measurementId),Tn&&(Pe("consent","default",Tn),function ni(B){Tn=B}(void 0)),Pe("js",new Date);const Yn=null!==(bt=et?.config)&&void 0!==bt?bt:{};return Yn[zr]="firebase",Yn.update=!0,null!=Br&&(Yn[er]=Br),Pe("config",Bt.measurementId,Yn),xt&&(Pe("set",xt),function ri(B){xt=B}(void 0)),Bt.measurementId}),Ls.apply(this,arguments)}class Ks{constructor(F){this.app=F}_delete(){return delete ii[this.app.options.appId],Promise.resolve()}}let ii={},gi=[];const Vs={};let Jn,Yi,_s="dataLayer",Ui=!1;function qr(B,F,j){!function Co(){const B=[];if((0,se.ru)()&&B.push("This is a browser extension environment."),(0,se.zI)()||B.push("Cookies are not available."),B.length>0){const F=B.map((pe,Pe)=>`(${Pe+1}) ${pe}`).join(" "),j=fn.create("invalid-analytics-context",{errorInfo:F});Rt.warn(j.message)}}();const pe=B.options.appId;if(!pe)throw fn.create("no-app-id");if(!B.options.apiKey){if(!B.options.measurementId)throw fn.create("no-api-key");Rt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${B.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ii[pe])throw fn.create("already-exists",{id:pe});if(!Ui){!function pi(B){let F=[];Array.isArray(window[B])?F=window[B]:window[B]=F}(_s);const{wrappedGtag:Ze,gtagCore:et}=function Un(B,F,j,pe,Pe){let Ze=function(...et){window[pe].push(arguments)};return window[Pe]&&"function"==typeof window[Pe]&&(Ze=window[Pe]),window[Pe]=function lr(B,F,j,pe){function Ze(){return Ze=(0,N.Z)(function*(et,...bt){try{if("event"===et){const[Ft,Zt]=bt;yield function br(B,F,j,pe,Pe){return sr.apply(this,arguments)}(B,F,j,Ft,Zt)}else if("config"===et){const[Ft,Zt]=bt;yield function Xt(B,F,j,pe,Pe,Ze){return cn.apply(this,arguments)}(B,F,j,pe,Ft,Zt)}else if("consent"===et){const[Ft]=bt;B("consent","update",Ft)}else if("get"===et){const[Ft,Zt,Bt]=bt;B("get",Ft,Zt,Bt)}else if("set"===et){const[Ft]=bt;B("set",Ft)}else B(et,...bt)}catch(Ft){Rt.error(Ft)}}),Ze.apply(this,arguments)}return function Pe(et){return Ze.apply(this,arguments)}}(Ze,B,F,j),{gtagCore:Ze,wrappedGtag:window[Pe]}}(ii,gi,Vs,_s,"gtag");Yi=Ze,Jn=et,Ui=!0}return ii[pe]=function ln(B,F,j,pe,Pe,Ze,et){return Ls.apply(this,arguments)}(B,gi,Vs,F,Jn,_s,j),new Ks(B)}function qu(){return $.apply(this,arguments)}function $(){return($=(0,N.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}const us="@firebase/analytics";!function Zu(){(0,Y._registerComponent)(new ve.wA(Dn,(F,{options:j})=>qr(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),j),"PUBLIC")),(0,Y._registerComponent)(new ve.wA("analytics-internal",function B(F){try{const j=F.getProvider(Dn).getImmediate();return{logEvent:(pe,Pe,Ze)=>function dr(B,F,j,pe){B=(0,se.m9)(B),function ot(B,F,j,pe,Pe){return mn.apply(this,arguments)}(Yi,ii[B.app.options.appId],F,j,pe).catch(Pe=>Rt.error(Pe))}(j,pe,Pe,Ze)}}catch(j){throw fn.create("interop-component-reg-failed",{reason:j})}},"PRIVATE")),(0,Y.registerVersion)(us,"0.10.0"),(0,Y.registerVersion)(us,"0.10.0","esm2017")}();var ja=S(1954),Ha=S(2631);const Ur=new class Cn extends Ha.v{}(class $a extends ja.o{constructor(F,j){super(F,j),this.scheduler=F,this.work=j}schedule(F,j=0){return j>0?super.schedule(F,j):(this.delay=j,this.state=F,this.scheduler.flush(this),this)}execute(F,j){return j>0||this.closed?super.execute(F,j):this._execute(F,j)}requestAsyncId(F,j,pe=0){return null!=pe&&pe>0||null==pe&&this.delay>0?super.requestAsyncId(F,j,pe):(F.flush(this),0)}});var bo=S(6321),si=S(9397),Xc=S(5137),Ga=S(3093);const Us=new d.GfV("7.6.1"),Qi="__angularfire_symbol__analyticsIsSupportedValue",da="__angularfire_symbol__analyticsIsSupported",Kn="__angularfire_symbol__remoteConfigIsSupportedValue",Xe="__angularfire_symbol__remoteConfigIsSupported",qt="__angularfire_symbol__messagingIsSupportedValue",Bn="__angularfire_symbol__messagingIsSupported";function hr(B,F,j){if(F){if(1===F.length)return F[0];const Ze=F.filter(et=>et.app===j);if(1===Ze.length)return Ze[0]}return j.container.getProvider(B).getImmediate({optional:!0})}globalThis[da]||(globalThis[da]=qu().then(B=>globalThis[Qi]=B).catch(()=>globalThis[Qi]=!1)),globalThis[Bn]||(globalThis[Bn]=(0,Vn.Gb)().then(B=>globalThis[qt]=B).catch(()=>globalThis[qt]=!1)),globalThis[Xe]||(globalThis[Xe]=ir().then(B=>globalThis[Kn]=B).catch(()=>globalThis[Kn]=!1));const Es=(B,F)=>{const j=F?[F]:(0,U.C6)(),pe=[];return j.forEach(Pe=>{Pe.container.getProvider(B).instances.forEach(et=>{pe.includes(et)||pe.push(et)})}),pe};function Ei(){}class kt{constructor(F,j=Ur){this.zone=F,this.delegate=j}now(){return this.delegate.now()}schedule(F,j,pe){const Pe=this.zone;return this.delegate.schedule(function(et){Pe.runGuarded(()=>{F.apply(this,[et])})},j,pe)}}class ha{constructor(F){this.zone=F,this.task=null}call(F,j){const pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ei,{},Ei,Ei)),j.pipe((0,si.b)({next:pe,complete:pe,error:pe})).subscribe(F).add(pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let nh=(()=>{class B{constructor(j){this.ngZone=j,this.outsideAngular=j.runOutsideAngular(()=>new kt(Zone.current)),this.insideAngular=j.run(()=>new kt(Zone.current,bo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return B.\u0275fac=function(j){return new(j||B)(d.LFG(d.R0b))},B.\u0275prov=d.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})();function Dr(){const B=globalThis.\u0275AngularFireScheduler;if(!B)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return B}function cs(B){return Dr(),function el(B){return function(j){return(j=j.lift(new ha(B.ngZone))).pipe((0,Xc.R)(B.outsideAngular),(0,Ga.Q)(B.insideAngular))}}(Dr())(B)}},6710:(vt,De,S)=>{S.d(De,{$:()=>ih,A:()=>q,D:()=>Ie,I:()=>Co,J:()=>$,L:()=>Xe,N:()=>Et,P:()=>ar,Q:()=>Bi,R:()=>zp,U:()=>el,V:()=>Ys,W:()=>Is,X:()=>cs,Y:()=>pe,Z:()=>Pe,_:()=>Zt,a:()=>ll,a0:()=>pE,a1:()=>vr,a2:()=>wT,a3:()=>ET,a4:()=>$y,a5:()=>Ao,a6:()=>Wu,a7:()=>oh,a8:()=>ah,a9:()=>Hy,aA:()=>k,aB:()=>nu,aC:()=>He,aD:()=>gn,aE:()=>ko,aF:()=>ml,aG:()=>ro,aH:()=>Jn,aL:()=>Qu,aO:()=>F,aa:()=>Dp,ab:()=>Gy,ac:()=>Tp,ad:()=>qy,ae:()=>il,af:()=>Zy,ai:()=>mE,aj:()=>IT,ak:()=>Ky,an:()=>To,ao:()=>Yu,aq:()=>gh,ar:()=>cl,as:()=>be,at:()=>ot,au:()=>Ne,av:()=>ee,aw:()=>ds,ax:()=>Sh,ay:()=>mn,az:()=>Te,b:()=>vh,c:()=>Ai,d:()=>pl,e:()=>Ja,f:()=>yl,g:()=>Si,h:()=>fr,i:()=>$s,j:()=>cv,k:()=>so,l:()=>qp,m:()=>su,p:()=>Oe,r:()=>Pt,s:()=>Di,u:()=>Ti});var d=S(5861),U=S(9058),N=S(7592),Y=S(7582),se=S(7879),ve=S(4537);const Oe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ie=function ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ye=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ke=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Se=new se.Yd("@firebase/auth");function ft(w,...p){Se.logLevel<=se.in.ERROR&&Se.error(`Auth (${N.SDK_VERSION}): ${w}`,...p)}function ee(w,...p){throw Be(w,...p)}function Te(w,...p){return Be(w,...p)}function ue(w,p,m){const E=Object.assign(Object.assign({},Ye()),{[p]:m});return new U.LL("auth","Firebase",E).create(p,{appName:w.name})}function Me(w,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&ee(w,"argument-error"),ue(w,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Be(w,...p){if("string"!=typeof w){const m=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=w.name),w._errorFactory.create(m,...E)}return ke.create(w,...p)}function k(w,p,...m){if(!w)throw Be(p,...m)}function te(w){const p="INTERNAL ASSERTION FAILED: "+w;throw ft(p),new Error(p)}function be(w,p){w||te(p)}function st(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Lt(){return"http:"===Ht()||"https:"===Ht()}function Ht(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Jt{constructor(p,m){this.shortDelay=p,this.longDelay=m,be(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function Gt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Lt()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gn(w,p){be(w.emulator,"Emulator should always be set here");const{url:m}=w.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class ae{static initialize(p,m,E){this.fetchImpl=p,m&&(this.headersImpl=m),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void te("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void te("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void te("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ce=new Jt(3e4,6e4);function oe(w,p){return w.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:w.tenantId}):p}function Ae(w,p,m,E){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,d.Z)(function*(w,p,m,E,T={}){return tt(w,T,(0,d.Z)(function*(){let O={},Q={};E&&("GET"===p?Q=E:O={body:JSON.stringify(E)});const ge=(0,U.xO)(Object.assign({key:w.config.apiKey},Q)).slice(1),Je=yield w._getAdditionalHeaders();return Je["Content-Type"]="application/json",w.languageCode&&(Je["X-Firebase-Locale"]=w.languageCode),ae.fetch()(nn(w,w.config.apiHost,m,ge),Object.assign({method:p,headers:Je,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function tt(w,p,m){return qe.apply(this,arguments)}function qe(){return(qe=(0,d.Z)(function*(w,p,m){w._canInitEmulator=!1;const E=Object.assign(Object.assign({},fe),p);try{const T=new yt(w),O=yield Promise.race([m(),T.promise]);T.clearNetworkTimeout();const Q=yield O.json();if("needConfirmation"in Q)throw hn(w,"account-exists-with-different-credential",Q);if(O.ok&&!("errorMessage"in Q))return Q;{const ge=O.ok?Q.errorMessage:Q.error.message,[Je,rt]=ge.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Je)throw hn(w,"credential-already-in-use",Q);if("EMAIL_EXISTS"===Je)throw hn(w,"email-already-in-use",Q);if("USER_DISABLED"===Je)throw hn(w,"user-disabled",Q);const Tt=E[Je]||Je.toLowerCase().replace(/[_\s]+/g,"-");if(rt)throw ue(w,Tt,rt);ee(w,Tt)}}catch(T){if(T instanceof U.ZR)throw T;ee(w,"network-request-failed",{message:String(T)})}})).apply(this,arguments)}function Wt(w,p,m,E){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,d.Z)(function*(w,p,m,E,T={}){const O=yield Ae(w,p,m,E,T);return"mfaPendingCredential"in O&&ee(w,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function nn(w,p,m,E){const T=`${p}${m}?${E}`;return w.config.emulator?Gn(w.config,T):`${w.config.apiScheme}://${T}`}class yt{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,E)=>{this.timer=setTimeout(()=>E(Te(this.auth,"network-request-failed")),ce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hn(w,p,m){const E={appName:w.name};m.email&&(E.email=m.email),m.phoneNumber&&(E.phoneNumber=m.phoneNumber);const T=Te(w,p,E);return T.customData._tokenResponse=m,T}function Ln(){return(Ln=(0,d.Z)(function*(w,p){return Ae(w,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Rn(){return(Rn=(0,d.Z)(function*(w,p){return Ae(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Wn(){return(Wn=(0,d.Z)(function*(w,p){return Ae(w,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Vn(w){if(w)try{const p=new Date(Number(w));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function zr(){return(zr=(0,d.Z)(function*(w,p=!1){const m=(0,U.m9)(w),E=yield m.getIdToken(p),T=Ct(E);k(T&&T.exp&&T.auth_time&&T.iat,m.auth,"internal-error");const O="object"==typeof T.firebase?T.firebase:void 0,Q=O?.sign_in_provider;return{claims:T,token:E,authTime:Vn(wt(T.auth_time)),issuedAtTime:Vn(wt(T.iat)),expirationTime:Vn(wt(T.exp)),signInProvider:Q||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function wt(w){return 1e3*Number(w)}function Ct(w){const[p,m,E]=w.split(".");if(void 0===p||void 0===m||void 0===E)return ft("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,U.tV)(m);return T?JSON.parse(T):(ft("Failed to decode base64 JWT payload"),null)}catch(T){return ft("Caught error parsing JWT payload as JSON",T?.toString()),null}}function Rt(w,p){return mr.apply(this,arguments)}function mr(){return(mr=(0,d.Z)(function*(w,p,m=!1){if(m)return p;try{return yield p}catch(E){throw E instanceof U.ZR&&function fn({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(E)&&w.auth.currentUser===w&&(yield w.auth.signOut()),E}})).apply(this,arguments)}class Kt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const T=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,d.Z)(function*(){yield m.iteration()}),E)}iteration(){var p=this;return(0,d.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class pn{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vn(this.lastLoginAt),this.creationTime=Vn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Nr(w){return rn.apply(this,arguments)}function rn(){return rn=(0,d.Z)(function*(w){var p;const m=w.auth,E=yield w.getIdToken(),T=yield Rt(w,function ir(w,p){return Wn.apply(this,arguments)}(m,{idToken:E}));k(T?.users.length,m,"internal-error");const O=T.users[0];w._notifyReloadListener(O);const Q=null!==(p=O.providerUserInfo)&&void 0!==p&&p.length?function br(w){return w.map(p=>{var{providerId:m}=p,E=(0,Y._T)(p,["providerId"]);return{providerId:m,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(O.providerUserInfo):[],ge=function cn(w,p){return[...w.filter(E=>!p.some(T=>T.providerId===E.providerId)),...p]}(w.providerData,Q),Tt=!!w.isAnonymous&&!(w.email&&O.passwordHash||ge?.length),bn={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ge,metadata:new pn(O.createdAt,O.lastLoginAt),isAnonymous:Tt};Object.assign(w,bn)}),rn.apply(this,arguments)}function Xt(){return(Xt=(0,d.Z)(function*(w){const p=(0,U.m9)(w);yield Nr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function lr(){return(lr=(0,d.Z)(function*(w,p){const m=yield tt(w,{},(0,d.Z)(function*(){const E=(0,U.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:T,apiKey:O}=w.config,Q=nn(w,T,"/v1/token",`key=${O}`),ge=yield w._getAdditionalHeaders();return ge["Content-Type"]="application/x-www-form-urlencoded",ae.fetch()(Q,{method:"POST",headers:ge,body:E})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Un{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){k(p.idToken,"internal-error"),k(typeof p.idToken<"u","internal-error"),k(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Nt(w){const p=Ct(w);return k(p,"internal-error"),k(typeof p.exp<"u","internal-error"),k(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var E=this;return(0,d.Z)(function*(){return k(!E.accessToken||E.refreshToken,p,"user-token-expired"),m||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var E=this;return(0,d.Z)(function*(){const{accessToken:T,refreshToken:O,expiresIn:Q}=yield function sr(w,p){return lr.apply(this,arguments)}(p,m);E.updateTokensAndExpiration(T,O,Number(Q))})()}updateTokensAndExpiration(p,m,E){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,m){const{refreshToken:E,accessToken:T,expirationTime:O}=m,Q=new Un;return E&&(k("string"==typeof E,"internal-error",{appName:p}),Q.refreshToken=E),T&&(k("string"==typeof T,"internal-error",{appName:p}),Q.accessToken=T),O&&(k("number"==typeof O,"internal-error",{appName:p}),Q.expirationTime=O),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Un,this.toJSON())}_performRefresh(){return te("not implemented")}}function me(w,p){k("string"==typeof w||typeof w>"u","internal-error",{appName:p})}class Z{constructor(p){var{uid:m,auth:E,stsTokenManager:T}=p,O=(0,Y._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=E,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new pn(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,d.Z)(function*(){const E=yield Rt(m,m.stsTokenManager.getToken(m.auth,p));return k(E,m.auth,"internal-error"),m.accessToken!==E&&(m.accessToken=E,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),E})()}getIdTokenResult(p){return function er(w){return zr.apply(this,arguments)}(this,p)}reload(){return function pi(w){return Xt.apply(this,arguments)}(this)}_assign(p){this!==p&&(k(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new Z(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var E=this;return(0,d.Z)(function*(){let T=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),T=!0),m&&(yield Nr(E)),yield E.auth._persistUserIfCurrent(E),T&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,d.Z)(function*(){const m=yield p.getIdToken();return yield Rt(p,function jn(w,p){return Ln.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var E,T,O,Q,ge,Je,rt,Tt;const bn=null!==(E=m.displayName)&&void 0!==E?E:void 0,yi=null!==(T=m.email)&&void 0!==T?T:void 0,hs=null!==(O=m.phoneNumber)&&void 0!==O?O:void 0,oo=null!==(Q=m.photoURL)&&void 0!==Q?Q:void 0,ig=null!==(ge=m.tenantId)&&void 0!==ge?ge:void 0,ac=null!==(Je=m._redirectEventId)&&void 0!==Je?Je:void 0,wa=null!==(rt=m.createdAt)&&void 0!==rt?rt:void 0,Ea=null!==(Tt=m.lastLoginAt)&&void 0!==Tt?Tt:void 0,{uid:Sl,emailVerified:uc,isAnonymous:fs,providerData:cu,stsTokenManager:ao}=m;k(Sl&&ao,p,"internal-error");const cc=Un.fromJSON(this.name,ao);k("string"==typeof Sl,p,"internal-error"),me(bn,p.name),me(yi,p.name),k("boolean"==typeof uc,p,"internal-error"),k("boolean"==typeof fs,p,"internal-error"),me(hs,p.name),me(oo,p.name),me(ig,p.name),me(ac,p.name),me(wa,p.name),me(Ea,p.name);const jo=new Z({uid:Sl,auth:p,email:yi,emailVerified:uc,displayName:bn,isAnonymous:fs,photoURL:oo,phoneNumber:hs,tenantId:ig,stsTokenManager:cc,createdAt:wa,lastLoginAt:Ea});return cu&&Array.isArray(cu)&&(jo.providerData=cu.map(Ml=>Object.assign({},Ml))),ac&&(jo._redirectEventId=ac),jo}static _fromIdTokenResponse(p,m,E=!1){return(0,d.Z)(function*(){const T=new Un;T.updateFromServerResponse(m);const O=new Z({uid:m.localId,auth:p,stsTokenManager:T,isAnonymous:E});return yield Nr(O),O})()}}const Ee=new Map;function He(w){be(w instanceof Function,"Expected a class definition");let p=Ee.get(w);return p?(be(p instanceof w,"Instance stored in cache mismatched with class"),p):(p=new w,Ee.set(w,p),p)}const Et=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(m,E){var T=this;return(0,d.Z)(function*(){T.storage[m]=E})()}_get(m){var E=this;return(0,d.Z)(function*(){const T=E.storage[m];return void 0===T?null:T})()}_remove(m){var E=this;return(0,d.Z)(function*(){delete E.storage[m]})()}_addListener(m,E){}_removeListener(m,E){}}return w.type="NONE",w})();function gn(w,p,m){return`firebase:${w}:${p}:${m}`}class G{constructor(p,m,E){this.persistence=p,this.auth=m,this.userKey=E;const{config:T,name:O}=this.auth;this.fullUserKey=gn(this.userKey,T.apiKey,O),this.fullPersistenceKey=gn("persistence",T.apiKey,O),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Z._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,d.Z)(function*(){if(m.persistence===p)return;const E=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,E?m.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,E="authUser"){return(0,d.Z)(function*(){if(!m.length)return new G(He(Et),p,E);const T=(yield Promise.all(m.map(function(){var rt=(0,d.Z)(function*(Tt){if(yield Tt._isAvailable())return Tt});return function(Tt){return rt.apply(this,arguments)}}()))).filter(rt=>rt);let O=T[0]||He(Et);const Q=gn(E,p.config.apiKey,p.name);let ge=null;for(const rt of m)try{const Tt=yield rt._get(Q);if(Tt){const bn=Z._fromJSON(p,Tt);rt!==O&&(ge=bn),O=rt;break}}catch{}const Je=T.filter(rt=>rt._shouldAllowMigration);return O._shouldAllowMigration&&Je.length?(O=Je[0],ge&&(yield O._set(Q,ge.toJSON())),yield Promise.all(m.map(function(){var rt=(0,d.Z)(function*(Tt){if(Tt!==O)try{yield Tt._remove(Q)}catch{}});return function(Tt){return rt.apply(this,arguments)}}())),new G(O,p,E)):new G(O,p,E)})()}}function H(w){const p=w.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(X(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(P(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Qe(p))return"Blackberry";if(xt(p))return"Webos";if(R(p))return"Safari";if((p.includes("chrome/")||M(p))&&!p.includes("edge/"))return"Chrome";if(Ne(p))return"Android";{const E=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function P(w=(0,U.z$)()){return/firefox\//i.test(w)}function R(w=(0,U.z$)()){const p=w.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function M(w=(0,U.z$)()){return/crios\//i.test(w)}function X(w=(0,U.z$)()){return/iemobile/i.test(w)}function Ne(w=(0,U.z$)()){return/android/i.test(w)}function Qe(w=(0,U.z$)()){return/blackberry/i.test(w)}function xt(w=(0,U.z$)()){return/webos/i.test(w)}function ot(w=(0,U.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function mn(w=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function Yt(w=(0,U.z$)()){return ot(w)||Ne(w)||xt(w)||Qe(w)||/windows phone/i.test(w)||X(w)}function K(w,p=[]){let m;switch(w){case"Browser":m=H((0,U.z$)());break;case"Worker":m=`${H((0,U.z$)())}-${w}`;break;default:m=w}const E=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${N.SDK_VERSION}/${E}`}function nt(){return(nt=(0,d.Z)(function*(w){return(yield Ae(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function at(w,p){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,d.Z)(function*(w,p){return Ae(w,"GET","/v2/recaptchaConfig",oe(w,p))})).apply(this,arguments)}function lt(w){return void 0!==w&&void 0!==w.getResponse}function Tn(w){return void 0!==w&&void 0!==w.enterprise}class ni{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function Ki(w){return new Promise((p,m)=>{const E=document.createElement("script");E.setAttribute("src",w),E.onload=p,E.onerror=T=>{const O=Te("internal-error");O.customData=T,m(O)},E.type="text/javascript",E.charset="UTF-8",function ri(){var w,p;return null!==(p=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==p?p:document}().appendChild(E)})}function Rr(w){return`__${w}${Math.floor(1e6*Math.random())}`}class ii{constructor(p){this.type="recaptcha-enterprise",this.auth=Jn(p)}verify(p="verify",m=!1){var E=this;return(0,d.Z)(function*(){function O(){return O=(0,d.Z)(function*(ge){if(!m){if(null==ge.tenantId&&null!=ge._agentRecaptchaConfig)return ge._agentRecaptchaConfig.siteKey;if(null!=ge.tenantId&&void 0!==ge._tenantRecaptchaConfigs[ge.tenantId])return ge._tenantRecaptchaConfigs[ge.tenantId].siteKey}return new Promise(function(){var Je=(0,d.Z)(function*(rt,Tt){at(ge,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(bn=>{if(void 0!==bn.recaptchaKey){const yi=new ni(bn);return null==ge.tenantId?ge._agentRecaptchaConfig=yi:ge._tenantRecaptchaConfigs[ge.tenantId]=yi,rt(yi.siteKey)}Tt(new Error("recaptcha Enterprise site key undefined"))}).catch(bn=>{Tt(bn)})});return function(rt,Tt){return Je.apply(this,arguments)}}())}),O.apply(this,arguments)}function Q(ge,Je,rt){const Tt=window.grecaptcha;Tn(Tt)?Tt.enterprise.ready(()=>{Tt.enterprise.execute(ge,{action:p}).then(bn=>{Je(bn)}).catch(()=>{Je("NO_RECAPTCHA")})}):rt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ge,Je)=>{(function T(ge){return O.apply(this,arguments)})(E.auth).then(rt=>{if(!m&&Tn(window.grecaptcha))Q(rt,ge,Je);else{if(typeof window>"u")return void Je(new Error("RecaptchaVerifier is only supported in browser"));Ki("https://www.google.com/recaptcha/enterprise.js?render="+rt).then(()=>{Q(rt,ge,Je)}).catch(Tt=>{Je(Tt)})}}).catch(rt=>{Je(rt)})})})()}}function gi(w,p,m){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,d.Z)(function*(w,p,m,E=!1){const T=new ii(w);let O;try{O=yield T.verify(m)}catch{O=yield T.verify(m,!0)}const Q=Object.assign({},p);return Object.assign(Q,E?{captchaResp:O}:{captchaResponse:O}),Object.assign(Q,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Q,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Q})).apply(this,arguments)}class _s{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const E=O=>new Promise((Q,ge)=>{try{Q(p(O))}catch(Je){ge(Je)}});E.onAbort=m,this.queue.push(E);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,d.Z)(function*(){if(m.auth.currentUser===p)return;const E=[];try{for(const T of m.queue)yield T(p),T.onAbort&&E.push(T.onAbort)}catch(T){E.reverse();for(const O of E)try{O()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}class ws{constructor(p,m,E,T){this.app=p,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=E,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yi(this),this.idTokenSubscription=new Yi(this),this.beforeStateQueue=new _s(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ke,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(p,m){var E=this;return m&&(this._popupRedirectResolver=He(m)),this._initializationPromise=this.queue((0,d.Z)(function*(){var T,O;if(!E._deleted&&(E.persistenceManager=yield G.create(E,p),!E._deleted)){if(null!==(T=E._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(m),E.lastNotifiedUid=(null===(O=E.currentUser)||void 0===O?void 0:O.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,d.Z)(function*(){var E;const T=yield m.assertedPersistence.getCurrentUser();let O=T,Q=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ge=null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId,Je=O?._redirectEventId,rt=yield m.tryRedirectSignIn(p);(!ge||ge===Je)&&rt?.user&&(O=rt.user,Q=!0)}if(!O)return m.directlySetCurrentUser(null);if(!O._redirectEventId){if(Q)try{yield m.beforeStateQueue.runMiddleware(O)}catch(ge){O=T,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ge))}return O?m.reloadAndSetCurrentUserOrClear(O):m.directlySetCurrentUser(null)}return k(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===O._redirectEventId?m.directlySetCurrentUser(O):m.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(p){var m=this;return(0,d.Z)(function*(){let E=null;try{E=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,d.Z)(function*(){try{yield Nr(p)}catch(E){if("auth/network-request-failed"!==E?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function dn(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var p=this;return(0,d.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,d.Z)(function*(){const E=p?(0,U.m9)(p):null;return E&&k(E.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(E&&E._clone(m))})()}_updateCurrentUser(p,m=!1){var E=this;return(0,d.Z)(function*(){if(!E._deleted)return p&&k(E.tenantId===p.tenantId,E,"tenant-id-mismatch"),m||(yield E.beforeStateQueue.runMiddleware(p)),E.queue((0,d.Z)(function*(){yield E.directlySetCurrentUser(p),E.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,d.Z)(function*(){yield m.assertedPersistence.setPersistence(He(p))}))}initializeRecaptchaConfig(){var p=this;return(0,d.Z)(function*(){const m=yield at(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new ni(m);null==p.tenantId?p._agentRecaptchaConfig=E:p._tenantRecaptchaConfigs[p.tenantId]=E,E.emailPasswordEnabled&&new ii(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new U.LL("auth","Firebase",p())}onAuthStateChanged(p,m,E){return this.registerStateListener(this.authStateSubscription,p,m,E)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,E){return this.registerStateListener(this.idTokenSubscription,p,m,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var E=this;return(0,d.Z)(function*(){const T=yield E.getOrInitRedirectPersistenceManager(m);return null===p?T.removeCurrentUser():T.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,d.Z)(function*(){if(!m.redirectPersistenceManager){const E=p&&He(p)||m._popupRedirectResolver;k(E,m,"argument-error"),m.redirectPersistenceManager=yield G.create(m,[He(E._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,d.Z)(function*(){var E,T;return m._isInitialized&&(yield m.queue((0,d.Z)(function*(){}))),(null===(E=m._currentUser)||void 0===E?void 0:E._redirectEventId)===p?m._currentUser:(null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,d.Z)(function*(){if(p===m.currentUser)return m.queue((0,d.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,E,T){if(this._deleted)return()=>{};const O="function"==typeof m?m:m.next.bind(m),Q=this._isInitialized?Promise.resolve():this._initializationPromise;return k(Q,this,"internal-error"),Q.then(()=>O(this.currentUser)),"function"==typeof m?p.addObserver(m,E,T):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,d.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=K(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,d.Z)(function*(){var m;const E={"X-Client-Version":p.clientVersion};p.app.options.appId&&(E["X-Firebase-gmpid"]=p.app.options.appId);const T=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();T&&(E["X-Firebase-Client"]=T);const O=yield p._getAppCheckToken();return O&&(E["X-Firebase-AppCheck"]=O),E})()}_getAppCheckToken(){var p=this;return(0,d.Z)(function*(){var m;const E=yield null===(m=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return E?.error&&function ht(w,...p){Se.logLevel<=se.in.WARN&&Se.warn(`Auth (${N.SDK_VERSION}): ${w}`,...p)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function Jn(w){return(0,U.m9)(w)}class Yi{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,U.ne)(m=>this.observer=m)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Co(w,p,m){const E=Jn(w);k(E._canInitEmulator,E,"emulator-config-failed"),k(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const T=!!m?.disableWarnings,O=qr(p),{host:Q,port:ge}=function Ba(w){const p=qr(w),m=/(\/\/)?([^?#/]+)/.exec(w.substr(p.length));if(!m)return{host:"",port:null};const E=m[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(E);if(T){const O=T[1];return{host:O,port:ca(E.substr(O.length+1))}}{const[O,Q]=E.split(":");return{host:O,port:ca(Q)}}}(p);E.config.emulator={url:`${O}//${Q}${null===ge?"":`:${ge}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:Q,port:ge,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function qu(){function w(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function qr(w){const p=w.indexOf(":");return p<0?"":w.substr(0,p+1)}function ca(w){if(!w)return null;const p=Number(w);return isNaN(p)?null:p}class ${constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return te("not implemented")}_getIdTokenResponse(p){return te("not implemented")}_linkToIdToken(p,m){return te("not implemented")}_getReauthenticationResolver(p){return te("not implemented")}}function re(w,p){return xe.apply(this,arguments)}function xe(){return(xe=(0,d.Z)(function*(w,p){return Ae(w,"POST","/v1/accounts:resetPassword",oe(w,p))})).apply(this,arguments)}function gt(w,p){return En.apply(this,arguments)}function En(){return(En=(0,d.Z)(function*(w,p){return Ae(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function en(){return(en=(0,d.Z)(function*(w,p){return Ae(w,"POST","/v1/accounts:update",oe(w,p))})).apply(this,arguments)}function tr(w,p){return dr.apply(this,arguments)}function dr(){return(dr=(0,d.Z)(function*(w,p){return Wt(w,"POST","/v1/accounts:signInWithPassword",oe(w,p))})).apply(this,arguments)}function kr(w,p){return us.apply(this,arguments)}function us(){return(us=(0,d.Z)(function*(w,p){return Ae(w,"POST","/v1/accounts:sendOobCode",oe(w,p))})).apply(this,arguments)}function Zu(){return(Zu=(0,d.Z)(function*(w,p){return kr(w,p)})).apply(this,arguments)}function ja(w,p){return $a.apply(this,arguments)}function $a(){return($a=(0,d.Z)(function*(w,p){return kr(w,p)})).apply(this,arguments)}function Ha(w,p){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,d.Z)(function*(w,p){return kr(w,p)})).apply(this,arguments)}function Zr(){return(Zr=(0,d.Z)(function*(w,p){return kr(w,p)})).apply(this,arguments)}function si(){return(si=(0,d.Z)(function*(w,p){return Wt(w,"POST","/v1/accounts:signInWithEmailLink",oe(w,p))})).apply(this,arguments)}function Ga(){return(Ga=(0,d.Z)(function*(w,p){return Wt(w,"POST","/v1/accounts:signInWithEmailLink",oe(w,p))})).apply(this,arguments)}class Us extends ${constructor(p,m,E,T=null){super("password",E),this._email=p,this._password=m,this._tenantId=T}static _fromEmailAndPassword(p,m){return new Us(p,m,"password")}static _fromEmailAndCode(p,m,E=null){return new Us(p,m,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,d.Z)(function*(){var E;switch(m.signInMethod){case"password":const T={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=p._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const O=yield gi(p,T,"signInWithPassword");return tr(p,O)}return tr(p,T).catch(function(){var O=(0,d.Z)(function*(Q){if("auth/missing-recaptcha-token"===Q.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ge=yield gi(p,T,"signInWithPassword");return tr(p,ge)}return Promise.reject(Q)});return function(Q){return O.apply(this,arguments)}}());case"emailLink":return function bo(w,p){return si.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:ee(p,"internal-error")}})()}_linkToIdToken(p,m){var E=this;return(0,d.Z)(function*(){switch(E.signInMethod){case"password":return gt(p,{idToken:m,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Xc(w,p){return Ga.apply(this,arguments)}(p,{idToken:m,email:E._email,oobCode:E._password});default:ee(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Qi(w,p){return da.apply(this,arguments)}function da(){return(da=(0,d.Z)(function*(w,p){return Wt(w,"POST","/v1/accounts:signInWithIdp",oe(w,p))})).apply(this,arguments)}class Xe extends ${constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Xe(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):ee("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:T}=m,O=(0,Y._T)(m,["providerId","signInMethod"]);if(!E||!T)return null;const Q=new Xe(E,T);return Q.idToken=O.idToken||void 0,Q.accessToken=O.accessToken||void 0,Q.secret=O.secret,Q.nonce=O.nonce,Q.pendingToken=O.pendingToken||null,Q}_getIdTokenResponse(p){return Qi(p,this.buildRequest())}_linkToIdToken(p,m){const E=this.buildRequest();return E.idToken=m,Qi(p,E)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Qi(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,U.xO)(m)}return p}}function Bn(){return(Bn=(0,d.Z)(function*(w,p){return Ae(w,"POST","/v1/accounts:sendVerificationCode",oe(w,p))})).apply(this,arguments)}function Bs(){return(Bs=(0,d.Z)(function*(w,p){return Wt(w,"POST","/v1/accounts:signInWithPhoneNumber",oe(w,p))})).apply(this,arguments)}function Do(){return(Do=(0,d.Z)(function*(w,p){const m=yield Wt(w,"POST","/v1/accounts:signInWithPhoneNumber",oe(w,p));if(m.temporaryProof)throw hn(w,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const hr={USER_NOT_FOUND:"user-not-found"};function Ei(){return(Ei=(0,d.Z)(function*(w,p){return Wt(w,"POST","/v1/accounts:signInWithPhoneNumber",oe(w,Object.assign(Object.assign({},p),{operation:"REAUTH"})),hr)})).apply(this,arguments)}class kt extends ${constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new kt({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new kt({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function oi(w,p){return Bs.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Wr(w,p){return Do.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Es(w,p){return Ei.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:E,verificationCode:T}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:E,code:T}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:E,phoneNumber:T,temporaryProof:O}=p;return E||m||T||O?new kt({verificationId:m,verificationCode:E,phoneNumber:T,temporaryProof:O}):null}}class Dr{constructor(p){var m,E,T,O,Q,ge;const Je=(0,U.zd)((0,U.pd)(p)),rt=null!==(m=Je.apiKey)&&void 0!==m?m:null,Tt=null!==(E=Je.oobCode)&&void 0!==E?E:null,bn=function ha(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Je.mode)&&void 0!==T?T:null);k(rt&&Tt&&bn,"argument-error"),this.apiKey=rt,this.operation=bn,this.code=Tt,this.continueUrl=null!==(O=Je.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(Q=Je.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(ge=Je.tenantId)&&void 0!==ge?ge:null}static parseLink(p){const m=function nh(w){const p=(0,U.zd)((0,U.pd)(w)).link,m=p?(0,U.zd)((0,U.pd)(p)).deep_link_id:null,E=(0,U.zd)((0,U.pd)(w)).deep_link_id;return(E?(0,U.zd)((0,U.pd)(E)).link:null)||E||m||p||w}(p);try{return new Dr(m)}catch{return null}}}let Bi=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(m,E){return Us._fromEmailAndPassword(m,E)}static credentialWithLink(m,E){const T=Dr.parseLink(E);return k(T,"argument-error"),Us._fromEmailAndCode(m,T.code,T.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class ji{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class mi extends ji{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class cs extends mi{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return k("providerId"in m&&"signInMethod"in m,"argument-error"),Xe._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return k(p.idToken||p.accessToken,"argument-error"),Xe._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return cs.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return cs.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:E,oauthTokenSecret:T,pendingToken:O,nonce:Q,providerId:ge}=p;if(!E&&!T&&!m&&!O||!ge)return null;try{return new cs(ge)._credential({idToken:m,accessToken:E,nonce:Q,pendingToken:O})}catch{return null}}}let el=(()=>{class w extends mi{constructor(){super("facebook.com")}static credential(m){return Xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return w.credential(m.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Ys=(()=>{class w extends mi{constructor(){super("google.com"),this.addScope("profile")}static credential(m,E){return Xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:E})}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:T}=m;if(!E&&!T)return null;try{return w.credential(E,T)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Is=(()=>{class w extends mi{constructor(){super("github.com")}static credential(m){return Xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return w.credential(m.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class F extends ${constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Qi(p,this.buildRequest())}_linkToIdToken(p,m){const E=this.buildRequest();return E.idToken=m,Qi(p,E)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Qi(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:T,pendingToken:O}=m;return E&&T&&O&&E===T?new F(E,O):null}static _create(p,m){return new F(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class pe extends ji{constructor(p){k(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return pe.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return pe.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=F.fromJSON(p);return k(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:E}=p;if(!m||!E)return null;try{return F._create(E,m)}catch{return null}}}let Pe=(()=>{class w extends mi{constructor(){super("twitter.com")}static credential(m,E){return Xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:E})}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:E,oauthTokenSecret:T}=m;if(!E||!T)return null;try{return w.credential(E,T)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Ze(w,p){return et.apply(this,arguments)}function et(){return(et=(0,d.Z)(function*(w,p){return Wt(w,"POST","/v1/accounts:signUp",oe(w,p))})).apply(this,arguments)}class bt{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,E,T=!1){return(0,d.Z)(function*(){const O=yield Z._fromIdTokenResponse(p,E,T),Q=Ft(E);return new bt({user:O,providerId:Q,_tokenResponse:E,operationType:m})})()}static _forOperation(p,m,E){return(0,d.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const T=Ft(E);return new bt({user:p,providerId:T,_tokenResponse:E,operationType:m})})()}}function Ft(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Zt(w){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,d.Z)(function*(w){var p;const m=Jn(w);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new bt({user:m.currentUser,providerId:null,operationType:"signIn"});const E=yield Ze(m,{returnSecureToken:!0}),T=yield bt._fromIdTokenResponse(m,"signIn",E,!0);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class Br extends U.ZR{constructor(p,m,E,T){var O;super(m.code,m.message),this.operationType=E,this.user=T,Object.setPrototypeOf(this,Br.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:m.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,m,E,T){return new Br(p,m,E,T)}}function Yn(w,p,m,E){return("reauthenticate"===p?m._getReauthenticationResolver(w):m._getIdTokenResponse(w)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Br._fromErrorAndOperation(w,O,p,E):O})}function Mn(w){return new Set(w.map(({providerId:p})=>p).filter(p=>!!p))}function To(w,p){return Ji.apply(this,arguments)}function Ji(){return Ji=(0,d.Z)(function*(w,p){const m=(0,U.m9)(w);yield Ii(!0,m,p);const{providerUserInfo:E}=yield function _n(w,p){return Rn.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),T=Mn(E||[]);return m.providerData=m.providerData.filter(O=>T.has(O.providerId)),T.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),Ji.apply(this,arguments)}function Cs(w,p){return or.apply(this,arguments)}function or(){return(or=(0,d.Z)(function*(w,p,m=!1){const E=yield Rt(w,p._linkToIdToken(w.auth,yield w.getIdToken()),m);return bt._forOperation(w,"link",E)})).apply(this,arguments)}function Ii(w,p,m){return za.apply(this,arguments)}function za(){return(za=(0,d.Z)(function*(w,p,m){yield Nr(p);const T=!1===w?"provider-already-linked":"no-such-provider";k(Mn(p.providerData).has(m)===w,p.auth,T)})).apply(this,arguments)}function Cp(w,p){return Ry.apply(this,arguments)}function Ry(){return(Ry=(0,d.Z)(function*(w,p,m=!1){const{auth:E}=w,T="reauthenticate";try{const O=yield Rt(w,Yn(E,T,p,w),m);k(O.idToken,E,"internal-error");const Q=Ct(O.idToken);k(Q,E,"internal-error");const{sub:ge}=Q;return k(w.uid===ge,E,"user-mismatch"),bt._forOperation(w,T,O)}catch(O){throw"auth/user-not-found"===O?.code&&ee(E,"user-mismatch"),O}})).apply(this,arguments)}function ky(w,p){return rh.apply(this,arguments)}function rh(){return(rh=(0,d.Z)(function*(w,p,m=!1){const E="signIn",T=yield Yn(w,E,p),O=yield bt._fromIdTokenResponse(w,E,T);return m||(yield w._updateCurrentUser(O.user)),O})).apply(this,arguments)}function ih(w,p){return bp.apply(this,arguments)}function bp(){return(bp=(0,d.Z)(function*(w,p){return ky(Jn(w),p)})).apply(this,arguments)}function pE(w,p){return Fy.apply(this,arguments)}function Fy(){return(Fy=(0,d.Z)(function*(w,p){const m=(0,U.m9)(w);return yield Ii(!1,m,p.providerId),Cs(m,p)})).apply(this,arguments)}function vr(w,p){return Ly.apply(this,arguments)}function Ly(){return(Ly=(0,d.Z)(function*(w,p){return Cp((0,U.m9)(w),p)})).apply(this,arguments)}function Vy(){return(Vy=(0,d.Z)(function*(w,p){return Wt(w,"POST","/v1/accounts:signInWithCustomToken",oe(w,p))})).apply(this,arguments)}function wT(w,p){return Uy.apply(this,arguments)}function Uy(){return Uy=(0,d.Z)(function*(w,p){const m=Jn(w),E=yield function _T(w,p){return Vy.apply(this,arguments)}(m,{token:p,returnSecureToken:!0}),T=yield bt._fromIdTokenResponse(m,"signIn",E);return yield m._updateCurrentUser(T.user),T}),Uy.apply(this,arguments)}class sh{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?By._fromServerResponse(p,m):"totpInfo"in m?tl._fromServerResponse(p,m):ee(p,"internal-error")}}class By extends sh{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new By(m)}}class tl extends sh{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new tl(m)}}function qa(w,p,m){var E;k((null===(E=m.url)||void 0===E?void 0:E.length)>0,w,"invalid-continue-uri"),k(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(k(m.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(k(m.android.packageName.length>0,w,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function ET(w,p,m){return jy.apply(this,arguments)}function jy(){return jy=(0,d.Z)(function*(w,p,m){var E;const T=Jn(w),O={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=T._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const Q=yield gi(T,O,"getOobCode",!0);m&&qa(T,Q,m),yield ja(T,Q)}else m&&qa(T,O,m),yield ja(T,O).catch(function(){var Q=(0,d.Z)(function*(ge){if("auth/missing-recaptcha-token"!==ge.code)return Promise.reject(ge);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Je=yield gi(T,O,"getOobCode",!0);m&&qa(T,Je,m),yield ja(T,Je)}});return function(ge){return Q.apply(this,arguments)}}())}),jy.apply(this,arguments)}function $y(w,p,m){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,d.Z)(function*(w,p,m){yield re((0,U.m9)(w),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Ao(w,p){return nl.apply(this,arguments)}function nl(){return nl=(0,d.Z)(function*(w,p){yield function In(w,p){return en.apply(this,arguments)}((0,U.m9)(w),{oobCode:p})}),nl.apply(this,arguments)}function Wu(w,p){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,d.Z)(function*(w,p){const m=(0,U.m9)(w),E=yield re(m,{oobCode:p}),T=E.requestType;switch(k(T,m,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":k(E.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":k(E.mfaInfo,m,"internal-error");default:k(E.email,m,"internal-error")}let O=null;return E.mfaInfo&&(O=sh._fromServerResponse(Jn(m),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:O},operation:T}})).apply(this,arguments)}function oh(w,p){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,d.Z)(function*(w,p){const{data:m}=yield Wu((0,U.m9)(w),p);return m.email})).apply(this,arguments)}function ah(w,p,m){return uh.apply(this,arguments)}function uh(){return uh=(0,d.Z)(function*(w,p,m){var E;const T=Jn(w),O={returnSecureToken:!0,email:p,password:m,clientType:"CLIENT_TYPE_WEB"};let Q;if(null!==(E=T._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const rt=yield gi(T,O,"signUpPassword");Q=Ze(T,rt)}else Q=Ze(T,O).catch(function(){var rt=(0,d.Z)(function*(Tt){if("auth/missing-recaptcha-token"===Tt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const bn=yield gi(T,O,"signUpPassword");return Ze(T,bn)}return Promise.reject(Tt)});return function(Tt){return rt.apply(this,arguments)}}());const ge=yield Q.catch(rt=>Promise.reject(rt)),Je=yield bt._fromIdTokenResponse(T,"signIn",ge);return yield T._updateCurrentUser(Je.user),Je}),uh.apply(this,arguments)}function Hy(w,p,m){return ih((0,U.m9)(w),Bi.credential(p,m))}function Dp(w,p,m){return Za.apply(this,arguments)}function Za(){return Za=(0,d.Z)(function*(w,p,m){var E;const T=Jn(w),O={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function Q(ge,Je){k(Je.handleCodeInApp,T,"argument-error"),Je&&qa(T,ge,Je)}if(null!==(E=T._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const ge=yield gi(T,O,"getOobCode",!0);Q(ge,m),yield Ha(T,ge)}else Q(O,m),yield Ha(T,O).catch(function(){var ge=(0,d.Z)(function*(Je){if("auth/missing-recaptcha-token"!==Je.code)return Promise.reject(Je);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const rt=yield gi(T,O,"getOobCode",!0);Q(rt,m),yield Ha(T,rt)}});return function(Je){return ge.apply(this,arguments)}}())}),Za.apply(this,arguments)}function Gy(w,p){const m=Dr.parseLink(p);return"EMAIL_SIGNIN"===m?.operation}function Tp(w,p,m){return rl.apply(this,arguments)}function rl(){return(rl=(0,d.Z)(function*(w,p,m){const E=(0,U.m9)(w),T=Bi.credentialWithLink(p,m||st());return k(T._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),ih(E,T)})).apply(this,arguments)}function ch(){return(ch=(0,d.Z)(function*(w,p){return Ae(w,"POST","/v1/accounts:createAuthUri",oe(w,p))})).apply(this,arguments)}function qy(w,p){return Ku.apply(this,arguments)}function Ku(){return Ku=(0,d.Z)(function*(w,p){const E={identifier:p,continueUri:Lt()?st():"http://localhost"},{signinMethods:T}=yield function zy(w,p){return ch.apply(this,arguments)}((0,U.m9)(w),E);return T||[]}),Ku.apply(this,arguments)}function il(w,p){return So.apply(this,arguments)}function So(){return So=(0,d.Z)(function*(w,p){const m=(0,U.m9)(w),T={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};p&&qa(m.auth,T,p);const{email:O}=yield function la(w,p){return Zu.apply(this,arguments)}(m.auth,T);O!==w.email&&(yield w.reload())}),So.apply(this,arguments)}function Zy(w,p,m){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,d.Z)(function*(w,p,m){const E=(0,U.m9)(w),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:p};m&&qa(E.auth,O,m);const{email:Q}=yield function Ur(w,p){return Zr.apply(this,arguments)}(E.auth,O);Q!==w.email&&(yield w.reload())}),Ap.apply(this,arguments)}function Wy(){return(Wy=(0,d.Z)(function*(w,p){return Ae(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function mE(w,p){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,d.Z)(function*(w,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const E=(0,U.m9)(w),O={idToken:yield E.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},Q=yield Rt(E,function gE(w,p){return Wy.apply(this,arguments)}(E.auth,O));E.displayName=Q.displayName||null,E.photoURL=Q.photoUrl||null;const ge=E.providerData.find(({providerId:Je})=>"password"===Je);ge&&(ge.displayName=E.displayName,ge.photoURL=E.photoURL),yield E._updateTokensIfNecessary(Q)}),Sp.apply(this,arguments)}function IT(w,p){return lh((0,U.m9)(w),p,null)}function Ky(w,p){return lh((0,U.m9)(w),null,p)}function lh(w,p,m){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,d.Z)(function*(w,p,m){const{auth:E}=w,O={idToken:yield w.getIdToken(),returnSecureToken:!0};p&&(O.email=p),m&&(O.password=m);const Q=yield Rt(w,gt(E,O));yield w._updateTokensIfNecessary(Q,!0)})).apply(this,arguments)}class sl{constructor(p,m,E={}){this.isNewUser=p,this.providerId=m,this.profile=E}}class yE extends sl{constructor(p,m,E,T){super(p,m,E),this.username=T}}class ol extends sl{constructor(p,m){super(p,"facebook.com",m)}}class Yy extends yE{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Op extends sl{constructor(p,m){super(p,"google.com",m)}}class dh extends yE{constructor(p,m,E){super(p,"twitter.com",m,E)}}function Yu(w){const{user:p,_tokenResponse:m}=w;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function xp(w){var p,m;if(!w)return null;const{providerId:E}=w,T=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},O=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!E&&w?.idToken){const Q=null===(m=null===(p=Ct(w.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(Q)return new sl(O,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!E)return null;switch(E){case"facebook.com":return new ol(O,T);case"github.com":return new Yy(O,T);case"google.com":return new Op(O,T);case"twitter.com":return new dh(O,T,w.screenName||null);case"custom":case"anonymous":return new sl(O,null);default:return new sl(O,E,T)}}(m)}class Js{constructor(p,m,E){this.type=p,this.credential=m,this.auth=E}static _fromIdtoken(p,m){return new Js("enroll",p,m)}static _fromMfaPendingCredential(p){return new Js("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,E;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Js._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(E=p.multiFactorSession)&&void 0!==E&&E.idToken)return Js._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Wa{constructor(p,m,E){this.session=p,this.hints=m,this.signInResolver=E}static _fromError(p,m){const E=Jn(p),T=m.customData._serverResponse,O=(T.mfaInfo||[]).map(ge=>sh._fromServerResponse(E,ge));k(T.mfaPendingCredential,E,"internal-error");const Q=Js._fromMfaPendingCredential(T.mfaPendingCredential);return new Wa(Q,O,function(){var ge=(0,d.Z)(function*(Je){const rt=yield Je._process(E,Q);delete T.mfaInfo,delete T.mfaPendingCredential;const Tt=Object.assign(Object.assign({},T),{idToken:rt.idToken,refreshToken:rt.refreshToken});switch(m.operationType){case"signIn":const bn=yield bt._fromIdTokenResponse(E,m.operationType,Tt);return yield E._updateCurrentUser(bn.user),bn;case"reauthenticate":return k(m.user,E,"internal-error"),bt._forOperation(m.user,m.operationType,Tt);default:ee(E,"internal-error")}});return function(Je){return ge.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,d.Z)(function*(){return m.signInResolver(p)})()}}function gh(w,p){var m;const E=(0,U.m9)(w),T=p;return k(p.customData.operationType,E,"argument-error"),k(null===(m=T.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,E,"argument-error"),Wa._fromError(E,T)}class ul{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(E=>sh._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new ul(p)}getSession(){var p=this;return(0,d.Z)(function*(){return Js._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var E=this;return(0,d.Z)(function*(){const T=p,O=yield E.getSession(),Q=yield Rt(E.user,T._process(E.user.auth,O,m));return yield E.user._updateTokensIfNecessary(Q),E.user.reload()})()}unenroll(p){var m=this;return(0,d.Z)(function*(){const E="string"==typeof p?p:p.uid,T=yield m.user.getIdToken();try{const O=yield Rt(m.user,function Np(w,p){return Ae(w,"POST","/v2/accounts/mfaEnrollment:withdraw",oe(w,p))}(m.user.auth,{idToken:T,mfaEnrollmentId:E}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Q})=>Q!==E),yield m.user._updateTokensIfNecessary(O),yield m.user.reload()}catch(O){throw O}})()}}const $n=new WeakMap;function cl(w){const p=(0,U.m9)(w);return $n.has(p)||$n.set(p,ul._fromUser(p)),$n.get(p)}const Xs="__sak";class bi{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Xs,"1"),this.storage.removeItem(Xs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const vh=(()=>{class w extends bi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,E)=>this.onStorageEvent(m,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function EE(){const w=(0,U.z$)();return R(w)||ot(w)}()&&function yr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Yt(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const E of Object.keys(this.listeners)){const T=this.storage.getItem(E),O=this.localCache[E];T!==O&&m(E,O,T)}}onStorageEvent(m,E=!1){if(!m.key)return void this.forAllChangedKeys((ge,Je,rt)=>{this.notifyListeners(ge,rt)});const T=m.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ge=this.storage.getItem(T);if(m.newValue!==ge)null!==m.newValue?this.storage.setItem(T,m.newValue):this.storage.removeItem(T);else if(this.localCache[T]===m.newValue&&!E)return}const O=()=>{const ge=this.storage.getItem(T);!E&&this.localCache[T]===ge||this.notifyListeners(T,ge)},Q=this.storage.getItem(T);!function wn(){return(0,U.w1)()&&10===document.documentMode}()||Q===m.newValue||m.newValue===m.oldValue?O():setTimeout(O,10)}notifyListeners(m,E){this.localCache[m]=E;const T=this.listeners[m];if(T)for(const O of Array.from(T))O(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,E,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:E,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,E){var T=()=>super._set,O=this;return(0,d.Z)(function*(){yield T().call(O,m,E),O.localCache[m]=JSON.stringify(E)})()}_get(m){var E=()=>super._get,T=this;return(0,d.Z)(function*(){const O=yield E().call(T,m);return T.localCache[m]=JSON.stringify(O),O})()}_remove(m){var E=()=>super._remove,T=this;return(0,d.Z)(function*(){yield E().call(T,m),delete T.localCache[m]})()}}return w.type="LOCAL",w})(),ll=(()=>{class w extends bi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,E){}_removeListener(m,E){}}return w.type="SESSION",w})();let Rp=(()=>{class w{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const E=this.receivers.find(O=>O.isListeningto(m));if(E)return E;const T=new w(m);return this.receivers.push(T),T}isListeningto(m){return this.eventTarget===m}handleEvent(m){var E=this;return(0,d.Z)(function*(){const T=m,{eventId:O,eventType:Q,data:ge}=T.data,Je=E.handlersMap[Q];if(!Je?.size)return;T.ports[0].postMessage({status:"ack",eventId:O,eventType:Q});const rt=Array.from(Je).map(function(){var bn=(0,d.Z)(function*(yi){return yi(T.origin,ge)});return function(yi){return bn.apply(this,arguments)}}()),Tt=yield function Mo(w){return Promise.all(w.map(function(){var p=(0,d.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(E){return{fulfilled:!1,reason:E}}});return function(m){return p.apply(this,arguments)}}()))}(rt);T.ports[0].postMessage({status:"done",eventId:O,eventType:Q,response:Tt})})()}_subscribe(m,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(E)}_unsubscribe(m,E){this.handlersMap[m]&&E&&this.handlersMap[m].delete(E),(!E||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Qu(w="",p=10){let m="";for(let E=0;E<p;E++)m+=Math.floor(10*Math.random());return w+m}class tv{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,E=50){var T=this;return(0,d.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let Q,ge;return new Promise((Je,rt)=>{const Tt=Qu("",20);O.port1.start();const bn=setTimeout(()=>{rt(new Error("unsupported_event"))},E);ge={messageChannel:O,onMessage(yi){const hs=yi;if(hs.data.eventId===Tt)switch(hs.data.status){case"ack":clearTimeout(bn),Q=setTimeout(()=>{rt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),Je(hs.data.response);break;default:clearTimeout(bn),clearTimeout(Q),rt(new Error("invalid_response"))}}},T.handlers.add(ge),O.port1.addEventListener("message",ge.onMessage),T.target.postMessage({eventType:p,eventId:Tt,data:m},[O.port2])}).finally(()=>{ge&&T.removeMessageHandler(ge)})})()}}function Fr(){return window}function kp(){return typeof Fr().WorkerGlobalScope<"u"&&"function"==typeof Fr().importScripts}function dl(){return(dl=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Lp="firebaseLocalStorageDb",Ya="firebaseLocalStorage",xo="fbase_key";class Ju{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function wh(w,p){return w.transaction([Ya],p?"readwrite":"readonly").objectStore(Ya)}function Vp(){const w=indexedDB.open(Lp,1);return new Promise((p,m)=>{w.addEventListener("error",()=>{m(w.error)}),w.addEventListener("upgradeneeded",()=>{const E=w.result;try{E.createObjectStore(Ya,{keyPath:xo})}catch(T){m(T)}}),w.addEventListener("success",(0,d.Z)(function*(){const E=w.result;E.objectStoreNames.contains(Ya)?p(E):(E.close(),yield function rv(){const w=indexedDB.deleteDatabase(Lp);return new Ju(w).toPromise()}(),p(yield Vp()))}))})}function Up(w,p,m){return Le.apply(this,arguments)}function Le(){return(Le=(0,d.Z)(function*(w,p,m){const E=wh(w,!0).put({[xo]:p,value:m});return new Ju(E).toPromise()})).apply(this,arguments)}function bs(){return(bs=(0,d.Z)(function*(w,p){const m=wh(w,!1).get(p),E=yield new Ju(m).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Eh(w,p){const m=wh(w,!0).delete(p);return new Ju(m).toPromise()}const $s=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,d.Z)(function*(){return m.db||(m.db=yield Vp()),m.db})()}_withRetries(m){var E=this;return(0,d.Z)(function*(){let T=0;for(;;)try{const O=yield E._openDb();return yield m(O)}catch(O){if(T++>3)throw O;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,d.Z)(function*(){return kp()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,d.Z)(function*(){m.receiver=Rp._getInstance(function Fp(){return kp()?self:null}()),m.receiver._subscribe("keyChanged",function(){var E=(0,d.Z)(function*(T,O){return{keyProcessed:(yield m._poll()).includes(O.key)}});return function(T,O){return E.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var E=(0,d.Z)(function*(T,O){return["keyChanged"]});return function(T,O){return E.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,d.Z)(function*(){var E,T;if(m.activeServiceWorker=yield function zt(){return dl.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new tv(m.activeServiceWorker);const O=yield m.sender._send("ping",{},800);O&&null!==(E=O[0])&&void 0!==E&&E.fulfilled&&null!==(T=O[0])&&void 0!==T&&T.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var E=this;return(0,d.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function CE(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:m},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Vp();return yield Up(m,Xs,"1"),yield Eh(m,Xs),!0}catch{}return!1})()}_withPendingWrite(m){var E=this;return(0,d.Z)(function*(){E.pendingWrites++;try{yield m()}finally{E.pendingWrites--}})()}_set(m,E){var T=this;return(0,d.Z)(function*(){return T._withPendingWrite((0,d.Z)(function*(){return yield T._withRetries(O=>Up(O,m,E)),T.localCache[m]=E,T.notifyServiceWorker(m)}))})()}_get(m){var E=this;return(0,d.Z)(function*(){const T=yield E._withRetries(O=>function An(w,p){return bs.apply(this,arguments)}(O,m));return E.localCache[m]=T,T})()}_remove(m){var E=this;return(0,d.Z)(function*(){return E._withPendingWrite((0,d.Z)(function*(){return yield E._withRetries(T=>Eh(T,m)),delete E.localCache[m],E.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,d.Z)(function*(){const E=yield m._withRetries(Q=>{const ge=wh(Q,!1).getAll();return new Ju(ge).toPromise()});if(!E)return[];if(0!==m.pendingWrites)return[];const T=[],O=new Set;for(const{fbase_key:Q,value:ge}of E)O.add(Q),JSON.stringify(m.localCache[Q])!==JSON.stringify(ge)&&(m.notifyListeners(Q,ge),T.push(Q));for(const Q of Object.keys(m.localCache))m.localCache[Q]&&!O.has(Q)&&(m.notifyListeners(Q,null),T.push(Q));return T})()}notifyListeners(m,E){this.localCache[m]=E;const T=this.listeners[m];if(T)for(const O of Array.from(T))O(E)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),ui=1e12;class Oo{constructor(p){this.auth=p,this.counter=ui,this._widgets=new Map}render(p,m){const E=this.counter;return this._widgets.set(E,new ov(p,this.auth.name,m||{})),this.counter++,E}reset(p){var m;const E=p||ui;null===(m=this._widgets.get(E))||void 0===m||m.delete(),this._widgets.delete(E)}getResponse(p){var m;return(null===(m=this._widgets.get(p||ui))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,d.Z)(function*(){var E;return null===(E=m._widgets.get(p||ui))||void 0===E||E.execute(),""})()}}class ov{constructor(p,m,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof p?document.getElementById(p):p;k(T,"argument-error",{appName:m}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ec(w){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<w;E++)p.push(m.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Hs=Rr("rcb"),bE=new Jt(3e4,6e4);class Hp{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Fr().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return k(function DE(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(m),p,"argument-error"),this.shouldResolveImmediately(m)&&lt(Fr().grecaptcha)?Promise.resolve(Fr().grecaptcha):new Promise((E,T)=>{const O=Fr().setTimeout(()=>{T(Te(p,"network-request-failed"))},bE.get());Fr()[Hs]=()=>{Fr().clearTimeout(O),delete Fr()[Hs];const ge=Fr().grecaptcha;if(!ge||!lt(ge))return void T(Te(p,"internal-error"));const Je=ge.render;ge.render=(rt,Tt)=>{const bn=Je(rt,Tt);return this.counter++,bn},this.hostLanguage=m,E(ge)},Ki(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:Hs,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(O),T(Te(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=Fr().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Gp{load(p){return(0,d.Z)(function*(){return new Oo(p)})()}clearedOneInstance(){}}const Ih="recaptcha",av={theme:"light",type:"image"};class zp{constructor(p,m=Object.assign({},av),E){this.parameters=m,this.type=Ih,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Jn(E),this.isInvisible="invisible"===this.parameters.size,k(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof p?document.getElementById(p):p;k(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Gp:new Hp,this.validateStartingState()}verify(){var p=this;return(0,d.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(m)||new Promise(O=>{const Q=ge=>{ge&&(p.tokenChangeListeners.delete(Q),O(ge))};p.tokenChangeListeners.add(Q),p.isInvisible&&E.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){k(!this.parameters.sitekey,this.auth,"argument-error"),k(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),k(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(E=>E(m)),"function"==typeof p)p(m);else if("string"==typeof p){const E=Fr()[p];"function"==typeof E&&E(m)}}}assertNotDestroyed(){k(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const E=document.createElement("div");m.appendChild(E),m=E}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.Z)(function*(){k(Lt()&&!kp(),p.auth,"internal-error"),yield function TE(){let w=null;return new Promise(p=>{"complete"!==document.readyState?(w=()=>p(),window.addEventListener("load",w)):p()}).catch(p=>{throw w&&window.removeEventListener("load",w),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function de(w){return nt.apply(this,arguments)}(p.auth);k(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return k(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ch{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=kt._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Di(w,p,m){return Po.apply(this,arguments)}function Po(){return(Po=(0,d.Z)(function*(w,p,m){const E=Jn(w),T=yield fl(E,p,(0,U.m9)(m));return new Ch(T,O=>ih(E,O))})).apply(this,arguments)}function qp(w,p,m){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,d.Z)(function*(w,p,m){const E=(0,U.m9)(w);yield Ii(!1,E,"phone");const T=yield fl(E.auth,p,(0,U.m9)(m));return new Ch(T,O=>pE(E,O))})).apply(this,arguments)}function Pt(w,p,m){return ci.apply(this,arguments)}function ci(){return(ci=(0,d.Z)(function*(w,p,m){const E=(0,U.m9)(w),T=yield fl(E.auth,p,(0,U.m9)(m));return new Ch(T,O=>vr(E,O))})).apply(this,arguments)}function fl(w,p,m){return bh.apply(this,arguments)}function bh(){return bh=(0,d.Z)(function*(w,p,m){var E;const T=yield m.verify();try{let O;if(k("string"==typeof T,w,"argument-error"),k(m.type===Ih,w,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const Q=O.session;if("phoneNumber"in O)return k("enroll"===Q.type,w,"internal-error"),(yield function ev(w,p){return Ae(w,"POST","/v2/accounts/mfaEnrollment:start",oe(w,p))}(w,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{k("signin"===Q.type,w,"internal-error");const ge=(null===(E=O.multiFactorHint)||void 0===E?void 0:E.uid)||O.multiFactorUid;return k(ge,w,"missing-multi-factor-info"),(yield function Bp(w,p){return Ae(w,"POST","/v2/accounts/mfaSignIn:start",oe(w,p))}(w,{mfaPendingCredential:Q.credential,mfaEnrollmentId:ge,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield function qt(w,p){return Bn.apply(this,arguments)}(w,{phoneNumber:O.phoneNumber,recaptchaToken:T});return Q}}finally{m._reset()}}),bh.apply(this,arguments)}function Ti(w,p){return eo.apply(this,arguments)}function eo(){return(eo=(0,d.Z)(function*(w,p){yield Cs((0,U.m9)(w),p)})).apply(this,arguments)}let ar=(()=>{class w{constructor(m){this.providerId=w.PROVIDER_ID,this.auth=Jn(m)}verifyPhoneNumber(m,E){return fl(this.auth,m,(0,U.m9)(E))}static credential(m,E){return kt._fromVerification(m,E)}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:E,temporaryProof:T}=m;return E&&T?kt._fromTokenResponse(E,T):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function No(w,p){return p?He(p):(k(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class fa extends ${constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Qi(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Qi(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Qi(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Qt(w){return ky(w.auth,new fa(w),w.bypassAuthState)}function uv(w){const{auth:p,user:m}=w;return k(m,p,"internal-error"),Cp(m,new fa(w),w.bypassAuthState)}function Zp(w){return tc.apply(this,arguments)}function tc(){return(tc=(0,d.Z)(function*(w){const{auth:p,user:m}=w;return k(m,p,"internal-error"),Cs(m,new fa(w),w.bypassAuthState)})).apply(this,arguments)}class to{constructor(p,m,E,T,O=!1){this.auth=p,this.resolver=E,this.user=T,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,d.Z)(function*(E,T){p.pendingPromise={resolve:E,reject:T};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(E,T){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,d.Z)(function*(){const{urlResponse:E,sessionId:T,postBody:O,tenantId:Q,error:ge,type:Je}=p;if(ge)return void m.reject(ge);const rt={auth:m.auth,requestUri:E,sessionId:T,tenantId:Q||void 0,postBody:O||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Je)(rt))}catch(Tt){m.reject(Tt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Qt;case"linkViaPopup":case"linkViaRedirect":return Zp;case"reauthViaPopup":case"reauthViaRedirect":return uv;default:ee(this.auth,"internal-error")}}resolve(p){be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const no=new Jt(2e3,1e4);function Ai(w,p,m){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,d.Z)(function*(w,p,m){const E=Jn(w);Me(w,p,ji);const T=No(E,m);return new pa(E,"signInViaPopup",p,T).executeNotNull()})).apply(this,arguments)}function Ja(w,p,m){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,d.Z)(function*(w,p,m){const E=(0,U.m9)(w);Me(E.auth,p,ji);const T=No(E.auth,m);return new pa(E.auth,"reauthViaPopup",p,T,E).executeNotNull()})).apply(this,arguments)}function pl(w,p,m){return gl.apply(this,arguments)}function gl(){return(gl=(0,d.Z)(function*(w,p,m){const E=(0,U.m9)(w);Me(E.auth,p,ji);const T=No(E.auth,m);return new pa(E.auth,"linkViaPopup",p,T,E).executeNotNull()})).apply(this,arguments)}let pa=(()=>{class w extends to{constructor(m,E,T,O,Q){super(m,E,O,Q),this.provider=T,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var m=this;return(0,d.Z)(function*(){const E=yield m.execute();return k(E,m.auth,"internal-error"),E})()}onExecution(){var m=this;return(0,d.Z)(function*(){be(1===m.filter.length,"Popup operations only handle one event");const E=Qu();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],E),m.authWindow.associatedEvent=E,m.resolver._originValidation(m.auth).catch(T=>{m.reject(T)}),m.resolver._isIframeWebStorageSupported(m.auth,T=>{T||m.reject(Te(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const m=()=>{var E,T;this.pollId=null!==(T=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Te(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,no.get())};m()}}return w.currentPopupAction=null,w})();const nc="pendingRedirect",Gs=new Map;class Ro extends to{constructor(p,m,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,d.Z)(function*(){let E=Gs.get(m.auth._key());if(!E){try{const O=(yield function rc(w,p){return Dh.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;E=()=>Promise.resolve(O)}catch(T){E=()=>Promise.reject(T)}Gs.set(m.auth._key(),E)}return m.bypassAuthState||Gs.set(m.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,E=this;return(0,d.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(E,p);if("unknown"!==p.type){if(p.eventId){const T=yield E.auth._redirectUserForId(p.eventId);if(T)return E.user=T,m().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Dh(){return(Dh=(0,d.Z)(function*(w,p){const m=Th(p),E=Hi(w);if(!(yield E._isAvailable()))return!1;const T="true"===(yield E._get(m));return yield E._remove(m),T})).apply(this,arguments)}function ic(w,p){return ga.apply(this,arguments)}function ga(){return(ga=(0,d.Z)(function*(w,p){return Hi(w)._set(Th(p),"true")})).apply(this,arguments)}function ro(){Gs.clear()}function ml(w,p){Gs.set(w._key(),p)}function Hi(w){return He(w._redirectPersistence)}function Th(w){return gn(nc,w.config.apiKey,w.name)}function yl(w,p,m){return function Xi(w,p,m){return Hn.apply(this,arguments)}(w,p,m)}function Hn(){return(Hn=(0,d.Z)(function*(w,p,m){const E=Jn(w);Me(w,p,ji),yield E._initializationPromise;const T=No(E,m);return yield ic(T,E),T._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function fr(w,p,m){return function eu(w,p,m){return li.apply(this,arguments)}(w,p,m)}function li(){return(li=(0,d.Z)(function*(w,p,m){const E=(0,U.m9)(w);Me(E.auth,p,ji),yield E.auth._initializationPromise;const T=No(E.auth,m);yield ic(T,E.auth);const O=yield ls(E);return T._openRedirect(E.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function Si(w,p,m){return function tu(w,p,m){return sc.apply(this,arguments)}(w,p,m)}function sc(){return(sc=(0,d.Z)(function*(w,p,m){const E=(0,U.m9)(w);Me(E.auth,p,ji),yield E.auth._initializationPromise;const T=No(E.auth,m);yield Ii(!1,E,p.providerId),yield ic(T,E.auth);const O=yield ls(E);return T._openRedirect(E.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function cv(w,p){return jr.apply(this,arguments)}function jr(){return(jr=(0,d.Z)(function*(w,p){return yield Jn(w)._initializationPromise,ko(w,p,!1)})).apply(this,arguments)}function ko(w,p){return _r.apply(this,arguments)}function _r(){return(_r=(0,d.Z)(function*(w,p,m=!1){const E=Jn(w),T=No(E,p),Q=yield new Ro(E,T,m).execute();return Q&&!m&&(delete Q.user._redirectEventId,yield E._persistUserIfCurrent(Q.user),yield E._setRedirectUser(null,p)),Q})).apply(this,arguments)}function ls(w){return vl.apply(this,arguments)}function vl(){return(vl=(0,d.Z)(function*(w){const p=Qu(`${w.uid}:::`);return w._redirectEventId=p,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),p})).apply(this,arguments)}class nu{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(m=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function ru(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ah(w);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var E;if(p.error&&!Ah(p)){const T=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";m.onError(Te(this.auth,T))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const E=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wp(p))}saveEventToCache(p){this.cachedEventUids.add(Wp(p)),this.lastProcessedEventTime=Date.now()}}function Wp(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(p=>p).join("-")}function Ah({type:w,error:p}){return"unknown"===w&&"auth/no-auth-event"===p?.code}function Sh(w){return _l.apply(this,arguments)}function _l(){return(_l=(0,d.Z)(function*(w,p={}){return Ae(w,"GET","/v1/projects",p)})).apply(this,arguments)}const on=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fo=/^https?/;function Lo(){return(Lo=(0,d.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:p}=yield Sh(w);for(const m of p)try{if(Kp(m))return}catch{}ee(w,"unauthorized-domain")})).apply(this,arguments)}function Kp(w){const p=st(),{protocol:m,hostname:E}=new URL(p);if(w.startsWith("chrome-extension://")){const Q=new URL(w);return""===Q.hostname&&""===E?"chrome-extension:"===m&&w.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&Q.hostname===E}if(!Fo.test(m))return!1;if(on.test(w))return E===w;const T=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(E)}const Yp=new Jt(3e4,6e4);function Mi(){const w=Fr().___jsl;if(w?.H)for(const p of Object.keys(w.H))if(w.H[p].r=w.H[p].r||[],w.H[p].L=w.H[p].L||[],w.H[p].r=[...w.H[p].L],w.CP)for(let m=0;m<w.CP.length;m++)w.CP[m]=null}let $r=null;const Jp=new Jt(5e3,15e3),wl="__/auth/iframe",Xp="emulator/auth/iframe",eg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},El=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iu(w){const p=w.config;k(p.authDomain,w,"auth-domain-config-required");const m=p.emulator?Gn(p,Xp):`https://${w.config.authDomain}/${wl}`,E={apiKey:p.apiKey,appName:w.name,v:N.SDK_VERSION},T=El.get(w.config.apiHost);T&&(E.eid=T);const O=w._getFrameworks();return O.length&&(E.fw=O.join(",")),`${m}?${(0,U.xO)(E).slice(1)}`}function io(){return io=(0,d.Z)(function*(w){const p=yield function Vo(w){return $r=$r||function Qp(w){return new Promise((p,m)=>{var E,T,O;function Q(){Mi(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Mi(),m(Te(w,"network-request-failed"))},timeout:Yp.get()})}if(null!==(T=null===(E=Fr().gapi)||void 0===E?void 0:E.iframes)&&void 0!==T&&T.Iframe)p(gapi.iframes.getContext());else{if(null===(O=Fr().gapi)||void 0===O||!O.load){const ge=Rr("iframefcb");return Fr()[ge]=()=>{gapi.load?Q():m(Te(w,"network-request-failed"))},Ki(`https://apis.google.com/js/api.js?onload=${ge}`).catch(Je=>m(Je))}Q()}}).catch(p=>{throw $r=null,p})}(w),$r}(w),m=Fr().gapi;return k(m,w,"internal-error"),p.open({where:document.body,url:iu(w),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eg,dontclear:!0},E=>new Promise(function(){var T=(0,d.Z)(function*(O,Q){yield E.restyle({setHideOnLeave:!1});const ge=Te(w,"network-request-failed"),Je=Fr().setTimeout(()=>{Q(ge)},Jp.get());function rt(){Fr().clearTimeout(Je),O(E)}E.ping(rt).then(rt,()=>{Q(ge)})});return function(O,Q){return T.apply(this,arguments)}}()))}),io.apply(this,arguments)}const oc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _a{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const tg="__/auth/handler",SE="emulator/auth/handler",Mh=encodeURIComponent("fac");function ds(w,p,m,E,T,O){return bl.apply(this,arguments)}function bl(){return(bl=(0,d.Z)(function*(w,p,m,E,T,O){k(w.config.authDomain,w,"auth-domain-config-required"),k(w.config.apiKey,w,"invalid-api-key");const Q={apiKey:w.config.apiKey,appName:w.name,authType:m,redirectUrl:E,v:N.SDK_VERSION,eventId:T};if(p instanceof ji){p.setDefaultLanguage(w.languageCode),Q.providerId=p.providerId||"",(0,U.xb)(p.getCustomParameters())||(Q.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Tt,bn]of Object.entries(O||{}))Q[Tt]=bn}if(p instanceof mi){const Tt=p.getScopes().filter(bn=>""!==bn);Tt.length>0&&(Q.scopes=Tt.join(","))}w.tenantId&&(Q.tid=w.tenantId);const ge=Q;for(const Tt of Object.keys(ge))void 0===ge[Tt]&&delete ge[Tt];const Je=yield w._getAppCheckToken(),rt=Je?`#${Mh}=${encodeURIComponent(Je)}`:"";return`${function Dl({config:w}){return w.emulator?Gn(w,SE):`https://${w.authDomain}/${tg}`}(w)}?${(0,U.xO)(ge).slice(1)}${rt}`})).apply(this,arguments)}const Ar="webStorageSupport",so=class xh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ll,this._completeRedirectFn=ko,this._overrideRedirectResult=ml}_openPopup(p,m,E,T){var O=this;return(0,d.Z)(function*(){var Q;be(null===(Q=O.eventManagers[p._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const ge=yield ds(p,m,E,st(),T);return function AE(w,p,m,E=500,T=600){const O=Math.max((window.screen.availHeight-T)/2,0).toString(),Q=Math.max((window.screen.availWidth-E)/2,0).toString();let ge="";const Je=Object.assign(Object.assign({},oc),{width:E.toString(),height:T.toString(),top:O,left:Q}),rt=(0,U.z$)().toLowerCase();m&&(ge=M(rt)?"_blank":m),P(rt)&&(p=p||"http://localhost",Je.scrollbars="yes");const Tt=Object.entries(Je).reduce((yi,[hs,oo])=>`${yi}${hs}=${oo},`,"");if(function Vt(w=(0,U.z$)()){var p;return ot(w)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(rt)&&"_self"!==ge)return function Cl(w,p){const m=document.createElement("a");m.href=w,m.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(E)}(p||"",ge),new _a(null);const bn=window.open(p||"",ge,Tt);k(bn,w,"popup-blocked");try{bn.focus()}catch{}return new _a(bn)}(p,ge,Qu())})()}_openRedirect(p,m,E,T){var O=this;return(0,d.Z)(function*(){return yield O._originValidation(p),function _h(w){Fr().location.href=w}(yield ds(p,m,E,st(),T)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:T,promise:O}=this.eventManagers[m];return T?Promise.resolve(T):(be(O,"If manager is not set, promise should be"),O)}const E=this.initAndGetManager(p);return this.eventManagers[m]={promise:E},E.catch(()=>{delete this.eventManagers[m]}),E}initAndGetManager(p){var m=this;return(0,d.Z)(function*(){const E=yield function va(w){return io.apply(this,arguments)}(p),T=new nu(p);return E.register("authEvent",O=>(k(O?.authEvent,p,"invalid-auth-event"),{status:T.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:T},m.iframes[p._key()]=E,T})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Ar,{type:Ar},T=>{var O;const Q=null===(O=T?.[0])||void 0===O?void 0:O[Ar];void 0!==Q&&m(!!Q),ee(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function ya(w){return Lo.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Yt()||R()||ot()}};class ng{constructor(p){this.factorId=p}_process(p,m,E){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,E);case"signin":return this._finalizeSignIn(p,m.credential);default:return te("unexpected MultiFactorSessionType")}}}class xi extends ng{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new xi(p)}_finalizeEnroll(p,m,E){return function mh(w,p){return Ae(w,"POST","/v2/accounts/mfaEnrollment:finalize",oe(w,p))}(p,{idToken:m,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function jp(w,p){return Ae(w,"POST","/v2/accounts/mfaSignIn:finalize",oe(w,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let su=(()=>{class w{constructor(){}static assertion(m){return xi._fromCredential(m)}}return w.FACTOR_ID="phone",w})();var hv="@firebase/auth";class ME{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,d.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(E=>{p(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,U.Pz)("authIdTokenMaxAge"),function Oh(w){(0,N._registerComponent)(new ve.wA("auth",(p,{options:m})=>{const E=p.getProvider("app").getImmediate(),T=p.getProvider("heartbeat"),O=p.getProvider("app-check-internal"),{apiKey:Q,authDomain:ge}=E.options;k(Q&&!Q.includes(":"),"invalid-api-key",{appName:E.name});const Je={apiKey:Q,authDomain:ge,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:K(w)},rt=new ws(E,T,O,Je);return function Ua(w,p){const m=p?.persistence||[],E=(Array.isArray(m)?m:[m]).map(He);p?.errorMap&&w._updateErrorMap(p.errorMap),w._initializeWithPersistence(E,p?.popupRedirectResolver)}(rt,m),rt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,E)=>{p.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new ve.wA("auth-internal",p=>{const m=Jn(p.getProvider("auth").getImmediate());return new ME(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(hv,"0.23.2",function es(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,N.registerVersion)(hv,"0.23.2","esm2017")}("Browser")},9058:(vt,De,S)=>{S.d(De,{$s:()=>He,BH:()=>ue,G6:()=>Gn,L:()=>he,LL:()=>Ge,Pz:()=>Te,Sg:()=>Me,UG:()=>te,US:()=>ve,ZB:()=>ne,ZR:()=>Ae,aH:()=>ee,b$:()=>Lt,eu:()=>fe,hl:()=>ae,jU:()=>be,m9:()=>gn,ne:()=>Rt,pd:()=>Ct,r3:()=>_n,ru:()=>st,tV:()=>V,uI:()=>k,vZ:()=>Vn,w1:()=>Gt,xO:()=>zr,xb:()=>ir,z$:()=>Be,zI:()=>ce,zd:()=>wt});const Y=function(G){const H=[];let P=0;for(let R=0;R<G.length;R++){let M=G.charCodeAt(R);M<128?H[P++]=M:M<2048?(H[P++]=M>>6|192,H[P++]=63&M|128):55296==(64512&M)&&R+1<G.length&&56320==(64512&G.charCodeAt(R+1))?(M=65536+((1023&M)<<10)+(1023&G.charCodeAt(++R)),H[P++]=M>>18|240,H[P++]=M>>12&63|128,H[P++]=M>>6&63|128,H[P++]=63&M|128):(H[P++]=M>>12|224,H[P++]=M>>6&63|128,H[P++]=63&M|128)}return H},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,H){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const P=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,R=[];for(let M=0;M<G.length;M+=3){const X=G[M],Ne=M+1<G.length,Qe=Ne?G[M+1]:0,xt=M+2<G.length,ot=xt?G[M+2]:0;let wn=(15&Qe)<<2|ot>>6,Yt=63&ot;xt||(Yt=64,Ne||(wn=64)),R.push(P[X>>2],P[(3&X)<<4|Qe>>4],P[wn],P[Yt])}return R.join("")},encodeString(G,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(G):this.encodeByteArray(Y(G),H)},decodeString(G,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(G):function(G){const H=[];let P=0,R=0;for(;P<G.length;){const M=G[P++];if(M<128)H[R++]=String.fromCharCode(M);else if(M>191&&M<224){const X=G[P++];H[R++]=String.fromCharCode((31&M)<<6|63&X)}else if(M>239&&M<365){const xt=((7&M)<<18|(63&G[P++])<<12|(63&G[P++])<<6|63&G[P++])-65536;H[R++]=String.fromCharCode(55296+(xt>>10)),H[R++]=String.fromCharCode(56320+(1023&xt))}else{const X=G[P++],Ne=G[P++];H[R++]=String.fromCharCode((15&M)<<12|(63&X)<<6|63&Ne)}}return H.join("")}(this.decodeStringToByteArray(G,H))},decodeStringToByteArray(G,H){this.init_();const P=H?this.charToByteMapWebSafe_:this.charToByteMap_,R=[];for(let M=0;M<G.length;){const X=P[G.charAt(M++)],Qe=M<G.length?P[G.charAt(M)]:0;++M;const ot=M<G.length?P[G.charAt(M)]:64;++M;const Vt=M<G.length?P[G.charAt(M)]:64;if(++M,null==X||null==Qe||null==ot||null==Vt)throw new we;R.push(X<<2|Qe>>4),64!==ot&&(R.push(Qe<<4&240|ot>>2),64!==Vt&&R.push(ot<<6&192|Vt))}return R},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class we extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const he=function(G){return function(G){const H=Y(G);return ve.encodeByteArray(H,!0)}(G).replace(/\./g,"")},V=function(G){try{return ve.decodeString(G,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function ne(G,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return H}for(const P in H)!H.hasOwnProperty(P)||!Ue(P)||(G[P]=ne(G[P],H[P]));return G}function Ue(G){return"__proto__"!==G}const Se=()=>{try{return function Ie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=G&&V(G[1]);return H&&JSON.parse(H)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},ee=()=>{var G;return null===(G=Se())||void 0===G?void 0:G.config},Te=G=>{var H;return null===(H=Se())||void 0===H?void 0:H[`_${G}`]};class ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,P)=>{this.resolve=H,this.reject=P})}wrapCallback(H){return(P,R)=>{P?this.reject(P):this.resolve(R),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(P):H(P,R))}}}function Me(G,H){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const R=H||"demo-project",M=G.iat||0,X=G.sub||G.user_id;if(!X)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ne=Object.assign({iss:`https://securetoken.google.com/${R}`,aud:R,iat:M,exp:M+3600,auth_time:M,sub:X,user_id:X,firebase:{sign_in_provider:"custom",identities:{}}},G);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(Ne)),""].join(".")}function Be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function k(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function te(){var G;const H=null===(G=Se())||void 0===G?void 0:G.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function be(){return"object"==typeof self&&self.self===self}function st(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function Lt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Gt(){const G=Be();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Gn(){return!te()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ae(){try{return"object"==typeof indexedDB}catch{return!1}}function fe(){return new Promise((G,H)=>{try{let P=!0;const R="validate-browser-context-for-indexeddb-analytics-module",M=self.indexedDB.open(R);M.onsuccess=()=>{M.result.close(),P||self.indexedDB.deleteDatabase(R),G(!0)},M.onupgradeneeded=()=>{P=!1},M.onerror=()=>{var X;H((null===(X=M.error)||void 0===X?void 0:X.message)||"")}}catch(P){H(P)}})}function ce(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ae extends Error{constructor(H,P,R){super(P),this.code=H,this.customData=R,this.name="FirebaseError",Object.setPrototypeOf(this,Ae.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ge.prototype.create)}}class Ge{constructor(H,P,R){this.service=H,this.serviceName=P,this.errors=R}create(H,...P){const R=P[0]||{},M=`${this.service}/${H}`,X=this.errors[H],Ne=X?function tt(G,H){return G.replace(qe,(P,R)=>{const M=H[R];return null!=M?String(M):`<${R}?>`})}(X,R):"Error";return new Ae(M,`${this.serviceName}: ${Ne} (${M}).`,R)}}const qe=/\{\$([^}]+)}/g;function _n(G,H){return Object.prototype.hasOwnProperty.call(G,H)}function ir(G){for(const H in G)if(Object.prototype.hasOwnProperty.call(G,H))return!1;return!0}function Vn(G,H){if(G===H)return!0;const P=Object.keys(G),R=Object.keys(H);for(const M of P){if(!R.includes(M))return!1;const X=G[M],Ne=H[M];if(Dn(X)&&Dn(Ne)){if(!Vn(X,Ne))return!1}else if(X!==Ne)return!1}for(const M of R)if(!P.includes(M))return!1;return!0}function Dn(G){return null!==G&&"object"==typeof G}function zr(G){const H=[];for(const[P,R]of Object.entries(G))Array.isArray(R)?R.forEach(M=>{H.push(encodeURIComponent(P)+"="+encodeURIComponent(M))}):H.push(encodeURIComponent(P)+"="+encodeURIComponent(R));return H.length?"&"+H.join("&"):""}function wt(G){const H={};return G.replace(/^\?/,"").split("&").forEach(R=>{if(R){const[M,X]=R.split("=");H[decodeURIComponent(M)]=decodeURIComponent(X)}}),H}function Ct(G){const H=G.indexOf("?");if(!H)return"";const P=G.indexOf("#",H);return G.substring(H,P>0?P:void 0)}function Rt(G,H){const P=new mr(G,H);return P.subscribe.bind(P)}class mr{constructor(H,P){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=P,this.task.then(()=>{H(this)}).catch(R=>{this.error(R)})}next(H){this.forEachObserver(P=>{P.next(H)})}error(H){this.forEachObserver(P=>{P.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,P,R){let M;if(void 0===H&&void 0===P&&void 0===R)throw new Error("Missing Observer.");M=function Kt(G,H){if("object"!=typeof G||null===G)return!1;for(const P of H)if(P in G&&"function"==typeof G[P])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:P,complete:R},void 0===M.next&&(M.next=pn),void 0===M.error&&(M.error=pn),void 0===M.complete&&(M.complete=pn);const X=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?M.error(this.finalError):M.complete()}catch{}}),this.observers.push(M),X}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let P=0;P<this.observers.length;P++)this.sendOne(P,H)}sendOne(H,P){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{P(this.observers[H])}catch(R){typeof console<"u"&&console.error&&console.error(R)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pn(){}const Un=1e3,me=2,Z=144e5,Ee=.5;function He(G,H=Un,P=me){const R=H*Math.pow(P,G),M=Math.round(Ee*R*(Math.random()-.5)*2);return Math.min(Z,R+M)}function gn(G){return G&&G._delegate?G._delegate:G}},2128:(vt,De,S)=>{var d=S(5879);let U=null;function N(){return U}class se{}const ve=new d.OlP("DocumentToken");let we=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(he)},providedIn:"platform"})}return n})();const Oe=new d.OlP("Location Initialized");let he=(()=>{class n extends we{constructor(){super(),this._doc=(0,d.f3M)(ve),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,s){this._history.pushState(t,r,s)}replaceState(t,r,s){this._history.replaceState(t,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function V(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function q(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ne(n){return n&&"?"!==n[0]?"?"+n:n}let Ue=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(Ye)},providedIn:"root"})}return n})();const Ie=new d.OlP("appBaseHref");let Ye=(()=>{class n extends Ue{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return V(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ne(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,u){const l=this.prepareExternalUrl(s+ne(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,s,u){const l=this.prepareExternalUrl(s+ne(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(we),d.LFG(Ie,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ke=(()=>{class n extends Ue{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=V(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,u){let l=this.prepareExternalUrl(s+ne(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,s,u){let l=this.prepareExternalUrl(s+ne(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(we),d.LFG(Ie,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})(),We=(()=>{class n{constructor(t){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function ee(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(q(ft(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ne(r))}normalize(t){return n.stripTrailingSlash(function ht(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,ft(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._locationStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ne(r)),s)}replaceState(t,r="",s=null){this._locationStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ne(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}static#e=this.normalizeQueryParams=ne;static#t=this.joinWithSlash=V;static#n=this.stripTrailingSlash=q;static#r=this.\u0275fac=function(r){return new(r||n)(d.LFG(Ue))};static#i=this.\u0275prov=d.Yz7({token:n,factory:function(){return function Se(){return new We((0,d.LFG)(Ue))}()},providedIn:"root"})}return n})();function ft(n){return n.replace(/\/index.html$/,"")}var ue=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(ue||{}),be=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(be||{});function Ae(n,e){const t=(0,d.cg1)(n),r=t[d.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===be.CurrencyDecimal)return t[d.wAp.NumberSymbols][be.Decimal];if(e===be.CurrencyGroup)return t[d.wAp.NumberSymbols][be.Group]}return r}const M=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Tn(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function ln(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(u)}return null}class _s{constructor(e,t,r,s){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ws=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,s){this._viewContainer=t,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((s,u,l)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new _s(s.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===u?void 0:u);else if(null!==u){const g=r.get(u);r.move(g,l),Jn(g,s)}});for(let s=0,u=r.length;s<u;s++){const g=r.get(s).context;g.index=s,g.count=u,g.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{Jn(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function Jn(n,e){n.context.$implicit=e.item}let Ui=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Ua,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Co("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Co("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(d.s_b),d.Y36(d.Rgc))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Ua{constructor(){this.$implicit=null,this.ngIf=null}}function Co(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}function en(n,e){return new d.vHH(2100,!1)}class tr{createSubscription(e,t){return(0,d.rg0)(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){(0,d.rg0)(()=>e.unsubscribe())}}class dr{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const kr=new dr,us=new tr;let la=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,d.QGY)(t))return kr;if((0,d.F4k)(t))return us;throw en()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(d.sBO,16))};static#t=this.\u0275pipe=d.Yjl({name:"async",type:n,pure:!1,standalone:!0})}return n})(),Xe=(()=>{class n{constructor(t){this._locale=t}transform(t,r,s){if(!function oi(n){return!(null==n||""===n||n!=n)}(t))return null;s=s||this._locale;try{return function de(n,e,t){return function Yt(n,e,t,r,s,u,l=!1){let g="",v=!1;if(isFinite(n)){let C=function Ot(n){let r,s,u,l,g,e=Math.abs(n)+"",t=0;for((s=e.indexOf("."))>-1&&(e=e.replace(".","")),(u=e.search(/e/i))>0?(s<0&&(s=u),s+=+e.slice(u+1),e=e.substring(0,u)):s<0&&(s=e.length),u=0;"0"===e.charAt(u);u++);if(u===(g=e.length))r=[0],s=1;else{for(g--;"0"===e.charAt(g);)g--;for(s-=u,r=[],l=0;u<=g;u++,l++)r[l]=Number(e.charAt(u))}return s>22&&(r=r.splice(0,21),t=s-1,s=1),{digits:r,exponent:t,integerLen:s}}(n);l&&(C=function at(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(C));let D=e.minInt,x=e.minFrac,z=e.maxFrac;if(u){const Ut=u.match(M);if(null===Ut)throw new Error(`${u} is not a valid digit info`);const _t=Ut[1],$t=Ut[3],un=Ut[5];null!=_t&&(D=Tn(_t)),null!=$t&&(x=Tn($t)),null!=un?z=Tn(un):null!=$t&&x>z&&(z=x)}!function lt(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,s=r.length-n.integerLen;const u=Math.min(Math.max(e,s),t);let l=u+n.integerLen,g=r[l];if(l>0){r.splice(Math.max(n.integerLen,l));for(let x=l;x<r.length;x++)r[x]=0}else{s=Math.max(0,s),n.integerLen=1,r.length=Math.max(1,l=u+1),r[0]=0;for(let x=1;x<l;x++)r[x]=0}if(g>=5)if(l-1<0){for(let x=0;x>l;x--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[l-1]++;for(;s<Math.max(0,u);s++)r.push(0);let v=0!==u;const C=e+n.integerLen,D=r.reduceRight(function(x,z,J,Ce){return Ce[J]=(z+=x)<10?z:z-10,v&&(0===Ce[J]&&J>=C?Ce.pop():v=!1),z>=10?1:0},0);D&&(r.unshift(D),n.integerLen++)}(C,x,z);let J=C.digits,Ce=C.integerLen;const Fe=C.exponent;let Ve=[];for(v=J.every(Ut=>!Ut);Ce<D;Ce++)J.unshift(0);for(;Ce<0;Ce++)J.unshift(0);Ce>0?Ve=J.splice(Ce,J.length):(Ve=J,J=[0]);const It=[];for(J.length>=e.lgSize&&It.unshift(J.splice(-e.lgSize,J.length).join(""));J.length>e.gSize;)It.unshift(J.splice(-e.gSize,J.length).join(""));J.length&&It.unshift(J.join("")),g=It.join(Ae(t,r)),Ve.length&&(g+=Ae(t,s)+Ve.join("")),Fe&&(g+=Ae(t,be.Exponential)+"+"+Fe)}else g=Ae(t,be.Infinity);return g=n<0&&!v?e.negPre+g+e.negSuf:e.posPre+g+e.posSuf,g}(n,function nt(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),s=r[0],u=r[1],l=-1!==s.indexOf(".")?s.split("."):[s.substring(0,s.lastIndexOf("0")+1),s.substring(s.lastIndexOf("0")+1)],g=l[0],v=l[1]||"";t.posPre=g.substring(0,g.indexOf("#"));for(let D=0;D<v.length;D++){const x=v.charAt(D);"0"===x?t.minFrac=t.maxFrac=D+1:"#"===x?t.maxFrac=D+1:t.posSuf+=x}const C=g.split(",");if(t.gSize=C[1]?C[1].length:0,t.lgSize=C[2]||C[1]?(C[2]||C[1]).length:0,u){const D=s.length-t.posPre.length-t.posSuf.length,x=u.indexOf("#");t.negPre=u.substring(0,x).replace(/'/g,""),t.negSuf=u.slice(x+D).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Ge(n,e){return(0,d.cg1)(n)[d.wAp.NumberFormats][e]}(e,ue.Decimal),Ae(e,be.MinusSign)),e,be.Group,be.Decimal,t)}(function Bs(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),s,r)}catch(u){throw en()}}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(d.soG,16))};static#t=this.\u0275pipe=d.Yjl({name:"number",type:n,pure:!0,standalone:!0})}return n})();let Wr=(()=>{class n{transform(t,r,s){if(null==t)return null;if(!this.supports(t))throw en();return t.slice(r,s)}supports(t){return"string"==typeof t||Array.isArray(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=d.Yjl({name:"slice",type:n,pure:!1,standalone:!0})}return n})(),hr=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})();function Dr(n){return"server"===n}let mi=(()=>{class n{static#e=this.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new cs((0,d.LFG)(ve),window)})}return n})();class cs{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function el(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const u=s.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],s-u[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Is{}class Op extends se{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class dh extends Op{static makeCurrent(){!function Y(n){U||(U=n)}(new dh)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function vE(){return Yu=Yu||document.querySelector("base"),Yu?Yu.getAttribute("href"):null}();return null==t?null:function Qy(n){hh=hh||document.createElement("a"),hh.setAttribute("href",n);const e=hh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Yu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ln(document.cookie,e)}}let hh,Yu=null,_E=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const Jy=new d.OlP("EventManagerPlugins");let Xy=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(u=>u.supports(t)),!r)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(Jy),d.LFG(d.R0b))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();class fh{constructor(e){this._doc=e}}const ph="ng-app-id";let al=(()=>{class n{constructor(t,r,s,u={}){this.doc=t,this.appId=r,this.nonce=s,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Dr(u),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(s=>s.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${ph}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(s=>{null!=s.textContent&&r.set(s.textContent,s)}),r}return null}changeUsageCount(t,r){const s=this.styleRef;if(s.has(t)){const u=s.get(t);return u.usage+=r,u.usage}return s.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const s=this.styleNodesInDOM,u=s?.get(r);if(u?.parentNode===t)return s.delete(r),u.removeAttribute(ph),u;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(ph,this.appId),l}}addStyleToHost(t,r){const s=this.getStyleElement(t,r);t.appendChild(s);const u=this.styleRef,l=u.get(r)?.elements;l?l.push(s):u.set(r,{elements:[s],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(ve),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const Js={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Wa=/%COMP%/g,js=new d.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function $n(n,e){return e.map(t=>t.replace(Wa,n))}let cl=(()=>{class n{constructor(t,r,s,u,l,g,v,C=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=u,this.doc=l,this.platformId=g,this.ngZone=v,this.nonce=C,this.rendererByCompId=new Map,this.platformIsServer=Dr(g),this.defaultRenderer=new Xs(t,l,v,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===d.ifc.ShadowDom&&(r={...r,encapsulation:d.ifc.Emulated});const s=this.getOrCreateRenderer(t,r);return s instanceof vh?s.applyToHost(t):s instanceof $i&&s.applyStyles(),s}getOrCreateRenderer(t,r){const s=this.rendererByCompId;let u=s.get(r.id);if(!u){const l=this.doc,g=this.ngZone,v=this.eventManager,C=this.sharedStylesHost,D=this.removeStylesOnCompDestroy,x=this.platformIsServer;switch(r.encapsulation){case d.ifc.Emulated:u=new vh(v,C,r,this.appId,D,l,g,x);break;case d.ifc.ShadowDom:return new Ka(v,C,t,r,l,g,this.nonce,x);default:u=new $i(v,C,r,D,l,g,x)}s.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(Xy),d.LFG(al),d.LFG(d.AFp),d.LFG(js),d.LFG(ve),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();class Xs{constructor(e,t,r,s){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=s,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Js[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(yh(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(yh(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new d.vHH(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const u=Js[s];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=Js[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,s&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=N().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function yh(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ka extends Xs{constructor(e,t,r,s,u,l,g,v){super(e,u,l,v),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const C=$n(s.id,s.styles);for(const D of C){const x=document.createElement("style");g&&x.setAttribute("nonce",g),x.textContent=D,this.shadowRoot.appendChild(x)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class $i extends Xs{constructor(e,t,r,s,u,l,g,v){super(e,u,l,g),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=s,this.styles=v?$n(v,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class vh extends $i{constructor(e,t,r,s,u,l,g,v){const C=s+"-"+r.id;super(e,t,r,u,l,g,v,C),this.contentAttr=function Np(n){return"_ngcontent-%COMP%".replace(Wa,n)}(C),this.hostAttr=function ul(n){return"_nghost-%COMP%".replace(Wa,n)}(C)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let IE=(()=>{class n extends fh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(ve))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const ll=["alt","control","meta","shift"],Mo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rp={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Qu=(()=>{class n extends fh{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const u=n._normalizeKey(r.pop());let l="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),l="code."),ll.forEach(C=>{const D=r.indexOf(C);D>-1&&(r.splice(D,1),l+=C+".")}),l+=u,0!=r.length||0===u.length)return null;const v={};return v.domEventName=s,v.fullKey=l,v}static matchEventFullKeyCode(t,r){let s=Mo[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(s=t.code,u="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),ll.forEach(l=>{l!==s&&(0,Rp[l])(t)&&(u+=l+".")}),u+=s,u===r)}static eventCallback(t,r,s){return u=>{n.matchEventFullKeyCode(u,t)&&s.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(ve))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const Lp=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function zt(){dh.makeCurrent()},multi:!0},{provide:ve,useFactory:function CE(){return(0,d.RDi)(document),document},deps:[]}]),nv=new d.OlP(""),Ya=[{provide:d.rWj,useClass:class Pp{addToWindow(e){d.dqk.getAngularTestability=(r,s=!0)=>{const u=e.findTestabilityInTree(r,s);if(null==u)throw new d.vHH(5103,!1);return u},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const s=d.dqk.getAllAngularTestabilities();let u=s.length,l=!1;const g=function(v){l=l||v,u--,0==u&&r(l)};s.forEach(v=>{v.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],xo=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function dl(){return new d.qLn},deps:[]},{provide:Jy,useClass:IE,multi:!0,deps:[ve,d.R0b,d.Lbi]},{provide:Jy,useClass:Qu,multi:!0,deps:[ve]},cl,al,Xy,{provide:d.FYo,useExisting:cl},{provide:Is,useClass:_E,deps:[]},[]];let Ju=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(nv,12))};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({providers:[...xo,...Ya],imports:[hr,d.hGG]})}return n})(),Le=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(ve))};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(r){let s=null;return s=r?new r:function Up(){return new Le((0,d.LFG)(ve))}(),s},providedIn:"root"})}return n})();typeof window<"u"&&window;var Di=S(5592),Po=S(4674),Xn=S(2459),Pt=S(2096),ci=S(5619);const{isArray:fl}=Array,{getPrototypeOf:bh,prototype:Ti,keys:eo}=Object;function ar(n){if(1===n.length){const e=n[0];if(fl(e))return{args:e,keys:null};if(function No(n){return n&&"object"==typeof n&&bh(n)===Ti}(e)){const t=eo(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var fa=S(2737),Qt=S(7398);const{isArray:uv}=Array;function tc(n){return(0,Qt.U)(e=>function Zp(n,e){return uv(e)?n(...e):n(e)}(n,e))}var to=S(9940);function no(n,e){return n.reduce((t,r,s)=>(t[r]=e[s],t),{})}var Ai=S(8251),Qa=S(7103);function Ja(...n){const e=(0,to.yG)(n),t=(0,to.jO)(n),{args:r,keys:s}=ar(n);if(0===r.length)return(0,Xn.D)([],e);const u=new Di.y(function Xa(n,e,t=fa.y){return r=>{pl(e,()=>{const{length:s}=n,u=new Array(s);let l=s,g=s;for(let v=0;v<s;v++)pl(e,()=>{const C=(0,Xn.D)(n[v],e);let D=!1;C.subscribe((0,Ai.x)(r,x=>{u[v]=x,D||(D=!0,g--),g||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,s?l=>no(s,l):fa.y));return t?u.pipe(tc(t)):u}function pl(n,e,t){n?(0,Qa.f)(t,n,e):e()}const pa=(0,S(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var nc=S(7537);function Ro(...n){return function Gs(){return(0,nc.J)(1)}()((0,Xn.D)(n,(0,to.yG)(n)))}var rc=S(4829);function Dh(n){return new Di.y(e=>{(0,rc.Xf)(n()).subscribe(e)})}var ic=S(8407);function ga(n,e){const t=(0,Po.m)(n)?n:()=>n,r=s=>s.error(t());return new Di.y(e?s=>e.schedule(r,0,s):r)}var ro=S(6232),ml=S(7394),Hi=S(9360);function Th(){return(0,Hi.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Ai.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,u=t;t=null,s&&(!u||s===u)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class yl extends Di.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Hi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ml.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Ai.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ml.w0.EMPTY)}return e}refCount(){return Th()(this)}}var Xi=S(8645),Hn=S(4664);function fr(n){return n<=0?()=>ro.E:(0,Hi.e)((e,t)=>{let r=0;e.subscribe((0,Ai.x)(t,s=>{++r<=n&&(t.next(s),n<=r&&t.complete())}))})}function eu(...n){const e=(0,to.yG)(n);return(0,Hi.e)((t,r)=>{(e?Ro(n,t,e):Ro(n,t)).subscribe(r)})}function li(n,e){return(0,Hi.e)((t,r)=>{let s=0;t.subscribe((0,Ai.x)(r,u=>n.call(e,u,s++)&&r.next(u)))})}var Si=S(1631);function tu(n){return(0,Hi.e)((e,t)=>{let r=!1;e.subscribe((0,Ai.x)(t,s=>{r=!0,t.next(s)},()=>{r||t.next(n),t.complete()}))})}function sc(n=cv){return(0,Hi.e)((e,t)=>{let r=!1;e.subscribe((0,Ai.x)(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(n())))})}function cv(){return new pa}function jr(n,e){const t=arguments.length>=2;return r=>r.pipe(n?li((s,u)=>n(s,u,r)):fa.y,fr(1),t?tu(e):sc(()=>new pa))}function ko(n,e){return(0,Po.m)(e)?(0,Si.z)(n,e,1):(0,Si.z)(n,1)}var _r=S(9397);function ls(n){return(0,Hi.e)((e,t)=>{let u,r=null,s=!1;r=e.subscribe((0,Ai.x)(t,void 0,void 0,l=>{u=(0,rc.Xf)(n(l,ls(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,u.subscribe(t))})}function ma(n,e){return(0,Hi.e)(function vl(n,e,t,r,s){return(u,l)=>{let g=t,v=e,C=0;u.subscribe((0,Ai.x)(l,D=>{const x=C++;v=g?n(v,D,x):(g=!0,D),r&&l.next(v)},s&&(()=>{g&&l.next(v),l.complete()})))}}(n,e,arguments.length>=2,!0))}function nu(n){return n<=0?()=>ro.E:(0,Hi.e)((e,t)=>{let r=[];e.subscribe((0,Ai.x)(t,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function ru(n){return(0,Hi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var Sh=S(2420);const on="primary",Fo=Symbol("RouteTitle");class ya{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Lo(n){return new ya(n)}function Kp(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let u=0;u<r.length;u++){const l=r[u],g=n[u];if(l.startsWith(":"))s[l.substring(1)]=g;else if(l!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function Mi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let u=0;u<t.length;u++)if(s=t[u],!Qp(n[s],e[s]))return!1;return!0}function Qp(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,u)=>r[u]===s)}return n===e}function $r(n){return n.length>0?n[n.length-1]:null}function Vo(n){return function qp(n){return!!n&&(n instanceof Di.y||(0,Po.m)(n.lift)&&(0,Po.m)(n.subscribe))}(n)?n:(0,d.QGY)(n)?(0,Xn.D)(Promise.resolve(n)):(0,Pt.of)(n)}const Jp={exact:function El(n,e,t){if(!_a(n.segments,e.segments)||!oc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!El(n.children[r],e.children[r],t))return!1;return!0},subset:va},wl={exact:function eg(n,e){return Mi(n,e)},subset:function iu(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Qp(n[t],e[t]))},ignored:()=>!0};function Xp(n,e,t){return Jp[t.paths](n.root,e.root,t.matrixParams)&&wl[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function va(n,e,t){return io(n,e,e.segments,t)}function io(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!_a(s,t)||e.hasChildren()||!oc(s,t,r))}if(n.segments.length===t.length){if(!_a(n.segments,t)||!oc(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!va(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(_a(n.segments,s)&&oc(n.segments,s,r)&&n.children[on])&&io(n.children[on],e,u,r)}}function oc(n,e,t){return e.every((r,s)=>wl[t](n[s].parameters,r.parameters))}class Uo{constructor(e=new xn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lo(this.queryParams)),this._queryParamMap}toString(){return SE.serialize(this)}}class xn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mh(this)}}class Il{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Lo(this.parameters)),this._parameterMap}toString(){return xi(this)}}function _a(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Cl=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(){return new tg},providedIn:"root"})}return n})();class tg{parse(e){const t=new au(e);return new Uo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ds(e.root,!0)}`,r=function dv(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(s=>`${Dl(t)}=${Dl(s)}`).join("&"):`${Dl(t)}=${Dl(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Ar(n){return encodeURI(n)}(e.fragment)}`:""}`}}const SE=new tg;function Mh(n){return n.segments.map(e=>xi(e)).join("/")}function ds(n,e){if(!n.hasChildren())return Mh(n);if(e){const t=n.children[on]?ds(n.children[on],!1):"",r=[];return Object.entries(n.children).forEach(([s,u])=>{s!==on&&r.push(`${s}:${ds(u,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function AE(n,e){let t=[];return Object.entries(n.children).forEach(([r,s])=>{r===on&&(t=t.concat(e(s,r)))}),Object.entries(n.children).forEach(([r,s])=>{r!==on&&(t=t.concat(e(s,r)))}),t}(n,(r,s)=>s===on?[ds(n.children[on],!1)]:[`${s}:${ds(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[on]?`${Mh(n)}/${t[0]}`:`${Mh(n)}/(${t.join("//")})`}}function bl(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dl(n){return bl(n).replace(/%3B/gi,";")}function xh(n){return bl(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function so(n){return decodeURIComponent(n)}function ng(n){return so(n.replace(/\+/g,"%20"))}function xi(n){return`${xh(n.path)}${function su(n){return Object.keys(n).map(e=>`;${xh(e)}=${xh(n[e])}`).join("")}(n.parameters)}`}const ou=/^[^\/()?;#]+/;function Bo(n){const e=n.match(ou);return e?e[0]:""}const Tl=/^[^\/()?;=#]+/,rg=/^[^=?&#]+/,es=/^[^&#]+/;class au{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xn([],{}):new xn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[on]=new xn(e,t)),r}parseSegment(){const e=Bo(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(e),new Il(so(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function hv(n){const e=n.match(Tl);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=Bo(this.remaining);s&&(r=s,this.capture(r))}e[so(t)]=so(r)}parseQueryParam(e){const t=function ME(n){const e=n.match(rg);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function Oh(n){const e=n.match(es);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const s=ng(t),u=ng(r);if(e.hasOwnProperty(s)){let l=e[s];Array.isArray(l)||(l=[l],e[s]=l),l.push(u)}else e[s]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Bo(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new d.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=on);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[on]:new xn([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,!1)}}function fv(n){return n.segments.length>0?new xn([],{[on]:n}):n}function Al(n){const e={};for(const r of Object.keys(n.children)){const u=Al(n.children[r]);if(r===on&&0===u.segments.length&&u.hasChildren())for(const[l,g]of Object.entries(u.children))e[l]=g;else(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function pv(n){if(1===n.numberOfChildren&&n.children[on]){const e=n.children[on];return new xn(n.segments.concat(e.segments),e.children)}return n}(new xn(n.segments,e))}function uu(n){return n instanceof Uo}function p(n){let e;const s=fv(function t(u){const l={};for(const v of u.children){const C=t(v);l[v.outlet]=C}const g=new xn(u.url,l);return u===n&&(e=g),g}(n.root));return e??s}function m(n,e,t,r){let s=n;for(;s.parent;)s=s.parent;if(0===e.length)return O(s,s,s,t,r);const u=function Je(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ge(!0,0,n);let e=0,t=!1;const r=n.reduce((s,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return Object.entries(u.outlets).forEach(([v,C])=>{g[v]="string"==typeof C?C.split("/"):C}),[...s,{outlets:g}]}if(u.segmentPath)return[...s,u.segmentPath]}return"string"!=typeof u?[...s,u]:0===l?(u.split("/").forEach((g,v)=>{0==v&&"."===g||(0==v&&""===g?t=!0:".."===g?e++:""!=g&&s.push(g))}),s):[...s,u]},[]);return new ge(t,e,r)}(e);if(u.toRoot())return O(s,s,new xn([],{}),t,r);const l=function Tt(n,e,t){if(n.isAbsolute)return new rt(e,!0,0);if(!t)return new rt(e,!1,NaN);if(null===t.parent)return new rt(t,!0,0);const r=E(n.commands[0])?0:1;return function bn(n,e,t){let r=n,s=e,u=t;for(;u>s;){if(u-=s,r=r.parent,!r)throw new d.vHH(4005,!1);s=r.segments.length}return new rt(r,!1,s-u)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(u,s,n),g=l.processChildren?oo(l.segmentGroup,l.index,u.commands):hs(l.segmentGroup,l.index,u.commands);return O(s,l.segmentGroup,g,t,r)}function E(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function T(n){return"object"==typeof n&&null!=n&&n.outlets}function O(n,e,t,r,s){let l,u={};r&&Object.entries(r).forEach(([v,C])=>{u[v]=Array.isArray(C)?C.map(D=>`${D}`):`${C}`}),l=n===e?t:Q(n,e,t);const g=fv(Al(l));return new Uo(g,u,s)}function Q(n,e,t){const r={};return Object.entries(n.children).forEach(([s,u])=>{r[s]=u===e?t:Q(u,e,t)}),new xn(n.segments,r)}class ge{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&E(r[0]))throw new d.vHH(4003,!1);const s=r.find(T);if(s&&s!==$r(r))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rt{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function hs(n,e,t){if(n||(n=new xn([],{})),0===n.segments.length&&n.hasChildren())return oo(n,e,t);const r=function ig(n,e,t){let r=0,s=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return u;const l=n.segments[s],g=t[r];if(T(g))break;const v=`${g}`,C=r<t.length-1?t[r+1]:null;if(s>0&&void 0===v)break;if(v&&C&&"object"==typeof C&&void 0===C.outlets){if(!Sl(v,C,l))return u;r+=2}else{if(!Sl(v,{},l))return u;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new xn(n.segments.slice(0,r.pathIndex),{});return u.children[on]=new xn(n.segments.slice(r.pathIndex),n.children),oo(u,0,s)}return r.match&&0===s.length?new xn(n.segments,{}):r.match&&!n.hasChildren()?ac(n,e,t):r.match?oo(n,0,s):ac(n,e,t)}function oo(n,e,t){if(0===t.length)return new xn(n.segments,{});{const r=function yi(n){return T(n[0])?n[0].outlets:{[on]:n}}(t),s={};if(Object.keys(r).some(u=>u!==on)&&n.children[on]&&1===n.numberOfChildren&&0===n.children[on].segments.length){const u=oo(n.children[on],e,t);return new xn(n.segments,u.children)}return Object.entries(r).forEach(([u,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(s[u]=hs(n.children[u],e,l))}),Object.entries(n.children).forEach(([u,l])=>{void 0===r[u]&&(s[u]=l)}),new xn(n.segments,s)}}function ac(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const u=t[s];if(T(u)){const v=wa(u.outlets);return new xn(r,v)}if(0===s&&E(t[0])){r.push(new Il(n.segments[e].path,Ea(t[0]))),s++;continue}const l=T(u)?u.outlets[on]:`${u}`,g=s<t.length-1?t[s+1]:null;l&&g&&E(g)?(r.push(new Il(l,Ea(g))),s+=2):(r.push(new Il(l,{})),s++)}return new xn(r,{})}function wa(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=ac(new xn([],{}),0,r))}),e}function Ea(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Sl(n,e,t){return n==t.path&&Mi(e,t.parameters)}const uc="imperative";class fs{constructor(e,t){this.id=e,this.url=t}}class cu extends fs{constructor(e,t,r="imperative",s=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ao extends fs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cc extends fs{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class jo extends fs{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=16}}class Ml extends fs{constructor(e,t,r,s){super(e,t),this.error=r,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ph extends fs{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xE extends fs{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bT extends fs{constructor(e,t,r,s,u){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class OE extends fs{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TM extends fs{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PE{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class AM{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class DT{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TT{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gv{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SM{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AT{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Nh{}class NE{constructor(e){this.url=e}}class MM{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new sg,this.attachRef=null}}let sg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const s=this.getOrCreateContext(t);s.outlet=r,this.contexts.set(t,s)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new MM,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class ST{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=mv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=mv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=xl(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return xl(e,this._root).map(t=>t.value)}}function mv(n,e){if(n===e.value)return e;for(const t of e.children){const r=mv(n,t);if(r)return r}return null}function xl(n,e){if(n===e.value)return[e];for(const t of e.children){const r=xl(n,t);if(r.length)return r.unshift(e),r}return[]}class zs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function lc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class yv extends ST{constructor(e,t){super(e),this.snapshot=t,wv(this,e)}toString(){return this.snapshot.toString()}}function vv(n,e){const t=function Ol(n,e){const l=new hc([],{},{},"",{},on,e,null,{});return new Rh("",new zs(l,[]))}(0,e),r=new ci.X([new Il("",{})]),s=new ci.X({}),u=new ci.X({}),l=new ci.X({}),g=new ci.X(""),v=new dc(r,s,l,g,u,on,e,t.root);return v.snapshot=t.root,new yv(new zs(v,[]),t)}class dc{constructor(e,t,r,s,u,l,g,v){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=s,this.dataSubject=u,this.outlet=l,this.component=g,this._futureSnapshot=v,this.title=this.dataSubject?.pipe((0,Qt.U)(C=>C[Fo]))??(0,Pt.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Qt.U)(e=>Lo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Qt.U)(e=>Lo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _v(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const s=t[r],u=t[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(u.component)break;r--}}return function og(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class hc{get title(){return this.data?.[Fo]}constructor(e,t,r,s,u,l,g,v,C){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=l,this.component=g,this.routeConfig=v,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Rh extends ST{constructor(e,t){super(t),this.url=e,wv(this,t)}toString(){return RE(this._root)}}function wv(n,e){e.value._routerState=n,e.children.forEach(t=>wv(n,t))}function RE(n){const e=n.children.length>0?` { ${n.children.map(RE).join(", ")} } `:"";return`${n.value}${e}`}function Ev(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Mi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Mi(e.params,t.params)||n.paramsSubject.next(t.params),function Yp(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Mi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Mi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ag(n,e){const t=Mi(n.params,e.params)&&function lv(n,e){return _a(n,e)&&n.every((t,r)=>Mi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ag(n.parent,e.parent))}let kh=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=on,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(sg),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(ug,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:s}=t.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=t;const s=this.location,l=t.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,v=new MT(t,g,s.injector);this.activated=s.createComponent(l,{index:s.length,injector:v,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]})}return n})();class MT{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===dc?this.route:e===sg?this.childContexts:this.parent.get(e,t)}}const ug=new d.OlP("");let kE=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,s=Ja([r.queryParams,r.params,r.data]).pipe((0,Hn.w)(([u,l,g],v)=>(g={...u,...l,...g},0===v?(0,Pt.of)(g):Promise.resolve(g)))).subscribe(u=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const l=(0,d.qFp)(r.component);if(l)for(const{templateName:g}of l.inputs)t.activatedComponentRef.setInput(g,u[g]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,s)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();function Fh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function xT(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return Fh(n,r,s);return Fh(n,r)})}(n,e,t);return new zs(r,s)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(g=>Fh(n,g)),l}}const r=function ps(n){return new dc(new ci.X(n.url),new ci.X(n.params),new ci.X(n.queryParams),new ci.X(n.fragment),new ci.X(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(u=>Fh(n,u));return new zs(r,s)}}const Lh="ngNavigationCancelingError";function Iv(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=uu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=cg(!1,0,e);return s.url=t,s.navigationBehaviorOptions=r,s}function cg(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Lh]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Pl(n){return n&&n[Lh]}let Cv=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(r,s){1&r&&d._UZ(0,"router-outlet")},dependencies:[kh],encapsulation:2})}return n})();function Vh(n){const e=n.children&&n.children.map(Vh),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==on&&(t.component=Cv),t}function Ds(n){return n.outlet||on}function Ia(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class VE{constructor(e,t,r,s,u){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s,this.inputBindingEnabled=u}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Ev(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=lc(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,s[l],r),delete s[l]}),Object.values(s).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(s===u)if(s.component){const l=r.getContext(s.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=lc(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],s);if(r&&r.outlet){const l=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=lc(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],s);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const s=lc(t);e.children.forEach(u=>{this.activateRoutes(u,s[u.value.outlet],r),this.forwardEvent(new SM(u.value.snapshot))}),e.children.length&&this.forwardEvent(new TT(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(Ev(s),s===u)if(s.component){const l=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const l=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const g=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),l.children.onOutletReAttached(g.contexts),l.attachRef=g.componentRef,l.route=g.route.value,l.outlet&&l.outlet.attach(g.componentRef,g.route.value),Ev(g.route.value),this.activateChildRoutes(e,null,l.children)}else{const g=Ia(s.snapshot);l.attachRef=null,l.route=s,l.injector=g,l.outlet&&l.outlet.activateWith(s,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class bv{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Uh{constructor(e,t){this.component=e,this.route=t}}function Nl(n,e,t){const r=n._root;return pc(r,e?e._root:null,t,[r.value])}function fc(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,d.Z0I)(n)?e.get(n):n:r}function pc(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=lc(e);return n.children.forEach(l=>{(function dg(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const v=function UT(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!_a(n.url,e.url);case"pathParamsOrQueryParamsChange":return!_a(n.url,e.url)||!Mi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ag(n,e)||!Mi(n.queryParams,e.queryParams);default:return!ag(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);v?s.canActivateChecks.push(new bv(r)):(u.data=l.data,u._resolvedData=l._resolvedData),pc(n,e,u.component?g?g.children:null:t,r,s),v&&g&&g.outlet&&g.outlet.isActivated&&s.canDeactivateChecks.push(new Uh(g.outlet.component,l))}else l&&Bh(e,g,s),s.canActivateChecks.push(new bv(r)),pc(n,null,u.component?g?g.children:null:t,r,s)})(l,u[l.value.outlet],t,r.concat([l.value]),s),delete u[l.value.outlet]}),Object.entries(u).forEach(([l,g])=>Bh(g,t.getContext(l),s)),s}function Bh(n,e,t){const r=lc(n),s=n.value;Object.entries(r).forEach(([u,l])=>{Bh(l,s.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Uh(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function jh(n){return"function"==typeof n}function jE(n){return n instanceof pa||"EmptyError"===n?.name}const Rl=Symbol("INITIAL_VALUE");function gc(){return(0,Hn.w)(n=>Ja(n.map(e=>e.pipe(fr(1),eu(Rl)))).pipe((0,Qt.U)(e=>{for(const t of e)if(!0!==t){if(t===Rl)return Rl;if(!1===t||t instanceof Uo)return t}return!0}),li(e=>e!==Rl),fr(1)))}function Tv(n){return(0,ic.z)((0,_r.b)(e=>{if(uu(e))throw Iv(0,e)}),(0,Qt.U)(e=>!0===e))}class $h{constructor(e){this.segmentGroup=e||null}}class Hh{constructor(e){this.urlTree=e}}function $o(n){return ga(new $h(n))}function Sv(n){return ga(new Hh(n))}class qE{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new d.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return(0,Pt.of)(r);if(s.numberOfChildren>1||!s.children[on])return ga(new d.vHH(4e3,!1));s=s.children[on]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,s){const u=this.createSegmentGroup(e,t.root,r,s);return new Uo(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([s,u])=>{if("string"==typeof u&&u.startsWith(":")){const g=u.substring(1);r[s]=t[g]}else r[s]=u}),r}createSegmentGroup(e,t,r,s){const u=this.createSegments(e,t.segments,r,s);let l={};return Object.entries(t.children).forEach(([g,v])=>{l[g]=this.createSegmentGroup(e,v,r,s)}),new xn(u,l)}createSegments(e,t,r,s){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,s):this.findOrReturn(u,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new d.vHH(4001,!1);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}const Gh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zh(n,e,t,r,s){const u=xv(n,e,t);return u.matched?(r=function LE(n,e){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function Av(n,e,t,r){const s=e.canMatch;if(!s||0===s.length)return(0,Pt.of)(!0);const u=s.map(l=>{const g=fc(l,n);return Vo(function Dv(n){return n&&jh(n.canMatch)}(g)?g.canMatch(e,t):n.runInContext(()=>g(e,t)))});return(0,Pt.of)(u).pipe(gc(),Tv())}(r,e,t).pipe((0,Qt.U)(l=>!0===l?u:{...Gh}))):(0,Pt.of)(u)}function xv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Gh}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||Kp)(t,n,e);if(!s)return{...Gh};const u={};Object.entries(s.posParams??{}).forEach(([g,v])=>{u[g]=v.path});const l=s.consumed.length>0?{...u,...s.consumed[s.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:l,positionalParamSegments:s.posParams??{}}}function Ov(n,e,t,r){return t.length>0&&function WT(n,e,t){return t.some(r=>qh(n,e,r)&&Ds(r)!==on)}(n,t,r)?{segmentGroup:new xn(e,ZT(r,new xn(t,n.children))),slicedSegments:[]}:0===t.length&&function ZE(n,e,t){return t.some(r=>qh(n,e,r))}(n,t,r)?{segmentGroup:new xn(n.segments,qT(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new xn(n.segments,n.children),slicedSegments:t}}function qT(n,e,t,r,s){const u={};for(const l of r)if(qh(n,t,l)&&!s[Ds(l)]){const g=new xn([],{});u[Ds(l)]=g}return{...s,...u}}function ZT(n,e){const t={};t[on]=e;for(const r of n)if(""===r.path&&Ds(r)!==on){const s=new xn([],{});t[Ds(r)]=s}return t}function qh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class KT{constructor(e,t,r,s,u,l,g){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=s,this.urlTree=u,this.paramsInheritanceStrategy=l,this.urlSerializer=g,this.allowRedirects=!0,this.applyRedirects=new qE(this.urlSerializer,this.urlTree)}noMatchError(e){return new d.vHH(4002,!1)}recognize(){const e=Ov(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,on).pipe(ls(t=>{if(t instanceof Hh)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof $h?this.noMatchError(t):t}),(0,Qt.U)(t=>{const r=new hc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},on,this.rootComponentType,null,{}),s=new zs(r,t),u=new Rh("",s),l=function w(n,e,t=null,r=null){return m(p(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(u._root),{state:u,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,on).pipe(ls(r=>{throw r instanceof $h?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=_v(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,s,!0)}processChildren(e,t,r){const s=[];for(const u of Object.keys(r.children))"primary"===u?s.unshift(u):s.push(u);return(0,Xn.D)(s).pipe(ko(u=>{const l=r.children[u],g=function LT(n,e){const t=n.filter(r=>Ds(r)===e);return t.push(...n.filter(r=>Ds(r)!==e)),t}(t,u);return this.processSegmentGroup(e,g,l,u)}),ma((u,l)=>(u.push(...l),u)),tu(null),function Wp(n,e){const t=arguments.length>=2;return r=>r.pipe(n?li((s,u)=>n(s,u,r)):fa.y,nu(1),t?tu(e):sc(()=>new pa))}(),(0,Si.z)(u=>{if(null===u)return $o(r);const l=WE(u);return function YT(n){n.sort((e,t)=>e.value.outlet===on?-1:t.value.outlet===on?1:e.value.outlet.localeCompare(t.value.outlet))}(l),(0,Pt.of)(l)}))}processSegment(e,t,r,s,u,l){return(0,Xn.D)(t).pipe(ko(g=>this.processSegmentAgainstRoute(g._injector??e,t,g,r,s,u,l).pipe(ls(v=>{if(v instanceof $h)return(0,Pt.of)(null);throw v}))),jr(g=>!!g),ls(g=>{if(jE(g))return function Pv(n,e,t){return 0===e.length&&!n.children[t]}(r,s,u)?(0,Pt.of)([]):$o(r);throw g}))}processSegmentAgainstRoute(e,t,r,s,u,l,g){return function gg(n,e,t,r){return!!(Ds(n)===r||r!==on&&qh(e,t,n))&&("**"===n.path||xv(e,n,t).matched)}(r,s,u,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,s,r,u,l,g):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,s,t,r,u,l):$o(s):$o(s)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,s){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Sv(u):this.applyRedirects.lineralizeSegments(r,u).pipe((0,Si.z)(l=>{const g=new xn(l,{});return this.processSegment(e,t,g,l,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l){const{matched:g,consumedSegments:v,remainingSegments:C,positionalParamSegments:D}=xv(t,s,u);if(!g)return $o(t);const x=this.applyRedirects.applyRedirectCommands(v,s.redirectTo,D);return s.redirectTo.startsWith("/")?Sv(x):this.applyRedirects.lineralizeSegments(s,x).pipe((0,Si.z)(z=>this.processSegment(e,r,t,z.concat(C),l,!1)))}matchSegmentAgainstRoute(e,t,r,s,u,l){let g;if("**"===r.path){const v=s.length>0?$r(s).parameters:{},C=new hc(s,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,YE(r),Ds(r),r.component??r._loadedComponent??null,r,yc(r));g=(0,Pt.of)({snapshot:C,consumedSegments:[],remainingSegments:[]}),t.children={}}else g=zh(t,r,s,e).pipe((0,Qt.U)(({matched:v,consumedSegments:C,remainingSegments:D,parameters:x})=>v?{snapshot:new hc(C,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,YE(r),Ds(r),r.component??r._loadedComponent??null,r,yc(r)),consumedSegments:C,remainingSegments:D}:null));return g.pipe((0,Hn.w)(v=>null===v?$o(t):this.getChildConfig(e=r._injector??e,r,s).pipe((0,Hn.w)(({routes:C})=>{const D=r._loadedInjector??e,{snapshot:x,consumedSegments:z,remainingSegments:J}=v,{segmentGroup:Ce,slicedSegments:Fe}=Ov(t,z,J,C);if(0===Fe.length&&Ce.hasChildren())return this.processChildren(D,C,Ce).pipe((0,Qt.U)(It=>null===It?null:[new zs(x,It)]));if(0===C.length&&0===Fe.length)return(0,Pt.of)([new zs(x,[])]);const Ve=Ds(r)===u;return this.processSegment(D,C,Ce,Fe,Ve?on:u,!0).pipe((0,Qt.U)(It=>[new zs(x,It)]))}))))}getChildConfig(e,t,r){return t.children?(0,Pt.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,Pt.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function zE(n,e,t,r){const s=e.canLoad;if(void 0===s||0===s.length)return(0,Pt.of)(!0);const u=s.map(l=>{const g=fc(l,n);return Vo(function jT(n){return n&&jh(n.canLoad)}(g)?g.canLoad(e,t):n.runInContext(()=>g(e,t)))});return(0,Pt.of)(u).pipe(gc(),Tv())}(e,t,r).pipe((0,Si.z)(s=>s?this.configLoader.loadChildren(e,t).pipe((0,_r.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function pg(n){return ga(cg(!1,3))}())):(0,Pt.of)({routes:[],injector:e})}}function RM(n){const e=n.value.routeConfig;return e&&""===e.path}function WE(n){const e=[],t=new Set;for(const r of n){if(!RM(r)){e.push(r);continue}const s=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=WE(r.children);e.push(new zs(r.value,s))}return e.filter(r=>!t.has(r))}function YE(n){return n.data||{}}function yc(n){return n.resolve||{}}function tI(n){return"string"==typeof n.title||null===n.title}function Rv(n){return(0,Hn.w)(e=>{const t=n(e);return t?(0,Xn.D)(t).pipe((0,Qt.U)(()=>e)):(0,Pt.of)(e)})}const Fl=new d.OlP("ROUTES");let kv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,Pt.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Vo(t.loadComponent()).pipe((0,Qt.U)(Ll),(0,_r.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),ru(()=>{this.componentLoaders.delete(t)})),s=new yl(r,()=>new Xi.x).pipe(Th());return this.componentLoaders.set(t,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,Pt.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=function QT(n,e,t,r){return Vo(n.loadChildren()).pipe((0,Qt.U)(Ll),(0,Si.z)(s=>s instanceof d.YKP||Array.isArray(s)?(0,Pt.of)(s):(0,Xn.D)(e.compileModuleAsync(s))),(0,Qt.U)(s=>{r&&r(n);let u,l,g=!1;return Array.isArray(s)?(l=s,!0):(u=s.create(t).injector,l=u.get(Fl,[],{optional:!0,self:!0}).flat()),{routes:l.map(Vh),injector:u}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(ru(()=>{this.childrenLoaders.delete(r)})),l=new yl(u,()=>new Xi.x).pipe(Th());return this.childrenLoaders.set(r,l),l}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ll(n){return function lu(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let yg=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Xi.x,this.transitionAbortSubject=new Xi.x,this.configLoader=(0,d.f3M)(kv),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(Cl),this.rootContexts=(0,d.f3M)(sg),this.inputBindingEnabled=null!==(0,d.f3M)(ug,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Pt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new AM(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new PE(s))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,s){return this.transitions=new ci.X({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:uc,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(li(u=>0!==u.id),(0,Qt.U)(u=>({...u,extractedUrl:t.urlHandlingStrategy.extract(u.rawUrl)})),(0,Hn.w)(u=>{this.currentTransition=u;let l=!1,g=!1;return(0,Pt.of)(u).pipe((0,_r.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.rawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Hn.w)(v=>{const C=v.currentBrowserUrl.toString(),D=!t.navigated||v.extractedUrl.toString()!==C||C!==v.currentUrlTree.toString();if(!D&&"reload"!==(v.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const z="";return this.events.next(new jo(v.id,this.urlSerializer.serialize(v.rawUrl),z,0)),v.resolve(null),ro.E}if(t.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return(0,Pt.of)(v).pipe((0,Hn.w)(z=>{const J=this.transitions?.getValue();return this.events.next(new cu(z.id,this.urlSerializer.serialize(z.extractedUrl),z.source,z.restoredState)),J!==this.transitions?.getValue()?ro.E:Promise.resolve(z)}),function mg(n,e,t,r,s,u){return(0,Si.z)(l=>function kl(n,e,t,r,s,u,l="emptyOnly"){return new KT(n,e,t,r,s,l,u).recognize()}(n,e,t,r,l.extractedUrl,s,u).pipe((0,Qt.U)(({state:g,tree:v})=>({...l,targetSnapshot:g,urlAfterRedirects:v}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,_r.b)(z=>{u.targetSnapshot=z.targetSnapshot,u.urlAfterRedirects=z.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:z.urlAfterRedirects};const J=new Ph(z.id,this.urlSerializer.serialize(z.extractedUrl),this.urlSerializer.serialize(z.urlAfterRedirects),z.targetSnapshot);this.events.next(J)}));if(D&&t.urlHandlingStrategy.shouldProcessUrl(v.currentRawUrl)){const{id:z,extractedUrl:J,source:Ce,restoredState:Fe,extras:Ve}=v,It=new cu(z,this.urlSerializer.serialize(J),Ce,Fe);this.events.next(It);const Ut=vv(0,this.rootComponentType).snapshot;return this.currentTransition=u={...v,targetSnapshot:Ut,urlAfterRedirects:J,extras:{...Ve,skipLocationChange:!1,replaceUrl:!1}},(0,Pt.of)(u)}{const z="";return this.events.next(new jo(v.id,this.urlSerializer.serialize(v.extractedUrl),z,1)),v.resolve(null),ro.E}}),(0,_r.b)(v=>{const C=new xE(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(C)}),(0,Qt.U)(v=>(this.currentTransition=u={...v,guards:Nl(v.targetSnapshot,v.currentSnapshot,this.rootContexts)},u)),function mc(n,e){return(0,Si.z)(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?(0,Pt.of)({...t,guardsResult:!0}):function $E(n,e,t,r){return(0,Xn.D)(n).pipe((0,Si.z)(s=>function GE(n,e,t,r,s){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,Pt.of)(!0);const l=u.map(g=>{const v=Ia(e)??s,C=fc(g,v);return Vo(function hg(n){return n&&jh(n.canDeactivate)}(C)?C.canDeactivate(n,e,t,r):v.runInContext(()=>C(n,e,t,r))).pipe(jr())});return(0,Pt.of)(l).pipe(gc())}(s.component,s.route,t,e,r)),jr(s=>!0!==s,!0))}(l,r,s,n).pipe((0,Si.z)(g=>g&&function BT(n){return"boolean"==typeof n}(g)?function HE(n,e,t,r){return(0,Xn.D)(e).pipe(ko(s=>Ro(function NM(n,e){return null!==n&&e&&e(new DT(n)),(0,Pt.of)(!0)}(s.route.parent,r),function GT(n,e){return null!==n&&e&&e(new gv(n)),(0,Pt.of)(!0)}(s.route,r),function zT(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function lg(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Dh(()=>{const g=l.guards.map(v=>{const C=Ia(l.node)??t,D=fc(v,C);return Vo(function UE(n){return n&&jh(n.canActivateChild)}(D)?D.canActivateChild(r,n):C.runInContext(()=>D(r,n))).pipe(jr())});return(0,Pt.of)(g).pipe(gc())}));return(0,Pt.of)(u).pipe(gc())}(n,s.path,t),function fg(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Pt.of)(!0);const s=r.map(u=>Dh(()=>{const l=Ia(e)??t,g=fc(u,l);return Vo(function $T(n){return n&&jh(n.canActivate)}(g)?g.canActivate(e,n):l.runInContext(()=>g(e,n))).pipe(jr())}));return(0,Pt.of)(s).pipe(gc())}(n,s.route,t))),jr(s=>!0!==s,!0))}(r,u,n,e):(0,Pt.of)(g)),(0,Qt.U)(g=>({...t,guardsResult:g})))})}(this.environmentInjector,v=>this.events.next(v)),(0,_r.b)(v=>{if(u.guardsResult=v.guardsResult,uu(v.guardsResult))throw Iv(0,v.guardsResult);const C=new bT(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.events.next(C)}),li(v=>!!v.guardsResult||(this.cancelNavigationTransition(v,"",3),!1)),Rv(v=>{if(v.guards.canActivateChecks.length)return(0,Pt.of)(v).pipe((0,_r.b)(C=>{const D=new OE(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(D)}),(0,Hn.w)(C=>{let D=!1;return(0,Pt.of)(C).pipe(function Nv(n,e){return(0,Si.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return(0,Pt.of)(t);let u=0;return(0,Xn.D)(s).pipe(ko(l=>function QE(n,e,t,r){const s=n.routeConfig,u=n._resolve;return void 0!==s?.title&&!tI(s)&&(u[Fo]=s.title),function JE(n,e,t,r){const s=function XE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===s.length)return(0,Pt.of)({});const u={};return(0,Xn.D)(s).pipe((0,Si.z)(l=>function eI(n,e,t,r){const s=Ia(e)??r,u=fc(n,s);return Vo(u.resolve?u.resolve(e,t):s.runInContext(()=>u(e,t)))}(n[l],e,t,r).pipe(jr(),(0,_r.b)(g=>{u[l]=g}))),nu(1),function Ah(n){return(0,Qt.U)(()=>n)}(u),ls(l=>jE(l)?ro.E:ga(l)))}(u,n,e,r).pipe((0,Qt.U)(l=>(n._resolvedData=l,n.data=_v(n,t).resolve,s&&tI(s)&&(n.data[Fo]=s.title),null)))}(l.route,r,n,e)),(0,_r.b)(()=>u++),nu(1),(0,Si.z)(l=>u===s.length?(0,Pt.of)(t):ro.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,_r.b)({next:()=>D=!0,complete:()=>{D||this.cancelNavigationTransition(C,"",2)}}))}),(0,_r.b)(C=>{const D=new TM(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(D)}))}),Rv(v=>{const C=D=>{const x=[];D.routeConfig?.loadComponent&&!D.routeConfig._loadedComponent&&x.push(this.configLoader.loadComponent(D.routeConfig).pipe((0,_r.b)(z=>{D.component=z}),(0,Qt.U)(()=>{})));for(const z of D.children)x.push(...C(z));return x};return Ja(C(v.targetSnapshot.root)).pipe(tu(),fr(1))}),Rv(()=>this.afterPreactivation()),(0,Qt.U)(v=>{const C=function FE(n,e,t){const r=Fh(n,e._root,t?t._root:void 0);return new yv(r,e)}(t.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return this.currentTransition=u={...v,targetRouterState:C},u}),(0,_r.b)(()=>{this.events.next(new Nh)}),((n,e,t,r)=>(0,Qt.U)(s=>(new VE(e,s.targetRouterState,s.currentRouterState,t,r).activate(n),s)))(this.rootContexts,t.routeReuseStrategy,v=>this.events.next(v),this.inputBindingEnabled),fr(1),(0,_r.b)({next:v=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ao(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects))),t.titleStrategy?.updateTitle(v.targetRouterState.snapshot),v.resolve(!0)},complete:()=>{l=!0}}),function _l(n){return(0,Hi.e)((e,t)=>{(0,rc.Xf)(n).subscribe((0,Ai.x)(t,()=>t.complete(),Sh.Z)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe((0,_r.b)(v=>{throw v}))),ru(()=>{l||g||this.cancelNavigationTransition(u,"",1),this.currentNavigation?.id===u.id&&(this.currentNavigation=null)}),ls(v=>{if(g=!0,Pl(v))this.events.next(new cc(u.id,this.urlSerializer.serialize(u.extractedUrl),v.message,v.cancellationCode)),function Gi(n){return Pl(n)&&uu(n.url)}(v)?this.events.next(new NE(v.url)):u.resolve(!1);else{this.events.next(new Ml(u.id,this.urlSerializer.serialize(u.extractedUrl),v,u.targetSnapshot??void 0));try{u.resolve(t.errorHandler(v))}catch(C){u.reject(C)}}return ro.E}))}))}cancelNavigationTransition(t,r,s){const u=new cc(t.id,this.urlSerializer.serialize(t.extractedUrl),r,s);this.events.next(u),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function JT(n){return n!==uc}let XT=(()=>{class n{buildTitle(t){let r,s=t.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(u=>u.outlet===on);return r}getResolvedTitleForRoute(t){return t.data[Fo]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(kM)},providedIn:"root"})}return n})(),kM=(()=>{class n extends XT{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(Le))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),FM=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(nI)},providedIn:"root"})}return n})();class LM{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let nI=(()=>{class n extends LM{static#e=this.\u0275fac=function(){let t;return function(s){return(t||(t=d.n5z(n)))(s||n)}}();static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const vg=new d.OlP("",{providedIn:"root",factory:()=>({})});let e1=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(t1)},providedIn:"root"})}return n})(),t1=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Zh=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Zh||{});function _g(n,e){n.events.pipe(li(t=>t instanceof ao||t instanceof cc||t instanceof Ml||t instanceof jo),(0,Qt.U)(t=>t instanceof ao||t instanceof jo?Zh.COMPLETE:t instanceof cc&&(0===t.code||1===t.code)?Zh.REDIRECTING:Zh.FAILED),li(t=>t!==Zh.REDIRECTING),fr(1)).subscribe(()=>{e()})}function Ca(n){throw n}function Wh(n,e,t){return e.parse("/")}const rI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this._events=new Xi.x,this.options=(0,d.f3M)(vg,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||Ca,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Wh,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(e1),this.routeReuseStrategy=(0,d.f3M)(FM),this.titleStrategy=(0,d.f3M)(XT),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,d.f3M)(Fl,{optional:!0})?.flat()??[],this.navigationTransitions=(0,d.f3M)(yg),this.urlSerializer=(0,d.f3M)(Cl),this.location=(0,d.f3M)(We),this.componentInputBindingEnabled=!!(0,d.f3M)(ug,{optional:!0}),this.eventsSubscription=new ml.w0,this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Uo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=vv(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(n1(r)&&this._events.next(r));if(r instanceof cu)JT(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(r instanceof jo)this.rawUrlTree=s.rawUrl;else if(r instanceof Ph){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const u=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(u,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(r instanceof Nh)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(r instanceof cc)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(s);else if(r instanceof NE){const u=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),l={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||JT(s.source)};this.scheduleNavigation(u,uc,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}r instanceof Ml&&this.restoreHistory(s,!0),r instanceof ao&&(this.navigated=!0),n1(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),uc,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,s){const u={replaceUrl:!0},l=s?.navigationId?s:null;if(s){const v={...s};delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(u.state=v)}const g=this.parseUrl(t);this.scheduleNavigation(g,r,l,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Vh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:s,queryParams:u,fragment:l,queryParamsHandling:g,preserveFragment:v}=r,C=v?this.currentUrlTree.fragment:l;let x,D=null;switch(g){case"merge":D={...this.currentUrlTree.queryParams,...u};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=u||null}null!==D&&(D=this.removeEmptyProps(D));try{x=p(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),x=this.currentUrlTree.root}return m(x,t,D,C??null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=uu(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(u,uc,null,r)}navigate(t,r={skipLocationChange:!1}){return function VM(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new d.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?{...rI}:!1===r?{...iI}:r,uu(t))return Xp(this.currentUrlTree,t,s);const u=this.parseUrl(t);return Xp(this.currentUrlTree,u,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const u=t[s];return null!=u&&(r[s]=u),r},{})}scheduleNavigation(t,r,s,u,l){if(this.disposed)return Promise.resolve(!1);let g,v,C;l?(g=l.resolve,v=l.reject,C=l.promise):C=new Promise((x,z)=>{g=x,v=z});const D=this.pendingTasks.add();return _g(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(D))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:u,resolve:g,reject:v,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(x=>Promise.reject(x))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(s,"",l)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(s,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-this.browserPageId;0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function n1(n){return!(n instanceof Nh||n instanceof NE)}let wg=(()=>{class n{constructor(t,r,s,u,l,g){this.router=t,this.route=r,this.tabIndexAttribute=s,this.renderer=u,this.el=l,this.locationStrategy=g,this.href=null,this.commands=null,this.onChanges=new Xi.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const v=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===v||"area"===v,this.isAnchorElement?this.subscription=t.events.subscribe(C=>{C instanceof ao&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,s,u,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||s||u||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const s=this.renderer,u=this.el.nativeElement;null!==r?s.setAttribute(u,t,r):s.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(Yr),d.Y36(dc),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Ue))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){1&r&&d.NdJ("click",function(l){return s.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&r&&d.uIk("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",d.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",d.VuI],replaceUrl:["replaceUrl","replaceUrl",d.VuI],routerLink:"routerLink"},standalone:!0,features:[d.Xq5,d.TTD]})}return n})(),Kh=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,s,u,l){this.router=t,this.element=r,this.renderer=s,this.cdr=u,this.link=l,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new d.vpe,this.routerEventsSubscription=t.events.subscribe(g=>{g instanceof ao&&this.update()})}ngAfterContentInit(){(0,Pt.of)(this.links.changes,(0,Pt.of)(null)).pipe((0,nc.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,Xn.D)(t).pipe((0,nc.J)()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function Fv(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>!!s.urlTree&&t.isActive(s.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(Yr),d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO),d.Y36(wg,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,s,u){if(1&r&&d.Suo(u,wg,5),2&r){let l;d.iGM(l=d.CRH())&&(s.links=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[d.TTD]})}return n})();class r1{}let s1=(()=>{class n{constructor(t,r,s,u,l){this.router=t,this.injector=s,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(li(t=>t instanceof ao),ko(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,d.MMx)(u.providers,t,`Route: ${u.path}`));const l=u._injector??t,g=u._loadedInjector??l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&s.push(this.preloadConfig(l,u)),(u.children||u._loadedRoutes)&&s.push(this.processRoutes(g,u.children??u._loadedRoutes))}return(0,Xn.D)(s).pipe((0,nc.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let s;s=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,Pt.of)(null);const u=s.pipe((0,Si.z)(l=>null===l?(0,Pt.of)(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,Xn.D)([u,l]).pipe((0,nc.J)())}return u})}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(Yr),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(r1),d.LFG(kv))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Lv=new d.OlP("");let sI=(()=>{class n{constructor(t,r,s,u,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=s,this.zone=u,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof cu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ao?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof jo&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof AT&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new AT(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){d.$Z()};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();function qs(n,e){return{\u0275kind:n,\u0275providers:e}}function aI(){const n=(0,d.f3M)(d.zs3);return e=>{const t=n.get(d.z2F);if(e!==t.components[0])return;const r=n.get(Yr),s=n.get(uI);1===n.get(Qh)&&r.initialNavigation(),n.get(lI,null,d.XFs.Optional)?.setUpPreloading(),n.get(Lv,null,d.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const uI=new d.OlP("",{factory:()=>new Xi.x}),Qh=new d.OlP("",{providedIn:"root",factory:()=>1}),lI=new d.OlP("");function u1(n){return qs(0,[{provide:lI,useExisting:s1},{provide:r1,useExisting:n}])}const Vl=new d.OlP("ROUTER_FORROOT_GUARD"),dI=[We,{provide:Cl,useClass:tg},Yr,sg,{provide:dc,useFactory:function Vv(n){return n.routerState.root},deps:[Yr]},kv,[]];function hI(){return new d.PXZ("Router",Yr)}let Eg=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[dI,[],{provide:Fl,multi:!0,useValue:t},{provide:Vl,useFactory:pI,deps:[[Yr,new d.FiY,new d.tp0]]},{provide:vg,useValue:r||{}},r?.useHash?{provide:Ue,useClass:ke}:{provide:Ue,useClass:Ye},{provide:Lv,useFactory:()=>{const n=(0,d.f3M)(mi),e=(0,d.f3M)(d.R0b),t=(0,d.f3M)(vg),r=(0,d.f3M)(yg),s=(0,d.f3M)(Cl);return t.scrollOffset&&n.setOffset(t.scrollOffset),new sI(s,r,n,e,t)}},r?.preloadingStrategy?u1(r.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:hI},r?.initialNavigation?Ig(r):[],r?.bindToComponentInputs?qs(8,[kE,{provide:ug,useExisting:kE}]).\u0275providers:[],[{provide:d1,useFactory:aI},{provide:d.tb,multi:!0,useExisting:d1}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Fl,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(Vl,8))};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})();function pI(n){return"guarded"}function Ig(n){return["disabled"===n.initialNavigation?qs(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)(Yr);return()=>{e.setUpLocationChangeListener()}}},{provide:Qh,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?qs(2,[{provide:Qh,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const t=e.get(Oe,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const s=e.get(Yr),u=e.get(uI);_g(s,()=>{r(!0)}),e.get(yg).afterPreactivation=()=>(r(!0),u.closed?(0,Pt.of)(void 0):u),s.initialNavigation()}))}}]).\u0275providers:[]]}const d1=new d.OlP("");var _e=S(5861),Xh=S(6321),p1=S(671);var Sr=S(4556);function ef(){return(0,Hi.e)((n,e)=>{let t,r=!1;n.subscribe((0,Ai.x)(e,s=>{const u=t;t=s,r&&e.next([u,s]),r=!0}))})}var pt,g1=S(3997),Oi=S(6304),Bl=(S(8661),S(3399)),bg=S(7592),Dg=S(4537),du=S(7879),Fn=S(9058),mI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},uo={},tf=tf||{},an=mI||self;function $v(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function nf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var yI="closure_uid_"+(1e9*Math.random()>>>0),GM=0;function Tg(n,e,t){return n.call.apply(n.bind,arguments)}function v1(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function vi(n,e,t){return(vi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Tg:v1).apply(null,arguments)}function jl(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Mr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,s,u){for(var l=Array(arguments.length-2),g=2;g<arguments.length;g++)l[g-2]=arguments[g];return e.prototype[s].apply(r,l)}}function Go(){this.s=this.s,this.o=this.o}Go.prototype.s=!1,Go.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function y1(n){Object.prototype.hasOwnProperty.call(n,yI)&&n[yI]||(n[yI]=++GM)}(this)},Go.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $l=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Hl(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function vc(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if($v(r)){const s=n.length||0,u=r.length||0;n.length=s+u;for(let l=0;l<u;l++)n[s+l]=r[l]}else n.push(r)}}function _i(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}_i.prototype.h=function(){this.defaultPrevented=!0};var Gv=function(){if(!an.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{an.addEventListener("test",()=>{},e),an.removeEventListener("test",()=>{},e)}catch{}return n}();function hu(n){return/^[\s\xa0]*$/.test(n)}function zv(){var n=an.navigator;return n&&(n=n.userAgent)?n:""}function Zs(n){return-1!=zv().indexOf(n)}function _c(n){return _c[" "](n),n}_c[" "]=function(){};var EI,n,vI=Zs("Opera"),Gl=Zs("Trident")||Zs("MSIE"),_I=Zs("Edge"),rf=_I||Gl,qv=Zs("Gecko")&&!(-1!=zv().toLowerCase().indexOf("webkit")&&!Zs("Edge"))&&!(Zs("Trident")||Zs("MSIE"))&&!Zs("Edge"),w1=-1!=zv().toLowerCase().indexOf("webkit")&&!Zs("Edge");function wI(){var n=an.document;return n?n.documentMode:void 0}e:{var Zv="",zl=(n=zv(),qv?/rv:([^\);]+)(\)|;)/.exec(n):_I?/Edge\/([\d\.]+)/.exec(n):Gl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):w1?/WebKit\/(\S+)/.exec(n):vI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(zl&&(Zv=zl?zl[1]:""),Gl){var sf=wI();if(null!=sf&&sf>parseFloat(Zv)){EI=String(sf);break e}}EI=Zv}var Yv=an.document&&Gl&&(wI()||parseInt(EI,10))||void 0;function fu(n,e){if(_i.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(qv){e:{try{_c(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:E1[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&fu.$.h.call(this)}}Mr(fu,_i);var E1={2:"touch",3:"pen",4:"mouse"};fu.prototype.h=function(){fu.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ql="closure_listenable_"+(1e6*Math.random()|0),I1=0;function II(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=s,this.key=++I1,this.fa=this.ia=!1}function Qv(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Jv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function CI(n){const e={};for(const t in n)e[t]=n[t];return e}const wc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zl(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let u=0;u<wc.length;u++)t=wc[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Sg(n){this.src=n,this.g={},this.h=0}function Mg(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],s=$l(r,e);(u=0<=s)&&Array.prototype.splice.call(r,s,1),u&&(Qv(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Xv(n,e,t,r){for(var s=0;s<n.length;++s){var u=n[s];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return s}return-1}Sg.prototype.add=function(n,e,t,r,s){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=Xv(n,e,r,s);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new II(e,this.src,u,!!r,s)).ia=t,n.push(e)),e};var e_="closure_lm_"+(1e6*Math.random()|0),t_={};function n_(n,e,t,r,s){if(r&&r.once)return C1(n,e,t,r,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)n_(n,e[u],t,r,s);return null}return t=Ng(t),n&&n[ql]?n.O(e,t,nf(r)?!!r.capture:!!r,s):r_(n,e,t,!1,r,s)}function r_(n,e,t,r,s,u){if(!e)throw Error("Invalid event type");var l=nf(s)?!!s.capture:!!s,g=Pg(n);if(g||(n[e_]=g=new Sg(n)),(t=g.add(e,t,r,l,u)).proxy)return t;if(r=function i_(){const e=b1;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Gv||(s=l),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(bI(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function C1(n,e,t,r,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)C1(n,e[u],t,r,s);return null}return t=Ng(t),n&&n[ql]?n.P(e,t,nf(r)?!!r.capture:!!r,s):r_(n,e,t,!0,r,s)}function xg(n,e,t,r,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)xg(n,e[u],t,r,s);else r=nf(r)?!!r.capture:!!r,t=Ng(t),n&&n[ql]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Xv(u=n.g[e],t,r,s))&&(Qv(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Pg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Xv(e,t,r,s)),(t=-1<n?e[n]:null)&&Og(t))}function Og(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[ql])Mg(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(bI(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Pg(e))?(Mg(t,n),0==t.h&&(t.src=null,e[e_]=null)):Qv(n)}}}function bI(n){return n in t_?t_[n]:t_[n]="on"+n}function b1(n,e){if(n.fa)n=!0;else{e=new fu(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Og(n),n=t.call(r,e)}return n}function Pg(n){return(n=n[e_])instanceof Sg?n:null}var s_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ng(n){return"function"==typeof n?n:(n[s_]||(n[s_]=function(e){return n.handleEvent(e)}),n[s_])}function wi(){Go.call(this),this.i=new Sg(this),this.S=this,this.J=null}function Pi(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new _i(e,n);else if(e instanceof _i)e.target=e.target||n;else{var s=e;Zl(e=new _i(r,n),s)}if(s=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];s=o_(l,r,!0,e)&&s}if(s=o_(l=e.g=n,r,!0,e)&&s,s=o_(l,r,!1,e)&&s,t)for(u=0;u<t.length;u++)s=o_(l=e.g=t[u],r,!1,e)&&s}function o_(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.fa&&l.capture==t){var g=l.listener,v=l.la||l.src;l.ia&&Mg(n.i,l),s=!1!==g.call(v,r)&&s}}return s&&!r.defaultPrevented}Mr(wi,Go),wi.prototype[ql]=!0,wi.prototype.removeEventListener=function(n,e,t,r){xg(this,n,e,t,r)},wi.prototype.N=function(){if(wi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Qv(t[r]);delete n.g[e],n.h--}}this.J=null},wi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},wi.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Rg=an.JSON.stringify;function co(){var n=c_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var D1=new class DI{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new a_,n=>n.reset());class a_{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function pu(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function u_(n){an.setTimeout(()=>{throw n},0)}let af,kg=!1,c_=new class TI{constructor(){this.h=this.g=null}add(e,t){const r=D1.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},Fg=()=>{const n=an.Promise.resolve(void 0);af=()=>{n.then(zo)}};var zo=()=>{for(var n;n=co();){try{n.h.call(n.g)}catch(t){u_(t)}var e=D1;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}kg=!1};function uf(n,e){wi.call(this),this.h=n||1,this.g=e||an,this.j=vi(this.qb,this),this.l=Date.now()}function l_(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function AI(n,e,t){if("function"==typeof n)t&&(n=vi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=vi(n.handleEvent,n)}return 2147483647<Number(e)?-1:an.setTimeout(n,e||0)}function di(n){n.g=AI(()=>{n.g=null,n.i&&(n.i=!1,di(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Mr(uf,wi),(pt=uf.prototype).ga=!1,pt.T=null,pt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Pi(this,"tick"),this.ga&&(l_(this),this.start()))}},pt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pt.N=function(){uf.$.N.call(this),l_(this),delete this.g};class T1 extends Go{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:di(this)}N(){super.N(),this.g&&(an.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ec(n){Go.call(this),this.h=n,this.g={}}Mr(Ec,Go);var SI=[];function MI(n,e,t,r){Array.isArray(t)||(t&&(SI[0]=t.toString()),t=SI);for(var s=0;s<t.length;s++){var u=n_(e,t[s],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function Lg(n){Jv(n.g,function(e,t){this.g.hasOwnProperty(t)&&Og(e)},n),n.g={}}function cf(){this.g=!0}function Ic(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function S1(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<s.length;l++)s[l]=""}}}return Rg(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Ec.prototype.N=function(){Ec.$.N.call(this),Lg(this)},Ec.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cf.prototype.Ea=function(){this.g=!1},cf.prototype.info=function(){};var Cc={},PI=null;function lf(){return PI=PI||new wi}function bc(n){_i.call(this,Cc.Ta,n)}function Ts(n){const e=lf();Pi(e,new bc(e))}function Dc(n,e){_i.call(this,Cc.STAT_EVENT,n),this.stat=e}function ts(n){const e=lf();Pi(e,new Dc(e,n))}function NI(n,e){_i.call(this,Cc.Ua,n),this.size=e}function Wl(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return an.setTimeout(function(){n()},e)}Cc.Ta="serverreachability",Mr(bc,_i),Cc.STAT_EVENT="statevent",Mr(Dc,_i),Cc.Ua="timingevent",Mr(NI,_i);var df={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Vg={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Tc(){}function d_(){}Tc.prototype.h=null;var p_,Kl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function h_(){_i.call(this,"d")}function f_(){_i.call(this,"c")}function Ug(){}function Yl(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Ec(this),this.P=x1,this.V=new uf(n=rf?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new M1}function M1(){this.i=null,this.g="",this.h=!1}Mr(h_,_i),Mr(f_,_i),Mr(Ug,Tc),Ug.prototype.g=function(){return new XMLHttpRequest},Ug.prototype.i=function(){return{}},p_=new Ug;var x1=45e3,RI={},g_={};function Bg(n,e,t){n.L=1,n.v=ed(gs(e)),n.s=t,n.S=!0,m_(n,null)}function m_(n,e){n.G=Date.now(),Ql(n),n.A=gs(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),I_(t.i,"t",r),n.C=0,t=n.l.J,n.h=new M1,n.g=XI(n.l,t?e:null,!n.s),0<n.O&&(n.M=new T1(vi(n.Pa,n,n.g),n.O)),MI(n.U,n.g,"readystatechange",n.nb),e=n.I?CI(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Ts(),function xI(n,e,t,r,s,u){n.info(function(){if(n.g)if(u)for(var l="",g=u.split("&"),v=0;v<g.length;v++){var C=g[v].split("=");if(1<C.length){var D=C[0];C=C[1];var x=D.split("_");l=2<=x.length&&"type"==x[1]?l+(D+"=")+C+"&":l+(D+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function O1(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function ff(n,e,t){let s,r=!0;for(;!n.J&&n.C<t.length;){if(s=zM(n,t),s==g_){4==e&&(n.o=4,ts(14),r=!1),Ic(n.j,n.m,null,"[Incomplete Response]");break}if(s==RI){n.o=4,ts(15),Ic(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ic(n.j,n.m,s,null),tn(n,s)}O1(n)&&s!=g_&&s!=RI&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ts(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),x_(e),e.M=!0,ts(11))):(Ic(n.j,n.m,t,"[Invalid Chunked Response]"),gu(n),Jl(n))}function zM(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?g_:(t=Number(e.substring(t,r)),isNaN(t)?RI:(r+=1)+t>e.length?g_:(e=e.slice(r,r+t),n.C=r+t,e))}function Ql(n){n.Y=Date.now()+n.P,y_(n,n.P)}function y_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Wl(vi(n.lb,n),e)}function jg(n){n.B&&(an.clearTimeout(n.B),n.B=null)}function Jl(n){0==n.l.H||n.J||O_(n.l,n)}function gu(n){jg(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,l_(n.V),Lg(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function tn(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Hg(t.i,n)))if(!n.K&&Hg(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;_f(t),Yg(t)}Jg(t),ts(18)}}else t.Fa=s[1],0<t.Fa-t.V&&37500>s[2]&&t.G&&0==t.A&&!t.v&&(t.v=Wl(vi(t.ib,t),6e3));if(1>=$g(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Oc(t,11)}else if((n.K||t.g==n)&&_f(t),!hu(e))for(s=t.Ja.g.parse(e),e=0;e<s.length;e++){let C=s[e];if(t.V=C[0],C=C[1],2==t.H)if("c"==C[0]){t.K=C[1],t.pa=C[2];const D=C[3];null!=D&&(t.ra=D,t.l.info("VER="+t.ra));const x=C[4];null!=x&&(t.Ga=x,t.l.info("SVER="+t.Ga));const z=C[5];null!=z&&"number"==typeof z&&0<z&&(t.L=r=1.5*z,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const J=n.g;if(J){const Ce=J.g?J.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ce){var u=r.i;u.g||-1==Ce.indexOf("spdy")&&-1==Ce.indexOf("quic")&&-1==Ce.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(C_(u,u.h),u.h=null))}if(r.F){const Fe=J.g?J.g.getResponseHeader("X-HTTP-Session-Id"):null;Fe&&(r.Da=Fe,nr(r.I,r.F,Fe))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=N_(r,r.J?r.pa:null,r.Y),l.K){jI(r.i,l);var g=l,v=r.L;v&&g.setTimeout(v),g.B&&(jg(g),Ql(g)),r.g=l}else M_(r);0<t.j.length&&vu(t)}else"stop"!=C[0]&&"close"!=C[0]||Oc(t,7);else 3==t.H&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?Oc(t,7):Kg(t):"noop"!=C[0]&&t.h&&t.h.Aa(C),t.A=0)}Ts()}catch{}}function Ac(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if($v(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function FI(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if($v(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function kI(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if($v(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length,u=0;u<s;u++)e.call(void 0,r[u],t&&t[u],n)}(pt=Yl.prototype).setTimeout=function(n){this.P=n},pt.nb=function(n){n=n.target;const e=this.M;e&&3==lo(n)?e.l():this.Pa(n)},pt.Pa=function(n){try{if(n==this.g)e:{const D=lo(this.g);var e=this.g.Ia();if(this.g.da(),!(3>D)&&(3!=D||rf||this.g&&(this.h.h||this.g.ja()||Wg(this.g)))){this.J||4!=D||7==e||Ts(),jg(this);var t=this.g.da();this.ca=t;t:if(O1(this)){var r=Wg(this.g);n="";var s=r.length,u=4==lo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){gu(this),Jl(this);var l="";break t}this.h.i=new an.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function A1(n,e,t,r,s,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.W,D,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var g,v=this.g;if((g=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hu(g)){var C=g;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,ts(12),gu(this),Jl(this);break e}Ic(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tn(this,t)}this.S?(ff(this,D,l),rf&&this.i&&3==D&&(MI(this.U,this.V,"tick",this.mb),this.V.start())):(Ic(this.j,this.m,l,null),tn(this,l)),4==D&&gu(this),this.i&&!this.J&&(4==D?O_(this.l,this):(this.i=!1,Ql(this)))}else(function ba(n){const e={};n=(n.g&&2<=lo(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(hu(n[r]))continue;var t=pu(n[r]);const s=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[s]||[];e[s]=u,u.push(t)}!function Ag(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,ts(12)):(this.o=0,ts(13)),gu(this),Jl(this)}}}catch{}},pt.mb=function(){if(this.g){var n=lo(this.g),e=this.g.ja();this.C<e.length&&(jg(this),ff(this,n,e),this.i&&4!=n&&Ql(this))}},pt.cancel=function(){this.J=!0,gu(this)},pt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function OI(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ts(),ts(17)),gu(this),this.o=2,Jl(this)):y_(this,this.Y-n)};var v_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qo(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof qo){this.h=n.h,Xl(this,n.j),this.s=n.s,this.g=n.g,mu(this,n.m),this.l=n.l;var e=n.i,t=new pf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),__(this,t),this.o=n.o}else n&&(e=String(n).match(v_))?(this.h=!1,Xl(this,e[1]||"",!0),this.s=Sc(e[2]||""),this.g=Sc(e[3]||"",!0),mu(this,e[4]),this.l=Sc(e[5]||"",!0),__(this,e[6]||"",!0),this.o=Sc(e[7]||"")):(this.h=!1,this.i=new pf(null,this.h))}function gs(n){return new qo(n)}function Xl(n,e,t){n.j=t?Sc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function mu(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function __(n,e,t){e instanceof pf?(n.i=e,function F1(n,e){e&&!n.j&&(yu(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(UI(this,r),I_(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=td(e,VI)),n.i=new pf(e,n.h))}function nr(n,e,t){n.i.set(e,t)}function ed(n){return nr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Sc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function td(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,w_),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function w_(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}qo.prototype.toString=function(){var n=[],e=this.j;e&&n.push(td(e,LI,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(td(e,LI,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(td(t,"/"==t.charAt(0)?R1:N1,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",td(t,k1)),n.join("")};var LI=/[#\/\?@]/g,N1=/[#\?:]/g,R1=/[#\?]/g,VI=/[#\?@]/g,k1=/#/g;function pf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function yu(n){n.g||(n.g=new Map,n.h=0,n.i&&function P1(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var u=n[t].substring(0,r);s=n[t].substring(r+1)}else u=n[t];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function UI(n,e){yu(n),e=nd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function E_(n,e){return yu(n),e=nd(n,e),n.g.has(e)}function I_(n,e,t){UI(n,e),0<t.length&&(n.i=null,n.g.set(nd(n,e),Hl(t)),n.h+=t.length)}function nd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function BI(n){this.l=n||L1,n=an.PerformanceNavigationTiming?0<(n=an.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(an.g&&an.g.Ka&&an.g.Ka()&&an.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pt=pf.prototype).add=function(n,e){yu(this),this.i=null,n=nd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},pt.forEach=function(n,e){yu(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)},pt.ta=function(){yu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let u=0;u<s.length;u++)t.push(e[r])}return t},pt.Z=function(n){yu(this);let e=[];if("string"==typeof n)E_(this,n)&&(e=e.concat(this.g.get(nd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},pt.set=function(n,e){return yu(this),this.i=null,E_(this,n=nd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},pt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},pt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var s=u;""!==l[r]&&(s+="="+encodeURIComponent(String(l[r]))),n.push(s)}}return this.i=n.join("&")};var L1=10;function V1(n){return!!n.h||!!n.g&&n.g.size>=n.j}function $g(n){return n.h?1:n.g?n.g.size:0}function Hg(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function C_(n,e){n.g?n.g.add(e):n.h=e}function jI(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function $I(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Hl(n.i)}BI.prototype.cancel=function(){if(this.i=$I(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var HI=class{stringify(n){return an.JSON.stringify(n,void 0)}parse(n){return an.JSON.parse(n,void 0)}};function U1(){this.g=new HI}function B1(n,e,t){const r=t||"";try{Ac(n,function(s,u){let l=s;nf(s)&&(l=Rg(s)),e.push(r+u+"="+encodeURIComponent(l))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function Gg(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function gf(n){this.l=n.fc||null,this.j=n.ob||!1}function zg(n,e){wi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=D_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mr(gf,Tc),gf.prototype.g=function(){return new zg(this.l,this.j)},gf.prototype.i=function(n){return function(){return n}}({}),Mr(zg,wi);var D_=0;function GI(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function ms(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Mc(n)}function Mc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(pt=zg.prototype).open=function(n,e){if(this.readyState!=D_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Mc(this)},pt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||an).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},pt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ms(this)),this.readyState=D_},pt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Mc(this)),this.g&&(this.readyState=3,Mc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof an.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;GI(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},pt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ms(this):Mc(this),3==this.readyState&&GI(this)}},pt.Za=function(n){this.g&&(this.response=this.responseText=n,ms(this))},pt.Ya=function(n){this.g&&(this.response=n,ms(this))},pt.ka=function(){this.g&&ms(this)},pt.setRequestHeader=function(n,e){this.v.append(n,e)},pt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},pt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(zg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var j1=an.JSON.parse;function xr(n){wi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=zI,this.L=this.M=!1}Mr(xr,wi);var zI="",qI=/^https?$/i,ZI=["POST","PUT"];function Zg(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,$1(n),mf(n)}function $1(n){n.F||(n.F=!0,Pi(n,"complete"),Pi(n,"error"))}function T_(n){if(n.h&&typeof tf<"u"&&(!n.C[1]||4!=lo(n)||2!=n.da()))if(n.v&&4==lo(n))AI(n.La,0,n);else if(Pi(n,"readystatechange"),4==lo(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var s=String(n.I).match(v_)[1]||null;!s&&an.self&&an.self.location&&(s=an.self.location.protocol.slice(0,-1)),r=!qI.test(s?s.toLowerCase():"")}t=r}if(t)Pi(n,"complete"),Pi(n,"success");else{n.m=6;try{var u=2<lo(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",$1(n)}}finally{mf(n)}}}function mf(n,e){if(n.g){A_(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Pi(n,"ready");try{t.onreadystatechange=r}catch{}}}function A_(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(an.clearTimeout(n.A),n.A=null)}function lo(n){return n.g?n.g.readyState:0}function Wg(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case zI:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function WI(n){let e="";return Jv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function S_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=WI(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):nr(n,e,t))}function xc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function KI(n){this.Ga=0,this.j=[],this.l=new cf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=xc("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=xc("baseRetryDelayMs",5e3,n),this.hb=xc("retryDelaySeedMs",1e4,n),this.eb=xc("forwardChannelMaxRetries",2,n),this.xa=xc("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new BI(n&&n.concurrentRequestLimit),this.Ja=new U1,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Kg(n){if(yf(n),3==n.H){var e=n.W++,t=gs(n.I);if(nr(t,"SID",n.K),nr(t,"RID",e),nr(t,"TYPE","terminate"),Qg(n,t),(e=new Yl(n,n.l,e)).L=2,e.v=ed(gs(t)),t=!1,an.navigator&&an.navigator.sendBeacon)try{t=an.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&an.Image&&((new Image).src=e.v,t=!0),t||(e.g=XI(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ql(e)}P_(n)}function Yg(n){n.g&&(x_(n),n.g.cancel(),n.g=null)}function yf(n){Yg(n),n.u&&(an.clearTimeout(n.u),n.u=null),_f(n),n.i.cancel(),n.m&&("number"==typeof n.m&&an.clearTimeout(n.m),n.m=null)}function vu(n){if(!V1(n.i)&&!n.m){n.m=!0;var e=n.Na;af||Fg(),kg||(af(),kg=!0),c_.add(e,n),n.C=0}}function vf(n,e){var t;t=e?e.m:n.W++;const r=gs(n.I);nr(r,"SID",n.K),nr(r,"RID",t),nr(r,"AID",n.V),Qg(n,r),n.o&&n.s&&S_(r,n.o,n.s),t=new Yl(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=QI(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),C_(n.i,t),Bg(t,r,e)}function Qg(n,e){n.na&&Jv(n.na,function(t,r){nr(e,r,t)}),n.h&&Ac({},function(t,r){nr(e,r,t)})}function QI(n,e,t){t=Math.min(n.j.length,t);var r=n.h?vi(n.h.Va,n.h,n):null;e:{var s=n.j;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=s[0].g,l.push("ofs="+u)):u=0:l.push("ofs="+u);let g=!0;for(let v=0;v<t;v++){let C=s[v].g;const D=s[v].map;if(C-=u,0>C)u=Math.max(0,s[v].g-100),g=!1;else try{B1(D,l,"req"+C+"_")}catch{r&&r(D)}}if(g){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function M_(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;af||Fg(),kg||(af(),kg=!0),c_.add(e,n),n.A=0}}function Jg(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Wl(vi(n.Ma,n),rd(n,n.A)),n.A++,0))}function x_(n){null!=n.B&&(an.clearTimeout(n.B),n.B=null)}function JI(n){n.g=new Yl(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=gs(n.wa);nr(e,"RID","rpc"),nr(e,"SID",n.K),nr(e,"AID",n.V),nr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&nr(e,"TO",n.qa),nr(e,"TYPE","xmlhttp"),Qg(n,e),n.o&&n.s&&S_(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=ed(gs(e)),t.s=null,t.S=!0,m_(t,n)}function _f(n){null!=n.v&&(an.clearTimeout(n.v),n.v=null)}function O_(n,e){var t=null;if(n.g==e){_f(n),x_(n),n.g=null;var r=2}else{if(!Hg(n.i,e))return;t=e.F,jI(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var s=n.C;Pi(r=lf(),new NI(r,t)),vu(n)}else M_(n);else if(3==(s=e.o)||0==s&&0<e.ca||!(1==r&&function YI(n,e){return!($g(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Wl(vi(n.Na,n,e),rd(n,n.C)),n.C++,0)))}(n,e)||2==r&&Jg(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:Oc(n,5);break;case 4:Oc(n,10);break;case 3:Oc(n,6);break;default:Oc(n,2)}}function rd(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Oc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=vi(n.pb,n);t||(t=new qo("//www.google.com/images/cleardot.gif"),an.location&&"http"==an.location.protocol||Xl(t,"https"),ed(t)),function b_(n,e){const t=new cf;if(an.Image){const r=new Image;r.onload=jl(Gg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=jl(Gg,t,r,"TestLoadImage: error",!1,e),r.onabort=jl(Gg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=jl(Gg,t,r,"TestLoadImage: timeout",!1,e),an.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ts(2);n.H=0,n.h&&n.h.za(e),P_(n),yf(n)}function P_(n){if(n.H=0,n.ma=[],n.h){const e=$I(n.i);(0!=e.length||0!=n.j.length)&&(vc(n.ma,e),vc(n.ma,n.j),n.i.i.length=0,Hl(n.j),n.j.length=0),n.h.ya()}}function N_(n,e,t){var r=t instanceof qo?gs(t):new qo(t);if(""!=r.g)e&&(r.g=e+"."+r.g),mu(r,r.m);else{var s=an.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var u=new qo(null);r&&Xl(u,r),e&&(u.g=e),s&&mu(u,s),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&nr(r,t,e),nr(r,"VER",n.ra),Qg(n,r),r}function XI(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new xr(t&&n.Ha&&!n.va?new gf({ob:!0}):n.va)).Oa(n.J),e}function eC(){}function _u(){if(Gl&&!(10<=Number(Yv)))throw Error("Environmental error: no available transport.")}function Ss(n,e){wi.call(this),this.g=new KI(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!hu(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!hu(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new id(this)}function tC(n){h_.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function nC(){f_.call(this),this.status=1}function id(n){this.g=n}function ho(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function R_(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)r[s]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(s=0;16>s;++s)r[s]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],l=(e=n.g[0])+(u^(t=n.g[1])&((s=n.g[2])^u))+r[0]+3614090360&4294967295;l=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=t+(l<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^u&(t^s))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^s^u)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(s^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(s^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(s^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((u=(e=t+((l=e+(s^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((s=u+((l=s+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(s+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+s&4294967295,n.g[3]=n.g[3]+u&4294967295}function Qn(n,e){this.h=e;for(var t=[],r=!0,s=n.length-1;0<=s;s--){var u=0|n[s];r&&u==e||(t[s]=u,r=!1)}this.g=t}(pt=xr.prototype).Oa=function(n){this.M=n},pt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():p_.g(),this.C=function hf(n){return n.h||(n.h=n.i())}(this.u?this.u:p_),this.g.onreadystatechange=vi(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void Zg(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),s=an.FormData&&n instanceof an.FormData,!(0<=$l(ZI,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{A_(this),0<this.B&&((this.L=function qg(n){return Gl&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vi(this.ua,this)):this.A=AI(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){Zg(this,u)}},pt.ua=function(){typeof tf<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pi(this,"timeout"),this.abort(8))},pt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Pi(this,"complete"),Pi(this,"abort"),mf(this))},pt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),mf(this,!0)),xr.$.N.call(this)},pt.La=function(){this.s||(this.G||this.v||this.l?T_(this):this.kb())},pt.kb=function(){T_(this)},pt.isActive=function(){return!!this.g},pt.da=function(){try{return 2<lo(this)?this.g.status:-1}catch{return-1}},pt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},pt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),j1(e)}},pt.Ia=function(){return this.m},pt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(pt=KI.prototype).ra=8,pt.H=1,pt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const s=new Yl(this,this.l,n);let u=this.s;if(this.U&&(u?(u=CI(u),Zl(u,this.U)):u=this.U),null!==this.o||this.O||(s.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=QI(this,s,e),nr(t=gs(this.I),"RID",n),nr(t,"CVER",22),this.F&&nr(t,"X-HTTP-Session-Id",this.F),Qg(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(WI(u)))+"&"+e:this.o&&S_(t,this.o,u)),C_(this.i,s),this.bb&&nr(t,"TYPE","init"),this.P?(nr(t,"$req",e),nr(t,"SID","null"),s.aa=!0,Bg(s,t,null)):Bg(s,t,e),this.H=2}}else 3==this.H&&(n?vf(this,n):0==this.j.length||V1(this.i)||vf(this))},pt.Ma=function(){if(this.u=null,JI(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Wl(vi(this.jb,this),n)}},pt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ts(10),Yg(this),JI(this))},pt.ib=function(){null!=this.v&&(this.v=null,Yg(this),Jg(this),ts(19))},pt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),ts(2)):(this.l.info("Failed to ping google.com"),ts(1))},pt.isActive=function(){return!!this.h&&this.h.isActive(this)},(pt=eC.prototype).Ba=function(){},pt.Aa=function(){},pt.za=function(){},pt.ya=function(){},pt.isActive=function(){return!0},pt.Va=function(){},_u.prototype.g=function(n,e){return new Ss(n,e)},Mr(Ss,wi),Ss.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;ts(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=N_(n,null,n.Y),vu(n)},Ss.prototype.close=function(){Kg(this.g)},Ss.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Rg(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&vu(e)},Ss.prototype.N=function(){this.g.h=null,delete this.j,Kg(this.g),delete this.g,Ss.$.N.call(this)},Mr(tC,h_),Mr(nC,f_),Mr(id,eC),id.prototype.Ba=function(){Pi(this.g,"a")},id.prototype.Aa=function(n){Pi(this.g,new tC(n))},id.prototype.za=function(n){Pi(this.g,new nC)},id.prototype.ya=function(){Pi(this.g,"b")},Mr(ho,function H1(){this.blockSize=-1}),ho.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ho.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,s=this.h,u=0;u<e;){if(0==s)for(;u<=t;)R_(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[s++]=n.charCodeAt(u++),s==this.blockSize){R_(this,r),s=0;break}}else for(;u<e;)if(r[s++]=n[u++],s==this.blockSize){R_(this,r),s=0;break}}this.h=s,this.i+=e},ho.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var rC={};function wf(n){return-128<=n&&128>n?function _1(n,e){var t=rC;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Qn([0|e],0>e?-1:0)}):new Qn([0|n],0>n?-1:0)}function Zo(n){if(isNaN(n)||!isFinite(n))return sd;if(0>n)return Ni(Zo(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=k_;return new Qn(e,0)}var k_=4294967296,sd=wf(0),F_=wf(1),iC=wf(16777216);function Da(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Ws(n){return-1==n.h}function Ni(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Qn(t,~n.h).add(F_)}function If(n,e){return n.add(Ni(e))}function Cf(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function bf(n,e){this.g=n,this.h=e}function L_(n,e){if(Da(e))throw Error("division by zero");if(Da(n))return new bf(sd,sd);if(Ws(n))return e=L_(Ni(n),e),new bf(Ni(e.g),Ni(e.h));if(Ws(e))return e=L_(n,Ni(e)),new bf(Ni(e.g),e.h);if(30<n.g.length){if(Ws(n)||Ws(e))throw Error("slowDivide_ only works with positive integers.");for(var t=F_,r=e;0>=r.X(n);)t=V_(t),r=V_(r);var s=Pc(t,1),u=Pc(r,1);for(r=Pc(r,2),t=Pc(t,2);!Da(r);){var l=u.add(r);0>=l.X(n)&&(s=s.add(t),u=l),r=Pc(r,1),t=Pc(t,1)}return e=If(n,s.R(e)),new bf(s,e)}for(s=sd;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(u=Zo(t)).R(e);Ws(l)||0<l.X(n);)l=(u=Zo(t-=r)).R(e);Da(u)&&(u=F_),s=s.add(u),n=If(n,l)}return new bf(s,n)}function V_(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Qn(t,n.h)}function Pc(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,s=[],u=0;u<r;u++)s[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new Qn(s,n.h)}(pt=Qn.prototype).ea=function(){if(Ws(this))return-Ni(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:k_+r)*e,e*=k_}return n},pt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Da(this))return"0";if(Ws(this))return"-"+Ni(this).toString(n);for(var e=Zo(Math.pow(n,6)),t=this,r="";;){var s=L_(t,e).g,u=((0<(t=If(t,s.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Da(t=s))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},pt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},pt.X=function(n){return Ws(n=If(this,n))?-1:Da(n)?0:1},pt.abs=function(){return Ws(this)?Ni(this):this},pt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,s=0;s<=e;s++){var u=r+(65535&this.D(s))+(65535&n.D(s)),l=(u>>>16)+(this.D(s)>>>16)+(n.D(s)>>>16);r=l>>>16,t[s]=(l&=65535)<<16|(u&=65535)}return new Qn(t,-2147483648&t[t.length-1]?-1:0)},pt.R=function(n){if(Da(this)||Da(n))return sd;if(Ws(this))return Ws(n)?Ni(this).R(Ni(n)):Ni(Ni(this).R(n));if(Ws(n))return Ni(this.R(Ni(n)));if(0>this.X(iC)&&0>n.X(iC))return Zo(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<n.g.length;s++){var u=this.D(r)>>>16,l=65535&this.D(r),g=n.D(s)>>>16,v=65535&n.D(s);t[2*r+2*s]+=l*v,Cf(t,2*r+2*s),t[2*r+2*s+1]+=u*v,Cf(t,2*r+2*s+1),t[2*r+2*s+1]+=l*g,Cf(t,2*r+2*s+1),t[2*r+2*s+2]+=u*g,Cf(t,2*r+2*s+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Qn(t,0)},pt.gb=function(n){return L_(this,n).h},pt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Qn(t,this.h&n.h)},pt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Qn(t,this.h|n.h)},pt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Qn(t,this.h^n.h)},_u.prototype.createWebChannel=_u.prototype.g,Ss.prototype.send=Ss.prototype.u,Ss.prototype.open=Ss.prototype.m,Ss.prototype.close=Ss.prototype.close,df.NO_ERROR=0,df.TIMEOUT=8,df.HTTP_ERROR=6,Vg.COMPLETE="complete",d_.EventType=Kl,Kl.OPEN="a",Kl.CLOSE="b",Kl.ERROR="c",Kl.MESSAGE="d",wi.prototype.listen=wi.prototype.O,xr.prototype.listenOnce=xr.prototype.P,xr.prototype.getLastError=xr.prototype.Sa,xr.prototype.getLastErrorCode=xr.prototype.Ia,xr.prototype.getStatus=xr.prototype.da,xr.prototype.getResponseJson=xr.prototype.Wa,xr.prototype.getResponseText=xr.prototype.ja,xr.prototype.send=xr.prototype.ha,xr.prototype.setWithCredentials=xr.prototype.Oa,ho.prototype.digest=ho.prototype.l,ho.prototype.reset=ho.prototype.reset,ho.prototype.update=ho.prototype.j,Qn.prototype.add=Qn.prototype.add,Qn.prototype.multiply=Qn.prototype.R,Qn.prototype.modulo=Qn.prototype.gb,Qn.prototype.compare=Qn.prototype.X,Qn.prototype.toNumber=Qn.prototype.ea,Qn.prototype.toString=Qn.prototype.toString,Qn.prototype.getBits=Qn.prototype.D,Qn.fromNumber=Zo,Qn.fromString=function Ef(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ni(Ef(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Zo(Math.pow(e,8)),r=sd,s=0;s<n.length;s+=8){var u=Math.min(8,n.length-s),l=parseInt(n.substring(s,s+u),e);8>u?(u=Zo(Math.pow(e,u)),r=r.R(u).add(Zo(l))):r=(r=r.R(t)).add(Zo(l))}return r};var qM=uo.createWebChannelTransport=function(){return new _u},Xg=uo.getStatEventTarget=function(){return lf()},U_=uo.ErrorCode=df,G1=uo.EventType=Vg,B_=uo.Event=Cc,sC=uo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Wo=uo.FetchXmlHttpFactory=gf,wu=uo.WebChannel=d_,zi=uo.XhrIo=xr,Nc=uo.Md5=ho,Ta=uo.Integer=Qn;const Ms="@firebase/firestore";class Qr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qr.UNAUTHENTICATED=new Qr(null),Qr.GOOGLE_CREDENTIALS=new Qr("google-credentials-uid"),Qr.FIRST_PARTY=new Qr("first-party-uid"),Qr.MOCK_USER=new Qr("mock-user");let fo="9.23.0";const xs=new du.Yd("@firebase/firestore");function Eu(){return xs.logLevel}function ze(n,...e){if(xs.logLevel<=du.in.DEBUG){const t=e.map(Iu);xs.debug(`Firestore (${fo}): ${n}`,...t)}}function ur(n,...e){if(xs.logLevel<=du.in.ERROR){const t=e.map(Iu);xs.error(`Firestore (${fo}): ${n}`,...t)}}function Ri(n,...e){if(xs.logLevel<=du.in.WARN){const t=e.map(Iu);xs.warn(`Firestore (${fo}): ${n}`,...t)}}function Iu(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function mt(n="Unexpected state"){const e=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: `+n;throw ur(e),new Error(e)}function At(n,e){n||mt()}function dt(n,e){return n}const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends Fn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class j_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qr.UNAUTHENTICATED))}shutdown(){}}class uC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class $_{constructor(e){this.t=e,this.currentUser=Qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const u=C=>this.i!==s?(s=this.i,t(C)):Promise.resolve();let l=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Jr,e.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const C=l;e.enqueueRetryable((0,_e.Z)(function*(){yield C.promise,yield u(r.currentUser)}))},v=C=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(C=>v(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?v(C):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Jr)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At("string"==typeof r.accessToken),new j_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return At(null===e||"string"==typeof e),new Qr(e)}}class z1{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Qr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ZM{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new z1(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Qr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Z1{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.T;return this.T=u.token,ze("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const s=u=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>s(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?s(u):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(At("string"==typeof t.token),this.T=t.token,new q1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function KM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class cC{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const s=KM(40);for(let u=0;u<s.length;++u)r.length<20&&s[u]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(s[u]%62))}return r}}function sn(n,e){return n<e?-1:n>e?1:0}function ad(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}function lC(n){return n+"\0"}class wr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new je(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new je(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new je(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wr.fromMillis(Date.now())}static fromDate(e){return wr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new wr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?sn(this.nanoseconds,e.nanoseconds):sn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class St{constructor(e){this.timestamp=e}static fromTimestamp(e){return new St(e)}static min(){return new St(new wr(0,0))}static max(){return new St(new wr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Aa{constructor(e,t,r){void 0===t?t=0:t>e.length&&mt(),void 0===r?r=e.length-t:r>e.length-t&&mt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Aa.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Aa?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const u=e.get(s),l=t.get(s);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class On extends Aa{construct(e,t,r){return new On(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new je(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new On(t)}static emptyPath(){return new On([])}}const em=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Or extends Aa{construct(e,t,r){return new Or(e,t,r)}static isValidIdentifier(e){return em.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Or.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Or(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const u=()=>{if(0===r.length)throw new je(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const g=e[s];if("\\"===g){if(s+1===e.length)throw new je(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[s+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new je(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,s+=2}else"`"===g?(l=!l,s++):"."!==g||l?(r+=g,s++):(u(),s++)}if(u(),l)throw new je(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Or(t)}static emptyPath(){return new Or([])}}class it{constructor(e){this.path=e}static fromPath(e){return new it(On.fromString(e))}static fromName(e){return new it(On.fromString(e).popFirst(5))}static empty(){return new it(On.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===On.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return On.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new it(new On(e.slice()))}}class Df{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function H_(n){return n.fields.find(e=>2===e.kind)}function po(n){return n.fields.filter(e=>2!==e.kind)}Df.UNKNOWN_ID=-1;class tm{constructor(e,t){this.fieldPath=e,this.kind=t}}class Tf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Tf(0,qi.min())}}function nm(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=St.fromTimestamp(1e9===r?new wr(t+1,0):new wr(t,r));return new qi(s,it.empty(),e)}function Af(n){return new qi(n.readTime,n.key,-1)}class qi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new qi(St.min(),it.empty(),-1)}static max(){return new qi(St.max(),it.empty(),-1)}}function dC(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=it.comparator(n.documentKey,e.documentKey),0!==t?t:sn(n.largestBatchId,e.largestBatchId))}const hC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ko(n){return G_.apply(this,arguments)}function G_(){return G_=(0,_e.Z)(function*(n){if(n.code!==ye.FAILED_PRECONDITION||n.message!==hC)throw n;ze("LocalStore","Unexpectedly lost primary lease")}),G_.apply(this,arguments)}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((r,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,s)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,r)=>{t(e)})}static reject(e){return new le((t,r)=>{r(e)})}static waitFor(e){return new le((t,r)=>{let s=0,u=0,l=!1;e.forEach(g=>{++s,g.next(()=>{++u,l&&u===s&&t()},v=>r(v))}),l=!0,u===s&&t()})}static or(e){let t=le.resolve(!1);for(const r of e)t=t.next(s=>s?le.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,u)=>{r.push(t.call(this,s,u))}),this.waitFor(r)}static mapArray(e,t){return new le((r,s)=>{const u=e.length,l=new Array(u);let g=0;for(let v=0;v<u;v++){const C=v;t(e[C]).next(D=>{l[C]=D,++g,g===u&&r(l)},D=>s(D))}})}static doWhile(e,t){return new le((r,s)=>{const u=()=>{!0===e()?t().next(()=>{u()},s):r()};u()})}}class rm{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Jr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new ud(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const s=im(r.target.error);this.v.reject(new ud(e,s))}}static open(e,t,r,s){try{return new rm(t,e.transaction(s,r))}catch(u){throw new ud(t,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(ze("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Y1(t)}}class go{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===go.S((0,Fn.z$)())&&ur("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ze("SimpleDb","Removing database:",e),Rc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Fn.hl)())return!1;if(go.C())return!0;const e=(0,Fn.z$)(),t=go.S(e),r=0<t&&t<10,s=go.N(e),u=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,_e.Z)(function*(){return t.db||(ze("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,s)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=l=>{r(l.target.result)},u.onblocked=()=>{s(new ud(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=l=>{const g=l.target.error;s("VersionError"===g.name?new je(ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new je(ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new ud(e,g))},u.onupgradeneeded=l=>{ze("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,u.transaction,l.oldVersion,t.version).next(()=>{ze("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,s){var u=this;return(0,_e.Z)(function*(){const l="readonly"===t;let g=0;for(;;){++g;try{u.db=yield u.$(e);const v=rm.open(u.db,e,l?"readonly":"readwrite",r),C=s(v).next(D=>(v.P(),D)).catch(D=>(v.abort(D),le.reject(D))).toPromise();return C.catch(()=>{}),yield v.R,C}catch(v){const C=v,D="FirebaseError"!==C.name&&g<3;if(ze("SimpleDb","Transaction failed with error:",C.message,"Retrying:",D),u.close(),!D)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class pC{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Rc(this.L.delete())}}class ud extends je{constructor(e,t){super(ye.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Sa(n){return"IndexedDbTransactionError"===n.name}class Y1{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ze("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ze("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Rc(r)}add(e){return ze("SimpleDb","ADD",this.store.name,e,e),Rc(this.store.add(e))}get(e){return Rc(this.store.get(e)).next(t=>(void 0===t&&(t=null),ze("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ze("SimpleDb","DELETE",this.store.name,e),Rc(this.store.delete(e))}count(){return ze("SimpleDb","COUNT",this.store.name),Rc(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const s=this.cursor(r),u=[];return this.W(s,(l,g)=>{u.push(g)}).next(()=>u)}{const s=this.store.getAll(r.range);return new le((u,l)=>{s.onerror=g=>{l(g.target.error)},s.onsuccess=g=>{u(g.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new le((s,u)=>{r.onerror=l=>{u(l.target.error)},r.onsuccess=l=>{s(l.target.result)}})}J(e,t){ze("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const s=this.cursor(r);return this.W(s,(u,l,g)=>g.delete())}X(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.W(s,t)}Z(e){const t=this.cursor({});return new le((r,s)=>{t.onerror=u=>{const l=im(u.target.error);s(l)},t.onsuccess=u=>{const l=u.target.result;l?e(l.primaryKey,l.value).next(g=>{g?l.continue():r()}):r()}})}W(e,t){const r=[];return new le((s,u)=>{e.onerror=l=>{u(l.target.error)},e.onsuccess=l=>{const g=l.target.result;if(!g)return void s();const v=new pC(g),C=t(g.primaryKey,g.value,v);if(C instanceof le){const D=C.catch(x=>(v.done(),le.reject(x)));r.push(D)}v.isDone?s():null===v.K?g.continue():g.continue(v.K)}}).next(()=>le.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Rc(n){return new le((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const s=im(r.target.error);t(s)}})}let gC=!1;function im(n){const e=go.S((0,Fn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new je("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return gC||(gC=!0,setTimeout(()=>{throw r},0)),r}}return n}class z_{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;ze("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,_e.Z)(function*(){t.task=null;try{ze("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Sa(r)?ze("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Ko(r)}yield t.et(6e4)}))}}class q_{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,_e.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let s=t,u=!0;return le.doWhile(()=>!0===u&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return ze("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,s).next(g=>{s-=g,r.add(l)});u=!1})).next(()=>t-s)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next(u=>{const l=u.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(s,u)).next(g=>(ze("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>l.size)}))}rt(e,t){let r=e;return t.changes.forEach((s,u)=>{const l=Af(u);dC(l,r)>0&&(r=l)}),new qi(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Os=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>r.writeSequenceNumber(s))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Cu(n){return null==n}function bu(n){return 0===n&&1/n==-1/0}function sm(n){return"number"==typeof n&&Number.isInteger(n)&&!bu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ki(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=mC(e)),e=Q1(n.get(t),e);return mC(e)}function Q1(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const u=n.charAt(s);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function mC(n){return n+"\x01\x01"}function Yo(n){const e=n.length;if(At(e>=2),2===e)return At("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),On.emptyPath();const t=e-2,r=[];let s="";for(let u=0;u<e;){const l=n.indexOf("\x01",u);switch((l<0||l>t)&&mt(),n.charAt(l+1)){case"\x01":const g=n.substring(u,l);let v;0===s.length?v=g:(s+=g,v=s,s=""),r.push(v);break;case"\x10":s+=n.substring(u,l),s+="\0";break;case"\x11":s+=n.substring(u,l+1);break;default:mt()}u=l+2}return new On(r)}const om=["userId","batchId"];function cd(n,e){return[n,ki(e)]}function Z_(n,e,t){return[n,ki(e),t]}const yC={},J1=["prefixPath","collectionGroup","readTime","documentId"],X1=["prefixPath","collectionGroup","documentId"],vC=["collectionGroup","readTime","prefixPath","documentId"],W_=["canonicalId","targetId"],_C=["targetId","path"],K_=["path","targetId"],wC=["collectionId","parent"],eA=["indexId","uid"],EC=["uid","sequenceNumber"],IC=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],CC=["indexId","uid","orderedDocumentKey"],bC=["userId","collectionPath","documentId"],tA=["userId","collectionPath","largestBatchId"],nA=["userId","collectionGroup","largestBatchId"],DC=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],TC=[...DC,"documentOverlays"],am=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Y_=am,AC=[...Y_,"indexConfiguration","indexState","indexEntries"];class um extends fC{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function hi(n,e){const t=dt(n);return go.M(t.ht,e)}function Q_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ma(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function J_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class rr{constructor(e,t){this.comparator=e,this.root=t||Er.EMPTY}insert(e,t){return new rr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Er.BLACK,null,null))}remove(e){return new rr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Er.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kc(this.root,e,this.comparator,!0)}}class kc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Er{constructor(e,t,r,s,u){this.key=e,this.value=t,this.color=r??Er.RED,this.left=s??Er.EMPTY,this.right=u??Er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,u){return new Er(e??this.key,t??this.value,r??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const u=r(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===u?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return Er.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const e=this.left.check();if(e!==this.right.check())throw mt();return e+(this.isRed()?0:1)}}Er.EMPTY=null,Er.RED=!0,Er.BLACK=!1,Er.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(n,e,t,r,s){return this}insert(n,e,t){return new Er(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pr{constructor(e){this.comparator=e,this.data=new rr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new SC(this.data.getIterator())}getIteratorFrom(e){return new SC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof pr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(s,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new pr(this.comparator);return t.data=e,t}}class SC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Du(n){return n.hasNext()?n.getNext():void 0}class Xr{constructor(e){this.fields=e,e.sort(Or.comparator)}static empty(){return new Xr([])}unionWith(e){let t=new pr(Or.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Xr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ad(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class cm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Hr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new cm("Invalid base64 string: "+s):s}}(e);return new Hr(t)}static fromUint8Array(e){const t=function(r){let s="";for(let u=0;u<r.length;++u)s+=String.fromCharCode(r[u]);return s}(e);return new Hr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hr.EMPTY_BYTE_STRING=new Hr("");const YM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fc(n){if(At(!!n),"string"==typeof n){let e=0;const t=YM.exec(n);if(At(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lr(n.seconds),nanos:Lr(n.nanos)}}function Lr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function xa(n){return"string"==typeof n?Hr.fromBase64String(n):Hr.fromUint8Array(n)}function Sf(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function lm(n){const e=n.mapValue.fields.__previous_value__;return Sf(e)?lm(e):e}function Pr(n){const e=Fc(n.mapValue.fields.__local_write_time__.timestampValue);return new wr(e.seconds,e.nanos)}class MC{constructor(e,t,r,s,u,l,g,v,C){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=C}}class Tu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Tu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Tu&&e.projectId===this.projectId&&e.database===this.database}}const Au={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Mf={nullValue:"NULL_VALUE"};function Su(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Sf(n)?4:vo(n)?9007199254740991:10:mt()}function mo(n,e){if(n===e)return!0;const t=Su(n);if(t!==Su(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Pr(n).isEqual(Pr(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const u=Fc(r.timestampValue),l=Fc(s.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,xa(n.bytesValue).isEqual(xa(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Lr(r.geoPointValue.latitude)===Lr(s.geoPointValue.latitude)&&Lr(r.geoPointValue.longitude)===Lr(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Lr(r.integerValue)===Lr(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const u=Lr(r.doubleValue),l=Lr(s.doubleValue);return u===l?bu(u)===bu(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return ad(n.arrayValue.values||[],e.arrayValue.values||[],mo);case 10:return function(r,s){const u=r.mapValue.fields||{},l=s.mapValue.fields||{};if(Q_(u)!==Q_(l))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===l[g]||!mo(u[g],l[g])))return!1;return!0}(n,e);default:return mt()}var s}function ld(n,e){return void 0!==(n.values||[]).find(t=>mo(t,e))}function Ps(n,e){if(n===e)return 0;const t=Su(n),r=Su(e);if(t!==r)return sn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return sn(n.booleanValue,e.booleanValue);case 2:return function(s,u){const l=Lr(s.integerValue||s.doubleValue),g=Lr(u.integerValue||u.doubleValue);return l<g?-1:l>g?1:l===g?0:isNaN(l)?isNaN(g)?0:-1:1}(n,e);case 3:return xC(n.timestampValue,e.timestampValue);case 4:return xC(Pr(n),Pr(e));case 5:return sn(n.stringValue,e.stringValue);case 6:return function(s,u){const l=xa(s),g=xa(u);return l.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(s,u){const l=s.split("/"),g=u.split("/");for(let v=0;v<l.length&&v<g.length;v++){const C=sn(l[v],g[v]);if(0!==C)return C}return sn(l.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,u){const l=sn(Lr(s.latitude),Lr(u.latitude));return 0!==l?l:sn(Lr(s.longitude),Lr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,u){const l=s.values||[],g=u.values||[];for(let v=0;v<l.length&&v<g.length;++v){const C=Ps(l[v],g[v]);if(C)return C}return sn(l.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,u){if(s===Au.mapValue&&u===Au.mapValue)return 0;if(s===Au.mapValue)return 1;if(u===Au.mapValue)return-1;const l=s.fields||{},g=Object.keys(l),v=u.fields||{},C=Object.keys(v);g.sort(),C.sort();for(let D=0;D<g.length&&D<C.length;++D){const x=sn(g[D],C[D]);if(0!==x)return x;const z=Ps(l[g[D]],v[C[D]]);if(0!==z)return z}return sn(g.length,C.length)}(n.mapValue,e.mapValue);default:throw mt()}}function xC(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return sn(n,e);const t=Fc(n),r=Fc(e),s=sn(t.seconds,r.seconds);return 0!==s?s:sn(t.nanos,r.nanos)}function dd(n){return dm(n)}function dm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=Fc(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?xa(n.bytesValue).toBase64():"referenceValue"in n?it.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",u=!0;for(const l of r.values||[])u?u=!1:s+=",",s+=dm(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const g of s)l?l=!1:u+=",",u+=`${g}:${dm(r.fields[g])}`;return u+"}"}(n.mapValue):mt();var e}function Mu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function OC(n){return!!n&&"integerValue"in n}function hd(n){return!!n&&"arrayValue"in n}function fm(n){return!!n&&"nullValue"in n}function yo(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function pm(n){return!!n&&"mapValue"in n}function fd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ma(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=fd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function vo(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function _o(n){return"nullValue"in n?Mf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Mu(Tu.empty(),it.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:mt()}function wo(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Mu(Tu.empty(),it.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Au:mt()}function X_(n,e){const t=Ps(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function e0(n,e){const t=Ps(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Fi{constructor(e){this.value=e}static empty(){return new Fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!pm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fd(t)}setAll(e){let t=Or.emptyPath(),r={},s=[];e.forEach((l,g)=>{if(!t.isImmediateParentOf(g)){const v=this.getFieldsMap(t);this.applyChanges(v,r,s),r={},s=[],t=g.popLast()}l?r[g.lastSegment()]=fd(l):s.push(g.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,s)}delete(e){const t=this.field(e.popLast());pm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return mo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];pm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Ma(t,(s,u)=>e[s]=u);for(const s of r)delete e[s]}clone(){return new Fi(fd(this.value))}}function PC(n){const e=[];return Ma(n.fields,(t,r)=>{const s=new Or([t]);if(pm(r)){const u=PC(r.mapValue).fields;if(0===u.length)e.push(s);else for(const l of u)e.push(s.child(l))}else e.push(s)}),new Xr(e)}class gr{constructor(e,t,r,s,u,l,g){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=u,this.data=l,this.documentState=g}static newInvalidDocument(e){return new gr(e,0,St.min(),St.min(),St.min(),Fi.empty(),0)}static newFoundDocument(e,t,r,s){return new gr(e,1,t,St.min(),r,s,0)}static newNoDocument(e,t){return new gr(e,2,t,St.min(),St.min(),Fi.empty(),0)}static newUnknownDocument(e,t){return new gr(e,3,t,St.min(),St.min(),Fi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(St.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xu{constructor(e,t){this.position=e,this.inclusive=t}}function gm(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const u=e[s],l=n.position[s];if(r=u.field.isKeyField()?it.comparator(it.fromName(l.referenceValue),t.key):Ps(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function pd(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!mo(n.position[t],e.position[t]))return!1;return!0}class gd{constructor(e,t="asc"){this.field=e,this.dir=t}}function NC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class RC{}class Pn extends RC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new s0(e,t,r):"array-contains"===t?new LC(e,r):"in"===t?new u0(e,r):"not-in"===t?new VC(e,r):"array-contains-any"===t?new UC(e,r):new Pn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new ym(e,r):new o0(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ps(t,this.value)):null!==t&&Su(this.value)===Su(t)&&this.matchesComparison(Ps(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class qn extends RC{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new qn(e,t)}matches(e){return Lc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Lc(n){return"and"===n.op}function md(n){return"or"===n.op}function t0(n){return n0(n)&&Lc(n)}function n0(n){for(const e of n.filters)if(e instanceof qn)return!1;return!0}function mm(n){if(n instanceof Pn)return n.field.canonicalString()+n.op.toString()+dd(n.value);if(t0(n))return n.filters.map(e=>mm(e)).join(",");{const e=n.filters.map(t=>mm(t)).join(",");return`${n.op}(${e})`}}function r0(n,e){return n instanceof Pn?(t=n,(r=e)instanceof Pn&&t.op===r.op&&t.field.isEqual(r.field)&&mo(t.value,r.value)):n instanceof qn?function(t,r){return r instanceof qn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((s,u,l)=>s&&r0(u,r.filters[l]),!0)}(n,e):void mt();var t,r}function kC(n,e){const t=n.filters.concat(e);return qn.create(t,n.op)}function FC(n){return n instanceof Pn?`${(e=n).field.canonicalString()} ${e.op} ${dd(e.value)}`:n instanceof qn?function(e){return e.op.toString()+" {"+e.getFilters().map(FC).join(" ,")+"}"}(n):"Filter";var e}class s0 extends Pn{constructor(e,t,r){super(e,t,r),this.key=it.fromName(r.referenceValue)}matches(e){const t=it.comparator(e.key,this.key);return this.matchesComparison(t)}}class ym extends Pn{constructor(e,t){super(e,"in",t),this.keys=a0(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class o0 extends Pn{constructor(e,t){super(e,"not-in",t),this.keys=a0(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function a0(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>it.fromName(r.referenceValue))}class LC extends Pn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return hd(t)&&ld(t.arrayValue,this.value)}}class u0 extends Pn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ld(this.value.arrayValue,t)}}class VC extends Pn{constructor(e,t){super(e,"not-in",t)}matches(e){if(ld(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ld(this.value.arrayValue,t)}}class UC extends Pn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!hd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ld(this.value.arrayValue,r))}}class BC{constructor(e,t=null,r=[],s=[],u=null,l=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=u,this.startAt=l,this.endAt=g,this.dt=null}}function vm(n,e=null,t=[],r=[],s=null,u=null,l=null){return new BC(n,e,t,r,s,u,l)}function Vc(n){const e=dt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>mm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Cu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>dd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>dd(r)).join(",")),e.dt=t}return e.dt}function xf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!NC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!r0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!pd(n.startAt,e.startAt)&&pd(n.endAt,e.endAt)}function _m(n){return it.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function wm(n,e){return n.filters.filter(t=>t instanceof Pn&&t.field.isEqual(e))}function jC(n,e,t){let r=Mf,s=!0;for(const u of wm(n,e)){let l=Mf,g=!0;switch(u.op){case"<":case"<=":l=_o(u.value);break;case"==":case"in":case">=":l=u.value;break;case">":l=u.value,g=!1;break;case"!=":case"not-in":l=Mf}X_({value:r,inclusive:s},{value:l,inclusive:g})<0&&(r=l,s=g)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];X_({value:r,inclusive:s},{value:l,inclusive:t.inclusive})<0&&(r=l,s=t.inclusive);break}return{value:r,inclusive:s}}function $C(n,e,t){let r=Au,s=!0;for(const u of wm(n,e)){let l=Au,g=!0;switch(u.op){case">=":case">":l=wo(u.value),g=!1;break;case"==":case"in":case"<=":l=u.value;break;case"<":l=u.value,g=!1;break;case"!=":case"not-in":l=Au}e0({value:r,inclusive:s},{value:l,inclusive:g})>0&&(r=l,s=g)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];e0({value:r,inclusive:s},{value:l,inclusive:t.inclusive})>0&&(r=l,s=t.inclusive);break}return{value:r,inclusive:s}}class Oa{constructor(e,t=null,r=[],s=[],u=null,l="F",g=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=u,this.limitType=l,this.startAt=g,this.endAt=v,this.wt=null,this._t=null}}function HC(n,e,t,r,s,u,l,g){return new Oa(n,e,t,r,s,u,l,g)}function yd(n){return new Oa(n)}function GC(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function c0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Em(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function l0(n){return null!==n.collectionGroup}function Uc(n){const e=dt(n);if(null===e.wt){e.wt=[];const t=Em(e),r=c0(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new gd(t)),e.wt.push(new gd(Or.keyField(),"asc"));else{let s=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(s=!0);if(!s){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new gd(Or.keyField(),u))}}}return e.wt}function ns(n){const e=dt(n);if(!e._t)if("F"===e.limitType)e._t=vm(e.path,e.collectionGroup,Uc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Uc(e))t.push(new gd(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new xu(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new xu(e.startAt.position,e.startAt.inclusive):null;e._t=vm(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e._t}function d0(n,e){e.getFirstInequalityField(),Em(n);const t=n.filters.concat([e]);return new Oa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Im(n,e,t){return new Oa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Of(n,e){return xf(ns(n),ns(e))&&n.limitType===e.limitType}function h0(n){return`${Vc(ns(n))}|lt:${n.limitType}`}function Cm(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>FC(r)).join(", ")}]`),Cu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>dd(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>dd(r)).join(",")),`Target(${t})`}(ns(n))}; limitType=${n.limitType})`}function vd(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):it.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of Uc(t))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,u,l){const g=gm(s,u,l);return s.inclusive?g<=0:g<0}(t.startAt,Uc(t),r)||t.endAt&&!function(s,u,l){const g=gm(s,u,l);return s.inclusive?g>=0:g>0}(t.endAt,Uc(t),r)));var t,r}function f0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function p0(n){return(e,t)=>{let r=!1;for(const s of Uc(n)){const u=zC(s,e,t);if(0!==u)return u;r=r||s.field.isKeyField()}return 0}}function zC(n,e,t){const r=n.field.isKeyField()?it.comparator(e.key,t.key):function(s,u,l){const g=u.data.field(s),v=l.data.field(s);return null!==g&&null!==v?Ps(g,v):mt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return mt()}}class Qo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,u]of r)if(this.equalsFn(s,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ma(this.inner,(t,r)=>{for(const[s,u]of r)e(s,u)})}isEmpty(){return J_(this.inner)}size(){return this.innerSize}}const qC=new rr(it.comparator);function rs(){return qC}const g0=new rr(it.comparator);function _d(...n){let e=g0;for(const t of n)e=e.insert(t.key,t);return e}function Ou(n){let e=g0;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Jo(){return Xo()}function ZC(){return Xo()}function Xo(){return new Qo(n=>n.toString(),(n,e)=>n.isEqual(e))}const QM=new rr(it.comparator),m0=new pr(it.comparator);function yn(...n){let e=m0;for(const t of n)e=e.add(t);return e}const WC=new pr(sn);function bm(){return WC}function iA(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bu(e)?"-0":e}}function Bc(n){return{integerValue:""+n}}function KC(n,e){return sm(e)?Bc(e):iA(n,e)}class Dm{constructor(){this._=void 0}}function sA(n,e,t){return n instanceof Pa?function(r,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Sf(s)&&(s=lm(s)),s&&(u.fields.__previous_value__=s),{mapValue:u}}(t,e):n instanceof ea?is(n,e):n instanceof Ed?y0(n,e):function(r,s){const u=YC(r,s),l=QC(u)+QC(r.gt);return OC(u)&&OC(r.gt)?Bc(l):iA(r.serializer,l)}(n,e)}function wd(n,e,t){return n instanceof ea?is(n,e):n instanceof Ed?y0(n,e):t}function YC(n,e){return n instanceof jc?OC(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Pa extends Dm{}class ea extends Dm{constructor(e){super(),this.elements=e}}function is(n,e){const t=v0(e);for(const r of n.elements)t.some(s=>mo(s,r))||t.push(r);return{arrayValue:{values:t}}}class Ed extends Dm{constructor(e){super(),this.elements=e}}function y0(n,e){let t=v0(e);for(const r of n.elements)t=t.filter(s=>!mo(s,r));return{arrayValue:{values:t}}}class jc extends Dm{constructor(e,t){super(),this.serializer=e,this.gt=t}}function QC(n){return Lr(n.integerValue||n.doubleValue)}function v0(n){return hd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Id{constructor(e,t){this.field=e,this.transform=t}}class XC{constructor(e,t){this.version=e,this.transformResults=t}}class Ir{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tm(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Am{}function Cd(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new na(n.key,Ir.none()):new $c(n.key,n.data,Ir.none());{const t=n.data,r=Fi.empty();let s=new pr(Or.comparator);for(let u of e.fields)if(!s.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),s=s.add(u)}return new ta(n.key,r,new Xr(s.toArray()),Ir.none())}}function oA(n,e,t){n instanceof $c?function(r,s,u){const l=r.value.clone(),g=eb(r.fieldTransforms,s,u.transformResults);l.setAll(g),s.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof ta?function(r,s,u){if(!Tm(r.precondition,s))return void s.convertToUnknownDocument(u.version);const l=eb(r.fieldTransforms,s,u.transformResults),g=s.data;g.setAll(_0(r)),g.setAll(l),s.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Pf(n,e,t,r){return n instanceof $c?function(s,u,l,g){if(!Tm(s.precondition,u))return l;const v=s.value.clone(),C=bd(s.fieldTransforms,g,u);return v.setAll(C),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),null}(n,e,t,r):n instanceof ta?function(s,u,l,g){if(!Tm(s.precondition,u))return l;const v=bd(s.fieldTransforms,g,u),C=u.data;return C.setAll(_0(s)),C.setAll(v),u.convertToFoundDocument(u.version,C).setHasLocalMutations(),null===l?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(D=>D.field))}(n,e,t,r):(l=t,Tm(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function aA(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),u=YC(r.transform,s||null);null!=u&&(null===t&&(t=Fi.empty()),t.set(r.field,u))}return t||null}function Nf(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ad(t,r,(s,u)=>function JC(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ea&&r instanceof ea||t instanceof Ed&&r instanceof Ed?ad(t.elements,r.elements,mo):t instanceof jc&&r instanceof jc?mo(t.gt,r.gt):t instanceof Pa&&r instanceof Pa);var t,r}(s,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class $c extends Am{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ta extends Am{constructor(e,t,r,s,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function _0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function eb(n,e,t){const r=new Map;At(n.length===t.length);for(let s=0;s<t.length;s++){const u=n[s],l=u.transform,g=e.data.field(u.field);r.set(u.field,wd(l,g,t[s]))}return r}function bd(n,e,t){const r=new Map;for(const s of n){const u=s.transform,l=t.data.field(s.field);r.set(s.field,sA(u,l,e))}return r}class na extends Am{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class w0 extends Am{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class E0{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&oA(u,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Pf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Pf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=ZC();return this.mutations.forEach(s=>{const u=e.get(s.key),l=u.overlayedDocument;let g=this.applyToLocalView(l,u.mutatedFields);g=t.has(s.key)?null:g;const v=Cd(l,g);null!==v&&r.set(s.key,v),l.isValidDocument()||l.convertToNoDocument(St.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),yn())}isEqual(e){return this.batchId===e.batchId&&ad(this.mutations,e.mutations,(t,r)=>Nf(t,r))&&ad(this.baseMutations,e.baseMutations,(t,r)=>Nf(t,r))}}class I0{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){At(e.mutations.length===r.length);let s=QM;const u=e.mutations;for(let l=0;l<u.length;l++)s=s.insert(u[l].key,r[l].version);return new I0(e,t,r,s)}}class Sm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class nb{constructor(e,t){this.count=e,this.unchangedNames=t}}var ei,kn;function rb(n){switch(n){default:return mt();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0}}function ib(n){if(void 0===n)return ur("GRPC error has no .code"),ye.UNKNOWN;switch(n){case ei.OK:return ye.OK;case ei.CANCELLED:return ye.CANCELLED;case ei.UNKNOWN:return ye.UNKNOWN;case ei.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case ei.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case ei.INTERNAL:return ye.INTERNAL;case ei.UNAVAILABLE:return ye.UNAVAILABLE;case ei.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case ei.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case ei.NOT_FOUND:return ye.NOT_FOUND;case ei.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case ei.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case ei.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case ei.ABORTED:return ye.ABORTED;case ei.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case ei.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case ei.DATA_LOSS:return ye.DATA_LOSS;default:return mt()}}(kn=ei||(ei={}))[kn.OK=0]="OK",kn[kn.CANCELLED=1]="CANCELLED",kn[kn.UNKNOWN=2]="UNKNOWN",kn[kn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kn[kn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kn[kn.NOT_FOUND=5]="NOT_FOUND",kn[kn.ALREADY_EXISTS=6]="ALREADY_EXISTS",kn[kn.PERMISSION_DENIED=7]="PERMISSION_DENIED",kn[kn.UNAUTHENTICATED=16]="UNAUTHENTICATED",kn[kn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kn[kn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kn[kn.ABORTED=10]="ABORTED",kn[kn.OUT_OF_RANGE=11]="OUT_OF_RANGE",kn[kn.UNIMPLEMENTED=12]="UNIMPLEMENTED",kn[kn.INTERNAL=13]="INTERNAL",kn[kn.UNAVAILABLE=14]="UNAVAILABLE",kn[kn.DATA_LOSS=15]="DATA_LOSS";class sb{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return C0}static getOrCreateInstance(){return null===C0&&(C0=new sb),C0}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let C0=null;function uA(){return new TextEncoder}const JM=new Ta([4294967295,4294967295],0);function b0(n){const e=uA().encode(n),t=new Nc;return t.update(e),new Uint8Array(t.digest())}function Rf(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ta([t,r],0),new Ta([s,u],0)]}class D0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new kf(`Invalid padding: ${t}`);if(r<0)throw new kf(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new kf(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new kf(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Ta.fromNumber(this.It)}Et(e,t,r){let s=e.add(t.multiply(Ta.fromNumber(r)));return 1===s.compare(JM)&&(s=new Ta([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=b0(e),[r,s]=Rf(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,s,u);if(!this.At(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),l=new D0(u,s,t);return r.forEach(g=>l.insert(g)),l}insert(e){if(0===this.It)return;const t=b0(e),[r,s]=Rf(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,s,u);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class kf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dd{constructor(e,t,r,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Na.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Dd(St.min(),s,new rr(sn),rs(),yn())}}class Na{constructor(e,t,r,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Na(r,t,yn(),yn(),yn())}}class Mm{constructor(e,t,r,s){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=s}}class ob{constructor(e,t){this.targetId=e,this.Vt=t}}class ab{constructor(e,t,r=Hr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class ub{constructor(){this.St=0,this.Dt=T0(),this.Ct=Hr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=yn(),t=yn(),r=yn();return this.Dt.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:mt()}}),new Na(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=T0()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class XM{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=rs(),this.zt=cb(),this.Wt=new rr(sn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:mt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,s)=>{this.te(s)&&t(s)})}ne(e){var t;const r=e.targetId,s=e.Vt.count,u=this.se(r);if(u){const l=u.target;if(_m(l))if(0===s){const g=new it(l.path);this.Yt(r,g,gr.newNoDocument(g,St.min()))}else At(1===s);else{const g=this.ie(r);if(g!==s){const v=this.re(e,g);0!==v&&(this.ee(r),this.Wt=this.Wt.insert(r,2===v?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=sb.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(C,D,x){var z,J,Ce,Fe,Ve,It;const Ut={localCacheCount:D,existenceFilterCount:x.count},_t=x.unchangedNames;return _t&&(Ut.bloomFilter={applied:0===C,hashCount:null!==(z=_t?.hashCount)&&void 0!==z?z:0,bitmapLength:null!==(Fe=null===(Ce=null===(J=_t?.bits)||void 0===J?void 0:J.bitmap)||void 0===Ce?void 0:Ce.length)&&void 0!==Fe?Fe:0,padding:null!==(It=null===(Ve=_t?.bits)||void 0===Ve?void 0:Ve.padding)&&void 0!==It?It:0}),Ut}(v,g,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:l=0},hashCount:g=0}=r;let v,C;try{v=xa(u).toUint8Array()}catch(D){if(D instanceof cm)return Ri("Decoding the base64 bloom filter in existence filter failed ("+D.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw D}try{C=new D0(v,l,g)}catch(D){return Ri(D instanceof kf?"BloomFilter error: ":"Applying bloom filter failed: ",D),1}return 0===C.It?1:s!==t-this.oe(e.targetId,C)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(u=>{const l=this.Gt.ue(),g=`projects/${l.projectId}/databases/${l.database}/documents/${u.path.canonicalString()}`;t.vt(g)||(this.Yt(e,u,null),s++)}),s}ce(e){const t=new Map;this.Qt.forEach((u,l)=>{const g=this.se(l);if(g){if(u.current&&_m(g.target)){const v=new it(g.target.path);null!==this.jt.get(v)||this.ae(l,v)||this.Yt(l,v,gr.newNoDocument(v,e))}u.Mt&&(t.set(l,u.Ot()),u.Ft())}});let r=yn();this.zt.forEach((u,l)=>{let g=!0;l.forEachWhile(v=>{const C=this.se(v);return!C||"TargetPurposeLimboResolution"===C.purpose||(g=!1,!1)}),g&&(r=r.add(u))}),this.jt.forEach((u,l)=>l.setReadTime(e));const s=new Dd(e,t,this.Wt,this.jt,r);return this.jt=rs(),this.zt=cb(),this.Wt=new rr(sn),s}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,t)?s.Bt(t,1):s.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new ub,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new pr(sn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||ze("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new ub),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function cb(){return new rr(it.comparator)}function T0(){return new rr(it.comparator)}const cA={asc:"ASCENDING",desc:"DESCENDING"},lA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ff={and:"AND",or:"OR"};class dA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xm(n,e){return n.useProto3Json||Cu(e)?e:{value:e}}function Td(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function A0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function hA(n,e){return Td(n,e.toTimestamp())}function Vr(n){return At(!!n),St.fromTimestamp(function(e){const t=Fc(e);return new wr(t.seconds,t.nanos)}(n))}function S0(n,e){return(t=n,new On(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Om(n){const e=On.fromString(n);return At(vb(e)),e}function Lf(n,e){return S0(n.databaseId,e.path)}function Eo(n,e){const t=Om(e);if(t.get(1)!==n.databaseId.projectId)throw new je(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new je(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new it(db(t))}function Pm(n,e){return S0(n.databaseId,e)}function lb(n){const e=Om(n);return 4===e.length?On.emptyPath():db(e)}function Vf(n){return new On(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function db(n){return At(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Nm(n,e,t){return{name:Lf(n,e),fields:t.value.mapValue.fields}}function hb(n,e,t){const r=Eo(n,e.name),s=Vr(e.updateTime),u=e.createTime?Vr(e.createTime):St.min(),l=new Fi({mapValue:{fields:e.fields}}),g=gr.newFoundDocument(r,s,u,l);return t&&g.setHasCommittedMutations(),t?g.setHasCommittedMutations():g}function Uf(n,e){let t;if(e instanceof $c)t={update:Nm(n,e.key,e.value)};else if(e instanceof na)t={delete:Lf(n,e.key)};else if(e instanceof ta)t={update:Nm(n,e.key,e.data),updateMask:vA(e.fieldMask)};else{if(!(e instanceof w0))return mt();t={verify:Lf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const l=u.transform;if(l instanceof Pa)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ea)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ed)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof jc)return{fieldPath:u.field.canonicalString(),increment:l.gt};throw mt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:hA(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:mt()),t;var s}function M0(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?Ir.updateTime(Vr(s.updateTime)):void 0!==s.exists?Ir.exists(s.exists):Ir.none():Ir.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(u,l){let g=null;"setToServerValue"in l?(At("REQUEST_TIME"===l.setToServerValue),g=new Pa):"appendMissingElements"in l?g=new ea(l.appendMissingElements.values||[]):"removeAllFromArray"in l?g=new Ed(l.removeAllFromArray.values||[]):"increment"in l?g=new jc(u,l.increment):mt();const v=Or.fromServerFormat(l.fieldPath);return new Id(v,g)}(n,s)):[];var s;if(e.update){const s=Eo(n,e.update.name),u=new Fi({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Xr((e.updateMask.fieldPaths||[]).map(C=>Or.fromServerFormat(C)));return new ta(s,u,l,t,r)}return new $c(s,u,t,r)}if(e.delete){const s=Eo(n,e.delete);return new na(s,t)}if(e.verify){const s=Eo(n,e.verify);return new w0(s,t)}return mt()}function pb(n,e){return{documents:[Pm(n,e.path)]}}function x0(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Pm(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Pm(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(v){if(0!==v.length)return yb(qn.create(v,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const u=function(v){if(0!==v.length)return v.map(C=>{return{field:Ra((D=C).field),direction:mb(D.dir)};var D})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=xm(n,e.limit);var g,v;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function gb(n){let e=lb(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){At(1===r);const D=t.from[0];D.allDescendants?s=D.collectionId:e=e.child(D.collectionId)}let u=[];t.where&&(u=function(D){const x=O0(D);return x instanceof qn&&t0(x)?x.getFilters():[x]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(D=>{return new gd(Ad((x=D).field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let g=null;t.limit&&(g=function(D){let x;return x="object"==typeof D?D.value:D,Cu(x)?null:x}(t.limit));let v=null;var D;t.startAt&&(v=new xu((D=t.startAt).values||[],!!D.before));let C=null;return t.endAt&&(C=function(D){return new xu(D.values||[],!D.before)}(t.endAt)),HC(e,s,l,u,g,"F",v,C)}function O0(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ad(e.unaryFilter.field);return Pn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Ad(e.unaryFilter.field);return Pn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ad(e.unaryFilter.field);return Pn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ad(e.unaryFilter.field);return Pn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}(n):void 0!==n.fieldFilter?Pn.create(Ad((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return qn.create(e.compositeFilter.filters.map(t=>O0(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return mt()}}(e.compositeFilter.op))}(n):mt();var e}function mb(n){return cA[n]}function mA(n){return lA[n]}function yA(n){return Ff[n]}function Ra(n){return{fieldPath:n.canonicalString()}}function Ad(n){return Or.fromServerFormat(n.fieldPath)}function yb(n){return n instanceof Pn?function(e){if("=="===e.op){if(yo(e.value))return{unaryFilter:{field:Ra(e.field),op:"IS_NAN"}};if(fm(e.value))return{unaryFilter:{field:Ra(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(yo(e.value))return{unaryFilter:{field:Ra(e.field),op:"IS_NOT_NAN"}};if(fm(e.value))return{unaryFilter:{field:Ra(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ra(e.field),op:mA(e.op),value:e.value}}}(n):n instanceof qn?function(e){const t=e.getFilters().map(r=>yb(r));return 1===t.length?t[0]:{compositeFilter:{op:yA(e.op),filters:t}}}(n):mt()}function vA(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function vb(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Io{constructor(e,t,r,s,u=St.min(),l=St.min(),g=Hr.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new Io(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Rm{constructor(e){this.fe=e}}function km(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Fm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Lf(s=n.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Td(s,u.version.toTimestamp()),createTime:Td(s,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Hc(e.version)};else{if(!e.isUnknownDocument())return mt();r.unknownDocument={path:t.path.toArray(),version:Hc(e.version)}}var s,u;return r}function Fm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Hc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ka(n){const e=new wr(n.seconds,n.nanoseconds);return St.fromTimestamp(e)}function Gc(n,e){const t=(e.baseMutations||[]).map(u=>M0(n.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const r=e.mutations.map(u=>M0(n.fe,u)),s=wr.fromMillis(e.localWriteTimeMs);return new E0(e.batchId,s,t,r)}function Sd(n){const e=ka(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?ka(n.lastLimboFreeSnapshotVersion):St.min();let r;var s;return void 0!==n.query.documents?(At(1===(s=n.query).documents.length),r=ns(yd(lb(s.documents[0])))):r=ns(gb(n.query)),new Io(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Hr.fromBase64String(n.resumeToken))}function Pu(n,e){const t=Hc(e.snapshotVersion),r=Hc(e.lastLimboFreeSnapshotVersion);let s;s=_m(e.target)?pb(n.fe,e.target):x0(n.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Vc(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function Lm(n){const e=gb({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Im(e,e.limit,"L"):e}function P0(n,e){return new Sm(e.largestBatchId,M0(n.fe,e.overlayMutation))}function _A(n,e){const t=e.path.lastSegment();return[n,ki(e.path.popLast()),t]}function Vm(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Hc(r.readTime),documentKey:ki(r.documentKey.path),largestBatchId:r.largestBatchId}}class N0{getBundleMetadata(e,t){return wb(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:ka(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return wb(e).put({bundleId:(r=t).id,createTime:Hc(Vr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return R0(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:Lm(s.bundledQuery),readTime:ka(s.readTime)};var s})}saveNamedQuery(e,t){return R0(e).put({name:(r=t).name,readTime:Hc(Vr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function wb(n){return hi(n,"bundles")}function R0(n){return hi(n,"namedQueries")}class Bf{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Bf(e,t.uid||"")}getOverlay(e,t){return jf(e).get(_A(this.userId,t)).next(r=>r?P0(this.serializer,r):null)}getOverlays(e,t){const r=Jo();return le.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){const s=[];return r.forEach((u,l)=>{const g=new Sm(t,l);s.push(this.we(e,g))}),le.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach(l=>s.add(ki(l.getCollectionPath())));const u=[];return s.forEach(l=>{const g=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);u.push(jf(e).J("collectionPathOverlayIndex",g))}),le.waitFor(u)}getOverlaysForCollection(e,t,r){const s=Jo(),u=ki(t),l=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return jf(e).j("collectionPathOverlayIndex",l).next(g=>{for(const v of g){const C=P0(this.serializer,v);s.set(C.getKey(),C)}return s})}getOverlaysForCollectionGroup(e,t,r,s){const u=Jo();let l;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return jf(e).X({index:"collectionGroupOverlayIndex",range:g},(v,C,D)=>{const x=P0(this.serializer,C);u.size()<s||x.largestBatchId===l?(u.set(x.getKey(),x),l=x.largestBatchId):D.done()}).next(()=>u)}we(e,t){return jf(e).put(function(r,s,u){const[l,g,v]=_A(s,u.mutation.key);return{userId:s,collectionPath:g,documentId:v,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Uf(r.fe,u.mutation)}}(this.serializer,this.userId,t))}}function jf(n){return hi(n,"documentOverlays")}class Nu{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Lr(e.integerValue));else if("doubleValue"in e){const r=Lr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),bu(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(xa(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?vo(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):mt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const s of Object.keys(r))this.Te(s,t),this.me(r[s],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const s of r)this.me(s,t)}ve(e,t){this.ye(t,37),it.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function k0(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function F0(n){const e=64-function(t){let r=0;for(let s=0;s<8;++s){const u=k0(255&t[s]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Nu.Ve=new Nu;class Eb{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const s=t.codePointAt(0);this.De(240|s>>>18),this.De(128|63&s>>>12),this.De(128|63&s>>>6),this.De(128|63&s)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const s=t.codePointAt(0);this.Ne(240|s>>>18),this.Ne(128|63&s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s)}}this.ke()}Oe(e){const t=this.Fe(e),r=F0(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}Le(e){const t=this.Fe(e),r=F0(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(s){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,s,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class Ib{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Cb{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class $f{constructor(){this.je=new Eb,this.ze=new Ib(this.je),this.We=new Cb(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class zc{constructor(e,t,r,s){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=s}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new zc(this.indexId,this.documentKey,this.arrayValue,r)}}function Ru(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=bb(n.arrayValue,e.arrayValue),0!==t?t:(t=bb(n.directionalValue,e.directionalValue),0!==t?t:it.comparator(n.documentKey,e.documentKey)))}function bb(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Db{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){At(e.collectionGroup===this.collectionId);const t=H_(e);if(void 0!==t&&!this.en(t))return!1;const r=po(e);let s=new Set,u=0,l=0;for(;u<r.length&&this.en(r[u]);++u)s=s.add(r[u].fieldPath.canonicalString());if(u===r.length)return!0;if(void 0!==this.Ze){if(!s.has(this.Ze.field.canonicalString())){const g=r[u];if(!this.nn(this.Ze,g)||!this.sn(this.Ye[l++],g))return!1}++u}for(;u<r.length;++u)if(l>=this.Ye.length||!this.sn(this.Ye[l++],r[u]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function wA(n){var e,t;if(At(n instanceof Pn||n instanceof qn),n instanceof Pn){if(n instanceof u0){const s=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>Pn.create(n.field,"==",u)))||[];return qn.create(s,"or")}return n}const r=n.filters.map(s=>wA(s));return qn.create(r,n.op)}function Tb(n){if(0===n.getFilters().length)return[];const e=U0(wA(n));return At(EA(e)),L0(e)||V0(e)?[e]:e.getFilters()}function L0(n){return n instanceof Pn}function V0(n){return n instanceof qn&&t0(n)}function EA(n){return L0(n)||V0(n)||function(e){if(e instanceof qn&&md(e)){for(const t of e.getFilters())if(!L0(t)&&!V0(t))return!1;return!0}return!1}(n)}function U0(n){if(At(n instanceof Pn||n instanceof qn),n instanceof Pn)return n;if(1===n.filters.length)return U0(n.filters[0]);const e=n.filters.map(r=>U0(r));let t=qn.create(e,n.op);return t=Um(t),EA(t)?t:(At(t instanceof qn),At(Lc(t)),At(t.filters.length>1),t.filters.reduce((r,s)=>B0(r,s)))}function B0(n,e){let t;return At(n instanceof Pn||n instanceof qn),At(e instanceof Pn||e instanceof qn),t=n instanceof Pn?e instanceof Pn?qn.create([n,e],"and"):j0(n,e):e instanceof Pn?j0(e,n):function(r,s){if(At(r.filters.length>0&&s.filters.length>0),Lc(r)&&Lc(s))return kC(r,s.getFilters());const u=md(r)?r:s,l=md(r)?s:r,g=u.filters.map(v=>B0(v,l));return qn.create(g,"or")}(n,e),Um(t)}function j0(n,e){if(Lc(e))return kC(e,n.getFilters());{const t=e.filters.map(r=>B0(n,r));return qn.create(t,"or")}}function Um(n){if(At(n instanceof Pn||n instanceof qn),n instanceof Pn)return n;const e=n.getFilters();if(1===e.length)return Um(e[0]);if(n0(n))return n;const t=e.map(s=>Um(s)),r=[];return t.forEach(s=>{s instanceof Pn?r.push(s):s instanceof qn&&(s.op===n.op?r.push(...s.filters):r.push(s))}),1===r.length?r[0]:qn.create(r,n.op)}class IA{constructor(){this.rn=new $0}addToCollectionParentIndex(e,t){return this.rn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(qi.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(qi.min())}updateCollectionGroup(e,t,r){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class $0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new pr(On.comparator),u=!s.has(r);return this.index[t]=s.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new pr(On.comparator)).toArray()}}const Bm=new Uint8Array(0);class CA{constructor(e,t){this.user=e,this.databaseId=t,this.on=new $0,this.un=new Qo(r=>Vc(r),(r,s)=>xf(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const u={collectionId:r,parent:ki(s)};return Ab(e).put(u)}return le.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[lC(t),""],!1,!0);return Ab(e).j(s).next(u=>{for(const l of u){if(l.collectionId!==t)break;r.push(Yo(l.parent))}return r})}addFieldIndex(e,t){const r=jm(e),s={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var l;delete s.indexId;const u=r.add(s);if(t.indexState){const l=Gf(e);return u.next(g=>{l.put(Vm(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=jm(e),s=Gf(e),u=Hf(e);return r.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Hf(e);let s=!0;const u=new Map;return le.forEach(this.cn(t),l=>this.an(e,l).next(g=>{s&&(s=!!g),u.set(l,g)})).next(()=>{if(s){let l=yn();const g=[];return le.forEach(u,(v,C)=>{var D;ze("IndexedDbIndexManager",`Using index ${D=v,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(_t=>`${_t.fieldPath}:${_t.kind}`).join(",")}`} to execute ${Vc(t)}`);const x=function(_t,$t){const un=H_($t);if(void 0===un)return null;for(const Sn of wm(_t,un.fieldPath))switch(Sn.op){case"array-contains-any":return Sn.value.arrayValue.values||[];case"array-contains":return[Sn.value]}return null}(C,v),z=function(_t,$t){const un=new Map;for(const Sn of po($t))for(const as of wm(_t,Sn.fieldPath))switch(as.op){case"==":case"in":un.set(Sn.fieldPath.canonicalString(),as.value);break;case"not-in":case"!=":return un.set(Sn.fieldPath.canonicalString(),as.value),Array.from(un.values())}return null}(C,v),J=function(_t,$t){const un=[];let Sn=!0;for(const as of po($t)){const th=0===as.kind?jC(_t,as.fieldPath,_t.startAt):$C(_t,as.fieldPath,_t.startAt);un.push(th.value),Sn&&(Sn=th.inclusive)}return new xu(un,Sn)}(C,v),Ce=function(_t,$t){const un=[];let Sn=!0;for(const as of po($t)){const th=0===as.kind?$C(_t,as.fieldPath,_t.endAt):jC(_t,as.fieldPath,_t.endAt);un.push(th.value),Sn&&(Sn=th.inclusive)}return new xu(un,Sn)}(C,v),Fe=this.hn(v,C,J),Ve=this.hn(v,C,Ce),It=this.ln(v,C,z),Ut=this.fn(v.indexId,x,Fe,J.inclusive,Ve,Ce.inclusive,It);return le.forEach(Ut,_t=>r.H(_t,t.limit).next($t=>{$t.forEach(un=>{const Sn=it.fromSegments(un.documentKey);l.has(Sn)||(l=l.add(Sn),g.push(Sn))})}))}).next(()=>g)}return le.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Tb(qn.create(e.filters,"and")).map(r=>vm(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,s,u,l,g){const v=(null!=t?t.length:1)*Math.max(r.length,u.length),C=v/(null!=t?t.length:1),D=[];for(let x=0;x<v;++x){const z=t?this.dn(t[x/C]):Bm,J=this.wn(e,z,r[x%C],s),Ce=this._n(e,z,u[x%C],l),Fe=g.map(Ve=>this.wn(e,z,Ve,!0));D.push(...this.createRange(J,Ce,Fe))}return D}wn(e,t,r,s){const u=new zc(e,it.empty(),t,r);return s?u:u.Je()}_n(e,t,r,s){const u=new zc(e,it.empty(),t,r);return s?u.Je():u}an(e,t){const r=new Db(t),s=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(u=>{let l=null;for(const g of u)r.tn(g)&&(!l||g.fields.length>l.fields.length)&&(l=g);return l})}getIndexType(e,t){let r=2;const s=this.cn(t);return le.forEach(s,u=>this.an(e,u).next(l=>{l?0!==r&&l.fields.length<function(g){let v=new pr(Or.comparator),C=!1;for(const D of g.filters)for(const x of D.getFlattenedFilters())x.field.isKeyField()||("array-contains"===x.op||"array-contains-any"===x.op?C=!0:v=v.add(x.field));for(const D of g.orderBy)D.field.isKeyField()||(v=v.add(D.field));return v.size+(C?1:0)}(u)&&(r=1):r=0})).next(()=>null!==t.limit&&s.length>1&&2===r?1:r)}mn(e,t){const r=new $f;for(const s of po(e)){const u=t.data.field(s.fieldPath);if(null==u)return null;const l=r.He(s.kind);Nu.Ve._e(u,l)}return r.Qe()}dn(e){const t=new $f;return Nu.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new $f;return Nu.Ve._e(Mu(this.databaseId,t),r.He(function(s){const u=po(s);return 0===u.length?0:u[u.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let s=[];s.push(new $f);let u=0;for(const l of po(e)){const g=r[u++];for(const v of s)if(this.yn(t,l.fieldPath)&&hd(g))s=this.pn(s,l,g);else{const C=v.He(l.kind);Nu.Ve._e(g,C)}}return this.In(s)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const s=[...e],u=[];for(const l of r.arrayValue.values||[])for(const g of s){const v=new $f;v.seed(g.Qe()),Nu.Ve._e(l,v.He(t.kind)),u.push(v)}return u}yn(e,t){return!!e.filters.find(r=>r instanceof Pn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=jm(e),s=Gf(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(u=>{const l=[];return le.forEach(u,g=>s.get([g.indexId,this.uid]).next(v=>{l.push(function(C,D){const x=D?new Tf(D.sequenceNumber,new qi(ka(D.readTime),new it(Yo(D.documentKey)),D.largestBatchId)):Tf.empty(),z=C.fields.map(([J,Ce])=>new tm(Or.fromServerFormat(J),Ce));return new Df(C.indexId,C.collectionGroup,z,x)}(g,v))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,s)=>{const u=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==u?u:sn(r.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const s=jm(e),u=Gf(e);return this.Tn(e).next(l=>s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>le.forEach(g,v=>u.put(Vm(v.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return le.forEach(t,(s,u)=>{const l=r.get(s.collectionGroup);return(l?le.resolve(l):this.getFieldIndexes(e,s.collectionGroup)).next(g=>(r.set(s.collectionGroup,g),le.forEach(g,v=>this.En(e,s,v).next(C=>{const D=this.An(u,v);return C.isEqual(D)?le.resolve():this.vn(e,u,v,C,D)}))))})}Rn(e,t,r,s){return Hf(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,s){return Hf(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const s=Hf(e);let u=new pr(Ru);return s.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(l,g)=>{u=u.add(new zc(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>u)}An(e,t){let r=new pr(Ru);const s=this.mn(t,e);if(null==s)return r;const u=H_(t);if(null!=u){const l=e.data.field(u.fieldPath);if(hd(l))for(const g of l.arrayValue.values||[])r=r.add(new zc(t.indexId,e.key,this.dn(g),s))}else r=r.add(new zc(t.indexId,e.key,Bm,s));return r}vn(e,t,r,s,u){ze("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(g,v,C,D,x){const z=g.getIterator(),J=v.getIterator();let Ce=Du(z),Fe=Du(J);for(;Ce||Fe;){let Ve=!1,It=!1;if(Ce&&Fe){const Ut=C(Ce,Fe);Ut<0?It=!0:Ut>0&&(Ve=!0)}else null!=Ce?It=!0:Ve=!0;Ve?(D(Fe),Fe=Du(J)):It?(x(Ce),Ce=Du(z)):(Ce=Du(z),Fe=Du(J))}}(s,u,Ru,g=>{l.push(this.Rn(e,t,r,g))},g=>{l.push(this.Pn(e,t,r,g))}),le.waitFor(l)}Tn(e){let t=1;return Gf(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,u)=>{u.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,g)=>Ru(l,g)).filter((l,g,v)=>!g||0!==Ru(l,v[g-1]));const s=[];s.push(e);for(const l of r){const g=Ru(l,e),v=Ru(l,t);if(0===g)s[0]=e.Je();else if(g>0&&v<0)s.push(l),s.push(l.Je());else if(v>0)break}s.push(t);const u=[];for(let l=0;l<s.length;l+=2){if(this.bn(s[l],s[l+1]))return[];u.push(IDBKeyRange.bound([s[l].indexId,this.uid,s[l].arrayValue,s[l].directionalValue,Bm,[]],[s[l+1].indexId,this.uid,s[l+1].arrayValue,s[l+1].directionalValue,Bm,[]]))}return u}bn(e,t){return Ru(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Md)}getMinOffset(e,t){return le.mapArray(this.cn(t),r=>this.an(e,r).next(s=>s||mt())).next(Md)}}function Ab(n){return hi(n,"collectionParents")}function Hf(n){return hi(n,"indexEntries")}function jm(n){return hi(n,"indexConfiguration")}function Gf(n){return hi(n,"indexState")}function Md(n){At(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;dC(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new qi(e.readTime,e.documentKey,t)}const H0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Li{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Li(e,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function G0(n,e,t){const r=n.store("mutations"),s=n.store("documentMutations"),u=[],l=IDBKeyRange.only(t.batchId);let g=0;const v=r.X({range:l},(D,x,z)=>(g++,z.delete()));u.push(v.next(()=>{At(1===g)}));const C=[];for(const D of t.mutations){const x=Z_(e,D.key.path,t.batchId);u.push(s.delete(x)),C.push(D.key)}return le.waitFor(u).next(()=>C)}function zf(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw mt();e=n.noDocument}return JSON.stringify(e).length}Li.DEFAULT_COLLECTION_PERCENTILE=10,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Li.DEFAULT=new Li(41943040,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Li.DISABLED=new Li(-1,0,0);class qf{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.Vn={}}static de(e,t,r,s){At(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new qf(u,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ku(e).X({index:"userMutationsIndex",range:r},(s,u,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,s){const u=Zf(e),l=ku(e);return l.add({}).next(g=>{At("number"==typeof g);const v=new E0(g,t,r,s),C=function(z,J,Ce){const Fe=Ce.baseMutations.map(It=>Uf(z.fe,It)),Ve=Ce.mutations.map(It=>Uf(z.fe,It));return{userId:J,batchId:Ce.batchId,localWriteTimeMs:Ce.localWriteTime.toMillis(),baseMutations:Fe,mutations:Ve}}(this.serializer,this.userId,v),D=[];let x=new pr((z,J)=>sn(z.canonicalString(),J.canonicalString()));for(const z of s){const J=Z_(this.userId,z.key.path,g);x=x.add(z.key.path.popLast()),D.push(l.put(C)),D.push(u.put(J,yC))}return x.forEach(z=>{D.push(this.indexManager.addToCollectionParentIndex(e,z))}),e.addOnCommittedListener(()=>{this.Vn[g]=v.keys()}),le.waitFor(D).next(()=>v)})}lookupMutationBatch(e,t){return ku(e).get(t).next(r=>r?(At(r.userId===this.userId),Gc(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?le.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const s=r.keys();return this.Vn[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return ku(e).X({index:"userMutationsIndex",range:s},(l,g,v)=>{g.userId===this.userId&&(At(g.batchId>=r),u=Gc(this.serializer,g)),v.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return ku(e).X({index:"userMutationsIndex",range:t,reverse:!0},(s,u,l)=>{r=u.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ku(e).j("userMutationsIndex",t).next(r=>r.map(s=>Gc(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=cd(this.userId,t.path),s=IDBKeyRange.lowerBound(r),u=[];return Zf(e).X({range:s},(l,g,v)=>{const[C,D,x]=l,z=Yo(D);if(C===this.userId&&t.path.isEqual(z))return ku(e).get(x).next(J=>{if(!J)throw mt();At(J.userId===this.userId),u.push(Gc(this.serializer,J))});v.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new pr(sn);const s=[];return t.forEach(u=>{const l=cd(this.userId,u.path),g=IDBKeyRange.lowerBound(l),v=Zf(e).X({range:g},(C,D,x)=>{const[z,J,Ce]=C,Fe=Yo(J);z===this.userId&&u.path.isEqual(Fe)?r=r.add(Ce):x.done()});s.push(v)}),le.waitFor(s).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,u=cd(this.userId,r),l=IDBKeyRange.lowerBound(u);let g=new pr(sn);return Zf(e).X({range:l},(v,C,D)=>{const[x,z,J]=v,Ce=Yo(z);x===this.userId&&r.isPrefixOf(Ce)?Ce.length===s&&(g=g.add(J)):D.done()}).next(()=>this.Dn(e,g))}Dn(e,t){const r=[],s=[];return t.forEach(u=>{s.push(ku(e).get(u).next(l=>{if(null===l)throw mt();At(l.userId===this.userId),r.push(Gc(this.serializer,l))}))}),le.waitFor(s).next(()=>r)}removeMutationBatch(e,t){return G0(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),le.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return le.resolve();const r=IDBKeyRange.lowerBound([this.userId]),s=[];return Zf(e).X({range:r},(u,l,g)=>{if(u[0]===this.userId){const v=Yo(u[1]);s.push(v)}else g.done()}).next(()=>{At(0===s.length)})})}containsKey(e,t){return z0(e,this.userId,t)}xn(e){return bA(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function z0(n,e,t){const r=cd(e,t.path),s=r[1],u=IDBKeyRange.lowerBound(r);let l=!1;return Zf(n).X({range:u,Y:!0},(g,v,C)=>{const[D,x,z]=g;D===e&&x===s&&(l=!0),C.done()}).next(()=>l)}function ku(n){return hi(n,"mutations")}function Zf(n){return hi(n,"documentMutations")}function bA(n){return hi(n,"mutationQueues")}class Fu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Fu(0)}static Mn(){return new Fu(-1)}}class DA{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new Fu(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>St.fromTimestamp(new wr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.On(e,s)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>qc(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(At(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let s=0;const u=[];return qc(e).X((l,g)=>{const v=Sd(g);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(s++,u.push(this.removeTargetData(e,v)))}).next(()=>le.waitFor(u)).next(()=>s)}forEachTarget(e,t){return qc(e).X((r,s)=>{const u=Sd(s);t(u)})}$n(e){return Sb(e).get("targetGlobalKey").next(t=>(At(null!==t),t))}On(e,t){return Sb(e).put("targetGlobalKey",t)}Fn(e,t){return qc(e).put(Pu(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Vc(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return qc(e).X({range:s,index:"queryTargetsIndex"},(l,g,v)=>{const C=Sd(g);xf(t,C.target)&&(u=C,v.done())}).next(()=>u)}addMatchingKeys(e,t,r){const s=[],u=Lu(e);return t.forEach(l=>{const g=ki(l.path);s.push(u.put({targetId:r,path:g})),s.push(this.referenceDelegate.addReference(e,r,l))}),le.waitFor(s)}removeMatchingKeys(e,t,r){const s=Lu(e);return le.forEach(t,u=>{const l=ki(u.path);return le.waitFor([s.delete([r,l]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Lu(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=Lu(e);let u=yn();return s.X({range:r,Y:!0},(l,g,v)=>{const C=Yo(l[1]),D=new it(C);u=u.add(D)}).next(()=>u)}containsKey(e,t){const r=ki(t.path),s=IDBKeyRange.bound([r],[lC(r)],!1,!0);let u=0;return Lu(e).X({index:"documentTargetsIndex",Y:!0,range:s},([l,g],v,C)=>{0!==l&&(u++,C.done())}).next(()=>u>0)}le(e,t){return qc(e).get(t).next(r=>r?Sd(r):null)}}function qc(n){return hi(n,"targets")}function Sb(n){return hi(n,"targetGlobal")}function Lu(n){return hi(n,"targetDocuments")}function xd([n,e],[t,r]){const s=sn(n,t);return 0===s?sn(e,r):s}class TA{constructor(e){this.Ln=e,this.buffer=new pr(xd),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();xd(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class $m{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;ze("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,_e.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Sa(r)?ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ko(r)}yield t.Qn(3e5)}))}}class AA{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return le.resolve(Os.ct);const r=new TA(t);return this.jn.forEachTarget(e,s=>r.Kn(s.sequenceNumber)).next(()=>this.jn.Wn(e,s=>r.Kn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(H0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),H0):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,s,u,l,g,v,C;const D=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),s=this.params.maximumSequenceNumbersToCollect):s=x,l=Date.now(),this.nthSequenceNumber(e,s))).next(x=>(r=x,g=Date.now(),this.removeTargets(e,r,t))).next(x=>(u=x,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(C=Date.now(),Eu()<=du.in.DEBUG&&ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-D}ms\n\tDetermined least recently used ${s} in `+(g-l)+`ms\n\tRemoved ${u} targets in `+(v-g)+`ms\n\tRemoved ${x} documents in `+(C-v)+`ms\nTotal Duration: ${C-D}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:u,documentsRemoved:x})))}}class MA{constructor(e,t){this.db=e,this.garbageCollector=function SA(n,e){return new AA(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,s)=>t(s))}addReference(e,t,r){return q0(e,r)}removeReference(e,t,r){return q0(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return q0(e,t)}Xn(e,t){return function(r,s){let u=!1;return bA(r).Z(l=>z0(r,l,s).next(g=>(g&&(u=!0),le.resolve(!g)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let u=0;return this.Yn(e,(l,g)=>{if(g<=t){const v=this.Xn(e,l).next(C=>{if(!C)return u++,r.getEntry(e,l).next(()=>(r.removeEntry(l,St.min()),Lu(e).delete([0,ki(l.path)])))});s.push(v)}}).next(()=>le.waitFor(s)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return q0(e,t)}Yn(e,t){const r=Lu(e);let s,u=Os.ct;return r.X({index:"documentTargetsIndex"},([l,g],{path:v,sequenceNumber:C})=>{0===l?(u!==Os.ct&&t(new it(Yo(s)),u),u=C,s=v):u=Os.ct}).next(()=>{u!==Os.ct&&t(new it(Yo(s)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function q0(n,e){return Lu(n).put((r=n.currentSequenceNumber,{targetId:0,path:ki(e.path),sequenceNumber:r}));var r}class Od{constructor(){this.changes=new Qo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?le.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xA{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Vu(e).put(r)}removeEntry(e,t,r){return Vu(e).delete(function(s,u){const l=s.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],Fm(u),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=gr.newInvalidDocument(t);return Vu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Kf(t))},(s,u)=>{r=this.ts(t,u)}).next(()=>r)}es(e,t){let r={size:0,document:gr.newInvalidDocument(t)};return Vu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Kf(t))},(s,u)=>{r={document:this.ts(t,u),size:zf(u)}}).next(()=>r)}getEntries(e,t){let r=rs();return this.ns(e,t,(s,u)=>{const l=this.ts(s,u);r=r.insert(s,l)}).next(()=>r)}ss(e,t){let r=rs(),s=new rr(it.comparator);return this.ns(e,t,(u,l)=>{const g=this.ts(u,l);r=r.insert(u,g),s=s.insert(u,zf(l))}).next(()=>({documents:r,rs:s}))}ns(e,t,r){if(t.isEmpty())return le.resolve();let s=new pr(Yf);t.forEach(v=>s=s.add(v));const u=IDBKeyRange.bound(Kf(s.first()),Kf(s.last())),l=s.getIterator();let g=l.getNext();return Vu(e).X({index:"documentKeyIndex",range:u},(v,C,D)=>{const x=it.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;g&&Yf(g,x)<0;)r(g,null),g=l.getNext();g&&g.isEqual(x)&&(r(g,C),g=l.hasNext()?l.getNext():null),g?D.G(Kf(g)):D.done()}).next(()=>{for(;g;)r(g,null),g=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,s){const u=t.path,l=[u.popLast().toArray(),u.lastSegment(),Fm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],g=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Vu(e).j(IDBKeyRange.bound(l,g,!0)).next(v=>{let C=rs();for(const D of v){const x=this.ts(it.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);x.isFoundDocument()&&(vd(t,x)||s.has(x.key))&&(C=C.insert(x.key,x))}return C})}getAllFromCollectionGroup(e,t,r,s){let u=rs();const l=Z0(t,r),g=Z0(t,qi.max());return Vu(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,g,!0)},(v,C,D)=>{const x=this.ts(it.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);u=u.insert(x.key,x),u.size===s&&D.done()}).next(()=>u)}newChangeBuffer(e){return new OA(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Wf(e).get("remoteDocumentGlobalKey").next(t=>(At(!!t),t))}Zn(e,t){return Wf(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function _b(n,e){let t;if(e.document)t=hb(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=it.fromSegments(e.noDocument.path),s=ka(e.noDocument.readTime);t=gr.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return mt();{const r=it.fromSegments(e.unknownDocument.path),s=ka(e.unknownDocument.version);t=gr.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime(function(r){const s=new wr(r[0],r[1]);return St.fromTimestamp(s)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(St.min()))return r}return gr.newInvalidDocument(e)}}function Mb(n){return new xA(n)}class OA extends Od{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Qo(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const t=[];let r=0,s=new pr((u,l)=>sn(u.canonicalString(),l.canonicalString()));return this.changes.forEach((u,l)=>{const g=this.us.get(u);if(t.push(this.os.removeEntry(e,u,g.readTime)),l.isValidDocument()){const v=km(this.os.serializer,l);s=s.add(u.path.popLast());const C=zf(v);r+=C-g.size,t.push(this.os.addEntry(e,u,v))}else if(r-=g.size,this.trackRemovals){const v=km(this.os.serializer,l.convertToNoDocument(St.min()));t.push(this.os.addEntry(e,u,v))}}),s.forEach(u=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.os.updateMetadata(e,r)),le.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:s})=>(s.forEach((u,l)=>{this.us.set(u,{size:l,readTime:r.get(u).readTime})}),r))}}function Wf(n){return hi(n,"remoteDocumentGlobal")}function Vu(n){return hi(n,"remoteDocumentsV14")}function Kf(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Z0(n,e){const t=e.documentKey.path.toArray();return[n,Fm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Yf(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(s=sn(t[u],r[u]),s)return s;return s=sn(t.length,r.length),s||(s=sn(t[t.length-2],r[r.length-2]),s||sn(t[t.length-1],r[r.length-1]))}class PA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class xb{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(null!==r&&Pf(r.mutation,s,Xr.empty(),wr.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,yn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=yn()){const s=Jo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(u=>{let l=_d();return u.forEach((g,v)=>{l=l.insert(g,v.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Jo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,yn()))}populateOverlays(e,t,r){const s=[];return r.forEach(u=>{t.has(u)||s.push(u)}),this.documentOverlayCache.getOverlays(e,s).next(u=>{u.forEach((l,g)=>{t.set(l,g)})})}computeViews(e,t,r,s){let u=rs();const l=Xo(),g=Xo();return t.forEach((v,C)=>{const D=r.get(C.key);s.has(C.key)&&(void 0===D||D.mutation instanceof ta)?u=u.insert(C.key,C):void 0!==D?(l.set(C.key,D.mutation.getFieldMask()),Pf(D.mutation,C,D.mutation.getFieldMask(),wr.now())):l.set(C.key,Xr.empty())}),this.recalculateAndSaveOverlays(e,u).next(v=>(v.forEach((C,D)=>l.set(C,D)),t.forEach((C,D)=>{var x;return g.set(C,new PA(D,null!==(x=l.get(C))&&void 0!==x?x:null))}),g))}recalculateAndSaveOverlays(e,t){const r=Xo();let s=new rr((l,g)=>l-g),u=yn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const g of l)g.keys().forEach(v=>{const C=t.get(v);if(null===C)return;let D=r.get(v)||Xr.empty();D=g.applyToLocalView(C,D),r.set(v,D);const x=(s.get(g.batchId)||yn()).add(v);s=s.insert(g.batchId,x)})}).next(()=>{const l=[],g=s.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),C=v.key,D=v.value,x=ZC();D.forEach(z=>{if(!u.has(z)){const J=Cd(t.get(z),r.get(z));null!==J&&x.set(z,J),u=u.add(z)}}),l.push(this.documentOverlayCache.saveOverlays(e,C,x))}return le.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return it.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):l0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var s}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(u=>{const l=s-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-u.size):le.resolve(Jo());let g=-1,v=u;return l.next(C=>le.forEach(C,(D,x)=>(g<x.largestBatchId&&(g=x.largestBatchId),u.get(D)?le.resolve():this.remoteDocumentCache.getEntry(e,D).next(z=>{v=v.insert(D,z)}))).next(()=>this.populateOverlays(e,C,u)).next(()=>this.computeViews(e,v,C,yn())).next(D=>({batchId:g,changes:Ou(D)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new it(t)).next(r=>{let s=_d();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const s=t.collectionGroup;let u=_d();return this.indexManager.getCollectionParents(e,s).next(l=>le.forEach(l,g=>{const v=(C=t,D=g.child(s),new Oa(D,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,D;return this.getDocumentsMatchingCollectionQuery(e,v,r).next(C=>{C.forEach((D,x)=>{u=u.insert(D,x)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(s=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s))).next(u=>{s.forEach((g,v)=>{const C=v.getKey();null===u.get(C)&&(u=u.insert(C,gr.newInvalidDocument(C)))});let l=_d();return u.forEach((g,v)=>{const C=s.get(g);void 0!==C&&Pf(C.mutation,v,Xr.empty(),wr.now()),vd(t,v)&&(l=l.insert(g,v))}),l})}}class Ob{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return le.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Vr(r.createTime)}),le.resolve()}getNamedQuery(e,t){return le.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:Lm(r.bundledQuery),readTime:Vr(r.readTime)}),le.resolve();var r}}class NA{constructor(){this.overlays=new rr(it.comparator),this.ls=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Jo();return le.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,u)=>{this.we(e,t,u)}),le.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.ls.get(r);return void 0!==s&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),le.resolve()}getOverlaysForCollection(e,t,r){const s=Jo(),u=t.length+1,l=new it(t.child("")),g=this.overlays.getIteratorFrom(l);for(;g.hasNext();){const v=g.getNext().value,C=v.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===u&&v.largestBatchId>r&&s.set(v.getKey(),v)}return le.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let u=new rr((C,D)=>C-D);const l=this.overlays.getIterator();for(;l.hasNext();){const C=l.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>r){let D=u.get(C.largestBatchId);null===D&&(D=Jo(),u=u.insert(C.largestBatchId,D)),D.set(C.getKey(),C)}}const g=Jo(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((C,D)=>g.set(C,D)),!(g.size()>=s)););return le.resolve(g)}we(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const l=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Sm(t,r));let u=this.ls.get(t);void 0===u&&(u=yn(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class W0{constructor(){this.fs=new pr(fi.ds),this.ws=new pr(fi._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new fi(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new fi(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new it(new On([])),r=new fi(t,e),s=new fi(t,e+1),u=[];return this.ws.forEachInRange([r,s],l=>{this.ys(l),u.push(l.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new it(new On([])),r=new fi(t,e),s=new fi(t,e+1);let u=yn();return this.ws.forEachInRange([r,s],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new fi(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class fi{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return it.comparator(e.key,t.key)||sn(e.As,t.As)}static _s(e,t){return sn(e.As,t.As)||it.comparator(e.key,t.key)}}class Hm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new pr(fi.ds)}checkEmpty(e){return le.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const u=this.vs;this.vs++;const l=new E0(u,t,r,s);this.mutationQueue.push(l);for(const g of s)this.Rs=this.Rs.add(new fi(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return le.resolve(l)}lookupMutationBatch(e,t){return le.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.bs(t+1),u=s<0?0:s;return le.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new fi(t,0),s=new fi(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,s],l=>{const g=this.Ps(l.As);u.push(g)}),le.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new pr(sn);return t.forEach(s=>{const u=new fi(s,0),l=new fi(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,l],g=>{r=r.add(g.As)})}),le.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let u=r;it.isDocumentKey(u)||(u=u.child(""));const l=new fi(new it(u),0);let g=new pr(sn);return this.Rs.forEachWhile(v=>{const C=v.key.path;return!!r.isPrefixOf(C)&&(C.length===s&&(g=g.add(v.As)),!0)},l),le.resolve(this.Vs(g))}Vs(e){const t=[];return e.forEach(r=>{const s=this.Ps(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){At(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return le.forEach(t.mutations,s=>{const u=new fi(s.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new fi(t,0),s=this.Rs.firstAfterOrEqual(r);return le.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return le.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class RA{constructor(e){this.Ds=e,this.docs=new rr(it.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),u=s?s.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return le.resolve(r?r.document.mutableCopy():gr.newInvalidDocument(t))}getEntries(e,t){let r=rs();return t.forEach(s=>{const u=this.docs.get(s);r=r.insert(s,u?u.document.mutableCopy():gr.newInvalidDocument(s))}),le.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let u=rs();const l=t.path,g=new it(l.child("")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:C,value:{document:D}}=v.getNext();if(!l.isPrefixOf(C.path))break;C.path.length>l.length+1||dC(Af(D),r)<=0||(s.has(D.key)||vd(t,D))&&(u=u.insert(D.key,D.mutableCopy()))}return le.resolve(u)}getAllFromCollectionGroup(e,t,r,s){mt()}Cs(e,t){return le.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new kA(this)}getSize(e){return le.resolve(this.size)}}class kA extends Od{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),le.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Pb{constructor(e){this.persistence=e,this.xs=new Qo(t=>Vc(t),xf),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.Ns=0,this.ks=new W0,this.targetCount=0,this.Ms=Fu.kn()}forEachTarget(e,t){return this.xs.forEach((r,s)=>t(s)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),le.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Fu(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Fn(t),le.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,r){let s=0;const u=[];return this.xs.forEach((l,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.xs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),s++)}),le.waitFor(u).next(()=>s)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return le.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),le.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(l=>{u.push(s.markPotentiallyOrphaned(e,l))}),le.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),le.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return le.resolve(r)}containsKey(e,t){return le.resolve(this.ks.containsKey(t))}}class Gm{constructor(e,t){this.$s={},this.overlays={},this.Os=new Os(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Pb(this),this.indexManager=new IA,this.remoteDocumentCache=new RA(r=>this.referenceDelegate.Ls(r)),this.serializer=new Rm(t),this.qs=new Ob(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new NA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new Hm(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){ze("MemoryPersistence","Starting transaction:",e);const s=new K0(this.Os.next());return this.referenceDelegate.Us(),r(s).next(u=>this.referenceDelegate.Ks(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Gs(e,t){return le.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class K0 extends fC{constructor(e){super(),this.currentSequenceNumber=e}}class Qf{constructor(e){this.persistence=e,this.Qs=new W0,this.js=null}static zs(e){return new Qf(e)}get Ws(){if(this.js)return this.js;throw mt()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),le.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),le.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Ws,r=>{const s=it.fromPath(r);return this.Hs(e,s).next(u=>{u||t.removeEntry(s,St.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return le.or([()=>le.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Nb{constructor(e){this.serializer=e}O(e,t,r,s){const u=new rm("createOrUpgrade",t);var g;r<1&&s>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",om,{unique:!0}),g.createObjectStore("documentMutations"),Y0(e),function(g){g.createObjectStore("remoteDocuments")}(e));let l=le.resolve();return r<3&&s>=3&&(0!==r&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),Y0(e)),l=l.next(()=>function(g){const v=g.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:St.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",C)}(u))),r<4&&s>=4&&(0!==r&&(l=l.next(()=>function(g,v){return v.store("mutations").j().next(C=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",om,{unique:!0});const D=v.store("mutations"),x=C.map(z=>D.put(z));return le.waitFor(x)})}(e,u))),l=l.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&s>=5&&(l=l.next(()=>this.Ys(u))),r<6&&s>=6&&(l=l.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),r<7&&s>=7&&(l=l.next(()=>this.Zs(u))),r<8&&s>=8&&(l=l.next(()=>this.ti(e,u))),r<9&&s>=9&&(l=l.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&s>=10&&(l=l.next(()=>this.ei(u))),r<11&&s>=11&&(l=l.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(l=l.next(()=>{!function(g){const v=g.createObjectStore("documentOverlays",{keyPath:bC});v.createIndex("collectionPathOverlayIndex",tA,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",nA,{unique:!1})}(e)})),r<13&&s>=13&&(l=l.next(()=>function(g){const v=g.createObjectStore("remoteDocumentsV14",{keyPath:J1});v.createIndex("documentKeyIndex",X1),v.createIndex("collectionGroupIndex",vC)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(l=l.next(()=>this.si(e,u))),r<15&&s>=15&&(l=l.next(()=>function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:eA}).createIndex("sequenceNumberIndex",EC,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:IC}).createIndex("documentKeyIndex",CC,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((r,s)=>{t+=zf(s)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(s=>le.forEach(s,u=>{const l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(g=>le.forEach(g,v=>{At(v.userId===u.userId);const C=Gc(this.serializer,v);return G0(e,u.userId,C).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const u=[];return r.X((l,g)=>{const v=new On(l),C=[0,ki(v)];u.push(t.get(C).next(D=>D?le.resolve():t.put({targetId:0,path:ki(v),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>le.waitFor(u))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:wC});const r=t.store("collectionParents"),s=new $0,u=l=>{if(s.add(l)){const g=l.lastSegment(),v=l.popLast();return r.put({collectionId:g,parent:ki(v)})}};return t.store("remoteDocuments").X({Y:!0},(l,g)=>{const v=new On(l);return u(v.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,g,v],C)=>{const D=Yo(g);return u(D.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,s)=>{const u=Sd(s),l=Pu(this.serializer,u);return t.put(l)})}ni(e,t){const r=t.store("remoteDocuments"),s=[];return r.X((u,l)=>{const g=t.store("remoteDocumentsV14"),v=(C=l,C.document?new it(On.fromString(C.document.name).popFirst(5)):C.noDocument?it.fromSegments(C.noDocument.path):C.unknownDocument?it.fromSegments(C.unknownDocument.path):mt()).path.toArray();var C;const D={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};s.push(g.put(D))}).next(()=>le.waitFor(s))}si(e,t){const r=t.store("mutations"),s=Mb(this.serializer),u=new Gm(Qf.zs,this.serializer.fe);return r.j().next(l=>{const g=new Map;return l.forEach(v=>{var C;let D=null!==(C=g.get(v.userId))&&void 0!==C?C:yn();Gc(this.serializer,v).keys().forEach(x=>D=D.add(x)),g.set(v.userId,D)}),le.forEach(g,(v,C)=>{const D=new Qr(C),x=Bf.de(this.serializer,D),z=u.getIndexManager(D),J=qf.de(D,this.serializer,z,u.referenceDelegate);return new xb(s,J,x,z).recalculateAndSaveOverlaysForDocumentKeys(new um(t,Os.ct),v).next()})})}}function Y0(n){n.createObjectStore("targetDocuments",{keyPath:_C}).createIndex("documentTargetsIndex",K_,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",W_,{unique:!0}),n.createObjectStore("targetGlobal")}const Q0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class J0{constructor(e,t,r,s,u,l,g,v,C,D,x=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=u,this.window=l,this.document=g,this.ri=C,this.oi=D,this.ui=x,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=z=>Promise.resolve(),!J0.D())throw new je(ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new MA(this,s),this.di=t+"main",this.serializer=new Rm(v),this.wi=new go(this.di,this.ui,new Nb(this.serializer)),this.Bs=new DA(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Mb(this.serializer),this.qs=new N0,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===D&&ur("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new je(ye.FAILED_PRECONDITION,Q0);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Os(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,_e.Z)(function*(s){if(t.started)return e(s)});return function(s){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,_e.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,_e.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Pd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Sa(e))return ze("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Zc(e).get("owner").next(t=>le.resolve(this.Ri(t)))}Pi(e){return Pd(e).delete(this.clientId)}bi(){var e=this;return(0,_e.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const s=hi(r,"clientMetadata");return s.j().next(u=>{const l=e.Si(u,18e5),g=u.filter(v=>-1===l.indexOf(v));return le.forEach(g,v=>s.delete(v.clientId)).next(()=>g)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?le.resolve(!0):Zc(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new je(ye.FAILED_PRECONDITION,Q0);return!1}}return!(!this.networkEnabled||!this.inForeground)||Pd(e).j().next(r=>void 0===this.Si(r,5e3).find(s=>!(this.clientId===s.clientId||!(!this.networkEnabled&&s.networkEnabled||!this.inForeground&&s.inForeground&&this.networkEnabled===s.networkEnabled))))}).next(t=>(this.isPrimary!==t&&ze("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,_e.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new um(t,Os.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Pd(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return qf.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new CA(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Bf.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){ze("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===t?"readonly":"readwrite",u=15===(l=this.ui)?AC:14===l?Y_:13===l?am:12===l?TC:11===l?DC:void mt();var l;let g;return this.wi.runTransaction(e,s,u,v=>(g=new um(v,this.Os?this.Os.next():Os.ct),"readwrite-primary"===t?this.Ti(g).next(C=>!!C||this.Ei(g)).next(C=>{if(!C)throw ur(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new je(ye.FAILED_PRECONDITION,hC);return r(g)}).next(C=>this.vi(g).next(()=>C)):this.Oi(g).next(()=>r(g)))).then(v=>(g.raiseOnCommittedEvent(),v))}Oi(e){return Zc(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new je(ye.FAILED_PRECONDITION,Q0)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Zc(e).put("owner",t)}static D(){return go.D()}Ai(e){const t=Zc(e);return t.get("owner").next(r=>this.Ri(r)?(ze("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):le.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(ur(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Fn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return ze("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ur("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){ur("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Zc(n){return hi(n,"owner")}function Pd(n){return hi(n,"clientMetadata")}function qm(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Jf{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=s}static Li(e,t){let r=yn(),s=yn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new Jf(e,t.fromCache,r,s)}}class Zm{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,s){return this.Ki(e,t).next(u=>u||this.Gi(e,t,s,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(GC(t))return le.resolve(null);let r=ns(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=Im(t,null,"F"),r=ns(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=yn(...u);return this.Ui.getDocuments(e,l).next(g=>this.indexManager.getMinOffset(e,r).next(v=>{const C=this.ji(t,g);return this.zi(t,C,l,v.readTime)?this.Ki(e,Im(t,null,"F")):this.Wi(e,C,t,v)}))})))}Gi(e,t,r,s){return GC(t)||s.isEqual(St.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const l=this.ji(t,u);return this.zi(t,l,r,s)?this.Qi(e,t):(Eu()<=du.in.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Cm(t)),this.Wi(e,l,t,nm(s,-1)))})}ji(e,t){let r=new pr(p0(e));return t.forEach((s,u)=>{vd(e,u)&&(r=r.add(u))}),r}zi(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}Qi(e,t){return Eu()<=du.in.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",Cm(t)),this.Ui.getDocumentsMatchingQuery(e,t,qi.min())}Wi(e,t,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class FA{constructor(e,t,r,s){this.persistence=e,this.Hi=t,this.serializer=s,this.Ji=new rr(sn),this.Yi=new Qo(u=>Vc(u),xf),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xb(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Rb(n,e,t,r){return new FA(n,e,t,r)}function kb(n,e){return X0.apply(this,arguments)}function X0(){return X0=(0,_e.Z)(function*(n,e){const t=dt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(u=>(s=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],g=[];let v=yn();for(const C of s){l.push(C.batchId);for(const D of C.mutations)v=v.add(D.key)}for(const C of u){g.push(C.batchId);for(const D of C.mutations)v=v.add(D.key)}return t.localDocuments.getDocuments(r,v).next(C=>({er:C,removedBatchIds:l,addedBatchIds:g}))})})}),X0.apply(this,arguments)}function Wm(n){const e=dt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Vb(n,e,t){let r=yn(),s=yn();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=rs();return t.forEach((g,v)=>{const C=u.get(g);v.isFoundDocument()!==C.isFoundDocument()&&(s=s.add(g)),v.isNoDocument()&&v.version.isEqual(St.min())?(e.removeEntry(g,v.readTime),l=l.insert(g,v)):!C.isValidDocument()||v.version.compareTo(C.version)>0||0===v.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(v),l=l.insert(g,v)):ze("LocalStore","Ignoring outdated watch update for ",g,". Current version:",C.version," Watch version:",v.version)}),{nr:l,sr:s}})}function Ub(n,e){const t=dt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Wc(n,e){const t=dt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Bs.getTargetData(r,e).next(u=>u?(s=u,le.resolve(s)):t.Bs.allocateTargetId(r).next(l=>(s=new Io(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ji.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function Nd(n,e,t){return Km.apply(this,arguments)}function Km(){return Km=(0,_e.Z)(function*(n,e,t){const r=dt(n),s=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Sa(l))throw l;ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}),Km.apply(this,arguments)}function Xf(n,e,t){const r=dt(n);let s=St.min(),u=yn();return r.persistence.runTransaction("Execute query","readonly",l=>function(g,v,C){const D=dt(g),x=D.Yi.get(C);return void 0!==x?le.resolve(D.Ji.get(x)):D.Bs.getTargetData(v,C)}(r,l,ns(e)).next(g=>{if(g)return s=g.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,g.targetId).next(v=>{u=v})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?s:St.min(),t?u:yn())).next(g=>(tw(r,f0(e),g),{documents:g,ir:u})))}function Bb(n,e){const t=dt(n),r=dt(t.Bs),s=t.Ji.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",u=>r.le(u,e).next(l=>l?l.target:null))}function ew(n,e){const t=dt(n),r=t.Xi.get(e)||St.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.Zi.getAllFromCollectionGroup(s,e,nm(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(tw(t,e,s),s))}function tw(n,e,t){let r=n.Xi.get(e)||St.min();t.forEach((s,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}function Uu(){return Uu=(0,_e.Z)(function*(n,e,t,r){const s=dt(n);let u=yn(),l=rs();for(const C of t){const D=e.rr(C.metadata.name);C.document&&(u=u.add(D));const x=e.ur(C);x.setReadTime(e.cr(C.metadata.readTime)),l=l.insert(D,x)}const g=s.Zi.newChangeBuffer({trackRemovals:!0}),v=yield Wc(s,(C=r,ns(yd(On.fromString(`__bundle__/docs/${C}`)))));var C;return s.persistence.runTransaction("Apply bundle documents","readwrite",C=>Vb(C,g,l).next(D=>(g.apply(C),D)).next(D=>s.Bs.removeMatchingKeysForTargetId(C,v.targetId).next(()=>s.Bs.addMatchingKeys(C,u,v.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(C,D.nr,D.sr)).next(()=>D.nr)))}),Uu.apply(this,arguments)}function LA(n,e){return nw.apply(this,arguments)}function nw(){return nw=(0,_e.Z)(function*(n,e,t=yn()){const r=yield Wc(n,ns(Lm(e.bundledQuery))),s=dt(n);return s.persistence.runTransaction("Save named query","readwrite",u=>{const l=Vr(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return s.qs.saveNamedQuery(u,e);const g=r.withResumeToken(Hr.EMPTY_BYTE_STRING,l);return s.Ji=s.Ji.insert(g.targetId,g),s.Bs.updateTargetData(u,g).next(()=>s.Bs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>s.Bs.addMatchingKeys(u,t,r.targetId)).next(()=>s.qs.saveNamedQuery(u,e))})}),nw.apply(this,arguments)}function VA(n,e){return`firestore_clients_${n}_${e}`}function UA(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Ym(n,e){return`firestore_targets_${n}_${e}`}class Rd{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static ar(e,t,r){const s=JSON.parse(r);let u,l="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return l&&s.error&&(l="string"==typeof s.error.message&&"string"==typeof s.error.code,l&&(u=new je(s.error.code,s.error.message))),l?new Rd(e,t,s.state,u):(ur("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qm{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let s,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new je(r.error.code,r.error.message))),u?new Qm(e,r.state,s):(ur("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rw{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let s="object"==typeof r&&r.activeTargetIds instanceof Array,u=bm();for(let l=0;s&&l<r.activeTargetIds.length;++l)s=sm(r.activeTargetIds[l]),u=u.add(r.activeTargetIds[l]);return s?new rw(e,u):(ur("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class jb{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new jb(t.clientId,t.onlineState):(ur("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Kc{constructor(){this.activeTargetIds=bm()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iw{constructor(e,t,r,s,u){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new rr(sn),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=VA(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Kc),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_e.Z)(function*(){const t=yield e.syncEngine.$i();for(const s of t){if(s===e.wr)continue;const u=e.getItem(VA(e.persistenceKey,s));if(u){const l=rw.ar(s,u);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const s=e.br(r);s&&e.Vr(s)}for(const s of e.yr)e.mr(s);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Ym(this.persistenceKey,e));if(r){const s=Qm.ar(e,r);s&&(t=s.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ym(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(s=>{this.Cr(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ze("SharedClientState","READ",e,t),t}setItem(e,t){ze("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ze("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ze("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void ur("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,_e.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const s=t.Or(r.key);return t.Fr(s,null)}{const s=t.Br(r.key,r.newValue);if(s)return t.Fr(s.clientId,s)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const s=t.Lr(r.key,r.newValue);if(s)return t.qr(s)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const s=t.Ur(r.key,r.newValue);if(s)return t.Kr(s)}}else if(r.key===t.vr){if(null!==r.newValue){const s=t.br(r.newValue);if(s)return t.Vr(s)}}else if(r.key===t.Ir){const s=function(u){let l=Os.ct;if(null!=u)try{const g=JSON.parse(u);At("number"==typeof g),l=g}catch(g){ur("SharedClientState","Failed to read sequence number from WebStorage",g)}return l}(r.newValue);s!==Os.ct&&t.sequenceNumberHandler(s)}else if(r.key===t.Rr){const s=t.Gr(r.newValue);yield Promise.all(s.map(u=>t.syncEngine.Qr(u)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const s=new Rd(this.currentUser,e,t,r),u=UA(this.persistenceKey,this.currentUser,e);this.setItem(u,s.hr())}Cr(e){const t=UA(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const s=Ym(this.persistenceKey,e),u=new Qm(e,t,r);this.setItem(s,u.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return rw.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),s=Number(r[1]);return Rd.ar(new Qr(void 0!==r[2]?r[2]:null),s,t)}Ur(e,t){const r=this.Ar.exec(e),s=Number(r[1]);return Qm.ar(s,t)}br(e){return jb.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,_e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);ze("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),s=this.Sr(this.gr),u=this.Sr(r),l=[],g=[];return u.forEach(v=>{s.has(v)||l.push(v)}),s.forEach(v=>{u.has(v)||g.push(v)}),this.syncEngine.Wr(l,g).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=bm();return e.forEach((r,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class Jm{constructor(){this.Hr=new Kc,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Kc,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class BA{Yr(e){}shutdown(){}}class sw{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Xm=null;function ow(){return null===Xm?Xm=268435456+Math.round(2147483648*Math.random()):Xm++,"0x"+Xm.toString(16)}const jA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aw{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Vi="WebChannelConnection";class $A extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,s,u){const l=ow(),g=this.To(e,t);ze("RestConnection",`Sending RPC '${e}' ${l}:`,g,r);const v={};return this.Eo(v,s,u),this.Ao(e,g,v,r).then(C=>(ze("RestConnection",`Received RPC '${e}' ${l}: `,C),C),C=>{throw Ri("RestConnection",`RPC '${e}' ${l} failed with error: `,C,"url: ",g,"request:",r),C})}vo(e,t,r,s,u,l){return this.Io(e,t,r,s,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+fo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,u)=>e[u]=s),r&&r.headers.forEach((s,u)=>e[u]=s)}To(e,t){return`${this.mo}/v1/${t}:${jA[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,s){const u=ow();return new Promise((l,g)=>{const v=new zi;v.setWithCredentials(!0),v.listenOnce(G1.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case U_.NO_ERROR:const D=v.getResponseJson();ze(Vi,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(D)),l(D);break;case U_.TIMEOUT:ze(Vi,`RPC '${e}' ${u} timed out`),g(new je(ye.DEADLINE_EXCEEDED,"Request time out"));break;case U_.HTTP_ERROR:const x=v.getStatus();if(ze(Vi,`RPC '${e}' ${u} failed with status:`,x,"response text:",v.getResponseText()),x>0){let z=v.getResponseJson();Array.isArray(z)&&(z=z[0]);const J=z?.error;if(J&&J.status&&J.message){const Ce=function(Fe){const Ve=Fe.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(Ve)>=0?Ve:ye.UNKNOWN}(J.status);g(new je(Ce,J.message))}else g(new je(ye.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new je(ye.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{ze(Vi,`RPC '${e}' ${u} completed.`)}});const C=JSON.stringify(s);ze(Vi,`RPC '${e}' ${u} sending request:`,s),v.send(t,"POST",C,r,15)})}Ro(e,t,r){const s=ow(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=qM(),g=Xg(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},C=this.longPollingOptions.timeoutSeconds;void 0!==C&&(v.longPollingTimeout=Math.round(1e3*C)),this.useFetchStreams&&(v.xmlHttpFactory=new Wo({})),this.Eo(v.initMessageHeaders,t,r),v.encodeInitMessageHeaders=!0;const D=u.join("");ze(Vi,`Creating RPC '${e}' stream ${s}: ${D}`,v);const x=l.createWebChannel(D,v);let z=!1,J=!1;const Ce=new aw({ro:Ve=>{J?ze(Vi,`Not sending because RPC '${e}' stream ${s} is closed:`,Ve):(z||(ze(Vi,`Opening RPC '${e}' stream ${s} transport.`),x.open(),z=!0),ze(Vi,`RPC '${e}' stream ${s} sending:`,Ve),x.send(Ve))},oo:()=>x.close()}),Fe=(Ve,It,Ut)=>{Ve.listen(It,_t=>{try{Ut(_t)}catch($t){setTimeout(()=>{throw $t},0)}})};return Fe(x,wu.EventType.OPEN,()=>{J||ze(Vi,`RPC '${e}' stream ${s} transport opened.`)}),Fe(x,wu.EventType.CLOSE,()=>{J||(J=!0,ze(Vi,`RPC '${e}' stream ${s} transport closed`),Ce.wo())}),Fe(x,wu.EventType.ERROR,Ve=>{J||(J=!0,Ri(Vi,`RPC '${e}' stream ${s} transport errored:`,Ve),Ce.wo(new je(ye.UNAVAILABLE,"The operation could not be completed")))}),Fe(x,wu.EventType.MESSAGE,Ve=>{var It;if(!J){const Ut=Ve.data[0];At(!!Ut);const $t=Ut.error||(null===(It=Ut[0])||void 0===It?void 0:It.error);if($t){ze(Vi,`RPC '${e}' stream ${s} received error:`,$t);const un=$t.status;let Sn=function(th){const HP=ei[th];if(void 0!==HP)return ib(HP)}(un),as=$t.message;void 0===Sn&&(Sn=ye.INTERNAL,as="Unknown error status: "+un+" with message "+$t.message),J=!0,Ce.wo(new je(Sn,as)),x.close()}else ze(Vi,`RPC '${e}' stream ${s} received:`,Ut),Ce._o(Ut)}}),Fe(g,B_.STAT_EVENT,Ve=>{Ve.stat===sC.PROXY?ze(Vi,`RPC '${e}' stream ${s} detected buffering proxy`):Ve.stat===sC.NOPROXY&&ze(Vi,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{Ce.fo()},0),Ce}}function ep(){return typeof window<"u"?window:null}function kd(){return typeof document<"u"?document:null}function ey(n){return new dA(n,!0)}class ty{constructor(e,t,r=1e3,s=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=s,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,t-r);s>0&&ze("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class $b{constructor(e,t,r,s,u,l,g,v){this.ii=e,this.$o=r,this.Oo=s,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ty(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,_e.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,_e.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,_e.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ye.RESOURCE_EXHAUSTED?(ur(t.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ye.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===t&&this.Zo(r,s)},r=>{e(()=>{const s=new je(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){var e=this;this.state=5,this.qo.No((0,_e.Z)(function*(){e.state=0,e.start()}))}tu(e){return ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Hb extends $b{constructor(e,t,r,s,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function fA(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:mt(),s=e.targetChange.targetIds||[],u=function(v,C){return v.useProto3Json?(At(void 0===C||"string"==typeof C),Hr.fromBase64String(C||"")):(At(void 0===C||C instanceof Uint8Array),Hr.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,g=l&&function(v){const C=void 0===v.code?ye.UNKNOWN:ib(v.code);return new je(C,v.message||"")}(l);t=new ab(r,s,u,g||null)}else if("documentChange"in e){const r=e.documentChange,s=Eo(n,r.document.name),u=Vr(r.document.updateTime),l=r.document.createTime?Vr(r.document.createTime):St.min(),g=new Fi({mapValue:{fields:r.document.fields}}),v=gr.newFoundDocument(s,u,l,g);t=new Mm(r.targetIds||[],r.removedTargetIds||[],v.key,v)}else if("documentDelete"in e){const r=e.documentDelete,s=Eo(n,r.document),u=r.readTime?Vr(r.readTime):St.min(),l=gr.newNoDocument(s,u);t=new Mm([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,s=Eo(n,r.document);t=new Mm([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return mt();{const r=e.filter,{count:s=0,unchangedNames:u}=r,l=new nb(s,u);t=new ob(r.targetId,l)}}var v;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return St.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?St.min():u.readTime?Vr(u.readTime):St.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Vf(this.serializer),t.addTarget=function(s,u){let l;const g=u.target;if(l=_m(g)?{documents:pb(s,g)}:{query:x0(s,g)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=A0(s,u.resumeToken);const v=xm(s,u.expectedCount);null!==v&&(l.expectedCount=v)}else if(u.snapshotVersion.compareTo(St.min())>0){l.readTime=Td(s,u.snapshotVersion.toTimestamp());const v=xm(s,u.expectedCount);null!==v&&(l.expectedCount=v)}return l}(this.serializer,e);const r=function gA(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Vf(this.serializer),t.removeTarget=e,this.Wo(t)}}class Fd extends $b{constructor(e,t,r,s,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function pA(n,e){return n&&n.length>0?(At(void 0!==e),n.map(t=>function(r,s){let u=Vr(r.updateTime?r.updateTime:s);return u.isEqual(St.min())&&(u=Vr(s)),new XC(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Vr(e.commitTime);return this.listener.cu(r,t)}return At(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Vf(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Uf(this.serializer,r))};this.Wo(t)}}class HA extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new je(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Io(e,t,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new je(ye.UNKNOWN,s.toString())})}vo(e,t,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.vo(e,t,r,u,l,s)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new je(ye.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class ex{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ur(t),this.mu=!1):ze("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class GA{constructor(e,t,r,s,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(g=>{r.enqueueAndForget((0,_e.Z)(function*(){var v;Bu(l)&&(ze("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,_e.Z)(function*(C){const D=dt(C);D.vu.add(4),yield Ld(D),D.bu.set("Unknown"),D.vu.delete(4),yield ny(D)}),function(C){return v.apply(this,arguments)})(l))}))}),this.bu=new ex(r,s)}}function ny(n){return uw.apply(this,arguments)}function uw(){return uw=(0,_e.Z)(function*(n){if(Bu(n))for(const e of n.Ru)yield e(!0)}),uw.apply(this,arguments)}function Ld(n){return cw.apply(this,arguments)}function cw(){return cw=(0,_e.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),cw.apply(this,arguments)}function np(n,e){const t=dt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),hw(t)?ry(t):Yc(t).Ko()&&lw(t,e))}function Vd(n,e){const t=dt(n),r=Yc(t);t.Au.delete(e),r.Ko()&&dw(t,e),0===t.Au.size&&(r.Ko()?r.jo():Bu(t)&&t.bu.set("Unknown"))}function lw(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(St.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Yc(n).su(e)}function dw(n,e){n.Vu.qt(e),Yc(n).iu(e)}function ry(n){n.Vu=new XM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Yc(n).start(),n.bu.gu()}function hw(n){return Bu(n)&&!Yc(n).Uo()&&n.Au.size>0}function Bu(n){return 0===dt(n).vu.size}function fw(n){n.Vu=void 0}function zA(n){return iy.apply(this,arguments)}function iy(){return iy=(0,_e.Z)(function*(n){n.Au.forEach((e,t)=>{lw(n,e)})}),iy.apply(this,arguments)}function zb(n,e){return sy.apply(this,arguments)}function sy(){return sy=(0,_e.Z)(function*(n,e){fw(n),hw(n)?(n.bu.Iu(e),ry(n)):n.bu.set("Unknown")}),sy.apply(this,arguments)}function qb(n,e,t){return pw.apply(this,arguments)}function pw(){return pw=(0,_e.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof ab&&2===e.state&&e.cause)try{yield(r=(0,_e.Z)(function*(s,u){const l=u.cause;for(const g of u.targetIds)s.Au.has(g)&&(yield s.remoteSyncer.rejectListen(g,l),s.Au.delete(g),s.Vu.removeTarget(g))}),function(s,u){return r.apply(this,arguments)})(n,e)}catch(r){ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield oy(n,r)}else if(e instanceof Mm?n.Vu.Ht(e):e instanceof ob?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(St.min()))try{const r=yield Wm(n.localStore);t.compareTo(r)>=0&&(yield function(s,u){const l=s.Vu.ce(u);return l.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const C=s.Au.get(v);C&&s.Au.set(v,C.withResumeToken(g.resumeToken,u))}}),l.targetMismatches.forEach((g,v)=>{const C=s.Au.get(g);if(!C)return;s.Au.set(g,C.withResumeToken(Hr.EMPTY_BYTE_STRING,C.snapshotVersion)),dw(s,g);const D=new Io(C.target,g,v,C.sequenceNumber);lw(s,D)}),s.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){ze("RemoteStore","Failed to raise snapshot:",r),yield oy(n,r)}var r}),pw.apply(this,arguments)}function oy(n,e,t){return Zb.apply(this,arguments)}function Zb(){return Zb=(0,_e.Z)(function*(n,e,t){if(!Sa(e))throw e;n.vu.add(1),yield Ld(n),n.bu.set("Offline"),t||(t=()=>Wm(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){ze("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield ny(n)}))}),Zb.apply(this,arguments)}function gw(n,e){return e().catch(t=>oy(n,t,e))}function rp(n){return Wb.apply(this,arguments)}function Wb(){return Wb=(0,_e.Z)(function*(n){const e=dt(n),t=ju(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;tx(e);)try{const s=yield Ub(e.localStore,r);if(null===s){0===e.Eu.length&&t.jo();break}r=s.batchId,nx(e,s)}catch(s){yield oy(e,s)}qA(e)&&ZA(e)}),Wb.apply(this,arguments)}function tx(n){return Bu(n)&&n.Eu.length<10}function nx(n,e){n.Eu.push(e);const t=ju(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function qA(n){return Bu(n)&&!ju(n).Uo()&&n.Eu.length>0}function ZA(n){ju(n).start()}function rx(n){return Kb.apply(this,arguments)}function Kb(){return Kb=(0,_e.Z)(function*(n){ju(n).hu()}),Kb.apply(this,arguments)}function ix(n){return ay.apply(this,arguments)}function ay(){return ay=(0,_e.Z)(function*(n){const e=ju(n);for(const t of n.Eu)e.uu(t.mutations)}),ay.apply(this,arguments)}function mw(n,e,t){return uy.apply(this,arguments)}function uy(){return uy=(0,_e.Z)(function*(n,e,t){const r=n.Eu.shift(),s=I0.from(r,e,t);yield gw(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield rp(n)}),uy.apply(this,arguments)}function WA(n,e){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,_e.Z)(function*(n,e){var t;e&&ju(n).ou&&(yield(t=(0,_e.Z)(function*(r,s){if(rb(u=s.code)&&u!==ye.ABORTED){const l=r.Eu.shift();ju(r).Qo(),yield gw(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,s)),yield rp(r)}var u}),function(r,s){return t.apply(this,arguments)})(n,e)),qA(n)&&ZA(n)}),Ud.apply(this,arguments)}function Yb(n,e){return Qb.apply(this,arguments)}function Qb(){return Qb=(0,_e.Z)(function*(n,e){const t=dt(n);t.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const r=Bu(t);t.vu.add(3),yield Ld(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield ny(t)}),Qb.apply(this,arguments)}function Jb(n,e){return yw.apply(this,arguments)}function yw(){return yw=(0,_e.Z)(function*(n,e){const t=dt(n);e?(t.vu.delete(2),yield ny(t)):e||(t.vu.add(2),yield Ld(t),t.bu.set("Unknown"))}),yw.apply(this,arguments)}function Yc(n){return n.Su||(n.Su=function(e,t,r){const s=dt(e);return s.fu(),new Hb(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:zA.bind(null,n),ao:zb.bind(null,n),nu:qb.bind(null,n)}),n.Ru.push(function(){var e=(0,_e.Z)(function*(t){t?(n.Su.Qo(),hw(n)?ry(n):n.bu.set("Unknown")):(yield n.Su.stop(),fw(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function ju(n){return n.Du||(n.Du=function(e,t,r){const s=dt(e);return s.fu(),new Fd(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:rx.bind(null,n),ao:WA.bind(null,n),au:ix.bind(null,n),cu:mw.bind(null,n)}),n.Ru.push(function(){var e=(0,_e.Z)(function*(t){t?(n.Du.Qo(),yield rp(n)):(yield n.Du.stop(),n.Eu.length>0&&(ze("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class vw{constructor(e,t,r,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=u,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,s,u){const l=Date.now()+r,g=new vw(e,t,l,s,u);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new je(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bd(n,e){if(ur("AsyncQueue",`${e}: ${n}`),Sa(n))return new je(ye.UNAVAILABLE,`${e}: ${n}`);throw n}class ip{constructor(e){this.comparator=e?(t,r)=>e(t,r)||it.comparator(t.key,r.key):(t,r)=>it.comparator(t.key,r.key),this.keyedMap=_d(),this.sortedSet=new rr(this.comparator)}static emptySet(e){return new ip(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ip)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new ip;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Xb{constructor(){this.Cu=new rr(it.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):mt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class ra{constructor(e,t,r,s,u,l,g,v,C){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=C}static fromInitialDocuments(e,t,r,s,u){const l=[];return t.forEach(g=>{l.push({type:0,doc:g})}),new ra(e,t,ip.emptySet(t),l,r,s,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class cy{constructor(){this.Nu=void 0,this.listeners=[]}}class KA{constructor(){this.queries=new Qo(e=>h0(e),Of),this.onlineState="Unknown",this.ku=new Set}}function _w(n,e){return ww.apply(this,arguments)}function ww(){return ww=(0,_e.Z)(function*(n,e){const t=dt(n),r=e.query;let s=!1,u=t.queries.get(r);if(u||(s=!0,u=new cy),s)try{u.Nu=yield t.onListen(r)}catch(l){const g=Bd(l,`Initialization of query '${Cm(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&bw(t)}),ww.apply(this,arguments)}function Ew(n,e){return Iw.apply(this,arguments)}function Iw(){return Iw=(0,_e.Z)(function*(n,e){const t=dt(n),r=e.query;let s=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),s=0===u.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),Iw.apply(this,arguments)}function YA(n,e){const t=dt(n);let r=!1;for(const s of e){const l=t.queries.get(s.query);if(l){for(const g of l.listeners)g.$u(s)&&(r=!0);l.Nu=s}}r&&bw(t)}function Cw(n,e,t){const r=dt(n),s=r.queries.get(e);if(s)for(const u of s.listeners)u.onError(t);r.queries.delete(e)}function bw(n){n.ku.forEach(e=>{e.next()})}class Dw{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new ra(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class QA{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class eD{constructor(e){this.serializer=e}rr(e){return Eo(this.serializer,e)}ur(e){return e.metadata.exists?hb(this.serializer,e.document,!1):gr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Vr(e)}}class JA{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=tD(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=On.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new eD(this.serializer);for(const s of e)if(s.metadata.queries){const u=r.rr(s.metadata.name);for(const l of s.metadata.queries){const g=(t.get(l)||yn()).add(u);t.set(l,g)}}return t}complete(){var e=this;return(0,_e.Z)(function*(){const t=yield function ss(n,e,t,r){return Uu.apply(this,arguments)}(e.localStore,new eD(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const s of e.queries)yield LA(e.localStore,s,r.get(s.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function tD(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class nD{constructor(e){this.key=e}}class rD{constructor(e){this.key=e}}class iD{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=yn(),this.mutatedKeys=yn(),this.tc=p0(e),this.ec=new ip(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new Xb,s=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,l=s,g=!1;const v="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,C="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((D,x)=>{const z=s.get(D),J=vd(this.query,x)?x:null,Ce=!!z&&this.mutatedKeys.has(z.key),Fe=!!J&&(J.hasLocalMutations||this.mutatedKeys.has(J.key)&&J.hasCommittedMutations);let Ve=!1;z&&J?z.data.isEqual(J.data)?Ce!==Fe&&(r.track({type:3,doc:J}),Ve=!0):this.rc(z,J)||(r.track({type:2,doc:J}),Ve=!0,(v&&this.tc(J,v)>0||C&&this.tc(J,C)<0)&&(g=!0)):!z&&J?(r.track({type:0,doc:J}),Ve=!0):z&&!J&&(r.track({type:1,doc:z}),Ve=!0,(v||C)&&(g=!0)),Ve&&(J?(l=l.add(J),u=Fe?u.add(D):u.delete(D)):(l=l.delete(D),u=u.delete(D)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const D="F"===this.query.limitType?l.last():l.first();l=l.delete(D.key),u=u.delete(D.key),r.track({type:1,doc:D})}return{ec:l,ic:r,zi:g,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((C,D)=>function(x,z){const J=Ce=>{switch(Ce){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return J(x)-J(z)}(C.type,D.type)||this.tc(C.doc,D.doc)),this.oc(r);const l=t?this.uc():[],g=0===this.Zu.size&&this.current?1:0,v=g!==this.Xu;return this.Xu=g,0!==u.length||v?{snapshot:new ra(this.query,e.ec,s,u,e.mutatedKeys,0===g,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Xb,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=yn(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new rD(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new nD(r))}),t}hc(e){this.Yu=e.ir,this.Zu=yn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return ra.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class sD{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Tw{constructor(e){this.key=e,this.fc=!1}}class XA{constructor(e,t,r,s,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Qo(g=>h0(g),Of),this._c=new Map,this.mc=new Set,this.gc=new rr(it.comparator),this.yc=new Map,this.Ic=new W0,this.Tc={},this.Ec=new Map,this.Ac=Fu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function eS(n,e){return ly.apply(this,arguments)}function ly(){return ly=(0,_e.Z)(function*(n,e){const t=_y(n);let r,s;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),s=u.view.lc();else{const l=yield Wc(t.localStore,ns(e)),g=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,s=yield dy(t,e,r,"current"===g,l.resumeToken),t.isPrimaryClient&&np(t.remoteStore,l)}return s}),ly.apply(this,arguments)}function dy(n,e,t,r,s){return oD.apply(this,arguments)}function oD(){return oD=(0,_e.Z)(function*(n,e,t,r,s){n.Rc=(x,z,J)=>{return(Ce=(0,_e.Z)(function*(Fe,Ve,It,Ut){let _t=Ve.view.sc(It);_t.zi&&(_t=yield Xf(Fe.localStore,Ve.query,!1).then(({documents:Sn})=>Ve.view.sc(Sn,_t)));const $t=Ut&&Ut.targetChanges.get(Ve.targetId),un=Ve.view.applyChanges(_t,Fe.isPrimaryClient,$t);return lD(Fe,Ve.targetId,un.cc),un.snapshot}),function(Fe,Ve,It,Ut){return Ce.apply(this,arguments)})(n,x,z,J);var Ce};const u=yield Xf(n.localStore,e,!0),l=new iD(e,u.ir),g=l.sc(u.documents),v=Na.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,s),C=l.applyChanges(g,n.isPrimaryClient,v);lD(n,t,C.cc);const D=new sD(e,t,l);return n.wc.set(e,D),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),C.snapshot}),oD.apply(this,arguments)}function ys(n,e){return hy.apply(this,arguments)}function hy(){return hy=(0,_e.Z)(function*(n,e){const t=dt(n),r=t.wc.get(e),s=t._c.get(r.targetId);if(s.length>1)return t._c.set(r.targetId,s.filter(u=>!Of(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Nd(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Vd(t.remoteStore,r.targetId),jd(t,r.targetId)}).catch(Ko))):(jd(t,r.targetId),yield Nd(t.localStore,r.targetId,!0))}),hy.apply(this,arguments)}function Aw(){return Aw=(0,_e.Z)(function*(n,e,t){const r=Uw(n);try{const s=yield function(u,l){const g=dt(u),v=wr.now(),C=l.reduce((z,J)=>z.add(J.key),yn());let D,x;return g.persistence.runTransaction("Locally write mutations","readwrite",z=>{let J=rs(),Ce=yn();return g.Zi.getEntries(z,C).next(Fe=>{J=Fe,J.forEach((Ve,It)=>{It.isValidDocument()||(Ce=Ce.add(Ve))})}).next(()=>g.localDocuments.getOverlayedDocuments(z,J)).next(Fe=>{D=Fe;const Ve=[];for(const It of l){const Ut=aA(It,D.get(It.key).overlayedDocument);null!=Ut&&Ve.push(new ta(It.key,Ut,PC(Ut.value.mapValue),Ir.exists(!0)))}return g.mutationQueue.addMutationBatch(z,v,Ve,l)}).next(Fe=>{x=Fe;const Ve=Fe.applyToLocalDocumentSet(D,Ce);return g.documentOverlayCache.saveOverlays(z,Fe.batchId,Ve)})}).then(()=>({batchId:x.batchId,changes:Ou(D)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,l,g){let v=u.Tc[u.currentUser.toKey()];v||(v=new rr(sn)),v=v.insert(l,g),u.Tc[u.currentUser.toKey()]=v}(r,s.batchId,t),yield ia(r,s.changes),yield rp(r.remoteStore)}catch(s){const u=Bd(s,"Failed to persist write");t.reject(u)}}),Aw.apply(this,arguments)}function Sw(n,e){return Mw.apply(this,arguments)}function Mw(){return Mw=(0,_e.Z)(function*(n,e){const t=dt(n);try{const r=yield function Lb(n,e){const t=dt(n),r=e.snapshotVersion;let s=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});s=t.Ji;const g=[];e.targetChanges.forEach((D,x)=>{const z=s.get(x);if(!z)return;g.push(t.Bs.removeMatchingKeys(u,D.removedDocuments,x).next(()=>t.Bs.addMatchingKeys(u,D.addedDocuments,x)));let J=z.withSequenceNumber(u.currentSequenceNumber);var Ce,Fe,Ve;null!==e.targetMismatches.get(x)?J=J.withResumeToken(Hr.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):D.resumeToken.approximateByteSize()>0&&(J=J.withResumeToken(D.resumeToken,r)),s=s.insert(x,J),Fe=J,Ve=D,(0===(Ce=z).resumeToken.approximateByteSize()||Fe.snapshotVersion.toMicroseconds()-Ce.snapshotVersion.toMicroseconds()>=3e8||Ve.addedDocuments.size+Ve.modifiedDocuments.size+Ve.removedDocuments.size>0)&&g.push(t.Bs.updateTargetData(u,J))});let v=rs(),C=yn();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,D))}),g.push(Vb(u,l,e.documentUpdates).next(D=>{v=D.nr,C=D.sr})),!r.isEqual(St.min())){const D=t.Bs.getLastRemoteSnapshotVersion(u).next(x=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));g.push(D)}return le.waitFor(g).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,v,C)).next(()=>v)}).then(u=>(t.Ji=s,u))}(t.localStore,e);e.targetChanges.forEach((s,u)=>{const l=t.yc.get(u);l&&(At(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.fc=!0:s.modifiedDocuments.size>0?At(l.fc):s.removedDocuments.size>0&&(At(l.fc),l.fc=!1))}),yield ia(t,r,e)}catch(r){yield Ko(r)}}),Mw.apply(this,arguments)}function fy(n,e,t){const r=dt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.wc.forEach((u,l)=>{const g=l.view.Mu(e);g.snapshot&&s.push(g.snapshot)}),function(u,l){const g=dt(u);g.onlineState=l;let v=!1;g.queries.forEach((C,D)=>{for(const x of D.listeners)x.Mu(l)&&(v=!0)}),v&&bw(g)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function $u(n,e,t){return py.apply(this,arguments)}function py(){return py=(0,_e.Z)(function*(n,e,t){const r=dt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.yc.get(e),u=s&&s.key;if(u){let l=new rr(it.comparator);l=l.insert(u,gr.newNoDocument(u,St.min()));const g=yn().add(u),v=new Dd(St.min(),new Map,new rr(sn),l,g);yield Sw(r,v),r.gc=r.gc.remove(u),r.yc.delete(e),kw(r)}else yield Nd(r.localStore,e,!1).then(()=>jd(r,e,t)).catch(Ko)}),py.apply(this,arguments)}function xw(n,e){return sp.apply(this,arguments)}function sp(){return sp=(0,_e.Z)(function*(n,e){const t=dt(n),r=e.batch.batchId;try{const s=yield function Fb(n,e){const t=dt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,g,v,C){const D=v.batch,x=D.keys();let z=le.resolve();return x.forEach(J=>{z=z.next(()=>C.getEntry(g,J)).next(Ce=>{const Fe=v.docVersions.get(J);At(null!==Fe),Ce.version.compareTo(Fe)<0&&(D.applyToRemoteDocument(Ce,v),Ce.isValidDocument()&&(Ce.setReadTime(v.commitVersion),C.addEntry(Ce)))})}),z.next(()=>l.mutationQueue.removeMutationBatch(g,D))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let g=yn();for(let v=0;v<l.mutationResults.length;++v)l.mutationResults[v].transformResults.length>0&&(g=g.add(l.batch.mutations[v].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}(t.localStore,e);Nw(t,r,null),Pw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ia(t,s)}catch(s){yield Ko(s)}}),sp.apply(this,arguments)}function tS(n,e,t){return uD.apply(this,arguments)}function uD(){return uD=(0,_e.Z)(function*(n,e,t){const r=dt(n);try{const s=yield function(u,l){const g=dt(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let C;return g.mutationQueue.lookupMutationBatch(v,l).next(D=>(At(null!==D),C=D.keys(),g.mutationQueue.removeMutationBatch(v,D))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,C,l)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,C)).next(()=>g.localDocuments.getDocuments(v,C))})}(r.localStore,e);Nw(r,e,t),Pw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ia(r,s)}catch(s){yield Ko(s)}}),uD.apply(this,arguments)}function Ow(){return Ow=(0,_e.Z)(function*(n,e){const t=dt(n);Bu(t.remoteStore)||ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const l=dt(u);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>l.mutationQueue.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===r)return void e.resolve();const s=t.Ec.get(r)||[];s.push(e),t.Ec.set(r,s)}catch(r){const s=Bd(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),Ow.apply(this,arguments)}function Pw(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function Nw(n,e,t){const r=dt(n);let s=r.Tc[r.currentUser.toKey()];if(s){const u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function jd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||Rw(n,r)})}function Rw(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Vd(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),kw(n))}function lD(n,e,t){for(const r of t)r instanceof nD?(n.Ic.addReference(r.key,e),dD(n,r)):r instanceof rD?(ze("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||Rw(n,r.key)):mt()}function dD(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(ze("SyncEngine","New document in limbo: "+t),n.mc.add(r),kw(n))}function kw(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new it(On.fromString(e)),r=n.Ac.next();n.yc.set(r,new Tw(t)),n.gc=n.gc.insert(t,r),np(n.remoteStore,new Io(ns(yd(t.path)),r,"TargetPurposeLimboResolution",Os.ct))}}function ia(n,e,t){return hD.apply(this,arguments)}function hD(){return hD=(0,_e.Z)(function*(n,e,t){const r=dt(n),s=[],u=[],l=[];var g;r.wc.isEmpty()||(r.wc.forEach((g,v)=>{l.push(r.Rc(v,e,t).then(C=>{if((C||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,C?.fromCache?"not-current":"current"),C){s.push(C);const D=Jf.Li(v.targetId,C);u.push(D)}}))}),yield Promise.all(l),r.dc.nu(s),yield(g=(0,_e.Z)(function*(v,C){const D=dt(v);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>le.forEach(C,z=>le.forEach(z.Fi,J=>D.persistence.referenceDelegate.addReference(x,z.targetId,J)).next(()=>le.forEach(z.Bi,J=>D.persistence.referenceDelegate.removeReference(x,z.targetId,J)))))}catch(x){if(!Sa(x))throw x;ze("LocalStore","Failed to update sequence numbers: "+x)}for(const x of C){const z=x.targetId;if(!x.fromCache){const J=D.Ji.get(z),Fe=J.withLastLimboFreeSnapshotVersion(J.snapshotVersion);D.Ji=D.Ji.insert(z,Fe)}}}),function(v,C){return g.apply(this,arguments)})(r.localStore,u))}),hD.apply(this,arguments)}function Fw(n,e){return gy.apply(this,arguments)}function gy(){return gy=(0,_e.Z)(function*(n,e){const t=dt(n);if(!t.currentUser.isEqual(e)){ze("SyncEngine","User change. New user:",e.toKey());const r=yield kb(t.localStore,e);t.currentUser=e,(s=t).Ec.forEach(l=>{l.forEach(g=>{g.reject(new je(ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ia(t,r.er)}var s}),gy.apply(this,arguments)}function fD(n,e){const t=dt(n),r=t.yc.get(e);if(r&&r.fc)return yn().add(r.key);{let s=yn();const u=t._c.get(e);if(!u)return s;for(const l of u){const g=t.wc.get(l);s=s.unionWith(g.view.nc)}return s}}function nS(n,e){return my.apply(this,arguments)}function my(){return my=(0,_e.Z)(function*(n,e){const t=dt(n),r=yield Xf(t.localStore,e.query,!0),s=e.view.hc(r);return t.isPrimaryClient&&lD(t,e.targetId,s.cc),s}),my.apply(this,arguments)}function pD(n,e){return Hu.apply(this,arguments)}function Hu(){return Hu=(0,_e.Z)(function*(n,e){const t=dt(n);return ew(t.localStore,e).then(r=>ia(t,r))}),Hu.apply(this,arguments)}function yy(n,e,t,r){return vy.apply(this,arguments)}function vy(){return vy=(0,_e.Z)(function*(n,e,t,r){const s=dt(n),u=yield function(l,g){const v=dt(l),C=dt(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",D=>C.Sn(D,g).next(x=>x?v.localDocuments.getDocuments(D,x):le.resolve(null)))}(s.localStore,e);var g;null!==u?("pending"===t?yield rp(s.remoteStore):"acknowledged"===t||"rejected"===t?(Nw(s,e,r||null),Pw(s,e),g=e,dt(dt(s.localStore).mutationQueue).Cn(g)):mt(),yield ia(s,u)):ze("SyncEngine","Cannot apply mutation batch with id: "+e)}),vy.apply(this,arguments)}function Lw(){return Lw=(0,_e.Z)(function*(n,e){const t=dt(n);if(_y(t),Uw(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),s=yield mD(t,r.toArray());t.vc=!0,yield Jb(t.remoteStore,!0);for(const u of s)np(t.remoteStore,u)}else if(!1===e&&!1!==t.vc){const r=[];let s=Promise.resolve();t._c.forEach((u,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):s=s.then(()=>(jd(t,l),Nd(t.localStore,l,!0))),Vd(t.remoteStore,l)}),yield s,yield mD(t,r),function(u){const l=dt(u);l.yc.forEach((g,v)=>{Vd(l.remoteStore,v)}),l.Ic.Ts(),l.yc=new Map,l.gc=new rr(it.comparator)}(t),t.vc=!1,yield Jb(t.remoteStore,!1)}}),Lw.apply(this,arguments)}function mD(n,e,t){return yD.apply(this,arguments)}function yD(){return yD=(0,_e.Z)(function*(n,e,t){const r=dt(n),s=[],u=[];for(const l of e){let g;const v=r._c.get(l);if(v&&0!==v.length){g=yield Wc(r.localStore,ns(v[0]));for(const C of v){const D=r.wc.get(C),x=yield nS(r,D);x.snapshot&&u.push(x.snapshot)}}else{const C=yield Bb(r.localStore,l);g=yield Wc(r.localStore,C),yield dy(r,Vw(C),l,!1,g.resumeToken)}s.push(g)}return r.dc.nu(u),s}),yD.apply(this,arguments)}function Vw(n){return HC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function rS(n){const e=dt(n);return dt(dt(e.localStore).persistence).$i()}function iS(n,e,t,r){return vD.apply(this,arguments)}function vD(){return vD=(0,_e.Z)(function*(n,e,t,r){const s=dt(n);if(s.vc)return void ze("SyncEngine","Ignoring unexpected query state notification.");const u=s._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const l=yield ew(s.localStore,f0(u[0])),g=Dd.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Hr.EMPTY_BYTE_STRING);yield ia(s,l,g);break}case"rejected":yield Nd(s.localStore,e,!0),jd(s,e,r);break;default:mt()}}),vD.apply(this,arguments)}function sx(n,e,t){return _D.apply(this,arguments)}function _D(){return _D=(0,_e.Z)(function*(n,e,t){const r=_y(n);if(r.vc){for(const s of e){if(r._c.has(s)){ze("SyncEngine","Adding an already active target "+s);continue}const u=yield Bb(r.localStore,s),l=yield Wc(r.localStore,u);yield dy(r,Vw(u),l.targetId,!1,l.resumeToken),np(r.remoteStore,l)}for(const s of t)r._c.has(s)&&(yield Nd(r.localStore,s,!1).then(()=>{Vd(r.remoteStore,s),jd(r,s)}).catch(Ko))}}),_D.apply(this,arguments)}function _y(n){const e=dt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$u.bind(null,e),e.dc.nu=YA.bind(null,e.eventManager),e.dc.Pc=Cw.bind(null,e.eventManager),e}function Uw(n){const e=dt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tS.bind(null,e),e}class op{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.serializer=ey(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Rb(this.persistence,new Zm,e.initialUser,this.serializer)}createPersistence(e){return new Gm(Qf.zs,this.serializer)}createSharedClientState(e){return new Jm}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class wD extends op{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield Uw(r.Vc.syncEngine),yield rp(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Rb(this.persistence,new Zm,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new $m(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new q_(t,this.persistence);return new z_(e.asyncQueue,r)}createPersistence(e){const t=qm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Li.withCacheSize(this.cacheSizeBytes):Li.DEFAULT;return new J0(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,ep(),kd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Jm}}class oS extends wD{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e);const s=r.Vc.syncEngine;r.sharedClientState instanceof iw&&(r.sharedClientState.syncEngine={jr:yy.bind(null,s),zr:iS.bind(null,s),Wr:sx.bind(null,s),$i:rS.bind(null,s),Qr:pD.bind(null,s)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var u=(0,_e.Z)(function*(l){yield function gD(n,e){return Lw.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=ep();if(!iw.D(t))throw new je(ye.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=qm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new iw(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class ap{initialize(e,t){var r=this;return(0,_e.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>fy(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=Fw.bind(null,r.syncEngine),yield Jb(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new KA}createDatastore(e){const t=ey(e.databaseInfo.databaseId),r=new $A(e.databaseInfo);return new HA(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,u=g=>fy(this.syncEngine,g,0),l=sw.D()?new sw:new BA,new GA(t,r,s,u,l);var t,r,s,u,l}createSyncEngine(e,t){return function(r,s,u,l,g,v,C){const D=new XA(r,s,u,l,g,v);return C&&(D.vc=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const r=dt(t);ze("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Ld(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function aS(n,e=10240){let t=0;return{read:()=>(0,_e.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class wy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Ey{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Jr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,_e.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,_e.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),s=Number(r);isNaN(s)&&e.Mc(`length string (${r}) is not valid number`);const u=yield e.$c(s);return new QA(JSON.parse(u),t.length+s)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,_e.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,_e.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class uS{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new je(ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(s=(0,_e.Z)(function*(u,l){const g=dt(u),v=Vf(g.serializer)+"/documents",C={documents:l.map(J=>Lf(g.serializer,J))},D=yield g.vo("BatchGetDocuments",v,C,l.length),x=new Map;D.forEach(J=>{const Ce=function fb(n,e){return"found"in e?function(t,r){At(!!r.found);const s=Eo(t,r.found.name),u=Vr(r.found.updateTime),l=r.found.createTime?Vr(r.found.createTime):St.min(),g=new Fi({mapValue:{fields:r.found.fields}});return gr.newFoundDocument(s,u,l,g)}(n,e):"missing"in e?function(t,r){At(!!r.missing),At(!!r.readTime);const s=Eo(t,r.missing),u=Vr(r.readTime);return gr.newNoDocument(s,u)}(n,e):mt()}(g.serializer,J);x.set(Ce.key.toString(),Ce)});const z=[];return l.forEach(J=>{const Ce=x.get(J.toString());At(!!Ce),z.push(Ce)}),z}),function(u,l){return s.apply(this,arguments)})(t.datastore,e);var s;return r.forEach(s=>t.recordVersion(s)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new na(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,s)=>{const u=it.fromPath(s);e.mutations.push(new w0(u,e.precondition(u)))}),yield(r=(0,_e.Z)(function*(s,u){const l=dt(s),g=Vf(l.serializer)+"/documents",v={writes:u.map(C=>Uf(l.serializer,C))};yield l.Io("Commit",g,v)}),function(s,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw mt();t=St.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new je(ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(St.min())?Ir.exists(!1):Ir.updateTime(t):Ir.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(St.min()))throw new je(ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ir.updateTime(t)}return Ir.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class cS{constructor(e,t,r,s,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=u,this.Bc=r.maxAttempts,this.qo=new ty(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,_e.Z)(function*(){const t=new uS(e.datastore),r=e.qc(t);r&&r.then(s=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(s)}).catch(u=>{e.Uc(u)}))}).catch(s=>{e.Uc(s)})}))}qc(e){try{const t=this.updateFunction(e);return!Cu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!rb(t)}return!1}}class ED{constructor(e,t,r,s){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Qr.UNAUTHENTICATED,this.clientId=cC.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,_e.Z)(function*(g){ze("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(ze("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new je(ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=Bd(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function sa(n,e){return Iy.apply(this,arguments)}function Iy(){return Iy=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,_e.Z)(function*(u){r.isEqual(u)||(yield kb(e.localStore,u),r=u)});return function(u){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),Iy.apply(this,arguments)}function up(n,e){return cp.apply(this,arguments)}function cp(){return cp=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield lp(n);ze("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>Yb(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,u)=>Yb(e.remoteStore,u)),n._onlineComponents=e}),cp.apply(this,arguments)}function ID(n){return"FirebaseError"===n.name?n.code===ye.FAILED_PRECONDITION||n.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function lp(n){return dp.apply(this,arguments)}function dp(){return dp=(0,_e.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ze("FirestoreClient","Using user provided OfflineComponentProvider");try{yield sa(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!ID(t))throw t;Ri("Error using user provided cache. Falling back to memory cache: "+t),yield sa(n,new op)}}else ze("FirestoreClient","Using default OfflineComponentProvider"),yield sa(n,new op);return n._offlineComponents}),dp.apply(this,arguments)}function Qc(n){return CD.apply(this,arguments)}function CD(){return CD=(0,_e.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ze("FirestoreClient","Using user provided OnlineComponentProvider"),yield up(n,n._uninitializedComponentsProvider._online)):(ze("FirestoreClient","Using default OnlineComponentProvider"),yield up(n,new ap))),n._onlineComponents}),CD.apply(this,arguments)}function lS(n){return lp(n).then(e=>e.persistence)}function Bw(n){return lp(n).then(e=>e.localStore)}function jw(n){return Qc(n).then(e=>e.remoteStore)}function $w(n){return Qc(n).then(e=>e.syncEngine)}function $d(n){return Hw.apply(this,arguments)}function Hw(){return Hw=(0,_e.Z)(function*(n){const e=yield Qc(n),t=e.eventManager;return t.onListen=eS.bind(null,e.syncEngine),t.onUnlisten=ys.bind(null,e.syncEngine),t}),Hw.apply(this,arguments)}function SD(n,e,t={}){const r=new Jr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(s,u,l,g,v){const C=new wy({next:x=>{u.enqueueAndForget(()=>Ew(s,D));const z=x.docs.has(l);!z&&x.fromCache?v.reject(new je(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&x.fromCache&&g&&"server"===g.source?v.reject(new je(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(x)},error:x=>v.reject(x)}),D=new Dw(yd(l.path),C,{includeMetadataChanges:!0,Ku:!0});return _w(s,D)}(yield $d(n),n.asyncQueue,e,t,r)})),r.promise}function Gw(n,e,t={}){const r=new Jr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(s,u,l,g,v){const C=new wy({next:x=>{u.enqueueAndForget(()=>Ew(s,D)),x.fromCache&&"server"===g.source?v.reject(new je(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(x)},error:x=>v.reject(x)}),D=new Dw(l,C,{includeMetadataChanges:!0,Ku:!0});return _w(s,D)}(yield $d(n),n.asyncQueue,e,t,r)})),r.promise}function xD(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const OD=new Map;function PD(n,e,t){if(!t)throw new je(ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function hS(n,e,t,r){if(!0===e&&!0===r)throw new je(ye.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ND(n){if(!it.isDocumentKey(n))throw new je(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function RD(n){if(it.isDocumentKey(n))throw new je(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Cy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":mt()}function Nn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new je(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Cy(n);throw new je(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Zw(n,e){if(e<=0)throw new je(ye.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Ww{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new je(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new je(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=xD(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new je(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new je(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new je(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hp{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ww({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new je(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new je(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ww(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new aC;switch(t.type){case"firstParty":return new ZM(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new je(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=OD.get(e);t&&(ze("ComponentProvider","Removing Datastore"),OD.delete(e),t.terminate())}(this),Promise.resolve()}}class cr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cr(this.firestore,e,this._key)}}class Zi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zi(this.firestore,e,this._query)}}class oa extends Zi{constructor(e,t,r){super(e,t,yd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cr(this.firestore,null,new it(e))}withConverter(e){return new oa(this.firestore,e,this._path)}}function by(n,e,...t){if(n=(0,Fn.m9)(n),PD("collection","path",e),n instanceof hp){const r=On.fromString(e,...t);return RD(r),new oa(n,null,r)}{if(!(n instanceof cr||n instanceof oa))throw new je(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(On.fromString(e,...t));return RD(r),new oa(n.firestore,null,r)}}function fp(n,e,...t){if(n=(0,Fn.m9)(n),1===arguments.length&&(e=cC.A()),PD("doc","path",e),n instanceof hp){const r=On.fromString(e,...t);return ND(r),new cr(n,null,new it(r))}{if(!(n instanceof cr||n instanceof oa))throw new je(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(On.fromString(e,...t));return ND(r),new cr(n.firestore,n instanceof oa?n.converter:null,new it(r))}}function FD(n,e){return n=(0,Fn.m9)(n),e=(0,Fn.m9)(e),(n instanceof cr||n instanceof oa)&&(e instanceof cr||e instanceof oa)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Hd(n,e){return n=(0,Fn.m9)(n),e=(0,Fn.m9)(e),n instanceof Zi&&e instanceof Zi&&n.firestore===e.firestore&&Of(n._query,e._query)&&n.converter===e.converter}class fS{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ty(this,"async_queue_retry"),this.Xc=()=>{const t=kd();t&&ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=kd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=kd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Jr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,_e.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Sa(t))throw t;ze("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,ur("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const s=vw.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(s),s}Zc(){this.Wc&&mt()}verifyOperationInProgress(){}sa(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Yw(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class LD{constructor(){this._progressObserver={},this._taskCompletionResolver=new Jr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Cr extends hp{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new fS,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||pS(this),this._firestoreClient.terminate()}}function Gr(n){return n._firestoreClient||pS(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function pS(n){var e,t,r;const s=n._freezeSettings(),u=(g=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new MC(n._databaseId,g,n._persistenceKey,(C=s).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,xD(C.experimentalLongPollingOptions),C.useFetchStreams));var g,C;n._firestoreClient=new ED(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=s.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=s.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}function UD(n,e,t){const r=new Jr;return n.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield sa(n,t),yield up(n,e),r.resolve()}catch(s){const u=s;if(!ID(u))throw u;Ri("Error enabling indexeddb cache. Falling back to memory cache: "+u),r.reject(u)}})).then(()=>r.promise)}function yS(n){if(n._initialized||n._terminated)throw new je(ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Fa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fa(Hr.fromBase64String(e))}catch(t){throw new je(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fa(Hr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class La{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new je(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Or(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class i{constructor(e){this._methodName=e}}class o{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new je(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new je(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return sn(this._lat,e._lat)||sn(this._long,e._long)}}const a=/^__.*__$/;class c{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ta(e,this.data,this.fieldMask,t,this.fieldTransforms):new $c(e,this.data,t,this.fieldTransforms)}}class h{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ta(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function f(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class y{constructor(e,t,r,s,u,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new y(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Ty(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(f(this.ca)&&a.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class _{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ey(e)}ya(e,t,r,s=!1){return new y({ca:e,methodName:t,ga:r,path:Or.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function I(n){const e=n._freezeSettings(),t=ey(n._databaseId);return new _(n._databaseId,!!e.ignoreUndefinedProperties,t)}function b(n,e,t,r,s,u={}){const l=n.ya(u.merge||u.mergeFields?2:0,e,t,s);Wi("Data must be an object, but it was:",l,r);const g=vn(r,l);let v,C;if(u.merge)v=new Xr(l.fieldMask),C=l.fieldTransforms;else if(u.mergeFields){const D=[];for(const x of u.mergeFields){const z=Ns(e,x,t);if(!l.contains(z))throw new je(ye.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);BD(D,z)||D.push(z)}v=new Xr(D),C=l.fieldTransforms.filter(x=>v.covers(x.field))}else v=null,C=l.fieldTransforms;return new c(new Fi(g),v,C)}class A extends i{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof A}}function L(n,e,t){return new y({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class W extends i{_toFieldTransform(e){return new Id(e.path,new Pa)}isEqual(e){return e instanceof W}}class ie extends i{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=L(this,e,!0),r=this.pa.map(u=>jt(u,t)),s=new ea(r);return new Id(e.path,s)}isEqual(e){return this===e}}class Re extends i{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=L(this,e,!0),r=this.pa.map(u=>jt(u,t)),s=new Ed(r);return new Id(e.path,s)}isEqual(e){return this===e}}class Ke extends i{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new jc(e.serializer,KC(e.serializer,this.Ia));return new Id(e.path,t)}isEqual(e){return this===e}}function ut(n,e,t,r){const s=n.ya(1,e,t);Wi("Data must be an object, but it was:",s,r);const u=[],l=Fi.empty();Ma(r,(v,C)=>{const D=zd(e,v,t);C=(0,Fn.m9)(C);const x=s.da(D);if(C instanceof A)u.push(D);else{const z=jt(C,x);null!=z&&(u.push(D),l.set(D,z))}});const g=new Xr(u);return new h(l,g,s.fieldTransforms)}function Mt(n,e,t,r,s,u){const l=n.ya(1,e,t),g=[Ns(e,r,t)],v=[s];if(u.length%2!=0)throw new je(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let z=0;z<u.length;z+=2)g.push(Ns(e,u[z])),v.push(u[z+1]);const C=[],D=Fi.empty();for(let z=g.length-1;z>=0;--z)if(!BD(C,g[z])){const J=g[z];let Ce=v[z];Ce=(0,Fn.m9)(Ce);const Fe=l.da(J);if(Ce instanceof A)C.push(J);else{const Ve=jt(Ce,Fe);null!=Ve&&(C.push(J),D.set(J,Ve))}}const x=new Xr(C);return new h(D,x,l.fieldTransforms)}function $e(n,e,t,r=!1){return jt(t,n.ya(r?4:3,e))}function jt(n,e){if(Zn(n=(0,Fn.m9)(n)))return Wi("Unsupported field value:",e,n),vn(n,e);if(n instanceof i)return function(t,r){if(!f(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const s=[];let u=0;for(const l of t){let g=jt(l,r.wa(u));null==g&&(g={nullValue:"NULL_VALUE"}),s.push(g),u++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,Fn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return KC(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=wr.fromDate(t);return{timestampValue:Td(r.serializer,s)}}if(t instanceof wr){const s=new wr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Td(r.serializer,s)}}if(t instanceof o)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Fa)return{bytesValue:A0(r.serializer,t._byteString)};if(t instanceof cr){const s=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(s))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:S0(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${Cy(t)}`)}(n,e)}function vn(n,e){const t={};return J_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ma(n,(r,s)=>{const u=jt(s,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function Zn(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof wr||n instanceof o||n instanceof Fa||n instanceof cr||n instanceof i)}function Wi(n,e,t){if(!Zn(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Cy(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Ns(n,e,t){if((e=(0,Fn.m9)(e))instanceof La)return e._internalPath;if("string"==typeof e)return zd(n,e);throw Ty("Field path arguments must be of type string or ",n,!1,void 0,t)}const Gd=new RegExp("[~\\*/\\[\\]]");function zd(n,e,t){if(e.search(Gd)>=0)throw Ty(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new La(...e.split("."))._internalPath}catch{throw Ty(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ty(n,e,t,r,s){const u=r&&!r.isEmpty(),l=void 0!==s;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(u||l)&&(v+=" (found",u&&(v+=` in field ${r}`),l&&(v+=` in document ${s}`),v+=")"),new je(ye.INVALID_ARGUMENT,g+n+v)}function BD(n,e){return n.some(t=>t.isEqual(e))}class Qw{constructor(e,t,r,s,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new cr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new QP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class QP extends Qw{data(){return super.data()}}function jD(n,e){return"string"==typeof e?zd(n,e):e instanceof La?e._internalPath:e._delegate._internalPath}function mx(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new je(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vS{}class Jw extends vS{}function qd(n,e,...t){let r=[];e instanceof vS&&r.push(e),r=r.concat(t),function(s){const u=s.filter(g=>g instanceof Ay).length,l=s.filter(g=>g instanceof Xw).length;if(u>1||u>0&&l>0)throw new je(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class Xw extends Jw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Xw(e,t,r)}_apply(e){const t=this._parse(e);return wx(e._query,t),new Zi(e.firestore,e.converter,d0(e._query,t))}_parse(e){const t=I(e.firestore);return function(s,u,l,g,v,C,D){let x;if(v.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new je(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){_x(D,C);const z=[];for(const J of D)z.push(vx(g,s,J));x={arrayValue:{values:z}}}else x=vx(g,s,D)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||_x(D,C),x=$e(l,"where",D,"in"===C||"not-in"===C);return Pn.create(v,C,x)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Ay extends vS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ay(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:qn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,s){let u=r;const l=s.getFlattenedFilters();for(const g of l)wx(u,g),u=d0(u,g)}(e._query,t),new Zi(e.firestore,e.converter,d0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class _S extends Jw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new _S(e,t)}_apply(e){const t=function(r,s,u){if(null!==r.startAt)throw new je(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new je(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new gd(s,u);return function(g,v){if(null===c0(g)){const C=Em(g);null!==C&&Ex(0,C,v.field)}}(r,l),l}(e._query,this._field,this._direction);return new Zi(e.firestore,e.converter,function(r,s){const u=r.explicitOrderBy.concat([s]);return new Oa(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class $D extends Jw{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new $D(e,t,r)}_apply(e){return new Zi(e.firestore,e.converter,Im(e._query,this._limit,this._limitType))}}class HD extends Jw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new HD(e,t,r)}_apply(e){const t=yx(e,this.type,this._docOrFields,this._inclusive);return new Zi(e.firestore,e.converter,(s=t,new Oa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class GD extends Jw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new GD(e,t,r)}_apply(e){const t=yx(e,this.type,this._docOrFields,this._inclusive);return new Zi(e.firestore,e.converter,(s=t,new Oa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function yx(n,e,t,r){if(t[0]=(0,Fn.m9)(t[0]),t[0]instanceof Qw)return function(s,u,l,g,v){if(!g)throw new je(ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const C=[];for(const D of Uc(s))if(D.field.isKeyField())C.push(Mu(u,g.key));else{const x=g.data.field(D.field);if(Sf(x))throw new je(ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const z=D.field.canonicalString();throw new je(ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${z}' (used as the orderBy) does not exist.`)}C.push(x)}return new xu(C,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=I(n.firestore);return function(u,l,g,v,C,D){const x=u.explicitOrderBy;if(C.length>x.length)throw new je(ye.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const z=[];for(let J=0;J<C.length;J++){const Ce=C[J];if(x[J].field.isKeyField()){if("string"!=typeof Ce)throw new je(ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof Ce}`);if(!l0(u)&&-1!==Ce.indexOf("/"))throw new je(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${Ce}' contains a slash.`);const Fe=u.path.child(On.fromString(Ce));if(!it.isDocumentKey(Fe))throw new je(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${Fe}' is not because it contains an odd number of segments.`);const Ve=new it(Fe);z.push(Mu(l,Ve))}else{const Fe=$e(g,v,Ce);z.push(Fe)}}return new xu(z,D)}(n._query,n.firestore._databaseId,s,e,t,r)}}function vx(n,e,t){if("string"==typeof(t=(0,Fn.m9)(t))){if(""===t)throw new je(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!l0(e)&&-1!==t.indexOf("/"))throw new je(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(On.fromString(t));if(!it.isDocumentKey(r))throw new je(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Mu(n,new it(r))}if(t instanceof cr)return Mu(n,t._key);throw new je(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cy(t)}.`)}function _x(n,e){if(!Array.isArray(n)||0===n.length)throw new je(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wx(n,e){if(e.isInequality()){const r=Em(n),s=e.field;if(null!==r&&!r.isEqual(s))throw new je(ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const u=c0(n);null!==u&&Ex(0,s,u)}const t=function(r,s){for(const u of r)for(const l of u.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new je(ye.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Ex(n,e,t){if(!t.isEqual(e))throw new je(ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class wS{convertValue(e,t="none"){switch(Su(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw mt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ma(e,(s,u)=>{r[s]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new o(Lr(e.latitude),Lr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=lm(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Pr(e));default:return null}}convertTimestamp(e){const t=Fc(e);return new wr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=On.fromString(e);At(vb(r));const s=new Tu(r.get(1),r.get(3)),u=new it(r.popFirst(5));return s.isEqual(t)||ur(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function zD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class o2 extends wS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cr(this.firestore,null,t)}}class pp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jc extends Qw{constructor(e,t,r,s,u,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new eE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(jD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class eE extends Jc{data(e={}){return super.data(e)}}class Zd{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new pp(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new eE(this._firestore,this._userDataWriter,r.key,r,new pp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new je(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new eE(r._firestore,r._userDataWriter,l.doc.key,l.doc,new pp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||3!==l.type).map(l=>{const g=new eE(r._firestore,r._userDataWriter,l.doc.key,l.doc,new pp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,C=-1;return 0!==l.type&&(v=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),C=u.indexOf(l.doc.key)),{type:u2(l.type),doc:g,oldIndex:v,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function u2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}function Cx(n,e){return n instanceof Jc&&e instanceof Jc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Zd&&e instanceof Zd&&n._firestore===e._firestore&&Hd(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Wd extends wS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cr(this.firestore,null,t)}}function bx(n,e,t){n=Nn(n,cr);const r=Nn(n.firestore,Cr),s=zD(n.converter,e,t);return Sy(r,[b(I(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,Ir.none())])}function Dx(n,e,t,...r){n=Nn(n,cr);const s=Nn(n.firestore,Cr),u=I(s);let l;return l="string"==typeof(e=(0,Fn.m9)(e))||e instanceof La?Mt(u,"updateDoc",n._key,e,t,r):ut(u,"updateDoc",n._key,e),Sy(s,[l.toMutation(n._key,Ir.exists(!0))])}function Tx(n,...e){var t,r,s;n=(0,Fn.m9)(n);let u={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||Yw(e[l])||(u=e[l],l++);const g={includeMetadataChanges:u.includeMetadataChanges};if(Yw(e[l])){const x=e[l];e[l]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[l+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[l+2]=null===(s=x.complete)||void 0===s?void 0:s.bind(x)}let v,C,D;if(n instanceof cr)C=Nn(n.firestore,Cr),D=yd(n._key.path),v={next:x=>{e[l]&&e[l](ES(C,n,x))},error:e[l+1],complete:e[l+2]};else{const x=Nn(n,Zi);C=Nn(x.firestore,Cr),D=x._query;const z=new Wd(C);v={next:J=>{e[l]&&e[l](new Zd(C,z,x,J))},error:e[l+1],complete:e[l+2]},mx(n._query)}return function(x,z,J,Ce){const Fe=new wy(Ce),Ve=new Dw(z,Fe,J);return x.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return _w(yield $d(x),Ve)})),()=>{Fe.Dc(),x.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return Ew(yield $d(x),Ve)}))}}(Gr(C),D,g,v)}function Sy(n,e){return function(t,r){const s=new Jr;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function aD(n,e,t){return Aw.apply(this,arguments)}(yield $w(t),r,s)})),s.promise}(Gr(n),e)}function ES(n,e,t){const r=t.docs.get(e._key),s=new Wd(n);return new Jc(n,s,e._key,r,new pp(t.hasPendingWrites,t.fromCache),e.converter)}const T2={maxAttempts:5};class Ax{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=I(e)}set(e,t,r){this._verifyNotCommitted();const s=Kd(e,this._firestore),u=zD(s.converter,t,r),l=b(this._dataReader,"WriteBatch.set",s._key,u,null!==s.converter,r);return this._mutations.push(l.toMutation(s._key,Ir.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const u=Kd(e,this._firestore);let l;return l="string"==typeof(t=(0,Fn.m9)(t))||t instanceof La?Mt(this._dataReader,"WriteBatch.update",u._key,t,r,s):ut(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(l.toMutation(u._key,Ir.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Kd(e,this._firestore);return this._mutations=this._mutations.concat(new na(t._key,Ir.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new je(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Kd(n,e){if((n=(0,Fn.m9)(n)).firestore!==e)throw new je(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class A2 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=I(e)}get(e){const t=Kd(e,this._firestore),r=new o2(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||1!==s.length)return mt();const u=s[0];if(u.isFoundDocument())return new Qw(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new Qw(this._firestore,r,t._key,null,t.converter);throw mt()})}set(e,t,r){const s=Kd(e,this._firestore),u=zD(s.converter,t,r),l=b(this._dataReader,"Transaction.set",s._key,u,null!==s.converter,r);return this._transaction.set(s._key,l),this}update(e,t,r,...s){const u=Kd(e,this._firestore);let l;return l="string"==typeof(t=(0,Fn.m9)(t))||t instanceof La?Mt(this._dataReader,"Transaction.update",u._key,t,r,s):ut(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,l),this}delete(e){const t=Kd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Kd(e,this._firestore),r=new Wd(this._firestore);return super.get(e).then(s=>new Jc(this._firestore,r,t._key,s._document,new pp(!1,!1),t.converter))}}function IS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new je("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Mx(){if(typeof Uint8Array>"u")throw new je("unimplemented","Uint8Arrays are not available in this environment.")}function xx(){if(!function rA(){return typeof atob<"u"}())throw new je("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){fo=bg.SDK_VERSION,(0,bg._registerComponent)(new Dg.wA("firestore",(t,{instanceIdentifier:r,options:s})=>{const u=t.getProvider("app").getImmediate(),l=new Cr(new $_(t.getProvider("auth-internal")),new Z1(t.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new je(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tu(g.options.projectId,v)}(u,r),u);return s=Object.assign({useFetchStreams:e},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),(0,bg.registerVersion)(Ms,"3.13.0",n),(0,bg.registerVersion)(Ms,"3.13.0","esm2017")}();class tE{constructor(e){this._delegate=e}static fromBase64String(e){return xx(),new tE(Fa.fromBase64String(e))}static fromUint8Array(e){return Mx(),new tE(Fa.fromUint8Array(e))}toBase64(){return xx(),this._delegate.toBase64()}toUint8Array(){return Mx(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function CS(n){return function F2(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class L2{enableIndexedDbPersistence(e,t){return function cx(n,e){yS(n=Nn(n,Cr));const t=Gr(n);if(t._uninitializedComponentsProvider)throw new je(ye.FAILED_PRECONDITION,"SDK cache is already specified.");Ri("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),s=new ap;return UD(t,s,new wD(s,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function gS(n){yS(n=Nn(n,Cr));const e=Gr(n);if(e._uninitializedComponentsProvider)throw new je(ye.FAILED_PRECONDITION,"SDK cache is already specified.");Ri("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new ap;return UD(e,r,new oS(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function lx(n){if(n._initialized&&!n._terminated)throw new je(ye.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Jr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(t=(0,_e.Z)(function*(r){if(!go.D())return Promise.resolve();const s=r+"main";yield go.delete(s)}),function(r){return t.apply(this,arguments)})(qm(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Ox{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Tu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ri("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function Kw(n,e,t,r={}){var s;const u=(n=Nn(n,hp))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==l&&Ri("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:l,ssl:!1})),r.mockUserToken){let g,v;if("string"==typeof r.mockUserToken)g=r.mockUserToken,v=Qr.MOCK_USER;else{g=(0,Fn.Sg)(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new je(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Qr(C)}n._authCredentials=new uC(new j_(g,v))}}(this._delegate,e,t,r)}enableNetwork(){return function hx(n){return function DD(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield lS(n),t=yield jw(n);return e.setNetworkEnabled(!0),function(r){const s=dt(r);return s.vu.delete(0),ny(s)}(t)}))}(Gr(n=Nn(n,Cr)))}(this._delegate)}disableNetwork(){return function fx(n){return function TD(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield lS(n),t=yield jw(n);return e.setNetworkEnabled(!1),(r=(0,_e.Z)(function*(s){const u=dt(s);u.vu.add(0),yield Ld(u),u.bu.set("Offline")}),function(s){return r.apply(this,arguments)})(t);var r}))}(Gr(n=Nn(n,Cr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,hS("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function dx(n){return function(e){const t=new Jr;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function cD(n,e){return Ow.apply(this,arguments)}(yield $w(e),t)})),t.promise}(Gr(n=Nn(n,Cr)))}(this._delegate)}onSnapshotsInSync(e){return function y2(n,e){return function zw(n,e){const t=new wy(e);return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield $d(n),s=t,dt(r).ku.add(s),void s.next();var r,s})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield $d(n),s=t,void dt(r).ku.delete(s);var r,s}))}}(Gr(n=Nn(n,Cr)),Yw(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new je("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new My(this,by(this._delegate,e))}catch(t){throw Rs(t,"collection()","Firestore.collection()")}}doc(e){try{return new aa(this,fp(this._delegate,e))}catch(t){throw Rs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ks(this,function kD(n,e){if(n=Nn(n,hp),PD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new je(ye.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Zi(n,null,(t=e,new Oa(On.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Rs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function S2(n,e,t){n=Nn(n,Cr);const r=Object.assign(Object.assign({},T2),t);return function(s){if(s.maxAttempts<1)throw new je(ye.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,u,l){const g=new Jr;return s.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const v=yield function bD(n){return Qc(n).then(e=>e.datastore)}(s);new cS(s.asyncQueue,v,l,u,g).run()})),g.promise}(Gr(n),s=>e(new A2(n,s)),r)}(this._delegate,t=>e(new Px(this,t)))}batch(){return Gr(this._delegate),new Nx(new Ax(this._delegate,e=>Sy(this._delegate,e)))}loadBundle(e){return function mS(n,e){const t=Gr(n=Nn(n,Cr)),r=new LD;return function ax(n,e,t,r){const s=function(u,l){let g;return g="string"==typeof u?uA().encode(u):u,v=function(v,C){if(v instanceof Uint8Array)return aS(v,C);if(v instanceof ArrayBuffer)return aS(new Uint8Array(v),C);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new Ey(v,l);var v}(t,ey(e));n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function sS(n,e,t){const r=dt(n);var s;(s=(0,_e.Z)(function*(u,l,g){try{const v=yield l.getMetadata();if(yield function(z,J){const Ce=dt(z),Fe=Vr(J.createTime);return Ce.persistence.runTransaction("hasNewerBundle","readonly",Ve=>Ce.qs.getBundleMetadata(Ve,J.id)).then(Ve=>!!Ve&&Ve.createTime.compareTo(Fe)>=0)}(u.localStore,v))return yield l.close(),g._completeWith({taskState:"Success",documentsLoaded:(z=v).totalDocuments,bytesLoaded:z.totalBytes,totalDocuments:z.totalDocuments,totalBytes:z.totalBytes}),Promise.resolve(new Set);g._updateProgress(tD(v));const C=new JA(v,u.localStore,l.serializer);let D=yield l.bc();for(;D;){const z=yield C.zu(D);z&&g._updateProgress(z),D=yield l.bc()}const x=yield C.complete();return yield ia(u,x.Ju,void 0),yield function(z,J){const Ce=dt(z);return Ce.persistence.runTransaction("Save bundle","readwrite",Fe=>Ce.qs.saveBundleMetadata(Fe,J))}(u.localStore,v),g._completeWith(x.progress),Promise.resolve(x.Hu)}catch(v){return Ri("SyncEngine",`Loading bundle failed with ${v}`),g._failWith(v),Promise.resolve(new Set)}var z}),function(u,l,g){return s.apply(this,arguments)})(r,e,t).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}(yield $w(n),s,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function px(n,e){return function MD(n,e){return n.asyncQueue.enqueue((0,_e.Z)(function*(){return function(t,r){const s=dt(t);return s.persistence.runTransaction("Get named query","readonly",u=>s.qs.getNamedQuery(u,r))}(yield Bw(n),e)}))}(Gr(n=Nn(n,Cr)),e).then(t=>t?new Zi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ks(this,t):null)}}class qD extends wS{constructor(e){super(),this.firestore=e}convertBytes(e){return new tE(new Fa(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return aa.forKey(t,this.firestore,null)}}class Px{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new qD(e)}get(e){const t=mp(e);return this._delegate.get(t).then(r=>new nE(this._firestore,new Jc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=mp(e);return r?(IS("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=mp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=mp(e);return this._delegate.delete(t),this}}class Nx{constructor(e){this._delegate=e}set(e,t,r){const s=mp(e);return r?(IS("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=mp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=mp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class gp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new eE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new rE(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=gp.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let u=s.get(t);return u||(u=new gp(e,new qD(e),t),s.set(t,u)),u}}gp.INSTANCES=new WeakMap;class aa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new qD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new je("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new aa(t,new cr(t._delegate,r,new it(e)))}static forKey(e,t,r){return new aa(t,new cr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new My(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new My(this.firestore,by(this._delegate,e))}catch(t){throw Rs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Fn.m9)(e))instanceof cr&&FD(this._delegate,e)}set(e,t){t=IS("DocumentReference.set",t);try{return t?bx(this._delegate,e,t):bx(this._delegate,e)}catch(r){throw Rs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?Dx(this._delegate,e):Dx(this._delegate,e,t,...r)}catch(s){throw Rs(s,"updateDoc()","DocumentReference.update()")}}delete(){return function g2(n){return Sy(Nn(n.firestore,Cr),[new na(n._key,Ir.none())])}(this._delegate)}onSnapshot(...e){const t=Rx(e),r=kx(e,s=>new nE(this.firestore,new Jc(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return Tx(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function l2(n){n=Nn(n,cr);const e=Nn(n.firestore,Cr),t=Gr(e),r=new Wd(e);return function AD(n,e){const t=new Jr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(s,u,l){try{const g=yield function(v,C){const D=dt(v);return D.persistence.runTransaction("read document","readonly",x=>D.localDocuments.getDocument(x,C))}(s,u);g.isFoundDocument()?l.resolve(g):g.isNoDocument()?l.resolve(null):l.reject(new je(ye.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const v=Bd(g,`Failed to get document '${u} from cache`);l.reject(v)}}),function(s,u,l){return r.apply(this,arguments)})(yield Bw(n),e,t);var r})),t.promise}(t,n._key).then(s=>new Jc(e,r,n._key,s,new pp(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function d2(n){n=Nn(n,cr);const e=Nn(n.firestore,Cr);return SD(Gr(e),n._key,{source:"server"}).then(t=>ES(e,n,t))}(this._delegate):function c2(n){n=Nn(n,cr);const e=Nn(n.firestore,Cr);return SD(Gr(e),n._key).then(t=>ES(e,n,t))}(this._delegate),t.then(r=>new nE(this.firestore,new Jc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new aa(this.firestore,this._delegate.withConverter(e?gp.getInstance(this.firestore,e):null))}}function Rs(n,e,t){return n.message=n.message.replace(e,t),n}function Rx(n){for(const e of n)if("object"==typeof e&&!CS(e))return e;return{}}function kx(n,e){var t,r;let s;return s=CS(n[0])?n[0]:CS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{s.next&&s.next(e(u))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class nE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new aa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Cx(this._delegate,e._delegate)}}class rE extends nE{data(e){const t=this._delegate.data(e);return function oC(n,e){n||mt()}(void 0!==t),t}}class ks{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new qD(e)}where(e,t,r){try{return new ks(this.firestore,qd(this._delegate,function JP(n,e,t){const r=e,s=jD("where",n);return Xw._create(s,r,t)}(e,t,r)))}catch(s){throw Rs(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ks(this.firestore,qd(this._delegate,function XP(n,e="asc"){const t=e,r=jD("orderBy",n);return _S._create(r,t)}(e,t)))}catch(r){throw Rs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ks(this.firestore,qd(this._delegate,function e2(n){return Zw("limit",n),$D._create("limit",n,"F")}(e)))}catch(t){throw Rs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ks(this.firestore,qd(this._delegate,function t2(n){return Zw("limitToLast",n),$D._create("limitToLast",n,"L")}(e)))}catch(t){throw Rs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ks(this.firestore,qd(this._delegate,function n2(...n){return HD._create("startAt",n,!0)}(...e)))}catch(t){throw Rs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ks(this.firestore,qd(this._delegate,function r2(...n){return HD._create("startAfter",n,!1)}(...e)))}catch(t){throw Rs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ks(this.firestore,qd(this._delegate,function i2(...n){return GD._create("endBefore",n,!1)}(...e)))}catch(t){throw Rs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ks(this.firestore,qd(this._delegate,function s2(...n){return GD._create("endAt",n,!0)}(...e)))}catch(t){throw Rs(t,"endAt()","Query.endAt()")}}isEqual(e){return Hd(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function f2(n){n=Nn(n,Zi);const e=Nn(n.firestore,Cr),t=Gr(e),r=new Wd(e);return function dS(n,e){const t=new Jr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(s,u,l){try{const g=yield Xf(s,u,!0),v=new iD(u,g.ir),C=v.sc(g.documents),D=v.applyChanges(C,!1);l.resolve(D.snapshot)}catch(g){const v=Bd(g,`Failed to execute query '${u} against cache`);l.reject(v)}}),function(s,u,l){return r.apply(this,arguments)})(yield Bw(n),e,t);var r})),t.promise}(t,n._query).then(s=>new Zd(e,r,n,s))}(this._delegate):"server"===e?.source?function p2(n){n=Nn(n,Zi);const e=Nn(n.firestore,Cr),t=Gr(e),r=new Wd(e);return Gw(t,n._query,{source:"server"}).then(s=>new Zd(e,r,n,s))}(this._delegate):function h2(n){n=Nn(n,Zi);const e=Nn(n.firestore,Cr),t=Gr(e),r=new Wd(e);return mx(n._query),Gw(t,n._query).then(s=>new Zd(e,r,n,s))}(this._delegate),t.then(r=>new bS(this.firestore,new Zd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Rx(e),r=kx(e,s=>new bS(this.firestore,new Zd(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return Tx(this._delegate,t,r)}withConverter(e){return new ks(this.firestore,this._delegate.withConverter(e?gp.getInstance(this.firestore,e):null))}}class U2{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new rE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class bS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ks(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new rE(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new U2(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new rE(this._firestore,r))})}isEqual(e){return Cx(this._delegate,e._delegate)}}class My extends ks{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new aa(this.firestore,e):null}doc(e){try{return new aa(this.firestore,void 0===e?fp(this._delegate):fp(this._delegate,e))}catch(t){throw Rs(t,"doc()","CollectionReference.doc()")}}add(e){return function m2(n,e){const t=Nn(n.firestore,Cr),r=fp(n),s=zD(n.converter,e);return Sy(t,[b(I(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,Ir.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new aa(this.firestore,t))}isEqual(e){return FD(this._delegate,e._delegate)}withConverter(e){return new My(this.firestore,this._delegate.withConverter(e?gp.getInstance(this.firestore,e):null))}}function mp(n){return Nn(n,cr)}class DS{constructor(...e){this._delegate=new La(...e)}static documentId(){return new DS(Or.keyField().canonicalString())}isEqual(e){return(e=(0,Fn.m9)(e))instanceof La&&this._delegate._internalPath.isEqual(e._internalPath)}}class yp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function x2(){return new W("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new yp(e)}static delete(){const e=function M2(){return new A("deleteField")}();return e._methodName="FieldValue.delete",new yp(e)}static arrayUnion(...e){const t=function O2(...n){return new ie("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new yp(t)}static arrayRemove(...e){const t=function P2(...n){return new Re("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new yp(t)}static increment(e){const t=function N2(n){return new Ke("increment",n)}(e);return t._methodName="FieldValue.increment",new yp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const B2={Firestore:Ox,GeoPoint:o,Timestamp:wr,Blob:tE,Transaction:Px,WriteBatch:Nx,DocumentReference:aa,DocumentSnapshot:nE,Query:ks,QueryDocumentSnapshot:rE,QuerySnapshot:bS,CollectionReference:My,FieldPath:DS,FieldValue:yp,setLogLevel:function V2(n){!function od(n){xs.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function $2(n){(function j2(n,e){n.INTERNAL.registerComponent(new Dg.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},B2)))})(n,(e,t)=>new Ox(e,t,new L2)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(Bl.Z);var H2=S(3019),ua=S(3093),G2=S(4552);class z2 extends Xi.x{constructor(e=1/0,t=1/0,r=G2.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:u,_windowTime:l}=this;t||(r.push(e),!s&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,u=s.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,u=(s?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!s){const l=t.now();let g=0;for(let v=1;v<r.length&&r[v]<=l;v+=2)g=v;g&&r.splice(0,g+1)}}}var q2=S(3020);function TS(n,e,t){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):r=n??1/0,(0,q2.B)({connector:()=>new z2(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function ZD(n,e){return(0,Po.m)(e)?(0,Hn.w)(()=>n,e):(0,Hn.w)(()=>n)}var Va=S(5137);S(4097);var SS=S(4303);const MS=new Map,Lx={activated:!1,tokenObservers:[]},Q2={initialized:!1,enabled:!1};function ti(n){return MS.get(n)||Object.assign({},Lx)}function KD(){return Q2}const xS="https://content-firebaseappcheck.googleapis.com/v1",tN="exchangeDebugToken",Vx={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class rN{constructor(e,t,r,s,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=s,s>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,_e.Z)(function*(){t.stop();try{t.pending=new Fn.BH,yield function iN(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Fn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const os=new Fn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function OS(n){if(!ti(n).activated)throw os.create("use-before-activation",{appName:n.name})}function JD(n,e){return NS.apply(this,arguments)}function NS(){return NS=(0,_e.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){const x=yield s.getHeartbeatsHeader();x&&(r["X-Firebase-Client"]=x)}const u={method:"POST",body:JSON.stringify(e),headers:r};let l,g;try{l=yield fetch(n,u)}catch(x){throw os.create("fetch-network-error",{originalErrorMessage:x?.message})}if(200!==l.status)throw os.create("fetch-status-error",{httpStatus:l.status});try{g=yield l.json()}catch(x){throw os.create("fetch-parse-error",{originalErrorMessage:x?.message})}const v=g.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw os.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const C=1e3*Number(v[1]),D=Date.now();return{token:g.token,expireTimeMillis:D+C,issuedAtTimeMillis:D}}),NS.apply(this,arguments)}function Ux(n,e){const{projectId:t,appId:r,apiKey:s}=n.options;return{url:`${xS}/projects/${t}/apps/${r}:${tN}?key=${s}`,body:{debug_token:e}}}const uN="firebase-app-check-database",cN=1,iE="firebase-app-check-store";let XD=null;function RS(){return RS=(0,_e.Z)(function*(n,e){const r=(yield function jx(){return XD||(XD=new Promise((n,e)=>{try{const t=indexedDB.open(uN,cN);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var s;e(os.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(iE,{keyPath:"compositeKey"})}}catch(t){e(os.create("storage-open",{originalErrorMessage:t?.message}))}}),XD)}()).transaction(iE,"readwrite"),u=r.objectStore(iE).put({compositeKey:n,value:e});return new Promise((l,g)=>{u.onsuccess=v=>{l()},r.onerror=v=>{var C;g(os.create("storage-set",{originalErrorMessage:null===(C=v.target.error)||void 0===C?void 0:C.message}))}})}),RS.apply(this,arguments)}const sE=new du.Yd("@firebase/app-check");function LS(n,e){return(0,Fn.hl)()?function dN(n,e){return function $x(n,e){return RS.apply(this,arguments)}(function Gx(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{sE.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function US(){return KD().enabled}function BS(){return jS.apply(this,arguments)}function jS(){return jS=(0,_e.Z)(function*(){const n=KD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),jS.apply(this,arguments)}const yN={error:"UNKNOWN_ERROR"};function vN(n){return Fn.US.encodeString(JSON.stringify(n),!1)}function eT(n){return $S.apply(this,arguments)}function $S(){return $S=(0,_e.Z)(function*(n,e=!1){const t=n.app;OS(t);const r=ti(t);let u,s=r.token;if(s&&!xy(s)&&(r.token=void 0,s=void 0),!s){const v=yield r.cachedTokenPromise;v&&(xy(v)?s=v:yield LS(t,void 0))}if(!e&&s&&xy(s))return{token:s.token};let g,l=!1;if(US()){r.exchangeTokenPromise||(r.exchangeTokenPromise=JD(Ux(t,yield BS()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const v=yield r.exchangeTokenPromise;return yield LS(t,v),r.token=v,{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),s=yield ti(t).exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?sE.warn(v.message):sE.error(v),u=v}return s?u?g=xy(s)?{token:s.token,internalError:u}:Wx(u):(g={token:s.token},r.token=s,yield LS(t,s)):g=Wx(u),l&&function Zx(n,e){const t=ti(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,g),g}),$S.apply(this,arguments)}function HS(){return HS=(0,_e.Z)(function*(n){const e=n.app;OS(e);const{provider:t}=ti(e);if(US()){const r=yield BS(),{token:s}=yield JD(Ux(e,r),n.heartbeatServiceProvider);return{token:s}}{const{token:r}=yield t.getToken();return{token:r}}}),HS.apply(this,arguments)}function zS(n,e){const t=ti(n),r=t.tokenObservers.filter(s=>s.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function qx(n){const{app:e}=n,t=ti(e);let r=t.tokenRefresher;r||(r=function _N(n){const{app:e}=n;return new rN((0,_e.Z)(function*(){let r;if(r=ti(e).token?yield eT(n,!0):yield eT(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=ti(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Vx.RETRIAL_MIN_WAIT,Vx.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function xy(n){return n.expireTimeMillis-Date.now()>0}function Wx(n){return{token:vN(yN),error:n}}class wN{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ti(this.app);for(const t of e)zS(this.app,t.next);return Promise.resolve()}}const nO="app-check-internal";!function RN(){(0,SS._registerComponent)(new Dg.wA("app-check",n=>function EN(n,e){return new wN(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(nO).initialize()})),(0,SS._registerComponent)(new Dg.wA(nO,n=>function IN(n){return{getToken:e=>eT(n,e),getLimitedUseToken:()=>function zx(n){return HS.apply(this,arguments)}(n),addTokenListener:e=>function GS(n,e,t,r){const{app:s}=n,u=ti(s);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&xy(u.token)){const g=u.token;Promise.resolve().then(()=>{t({token:g.token}),qx(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>qx(n))}(n,"INTERNAL",e),removeTokenListener:e=>zS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,SS.registerVersion)("@firebase/app-check","0.8.0")}();class KS{constructor(){return(0,Sr.vb)("app-check")}}typeof window<"u"&&window;var QS=S(120);const iO=new d.OlP("angularfire2.auth.use-emulator"),sO=new d.OlP("angularfire2.auth.settings"),oO=new d.OlP("angularfire2.auth.tenant-id"),aO=new d.OlP("angularfire2.auth.langugage-code"),uO=new d.OlP("angularfire2.auth.use-device-language"),cO=new d.OlP("angularfire.auth.persistence"),lO=(n,e,t,r,s,u,l,g)=>(0,Oi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=s,u&&v.useDeviceLanguage(),l)for(const[C,D]of Object.entries(l))v.settings[C]=D;return g&&v.setPersistence(g),v},[t,r,s,u,l,g]);let nT=(()=>{class n{constructor(t,r,s,u,l,g,v,C,D,x,z,J){const Ce=new Xi.x,Fe=(0,Pt.of)(void 0).pipe((0,ua.Q)(l.outsideAngular),(0,Hn.w)(()=>u.runOutsideAngular(()=>Promise.resolve().then(S.bind(S,8661)))),(0,Qt.U)(()=>(0,Oi.on)(t,u,r)),(0,Qt.U)(Ve=>lO(Ve,u,g,C,D,x,v,z)),TS({bufferSize:1,refCount:!1}));if(Dr(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Pt.of)(null);else{Fe.pipe(jr()).subscribe();const It=Fe.pipe((0,Hn.w)($t=>$t.getRedirectResult().then(un=>un,()=>null)),Sr.iC,TS({bufferSize:1,refCount:!1})),Ut=Fe.pipe((0,Hn.w)($t=>new Di.y(un=>({unsubscribe:u.runOutsideAngular(()=>$t.onAuthStateChanged(Sn=>un.next(Sn),Sn=>un.error(Sn),()=>un.complete()))})))),_t=Fe.pipe((0,Hn.w)($t=>new Di.y(un=>({unsubscribe:u.runOutsideAngular(()=>$t.onIdTokenChanged(Sn=>un.next(Sn),Sn=>un.error(Sn),()=>un.complete()))}))));this.authState=It.pipe(ZD(Ut),(0,Va.R)(l.outsideAngular),(0,ua.Q)(l.insideAngular)),this.user=It.pipe(ZD(_t),(0,Va.R)(l.outsideAngular),(0,ua.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,Hn.w)($t=>$t?(0,Xn.D)($t.getIdToken()):(0,Pt.of)(null))),this.idTokenResult=this.user.pipe((0,Hn.w)($t=>$t?(0,Xn.D)($t.getIdTokenResult()):(0,Pt.of)(null))),this.credential=(0,H2.T)(It,Ce,this.authState.pipe(li($t=>!$t))).pipe((0,Qt.U)($t=>$t?.user?$t:null),(0,Va.R)(l.outsideAngular),(0,ua.Q)(l.insideAngular))}return(0,Oi.pX)(this,Fe,u,{spy:{apply:(Ve,It,Ut)=>{(Ve.startsWith("signIn")||Ve.startsWith("createUser"))&&Ut.then(_t=>Ce.next(_t))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Oi.Dh),d.LFG(Oi.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Sr.HU),d.LFG(iO,8),d.LFG(sO,8),d.LFG(oO,8),d.LFG(aO,8),d.LFG(uO,8),d.LFG(cO,8),d.LFG(KS,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),BN=(()=>{class n{constructor(){QS.Z.registerVersion("angularfire",Sr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[nT]}),n})();function dO(n,e){return function jN(n,e=Xh.z){return new Di.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function JS(n,e){return dO(n,e).pipe((0,Qt.U)(t=>({payload:t,type:"query"})))}function rT(n,e){return JS(n,e).pipe(eu(void 0),ef(),(0,Qt.U)(([t,r])=>{const s=r.payload.docChanges(),u=s.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,g)=>{const v=s.find(D=>D.doc.ref.isEqual(l.ref)),C=t?.payload.docs.find(D=>D.ref.isEqual(l.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(l.metadata)||!v&&C&&JSON.stringify(C.metadata)===JSON.stringify(l.metadata)||u.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:l}})}),u}))}function hO(n,e,t){return rT(n,t).pipe(ma((r,s)=>function HN(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function GN(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return XS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return XS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return XS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(u=>u.payload),e),[]),(0,g1.x)(),(0,Qt.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function XS(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function fO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class pO{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=rT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Qt.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(eu(void 0),ef(),li(([r,s])=>s.length>0||!r),(0,Qt.U)(([r,s])=>s),Sr.iC)}auditTrail(e){return this.stateChanges(e).pipe(ma((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=fO(e);return hO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}valueChanges(e={}){return JS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Sr.iC)}get(e){return(0,Xn.D)(this.query.get(e)).pipe(Sr.iC)}add(e){return this.ref.add(e)}doc(e){return new gO(this.ref.doc(e),this.afs)}}class gO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:u}=vO(r,t);return new pO(s,u,this.afs)}snapshotChanges(){return function $N(n,e){return dO(n,e).pipe(eu(void 0),ef(),(0,Qt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Qt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Xn.D)(this.ref.get(e)).pipe(Sr.iC)}}class zN{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?rT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),li(t=>t.length>0),Sr.iC):rT(this.query,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}auditTrail(e){return this.stateChanges(e).pipe(ma((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=fO(e);return hO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}valueChanges(e={}){return JS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qt.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),Sr.iC)}get(e){return(0,Xn.D)(this.query.get(e)).pipe(Sr.iC)}}const mO=new d.OlP("angularfire2.enableFirestorePersistence"),yO=new d.OlP("angularfire2.firestore.persistenceSettings"),qN=new d.OlP("angularfire2.firestore.settings"),ZN=new d.OlP("angularfire2.firestore.use-emulator");function vO(n,e=(t=>t)){return{query:e(n),ref:n}}let eM=(()=>{class n{constructor(t,r,s,u,l,g,v,C,D,x,z,J,Ce,Fe,Ve,It,Ut){this.schedulers=v;const _t=(0,Oi.on)(t,g,r),$t=D;x&&lO(_t,g,z,Ce,Fe,Ve,J,It),[this.firestore,this.persistenceEnabled$]=(0,Oi.cc)(`${_t.name}.firestore`,"AngularFirestore",_t.name,()=>{const un=g.runOutsideAngular(()=>_t.firestore());if(u&&un.settings(u),$t&&un.useEmulator(...$t),s&&!Dr(l)){const Sn=()=>{try{return(0,Xn.D)(un.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(as){return typeof console<"u"&&console.warn(as),(0,Pt.of)(!1)}};return[un,g.runOutsideAngular(Sn)]}return[un,(0,Pt.of)(!1)]},[u,$t,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:l}=vO(s,r),g=this.schedulers.ngZone.run(()=>u);return new pO(g,l,this)}collectionGroup(t,r){const s=r||(l=>l),u=this.firestore.collectionGroup(t);return new zN(s(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new gO(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Oi.Dh),d.LFG(Oi.xv,8),d.LFG(mO,8),d.LFG(qN,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Sr.HU),d.LFG(yO,8),d.LFG(ZN,8),d.LFG(nT,8),d.LFG(iO,8),d.LFG(sO,8),d.LFG(oO,8),d.LFG(aO,8),d.LFG(uO,8),d.LFG(cO,8),d.LFG(KS,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),WN=(()=>{class n{constructor(){QS.Z.registerVersion("angularfire",Sr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:mO,useValue:!0},{provide:yO,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[eM]}),n})();var KN=S(6710);let vp=(()=>{class n{constructor(t,r){this.afs=t,this.db=r,this._loggedInUser$=new ci.X(JSON.parse(sessionStorage.getItem("loggedInUser"))||null),this.loggedInUser$=this._loggedInUser$.asObservable()}logInWithGoogle(){var t=this;return(0,_e.Z)(function*(){try{const r=yield t.afs.signInWithPopup(new KN.V);return yield t.createOrUpdateUserOnDB(r),sessionStorage.setItem("loggedInUser",JSON.stringify(r)),t._loggedInUser$.next(r),r}catch(r){throw console.error(r.message),r.message}})()}logInWithEmailAndPassword(t){var r=this;return(0,_e.Z)(function*(){try{const s=yield r.afs.signInWithEmailAndPassword(t.email,t.password);return yield r.createOrUpdateUserOnDB(s,t),sessionStorage.setItem("loggedInUser",JSON.stringify(s)),r._loggedInUser$.next(s),s}catch(s){throw console.error(s.message),s.message}})()}registerWithEmailAndPassword(t){var r=this;return(0,_e.Z)(function*(){try{const s=yield r.afs.createUserWithEmailAndPassword(t.email,t.password);return yield r.createOrUpdateUserOnDB(s,t),sessionStorage.setItem("loggedInUser",JSON.stringify(s)),r._loggedInUser$.next(s),s}catch(s){throw console.error(s.message),s.message}})()}logOut(){var t=this;return(0,_e.Z)(function*(){try{yield t.afs.signOut(),sessionStorage.removeItem("loggedInUser"),t._loggedInUser$.next(null)}catch(r){throw console.error(r.message),r.message}})()}createOrUpdateUserOnDB(t,r=null){var s=this;return(0,_e.Z)(function*(){var u;s.db.collection("users").doc(t.user.uid).get().pipe(fr(1)).subscribe({next:(u=(0,_e.Z)(function*(l){if(l.exists){const g=l.data();console.log("userData",g),g._id||(yield s.db.collection("users").doc(t.user.uid).update({_id:t.user.uid})),g.fullName||(yield s.db.collection("users").doc(t.user.uid).update({fullName:r?.fullName||t.additionalUserInfo?.profile?.name})),g.imgUrl||(yield s.db.collection("users").doc(t.user.uid).update({imgUrl:t.user.photoURL||"https://res.cloudinary.com/dpbcaizq9/image/upload/v1686066256/user_jsqpzw.png"})),g.followedByUsers||(yield s.db.collection("users").doc(t.user.uid).update({followedByUsers:[]})),g.followingUsers||(yield s.db.collection("users").doc(t.user.uid).update({followingUsers:[]}))}else yield s.db.collection("users").doc(t.user.uid).set({_id:t.user.uid,fullName:r?.fullName||t.additionalUserInfo?.profile?.name,imgUrl:t.user.photoURL||"https://res.cloudinary.com/dpbcaizq9/image/upload/v1686066256/user_jsqpzw.png",followedByUsers:[],followingUsers:[]})}),function(g){return u.apply(this,arguments)}),error:u=>{console.error(u)}})})()}getUserById(t){return this.db.collection("users").doc(t).get()}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(nT),d.LFG(eM))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tM=(()=>{class n{constructor(t,r){this.db=t,this.authService=r,this._posts$=new ci.X([]),this.posts$=this._posts$.asObservable()}getPosts(){return this.db.collection("posts").valueChanges().pipe((0,_r.b)(t=>{this._posts$.next(t)}),function Ho(n=1/0){let e;e=n&&"object"==typeof n?n:{count:n};const{count:t=1/0,delay:r,resetOnSuccess:s=!1}=e;return t<=0?fa.y:(0,Hi.e)((u,l)=>{let v,g=0;const C=()=>{let D=!1;v=u.subscribe((0,Ai.x)(l,x=>{s&&(g=0),l.next(x)},void 0,x=>{if(g++<t){const z=()=>{v?(v.unsubscribe(),v=null,C()):D=!0};if(null!=r){const J="number"==typeof r?function Cg(n=0,e,t=Xh.P){let r=-1;return null!=e&&((0,p1.K)(e)?t=e:r=e),new Di.y(s=>{let u=function jv(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;u<0&&(u=0);let l=0;return t.schedule(function(){s.closed||(s.next(l++),0<=r?this.schedule(void 0,r):s.complete())},u)})}(r):(0,rc.Xf)(r(x,g)),Ce=(0,Ai.x)(l,()=>{Ce.unsubscribe(),z()},()=>{l.complete()});J.subscribe(Ce)}else z()}else l.error(x)})),D&&(v.unsubscribe(),v=null,C())};C()})}(1),ls(t=>(console.log("err:",t),ga(()=>t))))}toggleLike(t,r){var s=this;return(0,_e.Z)(function*(){t?yield s.addLike(r):yield s.removeLike(r)})()}addLike(t){var r=this;return(0,_e.Z)(function*(){let s;r.authService.loggedInUser$.pipe(fr(1)).subscribe({next:g=>{s=g?.user?.uid}}),t.likedByUsers.push(s),yield r.db.collection("posts").doc(t._id).update({likedByUsers:t.likedByUsers});const u=r._posts$.value,l=u.findIndex(g=>g._id===t._id);u.splice(l,1,t),r._posts$.next(u)})()}removeLike(t){var r=this;return(0,_e.Z)(function*(){let s;r.authService.loggedInUser$.pipe(fr(1)).subscribe({next:l=>{s=l?.user?.uid}});const u=t.likedByUsers.findIndex(l=>l===s);t.likedByUsers.splice(u,1),yield r.db.collection("posts").doc(t._id).update({likedByUsers:t.likedByUsers})})()}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(eM),d.LFG(vp))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),YN=(()=>{class n{transform(t){const s=Math.floor(Date.now()/1e3)-t;return s<60?"just now":s<3600?`${Math.floor(s/60)}m`:s<86400?`${Math.floor(s/3600)}h`:`${Math.floor(s/86400)}d`}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=d.Yjl({name:"timeAgo",type:n,pure:!0})}return n})();function QN(n,e){if(1&n&&(d.TgZ(0,"div",20),d._UZ(1,"img",21),d.TgZ(2,"h5"),d._uU(3),d.TgZ(4,"span"),d._uU(5),d.ALo(6,"timeAgo"),d.qZA()()()),2&n){const t=d.oxw();d.xp6(1),d.Q6J("src",t.creator.imgUrl,d.LSH),d.xp6(2),d.hij("",t.creator.fullName," "),d.xp6(2),d.hij("\u2022 ",d.lcZ(6,3,t.post.createdAt),"")}}function JN(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",22),d.NdJ("click",function(){d.CHM(t);const s=d.oxw();return d.KtG(s.onToggleLike())}),d.O4$(),d.TgZ(1,"svg",23)(2,"title"),d._uU(3,"Like"),d.qZA(),d._UZ(4,"path",24),d.qZA()()}}function XN(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",22),d.NdJ("click",function(){d.CHM(t);const s=d.oxw();return d.KtG(s.onToggleLike())}),d.O4$(),d.TgZ(1,"svg",25)(2,"title"),d._uU(3,"Unlike"),d.qZA(),d._UZ(4,"path",26),d.qZA()()}}function eR(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"span"),d._uU(1," and "),d.TgZ(2,"span",31),d.NdJ("click",function(){d.CHM(t);const s=d.oxw(2);return d.KtG(s.isLikedByUsersModalShown=!s.isLikedByUsersModalShown)}),d._uU(3),d.ALo(4,"number"),d.qZA()()}if(2&n){const t=d.oxw(2);d.xp6(3),d.AsE("",d.lcZ(4,2,t.likedByUsers.length-1)," ",t.likedByUsers.length>2?"others":"other","")}}function tR(n,e){if(1&n&&(d.TgZ(0,"li"),d._UZ(1,"img",28),d.TgZ(2,"h5"),d._uU(3),d.qZA(),d.TgZ(4,"button",39),d._uU(5,"Follow"),d.qZA()()),2&n){const t=e.$implicit;d.xp6(1),d.Q6J("src",t.imgUrl,d.LSH),d.xp6(2),d.Oqu(t.fullName)}}function nR(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"article",32)(1,"div",33)(2,"h3"),d._uU(3,"Likes"),d.qZA(),d.TgZ(4,"button",34),d.NdJ("click",function(){d.CHM(t);const s=d.oxw(2);return d.KtG(s.isLikedByUsersModalShown=!s.isLikedByUsersModalShown)}),d.O4$(),d.TgZ(5,"svg",35)(6,"title"),d._uU(7," Close"),d.qZA(),d._UZ(8,"polyline",36)(9,"line",37),d.qZA()()(),d.kcU(),d.TgZ(10,"ul"),d.YNc(11,tR,6,2,"li",38),d.qZA()()}if(2&n){const t=d.oxw(2);d.xp6(11),d.Q6J("ngForOf",t.likedByUsers)}}function rR(n,e){if(1&n&&(d.O4$(),d.kcU(),d.TgZ(0,"div",27),d._UZ(1,"img",28),d.TgZ(2,"p"),d._uU(3," Liked by "),d.TgZ(4,"span",29),d._uU(5),d.qZA(),d.YNc(6,eR,5,4,"span",19),d.qZA(),d.YNc(7,nR,12,1,"article",30),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.Q6J("src",t.likedByUsers[0].imgUrl,d.LSH),d.xp6(4),d.Oqu(t.likedByUsers[0].fullName),d.xp6(1),d.Q6J("ngIf",t.likedByUsers.length>1),d.xp6(1),d.Q6J("ngIf",t.isLikedByUsersModalShown)}}function iR(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",42),d.NdJ("click",function(){d.CHM(t);const s=d.oxw(2);return d.KtG(s.isMoreClicked=!s.isMoreClicked)}),d._uU(1,"more "),d.qZA()}}function sR(n,e){if(1&n&&(d.TgZ(0,"p")(1,"span",40),d._uU(2),d.qZA(),d._uU(3),d.ALo(4,"slice"),d.YNc(5,iR,2,0,"button",41),d.qZA()),2&n){const t=d.oxw();d.xp6(2),d.Oqu(t.post.creatorFullName),d.xp6(1),d.AsE(" ",d.Dn7(4,4,t.post.content,0,120)," ",t.post.content.length>=120&&"..."," "),d.xp6(2),d.Q6J("ngIf",t.post.content.length>=120)}}function oR(n,e){if(1&n&&(d.TgZ(0,"p")(1,"span",40),d._uU(2),d.qZA(),d._uU(3),d.qZA()),2&n){const t=d.oxw();d.xp6(2),d.Oqu(t.post.creatorFullName),d.xp6(1),d.hij(" ",t.post.content," ")}}let aR=(()=>{class n{constructor(t,r){this.authService=t,this.postService=r,this.isMoreClicked=!1,this.likedByUsers=[],this.isLikedByUsersModalShown=!1,this.isLikeClicked=!1}ngOnInit(){this.authService.getUserById(this.post.creatorId).pipe(fr(1)).subscribe({next:t=>{t.exists&&(this.creator=t.data())}}),this.post.likedByUsers.forEach((t,r)=>{this.authService.getUserById(t).pipe(fr(1)).subscribe({next:s=>{s.exists&&this.likedByUsers.push(s.data())}})}),this.authService.loggedInUser$.pipe(fr(1)).subscribe({next:t=>{this.loggedInUser=t}}),setTimeout(()=>{this.isLikeClicked=!!this.likedByUsers.find(t=>t._id===this.loggedInUser.user.uid)},200)}onToggleLike(){var t=this;return(0,_e.Z)(function*(){t.isLikeClicked=!t.isLikeClicked,yield t.postService.toggleLike(t.isLikeClicked,t.post),t.authService.getUserById(t.creator._id).pipe(fr(1)).subscribe({next:r=>{if(r.exists)if(t.isLikeClicked)t.likedByUsers.push(r.data());else{const s=t.likedByUsers.findIndex(u=>u._id===t.creator._id);t.likedByUsers.splice(s,1)}}})})()}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(vp),d.Y36(tM))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["post-card"]],inputs:{post:"post"},decls:28,vars:7,consts:[[1,"post-card"],["class","post-header",4,"ngIf"],["alt","post",3,"src"],[1,"post-card-inner-container"],[1,"actions"],[1,"like-comment-share"],["class","btn-like",3,"click",4,"ngIf"],[1,"btn-comment"],["aria-label","Comment","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"x1lliihq","x1n2onr6"],["d","M20.656 17.008a9.993 9.993 0 1 0-3.59 3.615L22 22Z","fill","none","stroke","currentColor","stroke-linejoin","round","stroke-width","2"],[1,"btn-share"],["aria-label","Share","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"x1lliihq","x1n2onr6"],["fill","none","stroke","currentColor","stroke-linejoin","round","stroke-width","2","x1","22","x2","9.218","y1","3","y2","10.083"],["fill","none","points","11.698 20.334 22 3.001 2 3.001 9.218 10.084 11.698 20.334","stroke","currentColor","stroke-linejoin","round","stroke-width","2"],[1,"save"],["aria-label","Save","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"x1lliihq","x1n2onr6"],["fill","none","points","20 21 12 13.44 4 21 4 3 20 3 20 21","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["class","liked-by-users",4,"ngIf"],[1,"content"],[4,"ngIf"],[1,"post-header"],["alt","creator",3,"src"],[1,"btn-like",3,"click"],["aria-label","Like","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"x1lliihq","x1n2onr6"],["d","M16.792 3.904A4.989 4.989 0 0 1 21.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 0 1 4.708-5.218 4.21 4.21 0 0 1 3.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 0 1 3.679-1.938m0-2a6.04 6.04 0 0 0-4.797 2.127 6.052 6.052 0 0 0-4.787-2.127A6.985 6.985 0 0 0 .5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 0 0 3.518 3.018 2 2 0 0 0 2.174 0 45.263 45.263 0 0 0 3.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 0 0-6.708-7.218Z"],["aria-label","Unlike","color","rgb(255, 48, 64)","fill","rgb(255, 48, 64)","height","24","role","img","viewBox","0 0 48 48","width","24",1,"x1lliihq","x1n2onr6"],["d","M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"],[1,"liked-by-users"],["alt","user",3,"src"],[1,"username"],["class","liked-by-users-list",4,"ngIf"],[1,"other-users",3,"click"],[1,"liked-by-users-list"],[1,"header"],[1,"btn-close-liked-by-users-list",3,"click"],["aria-label","Close","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","18","role","img","viewBox","0 0 24 24","width","18",1,"x1lliihq","x1n2onr6"],["fill","none","points","20.643 3.357 12 12 3.353 20.647","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","3"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","3","x1","20.649","x2","3.354","y1","20.649","y2","3.354"],[4,"ngFor","ngForOf"],[1,"btn-follow"],[1,"creatorFullName"],["class","btn-more",3,"click",4,"ngIf"],[1,"btn-more",3,"click"]],template:function(r,s){1&r&&(d.TgZ(0,"li",0),d.YNc(1,QN,7,5,"div",1),d._UZ(2,"img",2),d.TgZ(3,"div",3)(4,"div",4)(5,"div",5),d.YNc(6,JN,5,0,"button",6),d.YNc(7,XN,5,0,"button",6),d.TgZ(8,"button",7),d.O4$(),d.TgZ(9,"svg",8)(10,"title"),d._uU(11," Comment"),d.qZA(),d._UZ(12,"path",9),d.qZA()(),d.kcU(),d.TgZ(13,"button",10),d.O4$(),d.TgZ(14,"svg",11)(15,"title"),d._uU(16,"Share PostModel"),d.qZA(),d._UZ(17,"line",12)(18,"polygon",13),d.qZA()()(),d.kcU(),d.TgZ(19,"button",14),d.O4$(),d.TgZ(20,"svg",15)(21,"title"),d._uU(22," Save"),d.qZA(),d._UZ(23,"polygon",16),d.qZA()()(),d.YNc(24,rR,8,4,"div",17),d.kcU(),d.TgZ(25,"div",18),d.YNc(26,sR,6,8,"p",19),d.YNc(27,oR,4,2,"p",19),d.qZA()()()),2&r&&(d.xp6(1),d.Q6J("ngIf",s.creator),d.xp6(1),d.Q6J("src",s.post.imgUrl,d.LSH),d.xp6(4),d.Q6J("ngIf",!s.isLikeClicked),d.xp6(1),d.Q6J("ngIf",s.isLikeClicked),d.xp6(17),d.Q6J("ngIf",s.likedByUsers.length),d.xp6(2),d.Q6J("ngIf",!s.isMoreClicked),d.xp6(1),d.Q6J("ngIf",s.isMoreClicked))},dependencies:[ws,Ui,Wr,Xe,YN],styles:["[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;gap:1em}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5em;color:#f5f5f5;padding-inline:1.5em}@media (min-width: 600px){[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]{padding-inline:unset}}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:40px;border:none}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4em}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#919191;font-weight:400}@media (min-width: 600px){[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:.2em;border:1px solid rgba(245,245,245,.44)}}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]{padding-inline:1.5em;display:flex;flex-direction:column;gap:.8em}@media (min-width: 600px){[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]{padding-inline:unset}}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .like-comment-share[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5em}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .like-comment-share[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]{cursor:pointer;background-color:transparent;border:none;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .like-comment-share[_ngcontent-%COMP%]   .btn-comment[_ngcontent-%COMP%]{cursor:pointer;background-color:transparent;border:none;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .like-comment-share[_ngcontent-%COMP%]   .btn-share[_ngcontent-%COMP%]{cursor:pointer;background-color:transparent;border:none;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]{cursor:pointer;background-color:transparent;border:none;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .liked-by-users[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5em;font-size:14px}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .liked-by-users[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;border-radius:50%;border:none}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .liked-by-users[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{cursor:pointer;font-weight:bolder}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .liked-by-users[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .other-users[_ngcontent-%COMP%]{cursor:pointer;font-weight:bolder}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .liked-by-users[_ngcontent-%COMP%]   .liked-by-users-list[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1;background-color:#262626;border-radius:1em;width:20em;display:flex;flex-direction:column;gap:1em}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .liked-by-users[_ngcontent-%COMP%]   .liked-by-users-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-block-end:1px solid rgba(252,252,252,.11);height:3em}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .liked-by-users[_ngcontent-%COMP%]   .liked-by-users-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .btn-close-liked-by-users-list[_ngcontent-%COMP%]{position:absolute;right:1em;top:.9em;cursor:pointer;background-color:transparent;border:none}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .liked-by-users[_ngcontent-%COMP%]   .liked-by-users-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em;padding-inline:1em;padding-block-end:1em}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .liked-by-users[_ngcontent-%COMP%]   .liked-by-users-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .liked-by-users[_ngcontent-%COMP%]   .liked-by-users-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:45px}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .liked-by-users[_ngcontent-%COMP%]   .liked-by-users-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .liked-by-users[_ngcontent-%COMP%]   .liked-by-users-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn-follow[_ngcontent-%COMP%]{cursor:pointer;border:none;background-color:#0095f6;color:#f5f5f5;border-radius:.5em;padding-inline:1.5em;height:2.5em;font-size:14px;font-weight:bolder}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .liked-by-users[_ngcontent-%COMP%]   .liked-by-users-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn-follow[_ngcontent-%COMP%]:hover{background-color:#0284d5}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .creatorFullName[_ngcontent-%COMP%]{font-weight:700;font-size:13px;color:#f5f5f5;cursor:pointer}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .btn-more[_ngcontent-%COMP%]{border:none;background-color:transparent;color:#919191;font-size:14px;cursor:pointer}"]})}return n})();function uR(n,e){1&n&&d._UZ(0,"post-card",2),2&n&&d.Q6J("post",e.$implicit)}let cR=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["post-list"]],inputs:{posts:"posts"},decls:3,vars:1,consts:[[1,"post-list"],[3,"post",4,"ngFor","ngForOf"],[3,"post"]],template:function(r,s){1&r&&(d.TgZ(0,"section",0)(1,"ul"),d.YNc(2,uR,1,1,"post-card",1),d.qZA()()),2&r&&(d.xp6(2),d.Q6J("ngForOf",s.posts))},dependencies:[ws,aR]})}return n})();function lR(n,e){if(1&n&&(d.TgZ(0,"section",1),d._UZ(1,"post-list",2),d.qZA()),2&n){const t=e.ngIf;d.xp6(1),d.Q6J("posts",t)}}let dR=(()=>{class n{constructor(t){this.postService=t}ngOnInit(){this.posts$=this.postService.posts$}ngOnDestroy(){}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(tM))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["home-page-page"]],decls:2,vars:3,consts:[["class","home-page",4,"ngIf"],[1,"home-page"],[3,"posts"]],template:function(r,s){1&r&&(d.YNc(0,lR,2,1,"section",0),d.ALo(1,"async")),2&r&&d.Q6J("ngIf",d.lcZ(1,1,s.posts$))},dependencies:[Ui,cR,la]})}return n})(),_O=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(d.Qsj),d.Y36(d.SBq))};static#t=this.\u0275dir=d.lG2({type:n})}return n})(),_p=(()=>{class n extends _O{static#e=this.\u0275fac=function(){let t;return function(s){return(t||(t=d.n5z(n)))(s||n)}}();static#t=this.\u0275dir=d.lG2({type:n,features:[d.qOj]})}return n})();const Gu=new d.OlP("NgValueAccessor"),pR={provide:Gu,useExisting:(0,d.Gpc)(()=>iT),multi:!0},mR=new d.OlP("CompositionEventMode");let iT=(()=>{class n extends _O{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function gR(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(mR,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){1&r&&d.NdJ("input",function(l){return s._handleInput(l.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(l){return s._compositionEnd(l.target.value)})},features:[d._Bn([pR]),d.qOj]})}return n})();const vs=new d.OlP("NgValidators"),Qd=new d.OlP("NgAsyncValidators");function xO(n){return null!=n}function OO(n){return(0,d.QGY)(n)?(0,Xn.D)(n):n}function PO(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function NO(n,e){return e.map(t=>t(n))}function RO(n){return n.map(e=>function vR(n){return!n.validate}(e)?e:t=>e.validate(t))}function nM(n){return null!=n?function kO(n){if(!n)return null;const e=n.filter(xO);return 0==e.length?null:function(t){return PO(NO(t,e))}}(RO(n)):null}function rM(n){return null!=n?function FO(n){if(!n)return null;const e=n.filter(xO);return 0==e.length?null:function(t){return function hR(...n){const e=(0,to.jO)(n),{args:t,keys:r}=ar(n),s=new Di.y(u=>{const{length:l}=t;if(!l)return void u.complete();const g=new Array(l);let v=l,C=l;for(let D=0;D<l;D++){let x=!1;(0,rc.Xf)(t[D]).subscribe((0,Ai.x)(u,z=>{x||(x=!0,C--),g[D]=z},()=>v--,void 0,()=>{(!v||!x)&&(C||u.next(r?no(r,g):g),u.complete())}))}});return e?s.pipe(tc(e)):s}(NO(t,e).map(OO)).pipe((0,Qt.U)(PO))}}(RO(n)):null}function LO(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function iM(n){return n?Array.isArray(n)?n:[n]:[]}function oT(n,e){return Array.isArray(n)?n.includes(e):n===e}function BO(n,e){const t=iM(e);return iM(n).forEach(s=>{oT(t,s)||t.push(s)}),t}function jO(n,e){return iM(e).filter(t=>!oT(n,t))}class $O{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=nM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Fs extends $O{get formDirective(){return null}get path(){return null}}class Jd extends $O{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class HO{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let GO=(()=>{class n extends HO{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(Jd,2))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){2&r&&d.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[d.qOj]})}return n})(),zO=(()=>{class n extends HO{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(Fs,10))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){2&r&&d.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[d.qOj]})}return n})();const oE="VALID",uT="INVALID",Oy="PENDING",aE="DISABLED";function aM(n){return(cT(n)?n.validators:n)||null}function uM(n,e){return(cT(e)?e.asyncValidators:n)||null}function cT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class KO{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===oE}get invalid(){return this.status===uT}get pending(){return this.status==Oy}get disabled(){return this.status===aE}get enabled(){return this.status!==aE}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(BO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(BO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(jO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(jO(e,this._rawAsyncValidators))}hasValidator(e){return oT(this._rawValidators,e)}hasAsyncValidator(e){return oT(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Oy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=aE,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=oE,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===oE||this.status===Oy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?aE:oE}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Oy,this._hasOwnPendingAsyncValidator=!0;const t=OO(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,s)=>r&&r._find(s),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?aE:this.errors?uT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Oy)?Oy:this._anyControlsHaveStatus(uT)?uT:oE}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){cT(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function IR(n){return Array.isArray(n)?nM(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function CR(n){return Array.isArray(n)?rM(n):n||null}(this._rawAsyncValidators)}}class cM extends KO{constructor(e,t,r){super(aM(t),uM(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function WO(n,e,t){n._forEachChild((r,s)=>{if(void 0===t[s])throw new d.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function ZO(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new d.vHH(1e3,"");if(!r[t])throw new d.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const s=this.controls[r];s&&s.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,s)=>((r.enabled||this.disabled)&&(t[s]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((s,u)=>{r=t(r,s,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const wp=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>uE}),uE="always";function cE(n,e,t=uE){lM(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function TR(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&YO(n,e)})}(n,e),function SR(n,e){const t=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function AR(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&YO(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function DR(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function hT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function lM(n,e){const t=function VO(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(LO(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function UO(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(LO(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();hT(e._rawValidators,s),hT(e._rawAsyncValidators,s)}function YO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const NR={provide:Fs,useExisting:(0,d.Gpc)(()=>pT)},lE=(()=>Promise.resolve())();let pT=(()=>{class n extends Fs{constructor(t,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new cM({},nM(t),rM(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){lE.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),cE(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){lE.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){lE.then(()=>{const r=this._findContainer(t.path),s=new cM({});(function QO(n,e){lM(n,e)})(s,t),r.registerControl(t.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){lE.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){lE.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function JO(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(vs,10),d.Y36(Qd,10),d.Y36(wp,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,s){1&r&&d.NdJ("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([NR]),d.qOj]})}return n})();function XO(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function eP(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const tP=class extends KO{constructor(e=null,t,r){super(aM(t),uM(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cT(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=eP(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){XO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){XO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){eP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},FR={provide:Jd,useExisting:(0,d.Gpc)(()=>pM)},iP=(()=>Promise.resolve())();let pM=(()=>{class n extends Jd{constructor(t,r,s,u,l,g){super(),this._changeDetectorRef=l,this.callSetDisabledState=g,this.control=new tP,this._registered=!1,this.name="",this.update=new d.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function fM(n,e){if(!e)return null;let t,r,s;return Array.isArray(e),e.forEach(u=>{u.constructor===iT?t=u:function OR(n){return Object.getPrototypeOf(n.constructor)===_p}(u)?r=u:s=u}),s||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function hM(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){cE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){iP.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,s=0!==r&&(0,d.VuI)(r);iP.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function lT(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(Fs,9),d.Y36(vs,10),d.Y36(Qd,10),d.Y36(Gu,10),d.Y36(d.sBO,8),d.Y36(wp,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([FR]),d.qOj,d.TTD]})}return n})(),sP=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),aP=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})();const gM=new d.OlP("NgModelWithFormControlWarning");let bP=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[aP]})}return n})(),ak=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:wp,useValue:t.callSetDisabledState??uE}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[bP]})}return n})(),uk=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:gM,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:wp,useValue:t.callSetDisabledState??uE}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[bP]})}return n})();function ck(n,e){if(1&n){const t=d.EpF();d.O4$(),d.kcU(),d.TgZ(0,"form",12),d.NdJ("ngSubmit",function(){d.CHM(t);const s=d.oxw();return d.KtG(s.onLogInWithEmailAndPassword())}),d.TgZ(1,"input",13),d.NdJ("ngModelChange",function(s){d.CHM(t);const u=d.oxw();return d.KtG(u.userCred.email=s)}),d.qZA(),d.TgZ(2,"input",14),d.NdJ("ngModelChange",function(s){d.CHM(t);const u=d.oxw();return d.KtG(u.userCred.password=s)}),d.qZA(),d.TgZ(3,"button",15),d._uU(4,"Log in"),d.qZA()()}if(2&n){const t=d.oxw();d.xp6(1),d.Q6J("ngModel",t.userCred.email),d.xp6(1),d.Q6J("ngModel",t.userCred.password)}}function lk(n,e){if(1&n){const t=d.EpF();d.O4$(),d.kcU(),d.TgZ(0,"form",12),d.NdJ("ngSubmit",function(){d.CHM(t);const s=d.oxw();return d.KtG(s.onRegisterWithEmailAndPassword())}),d.TgZ(1,"input",16),d.NdJ("ngModelChange",function(s){d.CHM(t);const u=d.oxw();return d.KtG(u.userCred.fullName=s)}),d.qZA(),d.TgZ(2,"input",13),d.NdJ("ngModelChange",function(s){d.CHM(t);const u=d.oxw();return d.KtG(u.userCred.email=s)}),d.qZA(),d.TgZ(3,"input",14),d.NdJ("ngModelChange",function(s){d.CHM(t);const u=d.oxw();return d.KtG(u.userCred.password=s)}),d.qZA(),d.TgZ(4,"button",17),d._uU(5,"Register"),d.qZA()()}if(2&n){const t=d.oxw();d.xp6(1),d.Q6J("ngModel",t.userCred.fullName),d.xp6(1),d.Q6J("ngModel",t.userCred.email),d.xp6(1),d.Q6J("ngModel",t.userCred.password)}}let dk=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.userCred={fullName:"",email:"",password:""},this.isLogInFormShown=!0}ngOnInit(){}onLogInWithGoogle(){var t=this;return(0,_e.Z)(function*(){try{yield t.authService.logInWithGoogle(),t.authService.loggedInUser$.pipe(fr(1)).subscribe({next:s=>{s&&t.router.navigateByUrl("/")},error:s=>{console.error(s)}})}catch(r){console.error(r)}})()}onLogInWithEmailAndPassword(){var t=this;return(0,_e.Z)(function*(){try{yield t.authService.logInWithEmailAndPassword(t.userCred),t.authService.loggedInUser$.pipe(fr(1)).subscribe({next:r=>{r&&t.router.navigateByUrl("/")},error:r=>{console.error(r)}})}catch(r){console.error(r.message)}})()}onRegisterWithEmailAndPassword(){var t=this;return(0,_e.Z)(function*(){try{yield t.authService.registerWithEmailAndPassword(t.userCred),t.authService.loggedInUser$.pipe(fr(1)).subscribe({next:r=>{r&&t.router.navigateByUrl("/")},error:r=>{console.error(r)}})}catch(r){console.error(r.message)}})()}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(vp),d.Y36(Yr))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["login-page"]],decls:16,vars:2,consts:[[1,"login"],[1,"logo"],["aria-label","Instagram","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","29","role","img","viewBox","32 4 113 32","width","103",1,"_ab6-"],["clip-rule","evenodd","d","M37.82 4.11c-2.32.97-4.86 3.7-5.66 7.13-1.02 4.34 3.21 6.17 3.56 5.57.4-.7-.76-.94-1-3.2-.3-2.9 1.05-6.16 2.75-7.58.32-.27.3.1.3.78l-.06 14.46c0 3.1-.13 4.07-.36 5.04-.23.98-.6 1.64-.33 1.9.32.28 1.68-.4 2.46-1.5a8.13 8.13 0 0 0 1.33-4.58c.07-2.06.06-5.33.07-7.19 0-1.7.03-6.71-.03-9.72-.02-.74-2.07-1.51-3.03-1.1Zm82.13 14.48a9.42 9.42 0 0 1-.88 3.75c-.85 1.72-2.63 2.25-3.39-.22-.4-1.34-.43-3.59-.13-5.47.3-1.9 1.14-3.35 2.53-3.22 1.38.13 2.02 1.9 1.87 5.16ZM96.8 28.57c-.02 2.67-.44 5.01-1.34 5.7-1.29.96-3 .23-2.65-1.72.31-1.72 1.8-3.48 4-5.64l-.01 1.66Zm-.35-10a10.56 10.56 0 0 1-.88 3.77c-.85 1.72-2.64 2.25-3.39-.22-.5-1.69-.38-3.87-.13-5.25.33-1.78 1.12-3.44 2.53-3.44 1.38 0 2.06 1.5 1.87 5.14Zm-13.41-.02a9.54 9.54 0 0 1-.87 3.8c-.88 1.7-2.63 2.24-3.4-.23-.55-1.77-.36-4.2-.13-5.5.34-1.95 1.2-3.32 2.53-3.2 1.38.14 2.04 1.9 1.87 5.13Zm61.45 1.81c-.33 0-.49.35-.61.93-.44 2.02-.9 2.48-1.5 2.48-.66 0-1.26-1-1.42-3-.12-1.58-.1-4.48.06-7.37.03-.59-.14-1.17-1.73-1.75-.68-.25-1.68-.62-2.17.58a29.65 29.65 0 0 0-2.08 7.14c0 .06-.08.07-.1-.06-.07-.87-.26-2.46-.28-5.79 0-.65-.14-1.2-.86-1.65-.47-.3-1.88-.81-2.4-.2-.43.5-.94 1.87-1.47 3.48l-.74 2.2.01-4.88c0-.5-.34-.67-.45-.7a9.54 9.54 0 0 0-1.8-.37c-.48 0-.6.27-.6.67 0 .05-.08 4.65-.08 7.87v.46c-.27 1.48-1.14 3.49-2.09 3.49s-1.4-.84-1.4-4.68c0-2.24.07-3.21.1-4.83.02-.94.06-1.65.06-1.81-.01-.5-.87-.75-1.27-.85-.4-.09-.76-.13-1.03-.11-.4.02-.67.27-.67.62v.55a3.71 3.71 0 0 0-1.83-1.49c-1.44-.43-2.94-.05-4.07 1.53a9.31 9.31 0 0 0-1.66 4.73c-.16 1.5-.1 3.01.17 4.3-.33 1.44-.96 2.04-1.64 2.04-.99 0-1.7-1.62-1.62-4.4.06-1.84.42-3.13.82-4.99.17-.8.04-1.2-.31-1.6-.32-.37-1-.56-1.99-.33-.7.16-1.7.34-2.6.47 0 0 .05-.21.1-.6.23-2.03-1.98-1.87-2.69-1.22-.42.39-.7.84-.82 1.67-.17 1.3.9 1.91.9 1.91a22.22 22.22 0 0 1-3.4 7.23v-.7c-.01-3.36.03-6 .05-6.95.02-.94.06-1.63.06-1.8 0-.36-.22-.5-.66-.67-.4-.16-.86-.26-1.34-.3-.6-.05-.97.27-.96.65v.52a3.7 3.7 0 0 0-1.84-1.49c-1.44-.43-2.94-.05-4.07 1.53a10.1 10.1 0 0 0-1.66 4.72c-.15 1.57-.13 2.9.09 4.04-.23 1.13-.89 2.3-1.63 2.3-.95 0-1.5-.83-1.5-4.67 0-2.24.07-3.21.1-4.83.02-.94.06-1.65.06-1.81 0-.5-.87-.75-1.27-.85-.42-.1-.79-.13-1.06-.1-.37.02-.63.35-.63.6v.56a3.7 3.7 0 0 0-1.84-1.49c-1.44-.43-2.93-.04-4.07 1.53-.75 1.03-1.35 2.17-1.66 4.7a15.8 15.8 0 0 0-.12 2.04c-.3 1.81-1.61 3.9-2.68 3.9-.63 0-1.23-1.21-1.23-3.8 0-3.45.22-8.36.25-8.83l1.62-.03c.68 0 1.29.01 2.19-.04.45-.02.88-1.64.42-1.84-.21-.09-1.7-.17-2.3-.18-.5-.01-1.88-.11-1.88-.11s.13-3.26.16-3.6c.02-.3-.35-.44-.57-.53a7.77 7.77 0 0 0-1.53-.44c-.76-.15-1.1 0-1.17.64-.1.97-.15 3.82-.15 3.82-.56 0-2.47-.11-3.02-.11-.52 0-1.08 2.22-.36 2.25l3.2.09-.03 6.53v.47c-.53 2.73-2.37 4.2-2.37 4.2.4-1.8-.42-3.15-1.87-4.3-.54-.42-1.6-1.22-2.79-2.1 0 0 .69-.68 1.3-2.04.43-.96.45-2.06-.61-2.3-1.75-.41-3.2.87-3.63 2.25a2.61 2.61 0 0 0 .5 2.66l.15.19c-.4.76-.94 1.78-1.4 2.58-1.27 2.2-2.24 3.95-2.97 3.95-.58 0-.57-1.77-.57-3.43 0-1.43.1-3.58.19-5.8.03-.74-.34-1.16-.96-1.54a4.33 4.33 0 0 0-1.64-.69c-.7 0-2.7.1-4.6 5.57-.23.69-.7 1.94-.7 1.94l.04-6.57c0-.16-.08-.3-.27-.4a4.68 4.68 0 0 0-1.93-.54c-.36 0-.54.17-.54.5l-.07 10.3c0 .78.02 1.69.1 2.09.08.4.2.72.36.91.15.2.33.34.62.4.28.06 1.78.25 1.86-.32.1-.69.1-1.43.89-4.2 1.22-4.31 2.82-6.42 3.58-7.16.13-.14.28-.14.27.07l-.22 5.32c-.2 5.37.78 6.36 2.17 6.36 1.07 0 2.58-1.06 4.2-3.74l2.7-4.5 1.58 1.46c1.28 1.2 1.7 2.36 1.42 3.45-.21.83-1.02 1.7-2.44.86-.42-.25-.6-.44-1.01-.71-.23-.15-.57-.2-.78-.04-.53.4-.84.92-1.01 1.55-.17.61.45.94 1.09 1.22.55.25 1.74.47 2.5.5 2.94.1 5.3-1.42 6.94-5.34.3 3.38 1.55 5.3 3.72 5.3 1.45 0 2.91-1.88 3.55-3.72.18.75.45 1.4.8 1.96 1.68 2.65 4.93 2.07 6.56-.18.5-.69.58-.94.58-.94a3.07 3.07 0 0 0 2.94 2.87c1.1 0 2.23-.52 3.03-2.31.09.2.2.38.3.56 1.68 2.65 4.93 2.07 6.56-.18l.2-.28.05 1.4-1.5 1.37c-2.52 2.3-4.44 4.05-4.58 6.09-.18 2.6 1.93 3.56 3.53 3.69a4.5 4.5 0 0 0 4.04-2.11c.78-1.15 1.3-3.63 1.26-6.08l-.06-3.56a28.55 28.55 0 0 0 5.42-9.44s.93.01 1.92-.05c.32-.02.41.04.35.27-.07.28-1.25 4.84-.17 7.88.74 2.08 2.4 2.75 3.4 2.75 1.15 0 2.26-.87 2.85-2.17l.23.42c1.68 2.65 4.92 2.07 6.56-.18.37-.5.58-.94.58-.94.36 2.2 2.07 2.88 3.05 2.88 1.02 0 2-.42 2.78-2.28.03.82.08 1.49.16 1.7.05.13.34.3.56.37.93.34 1.88.18 2.24.11.24-.05.43-.25.46-.75.07-1.33.03-3.56.43-5.21.67-2.79 1.3-3.87 1.6-4.4.17-.3.36-.35.37-.03.01.64.04 2.52.3 5.05.2 1.86.46 2.96.65 3.3.57 1 1.27 1.05 1.83 1.05.36 0 1.12-.1 1.05-.73-.03-.31.02-2.22.7-4.96.43-1.79 1.15-3.4 1.41-4 .1-.21.15-.04.15 0-.06 1.22-.18 5.25.32 7.46.68 2.98 2.65 3.32 3.34 3.32 1.47 0 2.67-1.12 3.07-4.05.1-.7-.05-1.25-.48-1.25Z","fill","currentColor","fill-rule","evenodd"],[3,"ngSubmit",4,"ngIf"],[3,"click"],[1,"btn-google-login",3,"click"],["height","35px","viewBox","0 0 48 48","width","35px","xmlns","http://www.w3.org/2000/svg"],["d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z","fill","#FFC107"],["d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z","fill","#FF3D00"],["d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z","fill","#4CAF50"],["d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z","fill","#1976D2"],[3,"ngSubmit"],["name","email","placeholder","Enter email","type","email",3,"ngModel","ngModelChange"],["name","password","placeholder","Enter password","type","password",3,"ngModel","ngModelChange"],[1,"btn-login-with-email-password"],["name","fullName","placeholder","Enter full name","type","text",3,"ngModel","ngModelChange"],[1,"btn-register-with-email-password"]],template:function(r,s){1&r&&(d.TgZ(0,"section",0)(1,"div",1),d.O4$(),d.TgZ(2,"svg",2),d._UZ(3,"path",3),d.qZA()(),d.YNc(4,ck,5,2,"form",4),d.YNc(5,lk,6,3,"form",4),d.kcU(),d.TgZ(6,"p",5),d.NdJ("click",function(){return s.isLogInFormShown=!s.isLogInFormShown}),d._uU(7," Don't you have a user? Register here "),d.qZA(),d.TgZ(8,"button",6),d.NdJ("click",function(){return s.onLogInWithGoogle()}),d.O4$(),d.TgZ(9,"svg",7),d._UZ(10,"path",8)(11,"path",9)(12,"path",10)(13,"path",11),d.qZA(),d.kcU(),d.TgZ(14,"span"),d._uU(15,"Log in with Google"),d.qZA()()()),2&r&&(d.xp6(4),d.Q6J("ngIf",s.isLogInFormShown),d.xp6(1),d.Q6J("ngIf",!s.isLogInFormShown))},dependencies:[Ui,sP,iT,GO,zO,pM,pT],styles:["[_nghost-%COMP%]   .login[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5em}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-inline:.6em;height:3em;border:none;border-radius:.3em}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:placeholder-shown{font-style:italic}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn-login-with-email-password[_ngcontent-%COMP%]{height:2.5em;cursor:pointer;border:none;border-radius:.3em;font-size:16px;color:#222;margin-block-start:.5em}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn-login-with-email-password[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn-register-with-email-password[_ngcontent-%COMP%]{height:2.5em;cursor:pointer;border:none;border-radius:.3em;font-size:16px;color:#222;margin-block-start:.8em}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn-register-with-email-password[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{color:#b2b2b2}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   .btn-google-login[_ngcontent-%COMP%]{background-color:#f5f5f5;display:flex;align-items:center;gap:.5em;padding-inline:.8em;height:3.5em;border-radius:.4em;border:none;cursor:pointer;color:#222;margin-block-start:1.5em;font-size:16px}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   .btn-google-login[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}"]})}return n})(),hk=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["message-page"]],hostAttrs:[1,"page-cmp-layout"],decls:2,vars:0,template:function(r,s){1&r&&(d.TgZ(0,"p"),d._uU(1,"message-page works!"),d.qZA())}})}return n})(),fk=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["notification-page"]],hostAttrs:[1,"page-cmp-layout"],decls:2,vars:0,template:function(r,s){1&r&&(d.TgZ(0,"p"),d._uU(1,"notification-page works!"),d.qZA())}})}return n})(),pk=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["create-post-page"]],hostAttrs:[1,"page-cmp-layout"],decls:2,vars:0,template:function(r,s){1&r&&(d.TgZ(0,"p"),d._uU(1,"create-post-page works!"),d.qZA())}})}return n})();const dE=()=>{let n=null;return(0,d.f3M)(vp).loggedInUser$.pipe(fr(1)).subscribe({next:e=>{n=e}}),!!n||((0,d.f3M)(Yr).navigateByUrl("/login"),!1)},gk=[{path:"",component:dR,canActivate:[dE]},{path:"login",component:dk,canActivate:[()=>{let n=null;return(0,d.f3M)(vp).loggedInUser$.pipe(fr(1)).subscribe({next:e=>{n=e}}),!n||((0,d.f3M)(Yr).navigateByUrl("/"),!1)}]},{path:"message",component:hk,canActivate:[dE]},{path:"notification",component:fk,canActivate:[dE]},{path:"create-post",component:pk,canActivate:[dE]},{path:"profile",component:(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["profile"]],hostAttrs:[1,"page-cmp-layout"],decls:2,vars:0,template:function(r,s){1&r&&(d.TgZ(0,"p"),d._uU(1,"profile works!"),d.qZA())}})}return n})(),canActivate:[dE]}];let mk=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Eg.forRoot(gk,{useHash:!0}),Eg]})}return n})();function yk(n,e){1&n&&(d.O4$(),d.TgZ(0,"svg",30),d._UZ(1,"path",31),d.qZA())}function vk(n,e){1&n&&(d.O4$(),d.TgZ(0,"svg",30),d._UZ(1,"path",32),d.qZA())}function _k(n,e){if(1&n&&d._UZ(0,"img",33),2&n){const t=d.oxw(2);d.Q6J("src",t.user.user.photoURL,d.LSH)}}function wk(n,e){1&n&&(d.O4$(),d.TgZ(0,"svg",34),d._UZ(1,"path",35)(2,"circle",36),d.qZA())}function Ek(n,e){if(1&n){const t=d.EpF();d.O4$(),d.kcU(),d.TgZ(0,"div",37)(1,"ul")(2,"li",38),d.NdJ("click",function(){d.CHM(t);const s=d.oxw(2);return d.KtG(s.onLogOut())}),d._uU(3,"Log out"),d.qZA()()()}}const Ik=function(){return{exact:!0}};function Ck(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"section",1)(1,"div",2)(2,"div",3),d.O4$(),d.TgZ(3,"svg",4),d._UZ(4,"path",5),d.qZA()(),d.kcU(),d.TgZ(5,"nav")(6,"ul")(7,"li",6),d.O4$(),d.TgZ(8,"svg",7),d._UZ(9,"path",8),d.qZA()(),d.kcU(),d.TgZ(10,"li",9),d.O4$(),d.TgZ(11,"svg",10),d._UZ(12,"path",11)(13,"path",12),d.qZA()(),d.kcU(),d.TgZ(14,"li",13,14),d.YNc(16,yk,2,0,"svg",15),d.YNc(17,vk,2,0,"svg",15),d.qZA(),d.TgZ(18,"li",16),d.O4$(),d.TgZ(19,"svg",17),d._UZ(20,"path",18)(21,"line",19)(22,"line",20),d.qZA()(),d.kcU(),d.TgZ(23,"li",21),d.YNc(24,_k,1,1,"img",22),d.YNc(25,wk,3,0,"ng-template",null,23,d.W1O),d.qZA()()()(),d.TgZ(27,"div",24),d.NdJ("click",function(){d.CHM(t);const s=d.oxw();return d.KtG(s.isExtraMenuOpen=!s.isExtraMenuOpen)}),d.O4$(),d.TgZ(28,"svg",25),d._UZ(29,"line",26)(30,"line",27)(31,"line",28),d.qZA(),d.YNc(32,Ek,4,0,"div",29),d.qZA()()}if(2&n){const t=d.MAs(15),r=d.MAs(26),s=d.oxw();d.xp6(7),d.Q6J("routerLinkActiveOptions",d.DdM(6,Ik)),d.xp6(9),d.Q6J("ngIf",!t.classList.contains("active")),d.xp6(1),d.Q6J("ngIf",t.classList.contains("active")),d.xp6(7),d.Q6J("ngIf",s.user.user.photoURL)("ngIfElse",r),d.xp6(8),d.Q6J("ngIf",s.isExtraMenuOpen)}}let bk=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.isExtraMenuOpen=!1}ngOnInit(){this.userSubscription=this.authService.loggedInUser$.subscribe({next:t=>{t?this.user=t:(this.user=t,this.router.navigateByUrl("login"))}})}onLogOut(){var t=this;return(0,_e.Z)(function*(){try{yield t.authService.logOut()}catch(r){console.error(r.message)}})()}ngOnDestroy(){this.userSubscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(vp),d.Y36(Yr))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["aside-menu"]],decls:1,vars:1,consts:[["class","aside-menu",4,"ngIf"],[1,"aside-menu"],[1,"aside-menu-inner-container"],["routerLink","/","title","instagram",1,"logo"],["aria-label","Instagram","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"x1lliihq","x1n2onr6"],["d","M12 2.982c2.937 0 3.285.011 4.445.064a6.087 6.087 0 0 1 2.042.379 3.408 3.408 0 0 1 1.265.823 3.408 3.408 0 0 1 .823 1.265 6.087 6.087 0 0 1 .379 2.042c.053 1.16.064 1.508.064 4.445s-.011 3.285-.064 4.445a6.087 6.087 0 0 1-.379 2.042 3.643 3.643 0 0 1-2.088 2.088 6.087 6.087 0 0 1-2.042.379c-1.16.053-1.508.064-4.445.064s-3.285-.011-4.445-.064a6.087 6.087 0 0 1-2.043-.379 3.408 3.408 0 0 1-1.264-.823 3.408 3.408 0 0 1-.823-1.265 6.087 6.087 0 0 1-.379-2.042c-.053-1.16-.064-1.508-.064-4.445s.011-3.285.064-4.445a6.087 6.087 0 0 1 .379-2.042 3.408 3.408 0 0 1 .823-1.265 3.408 3.408 0 0 1 1.265-.823 6.087 6.087 0 0 1 2.042-.379c1.16-.053 1.508-.064 4.445-.064M12 1c-2.987 0-3.362.013-4.535.066a8.074 8.074 0 0 0-2.67.511 5.392 5.392 0 0 0-1.949 1.27 5.392 5.392 0 0 0-1.269 1.948 8.074 8.074 0 0 0-.51 2.67C1.012 8.638 1 9.013 1 12s.013 3.362.066 4.535a8.074 8.074 0 0 0 .511 2.67 5.392 5.392 0 0 0 1.27 1.949 5.392 5.392 0 0 0 1.948 1.269 8.074 8.074 0 0 0 2.67.51C8.638 22.988 9.013 23 12 23s3.362-.013 4.535-.066a8.074 8.074 0 0 0 2.67-.511 5.625 5.625 0 0 0 3.218-3.218 8.074 8.074 0 0 0 .51-2.67C22.988 15.362 23 14.987 23 12s-.013-3.362-.066-4.535a8.074 8.074 0 0 0-.511-2.67 5.392 5.392 0 0 0-1.27-1.949 5.392 5.392 0 0 0-1.948-1.269 8.074 8.074 0 0 0-2.67-.51C15.362 1.012 14.987 1 12 1Zm0 5.351A5.649 5.649 0 1 0 17.649 12 5.649 5.649 0 0 0 12 6.351Zm0 9.316A3.667 3.667 0 1 1 15.667 12 3.667 3.667 0 0 1 12 15.667Zm5.872-10.859a1.32 1.32 0 1 0 1.32 1.32 1.32 1.32 0 0 0-1.32-1.32Z"],["routerLink","/","routerLinkActive","active","title","Home",1,"home",3,"routerLinkActiveOptions"],["aria-label","Home","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_ab6-"],["d","M9.005 16.545a2.997 2.997 0 0 1 2.997-2.997A2.997 2.997 0 0 1 15 16.545V22h7V11.543L12 2 2 11.543V22h7.005Z","fill","none","stroke","currentColor","stroke-linejoin","round","stroke-width","2"],["routerLink","/message","routerLinkActive","active","title","Messages",1,"messages"],["aria-label","Messenger","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_ab6-"],["d","M12.003 2.001a9.705 9.705 0 1 1 0 19.4 10.876 10.876 0 0 1-2.895-.384.798.798 0 0 0-.533.04l-1.984.876a.801.801 0 0 1-1.123-.708l-.054-1.78a.806.806 0 0 0-.27-.569 9.49 9.49 0 0 1-3.14-7.175 9.65 9.65 0 0 1 10-9.7Z","fill","none","stroke","currentColor","stroke-miterlimit","10","stroke-width","1.739"],["d","M17.79 10.132a.659.659 0 0 0-.962-.873l-2.556 2.05a.63.63 0 0 1-.758.002L11.06 9.47a1.576 1.576 0 0 0-2.277.42l-2.567 3.98a.659.659 0 0 0 .961.875l2.556-2.049a.63.63 0 0 1 .759-.002l2.452 1.84a1.576 1.576 0 0 0 2.278-.42Z","fill-rule","evenodd"],["routerLink","/notification","routerLinkActive","active","title","Notifications",1,"notifications"],["notifications",""],["aria-label","Notifications","class","x1lliihq x1n2onr6","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",4,"ngIf"],["routerLink","/create-post","routerLinkActive","active","title","Create",1,"create-post"],["aria-label","New post","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_ab6-"],["d","M2 12v3.45c0 2.849.698 4.005 1.606 4.944.94.909 2.098 1.608 4.946 1.608h6.896c2.848 0 4.006-.7 4.946-1.608C21.302 19.455 22 18.3 22 15.45V8.552c0-2.849-.698-4.006-1.606-4.945C19.454 2.7 18.296 2 15.448 2H8.552c-2.848 0-4.006.699-4.946 1.607C2.698 4.547 2 5.703 2 8.552Z","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","6.545","x2","17.455","y1","12.001","y2","12.001"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","12.003","x2","12.003","y1","6.545","y2","17.455"],["routerLink","/profile","routerLinkActive","active","title","Profile",1,"profile"],["alt","user",3,"src",4,"ngIf","ngIfElse"],["profile",""],["title","More",1,"extra-menu",3,"click"],["aria-label","Settings","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_ab6-"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","3","x2","21","y1","4","y2","4"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","3","x2","21","y1","12","y2","12"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","3","x2","21","y1","20","y2","20"],["class","extra-menu-modal",4,"ngIf"],["aria-label","Notifications","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"x1lliihq","x1n2onr6"],["d","M16.792 3.904A4.989 4.989 0 0 1 21.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 0 1 4.708-5.218 4.21 4.21 0 0 1 3.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 0 1 3.679-1.938m0-2a6.04 6.04 0 0 0-4.797 2.127 6.052 6.052 0 0 0-4.787-2.127A6.985 6.985 0 0 0 .5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 0 0 3.518 3.018 2 2 0 0 0 2.174 0 45.263 45.263 0 0 0 3.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 0 0-6.708-7.218Z"],["d","M17.075 1.987a5.852 5.852 0 0 0-5.07 2.66l-.008.012-.01-.014a5.878 5.878 0 0 0-5.062-2.658A6.719 6.719 0 0 0 .5 8.952c0 3.514 2.581 5.757 5.077 7.927.302.262.607.527.91.797l1.089.973c2.112 1.89 3.149 2.813 3.642 3.133a1.438 1.438 0 0 0 1.564 0c.472-.306 1.334-1.07 3.755-3.234l.978-.874c.314-.28.631-.555.945-.827 2.478-2.15 5.04-4.372 5.04-7.895a6.719 6.719 0 0 0-6.425-6.965Z"],["alt","user",3,"src"],["color","white","fill","none","height","24px","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","viewBox","0 0 24 24","width","24px","xmlns","http://www.w3.org/2000/svg",1,"feather","feather-user"],["d","M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],[1,"extra-menu-modal"],[1,"log-out",3,"click"]],template:function(r,s){1&r&&d.YNc(0,Ck,33,7,"section",0),2&r&&d.Q6J("ngIf",s.user&&s.user.user)},dependencies:[Ui,wg,Kh],styles:["[_nghost-%COMP%]{position:relative;grid-column:1;width:75px;display:none}@media (min-width: 600px){[_nghost-%COMP%]{display:block}}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]{height:100vh;position:sticky;top:0;left:0;display:flex;flex-direction:column;justify-content:space-between;align-items:center;border-inline-end:1px solid rgba(245,245,245,.19);padding-block:1.5em;width:100%}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:3.5em;width:100%}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:center;align-items:center;padding:.8em;border-radius:.4em}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]:hover{background-color:#e5e5e51c}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1em;width:100%}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;padding:.8em;display:flex;border-radius:.4em;justify-content:center;align-items:center;width:70%}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-child(1){fill:#f5f5f5}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-child(2){fill:#000}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   line[_ngcontent-%COMP%]{stroke:#000}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.profile.active[_ngcontent-%COMP%]{border:1px solid rgba(245,245,245,.46)}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e5e5e51c}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .extra-menu[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:center;align-items:center;padding:.8em;border-radius:.4em;position:relative}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .extra-menu[_ngcontent-%COMP%]:hover{background-color:#e5e5e51c}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .extra-menu[_ngcontent-%COMP%]   .extra-menu-modal[_ngcontent-%COMP%]{background-color:#343434;color:#f5f5f5;padding:.5em;border-radius:1em;position:absolute;bottom:0;left:55px;width:250px}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .extra-menu[_ngcontent-%COMP%]   .extra-menu-modal[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.4em;border-radius:.4em}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .extra-menu[_ngcontent-%COMP%]   .extra-menu-modal[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e5e5e51c}"]})}return n})();function Dk(n,e){1&n&&(d.O4$(),d.TgZ(0,"svg",27),d._UZ(1,"path",28),d.qZA())}function Tk(n,e){1&n&&(d.O4$(),d.TgZ(0,"svg",27),d._UZ(1,"path",29),d.qZA())}function Ak(n,e){if(1&n&&d._UZ(0,"img",30),2&n){const t=d.oxw(2);d.Q6J("src",t.user.user.photoURL,d.LSH)}}function Sk(n,e){1&n&&(d.O4$(),d.TgZ(0,"svg",31),d._UZ(1,"path",32)(2,"circle",33),d.qZA())}function Mk(n,e){if(1&n){const t=d.EpF();d.O4$(),d.kcU(),d.TgZ(0,"div",34)(1,"ul")(2,"li",35),d.NdJ("click",function(){d.CHM(t);const s=d.oxw(2);return d.KtG(s.onLogOut())}),d._uU(3,"Log out"),d.qZA()()()}}const xk=function(){return{exact:!0}};function Ok(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"section",1)(1,"div",2)(2,"nav")(3,"ul")(4,"li",3),d.O4$(),d.TgZ(5,"svg",4),d._UZ(6,"path",5),d.qZA()(),d.kcU(),d.TgZ(7,"li",6),d.O4$(),d.TgZ(8,"svg",7),d._UZ(9,"path",8)(10,"path",9),d.qZA()(),d.kcU(),d.TgZ(11,"li",10,11),d.YNc(13,Dk,2,0,"svg",12),d.YNc(14,Tk,2,0,"svg",12),d.qZA(),d.TgZ(15,"li",13),d.O4$(),d.TgZ(16,"svg",14),d._UZ(17,"path",15)(18,"line",16)(19,"line",17),d.qZA()(),d.kcU(),d.TgZ(20,"li",18),d.YNc(21,Ak,1,1,"img",19),d.YNc(22,Sk,3,0,"ng-template",null,20,d.W1O),d.qZA(),d.TgZ(24,"li",21),d.NdJ("click",function(){d.CHM(t);const s=d.oxw();return d.KtG(s.isExtraMenuOpen=!s.isExtraMenuOpen)}),d.O4$(),d.TgZ(25,"svg",22),d._UZ(26,"line",23)(27,"line",24)(28,"line",25),d.qZA(),d.YNc(29,Mk,4,0,"div",26),d.qZA()()()()()}if(2&n){const t=d.MAs(12),r=d.MAs(23),s=d.oxw();d.xp6(4),d.Q6J("routerLinkActiveOptions",d.DdM(6,xk)),d.xp6(9),d.Q6J("ngIf",!t.classList.contains("active")),d.xp6(1),d.Q6J("ngIf",t.classList.contains("active")),d.xp6(7),d.Q6J("ngIf",s.user.user.photoURL)("ngIfElse",r),d.xp6(8),d.Q6J("ngIf",s.isExtraMenuOpen)}}let Pk=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.isExtraMenuOpen=!1}ngOnInit(){this.userSubscription=this.authService.loggedInUser$.subscribe({next:t=>{t?this.user=t:(this.user=t,this.router.navigateByUrl("login"))}})}onLogOut(){var t=this;return(0,_e.Z)(function*(){try{yield t.authService.logOut()}catch(r){console.error(r.message)}})()}ngOnDestroy(){this.userSubscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(vp),d.Y36(Yr))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["menu-mobile"]],decls:1,vars:1,consts:[["class","menu-mobile",4,"ngIf"],[1,"menu-mobile"],[1,"menu-mobile-inner-container"],["routerLink","/","routerLinkActive","active","title","Home",1,"home",3,"routerLinkActiveOptions"],["aria-label","Home","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_ab6-"],["d","M9.005 16.545a2.997 2.997 0 0 1 2.997-2.997A2.997 2.997 0 0 1 15 16.545V22h7V11.543L12 2 2 11.543V22h7.005Z","fill","none","stroke","currentColor","stroke-linejoin","round","stroke-width","2"],["routerLink","/message","routerLinkActive","active","title","Messages",1,"messages"],["aria-label","Messenger","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_ab6-"],["d","M12.003 2.001a9.705 9.705 0 1 1 0 19.4 10.876 10.876 0 0 1-2.895-.384.798.798 0 0 0-.533.04l-1.984.876a.801.801 0 0 1-1.123-.708l-.054-1.78a.806.806 0 0 0-.27-.569 9.49 9.49 0 0 1-3.14-7.175 9.65 9.65 0 0 1 10-9.7Z","fill","none","stroke","currentColor","stroke-miterlimit","10","stroke-width","1.739"],["d","M17.79 10.132a.659.659 0 0 0-.962-.873l-2.556 2.05a.63.63 0 0 1-.758.002L11.06 9.47a1.576 1.576 0 0 0-2.277.42l-2.567 3.98a.659.659 0 0 0 .961.875l2.556-2.049a.63.63 0 0 1 .759-.002l2.452 1.84a1.576 1.576 0 0 0 2.278-.42Z","fill-rule","evenodd"],["routerLink","/notification","routerLinkActive","active","title","Notifications",1,"notifications"],["notifications",""],["aria-label","Notifications","class","x1lliihq x1n2onr6","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",4,"ngIf"],["routerLink","/create-post","routerLinkActive","active","title","Create",1,"create-post"],["aria-label","New post","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_ab6-"],["d","M2 12v3.45c0 2.849.698 4.005 1.606 4.944.94.909 2.098 1.608 4.946 1.608h6.896c2.848 0 4.006-.7 4.946-1.608C21.302 19.455 22 18.3 22 15.45V8.552c0-2.849-.698-4.006-1.606-4.945C19.454 2.7 18.296 2 15.448 2H8.552c-2.848 0-4.006.699-4.946 1.607C2.698 4.547 2 5.703 2 8.552Z","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","6.545","x2","17.455","y1","12.001","y2","12.001"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","12.003","x2","12.003","y1","6.545","y2","17.455"],["routerLink","/profile","routerLinkActive","active","title","Profile",1,"profile"],["alt","user",3,"src",4,"ngIf","ngIfElse"],["profile",""],["title","More",1,"extra-menu",3,"click"],["aria-label","Settings","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_ab6-"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","3","x2","21","y1","4","y2","4"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","3","x2","21","y1","12","y2","12"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","3","x2","21","y1","20","y2","20"],["class","extra-menu-modal",4,"ngIf"],["aria-label","Notifications","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"x1lliihq","x1n2onr6"],["d","M16.792 3.904A4.989 4.989 0 0 1 21.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 0 1 4.708-5.218 4.21 4.21 0 0 1 3.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 0 1 3.679-1.938m0-2a6.04 6.04 0 0 0-4.797 2.127 6.052 6.052 0 0 0-4.787-2.127A6.985 6.985 0 0 0 .5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 0 0 3.518 3.018 2 2 0 0 0 2.174 0 45.263 45.263 0 0 0 3.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 0 0-6.708-7.218Z"],["d","M17.075 1.987a5.852 5.852 0 0 0-5.07 2.66l-.008.012-.01-.014a5.878 5.878 0 0 0-5.062-2.658A6.719 6.719 0 0 0 .5 8.952c0 3.514 2.581 5.757 5.077 7.927.302.262.607.527.91.797l1.089.973c2.112 1.89 3.149 2.813 3.642 3.133a1.438 1.438 0 0 0 1.564 0c.472-.306 1.334-1.07 3.755-3.234l.978-.874c.314-.28.631-.555.945-.827 2.478-2.15 5.04-4.372 5.04-7.895a6.719 6.719 0 0 0-6.425-6.965Z"],["alt","user",3,"src"],["color","white","fill","none","height","24px","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","viewBox","0 0 24 24","width","24px","xmlns","http://www.w3.org/2000/svg",1,"feather","feather-user"],["d","M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],[1,"extra-menu-modal"],[1,"log-out",3,"click"]],template:function(r,s){1&r&&d.YNc(0,Ok,30,7,"section",0),2&r&&d.Q6J("ngIf",s.user&&s.user.user)},dependencies:[Ui,wg,Kh],styles:["[_nghost-%COMP%]{position:sticky;bottom:0;z-index:99;grid-column:1/-1;height:60px;width:100%;background-color:#000;display:grid;grid-template-columns:25px 1fr 25px;align-items:center;border-block-start:1px solid rgba(255,255,255,.24)}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{grid-column:2}@media (min-width: 600px){[_nghost-%COMP%]{display:none}}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;width:30px;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-child(1){fill:#fff}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-child(2){fill:#000}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   line[_ngcontent-%COMP%]{stroke:#000}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.profile.active[_ngcontent-%COMP%]{border:2px solid rgba(255,255,255,.66);border-radius:50%}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.extra-menu[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.extra-menu[_ngcontent-%COMP%]   .extra-menu-modal[_ngcontent-%COMP%]{position:absolute;bottom:50px;right:10px;z-index:98;background-color:#5b5b5b;width:200px;border-radius:.4em;padding-block:.5em;color:#f5f5f5;font-size:18px;font-weight:400}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.extra-menu[_ngcontent-%COMP%]   .extra-menu-modal[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;flex-direction:column;gap:1em}"]})}return n})(),Nk=(()=>{class n{constructor(t){this.router=t}onClickLogo(){this.router.navigateByUrl("/")}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(Yr))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-header-mobile"]],decls:4,vars:0,consts:[[1,"app-header-mobile"],[1,"logo",3,"click"],["aria-label","Instagram","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","29","role","img","viewBox","32 4 113 32","width","103",1,"_ab6-"],["clip-rule","evenodd","d","M37.82 4.11c-2.32.97-4.86 3.7-5.66 7.13-1.02 4.34 3.21 6.17 3.56 5.57.4-.7-.76-.94-1-3.2-.3-2.9 1.05-6.16 2.75-7.58.32-.27.3.1.3.78l-.06 14.46c0 3.1-.13 4.07-.36 5.04-.23.98-.6 1.64-.33 1.9.32.28 1.68-.4 2.46-1.5a8.13 8.13 0 0 0 1.33-4.58c.07-2.06.06-5.33.07-7.19 0-1.7.03-6.71-.03-9.72-.02-.74-2.07-1.51-3.03-1.1Zm82.13 14.48a9.42 9.42 0 0 1-.88 3.75c-.85 1.72-2.63 2.25-3.39-.22-.4-1.34-.43-3.59-.13-5.47.3-1.9 1.14-3.35 2.53-3.22 1.38.13 2.02 1.9 1.87 5.16ZM96.8 28.57c-.02 2.67-.44 5.01-1.34 5.7-1.29.96-3 .23-2.65-1.72.31-1.72 1.8-3.48 4-5.64l-.01 1.66Zm-.35-10a10.56 10.56 0 0 1-.88 3.77c-.85 1.72-2.64 2.25-3.39-.22-.5-1.69-.38-3.87-.13-5.25.33-1.78 1.12-3.44 2.53-3.44 1.38 0 2.06 1.5 1.87 5.14Zm-13.41-.02a9.54 9.54 0 0 1-.87 3.8c-.88 1.7-2.63 2.24-3.4-.23-.55-1.77-.36-4.2-.13-5.5.34-1.95 1.2-3.32 2.53-3.2 1.38.14 2.04 1.9 1.87 5.13Zm61.45 1.81c-.33 0-.49.35-.61.93-.44 2.02-.9 2.48-1.5 2.48-.66 0-1.26-1-1.42-3-.12-1.58-.1-4.48.06-7.37.03-.59-.14-1.17-1.73-1.75-.68-.25-1.68-.62-2.17.58a29.65 29.65 0 0 0-2.08 7.14c0 .06-.08.07-.1-.06-.07-.87-.26-2.46-.28-5.79 0-.65-.14-1.2-.86-1.65-.47-.3-1.88-.81-2.4-.2-.43.5-.94 1.87-1.47 3.48l-.74 2.2.01-4.88c0-.5-.34-.67-.45-.7a9.54 9.54 0 0 0-1.8-.37c-.48 0-.6.27-.6.67 0 .05-.08 4.65-.08 7.87v.46c-.27 1.48-1.14 3.49-2.09 3.49s-1.4-.84-1.4-4.68c0-2.24.07-3.21.1-4.83.02-.94.06-1.65.06-1.81-.01-.5-.87-.75-1.27-.85-.4-.09-.76-.13-1.03-.11-.4.02-.67.27-.67.62v.55a3.71 3.71 0 0 0-1.83-1.49c-1.44-.43-2.94-.05-4.07 1.53a9.31 9.31 0 0 0-1.66 4.73c-.16 1.5-.1 3.01.17 4.3-.33 1.44-.96 2.04-1.64 2.04-.99 0-1.7-1.62-1.62-4.4.06-1.84.42-3.13.82-4.99.17-.8.04-1.2-.31-1.6-.32-.37-1-.56-1.99-.33-.7.16-1.7.34-2.6.47 0 0 .05-.21.1-.6.23-2.03-1.98-1.87-2.69-1.22-.42.39-.7.84-.82 1.67-.17 1.3.9 1.91.9 1.91a22.22 22.22 0 0 1-3.4 7.23v-.7c-.01-3.36.03-6 .05-6.95.02-.94.06-1.63.06-1.8 0-.36-.22-.5-.66-.67-.4-.16-.86-.26-1.34-.3-.6-.05-.97.27-.96.65v.52a3.7 3.7 0 0 0-1.84-1.49c-1.44-.43-2.94-.05-4.07 1.53a10.1 10.1 0 0 0-1.66 4.72c-.15 1.57-.13 2.9.09 4.04-.23 1.13-.89 2.3-1.63 2.3-.95 0-1.5-.83-1.5-4.67 0-2.24.07-3.21.1-4.83.02-.94.06-1.65.06-1.81 0-.5-.87-.75-1.27-.85-.42-.1-.79-.13-1.06-.1-.37.02-.63.35-.63.6v.56a3.7 3.7 0 0 0-1.84-1.49c-1.44-.43-2.93-.04-4.07 1.53-.75 1.03-1.35 2.17-1.66 4.7a15.8 15.8 0 0 0-.12 2.04c-.3 1.81-1.61 3.9-2.68 3.9-.63 0-1.23-1.21-1.23-3.8 0-3.45.22-8.36.25-8.83l1.62-.03c.68 0 1.29.01 2.19-.04.45-.02.88-1.64.42-1.84-.21-.09-1.7-.17-2.3-.18-.5-.01-1.88-.11-1.88-.11s.13-3.26.16-3.6c.02-.3-.35-.44-.57-.53a7.77 7.77 0 0 0-1.53-.44c-.76-.15-1.1 0-1.17.64-.1.97-.15 3.82-.15 3.82-.56 0-2.47-.11-3.02-.11-.52 0-1.08 2.22-.36 2.25l3.2.09-.03 6.53v.47c-.53 2.73-2.37 4.2-2.37 4.2.4-1.8-.42-3.15-1.87-4.3-.54-.42-1.6-1.22-2.79-2.1 0 0 .69-.68 1.3-2.04.43-.96.45-2.06-.61-2.3-1.75-.41-3.2.87-3.63 2.25a2.61 2.61 0 0 0 .5 2.66l.15.19c-.4.76-.94 1.78-1.4 2.58-1.27 2.2-2.24 3.95-2.97 3.95-.58 0-.57-1.77-.57-3.43 0-1.43.1-3.58.19-5.8.03-.74-.34-1.16-.96-1.54a4.33 4.33 0 0 0-1.64-.69c-.7 0-2.7.1-4.6 5.57-.23.69-.7 1.94-.7 1.94l.04-6.57c0-.16-.08-.3-.27-.4a4.68 4.68 0 0 0-1.93-.54c-.36 0-.54.17-.54.5l-.07 10.3c0 .78.02 1.69.1 2.09.08.4.2.72.36.91.15.2.33.34.62.4.28.06 1.78.25 1.86-.32.1-.69.1-1.43.89-4.2 1.22-4.31 2.82-6.42 3.58-7.16.13-.14.28-.14.27.07l-.22 5.32c-.2 5.37.78 6.36 2.17 6.36 1.07 0 2.58-1.06 4.2-3.74l2.7-4.5 1.58 1.46c1.28 1.2 1.7 2.36 1.42 3.45-.21.83-1.02 1.7-2.44.86-.42-.25-.6-.44-1.01-.71-.23-.15-.57-.2-.78-.04-.53.4-.84.92-1.01 1.55-.17.61.45.94 1.09 1.22.55.25 1.74.47 2.5.5 2.94.1 5.3-1.42 6.94-5.34.3 3.38 1.55 5.3 3.72 5.3 1.45 0 2.91-1.88 3.55-3.72.18.75.45 1.4.8 1.96 1.68 2.65 4.93 2.07 6.56-.18.5-.69.58-.94.58-.94a3.07 3.07 0 0 0 2.94 2.87c1.1 0 2.23-.52 3.03-2.31.09.2.2.38.3.56 1.68 2.65 4.93 2.07 6.56-.18l.2-.28.05 1.4-1.5 1.37c-2.52 2.3-4.44 4.05-4.58 6.09-.18 2.6 1.93 3.56 3.53 3.69a4.5 4.5 0 0 0 4.04-2.11c.78-1.15 1.3-3.63 1.26-6.08l-.06-3.56a28.55 28.55 0 0 0 5.42-9.44s.93.01 1.92-.05c.32-.02.41.04.35.27-.07.28-1.25 4.84-.17 7.88.74 2.08 2.4 2.75 3.4 2.75 1.15 0 2.26-.87 2.85-2.17l.23.42c1.68 2.65 4.92 2.07 6.56-.18.37-.5.58-.94.58-.94.36 2.2 2.07 2.88 3.05 2.88 1.02 0 2-.42 2.78-2.28.03.82.08 1.49.16 1.7.05.13.34.3.56.37.93.34 1.88.18 2.24.11.24-.05.43-.25.46-.75.07-1.33.03-3.56.43-5.21.67-2.79 1.3-3.87 1.6-4.4.17-.3.36-.35.37-.03.01.64.04 2.52.3 5.05.2 1.86.46 2.96.65 3.3.57 1 1.27 1.05 1.83 1.05.36 0 1.12-.1 1.05-.73-.03-.31.02-2.22.7-4.96.43-1.79 1.15-3.4 1.41-4 .1-.21.15-.04.15 0-.06 1.22-.18 5.25.32 7.46.68 2.98 2.65 3.32 3.34 3.32 1.47 0 2.67-1.12 3.07-4.05.1-.7-.05-1.25-.48-1.25Z","fill","currentColor","fill-rule","evenodd"]],template:function(r,s){1&r&&(d.TgZ(0,"header",0)(1,"div",1),d.NdJ("click",function(){return s.onClickLogo()}),d.O4$(),d.TgZ(2,"svg",2),d._UZ(3,"path",3),d.qZA()()())},styles:["[_nghost-%COMP%]{grid-column:1/-1;display:grid;grid-template-columns:25px 1fr 25px;position:sticky;z-index:99;top:0;border-block-end:1px solid rgba(255,255,255,.27);background-color:#000}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{grid-column:2}@media (min-width: 600px){[_nghost-%COMP%]{display:none}}[_nghost-%COMP%]   .app-header-mobile[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:60px}[_nghost-%COMP%]   .app-header-mobile[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}"]})}return n})();function Rk(n,e){1&n&&d._UZ(0,"router-outlet")}function kk(n,e){1&n&&d._UZ(0,"app-header-mobile")}function Fk(n,e){1&n&&d._UZ(0,"aside-menu")}function Lk(n,e){1&n&&(d.TgZ(0,"main",2),d._UZ(1,"router-outlet"),d.qZA())}function Vk(n,e){1&n&&d._UZ(0,"menu-mobile")}let Uk=(()=>{class n{constructor(t,r){this.router=t,this.postService=r,this.routerUrl=this.router.url}ngOnInit(){this.routerUrlSubscription=this.router.events.subscribe(t=>{t instanceof ao&&(this.routerUrl=this.router.url)}),this.postService.getPosts().pipe(fr(1)).subscribe({next:t=>{console.log("posts",t)},error:t=>{console.error(t.message)}})}ngOnDestroy(){this.routerUrlSubscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(Yr),d.Y36(tM))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:6,vars:7,consts:[[4,"ngIf"],["class","main-layout",4,"ngIf"],[1,"main-layout"]],template:function(r,s){1&r&&(d.TgZ(0,"section"),d.YNc(1,Rk,1,0,"router-outlet",0),d.YNc(2,kk,1,0,"app-header-mobile",0),d.YNc(3,Fk,1,0,"aside-menu",0),d.YNc(4,Lk,2,0,"main",1),d.YNc(5,Vk,1,0,"menu-mobile",0),d.qZA()),2&r&&(d.Tol("/login"===s.routerUrl?"main-app login-layout":"main-app app-layout"),d.xp6(1),d.Q6J("ngIf","/login"===s.routerUrl),d.xp6(1),d.Q6J("ngIf","/login"!==s.routerUrl),d.xp6(1),d.Q6J("ngIf","/login"!==s.routerUrl),d.xp6(1),d.Q6J("ngIf","/login"!==s.routerUrl),d.xp6(1),d.Q6J("ngIf","/login"!==s.routerUrl))},dependencies:[Ui,kh,bk,Pk,Nk]})}return n})();class gT{}class mT{}class zu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const s=t.slice(0,r),u=s.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(s,u),this.headers.has(u)?this.headers.get(u).push(l):this.headers.set(u,[l])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof zu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new zu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof zu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const s=("a"===e.op?this.headers.get(t):void 0)||[];s.push(...r),this.headers.set(t,s);break;case"d":const u=e.value;if(u){let l=this.headers.get(t);if(!l)return;l=l.filter(g=>-1===u.indexOf(g)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(u=>u.toString()),s=e.toLowerCase();this.headers.set(s,r),this.maybeSetNormalizedName(e,s)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Bk{encodeKey(e){return DP(e)}encodeValue(e){return DP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const $k=/%(\d[a-f0-9])/gi,Hk={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function DP(n){return encodeURIComponent(n).replace($k,(e,t)=>Hk[t]??e)}function yT(n){return`${n}`}class Xd{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Bk,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function jk(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const u=s.indexOf("="),[l,g]=-1==u?[e.decodeKey(s),""]:[e.decodeKey(s.slice(0,u)),e.decodeValue(s.slice(u+1))],v=t.get(l)||[];v.push(g),t.set(l,v)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],s=Array.isArray(r)?r.map(yT):[yT(r)];this.map.set(t,s)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const s=e[r];Array.isArray(s)?s.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:s,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Xd({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(yT(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const s=r.indexOf(yT(e.value));-1!==s&&r.splice(s,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Gk{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function TP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function AP(n){return typeof Blob<"u"&&n instanceof Blob}function SP(n){return typeof FormData<"u"&&n instanceof FormData}class hE{constructor(e,t,r,s){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function zk(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==r?r:null,u=s):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new zu),this.context||(this.context=new Gk),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const g=t.indexOf("?");this.urlWithParams=t+(-1===g?"?":g<t.length-1?"&":"")+l}}else this.params=new Xd,this.urlWithParams=t}serializeBody(){return null===this.body?null:TP(this.body)||AP(this.body)||SP(this.body)||function qk(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||SP(this.body)?null:AP(this.body)?this.body.type||null:TP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,g=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let v=e.headers||this.headers,C=e.params||this.params;const D=e.context??this.context;return void 0!==e.setHeaders&&(v=Object.keys(e.setHeaders).reduce((x,z)=>x.set(z,e.setHeaders[z]),v)),e.setParams&&(C=Object.keys(e.setParams).reduce((x,z)=>x.set(z,e.setParams[z]),C)),new hE(t,r,u,{params:C,headers:v,context:D,reportProgress:g,responseType:s,withCredentials:l})}}var Py=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Py||{});class IM{constructor(e,t=200,r="OK"){this.headers=e.headers||new zu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class CM extends IM{constructor(e={}){super(e),this.type=Py.ResponseHeader}clone(e={}){return new CM({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ny extends IM{constructor(e={}){super(e),this.type=Py.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Ny({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class MP extends IM{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function bM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Zk=(()=>{class n{constructor(t){this.handler=t}request(t,r,s={}){let u;if(t instanceof hE)u=t;else{let v,C;v=s.headers instanceof zu?s.headers:new zu(s.headers),s.params&&(C=s.params instanceof Xd?s.params:new Xd({fromObject:s.params})),u=new hE(t,r,void 0!==s.body?s.body:null,{headers:v,context:s.context,params:C,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const l=(0,Pt.of)(u).pipe(ko(v=>this.handler.handle(v)));if(t instanceof hE||"events"===s.observe)return l;const g=l.pipe(li(v=>v instanceof Ny));switch(s.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return g.pipe((0,Qt.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return g.pipe((0,Qt.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return g.pipe((0,Qt.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return g.pipe((0,Qt.U)(v=>v.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Xd).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,s={}){return this.request("PATCH",t,bM(s,r))}post(t,r,s={}){return this.request("POST",t,bM(s,r))}put(t,r,s={}){return this.request("PUT",t,bM(s,r))}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(gT))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();function PP(n,e){return e(n)}function Kk(n,e){return(t,r)=>e.intercept(t,{handle:s=>n(s,r)})}const Qk=new d.OlP(""),fE=new d.OlP(""),NP=new d.OlP("");function Jk(){let n=null;return(e,t)=>{null===n&&(n=((0,d.f3M)(Qk,{optional:!0})??[]).reduceRight(Kk,PP));const r=(0,d.f3M)(d.HDt),s=r.add();return n(e,t).pipe(ru(()=>r.remove(s)))}}let RP=(()=>{class n extends gT{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=(0,d.f3M)(d.HDt)}handle(t){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(fE),...this.injector.get(NP,[])]));this.chain=s.reduceRight((u,l)=>function Yk(n,e,t){return(r,s)=>t.runInContext(()=>e(r,u=>n(u,s)))}(u,l,this.injector),PP)}const r=this.pendingTasks.add();return this.chain(t,s=>this.backend.handle(s)).pipe(ru(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(mT),d.LFG(d.lqb))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const nF=/^\)\]\}',?\n/;let FP=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new d.vHH(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?(0,Xn.D)(r.\u0275loadImpl()):(0,Pt.of)(null)).pipe((0,Hn.w)(()=>new Di.y(u=>{const l=r.build();if(l.open(t.method,t.urlWithParams),t.withCredentials&&(l.withCredentials=!0),t.headers.forEach((Fe,Ve)=>l.setRequestHeader(Fe,Ve.join(","))),t.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const Fe=t.detectContentTypeHeader();null!==Fe&&l.setRequestHeader("Content-Type",Fe)}if(t.responseType){const Fe=t.responseType.toLowerCase();l.responseType="json"!==Fe?Fe:"text"}const g=t.serializeBody();let v=null;const C=()=>{if(null!==v)return v;const Fe=l.statusText||"OK",Ve=new zu(l.getAllResponseHeaders()),It=function rF(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(l)||t.url;return v=new CM({headers:Ve,status:l.status,statusText:Fe,url:It}),v},D=()=>{let{headers:Fe,status:Ve,statusText:It,url:Ut}=C(),_t=null;204!==Ve&&(_t=typeof l.response>"u"?l.responseText:l.response),0===Ve&&(Ve=_t?200:0);let $t=Ve>=200&&Ve<300;if("json"===t.responseType&&"string"==typeof _t){const un=_t;_t=_t.replace(nF,"");try{_t=""!==_t?JSON.parse(_t):null}catch(Sn){_t=un,$t&&($t=!1,_t={error:Sn,text:_t})}}$t?(u.next(new Ny({body:_t,headers:Fe,status:Ve,statusText:It,url:Ut||void 0})),u.complete()):u.error(new MP({error:_t,headers:Fe,status:Ve,statusText:It,url:Ut||void 0}))},x=Fe=>{const{url:Ve}=C(),It=new MP({error:Fe,status:l.status||0,statusText:l.statusText||"Unknown Error",url:Ve||void 0});u.error(It)};let z=!1;const J=Fe=>{z||(u.next(C()),z=!0);let Ve={type:Py.DownloadProgress,loaded:Fe.loaded};Fe.lengthComputable&&(Ve.total=Fe.total),"text"===t.responseType&&l.responseText&&(Ve.partialText=l.responseText),u.next(Ve)},Ce=Fe=>{let Ve={type:Py.UploadProgress,loaded:Fe.loaded};Fe.lengthComputable&&(Ve.total=Fe.total),u.next(Ve)};return l.addEventListener("load",D),l.addEventListener("error",x),l.addEventListener("timeout",x),l.addEventListener("abort",x),t.reportProgress&&(l.addEventListener("progress",J),null!==g&&l.upload&&l.upload.addEventListener("progress",Ce)),l.send(g),u.next({type:Py.Sent}),()=>{l.removeEventListener("error",x),l.removeEventListener("abort",x),l.removeEventListener("load",D),l.removeEventListener("timeout",x),t.reportProgress&&(l.removeEventListener("progress",J),null!==g&&l.upload&&l.upload.removeEventListener("progress",Ce)),l.readyState!==l.DONE&&l.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(Is))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const DM=new d.OlP("XSRF_ENABLED"),LP=new d.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),VP=new d.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class UP{}let oF=(()=>{class n{constructor(t,r,s){this.doc=t,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ln(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(ve),d.LFG(d.Lbi),d.LFG(LP))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();function aF(n,e){const t=n.url.toLowerCase();if(!(0,d.f3M)(DM)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,d.f3M)(UP).getToken(),s=(0,d.f3M)(VP);return null!=r&&!n.headers.has(s)&&(n=n.clone({headers:n.headers.set(s,r)})),e(n)}var eh=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(eh||{});function uF(...n){const e=[Zk,FP,RP,{provide:gT,useExisting:RP},{provide:mT,useExisting:FP},{provide:fE,useValue:aF,multi:!0},{provide:DM,useValue:!0},{provide:UP,useClass:oF}];for(const t of n)e.push(...t.\u0275providers);return(0,d.MR2)(e)}const BP=new d.OlP("LEGACY_INTERCEPTOR_FN");function cF(){return function Ip(n,e){return{\u0275kind:n,\u0275providers:e}}(eh.LegacyInterceptors,[{provide:BP,useFactory:Jk},{provide:fE,useExisting:BP,multi:!0}])}let lF=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({providers:[uF(cF())]})}return n})();const mF_firebaseConfig={projectId:"instagram-clone-gilshaashua",appId:"1:827870472031:web:e39968f5559a9f2832b8ea",storageBucket:"instagram-clone-gilshaashua.appspot.com",apiKey:"AIzaSyBzQGVn0KY8RifDoGX3L7W_oxejQG0tHhs",authDomain:"instagram-clone-gilshaashua.firebaseapp.com",messagingSenderId:"827870472031",measurementId:"G-FPQPXYYP3N"};var jP=S(7582),yF=S(9519);const _F=new d.OlP("angularfire2.messaging.vapid-key"),wF=new d.OlP("angularfire2.messaging.service-worker-registeration");let $P=(()=>{class n{constructor(t,r,s,u,l,g,v){const C=v,D=(0,Pt.of)(void 0).pipe((0,Va.R)(l.outsideAngular),(0,ua.Q)(l.insideAngular),(0,Hn.w)(yF.Gb),(0,Hn.w)(J=>J?S.e(922).then(S.bind(S,5922)):ro.E),(0,Qt.U)(()=>(0,Oi.on)(t,u,r)),(0,Hn.w)(J=>(0,Oi.cc)(`${J.name}.messaging`,"AngularFireMessaging",J.name,()=>(0,jP.mG)(this,void 0,void 0,function*(){return J.messaging()}),[])),TS({bufferSize:1,refCount:!1}));this.requestPermission=D.pipe((0,Va.R)(l.outsideAngular),(0,ua.Q)(l.insideAngular),(0,Hn.w)(()=>Notification.requestPermission())),this.getToken=D.pipe((0,Va.R)(l.outsideAngular),(0,ua.Q)(l.insideAngular),(0,Hn.w)(J=>(0,jP.mG)(this,void 0,void 0,function*(){if("granted"===Notification.permission){const Ce=C?yield C:null;return yield J.getToken({vapidKey:g,serviceWorkerRegistration:Ce})}return null})));const x=new Di.y(J=>{navigator.permissions.query({name:"notifications"}).then(Ce=>{Ce.onchange=()=>J.next()})}),z=D.pipe((0,Va.R)(l.outsideAngular),(0,ua.Q)(l.insideAngular),ZD(x),ZD(this.getToken));return this.tokenChanges=D.pipe((0,Va.R)(l.outsideAngular),(0,ua.Q)(l.insideAngular),(0,Hn.w)(()=>Ro(this.getToken,z))),this.messages=D.pipe((0,Va.R)(l.outsideAngular),(0,ua.Q)(l.insideAngular),(0,Hn.w)(J=>new Di.y(Ce=>J.onMessage(Ce)))),this.requestToken=D.pipe((0,Va.R)(l.outsideAngular),(0,ua.Q)(l.insideAngular),(0,Hn.w)(()=>this.requestPermission),ls(()=>(0,Pt.of)(null)),(0,Si.z)(()=>this.tokenChanges)),this.deleteToken=()=>D.pipe((0,Va.R)(l.outsideAngular),(0,ua.Q)(l.insideAngular),(0,Hn.w)(J=>J.deleteToken()),tu(!1)),(0,Oi.pX)(this,D,u)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Oi.Dh),d.LFG(Oi.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Sr.HU),d.LFG(_F,8),d.LFG(wF,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),EF=(()=>{class n{constructor(){QS.Z.registerVersion("angularfire",Sr.q4.full,"fcm-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[$P]}),n})(),IF=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=d.oAB({type:n,bootstrap:[Uk]});static#n=this.\u0275inj=d.cJS({imports:[Ju,mk,lF,ak,uk,Oi.hO.initializeApp(mF_firebaseConfig),BN,EF,WN]})}return n})();Lp().bootstrapModule(IF).catch(n=>console.error(n))},5619:(vt,De,S)=>{S.d(De,{X:()=>U});var d=S(8645);class U extends d.x{constructor(Y){super(),this._value=Y}get value(){return this.getValue()}_subscribe(Y){const se=super._subscribe(Y);return!se.closed&&Y.next(this._value),se}getValue(){const{hasError:Y,thrownError:se,_value:ve}=this;if(Y)throw se;return this._throwIfClosed(),ve}next(Y){super.next(this._value=Y)}}},5592:(vt,De,S)=>{S.d(De,{y:()=>Oe});var d=S(305),U=S(7394),N=S(4850),Y=S(8407),se=S(2653),ve=S(4674),we=S(1441);let Oe=(()=>{class ne{constructor(Ie){Ie&&(this._subscribe=Ie)}lift(Ie){const Ye=new ne;return Ye.source=this,Ye.operator=Ie,Ye}subscribe(Ie,Ye,ke){const We=function q(ne){return ne&&ne instanceof d.Lv||function V(ne){return ne&&(0,ve.m)(ne.next)&&(0,ve.m)(ne.error)&&(0,ve.m)(ne.complete)}(ne)&&(0,U.Nn)(ne)}(Ie)?Ie:new d.Hp(Ie,Ye,ke);return(0,we.x)(()=>{const{operator:Se,source:ht}=this;We.add(Se?Se.call(We,ht):ht?this._subscribe(We):this._trySubscribe(We))}),We}_trySubscribe(Ie){try{return this._subscribe(Ie)}catch(Ye){Ie.error(Ye)}}forEach(Ie,Ye){return new(Ye=he(Ye))((ke,We)=>{const Se=new d.Hp({next:ht=>{try{Ie(ht)}catch(ft){We(ft),Se.unsubscribe()}},error:We,complete:ke});this.subscribe(Se)})}_subscribe(Ie){var Ye;return null===(Ye=this.source)||void 0===Ye?void 0:Ye.subscribe(Ie)}[N.L](){return this}pipe(...Ie){return(0,Y.U)(Ie)(this)}toPromise(Ie){return new(Ie=he(Ie))((Ye,ke)=>{let We;this.subscribe(Se=>We=Se,Se=>ke(Se),()=>Ye(We))})}}return ne.create=Ue=>new ne(Ue),ne})();function he(ne){var Ue;return null!==(Ue=ne??se.config.Promise)&&void 0!==Ue?Ue:Promise}},8645:(vt,De,S)=>{S.d(De,{x:()=>we});var d=S(5592),U=S(7394);const Y=(0,S(2306).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=S(9039),ve=S(1441);let we=(()=>{class he extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const ne=new Oe(this,this);return ne.operator=q,ne}_throwIfClosed(){if(this.closed)throw new Y}next(q){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(q)}})}error(q){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:ne}=this;for(;ne.length;)ne.shift().error(q)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:ne,isStopped:Ue,observers:Ie}=this;return ne||Ue?U.Lc:(this.currentObservers=null,Ie.push(q),new U.w0(()=>{this.currentObservers=null,(0,se.P)(Ie,q)}))}_checkFinalizedStatuses(q){const{hasError:ne,thrownError:Ue,isStopped:Ie}=this;ne?q.error(Ue):Ie&&q.complete()}asObservable(){const q=new d.y;return q.source=this,q}}return he.create=(V,q)=>new Oe(V,q),he})();class Oe extends we{constructor(V,q){super(),this.destination=V,this.source=q}next(V){var q,ne;null===(ne=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===ne||ne.call(q,V)}error(V){var q,ne;null===(ne=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===ne||ne.call(q,V)}complete(){var V,q;null===(q=null===(V=this.destination)||void 0===V?void 0:V.complete)||void 0===q||q.call(V)}_subscribe(V){var q,ne;return null!==(ne=null===(q=this.source)||void 0===q?void 0:q.subscribe(V))&&void 0!==ne?ne:U.Lc}}},305:(vt,De,S)=>{S.d(De,{Hp:()=>ke,Lv:()=>ne});var d=S(4674),U=S(7394),N=S(2653),Y=S(3894),se=S(2420);const ve=he("C",void 0,void 0);function he(ee,Te,ue){return{kind:ee,value:Te,error:ue}}var V=S(7599),q=S(1441);class ne extends U.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,U.Nn)(Te)&&Te.add(this)):this.destination=ft}static create(Te,ue,Me){return new ke(Te,ue,Me)}next(Te){this.isStopped?ht(function Oe(ee){return he("N",ee,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?ht(function we(ee){return he("E",void 0,ee)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?ht(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Ie(ee,Te){return Ue.call(ee,Te)}class Ye{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:ue}=this;if(ue.next)try{ue.next(Te)}catch(Me){We(Me)}}error(Te){const{partialObserver:ue}=this;if(ue.error)try{ue.error(Te)}catch(Me){We(Me)}else We(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(ue){We(ue)}}}class ke extends ne{constructor(Te,ue,Me){let Be;if(super(),(0,d.m)(Te)||!Te)Be={next:Te??void 0,error:ue??void 0,complete:Me??void 0};else{let k;this&&N.config.useDeprecatedNextContext?(k=Object.create(Te),k.unsubscribe=()=>this.unsubscribe(),Be={next:Te.next&&Ie(Te.next,k),error:Te.error&&Ie(Te.error,k),complete:Te.complete&&Ie(Te.complete,k)}):Be=Te}this.destination=new Ye(Be)}}function We(ee){N.config.useDeprecatedSynchronousErrorHandling?(0,q.O)(ee):(0,Y.h)(ee)}function ht(ee,Te){const{onStoppedNotification:ue}=N.config;ue&&V.z.setTimeout(()=>ue(ee,Te))}const ft={closed:!0,next:se.Z,error:function Se(ee){throw ee},complete:se.Z}},7394:(vt,De,S)=>{S.d(De,{Lc:()=>ve,w0:()=>se,Nn:()=>we});var d=S(4674);const N=(0,S(2306).d)(he=>function(q){he(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((ne,Ue)=>`${Ue+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var Y=S(9039);class se{constructor(V){this.initialTeardown=V,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let V;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Ie of q)Ie.remove(this);else q.remove(this);const{initialTeardown:ne}=this;if((0,d.m)(ne))try{ne()}catch(Ie){V=Ie instanceof N?Ie.errors:[Ie]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Ie of Ue)try{Oe(Ie)}catch(Ye){V=V??[],Ye instanceof N?V=[...V,...Ye.errors]:V.push(Ye)}}if(V)throw new N(V)}}add(V){var q;if(V&&V!==this)if(this.closed)Oe(V);else{if(V instanceof se){if(V.closed||V._hasParent(this))return;V._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(V)}}_hasParent(V){const{_parentage:q}=this;return q===V||Array.isArray(q)&&q.includes(V)}_addParent(V){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(V),q):q?[q,V]:V}_removeParent(V){const{_parentage:q}=this;q===V?this._parentage=null:Array.isArray(q)&&(0,Y.P)(q,V)}remove(V){const{_finalizers:q}=this;q&&(0,Y.P)(q,V),V instanceof se&&V._removeParent(this)}}se.EMPTY=(()=>{const he=new se;return he.closed=!0,he})();const ve=se.EMPTY;function we(he){return he instanceof se||he&&"closed"in he&&(0,d.m)(he.remove)&&(0,d.m)(he.add)&&(0,d.m)(he.unsubscribe)}function Oe(he){(0,d.m)(he)?he():he.unsubscribe()}},2653:(vt,De,S)=>{S.d(De,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(vt,De,S)=>{S.d(De,{E:()=>U});const U=new(S(5592).y)(se=>se.complete())},2459:(vt,De,S)=>{S.d(De,{D:()=>Te});var d=S(4829),U=S(3093),N=S(5137),ve=S(5592),Oe=S(4971),he=S(4674),V=S(7103);function ne(ue,Me){if(!ue)throw new Error("Iterable cannot be null");return new ve.y(Be=>{(0,V.f)(Be,Me,()=>{const k=ue[Symbol.asyncIterator]();(0,V.f)(Be,Me,()=>{k.next().then(te=>{te.done?Be.complete():Be.next(te.value)})},0,!0)})})}var Ue=S(8382),Ie=S(4026),Ye=S(4266),ke=S(3664),We=S(5726),Se=S(9853),ht=S(541);function Te(ue,Me){return Me?function ee(ue,Me){if(null!=ue){if((0,Ue.c)(ue))return function Y(ue,Me){return(0,d.Xf)(ue).pipe((0,N.R)(Me),(0,U.Q)(Me))}(ue,Me);if((0,Ye.z)(ue))return function we(ue,Me){return new ve.y(Be=>{let k=0;return Me.schedule(function(){k===ue.length?Be.complete():(Be.next(ue[k++]),Be.closed||this.schedule())})})}(ue,Me);if((0,Ie.t)(ue))return function se(ue,Me){return(0,d.Xf)(ue).pipe((0,N.R)(Me),(0,U.Q)(Me))}(ue,Me);if((0,We.D)(ue))return ne(ue,Me);if((0,ke.T)(ue))return function q(ue,Me){return new ve.y(Be=>{let k;return(0,V.f)(Be,Me,()=>{k=ue[Oe.h](),(0,V.f)(Be,Me,()=>{let te,be;try{({value:te,done:be}=k.next())}catch(st){return void Be.error(st)}be?Be.complete():Be.next(te)},0,!0)}),()=>(0,he.m)(k?.return)&&k.return()})}(ue,Me);if((0,ht.L)(ue))return function ft(ue,Me){return ne((0,ht.Q)(ue),Me)}(ue,Me)}throw(0,Se.z)(ue)}(ue,Me):(0,d.Xf)(ue)}},4829:(vt,De,S)=>{S.d(De,{Xf:()=>Ue});var d=S(7582),U=S(4266),N=S(4026),Y=S(5592),se=S(8382),ve=S(5726),we=S(9853),Oe=S(3664),he=S(541),V=S(4674),q=S(3894),ne=S(4850);function Ue(ee){if(ee instanceof Y.y)return ee;if(null!=ee){if((0,se.c)(ee))return function Ie(ee){return new Y.y(Te=>{const ue=ee[ne.L]();if((0,V.m)(ue.subscribe))return ue.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ee);if((0,U.z)(ee))return function Ye(ee){return new Y.y(Te=>{for(let ue=0;ue<ee.length&&!Te.closed;ue++)Te.next(ee[ue]);Te.complete()})}(ee);if((0,N.t)(ee))return function ke(ee){return new Y.y(Te=>{ee.then(ue=>{Te.closed||(Te.next(ue),Te.complete())},ue=>Te.error(ue)).then(null,q.h)})}(ee);if((0,ve.D)(ee))return Se(ee);if((0,Oe.T)(ee))return function We(ee){return new Y.y(Te=>{for(const ue of ee)if(Te.next(ue),Te.closed)return;Te.complete()})}(ee);if((0,he.L)(ee))return function ht(ee){return Se((0,he.Q)(ee))}(ee)}throw(0,we.z)(ee)}function Se(ee){return new Y.y(Te=>{(function ft(ee,Te){var ue,Me,Be,k;return(0,d.mG)(this,void 0,void 0,function*(){try{for(ue=(0,d.KL)(ee);!(Me=yield ue.next()).done;)if(Te.next(Me.value),Te.closed)return}catch(te){Be={error:te}}finally{try{Me&&!Me.done&&(k=ue.return)&&(yield k.call(ue))}finally{if(Be)throw Be.error}}Te.complete()})})(ee,Te).catch(ue=>Te.error(ue))})}},3019:(vt,De,S)=>{S.d(De,{T:()=>ve});var d=S(7537),U=S(4829),N=S(6232),Y=S(9940),se=S(2459);function ve(...we){const Oe=(0,Y.yG)(we),he=(0,Y._6)(we,1/0),V=we;return V.length?1===V.length?(0,U.Xf)(V[0]):(0,d.J)(he)((0,se.D)(V,Oe)):N.E}},2096:(vt,De,S)=>{S.d(De,{of:()=>N});var d=S(9940),U=S(2459);function N(...Y){const se=(0,d.yG)(Y);return(0,U.D)(Y,se)}},8251:(vt,De,S)=>{S.d(De,{x:()=>U});var d=S(305);function U(Y,se,ve,we,Oe){return new N(Y,se,ve,we,Oe)}class N extends d.Lv{constructor(se,ve,we,Oe,he,V){super(se),this.onFinalize=he,this.shouldUnsubscribe=V,this._next=ve?function(q){try{ve(q)}catch(ne){se.error(ne)}}:super._next,this._error=Oe?function(q){try{Oe(q)}catch(ne){se.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=we?function(){try{we()}catch(q){se.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},3997:(vt,De,S)=>{S.d(De,{x:()=>Y});var d=S(2737),U=S(9360),N=S(8251);function Y(ve,we=d.y){return ve=ve??se,(0,U.e)((Oe,he)=>{let V,q=!0;Oe.subscribe((0,N.x)(he,ne=>{const Ue=we(ne);(q||!ve(V,Ue))&&(q=!1,V=Ue,he.next(ne))}))})}function se(ve,we){return ve===we}},7398:(vt,De,S)=>{S.d(De,{U:()=>N});var d=S(9360),U=S(8251);function N(Y,se){return(0,d.e)((ve,we)=>{let Oe=0;ve.subscribe((0,U.x)(we,he=>{we.next(Y.call(se,he,Oe++))}))})}},7537:(vt,De,S)=>{S.d(De,{J:()=>N});var d=S(1631),U=S(2737);function N(Y=1/0){return(0,d.z)(U.y,Y)}},1631:(vt,De,S)=>{S.d(De,{z:()=>Oe});var d=S(7398),U=S(4829),N=S(9360),Y=S(7103),se=S(8251),we=S(4674);function Oe(he,V,q=1/0){return(0,we.m)(V)?Oe((ne,Ue)=>(0,d.U)((Ie,Ye)=>V(ne,Ie,Ue,Ye))((0,U.Xf)(he(ne,Ue))),q):("number"==typeof V&&(q=V),(0,N.e)((ne,Ue)=>function ve(he,V,q,ne,Ue,Ie,Ye,ke){const We=[];let Se=0,ht=0,ft=!1;const ee=()=>{ft&&!We.length&&!Se&&V.complete()},Te=Me=>Se<ne?ue(Me):We.push(Me),ue=Me=>{Ie&&V.next(Me),Se++;let Be=!1;(0,U.Xf)(q(Me,ht++)).subscribe((0,se.x)(V,k=>{Ue?.(k),Ie?Te(k):V.next(k)},()=>{Be=!0},void 0,()=>{if(Be)try{for(Se--;We.length&&Se<ne;){const k=We.shift();Ye?(0,Y.f)(V,Ye,()=>ue(k)):ue(k)}ee()}catch(k){V.error(k)}}))};return he.subscribe((0,se.x)(V,Te,()=>{ft=!0,ee()})),()=>{ke?.()}}(ne,Ue,he,q)))}},3093:(vt,De,S)=>{S.d(De,{Q:()=>Y});var d=S(7103),U=S(9360),N=S(8251);function Y(se,ve=0){return(0,U.e)((we,Oe)=>{we.subscribe((0,N.x)(Oe,he=>(0,d.f)(Oe,se,()=>Oe.next(he),ve),()=>(0,d.f)(Oe,se,()=>Oe.complete(),ve),he=>(0,d.f)(Oe,se,()=>Oe.error(he),ve)))})}},3020:(vt,De,S)=>{S.d(De,{B:()=>se});var d=S(4829),U=S(8645),N=S(305),Y=S(9360);function se(we={}){const{connector:Oe=(()=>new U.x),resetOnError:he=!0,resetOnComplete:V=!0,resetOnRefCountZero:q=!0}=we;return ne=>{let Ue,Ie,Ye,ke=0,We=!1,Se=!1;const ht=()=>{Ie?.unsubscribe(),Ie=void 0},ft=()=>{ht(),Ue=Ye=void 0,We=Se=!1},ee=()=>{const Te=Ue;ft(),Te?.unsubscribe()};return(0,Y.e)((Te,ue)=>{ke++,!Se&&!We&&ht();const Me=Ye=Ye??Oe();ue.add(()=>{ke--,0===ke&&!Se&&!We&&(Ie=ve(ee,q))}),Me.subscribe(ue),!Ue&&ke>0&&(Ue=new N.Hp({next:Be=>Me.next(Be),error:Be=>{Se=!0,ht(),Ie=ve(ft,he,Be),Me.error(Be)},complete:()=>{We=!0,ht(),Ie=ve(ft,V),Me.complete()}}),(0,d.Xf)(Te).subscribe(Ue))})(ne)}}function ve(we,Oe,...he){if(!0===Oe)return void we();if(!1===Oe)return;const V=new N.Hp({next:()=>{V.unsubscribe(),we()}});return(0,d.Xf)(Oe(...he)).subscribe(V)}},5137:(vt,De,S)=>{S.d(De,{R:()=>U});var d=S(9360);function U(N,Y=0){return(0,d.e)((se,ve)=>{ve.add(N.schedule(()=>se.subscribe(ve),Y))})}},4664:(vt,De,S)=>{S.d(De,{w:()=>Y});var d=S(4829),U=S(9360),N=S(8251);function Y(se,ve){return(0,U.e)((we,Oe)=>{let he=null,V=0,q=!1;const ne=()=>q&&!he&&Oe.complete();we.subscribe((0,N.x)(Oe,Ue=>{he?.unsubscribe();let Ie=0;const Ye=V++;(0,d.Xf)(se(Ue,Ye)).subscribe(he=(0,N.x)(Oe,ke=>Oe.next(ve?ve(Ue,ke,Ye,Ie++):ke),()=>{he=null,ne()}))},()=>{q=!0,ne()}))})}},9397:(vt,De,S)=>{S.d(De,{b:()=>se});var d=S(4674),U=S(9360),N=S(8251),Y=S(2737);function se(ve,we,Oe){const he=(0,d.m)(ve)||we||Oe?{next:ve,error:we,complete:Oe}:ve;return he?(0,U.e)((V,q)=>{var ne;null===(ne=he.subscribe)||void 0===ne||ne.call(he);let Ue=!0;V.subscribe((0,N.x)(q,Ie=>{var Ye;null===(Ye=he.next)||void 0===Ye||Ye.call(he,Ie),q.next(Ie)},()=>{var Ie;Ue=!1,null===(Ie=he.complete)||void 0===Ie||Ie.call(he),q.complete()},Ie=>{var Ye;Ue=!1,null===(Ye=he.error)||void 0===Ye||Ye.call(he,Ie),q.error(Ie)},()=>{var Ie,Ye;Ue&&(null===(Ie=he.unsubscribe)||void 0===Ie||Ie.call(he)),null===(Ye=he.finalize)||void 0===Ye||Ye.call(he)}))}):Y.y}},1954:(vt,De,S)=>{S.d(De,{o:()=>se});var d=S(7394);class U extends d.w0{constructor(we,Oe){super()}schedule(we,Oe=0){return this}}const N={setInterval(ve,we,...Oe){const{delegate:he}=N;return he?.setInterval?he.setInterval(ve,we,...Oe):setInterval(ve,we,...Oe)},clearInterval(ve){const{delegate:we}=N;return(we?.clearInterval||clearInterval)(ve)},delegate:void 0};var Y=S(9039);class se extends U{constructor(we,Oe){super(we,Oe),this.scheduler=we,this.work=Oe,this.pending=!1}schedule(we,Oe=0){var he;if(this.closed)return this;this.state=we;const V=this.id,q=this.scheduler;return null!=V&&(this.id=this.recycleAsyncId(q,V,Oe)),this.pending=!0,this.delay=Oe,this.id=null!==(he=this.id)&&void 0!==he?he:this.requestAsyncId(q,this.id,Oe),this}requestAsyncId(we,Oe,he=0){return N.setInterval(we.flush.bind(we,this),he)}recycleAsyncId(we,Oe,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return Oe;null!=Oe&&N.clearInterval(Oe)}execute(we,Oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(we,Oe);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(we,Oe){let V,he=!1;try{this.work(we)}catch(q){he=!0,V=q||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),V}unsubscribe(){if(!this.closed){const{id:we,scheduler:Oe}=this,{actions:he}=Oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Y.P)(he,this),null!=we&&(this.id=this.recycleAsyncId(Oe,we,null)),this.delay=null,super.unsubscribe()}}}},2631:(vt,De,S)=>{S.d(De,{v:()=>N});var d=S(4552);class U{constructor(se,ve=U.now){this.schedulerActionCtor=se,this.now=ve}schedule(se,ve=0,we){return new this.schedulerActionCtor(this,se).schedule(we,ve)}}U.now=d.l.now;class N extends U{constructor(se,ve=U.now){super(se,ve),this.actions=[],this._active=!1}flush(se){const{actions:ve}=this;if(this._active)return void ve.push(se);let we;this._active=!0;do{if(we=se.execute(se.state,se.delay))break}while(se=ve.shift());if(this._active=!1,we){for(;se=ve.shift();)se.unsubscribe();throw we}}}},6321:(vt,De,S)=>{S.d(De,{P:()=>Y,z:()=>N});var d=S(1954);const N=new(S(2631).v)(d.o),Y=N},4552:(vt,De,S)=>{S.d(De,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},7599:(vt,De,S)=>{S.d(De,{z:()=>d});const d={setTimeout(U,N,...Y){const{delegate:se}=d;return se?.setTimeout?se.setTimeout(U,N,...Y):setTimeout(U,N,...Y)},clearTimeout(U){const{delegate:N}=d;return(N?.clearTimeout||clearTimeout)(U)},delegate:void 0}},4971:(vt,De,S)=>{S.d(De,{h:()=>U});const U=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(vt,De,S)=>{S.d(De,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(vt,De,S)=>{S.d(De,{_6:()=>ve,jO:()=>Y,yG:()=>se});var d=S(4674),U=S(671);function N(we){return we[we.length-1]}function Y(we){return(0,d.m)(N(we))?we.pop():void 0}function se(we){return(0,U.K)(N(we))?we.pop():void 0}function ve(we,Oe){return"number"==typeof N(we)?we.pop():Oe}},9039:(vt,De,S)=>{function d(U,N){if(U){const Y=U.indexOf(N);0<=Y&&U.splice(Y,1)}}S.d(De,{P:()=>d})},2306:(vt,De,S)=>{function d(U){const Y=U(se=>{Error.call(se),se.stack=(new Error).stack});return Y.prototype=Object.create(Error.prototype),Y.prototype.constructor=Y,Y}S.d(De,{d:()=>d})},1441:(vt,De,S)=>{S.d(De,{O:()=>Y,x:()=>N});var d=S(2653);let U=null;function N(se){if(d.config.useDeprecatedSynchronousErrorHandling){const ve=!U;if(ve&&(U={errorThrown:!1,error:null}),se(),ve){const{errorThrown:we,error:Oe}=U;if(U=null,we)throw Oe}}else se()}function Y(se){d.config.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=se)}},7103:(vt,De,S)=>{function d(U,N,Y,se=0,ve=!1){const we=N.schedule(function(){Y(),ve?U.add(this.schedule(null,se)):this.unsubscribe()},se);if(U.add(we),!ve)return we}S.d(De,{f:()=>d})},2737:(vt,De,S)=>{function d(U){return U}S.d(De,{y:()=>d})},4266:(vt,De,S)=>{S.d(De,{z:()=>d});const d=U=>U&&"number"==typeof U.length&&"function"!=typeof U},5726:(vt,De,S)=>{S.d(De,{D:()=>U});var d=S(4674);function U(N){return Symbol.asyncIterator&&(0,d.m)(N?.[Symbol.asyncIterator])}},4674:(vt,De,S)=>{function d(U){return"function"==typeof U}S.d(De,{m:()=>d})},8382:(vt,De,S)=>{S.d(De,{c:()=>N});var d=S(4850),U=S(4674);function N(Y){return(0,U.m)(Y[d.L])}},3664:(vt,De,S)=>{S.d(De,{T:()=>N});var d=S(4971),U=S(4674);function N(Y){return(0,U.m)(Y?.[d.h])}},4026:(vt,De,S)=>{S.d(De,{t:()=>U});var d=S(4674);function U(N){return(0,d.m)(N?.then)}},541:(vt,De,S)=>{S.d(De,{L:()=>Y,Q:()=>N});var d=S(7582),U=S(4674);function N(se){return(0,d.FC)(this,arguments,function*(){const we=se.getReader();try{for(;;){const{value:Oe,done:he}=yield(0,d.qq)(we.read());if(he)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(Oe)}}finally{we.releaseLock()}})}function Y(se){return(0,U.m)(se?.getReader)}},671:(vt,De,S)=>{S.d(De,{K:()=>U});var d=S(4674);function U(N){return N&&(0,d.m)(N.schedule)}},9360:(vt,De,S)=>{S.d(De,{A:()=>U,e:()=>N});var d=S(4674);function U(Y){return(0,d.m)(Y?.lift)}function N(Y){return se=>{if(U(se))return se.lift(function(ve){try{return Y(ve,this)}catch(we){this.error(we)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(vt,De,S)=>{function d(){}S.d(De,{Z:()=>d})},8407:(vt,De,S)=>{S.d(De,{U:()=>N,z:()=>U});var d=S(2737);function U(...Y){return N(Y)}function N(Y){return 0===Y.length?d.y:1===Y.length?Y[0]:function(ve){return Y.reduce((we,Oe)=>Oe(we),ve)}}},3894:(vt,De,S)=>{S.d(De,{h:()=>N});var d=S(2653),U=S(7599);function N(Y){U.z.setTimeout(()=>{const{onUnhandledError:se}=d.config;if(!se)throw Y;se(Y)})}},9853:(vt,De,S)=>{function d(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}S.d(De,{z:()=>d})},5879:(vt,De,S)=>{S.d(De,{$8M:()=>El,$WT:()=>bo,$Z:()=>v_,AFp:()=>mI,ALo:()=>z0,AaK:()=>ne,AsE:()=>o0,CHM:()=>bs,CRH:()=>Wc,DdM:()=>j0,Dn7:()=>qc,EJc:()=>Yb,EpF:()=>vC,F4k:()=>_C,FYo:()=>Mg,FiY:()=>ge,GfV:()=>n_,Gpc:()=>Ye,HDt:()=>Yc,JOm:()=>Rh,KtG:()=>Eh,LFG:()=>Qe,LSH:()=>Qh,Lbi:()=>tf,Lck:()=>P0,MAs:()=>im,MMx:()=>Bf,MR2:()=>Uv,NdJ:()=>K_,O4$:()=>No,Ojb:()=>nf,OlP:()=>zn,Oqu:()=>s0,P3R:()=>c1,PXZ:()=>Pw,Q6J:()=>z_,QGY:()=>W_,Qsj:()=>Xv,R0b:()=>di,RDi:()=>YE,Rgc:()=>Od,SBq:()=>Zl,Sil:()=>vw,Suo:()=>Ub,TTD:()=>fh,TgZ:()=>Cu,Tol:()=>fd,VuI:()=>UD,W1O:()=>tw,X6Q:()=>iS,XFs:()=>wt,Xpm:()=>tr,Xq5:()=>Pc,Xts:()=>Vl,Y36:()=>Ac,YKP:()=>Lm,YNc:()=>pC,Yjl:()=>Ha,Yz7:()=>yt,Z0I:()=>_n,ZZ4:()=>zw,_Bn:()=>Sd,_UZ:()=>sm,_c5:()=>ND,_uU:()=>mm,aQg:()=>qw,c2e:()=>uy,cJS:()=>jn,cg1:()=>m0,dDg:()=>Aw,dqk:()=>Kt,eFA:()=>dD,eJc:()=>Rd,ekj:()=>fm,eoX:()=>Sw,f3M:()=>ot,g9A:()=>pt,h0i:()=>Pu,hGG:()=>RD,hij:()=>ym,iGM:()=>Lb,ifc:()=>at,ip1:()=>ay,jDz:()=>Nu,kL8:()=>WC,kcU:()=>Qt,lG2:()=>$a,lcZ:()=>Fu,lqb:()=>Ho,lri:()=>hy,n5z:()=>Jp,oAB:()=>la,oxw:()=>bC,q4F:()=>r_,qFp:()=>La,qLn:()=>pu,qOj:()=>wf,qZA:()=>bu,rWj:()=>aD,rg0:()=>hh,sBO:()=>Uw,s_b:()=>Hm,soG:()=>Ud,tb:()=>sp,tp0:()=>rt,uIk:()=>Qr,vHH:()=>ee,vpe:()=>zo,wAp:()=>Bc,xp6:()=>kI,z2F:()=>Hu,zSh:()=>_e,zs3:()=>co});var d=S(8645),U=S(7394),N=S(5592),Y=S(3019),se=S(5619),ve=S(2096),we=S(3020),Oe=S(4664),he=S(3997);function V(i){for(let o in i)if(i[o]===V)return o;throw Error("Could not find renamed property on target object.")}function q(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function ne(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ne).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function Ue(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const Ie=V({__forward_ref__:V});function Ye(i){return i.__forward_ref__=Ye,i.toString=function(){return ne(this())},i}function ke(i){return We(i)?i():i}function We(i){return"function"==typeof i&&i.hasOwnProperty(Ie)&&i.__forward_ref__===Ye}function Se(i){return i&&!!i.\u0275providers}const ft="https://g.co/ng/security#xss";class ee extends Error{constructor(o,a){super(function Te(i,o){return`NG0${Math.abs(i)}${o?": "+o:""}`}(o,a)),this.code=o}}function ue(i){return"string"==typeof i?i:null==i?"":String(i)}function be(i,o){throw new ee(-201,!1)}function tt(i,o){null==i&&function qe(i,o,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,i,null,"!=")}function yt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function jn(i){return{providers:i.providers||[],imports:i.imports||[]}}function Ln(i){return Rn(i,Vn)||Rn(i,er)}function _n(i){return null!==Ln(i)}function Rn(i,o){return i.hasOwnProperty(o)?i[o]:null}function Wn(i){return i&&(i.hasOwnProperty(Dn)||i.hasOwnProperty(zr))?i[Dn]:null}const Vn=V({\u0275prov:V}),Dn=V({\u0275inj:V}),er=V({ngInjectableDef:V}),zr=V({ngInjectorDef:V});var wt=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(wt||{});let Ct;function Rt(i){const o=Ct;return Ct=i,o}function mr(i,o,a){const c=Ln(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&wt.Optional?null:void 0!==o?o:void be(ne(i))}const Kt=globalThis,He={},ct="__NG_DI_FLAG__",Et="ngTempTokenPath",G=/\n/gm,P="__source";let R;function X(i){const o=R;return R=i,o}function Ne(i,o=wt.Default){if(void 0===R)throw new ee(-203,!1);return null===R?mr(i,void 0,o):R.get(i,o&wt.Optional?null:void 0,o)}function Qe(i,o=wt.Default){return(function Nt(){return Ct}()||Ne)(ke(i),o)}function ot(i,o=wt.Default){return Qe(i,mn(o))}function mn(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Vt(i){const o=[];for(let a=0;a<i.length;a++){const c=ke(i[a]);if(Array.isArray(c)){if(0===c.length)throw new ee(900,!1);let h,f=wt.Default;for(let y=0;y<c.length;y++){const _=c[y],I=Yt(_);"number"==typeof I?-1===I?h=_.token:f|=I:h=_}o.push(Qe(h,f))}else o.push(Qe(c))}return o}function wn(i,o){return i[ct]=o,i.prototype[ct]=o,i}function Yt(i){return i[ct]}function de(i){return{toString:i}.toString()}var nt=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(nt||{}),at=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(at||{});const Ot={},lt=[],Tn=V({\u0275cmp:V}),ni=V({\u0275dir:V}),ri=V({\u0275pipe:V}),Ki=V({\u0275mod:V}),Rr=V({\u0275fac:V}),ln=V({__NG_ELEMENT_ID__:V}),Ls=V({__NG_ENV_ID__:V});function Ks(i,o,a){let c=i.length;for(;;){const h=i.indexOf(o,a);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const f=o.length;if(h+f===c||i.charCodeAt(h+f)<=32)return h}a=h+1}}function ii(i,o,a){let c=0;for(;c<a.length;){const h=a[c];if("number"==typeof h){if(0!==h)break;c++;const f=a[c++],y=a[c++],_=a[c++];i.setAttribute(o,y,_,f)}else{const f=h,y=a[++c];Vs(f)?i.setProperty(o,f,y):i.setAttribute(o,f,y),c++}}return c}function gi(i){return 3===i||4===i||6===i}function Vs(i){return 64===i.charCodeAt(0)}function _s(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?a=h:0===a||ws(i,a,h,null,-1===a||2===a?o[++c]:null)}}return i}function ws(i,o,a,c,h){let f=0,y=i.length;if(-1===o)y=-1;else for(;f<i.length;){const _=i[f++];if("number"==typeof _){if(_===o){y=-1;break}if(_>o){y=f-1;break}}}for(;f<i.length;){const _=i[f];if("number"==typeof _)break;if(_===a){if(null===c)return void(null!==h&&(i[f+1]=h));if(c===i[f+1])return void(i[f+2]=h)}f++,null!==c&&f++,null!==h&&f++}-1!==y&&(i.splice(y,0,o),f=y+1),i.splice(f++,0,a),null!==c&&i.splice(f++,0,c),null!==h&&i.splice(f++,0,h)}const Jn="ng-template";function Yi(i,o,a){let c=0,h=!0;for(;c<i.length;){let f=i[c++];if("string"==typeof f&&h){const y=i[c++];if(a&&"class"===f&&-1!==Ks(y.toLowerCase(),o,0))return!0}else{if(1===f){for(;c<i.length&&"string"==typeof(f=i[c++]);)if(f.toLowerCase()===o)return!0;return!1}"number"==typeof f&&(h=!1)}}return!1}function Ui(i){return 4===i.type&&i.value!==Jn}function Ua(i,o,a){return o===(4!==i.type||a?i.value:Jn)}function Co(i,o,a){let c=4;const h=i.attrs||[],f=function $(i){for(let o=0;o<i.length;o++)if(gi(i[o]))return o;return i.length}(h);let y=!1;for(let _=0;_<o.length;_++){const I=o[_];if("number"!=typeof I){if(!y)if(4&c){if(c=2|1&c,""!==I&&!Ua(i,I,a)||""===I&&1===o.length){if(qr(c))return!1;y=!0}}else{const b=8&c?I:o[++_];if(8&c&&null!==i.attrs){if(!Yi(i.attrs,b,a)){if(qr(c))return!1;y=!0}continue}const L=Ba(8&c?"class":I,h,Ui(i),a);if(-1===L){if(qr(c))return!1;y=!0;continue}if(""!==b){let W;W=L>f?"":h[L+1].toLowerCase();const ie=8&c?W:null;if(ie&&-1!==Ks(ie,b,0)||2&c&&b!==W){if(qr(c))return!1;y=!0}}}}else{if(!y&&!qr(c)&&!qr(I))return!1;if(y&&qr(I))continue;y=!1,c=I|1&c}}return qr(c)||y}function qr(i){return 0==(1&i)}function Ba(i,o,a,c){if(null===o)return-1;let h=0;if(c||!a){let f=!1;for(;h<o.length;){const y=o[h];if(y===i)return h;if(3===y||6===y)f=!0;else{if(1===y||2===y){let _=o[++h];for(;"string"==typeof _;)_=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=f?1:2}return-1}return function re(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,i)}function ca(i,o,a=!1){for(let c=0;c<o.length;c++)if(Co(i,o[c],a))return!0;return!1}function gt(i,o){return i?":not("+o.trim()+")":o}function En(i){let o=i[0],a=1,c=2,h="",f=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&c){const _=i[++a];h+="["+y+(_.length>0?'="'+_+'"':"")+"]"}else 8&c?h+="."+y:4&c&&(h+=" "+y);else""!==h&&!qr(y)&&(o+=gt(f,h),h=""),c=y,f=f||!qr(c);a++}return""!==h&&(o+=gt(f,h)),o}function tr(i){return de(()=>{const o=Xc(i),a={...o,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===nt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||at.Emulated,styles:i.styles||lt,_:null,schemas:i.schemas||null,tView:null,id:""};Ga(a);const c=i.dependencies;return a.directiveDefs=Us(c,!1),a.pipeDefs=Us(c,!0),a.id=function da(i){let o=0;const a=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const h of a)o=Math.imul(31,o)+h.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(a),a})}function kr(i){return Cn(i)||Ur(i)}function us(i){return null!==i}function la(i){return de(()=>({type:i.type,bootstrap:i.bootstrap||lt,declarations:i.declarations||lt,imports:i.imports||lt,exports:i.exports||lt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function ja(i,o){if(null==i)return Ot;const a={};for(const c in i)if(i.hasOwnProperty(c)){let h=i[c],f=h;Array.isArray(h)&&(f=h[1],h=h[0]),a[h]=c,o&&(o[h]=f)}return a}function $a(i){return de(()=>{const o=Xc(i);return Ga(o),o})}function Ha(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Cn(i){return i[Tn]||null}function Ur(i){return i[ni]||null}function Zr(i){return i[ri]||null}function bo(i){const o=Cn(i)||Ur(i)||Zr(i);return null!==o&&o.standalone}function si(i,o){const a=i[Ki]||null;if(!a&&!0===o)throw new Error(`Type ${ne(i)} does not have '\u0275mod' property.`);return a}function Xc(i){const o={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:i.inputs||Ot,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||lt,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ja(i.inputs,o),outputs:ja(i.outputs)}}function Ga(i){i.features?.forEach(o=>o(i))}function Us(i,o){if(!i)return null;const a=o?Zr:kr;return()=>("function"==typeof i?i():i).map(c=>a(c)).filter(us)}const Kn=0,Xe=1,qt=2,Bn=3,oi=4,Bs=5,Wr=6,Do=7,hr=8,Es=9,Ei=10,kt=11,ha=12,nh=13,Dr=14,Tr=15,Bi=16,ji=17,mi=18,cs=19,el=20,Ys=21,Is=22,B=23,F=24,j=25,Pe=1,Ze=2,et=7,Ft=9,Bt=11;function Yn(i){return Array.isArray(i)&&"object"==typeof i[Pe]}function Mn(i){return Array.isArray(i)&&!0===i[Pe]}function To(i){return 0!=(4&i.flags)}function Ji(i){return i.componentOffset>-1}function Cs(i){return 1==(1&i.flags)}function or(i){return!!i.template}function Ii(i){return 0!=(512&i[qt])}function Qs(i,o){return i.hasOwnProperty(Rr)?i[Rr]:null}let Kr=null,oh=!1;function Ci(i){const o=Kr;return Kr=i,o}const ah={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Hy(i){if(!il(i)||i.dirty){if(!i.producerMustRecompute(i)&&!zy(i))return void(i.dirty=!1);i.producerRecomputeValue(i),i.dirty=!1}}function Gy(i){i.dirty=!0,function Dp(i){if(void 0===i.liveConsumerNode)return;const o=oh;oh=!0;try{for(const a of i.liveConsumerNode)a.dirty||Gy(a)}finally{oh=o}}(i),i.consumerMarkedDirty?.(i)}function Tp(i){return i&&(i.nextProducerIndex=0),Ci(i)}function rl(i,o){if(Ci(o),i&&void 0!==i.producerNode&&void 0!==i.producerIndexOfThis&&void 0!==i.producerLastReadVersion){if(il(i))for(let a=i.nextProducerIndex;a<i.producerNode.length;a++)Ku(i.producerNode[a],i.producerIndexOfThis[a]);for(;i.producerNode.length>i.nextProducerIndex;)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function zy(i){So(i);for(let o=0;o<i.producerNode.length;o++){const a=i.producerNode[o],c=i.producerLastReadVersion[o];if(c!==a.version||(Hy(a),c!==a.version))return!0}return!1}function ch(i){if(So(i),il(i))for(let o=0;o<i.producerNode.length;o++)Ku(i.producerNode[o],i.producerIndexOfThis[o]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function Ku(i,o){if(function Zy(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}(i),So(i),1===i.liveConsumerNode.length)for(let c=0;c<i.producerNode.length;c++)Ku(i.producerNode[c],i.producerIndexOfThis[c]);const a=i.liveConsumerNode.length-1;if(i.liveConsumerNode[o]=i.liveConsumerNode[a],i.liveConsumerIndexOfThis[o]=i.liveConsumerIndexOfThis[a],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,o<i.liveConsumerNode.length){const c=i.liveConsumerIndexOfThis[o],h=i.liveConsumerNode[o];So(h),h.producerIndexOfThis[c]=o}}function il(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function So(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}let Ky=null;function hh(i){const o=Ci(null);try{return i()}finally{Ci(o)}}const Pp=()=>{},_E=(()=>({...ah,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:i=>{i.schedule(i.ref)},hasRun:!1,cleanupFn:Pp}))();class Xy{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function fh(){return ph}function ph(i){return i.type.prototype.ngOnChanges&&(i.setInput=Js),al}function al(){const i=gh(this),o=i?.current;if(o){const a=i.previous;if(a===Ot)i.previous=o;else for(let c in o)a[c]=o[c];i.current=null,this.ngOnChanges(o)}}function Js(i,o,a,c){const h=this.declaredInputs[a],f=gh(i)||function ev(i,o){return i[Wa]=o}(i,{previous:Ot,current:null}),y=f.current||(f.current={}),_=f.previous,I=_[h];y[h]=new Xy(I&&I.currentValue,o,_===Ot),i[c]=o}fh.ngInherit=!0;const Wa="__ngSimpleChanges__";function gh(i){return i[Wa]||null}const js=function(i,o,a){},Np="svg";function $n(i){for(;Array.isArray(i);)i=i[Kn];return i}function Xs(i,o){return $n(o[i])}function bi(i,o){return $n(o[i.index])}function yh(i,o){return i.data[o]}function Ka(i,o){return i[o]}function $i(i,o){const a=o[i];return Yn(a)?a:a[Kn]}function Mo(i,o){return null==o?null:i[o]}function Rp(i){i[ji]=0}function Qu(i){1024&i[qt]||(i[qt]|=1024,Fr(i,1))}function tv(i){1024&i[qt]&&(i[qt]&=-1025,Fr(i,-1))}function Fr(i,o){let a=i[Bn];if(null===a)return;a[Bs]+=o;let c=a;for(a=a[Bn];null!==a&&(1===o&&1===c[Bs]||-1===o&&0===c[Bs]);)a[Bs]+=o,c=a,a=a[Bn]}const zt={lFrame:qp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ya(){return zt.bindingsEnabled}function Le(){return zt.lFrame.lView}function An(){return zt.lFrame.tView}function bs(i){return zt.lFrame.contextLView=i,i[hr]}function Eh(i){return zt.lFrame.contextLView=null,i}function ai(){let i=hl();for(;null!==i&&64===i.type;)i=i.parent;return i}function hl(){return zt.lFrame.currentTNode}function $s(i,o){const a=zt.lFrame;a.currentTNode=i,a.isParent=o}function Bp(){return zt.lFrame.isParent}function ui(){const i=zt.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}function ec(){return zt.lFrame.bindingIndex++}function Hs(i){const o=zt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}function Hp(i,o){const a=zt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Gp(o)}function Gp(i){zt.lFrame.currentDirectiveIndex=i}function av(){return zt.lFrame.currentQueryIndex}function zp(i){zt.lFrame.currentQueryIndex=i}function TE(i){const o=i[Xe];return 2===o.type?o.declTNode:1===o.type?i[Wr]:null}function Ch(i,o,a){if(a&wt.SkipSelf){let h=o,f=i;for(;!(h=h.parent,null!==h||a&wt.Host||(h=TE(f),null===h||(f=f[Dr],10&h.type))););if(null===h)return!1;o=h,i=f}const c=zt.lFrame=Po();return c.currentTNode=o,c.lView=i,!0}function Di(i){const o=Po(),a=i[Xe];zt.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Po(){const i=zt.lFrame,o=null===i?null:i.child;return null===o?qp(i):o}function qp(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function Xn(){const i=zt.lFrame;return zt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Pt=Xn;function ci(){const i=Xn();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Ti(){return zt.lFrame.selectedIndex}function eo(i){zt.lFrame.selectedIndex=i}function ar(){const i=zt.lFrame;return yh(i.tView,i.selectedIndex)}function No(){zt.lFrame.currentNamespace=Np}function Qt(){!function uv(){zt.lFrame.currentNamespace=null}()}let tc=!0;function to(){return tc}function no(i){tc=i}function Qa(i,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:_,ngAfterViewInit:I,ngAfterViewChecked:b,ngOnDestroy:A}=f;y&&(i.contentHooks??=[]).push(-a,y),_&&((i.contentHooks??=[]).push(a,_),(i.contentCheckHooks??=[]).push(a,_)),I&&(i.viewHooks??=[]).push(-a,I),b&&((i.viewHooks??=[]).push(a,b),(i.viewCheckHooks??=[]).push(a,b)),null!=A&&(i.destroyHooks??=[]).push(a,A)}}function Ja(i,o,a){gl(i,o,3,a)}function Xa(i,o,a,c){(3&i[qt])===a&&gl(i,o,a,c)}function pl(i,o){let a=i[qt];(3&a)===o&&(a&=8191,a+=1,i[qt]=a)}function gl(i,o,a,c){const f=c??-1,y=o.length-1;let _=0;for(let I=void 0!==c?65535&i[ji]:0;I<y;I++)if("number"==typeof o[I+1]){if(_=o[I],null!=c&&_>=c)break}else o[I]<0&&(i[ji]+=65536),(_<f||-1==f)&&(nc(i,a,o,I),i[ji]=(4294901760&i[ji])+I+2),I++}function pa(i,o){js(4,i,o);const a=Ci(null);try{o.call(i)}finally{Ci(a),js(5,i,o)}}function nc(i,o,a,c){const h=a[c]<0,f=a[c+1],_=i[h?-a[c]:a[c]];h?i[qt]>>13<i[ji]>>16&&(3&i[qt])===o&&(i[qt]+=8192,pa(_,f)):pa(_,f)}const Gs=-1;class Ro{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function yl(i){return i!==Gs}function Xi(i){return 32767&i}function fr(i,o){let a=function Hn(i){return i>>16}(i),c=o;for(;a>0;)c=c[Dr],a--;return c}let eu=!0;function li(i){const o=eu;return eu=i,o}const tu=255,sc=5;let cv=0;const jr={};function _r(i,o){const a=vl(i,o);if(-1!==a)return a;const c=o[Xe];c.firstCreatePass&&(i.injectorIndex=o.length,ls(c.data,i),ls(o,null),ls(c.blueprint,null));const h=ma(i,o),f=i.injectorIndex;if(yl(h)){const y=Xi(h),_=fr(h,o),I=_[Xe].data;for(let b=0;b<8;b++)o[f+b]=_[y+b]|I[y+b]}return o[f+8]=h,f}function ls(i,o){i.push(0,0,0,0,0,0,0,0,o)}function vl(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function ma(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,h=o;for(;null!==h;){if(c=eg(h),null===c)return Gs;if(a++,h=h[Dr],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return Gs}function nu(i,o,a){!function ko(i,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(ln)&&(c=a[ln]),null==c&&(c=a[ln]=cv++);const h=c&tu;o.data[i+(h>>sc)]|=1<<h}(i,o,a)}function Ah(i,o,a){if(a&wt.Optional||void 0!==i)return i;be()}function ru(i,o,a,c){if(a&wt.Optional&&void 0===c&&(c=null),!(a&(wt.Self|wt.Host))){const h=i[Es],f=Rt(void 0);try{return h?h.get(o,c,a&wt.Optional):mr(o,c,a&wt.Optional)}finally{Rt(f)}}return Ah(c,0,a)}function Sh(i,o,a,c=wt.Default,h){if(null!==i){if(2048&o[qt]&&!(c&wt.Self)){const y=function Xp(i,o,a,c,h){let f=i,y=o;for(;null!==f&&null!==y&&2048&y[qt]&&!(512&y[qt]);){const _=_l(f,y,a,c|wt.Self,jr);if(_!==jr)return _;let I=f.parent;if(!I){const b=y[el];if(b){const A=b.get(a,jr,c);if(A!==jr)return A}I=eg(y),y=y[Dr]}f=I}return h}(i,o,a,c,jr);if(y!==jr)return y}const f=_l(i,o,a,c,jr);if(f!==jr)return f}return ru(o,a,c,h)}function _l(i,o,a,c,h){const f=function Lo(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(ln)?i[ln]:void 0;return"number"==typeof o?o>=0?o&tu:Vo:o}(a);if("function"==typeof f){if(!Ch(o,i,c))return c&wt.Host?Ah(h,0,c):ru(o,a,c,h);try{let y;if(y=f(c),null!=y||c&wt.Optional)return y;be()}finally{Pt()}}else if("number"==typeof f){let y=null,_=vl(i,o),I=Gs,b=c&wt.Host?o[Tr][Wr]:null;for((-1===_||c&wt.SkipSelf)&&(I=-1===_?ma(i,o):o[_+8],I!==Gs&&Yp(c,!1)?(y=o[Xe],_=Xi(I),o=fr(I,o)):_=-1);-1!==_;){const A=o[Xe];if(Kp(f,_,A.data)){const L=on(_,o,a,y,c,b);if(L!==jr)return L}I=o[_+8],I!==Gs&&Yp(c,o[Xe].data[_+8]===b)&&Kp(f,_,o)?(y=A,_=Xi(I),o=fr(I,o)):_=-1}}return h}function on(i,o,a,c,h,f){const y=o[Xe],_=y.data[i+8],A=Fo(_,y,a,null==c?Ji(_)&&eu:c!=y&&0!=(3&_.type),h&wt.Host&&f===_);return null!==A?ya(o,y,A,_):jr}function Fo(i,o,a,c,h){const f=i.providerIndexes,y=o.data,_=1048575&f,I=i.directiveStart,A=f>>20,W=h?_+A:i.directiveEnd;for(let ie=c?_:_+A;ie<W;ie++){const Re=y[ie];if(ie<I&&a===Re||ie>=I&&Re.type===a)return ie}if(h){const ie=y[I];if(ie&&or(ie)&&ie.type===a)return I}return null}function ya(i,o,a,c){let h=i[a];const f=o.data;if(function rc(i){return i instanceof Ro}(h)){const y=h;y.resolving&&function Be(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new ee(-200,`Circular dependency in DI detected for ${i}${a}`)}(function Me(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ue(i)}(f[a]));const _=li(y.canSeeViewProviders);y.resolving=!0;const b=y.injectImpl?Rt(y.injectImpl):null;Ch(i,c,wt.Default);try{h=i[a]=y.factory(void 0,f,i,c),o.firstCreatePass&&a>=c.directiveStart&&function Ai(i,o,a){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:f}=o.type.prototype;if(c){const y=ph(o);(a.preOrderHooks??=[]).push(i,y),(a.preOrderCheckHooks??=[]).push(i,y)}h&&(a.preOrderHooks??=[]).push(0-i,h),f&&((a.preOrderHooks??=[]).push(i,f),(a.preOrderCheckHooks??=[]).push(i,f))}(a,f[a],o)}finally{null!==b&&Rt(b),li(_),y.resolving=!1,Pt()}}return h}function Kp(i,o,a){return!!(a[o+(i>>sc)]&1<<i)}function Yp(i,o){return!(i&wt.Self||i&wt.Host&&o)}class $r{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return Sh(this._tNode,this._lView,o,mn(c),a)}}function Vo(){return new $r(ai(),Le())}function Jp(i){return de(()=>{const o=i.prototype.constructor,a=o[Rr]||wl(o),c=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==c;){const f=h[Rr]||wl(h);if(f&&f!==a)return f;h=Object.getPrototypeOf(h)}return f=>new f})}function wl(i){return We(i)?()=>{const o=wl(ke(i));return o&&o()}:Qs(i)}function eg(i){const o=i[Xe],a=o.type;return 2===a?o.declTNode:1===a?i[Wr]:null}function El(i){return function Wp(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const c=a.length;let h=0;for(;h<c;){const f=a[h];if(gi(f))break;if(0===f)h+=2;else if("number"==typeof f)for(h++;h<c&&"string"==typeof a[h];)h++;else{if(f===o)return a[h+1];h+=2}}}return null}(ai(),i)}const va="__parameters__";function xn(i,o,a){return de(()=>{const c=function Uo(i){return function(...a){if(i){const c=i(...a);for(const h in c)this[h]=c[h]}}}(o);function h(...f){if(this instanceof h)return c.apply(this,f),this;const y=new h(...f);return _.annotation=y,_;function _(I,b,A){const L=I.hasOwnProperty(va)?I[va]:Object.defineProperty(I,va,{value:[]})[va];for(;L.length<=A;)L.push(null);return(L[A]=L[A]||[]).push(y),I}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}function su(i,o){i.forEach(a=>Array.isArray(a)?su(a,o):o(a))}function dv(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function ou(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function es(i,o,a){let c=au(i,o);return c>=0?i[1|c]=a:(c=~c,function rg(i,o,a,c){let h=i.length;if(h==o)i.push(a,c);else if(1===h)i.push(c,i[0]),i[0]=a;else{for(h--,i.push(i[h-1],i[h]);h>o;)i[h]=i[h-2],h--;i[o]=a,i[o+1]=c}}(i,c,o,a)),c}function Oh(i,o){const a=au(i,o);if(a>=0)return i[1|a]}function au(i,o){return function Al(i,o,a){let c=0,h=i.length>>a;for(;h!==c;){const f=c+(h-c>>1),y=i[f<<a];if(o===y)return f<<a;y>o?h=f:c=f+1}return~(h<<a)}(i,o,1)}const ge=wn(xn("Optional"),8),rt=wn(xn("SkipSelf"),4);function og(i){return 128==(128&i.flags)}var Rh=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(Rh||{});const kh=new Map;let MT=0;const cg="__ngContext__";function Gi(i,o){Yn(o)?(i[cg]=o[cs],function kE(i){kh.set(i[cs],i)}(o)):i[cg]=o}let Vh;function Ds(i,o){return Vh(i,o)}function Ia(i){const o=i[Bn];return Mn(o)?o[Bn]:o}function VE(i){return Uh(i[ha])}function bv(i){return Uh(i[oi])}function Uh(i){for(;null!==i&&!Mn(i);)i=i[oi];return i}function Nl(i,o,a,c,h){if(null!=c){let f,y=!1;Mn(c)?f=c:Yn(c)&&(y=!0,c=c[Kn]);const _=$n(c);0===i&&null!==a?null==h?$E(o,a,_):mc(o,a,_,h||null,!0):1===i&&null!==a?mc(o,a,_,h||null,!0):2===i?function pg(i,o,a){const c=fg(i,o);c&&function GT(i,o,a,c){i.removeChild(o,a,c)}(i,c,o,a)}(o,_,y):3===i&&o.destroyNode(_),null!=f&&function qT(i,o,a,c,h){const f=a[et];f!==$n(a)&&Nl(o,i,c,f,h);for(let _=Bt;_<a.length;_++){const I=a[_];zh(I[Xe],I,i,o,c,f)}}(o,i,f,a,h)}}function dg(i,o,a){return i.createElement(o,a)}function UE(i,o){const a=i[Ft],c=a.indexOf(o);tv(o),a.splice(c,1)}function hg(i,o){if(i.length<=Bt)return;const a=Bt+o,c=i[a];if(c){const h=c[Bi];null!==h&&h!==i&&UE(h,c),o>0&&(i[a-1][oi]=c[oi]);const f=ou(i,Bt+o);!function UT(i,o){zh(i,o,o[kt],2,null,null),o[Kn]=null,o[Wr]=null}(c[Xe],c);const y=f[mi];null!==y&&y.detachView(f[Xe]),c[Bn]=null,c[oi]=null,c[qt]&=-129}return c}function Dv(i,o){if(!(256&o[qt])){const a=o[kt];o[B]&&ch(o[B]),o[F]&&ch(o[F]),a.destroyNode&&zh(i,o,a,3,null,null),function BT(i){let o=i[ha];if(!o)return BE(i[Xe],i);for(;o;){let a=null;if(Yn(o))a=o[ha];else{const c=o[Bt];c&&(a=c)}if(!a){for(;o&&!o[oi]&&o!==i;)Yn(o)&&BE(o[Xe],o),o=o[Bn];null===o&&(o=i),Yn(o)&&BE(o[Xe],o),a=o&&o[oi]}o=a}}(o)}}function BE(i,o){if(!(256&o[qt])){o[qt]&=-129,o[qt]|=256,function jE(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const h=o[a[c]];if(!(h instanceof Ro)){const f=a[c+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const _=h[f[y]],I=f[y+1];js(4,_,I);try{I.call(_)}finally{js(5,_,I)}}else{js(4,h,f);try{f.call(h)}finally{js(5,h,f)}}}}}(i,o),function HT(i,o){const a=i.cleanup,c=o[Do];if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const y=a[f+3];y>=0?c[y]():c[-y].unsubscribe(),f+=2}else a[f].call(c[a[f+1]]);null!==c&&(o[Do]=null);const h=o[Ys];if(null!==h){o[Ys]=null;for(let f=0;f<h.length;f++)(0,h[f])()}}(i,o),1===o[Xe].type&&o[kt].destroy();const a=o[Bi];if(null!==a&&Mn(o[Bn])){a!==o[Bn]&&UE(a,o);const c=o[mi];null!==c&&c.detachView(i)}!function Fh(i){kh.delete(i[cs])}(o)}}function Rl(i,o,a){return function gc(i,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[Kn];{const{componentOffset:h}=c;if(h>-1){const{encapsulation:f}=i.data[c.directiveStart+h];if(f===at.None||f===at.Emulated)return null}return bi(c,a)}}(i,o.parent,a)}function mc(i,o,a,c,h){i.insertBefore(o,a,c,h)}function $E(i,o,a){i.appendChild(o,a)}function HE(i,o,a,c,h){null!==c?mc(i,o,a,c,h):$E(i,o,a)}function fg(i,o){return i.parentNode(o)}let Av,KE,mg,Tv=function zE(i,o,a){return 40&i.type?bi(i,a):null};function Hh(i,o,a,c){const h=Rl(i,c,o),f=o[kt],_=function GE(i,o,a){return Tv(i,o,a)}(c.parent||o[Wr],c,o);if(null!=h)if(Array.isArray(a))for(let I=0;I<a.length;I++)HE(f,h,a[I],_,!1);else HE(f,h,a,_,!1);void 0!==Av&&Av(f,c,o,a,h)}function $o(i,o){if(null!==o){const a=o.type;if(3&a)return bi(o,i);if(4&a)return Mv(-1,i[o.index]);if(8&a){const c=o.child;if(null!==c)return $o(i,c);{const h=i[o.index];return Mn(h)?Mv(-1,h):$n(h)}}if(32&a)return Ds(o,i)()||$n(i[o.index]);{const c=Sv(i,o);return null!==c?Array.isArray(c)?c[0]:$o(Ia(i[Tr]),c):$o(i,o.next)}}return null}function Sv(i,o){return null!==o?i[Tr][Wr].projection[o.projection]:null}function Mv(i,o){const a=Bt+i+1;if(a<o.length){const c=o[a],h=c[Xe].firstChild;if(null!==h)return $o(c,h)}return o[et]}function Gh(i,o,a,c,h,f,y){for(;null!=a;){const _=c[a.index],I=a.type;if(y&&0===o&&(_&&Gi($n(_),c),a.flags|=2),32!=(32&a.flags))if(8&I)Gh(i,o,a.child,c,h,f,!1),Nl(o,i,h,_,f);else if(32&I){const b=Ds(a,c);let A;for(;A=b();)Nl(o,i,h,A,f);Nl(o,i,h,_,f)}else 16&I?Ov(i,o,c,a,h,f):Nl(o,i,h,_,f);a=y?a.projectionNext:a.next}}function zh(i,o,a,c,h,f){Gh(a,c,i.firstChild,o,h,f,!1)}function Ov(i,o,a,c,h,f){const y=a[Tr],I=y[Wr].projection[c.projection];if(Array.isArray(I))for(let b=0;b<I.length;b++)Nl(o,i,h,I[b],f);else{let b=I;const A=y[Bn];og(c)&&(b.flags|=128),Gh(i,o,b,A,h,f,!0)}}function ZE(i,o,a){""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a)}function qh(i,o,a){const{mergedAttrs:c,classes:h,styles:f}=a;null!==c&&ii(i,o,c),null!==h&&ZE(i,o,h),null!==f&&function WT(i,o,a){i.setAttribute(o,"style",a)}(i,o,f)}function YE(i){KE=i}function XE(i){return function Nv(){if(void 0===mg&&(mg=null,Kt.trustedTypes))try{mg=Kt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return mg}()?.createScriptURL(i)||i}class eI{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ft})`}}function lu(i){return i instanceof eI?i.changingThisBreaksApplicationSecurity:i}function Ll(i,o){const a=function yg(i){return i instanceof eI&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${ft})`)}return a===o}const Zh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Yh=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(Yh||{});function Qh(i){const o=Jh();return o?o.sanitize(Yh.URL,i)||"":Ll(i,"URL")?lu(i):function _g(i){return(i=String(i)).match(Zh)?i:"unsafe:"+i}(ue(i))}function cI(i){const o=Jh();if(o)return XE(o.sanitize(Yh.RESOURCE_URL,i)||"");if(Ll(i,"ResourceURL"))return XE(lu(i));throw new ee(904,!1)}function c1(i,o,a){return function u1(i,o){return"src"===o&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===o&&("base"===i||"link"===i)?cI:Qh}(o,a)(i)}function Jh(){const i=Le();return i&&i[Ei].sanitizer}class zn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=yt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Vl=new zn("ENVIRONMENT_INITIALIZER"),dI=new zn("INJECTOR",-1),hI=new zn("INJECTOR_DEF_TYPES");class Eg{get(o,a=He){if(a===He){const c=new Error(`NullInjectorError: No provider for ${ne(o)}!`);throw c.name="NullInjectorError",c}return a}}function Uv(i){return{\u0275providers:i}}function l1(...i){return{\u0275providers:fI(0,i),\u0275fromNgModule:!0}}function fI(i,...o){const a=[],c=new Set;let h;const f=y=>{a.push(y)};return su(o,y=>{const _=y;Ig(_,f,[],c)&&(h||=[],h.push(_))}),void 0!==h&&pI(h,f),a}function pI(i,o){for(let a=0;a<i.length;a++){const{ngModule:c,providers:h}=i[a];Bv(h,f=>{o(f,c)})}}function Ig(i,o,a,c){if(!(i=ke(i)))return!1;let h=null,f=Wn(i);const y=!f&&Cn(i);if(f||y){if(y&&!y.standalone)return!1;h=i}else{const I=i.ngModule;if(f=Wn(I),!f)return!1;h=I}const _=c.has(h);if(y){if(_)return!1;if(c.add(h),y.dependencies){const I="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const b of I)Ig(b,o,a,c)}}else{if(!f)return!1;{if(null!=f.imports&&!_){let b;c.add(h);try{su(f.imports,A=>{Ig(A,o,a,c)&&(b||=[],b.push(A))})}finally{}void 0!==b&&pI(b,o)}if(!_){const b=Qs(h)||(()=>new h);o({provide:h,useFactory:b,deps:lt},h),o({provide:hI,useValue:h,multi:!0},h),o({provide:Vl,useValue:()=>Qe(h),multi:!0},h)}const I=f.providers;if(null!=I&&!_){const b=i;Bv(I,A=>{o(A,b)})}}}return h!==i&&void 0!==i.providers}function Bv(i,o){for(let a of i)Se(a)&&(a=a.\u0275providers),Array.isArray(a)?Bv(a,o):o(a)}const $M=V({provide:String,useValue:V});function gI(i){return null!==i&&"object"==typeof i&&$M in i}function Ul(i){return"function"==typeof i}const _e=new zn("Set Injector scope."),Xh={},p1={};let jv;function Cg(){return void 0===jv&&(jv=new Eg),jv}class Ho{}class Sr extends Ho{get destroyed(){return this._destroyed}constructor(o,a,c,h){super(),this.parent=a,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fn(o,y=>this.processProvider(y)),this.records.set(dI,Bl(void 0,this)),h.has("environment")&&this.records.set(Ho,Bl(void 0,this));const f=this.records.get(_e);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(hI.multi,lt,wt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of o)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const a=X(this),c=Rt(void 0);try{return o()}finally{X(a),Rt(c)}}get(o,a=He,c=wt.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(Ls))return o[Ls](this);c=mn(c);const f=X(this),y=Rt(void 0);try{if(!(c&wt.SkipSelf)){let I=this.records.get(o);if(void 0===I){const b=function du(i){return"function"==typeof i||"object"==typeof i&&i instanceof zn}(o)&&Ln(o);I=b&&this.injectableDefInScope(b)?Bl(ef(o),Xh):null,this.records.set(o,I)}if(null!=I)return this.hydrate(o,I)}return(c&wt.Self?Cg():this.parent).get(o,a=c&wt.Optional&&a===He?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[Et]=_[Et]||[]).unshift(ne(o)),f)throw _;return function yr(i,o,a,c){const h=i[Et];throw o[P]&&h.unshift(o[P]),i.message=function K(i,o,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let h=ne(o);if(Array.isArray(o))h=o.map(ne).join(" -> ");else if("object"==typeof o){let f=[];for(let y in o)if(o.hasOwnProperty(y)){let _=o[y];f.push(y+":"+("string"==typeof _?JSON.stringify(_):ne(_)))}h=`{${f.join(", ")}}`}return`${a}${c?"("+c+")":""}[${h}]: ${i.replace(G,"\n  ")}`}("\n"+i.message,h,a,c),i.ngTokenPath=h,i[Et]=null,i}(_,o,"R3InjectorError",this.source)}throw _}finally{Rt(y),X(f)}}resolveInjectorInitializers(){const o=X(this),a=Rt(void 0);try{const h=this.get(Vl.multi,lt,wt.Self);for(const f of h)f()}finally{X(o),Rt(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(ne(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ee(205,!1)}processProvider(o){let a=Ul(o=ke(o))?o:ke(o&&o.provide);const c=function Oi(i){return gI(i)?Bl(void 0,i.useValue):Bl(m1(i),Xh)}(o);if(Ul(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=Bl(void 0,Xh,!0),h.factory=()=>Vt(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===Xh&&(a.value=p1,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Dg(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=ke(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(o){const a=this._onDestroyHooks.indexOf(o);-1!==a&&this._onDestroyHooks.splice(a,1)}}function ef(i){const o=Ln(i),a=null!==o?o.factory:Qs(i);if(null!==a)return a;if(i instanceof zn)throw new ee(204,!1);if(i instanceof Function)return function g1(i){const o=i.length;if(o>0)throw function Bo(i,o){const a=[];for(let c=0;c<i;c++)a.push(o);return a}(o,"?"),new ee(204,!1);const a=function ir(i){return i&&(i[Vn]||i[er])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new ee(204,!1)}function m1(i,o,a){let c;if(Ul(i)){const h=ke(i);return Qs(h)||ef(h)}if(gI(i))c=()=>ke(i.useValue);else if(function f1(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...Vt(i.deps||[]));else if(function h1(i){return!(!i||!i.useExisting)}(i))c=()=>Qe(ke(i.useExisting));else{const h=ke(i&&(i.useClass||i.provide));if(!function bg(i){return!!i.deps}(i))return Qs(h)||ef(h);c=()=>new h(...Vt(i.deps))}return c}function Bl(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function Fn(i,o){for(const a of i)Array.isArray(a)?Fn(a,o):a&&Se(a)?Fn(a.\u0275providers,o):o(a)}const mI=new zn("AppId",{providedIn:"root",factory:()=>uo}),uo="ng",pt=new zn("Platform Initializer"),tf=new zn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),nf=new zn("CSP nonce",{providedIn:"root",factory:()=>function yc(){if(void 0!==KE)return KE;if(typeof document<"u")return document;throw new ee(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let vI=(i,o,a)=>null;function rf(i,o,a=!1){return vI(i,o,a)}class E1{}class ql{}class Jv{resolveComponentFactory(o){throw function I1(i){const o=Error(`No component factory found for ${ne(i)}.`);return o.ngComponent=i,o}(o)}}let Ag=(()=>{class i{static#e=this.NULL=new Jv}return i})();function CI(){return wc(ai(),Le())}function wc(i,o){return new Zl(bi(i,o))}let Zl=(()=>{class i{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=CI}return i})();function Sg(i){return i instanceof Zl?i.nativeElement:i}class Mg{}let Xv=(()=>{class i{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function e_(){const i=Le(),a=$i(ai().index,i);return(Yn(a)?a:i)[kt]}()}return i})(),t_=(()=>{class i{static#e=this.\u0275prov=yt({token:i,providedIn:"root",factory:()=>null})}return i})();class n_{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const r_=new n_("16.2.8"),i_={};function Rg(i,o=null,a=null,c){const h=DI(i,o,a,c);return h.resolveInjectorInitializers(),h}function DI(i,o=null,a=null,c,h=new Set){const f=[a||lt,l1(i)];return c=c||("object"==typeof i?void 0:ne(i)),new Sr(f,o||Cg(),c||null,h)}let co=(()=>{class i{static#e=this.THROW_IF_NOT_FOUND=He;static#t=this.NULL=new Eg;static create(a,c){if(Array.isArray(a))return Rg({name:""},c,a,"");{const h=a.name??"";return Rg({name:h},a.parent,a.providers,h)}}static#n=this.\u0275prov=yt({token:i,providedIn:"any",factory:()=>Qe(dI)});static#r=this.__NG_ELEMENT_ID__=-1}return i})();function a_(i){return i.ngOriginalError}class pu{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&a_(o);for(;a&&a_(a);)a=a_(a);return a||null}}function Fg(i){return o=>{setTimeout(i,void 0,o)}}const zo=class c_ extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let h=o,f=a||(()=>null),y=c;if(o&&"object"==typeof o){const I=o;h=I.next?.bind(I),f=I.error?.bind(I),y=I.complete?.bind(I)}this.__isAsync&&(f=Fg(f),h&&(h=Fg(h)),y&&(y=Fg(y)));const _=super.subscribe({next:h,error:f,complete:y});return o instanceof U.w0&&o.add(_),_}};function uf(...i){}class di{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zo(!1),this.onMicrotaskEmpty=new zo(!1),this.onStable=new zo(!1),this.onError=new zo(!1),typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&a,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function l_(){const i="function"==typeof Kt.requestAnimationFrame;let o=Kt[i?"requestAnimationFrame":"setTimeout"],a=Kt[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function MI(i){const o=()=>{!function SI(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Kt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Lg(i),i.isCheckStableRunning=!0,Ec(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Lg(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,h,f,y,_)=>{if(function S1(i){return!(!Array.isArray(i)||1!==i.length)&&!0===i[0].data?.__ignore_ng_zone__}(_))return a.invokeTask(h,f,y,_);try{return cf(i),a.invokeTask(h,f,y,_)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&o(),xI(i)}},onInvoke:(a,c,h,f,y,_,I)=>{try{return cf(i),a.invoke(h,f,y,_,I)}finally{i.shouldCoalesceRunChangeDetection&&o(),xI(i)}},onHasTask:(a,c,h,f)=>{a.hasTask(h,f),c===h&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,Lg(i),Ec(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,h,f)=>(a.handleError(h,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!di.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(di.isInAngularZone())throw new ee(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,h){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+h,o,T1,uf,uf);try{return f.runTask(y,a,c)}finally{f.cancelTask(y)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const T1={};function Ec(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Lg(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function cf(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function xI(i){i._nesting--,Ec(i)}class A1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zo,this.onMicrotaskEmpty=new zo,this.onStable=new zo,this.onError=new zo}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,h){return o.apply(a,c)}}const Ic=new zn("",{providedIn:"root",factory:OI});function OI(){const i=ot(di);let o=!0;const a=new N.y(h=>{o=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{h.next(o),h.complete()})}),c=new N.y(h=>{let f;i.runOutsideAngular(()=>{f=i.onStable.subscribe(()=>{di.assertNotInAngularZone(),queueMicrotask(()=>{!o&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(o=!0,h.next(!0))})})});const y=i.onUnstable.subscribe(()=>{di.assertInAngularZone(),o&&(o=!1,i.runOutsideAngular(()=>{h.next(!1)}))});return()=>{f.unsubscribe(),y.unsubscribe()}});return(0,Y.T)(a,c.pipe((0,we.B)()))}function Ts(i){return i instanceof Function?i():i}let Vg=(()=>{class i{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=yt({token:i,providedIn:"root",factory:()=>new i})}return i})();function Tc(i){for(;i;){i[qt]|=64;const o=Ia(i);if(Ii(i)&&!o)return i;i=o}return null}const Kl=new zn("",{providedIn:"root",factory:()=>!1});let ff=null;function Ql(i,o){return i[o]??gu()}function y_(i,o){const a=gu();a.producerNode?.length&&(i[o]=ff,a.lView=i,ff=Jl())}const jg={...ah,consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{Tc(i.lView)},lView:null};function Jl(){return Object.create(jg)}function gu(){return ff??=Jl(),ff}const tn={};function kI(i){FI(An(),Le(),Ti()+i,!1)}function FI(i,o,a,c){if(!c)if(3==(3&o[qt])){const f=i.preOrderCheckHooks;null!==f&&Ja(o,f,a)}else{const f=i.preOrderHooks;null!==f&&Xa(o,f,0,a)}eo(a)}function Ac(i,o=wt.Default){const a=Le();return null===a?Qe(i,o):Sh(ai(),a,ke(i),o)}function v_(){throw new Error("invalid")}function qo(i,o,a,c,h,f,y,_,I,b,A){const L=o.blueprint.slice();return L[Kn]=h,L[qt]=140|c,(null!==b||i&&2048&i[qt])&&(L[qt]|=2048),Rp(L),L[Bn]=L[Dr]=i,L[hr]=a,L[Ei]=y||i&&i[Ei],L[kt]=_||i&&i[kt],L[Es]=I||i&&i[Es]||null,L[Wr]=f,L[cs]=function ug(){return MT++}(),L[Is]=A,L[el]=b,L[Tr]=2==o.type?i[Tr]:L,L}function gs(i,o,a,c,h){let f=i.data[o];if(null===f)f=function Xl(i,o,a,c,h){const f=hl(),y=Bp(),I=i.data[o]=function UI(i,o,a,c,h,f){let y=o?o.injectorIndex:-1,_=0;return function xo(){return null!==zt.skipHydrationRootTNode}()&&(_|=128),{type:a,index:c,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:_,providerIndexes:0,value:h,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,a,o,c,h);return null===i.firstChild&&(i.firstChild=I),null!==f&&(y?null==f.child&&null!==I.parent&&(f.child=I):null===f.next&&(f.next=I,I.prev=f)),I}(i,o,a,c,h),function bE(){return zt.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=a,f.value=c,f.attrs=h;const y=function Xu(){const i=zt.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return $s(f,!0),f}function mu(i,o,a,c){if(0===a)return-1;const h=o.length;for(let f=0;f<a;f++)o.push(c),i.blueprint.push(c),i.data.push(null);return h}function __(i,o,a,c,h){const f=Ql(o,B),y=Ti(),_=2&c;try{eo(-1),_&&o.length>j&&FI(i,o,j,!1),js(_?2:0,h);const b=_?f:null,A=Tp(b);try{null!==b&&(b.dirty=!1),a(c,h)}finally{rl(b,A)}}finally{_&&null===o[B]&&y_(o,B),eo(y),js(_?3:1,h)}}function nr(i,o,a){if(To(o)){const c=Ci(null);try{const f=o.directiveEnd;for(let y=o.directiveStart;y<f;y++){const _=i.data[y];_.contentQueries&&_.contentQueries(1,a[y],y)}}finally{Ci(c)}}}function ed(i,o,a){Ya()&&(function $I(i,o,a,c){const h=a.directiveStart,f=a.directiveEnd;Ji(a)&&function GI(i,o,a){const c=bi(o,i),h=td(a);let y=16;a.signals?y=4096:a.onPush&&(y=64);const _=qg(i,qo(i,h,null,y,c,o,null,i[Ei].rendererFactory.createRenderer(c,a),null,null,null));i[o.index]=_}(o,a,i.data[h+a.componentOffset]),i.firstCreatePass||_r(a,o),Gi(c,o);const y=a.initialInputs;for(let _=h;_<f;_++){const I=i.data[_],b=ya(o,i,_,a);Gi(b,o),null!==y&&j1(0,_-h,b,I,0,y),or(I)&&($i(a.index,o)[hr]=ya(o,i,_,a))}}(i,o,a,bi(a,o)),64==(64&a.flags)&&HI(i,o,a))}function Sc(i,o,a=bi){const c=o.localNames;if(null!==c){let h=o.index+1;for(let f=0;f<c.length;f+=2){const y=c[f+1],_=-1===y?a(o,i):i[y];i[h++]=_}}}function td(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=w_(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):o}function w_(i,o,a,c,h,f,y,_,I,b,A){const L=j+c,W=L+h,ie=function LI(i,o){const a=[];for(let c=0;c<o;c++)a.push(c<i?null:tn);return a}(L,W),Re="function"==typeof b?b():b;return ie[Xe]={type:i,blueprint:ie,template:a,queries:null,viewQuery:_,declTNode:o,data:ie.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:W,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:Re,incompleteFirstPass:!1,ssrId:A}}let VI=i=>null;function E_(i,o,a,c){for(let h in i)if(i.hasOwnProperty(h)){a=null===a?{}:a;const f=i[h];null===c?I_(a,o,h,f):c.hasOwnProperty(h)&&I_(a,o,c[h],f)}return a}function I_(i,o,a,c){i.hasOwnProperty(a)?i[a].push(o,c):i[a]=[o,c]}function $g(i,o,a,c){if(Ya()){const h=null===c?null:{"":-1},f=function B1(i,o){const a=i.directiveRegistry;let c=null,h=null;if(a)for(let f=0;f<a.length;f++){const y=a[f];if(ca(o,y.selectors,!1))if(c||(c=[]),or(y))if(null!==y.findHostDirectiveDefs){const _=[];h=h||new Map,y.findHostDirectiveDefs(y,_,h),c.unshift(..._,y),b_(i,o,_.length)}else c.unshift(y),b_(i,o,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,c,h),c.push(y)}return null===c?null:[c,h]}(i,a);let y,_;null===f?y=_=null:[y,_]=f,null!==y&&Hg(i,o,a,y,h,_),h&&function Gg(i,o,a){if(o){const c=i.localNames=[];for(let h=0;h<o.length;h+=2){const f=a[o[h+1]];if(null==f)throw new ee(-301,!1);c.push(o[h],f)}}}(a,c,h)}a.mergedAttrs=_s(a.mergedAttrs,a.attrs)}function Hg(i,o,a,c,h,f){for(let b=0;b<c.length;b++)nu(_r(a,o),i,c[b].type);!function zg(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}(a,i.data.length,c.length);for(let b=0;b<c.length;b++){const A=c[b];A.providersResolver&&A.providersResolver(A)}let y=!1,_=!1,I=mu(i,o,c.length,null);for(let b=0;b<c.length;b++){const A=c[b];a.mergedAttrs=_s(a.mergedAttrs,A.hostAttrs),D_(i,a,o,I,A),gf(I,A,h),null!==A.contentQueries&&(a.flags|=4),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(a.flags|=64);const L=A.type.prototype;!y&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((i.preOrderHooks??=[]).push(a.index),y=!0),!_&&(L.ngOnChanges||L.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(a.index),_=!0),I++}!function nd(i,o,a){const h=o.directiveEnd,f=i.data,y=o.attrs,_=[];let I=null,b=null;for(let A=o.directiveStart;A<h;A++){const L=f[A],W=a?a.get(L):null,Re=W?W.outputs:null;I=E_(L.inputs,A,I,W?W.inputs:null),b=E_(L.outputs,A,b,Re);const Ke=null===I||null===y||Ui(o)?null:zI(I,A,y);_.push(Ke)}null!==I&&(I.hasOwnProperty("class")&&(o.flags|=8),I.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=_,o.inputs=I,o.outputs=b}(i,a,f)}function HI(i,o,a){const c=a.directiveStart,h=a.directiveEnd,f=a.index,y=function DE(){return zt.lFrame.currentDirectiveIndex}();try{eo(f);for(let _=c;_<h;_++){const I=i.data[_],b=o[_];Gp(_),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&U1(I,b)}}finally{eo(-1),Gp(y)}}function U1(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function b_(i,o,a){o.componentOffset=a,(i.components??=[]).push(o.index)}function gf(i,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=i;or(o)&&(a[""]=i)}}function D_(i,o,a,c,h){i.data[c]=h;const f=h.factory||(h.factory=Qs(h.type)),y=new Ro(f,or(h),Ac);i.blueprint[c]=y,a[c]=y,function C_(i,o,a,c,h){const f=h.hostBindings;if(f){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const _=~o.index;(function jI(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(y)!=_&&y.push(_),y.push(a,c,f)}}(i,o,c,mu(i,a,h.hostVars,tn),h)}function ms(i,o,a,c,h,f){const y=bi(i,o);!function Mc(i,o,a,c,h,f,y){if(null==f)i.removeAttribute(o,h,a);else{const _=null==y?ue(f):y(f,c||"",h);i.setAttribute(o,h,_,a)}}(o[kt],y,f,i.value,a,c,h)}function j1(i,o,a,c,h,f){const y=f[o];if(null!==y)for(let _=0;_<y.length;)xr(c,a,y[_++],y[_++],y[_++])}function xr(i,o,a,c,h){const f=Ci(null);try{const y=i.inputTransforms;null!==y&&y.hasOwnProperty(c)&&(h=y[c].call(o,h)),null!==i.setInput?i.setInput(o,h,a,c):o[c]=h}finally{Ci(f)}}function zI(i,o,a){let c=null,h=0;for(;h<a.length;){const f=a[h];if(0!==f)if(5!==f){if("number"==typeof f)break;if(i.hasOwnProperty(f)){null===c&&(c=[]);const y=i[f];for(let _=0;_<y.length;_+=2)if(y[_]===o){c.push(f,y[_+1],a[h+1]);break}}h+=2}else h+=2;else h+=4}return c}function qI(i,o,a,c){return[i,!0,!1,o,null,0,c,a,null,null,null]}function ZI(i,o){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const f=a[c+1];if(-1!==f){const y=i.data[f];zp(a[c]),y.contentQueries(2,o[f],f)}}}function qg(i,o){return i[ha]?i[nh][oi]=o:i[ha]=o,i[nh]=o,o}function Zg(i,o,a){zp(0);const c=Ci(null);try{o(i,a)}finally{Ci(c)}}function T_(i){return i[Do]||(i[Do]=[])}function mf(i){return i.cleanup||(i.cleanup=[])}function lo(i,o){const a=i[Es],c=a?a.get(pu,null):null;c&&c.handleError(o)}function Wg(i,o,a,c,h){for(let f=0;f<a.length;){const y=a[f++],_=a[f++];xr(i.data[y],o[y],c,_,h)}}function ba(i,o,a){const c=Xs(o,i);!function fc(i,o,a){i.setValue(o,a)}(i[kt],c,a)}function WI(i,o){const a=$i(o,i),c=a[Xe];!function S_(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])}(c,a);const h=a[Kn];null!==h&&null===a[Is]&&(a[Is]=rf(h,a[Es])),xc(c,a,a[hr])}function xc(i,o,a){Di(o);try{const c=i.viewQuery;null!==c&&Zg(1,c,a);const h=i.template;null!==h&&__(i,o,h,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&ZI(i,o),i.staticViewQueries&&Zg(2,i.viewQuery,a);const f=i.components;null!==f&&function KI(i,o){for(let a=0;a<o.length;a++)WI(i,o[a])}(o,f)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{o[qt]&=-5,ci()}}let Kg=(()=>{class i{constructor(){this.all=new Set,this.queue=new Map}create(a,c,h){const f=typeof Zone>"u"?null:Zone.current,y=function Qy(i,o,a){const c=Object.create(_E);a&&(c.consumerAllowSignalWrites=!0),c.fn=i,c.schedule=o;const h=y=>{c.cleanupFn=y};return c.ref={notify:()=>Gy(c),run:()=>{if(c.dirty=!1,c.hasRun&&!zy(c))return;c.hasRun=!0;const y=Tp(c);try{c.cleanupFn(),c.cleanupFn=Pp,c.fn(h)}finally{rl(c,y)}},cleanup:()=>c.cleanupFn()},c.ref}(a,b=>{this.all.has(b)&&this.queue.set(b,f)},h);let _;this.all.add(y),y.notify();const I=()=>{y.cleanup(),_?.(),this.all.delete(y),this.queue.delete(y)};return _=c?.onDestroy(I),{destroy:I}}flush(){if(0!==this.queue.size)for(const[a,c]of this.queue)this.queue.delete(a),c?c.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=yt({token:i,providedIn:"root",factory:()=>new i})}return i})();function yf(i,o,a){let c=a?i.styles:null,h=a?i.classes:null,f=0;if(null!==o)for(let y=0;y<o.length;y++){const _=o[y];"number"==typeof _?f=_:1==f?h=Ue(h,_):2==f&&(c=Ue(c,_+": "+o[++y]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=h:i.classesWithoutHost=h}function vu(i,o,a,c,h=!1){for(;null!==a;){const f=o[a.index];null!==f&&c.push($n(f)),Mn(f)&&YI(f,c);const y=a.type;if(8&y)vu(i,o,a.child,c);else if(32&y){const _=Ds(a,o);let I;for(;I=_();)c.push(I)}else if(16&y){const _=Sv(o,a);if(Array.isArray(_))c.push(..._);else{const I=Ia(o[Tr]);vu(I[Xe],I,_,c,!0)}}a=h?a.projectionNext:a.next}return c}function YI(i,o){for(let a=Bt;a<i.length;a++){const c=i[a],h=c[Xe].firstChild;null!==h&&vu(c[Xe],c,h,o)}i[et]!==i[Kn]&&o.push(i[et])}function vf(i,o,a,c=!0){const h=o[Ei],f=h.rendererFactory,y=h.afterRenderEventManager;f.begin?.(),y?.begin();try{M_(i,o,i.template,a)}catch(I){throw c&&lo(o,I),I}finally{f.end?.(),h.effectManager?.flush(),y?.end()}}function M_(i,o,a,c){const h=o[qt];if(256!=(256&h)){o[Ei].effectManager?.flush(),Di(o);try{Rp(o),function ov(i){return zt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&__(i,o,a,2,c);const y=3==(3&h);if(y){const b=i.preOrderCheckHooks;null!==b&&Ja(o,b,null)}else{const b=i.preOrderHooks;null!==b&&Xa(o,b,0,null),pl(o,0)}if(function x_(i){for(let o=VE(i);null!==o;o=bv(o)){if(!o[Ze])continue;const a=o[Ft];for(let c=0;c<a.length;c++){Qu(a[c])}}}(o),Jg(o,2),null!==i.contentQueries&&ZI(i,o),y){const b=i.contentCheckHooks;null!==b&&Ja(o,b)}else{const b=i.contentHooks;null!==b&&Xa(o,b,1),pl(o,1)}!function P1(i,o){const a=i.hostBindingOpCodes;if(null===a)return;const c=Ql(o,F);try{for(let h=0;h<a.length;h++){const f=a[h];if(f<0)eo(~f);else{const y=f,_=a[++h],I=a[++h];Hp(_,y),c.dirty=!1;const b=Tp(c);try{I(2,o[y])}finally{rl(c,b)}}}}finally{null===o[F]&&y_(o,F),eo(-1)}}(i,o);const _=i.components;null!==_&&O_(o,_,0);const I=i.viewQuery;if(null!==I&&Zg(2,I,c),y){const b=i.viewCheckHooks;null!==b&&Ja(o,b)}else{const b=i.viewHooks;null!==b&&Xa(o,b,2),pl(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[qt]&=-73,tv(o)}finally{ci()}}}function Jg(i,o){for(let a=VE(i);null!==a;a=bv(a))for(let c=Bt;c<a.length;c++)_f(a[c],o)}function JI(i,o,a){_f($i(o,i),a)}function _f(i,o){if(!function IE(i){return 128==(128&i[qt])}(i))return;const a=i[Xe],c=i[qt];if(80&c&&0===o||1024&c||2===o)M_(a,i,a.template,i[hr]);else if(i[Bs]>0){Jg(i,1);const h=a.components;null!==h&&O_(i,h,1)}}function O_(i,o,a){for(let c=0;c<o.length;c++)JI(i,o[c],a)}class rd{get rootNodes(){const o=this._lView,a=o[Xe];return vu(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[hr]}set context(o){this._lView[hr]=o}get destroyed(){return 256==(256&this._lView[qt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Bn];if(Mn(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(hg(o,c),ou(a,c))}this._attachedToViewContainer=!1}Dv(this._lView[Xe],this._lView)}onDestroy(o){!function _h(i,o){if(256==(256&i[qt]))throw new ee(911,!1);null===i[Ys]&&(i[Ys]=[]),i[Ys].push(o)}(this._lView,o)}markForCheck(){Tc(this._cdRefInjectingView||this._lView)}detach(){this._lView[qt]&=-129}reattach(){this._lView[qt]|=128}detectChanges(){vf(this._lView[Xe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function jh(i,o){zh(i,o,o[kt],2,null,null)}(this._lView[Xe],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=o}}class Oc extends rd{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;vf(o[Xe],o,o[hr],!1)}checkNoChanges(){}get context(){return null}}class P_ extends Ag{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Cn(o);return new _u(a,this.ngModule)}}function N_(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class eC{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){c=mn(c);const h=this.injector.get(o,i_,c);return h!==i_||a===i_?h:this.parentInjector.get(o,a,c)}}class _u extends ql{get inputs(){const o=this.componentDef,a=o.inputTransforms,c=N_(o.inputs);if(null!==a)for(const h of c)a.hasOwnProperty(h.propName)&&(h.transform=a[h.propName]);return c}get outputs(){return N_(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function In(i){return i.map(En).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,c,h){let f=(h=h||this.ngModule)instanceof Ho?h:h?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const y=f?new eC(o,f):o,_=y.get(Mg,null);if(null===_)throw new ee(407,!1);const L={rendererFactory:_,sanitizer:y.get(t_,null),effectManager:y.get(Kg,null),afterRenderEventManager:y.get(Vg,null)},W=_.createRenderer(null,this.componentDef),ie=this.componentDef.selectors[0][0]||"div",Re=c?function N1(i,o,a,c){const f=c.get(Kl,!1)||a===at.ShadowDom,y=i.selectRootElement(o,f);return function R1(i){VI(i)}(y),y}(W,c,this.componentDef.encapsulation,y):dg(W,ie,function XI(i){const o=i.toLowerCase();return"svg"===o?Np:"math"===o?"math":null}(ie)),Mt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let $e=null;null!==Re&&($e=rf(Re,y,!0));const jt=w_(0,null,null,1,0,null,null,null,null,null,null),vn=qo(null,jt,null,Mt,null,null,L,W,y,null,$e);let Zn,Wi;Di(vn);try{const Ns=this.componentDef;let Gd,zd=null;Ns.findHostDirectiveDefs?(Gd=[],zd=new Map,Ns.findHostDirectiveDefs(Ns,Gd,zd),Gd.push(Ns)):Gd=[Ns];const Ty=function tC(i,o){const a=i[Xe],c=j;return i[c]=o,gs(a,c,2,"#host",null)}(vn,Re),BD=function nC(i,o,a,c,h,f,y){const _=h[Xe];!function id(i,o,a,c){for(const h of i)o.mergedAttrs=_s(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(yf(o,o.mergedAttrs,!0),null!==a&&qh(c,a,o))}(c,i,o,y);let I=null;null!==o&&(I=rf(o,h[Es]));const b=f.rendererFactory.createRenderer(o,a);let A=16;a.signals?A=4096:a.onPush&&(A=64);const L=qo(h,td(a),null,A,h[i.index],i,f,b,null,null,I);return _.firstCreatePass&&b_(_,i,c.length-1),qg(h,L),h[i.index]=L}(Ty,Re,Ns,Gd,vn,L,W);Wi=yh(jt,j),Re&&function ho(i,o,a,c){if(c)ii(i,a,["ng-version",r_.full]);else{const{attrs:h,classes:f}=function en(i){const o=[],a=[];let c=1,h=2;for(;c<i.length;){let f=i[c];if("string"==typeof f)2===h?""!==f&&o.push(f,i[++c]):8===h&&a.push(f);else{if(!qr(h))break;h=f}c++}return{attrs:o,classes:a}}(o.selectors[0]);h&&ii(i,a,h),f&&f.length>0&&ZE(i,a,f.join(" "))}}(W,Ns,Re,c),void 0!==a&&function R_(i,o,a){const c=i.projection=[];for(let h=0;h<o.length;h++){const f=a[h];c.push(null!=f?Array.from(f):null)}}(Wi,this.ngContentSelectors,a),Zn=function H1(i,o,a,c,h,f){const y=ai(),_=h[Xe],I=bi(y,h);Hg(_,h,y,a,null,c);for(let A=0;A<a.length;A++)Gi(ya(h,_,y.directiveStart+A,y),h);HI(_,h,y),I&&Gi(I,h);const b=ya(h,_,y.directiveStart+y.componentOffset,y);if(i[hr]=h[hr]=b,null!==f)for(const A of f)A(b,o);return nr(_,y,i),b}(BD,Ns,Gd,zd,vn,[Qn]),xc(jt,vn,null)}finally{ci()}return new Ss(this.componentType,Zn,wc(Wi,vn),vn,Wi)}}class Ss extends E1{constructor(o,a,c,h,f){super(),this.location=c,this._rootLView=h,this._tNode=f,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new Oc(h),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),a))return;const f=this._rootLView;Wg(f[Xe],f,h,o,a),this.previousInputValues.set(o,a),Tc($i(this._tNode.index,f))}}get injector(){return new $r(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Qn(){const i=ai();Qa(Le()[Xe],i)}function wf(i){let o=function rC(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;o;){let h;if(or(i))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ee(903,!1);h=o.\u0275dir}if(h){if(a){c.push(h);const y=i;y.inputs=Ef(i.inputs),y.inputTransforms=Ef(i.inputTransforms),y.declaredInputs=Ef(i.declaredInputs),y.outputs=Ef(i.outputs);const _=h.hostBindings;_&&F_(i,_);const I=h.viewQuery,b=h.contentQueries;if(I&&k_(i,I),b&&sd(i,b),q(i.inputs,h.inputs),q(i.declaredInputs,h.declaredInputs),q(i.outputs,h.outputs),null!==h.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),q(y.inputTransforms,h.inputTransforms)),or(h)&&h.data.animation){const A=i.data;A.animation=(A.animation||[]).concat(h.data.animation)}}const f=h.features;if(f)for(let y=0;y<f.length;y++){const _=f[y];_&&_.ngInherit&&_(i),_===wf&&(a=!1)}}o=Object.getPrototypeOf(o)}!function Zo(i){let o=0,a=null;for(let c=i.length-1;c>=0;c--){const h=i[c];h.hostVars=o+=h.hostVars,h.hostAttrs=_s(h.hostAttrs,a=_s(a,h.hostAttrs))}}(c)}function Ef(i){return i===Ot?{}:i===lt?[]:i}function k_(i,o){const a=i.viewQuery;i.viewQuery=a?(c,h)=>{o(c,h),a(c,h)}:o}function sd(i,o){const a=i.contentQueries;i.contentQueries=a?(c,h,f)=>{o(c,h,f),a(c,h,f)}:o}function F_(i,o){const a=i.hostBindings;i.hostBindings=a?(c,h)=>{o(c,h),a(c,h)}:o}function Pc(i){const o=i.inputConfig,a={};for(const c in o)if(o.hasOwnProperty(c)){const h=o[c];Array.isArray(h)&&h[2]&&(a[c]=h[2])}i.inputTransforms=a}function Xg(i){return!!B_(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function B_(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Wo(i,o,a){return i[o]=a}function zi(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function Nc(i,o,a,c){const h=zi(i,o,a);return zi(i,o+1,c)||h}function Qr(i,o,a,c){const h=Le();return zi(h,ec(),o)&&(An(),ms(ar(),h,i,o,a,c)),Qr}function Eu(i,o,a,c,h,f){const _=Nc(i,function Oo(){return zt.lFrame.bindingIndex}(),a,h);return Hs(2),_?o+ue(a)+c+ue(h)+f:tn}function pC(i,o,a,c,h,f,y,_){const I=Le(),b=An(),A=i+j,L=b.firstCreatePass?function go(i,o,a,c,h,f,y,_,I){const b=o.consts,A=gs(o,i,4,y||null,Mo(b,_));$g(o,a,A,Mo(b,I)),Qa(o,A);const L=A.tView=w_(2,A,c,h,f,o.directiveRegistry,o.pipeRegistry,null,o.schemas,b,null);return null!==o.queries&&(o.queries.template(o,A),L.queries=o.queries.embeddedTView(A)),A}(A,b,I,o,a,c,h,f,y):b.data[A];$s(L,!1);const W=ud(b,I,L,i);to()&&Hh(b,I,W,L),Gi(W,I),qg(I,I[A]=qI(W,I,W,L)),Cs(L)&&ed(b,I,L),null!=y&&Sc(I,L,_)}let ud=function Sa(i,o,a,c){return no(!0),o[kt].createComment("")};function im(i){return Ka(function iv(){return zt.lFrame.contextLView}(),j+i)}function z_(i,o,a){const c=Le();return zi(c,ec(),o)&&function As(i,o,a,c,h,f,y,_){const I=bi(o,a);let A,b=o.inputs;!_&&null!=b&&(A=b[c])?(Wg(i,a,A,c,h),Ji(o)&&function BI(i,o){const a=$i(o,i);16&a[qt]||(a[qt]|=64)}(a,o.index)):3&o.type&&(c=function F1(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),h=null!=y?y(h,o.value||"",c):h,f.setProperty(I,c,h))}(An(),ar(),c,i,o,c[kt],a,!1),z_}function q_(i,o,a,c,h){const y=h?"class":"style";Wg(i,a,o.inputs[y],y,c)}function Cu(i,o,a,c){const h=Le(),f=An(),y=j+i,_=h[kt],I=f.firstCreatePass?function Os(i,o,a,c,h,f){const y=o.consts,I=gs(o,i,2,c,Mo(y,h));return $g(o,a,I,Mo(y,f)),null!==I.attrs&&yf(I,I.attrs,!1),null!==I.mergedAttrs&&yf(I,I.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,I),I}(y,f,h,o,a,c):f.data[y],b=ki(f,h,I,_,o,i);h[y]=b;const A=Cs(I);return $s(I,!0),qh(_,b,I),32!=(32&I.flags)&&to()&&Hh(f,h,b,I),0===function Fp(){return zt.lFrame.elementDepthCount}()&&Gi(b,h),function Lp(){zt.lFrame.elementDepthCount++}(),A&&(ed(f,h,I),nr(f,I,h)),null!==c&&Sc(h,I),Cu}function bu(){let i=ai();Bp()?function jp(){zt.lFrame.isParent=!1}():(i=i.parent,$s(i,!1));const o=i;(function Ju(i){return zt.skipHydrationRootTNode===i})(o)&&function Up(){zt.skipHydrationRootTNode=null}(),function nv(){zt.lFrame.elementDepthCount--}();const a=An();return a.firstCreatePass&&(Qa(a,i),To(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function ro(i){return 0!=(8&i.flags)}(o)&&q_(a,o,Le(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function ml(i){return 0!=(16&i.flags)}(o)&&q_(a,o,Le(),o.stylesWithoutHost,!1),bu}function sm(i,o,a,c){return Cu(i,o,a,c),bu(),sm}let ki=(i,o,a,c,h,f)=>(no(!0),dg(c,h,function Zp(){return zt.lFrame.currentNamespace}()));function vC(){return Le()}function W_(i){return!!i&&"function"==typeof i.then}function _C(i){return!!i&&"function"==typeof i.subscribe}function K_(i,o,a,c){const h=Le(),f=An(),y=ai();return function EC(i,o,a,c,h,f,y){const _=Cs(c),b=i.firstCreatePass&&mf(i),A=o[hr],L=T_(o);let W=!0;if(3&c.type||y){const Ke=bi(c,o),ut=y?y(Ke):Ke,Mt=L.length,$e=y?vn=>y($n(vn[c.index])):c.index;let jt=null;if(!y&&_&&(jt=function eA(i,o,a,c){const h=i.cleanup;if(null!=h)for(let f=0;f<h.length-1;f+=2){const y=h[f];if(y===a&&h[f+1]===c){const _=o[Do],I=h[f+2];return _.length>I?_[I]:null}"string"==typeof y&&(f+=2)}return null}(i,o,h,c.index)),null!==jt)(jt.__ngLastListenerFn__||jt).__ngNextListenerFn__=f,jt.__ngLastListenerFn__=f,W=!1;else{f=CC(c,o,A,f,!1);const vn=a.listen(ut,h,f);L.push(f,vn),b&&b.push(h,$e,Mt,Mt+1)}}else f=CC(c,o,A,f,!1);const ie=c.outputs;let Re;if(W&&null!==ie&&(Re=ie[h])){const Ke=Re.length;if(Ke)for(let ut=0;ut<Ke;ut+=2){const Zn=o[Re[ut]][Re[ut+1]].subscribe(f),Wi=L.length;L.push(f,Zn),b&&b.push(h,c.index,Wi,-(Wi+1))}}}(f,h,h[kt],y,i,o,c),K_}function IC(i,o,a,c){try{return js(6,o,a),!1!==a(c)}catch(h){return lo(i,h),!1}finally{js(7,o,a)}}function CC(i,o,a,c,h){return function f(y){if(y===Function)return c;Tc(i.componentOffset>-1?$i(i.index,o):o);let I=IC(o,a,c,y),b=f.__ngNextListenerFn__;for(;b;)I=IC(o,a,b,y)&&I,b=b.__ngNextListenerFn__;return h&&!1===I&&y.preventDefault(),I}}function bC(i=1){return function fl(i){return(zt.lFrame.contextLView=function bh(i,o){for(;i>0;)o=o[Dr],i--;return o}(i,zt.lFrame.contextLView))[hr]}(i)}function kc(i,o){return i<<17|o<<2}function Er(i){return i>>17&32767}function Du(i){return 2|i}function Xr(i){return(131068&i)>>2}function cm(i,o){return-131069&i|o<<2}function Hr(i){return 1|i}function Sf(i,o,a,c,h){const f=i[a+1],y=null===o;let _=c?Er(f):Xr(f),I=!1;for(;0!==_&&(!1===I||y);){const A=i[_+1];lm(i[_],o)&&(I=!0,i[_+1]=c?Hr(A):Du(A)),_=c?Er(A):Xr(A)}I&&(i[a+1]=c?Du(f):Hr(f))}function lm(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&au(i,o)>=0}const Pr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function MC(i){return i.substring(Pr.key,Pr.keyEnd)}function Mf(i,o){const a=Pr.textEnd;return a===o?-1:(o=Pr.keyEnd=function xC(i,o,a){for(;o<a&&i.charCodeAt(o)>32;)o++;return o}(i,Pr.key=o,a),Ps(i,o,a))}function Ps(i,o,a){for(;o<a&&i.charCodeAt(o)<=32;)o++;return o}function fm(i,o){return function _o(i,o,a,c){const h=Le(),f=An(),y=Hs(2);f.firstUpdatePass&&e0(f,i,y,c),o!==tn&&zi(h,y,o)&&qn(f,f.data[Ti()],h,h[kt],i,h[y+1]=function t0(i,o){return null==i||""===i||("string"==typeof o?i+=o:"object"==typeof i&&(i=ne(lu(i)))),i}(o,a),c,y)}(i,o,null,!0),fm}function fd(i){!function wo(i,o,a,c){const h=An(),f=Hs(2);h.firstUpdatePass&&e0(h,null,f,c);const y=Le();if(a!==tn&&zi(y,f,a)){const _=h.data[Ti()];if(n0(_,c)&&!X_(h,f)){let I=c?_.classesWithoutHost:_.stylesWithoutHost;null!==I&&(a=Ue(I,a||"")),q_(h,_,y,a,c)}else!function Pn(i,o,a,c,h,f,y,_){h===tn&&(h=lt);let I=0,b=0,A=0<h.length?h[0]:null,L=0<f.length?f[0]:null;for(;null!==A||null!==L;){const W=I<h.length?h[I+1]:void 0,ie=b<f.length?f[b+1]:void 0;let Ke,Re=null;A===L?(I+=2,b+=2,W!==ie&&(Re=L,Ke=ie)):null===L||null!==A&&A<L?(I+=2,Re=A):(b+=2,Re=L,Ke=ie),null!==Re&&qn(i,o,a,c,Re,Ke,y,_),A=I<h.length?h[I]:null,L=b<f.length?f[b]:null}}(h,_,y,y[kt],y[f+1],y[f+1]=function gd(i,o,a){if(null==a||""===a)return lt;const c=[],h=lu(a);if(Array.isArray(h))for(let f=0;f<h.length;f++)i(c,h[f],!0);else if("object"==typeof h)for(const f in h)h.hasOwnProperty(f)&&i(c,f,h[f]);else"string"==typeof h&&o(c,h);return c}(i,o,a),c,f)}}(RC,vo,i,!0)}function vo(i,o){for(let a=function Au(i){return function ld(i){Pr.key=0,Pr.keyEnd=0,Pr.value=0,Pr.valueEnd=0,Pr.textEnd=i.length}(i),Mf(i,Ps(i,0,Pr.textEnd))}(o);a>=0;a=Mf(o,a))es(i,MC(o),!0)}function X_(i,o){return o>=i.expandoStartIndex}function e0(i,o,a,c){const h=i.data;if(null===h[a+1]){const f=h[Ti()],y=X_(i,a);n0(f,c)&&null===o&&!y&&(o=!1),o=function Fi(i,o,a,c){const h=function Ih(i){const o=zt.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let f=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(a=pd(a=gm(null,i,o,a,c),o.attrs,c),f=null);else{const y=o.directiveStylingLast;if(-1===y||i[y]!==h)if(a=gm(h,i,o,a,c),null===f){let I=function PC(i,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==Xr(c))return i[Er(c)]}(i,o,c);void 0!==I&&Array.isArray(I)&&(I=gm(null,i,o,I[1],c),I=pd(I,o.attrs,c),function gr(i,o,a,c){i[Er(a?o.classBindings:o.styleBindings)]=c}(i,o,c,I))}else f=function xu(i,o,a){let c;const h=o.directiveEnd;for(let f=1+o.directiveStylingLast;f<h;f++)c=pd(c,i[f].hostAttrs,a);return pd(c,o.attrs,a)}(i,o,c)}return void 0!==f&&(c?o.residualClasses=f:o.residualStyles=f),a}(h,f,o,c),function Lr(i,o,a,c,h,f){let y=f?o.classBindings:o.styleBindings,_=Er(y),I=Xr(y);i[c]=a;let A,b=!1;if(Array.isArray(a)?(A=a[1],(null===A||au(a,A)>0)&&(b=!0)):A=a,h)if(0!==I){const W=Er(i[_+1]);i[c+1]=kc(W,_),0!==W&&(i[W+1]=cm(i[W+1],c)),i[_+1]=function SC(i,o){return 131071&i|o<<17}(i[_+1],c)}else i[c+1]=kc(_,0),0!==_&&(i[_+1]=cm(i[_+1],c)),_=c;else i[c+1]=kc(I,0),0===_?_=c:i[I+1]=cm(i[I+1],c),I=c;b&&(i[c+1]=Du(i[c+1])),Sf(i,A,c,!0),Sf(i,A,c,!1),function xa(i,o,a,c,h){const f=h?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof o&&au(f,o)>=0&&(a[c+1]=Hr(a[c+1]))}(o,A,i,c,f),y=kc(_,I),f?o.classBindings=y:o.styleBindings=y}(h,f,o,a,y,c)}}function gm(i,o,a,c,h){let f=null;const y=a.directiveEnd;let _=a.directiveStylingLast;for(-1===_?_=a.directiveStart:_++;_<y&&(f=o[_],c=pd(c,f.hostAttrs,h),f!==i);)_++;return null!==i&&(a.directiveStylingLast=_),c}function pd(i,o,a){const c=a?1:2;let h=-1;if(null!==o)for(let f=0;f<o.length;f++){const y=o[f];"number"==typeof y?h=y:h===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),es(i,y,!!a||o[++f]))}return void 0===i?null:i}function RC(i,o,a){const c=String(o);""!==c&&!c.includes(" ")&&es(i,c,a)}function qn(i,o,a,c,h,f,y,_){if(!(3&o.type))return;const I=i.data,b=I[_+1],A=function rA(i){return 1==(1&i)}(b)?Lc(I,o,a,h,Xr(b),y):void 0;md(A)||(md(f)||function pr(i){return 2==(2&i)}(b)&&(f=Lc(I,null,a,h,_,y)),function ZT(i,o,a,c,h){if(o)h?i.addClass(a,c):i.removeClass(a,c);else{let f=-1===c.indexOf("-")?void 0:Rh.DashCase;null==h?i.removeStyle(a,c,f):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),f|=Rh.Important),i.setStyle(a,c,h,f))}}(c,y,Xs(Ti(),a),h,f))}function Lc(i,o,a,c,h,f){const y=null===o;let _;for(;h>0;){const I=i[h],b=Array.isArray(I),A=b?I[1]:I,L=null===A;let W=a[h+1];W===tn&&(W=L?lt:void 0);let ie=L?Oh(W,c):A===c?W:void 0;if(b&&!md(ie)&&(ie=Oh(I,c)),md(ie)&&(_=ie,y))return _;const Re=i[h+1];h=y?Er(Re):Xr(Re)}if(null!==o){let I=f?o.residualClasses:o.residualStyles;null!=I&&(_=Oh(I,c))}return _}function md(i){return void 0!==i}function n0(i,o){return 0!=(i.flags&(o?8:16))}function mm(i,o=""){const a=Le(),c=An(),h=i+j,f=c.firstCreatePass?gs(c,h,1,o,null):c.data[h],y=r0(c,a,f,o,i);a[h]=y,to()&&Hh(c,a,y,f),$s(f,!1)}let r0=(i,o,a,c,h)=>(no(!0),function lg(i,o){return i.createText(o)}(o[kt],c));function s0(i){return ym("",i,""),s0}function ym(i,o,a){const c=Le(),h=function xs(i,o,a,c){return zi(i,ec(),a)?o+ue(a)+c:tn}(c,i,o,a);return h!==tn&&ba(c,Ti(),h),ym}function o0(i,o,a,c,h){const f=Le(),y=Eu(f,i,o,a,c,h);return y!==tn&&ba(f,Ti(),y),o0}const Ou=void 0;var ZC=["en",[["a","p"],["AM","PM"],Ou],[["AM","PM"],Ou,Ou],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ou,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ou,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ou,"{1} 'at' {0}",Ou],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Jo(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Xo={};function m0(i){const o=function KC(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=bm(o);if(a)return a;const c=o.split("-")[0];if(a=bm(c),a)return a;if("en"===c)return ZC;throw new ee(701,!1)}function WC(i){return m0(i)[Bc.PluralCase]}function bm(i){return i in Xo||(Xo[i]=Kt.ng&&Kt.ng.common&&Kt.ng.common.locales&&Kt.ng.common.locales[i]),Xo[i]}var Bc=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(Bc||{});const wd="en-US";let y0=wd;function Io(i,o,a,c,h){if(i=ke(i),Array.isArray(i))for(let f=0;f<i.length;f++)Io(i[f],o,a,c,h);else{const f=An(),y=Le(),_=ai();let I=Ul(i)?i:ke(i.provide);const b=m1(i),A=1048575&_.providerIndexes,L=_.directiveStart,W=_.providerIndexes>>20;if(Ul(i)||!i.multi){const ie=new Ro(b,h,Ac),Re=km(I,o,h?A:A+W,L);-1===Re?(nu(_r(_,y),f,I),Rm(f,i,o.length),o.push(I),_.directiveStart++,_.directiveEnd++,h&&(_.providerIndexes+=1048576),a.push(ie),y.push(ie)):(a[Re]=ie,y[Re]=ie)}else{const ie=km(I,o,A+W,L),Re=km(I,o,A,A+W),ut=Re>=0&&a[Re];if(h&&!ut||!h&&!(ie>=0&&a[ie])){nu(_r(_,y),f,I);const Mt=function Gc(i,o,a,c,h){const f=new Ro(i,a,Ac);return f.multi=[],f.index=o,f.componentProviders=0,_b(f,h,c&&!a),f}(h?Hc:Fm,a.length,h,c,b);!h&&ut&&(a[Re].providerFactory=Mt),Rm(f,i,o.length,0),o.push(I),_.directiveStart++,_.directiveEnd++,h&&(_.providerIndexes+=1048576),a.push(Mt),y.push(Mt)}else Rm(f,i,ie>-1?ie:Re,_b(a[h?Re:ie],b,!h&&c));!h&&c&&ut&&a[Re].componentProviders++}}}function Rm(i,o,a,c){const h=Ul(o),f=function HM(i){return!!i.useClass}(o);if(h||f){const I=(f?ke(o.useClass):o).prototype.ngOnDestroy;if(I){const b=i.destroyHooks||(i.destroyHooks=[]);if(!h&&o.multi){const A=b.indexOf(a);-1===A?b.push(a,[c,I]):b[A+1].push(c,I)}else b.push(a,I)}}}function _b(i,o,a){return a&&i.componentProviders++,i.multi.push(o)-1}function km(i,o,a,c){for(let h=a;h<c;h++)if(o[h]===i)return h;return-1}function Fm(i,o,a,c){return ka(this.multi,[])}function Hc(i,o,a,c){const h=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,_=ya(a,a[Xe],this.providerFactory.index,c);f=_.slice(0,y),ka(h,f);for(let I=y;I<_.length;I++)f.push(_[I])}else f=[],ka(h,f);return f}function ka(i,o){for(let a=0;a<i.length;a++)o.push((0,i[a])());return o}function Sd(i,o=[]){return a=>{a.providersResolver=(c,h)=>function vb(i,o,a){const c=An();if(c.firstCreatePass){const h=or(i);Io(a,c.data,c.blueprint,h,!0),Io(o,c.data,c.blueprint,h,!1)}}(c,h?h(i):i,o)}}class Pu{}class Lm{}function P0(i,o){return new Vm(i,o??null,[])}class Vm extends Pu{constructor(o,a,c){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new P_(this);const h=si(o);this._bootstrapComponents=Ts(h.bootstrap),this._r3Injector=DI(o,a,[{provide:Pu,useValue:this},{provide:Ag,useValue:this.componentFactoryResolver},...c],ne(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class N0 extends Lm{constructor(o){super(),this.moduleType=o}create(o){return new Vm(this.moduleType,o,[])}}class R0 extends Pu{constructor(o){super(),this.componentFactoryResolver=new P_(this),this.instance=null;const a=new Sr([...o.providers,{provide:Pu,useValue:this},{provide:Ag,useValue:this.componentFactoryResolver}],o.parent||Cg(),o.debugName,new Set(["environment"]));this.injector=a,o.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Bf(i,o,a=null){return new R0({providers:i,parent:o,debugName:a,runEnvironmentInitializers:!0}).injector}let jf=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const c=fI(0,a.type),h=c.length>0?Bf([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,h)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=yt({token:i,providedIn:"environment",factory:()=>new i(Qe(Ho))})}return i})();function Nu(i){i.getStandaloneInjector=o=>o.get(jf).getOrCreateStandaloneInjector(i)}function j0(i,o,a){const c=ui()+i,h=Le();return h[c]===tn?Wo(h,c,a?o.call(a):o()):function wu(i,o){return i[o]}(h,c)}function Md(i,o){const a=i[o];return a===tn?void 0:a}function G0(i,o,a,c,h,f,y,_){const I=o+a;return function Ta(i,o,a,c,h){const f=Nc(i,o,a,c);return zi(i,o+2,h)||f}(i,I,h,f,y)?Wo(i,I+3,_?c.call(_,h,f,y):c(h,f,y)):Md(i,I+3)}function z0(i,o){const a=An();let c;const h=i+j;a.firstCreatePass?(c=function ku(i,o){if(o)for(let a=o.length-1;a>=0;a--){const c=o[a];if(i===c.name)return c}}(o,a.pipeRegistry),a.data[h]=c,c.onDestroy&&(a.destroyHooks??=[]).push(h,c.onDestroy)):c=a.data[h];const f=c.factory||(c.factory=Qs(c.type)),_=Rt(Ac);try{const I=li(!1),b=f();return li(I),function gC(i,o,a,c){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),o[a]=c}(a,Le(),h,b),b}finally{Rt(_)}}function Fu(i,o,a){const c=i+j,h=Le(),f=Ka(h,c);return xd(h,c)?function H0(i,o,a,c,h,f){const y=o+a;return zi(i,y,h)?Wo(i,y+1,f?c.call(f,h):c(h)):Md(i,y+1)}(h,ui(),o,f.transform,a,f):f.transform(a)}function qc(i,o,a,c,h){const f=i+j,y=Le(),_=Ka(y,f);return xd(y,f)?G0(y,ui(),o,_.transform,a,c,h,_):_.transform(a,c,h)}function xd(i,o){return i[Xe].data[o].pure}function TA(){return this._results[Symbol.iterator]()}class $m{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new zo)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=$m.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=TA)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const h=function xi(i){return i.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function ng(i,o,a){if(i.length!==o.length)return!1;for(let c=0;c<i.length;c++){let h=i[c],f=o[c];if(a&&(h=a(h),f=a(f)),f!==h)return!1}return!0}(c._results,h,a))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function MA(i,o,a,c=!0){const h=o[Xe];if(function jT(i,o,a,c){const h=Bt+c,f=a.length;c>0&&(a[h-1][oi]=o),c<f-Bt?(o[oi]=a[h],dv(a,Bt+c,o)):(a.push(o),o[oi]=null),o[Bn]=a;const y=o[Bi];null!==y&&a!==y&&function $T(i,o){const a=i[Ft];o[Tr]!==o[Bn][Bn][Tr]&&(i[Ze]=!0),null===a?i[Ft]=[o]:a.push(o)}(y,o);const _=o[mi];null!==_&&_.insertView(i),o[qt]|=128}(h,o,i,a),c){const f=Mv(a,i),y=o[kt],_=fg(y,i[et]);null!==_&&function Bh(i,o,a,c,h,f){c[Kn]=h,c[Wr]=o,zh(i,c,a,1,h,f)}(h,i[Wr],y,o,_,f)}}let Od=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=OA}return i})();const xA=Od,Mb=class extends xA{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,a){return this.createEmbeddedViewImpl(o,a)}createEmbeddedViewImpl(o,a,c){const h=function AA(i,o,a,c){const h=o.tView,_=qo(i,h,a,4096&i[qt]?4096:16,null,o,null,null,null,c?.injector??null,c?.hydrationInfo??null);_[Bi]=i[o.index];const b=i[mi];return null!==b&&(_[mi]=b.createEmbeddedView(h)),xc(h,_,a),_}(this._declarationLView,this._declarationTContainer,o,{injector:a,hydrationInfo:c});return new rd(h)}};function OA(){return Wf(ai(),Le())}function Wf(i,o){return 4&i.type?new Mb(o,i,wc(i,o)):null}let Hm=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=RA}return i})();function RA(){return Qf(ai(),Le())}const kA=Hm,Pb=class extends kA{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return wc(this._hostTNode,this._hostLView)}get injector(){return new $r(this._hostTNode,this._hostLView)}get parentInjector(){const o=ma(this._hostTNode,this._hostLView);if(yl(o)){const a=fr(o,this._hostLView),c=Xi(o);return new $r(a[Xe].data[c+8],a)}return new $r(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Gm(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-Bt}createEmbeddedView(o,a,c){let h,f;"number"==typeof c?h=c:null!=c&&(h=c.index,f=c.injector);const _=o.createEmbeddedViewImpl(a||{},f,null);return this.insertImpl(_,h,false),_}createComponent(o,a,c,h,f){const y=o&&!function so(i){return"function"==typeof i}(o);let _;if(y)_=a;else{const Ke=a||{};_=Ke.index,c=Ke.injector,h=Ke.projectableNodes,f=Ke.environmentInjector||Ke.ngModuleRef}const I=y?o:new _u(Cn(o)),b=c||this.parentInjector;if(!f&&null==I.ngModule){const ut=(y?b:this.parentInjector).get(Ho,null);ut&&(f=ut)}Cn(I.componentType??{});const ie=I.create(b,h,null,f);return this.insertImpl(ie.hostView,_,false),ie}insert(o,a){return this.insertImpl(o,a,!1)}insertImpl(o,a,c){const h=o._lView;if(function ll(i){return Mn(i[Bn])}(h)){const I=this.indexOf(o);if(-1!==I)this.detach(I);else{const b=h[Bn],A=new Pb(b,b[Wr],b[Bn]);A.detach(A.indexOf(o))}}const y=this._adjustIndex(a),_=this._lContainer;return MA(_,h,y,!c),o.attachToViewContainerRef(),dv(K0(_),y,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Gm(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=hg(this._lContainer,a);c&&(ou(K0(this._lContainer),a),Dv(c[Xe],c))}detach(o){const a=this._adjustIndex(o,-1),c=hg(this._lContainer,a);return c&&null!=ou(K0(this._lContainer),a)?new rd(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function Gm(i){return i[8]}function K0(i){return i[8]||(i[8]=[])}function Qf(i,o){let a;const c=o[i.index];return Mn(c)?a=c:(a=qI(c,o,null,i),o[i.index]=a,qg(o,a)),Nb(a,o,i,c),new Pb(a,i,o)}let Nb=function Y0(i,o,a,c){if(i[et])return;let h;h=8&a.type?$n(c):function zm(i,o){const a=i[kt],c=a.createComment(""),h=bi(o,i);return mc(a,fg(a,h),c,function zT(i,o){return i.nextSibling(o)}(a,h),!1),c}(o,a),i[et]=h};class Zc{constructor(o){this.queryList=o,this.matches=null}clone(){return new Zc(this.queryList)}setDirty(){this.queryList.setDirty()}}class Pd{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let f=0;f<c;f++){const y=a.getByIndex(f);h.push(this.queries[y.indexInDeclarationView].clone())}return new Pd(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==ew(o,a).matches&&this.queries[a].setDirty()}}class qm{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class Jf{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const h=null!==a?a.length:0,f=this.getByIndex(c).embeddedTView(o,h);f&&(f.indexInDeclarationView=c,null!==a?a.push(f):a=[f])}return null!==a?new Jf(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Zm{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Zm(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const f=c[h];this.matchTNodeWithReadOption(o,a,FA(a,f)),this.matchTNodeWithReadOption(o,a,Fo(a,o,f,!1,!1))}else c===Od?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Fo(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===Zl||h===Hm||h===Od&&4&a.type)this.addMatch(a.index,-2);else{const f=Fo(a,o,h,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function FA(i,o){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function kb(i,o,a,c){return-1===a?function Rb(i,o){return 11&i.type?wc(i,o):4&i.type?Wf(i,o):null}(o,i):-2===a?function X0(i,o,a){return a===Zl?wc(o,i):a===Od?Wf(o,i):a===Hm?Qf(o,i):void 0}(i,o,c):ya(i,i[Xe],a,o)}function Fb(i,o,a,c){const h=o[mi].queries[c];if(null===h.matches){const f=i.data,y=a.matches,_=[];for(let I=0;I<y.length;I+=2){const b=y[I];_.push(b<0?null:kb(o,f[b],y[I+1],a.metadata.read))}h.matches=_}return h.matches}function Wm(i,o,a,c){const h=i.queries.getByIndex(a),f=h.matches;if(null!==f){const y=Fb(i,o,h,a);for(let _=0;_<f.length;_+=2){const I=f[_];if(I>0)c.push(y[_/2]);else{const b=f[_+1],A=o[-I];for(let L=Bt;L<A.length;L++){const W=A[L];W[Bi]===W[Bn]&&Wm(W[Xe],W,b,c)}if(null!==A[Ft]){const L=A[Ft];for(let W=0;W<L.length;W++){const ie=L[W];Wm(ie[Xe],ie,b,c)}}}}}return c}function Lb(i){const o=Le(),a=An(),c=av();zp(c+1);const h=ew(a,c);if(i.dirty&&function vh(i){return 4==(4&i[qt])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const f=h.crossesNgTemplate?Wm(a,o,c,[]):Fb(a,o,h,c);i.reset(f,Sg),i.notifyOnChanges()}return!0}return!1}function Ub(i,o,a,c){const h=An();if(h.firstCreatePass){const f=ai();(function Xf(i,o,a){null===i.queries&&(i.queries=new Jf),i.queries.track(new Zm(o,a))})(h,new qm(o,a,c),f.index),function Bb(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(h,i),2==(2&a)&&(h.staticContentQueries=!0)}!function Km(i,o,a){const c=new $m(4==(4&a));(function yu(i,o,a,c){const h=T_(o);h.push(a),i.firstCreatePass&&mf(i).push(c,h.length-1)})(i,o,c,c.destroy),null===o[mi]&&(o[mi]=new Pd),o[mi].queries.push(new Zc(c))}(h,Le(),a)}function Wc(){return function Nd(i,o){return i[mi].queries[o].queryList}(Le(),av())}function ew(i,o){return i.queries.getByIndex(o)}function tw(i,o){return Wf(i,o)}function Rd(i){return!!si(i)}const ay=new zn("Application Initializer");let mw=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c}),this.appInits=ot(ay,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const h of this.appInits){const f=h();if(W_(f))a.push(f);else if(_C(f)){const y=new Promise((_,I)=>{f.subscribe({complete:_,error:I})});a.push(y)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),uy=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();const Ud=new zn("LocaleId",{providedIn:"root",factory:()=>ot(Ud,wt.Optional|wt.SkipSelf)||function WA(){return typeof $localize<"u"&&$localize.locale||wd}()}),Yb=new zn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Yc=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new se.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class ju{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let vw=(()=>{class i{compileModuleSync(a){return new N0(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),f=Ts(si(a).declarations).reduce((y,_)=>{const I=Cn(_);return I&&y.push(new _u(I)),y},[]);return new ju(c,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const hy=new zn(""),aD=new zn("");let fy,Aw=(()=>{class i{constructor(a,c,h){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,fy||(function Mw(i){fy=i}(h),h.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{di.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,h){return[]}static#e=this.\u0275fac=function(c){return new(c||i)(Qe(di),Qe(Sw),Qe(aD))};static#t=this.\u0275prov=yt({token:i,factory:i.\u0275fac})}return i})(),Sw=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return fy?.findTestabilityInTree(this,a,c)??null}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})(),$u=null;const py=new zn("AllowMultipleToken"),xw=new zn("PlatformDestroyListeners"),sp=new zn("appBootstrapListener");class Pw{constructor(o,a){this.name=o,this.token=a}}function dD(i,o,a=[]){const c=`Platform: ${o}`,h=new zn(c);return(f=[])=>{let y=Fw();if(!y||y.injector.get(py,!1)){const _=[...a,...f,{provide:h,useValue:!0}];i?i(_):function Nw(i){if($u&&!$u.get(py,!1))throw new ee(400,!1);(function cD(){!function Mp(i){Ky=i}(()=>{throw new ee(600,!1)})})(),$u=i;const o=i.get(gy);(function Rw(i){i.get(pt,null)?.forEach(a=>a())})(i)}(function ia(i=[],o){return co.create({name:o,providers:[{provide:_e,useValue:"platform"},{provide:xw,useValue:new Set([()=>$u=null])},...i]})}(_,c))}return function kw(i){const o=Fw();if(!o)throw new ee(401,!1);return o}()}}function Fw(){return $u?.get(gy)??null}let gy=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const h=function nS(i="zone.js",o){return"noop"===i?new A1:"zone.js"===i?new di(o):i}(c?.ngZone,function fD(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return h.run(()=>{const f=function wb(i,o,a){return new Vm(i,o,a)}(a.moduleType,this.injector,function Vw(i){return[{provide:di,useFactory:i},{provide:Vl,multi:!0,useFactory:()=>{const o=ot(mD,{optional:!0});return()=>o.initialize()}},{provide:gD,useFactory:Lw},{provide:Ic,useFactory:OI}]}(()=>h)),y=f.injector.get(pu,null);return h.runOutsideAngular(()=>{const _=h.onError.subscribe({next:I=>{y.handleError(I)}});f.onDestroy(()=>{yy(this._modules,f),_.unsubscribe()})}),function my(i,o,a){try{const c=a();return W_(c)?c.catch(h=>{throw o.runOutsideAngular(()=>i.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>i.handleError(c)),c}}(y,h,()=>{const _=f.injector.get(mw);return _.runInitializers(),_.donePromise.then(()=>(function jc(i){tt(i,"Expected localeId to be defined"),"string"==typeof i&&(y0=i.toLowerCase().replace(/_/g,"-"))}(f.injector.get(Ud,wd)||wd),this._moduleDoBootstrap(f),f))})})}bootstrapModule(a,c=[]){const h=pD({},c);return function tS(i,o,a){const c=new N0(a);return Promise.resolve(c)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,h))}_moduleDoBootstrap(a){const c=a.injector.get(Hu);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new ee(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ee(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(xw,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(c){return new(c||i)(Qe(co))};static#t=this.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();function pD(i,o){return Array.isArray(o)?o.reduce(pD,i):{...i,...o}}let Hu=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ot(gD),this.zoneIsStable=ot(Ic),this.componentTypes=[],this.components=[],this.isStable=ot(Yc).hasPendingTasks.pipe((0,Oe.w)(a=>a?(0,ve.of)(!1):this.zoneIsStable),(0,he.x)(),(0,we.B)()),this._injector=ot(Ho)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const h=a instanceof ql;if(!this._injector.get(mw).done)throw!h&&bo(a),new ee(405,!1);let y;y=h?a:this._injector.get(Ag).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const _=function Ow(i){return i.isBoundToModule}(y)?void 0:this._injector.get(Pu),b=y.create(co.NULL,[],c||y.selector,_),A=b.location.nativeElement,L=b.injector.get(hy,null);return L?.registerApplication(A),b.onDestroy(()=>{this.detachView(b.hostView),yy(this.components,b),L?.unregisterApplication(A)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new ee(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;yy(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(sp,[]);c.push(...this._bootstrapListeners),c.forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>yy(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new ee(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function yy(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}const gD=new zn("",{providedIn:"root",factory:()=>ot(pu).handleError.bind(void 0)});function Lw(){const i=ot(di),o=ot(pu);return a=>i.runOutsideAngular(()=>o.handleError(a))}let mD=(()=>{class i{constructor(){this.zone=ot(di),this.applicationRef=ot(Hu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function iS(){return!1}let Uw=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=sS}return i})();function sS(i){return function op(i,o,a){if(Ji(i)&&!a){const c=$i(i.index,o);return new rd(c,c)}return 47&i.type?new rd(o[Tr],o):null}(ai(),Le(),16==(16&i))}class jw{constructor(){}supports(o){return Xg(o)}create(o){return new bD(o)}}const $w=(i,o)=>o;class bD{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||$w}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,h=0,f=null;for(;a||c;){const y=!c||a&&a.currentIndex<TD(c,h,f)?a:c,_=TD(y,h,f),I=y.currentIndex;if(y===c)h--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{f||(f=[]);const b=_-h,A=I-h;if(b!=A){for(let W=0;W<b;W++){const ie=W<f.length?f[W]:f[W]=0,Re=ie+W;A<=Re&&Re<b&&(f[W]=ie+1)}f[y.previousIndex]=A-b}}_!==I&&o(y,_,I)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Xg(o))throw new ee(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,f,y,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let _=0;_<this.length;_++)f=o[_],y=this._trackByFn(_,f),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,f,y,_)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,y,_),c=!0),a=a._next}else h=0,function G1(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[Symbol.iterator]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,_=>{y=this._trackByFn(h,_),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,_,y,h)),Object.is(a.item,_)||this._addIdentityChange(a,_)):(a=this._mismatch(a,_,y,h),c=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,h){let f;return null===o?f=this._itTail:(f=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,f,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,f,h)):o=this._addAfter(new $d(a,c),f,h),o}_verifyReinsertion(o,a,c,h){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?o=this._reinsertAfter(f,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,f=o._nextRemoved;return null===h?this._removalsHead=f:h._nextRemoved=f,null===f?this._removalsTail=h:f._prevRemoved=h,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new DD),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new DD),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class $d{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Hw{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class DD{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new Hw,this.map.set(a,c)),c.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function TD(i,o,a){const c=i.previousIndex;if(null===c)return c;let h=0;return a&&c<a.length&&(h=a[c]),c+o+h}class AD{constructor(){}supports(o){return o instanceof Map||B_(o)}create(){return new SD}}class SD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||B_(o)))throw new ee(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(h,c);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const f=h._prev,y=h._next;return f&&(f._next=y),y&&(y._prev=f),h._next=null,h._prev=null,h}const c=new dS(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class dS{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Gw(){return new zw([new jw])}let zw=(()=>{class i{static#e=this.\u0275prov=yt({token:i,providedIn:"root",factory:Gw});constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||Gw()),deps:[[i,new rt,new ge]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new ee(901,!1)}}return i})();function MD(){return new qw([new AD])}let qw=(()=>{class i{static#e=this.\u0275prov=yt({token:i,providedIn:"root",factory:MD});constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||MD()),deps:[[i,new rt,new ge]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new ee(901,!1)}}return i})();const ND=dD(null,"core",[]);let RD=(()=>{class i{constructor(a){}static#e=this.\u0275fac=function(c){return new(c||i)(Qe(Hu))};static#t=this.\u0275mod=la({type:i});static#n=this.\u0275inj=jn({})}return i})();function UD(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function La(i){const o=Cn(i);if(!o)return null;const a=new _u(o);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},3399:(vt,De,S)=>{S.d(De,{Z:()=>Ye});var d=S(9058),U=S(4537),N=S(7592),Y=S(7879);class se{constructor(We,Se){this._delegate=We,this.firebase=Se,(0,N._addComponent)(We,new U.wA("app-compat",()=>this,"PUBLIC")),this.container=We.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(We){this._delegate.automaticDataCollectionEnabled=We}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(We=>{this._delegate.checkDestroyed(),We()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(We,Se=N._DEFAULT_ENTRY_NAME){var ht;this._delegate.checkDestroyed();const ft=this._delegate.container.getProvider(We);return!ft.isInitialized()&&"EXPLICIT"===(null===(ht=ft.getComponent())||void 0===ht?void 0:ht.instantiationMode)&&ft.initialize(),ft.getImmediate({identifier:Se})}_removeServiceInstance(We,Se=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(We).clearInstance(Se)}_addComponent(We){(0,N._addComponent)(this._delegate,We)}_addOrOverwriteComponent(We){(0,N._addOrOverwriteComponent)(this._delegate,We)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const we=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function he(){const ke=function Oe(ke){const We={},Se={__esModule:!0,initializeApp:function ee(Be,k={}){const te=N.initializeApp(Be,k);if((0,d.r3)(We,te.name))return We[te.name];const be=new ke(te,Se);return We[te.name]=be,be},app:ft,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function ue(Be){const k=Be.name,te=k.replace("-compat","");if(N._registerComponent(Be)&&"PUBLIC"===Be.type){const be=(st=ft())=>{if("function"!=typeof st[te])throw we.create("invalid-app-argument",{appName:k});return st[te]()};void 0!==Be.serviceProps&&(0,d.ZB)(be,Be.serviceProps),Se[te]=be,ke.prototype[te]=function(...st){return this._getService.bind(this,k).apply(this,Be.multipleInstances?st:[])}}return"PUBLIC"===Be.type?Se[te]:null},removeApp:function ht(Be){delete We[Be]},useAsService:function Me(Be,k){return"serverAuth"===k?null:k},modularAPIs:N}};function ft(Be){if(!(0,d.r3)(We,Be=Be||N._DEFAULT_ENTRY_NAME))throw we.create("no-app",{appName:Be});return We[Be]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function Te(){return Object.keys(We).map(Be=>We[Be])}}),ft.App=ke,Se}(se);return ke.INTERNAL=Object.assign(Object.assign({},ke.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function We(Se){(0,d.ZB)(ke,Se)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),ke}(),q=new Y.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ke=self.firebase.SDK_VERSION;ke&&ke.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ye=V;!function Ie(ke){(0,N.registerVersion)("@firebase/app-compat","0.2.13",ke)}()},7592:(vt,De,S)=>{S.r(De),S.d(De,{FirebaseError:()=>Y.ZR,SDK_VERSION:()=>jn,_DEFAULT_ENTRY_NAME:()=>ae,_addComponent:()=>Ae,_addOrOverwriteComponent:()=>Ge,_apps:()=>ce,_clearComponents:()=>Dt,_components:()=>oe,_getProvider:()=>qe,_registerComponent:()=>tt,_removeServiceInstance:()=>Wt,deleteApp:()=>ir,getApp:()=>_n,getApps:()=>Rn,initializeApp:()=>Ln,onLog:()=>Dn,registerVersion:()=>Vn,setLogLevel:()=>er});var d=S(5861),U=S(4537),N=S(7879),Y=S(9058),se=S(1878);class ve{constructor(Z){this.container=Z}getPlatformInfoString(){return this.container.getProviders().map(Ee=>{if(function we(me){const Z=me.getComponent();return"VERSION"===Z?.type}(Ee)){const He=Ee.getImmediate();return`${He.library}/${He.version}`}return null}).filter(Ee=>Ee).join(" ")}}const Oe="@firebase/app",V=new N.Yd("@firebase/app"),ae="[DEFAULT]",fe={[Oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ce=new Map,oe=new Map;function Ae(me,Z){try{me.container.addComponent(Z)}catch(Ee){V.debug(`Component ${Z.name} failed to register with FirebaseApp ${me.name}`,Ee)}}function Ge(me,Z){me.container.addOrOverwriteComponent(Z)}function tt(me){const Z=me.name;if(oe.has(Z))return V.debug(`There were multiple attempts to register component ${Z}.`),!1;oe.set(Z,me);for(const Ee of ce.values())Ae(Ee,me);return!0}function qe(me,Z){const Ee=me.container.getProvider("heartbeat").getImmediate({optional:!0});return Ee&&Ee.triggerHeartbeat(),me.container.getProvider(Z)}function Wt(me,Z,Ee=ae){qe(me,Z).clearInstance(Ee)}function Dt(){oe.clear()}const yt=new Y.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class hn{constructor(Z,Ee,He){this._isDeleted=!1,this._options=Object.assign({},Z),this._config=Object.assign({},Ee),this._name=Ee.name,this._automaticDataCollectionEnabled=Ee.automaticDataCollectionEnabled,this._container=He,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this.checkDestroyed(),this._automaticDataCollectionEnabled=Z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Z){this._isDeleted=Z}checkDestroyed(){if(this.isDeleted)throw yt.create("app-deleted",{appName:this._name})}}const jn="9.23.0";function Ln(me,Z={}){let Ee=me;"object"!=typeof Z&&(Z={name:Z});const He=Object.assign({name:ae,automaticDataCollectionEnabled:!1},Z),ct=He.name;if("string"!=typeof ct||!ct)throw yt.create("bad-app-name",{appName:String(ct)});if(Ee||(Ee=(0,Y.aH)()),!Ee)throw yt.create("no-options");const Et=ce.get(ct);if(Et){if((0,Y.vZ)(Ee,Et.options)&&(0,Y.vZ)(He,Et.config))return Et;throw yt.create("duplicate-app",{appName:ct})}const gn=new U.H0(ct);for(const H of oe.values())gn.addComponent(H);const G=new hn(Ee,He,gn);return ce.set(ct,G),G}function _n(me=ae){const Z=ce.get(me);if(!Z&&me===ae&&(0,Y.aH)())return Ln();if(!Z)throw yt.create("no-app",{appName:me});return Z}function Rn(){return Array.from(ce.values())}function ir(me){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,d.Z)(function*(me){const Z=me.name;ce.has(Z)&&(ce.delete(Z),yield Promise.all(me.container.getProviders().map(Ee=>Ee.delete())),me.isDeleted=!0)})).apply(this,arguments)}function Vn(me,Z,Ee){var He;let ct=null!==(He=fe[me])&&void 0!==He?He:me;Ee&&(ct+=`-${Ee}`);const Et=ct.match(/\s|\//),gn=Z.match(/\s|\//);if(Et||gn){const G=[`Unable to register library "${ct}" with version "${Z}":`];return Et&&G.push(`library name "${ct}" contains illegal characters (whitespace or "/")`),Et&&gn&&G.push("and"),gn&&G.push(`version name "${Z}" contains illegal characters (whitespace or "/")`),void V.warn(G.join(" "))}tt(new U.wA(`${ct}-version`,()=>({library:ct,version:Z}),"VERSION"))}function Dn(me,Z){if(null!==me&&"function"!=typeof me)throw yt.create("invalid-log-argument");(0,N.Am)(me,Z)}function er(me){(0,N.Ub)(me)}const zr="firebase-heartbeat-database",wt=1,Ct="firebase-heartbeat-store";let Nt=null;function Rt(){return Nt||(Nt=(0,se.X3)(zr,wt,{upgrade:(me,Z)=>{0===Z&&me.createObjectStore(Ct)}}).catch(me=>{throw yt.create("idb-open",{originalErrorMessage:me.message})})),Nt}function fn(){return(fn=(0,d.Z)(function*(me){try{return yield(yield Rt()).transaction(Ct).objectStore(Ct).get(Nr(me))}catch(Z){if(Z instanceof Y.ZR)V.warn(Z.message);else{const Ee=yt.create("idb-get",{originalErrorMessage:Z?.message});V.warn(Ee.message)}}})).apply(this,arguments)}function Kt(me,Z){return pn.apply(this,arguments)}function pn(){return(pn=(0,d.Z)(function*(me,Z){try{const He=(yield Rt()).transaction(Ct,"readwrite");yield He.objectStore(Ct).put(Z,Nr(me)),yield He.done}catch(Ee){if(Ee instanceof Y.ZR)V.warn(Ee.message);else{const He=yt.create("idb-set",{originalErrorMessage:Ee?.message});V.warn(He.message)}}})).apply(this,arguments)}function Nr(me){return`${me.name}!${me.options.appId}`}class Xt{constructor(Z){this.container=Z,this._heartbeatsCache=null;const Ee=this.container.getProvider("app").getImmediate();this._storage=new sr(Ee),this._heartbeatsCachePromise=this._storage.read().then(He=>(this._heartbeatsCache=He,He))}triggerHeartbeat(){var Z=this;return(0,d.Z)(function*(){const He=Z.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ct=cn();if(null===Z._heartbeatsCache&&(Z._heartbeatsCache=yield Z._heartbeatsCachePromise),Z._heartbeatsCache.lastSentHeartbeatDate!==ct&&!Z._heartbeatsCache.heartbeats.some(Et=>Et.date===ct))return Z._heartbeatsCache.heartbeats.push({date:ct,agent:He}),Z._heartbeatsCache.heartbeats=Z._heartbeatsCache.heartbeats.filter(Et=>{const gn=new Date(Et.date).valueOf();return Date.now()-gn<=2592e6}),Z._storage.overwrite(Z._heartbeatsCache)})()}getHeartbeatsHeader(){var Z=this;return(0,d.Z)(function*(){if(null===Z._heartbeatsCache&&(yield Z._heartbeatsCachePromise),null===Z._heartbeatsCache||0===Z._heartbeatsCache.heartbeats.length)return"";const Ee=cn(),{heartbeatsToSend:He,unsentEntries:ct}=function br(me,Z=1024){const Ee=[];let He=me.slice();for(const ct of me){const Et=Ee.find(gn=>gn.agent===ct.agent);if(Et){if(Et.dates.push(ct.date),lr(Ee)>Z){Et.dates.pop();break}}else if(Ee.push({agent:ct.agent,dates:[ct.date]}),lr(Ee)>Z){Ee.pop();break}He=He.slice(1)}return{heartbeatsToSend:Ee,unsentEntries:He}}(Z._heartbeatsCache.heartbeats),Et=(0,Y.L)(JSON.stringify({version:2,heartbeats:He}));return Z._heartbeatsCache.lastSentHeartbeatDate=Ee,ct.length>0?(Z._heartbeatsCache.heartbeats=ct,yield Z._storage.overwrite(Z._heartbeatsCache)):(Z._heartbeatsCache.heartbeats=[],Z._storage.overwrite(Z._heartbeatsCache)),Et})()}}function cn(){return(new Date).toISOString().substring(0,10)}class sr{constructor(Z){this.app=Z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,Y.hl)()&&(0,Y.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Z=this;return(0,d.Z)(function*(){return(yield Z._canUseIndexedDBPromise)&&(yield function mr(me){return fn.apply(this,arguments)}(Z.app))||{heartbeats:[]}})()}overwrite(Z){var Ee=this;return(0,d.Z)(function*(){var He;if(yield Ee._canUseIndexedDBPromise){const Et=yield Ee.read();return Kt(Ee.app,{lastSentHeartbeatDate:null!==(He=Z.lastSentHeartbeatDate)&&void 0!==He?He:Et.lastSentHeartbeatDate,heartbeats:Z.heartbeats})}})()}add(Z){var Ee=this;return(0,d.Z)(function*(){var He;if(yield Ee._canUseIndexedDBPromise){const Et=yield Ee.read();return Kt(Ee.app,{lastSentHeartbeatDate:null!==(He=Z.lastSentHeartbeatDate)&&void 0!==He?He:Et.lastSentHeartbeatDate,heartbeats:[...Et.heartbeats,...Z.heartbeats]})}})()}}function lr(me){return(0,Y.L)(JSON.stringify({version:2,heartbeats:me})).length}!function Un(me){tt(new U.wA("platform-logger",Z=>new ve(Z),"PRIVATE")),tt(new U.wA("heartbeat",Z=>new Xt(Z),"PRIVATE")),Vn(Oe,"0.9.13",me),Vn(Oe,"0.9.13","esm2017"),Vn("fire-js","")}("")},4097:(vt,De,S)=>{S.d(De,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=S(7592);(0,d.registerVersion)("firebase","9.23.0","app")},120:(vt,De,S)=>{S.d(De,{Z:()=>d.Z});var d=S(3399);d.Z.registerVersion("firebase","9.23.0","app-compat")},8661:(vt,De,S)=>{S.r(De);var d=S(5861),U=S(3399),N=S(6710),Y=S(9058),we=(S(7592),S(7879),S(4537));function Oe(){return window}function q(){return q=(0,d.Z)(function*(P,R,M){var X;const{BuildInfo:Ne}=Oe();(0,N.as)(R.sessionId,"AuthEvent did not contain a session ID");const Qe=yield function Se(P){return ht.apply(this,arguments)}(R.sessionId),xt={};return(0,N.at)()?xt.ibi=Ne.packageName:(0,N.au)()?xt.apn=Ne.packageName:(0,N.av)(P,"operation-not-supported-in-this-environment"),Ne.displayName&&(xt.appDisplayName=Ne.displayName),xt.sessionId=Qe,(0,N.aw)(P,M,R.type,void 0,null!==(X=R.eventId)&&void 0!==X?X:void 0,xt)}),q.apply(this,arguments)}function Ue(){return(Ue=(0,d.Z)(function*(P){const{BuildInfo:R}=Oe(),M={};(0,N.at)()?M.iosBundleId=R.packageName:(0,N.au)()?M.androidPackageName=R.packageName:(0,N.av)(P,"operation-not-supported-in-this-environment"),yield(0,N.ax)(P,M)})).apply(this,arguments)}function ke(){return(ke=(0,d.Z)(function*(P,R,M){const{cordova:X}=Oe();let Ne=()=>{};try{yield new Promise((Qe,xt)=>{let ot=null;function mn(){var Yt;Qe();const yr=null===(Yt=X.plugins.browsertab)||void 0===Yt?void 0:Yt.close;"function"==typeof yr&&yr(),"function"==typeof M?.close&&M.close()}function Vt(){ot||(ot=window.setTimeout(()=>{xt((0,N.az)(P,"redirect-cancelled-by-user"))},2e3))}function wn(){"visible"===document?.visibilityState&&Vt()}R.addPassiveListener(mn),document.addEventListener("resume",Vt,!1),(0,N.au)()&&document.addEventListener("visibilitychange",wn,!1),Ne=()=>{R.removePassiveListener(mn),document.removeEventListener("resume",Vt,!1),document.removeEventListener("visibilitychange",wn,!1),ot&&window.clearTimeout(ot)}})}finally{Ne()}})).apply(this,arguments)}function ht(){return(ht=(0,d.Z)(function*(P){const R=function ft(P){if((0,N.as)(/[0-9a-zA-Z]+/.test(P),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(P);const R=new ArrayBuffer(P.length),M=new Uint8Array(R);for(let X=0;X<P.length;X++)M[X]=P.charCodeAt(X);return M}(P),M=yield crypto.subtle.digest("SHA-256",R);return Array.from(new Uint8Array(M)).map(Ne=>Ne.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Te extends N.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(R=>{this.resolveInialized=R})}addPassiveListener(R){this.passiveListeners.add(R)}removePassiveListener(R){this.passiveListeners.delete(R)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(R){return this.resolveInialized(),this.passiveListeners.forEach(M=>M(R)),super.onEvent(R)}initialized(){var R=this;return(0,d.Z)(function*(){yield R.initPromise})()}}function Be(P){return k.apply(this,arguments)}function k(){return(k=(0,d.Z)(function*(P){const R=yield st()._get(Lt(P));return R&&(yield st()._remove(Lt(P))),R})).apply(this,arguments)}function be(){const P=[];for(let M=0;M<20;M++){const X=Math.floor(62*Math.random());P.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(X))}return P.join("")}function st(){return(0,N.aC)(N.b)}function Lt(P){return(0,N.aD)("authEvent",P.config.apiKey,P.name)}function dn(P){if(!P?.includes("?"))return{};const[R,...M]=P.split("?");return(0,Y.zd)(M.join("?"))}const ae=class Gn{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aE,this._overrideRedirectResult=N.aF}_initialize(R){var M=this;return(0,d.Z)(function*(){const X=R._key();let Ne=M.eventManagers.get(X);return Ne||(Ne=new Te(R),M.eventManagers.set(X,Ne),M.attachCallbackListeners(R,Ne)),Ne})()}_openPopup(R){(0,N.av)(R,"operation-not-supported-in-this-environment")}_openRedirect(R,M,X,Ne){var Qe=this;return(0,d.Z)(function*(){!function We(P){var R,M,X,Ne,Qe,xt,ot,mn,Vt,wn;const Yt=Oe();(0,N.aA)("function"==typeof(null===(R=Yt?.universalLinks)||void 0===R?void 0:R.subscribe),P,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.aA)(typeof(null===(M=Yt?.BuildInfo)||void 0===M?void 0:M.packageName)<"u",P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.aA)("function"==typeof(null===(Qe=null===(Ne=null===(X=Yt?.cordova)||void 0===X?void 0:X.plugins)||void 0===Ne?void 0:Ne.browsertab)||void 0===Qe?void 0:Qe.openUrl),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aA)("function"==typeof(null===(mn=null===(ot=null===(xt=Yt?.cordova)||void 0===xt?void 0:xt.plugins)||void 0===ot?void 0:ot.browsertab)||void 0===mn?void 0:mn.isAvailable),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aA)("function"==typeof(null===(wn=null===(Vt=Yt?.cordova)||void 0===Vt?void 0:Vt.InAppBrowser)||void 0===wn?void 0:wn.open),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(R);const xt=yield Qe._initialize(R);yield xt.initialized(),xt.resetRedirect(),(0,N.aG)(),yield Qe._originValidation(R);const ot=function ue(P,R,M=null){return{type:R,eventId:M,urlResponse:null,sessionId:be(),postBody:null,tenantId:P.tenantId,error:(0,N.az)(P,"no-auth-event")}}(R,X,Ne);yield function Me(P,R){return st()._set(Lt(P),R)}(R,ot);const mn=yield function V(P,R,M){return q.apply(this,arguments)}(R,ot,M),Vt=yield function Ie(P){const{cordova:R}=Oe();return new Promise(M=>{R.plugins.browsertab.isAvailable(X=>{let Ne=null;X?R.plugins.browsertab.openUrl(P):Ne=R.InAppBrowser.open(P,(0,N.ay)()?"_blank":"_system","location=yes"),M(Ne)})})}(mn);return function Ye(P,R,M){return ke.apply(this,arguments)}(R,xt,Vt)})()}_isIframeWebStorageSupported(R,M){throw new Error("Method not implemented.")}_originValidation(R){const M=R._key();return this.originValidationPromises[M]||(this.originValidationPromises[M]=function ne(P){return Ue.apply(this,arguments)}(R)),this.originValidationPromises[M]}attachCallbackListeners(R,M){const{universalLinks:X,handleOpenURL:Ne,BuildInfo:Qe}=Oe(),xt=setTimeout((0,d.Z)(function*(){yield Be(R),M.onEvent(fe())}),500),ot=function(){var wn=(0,d.Z)(function*(Yt){clearTimeout(xt);const yr=yield Be(R);let K=null;yr&&Yt?.url&&(K=function te(P,R){var M,X;const Ne=function Gt(P){const R=dn(P),M=R.link?decodeURIComponent(R.link):void 0,X=dn(M).link,Ne=R.deep_link_id?decodeURIComponent(R.deep_link_id):void 0;return dn(Ne).link||Ne||X||M||P}(R);if(Ne.includes("/__/auth/callback")){const Qe=dn(Ne),xt=Qe.firebaseError?function Ht(P){try{return JSON.parse(P)}catch{return null}}(decodeURIComponent(Qe.firebaseError)):null,ot=null===(X=null===(M=xt?.code)||void 0===M?void 0:M.split("auth/"))||void 0===X?void 0:X[1],mn=ot?(0,N.az)(ot):null;return mn?{type:P.type,eventId:P.eventId,tenantId:P.tenantId,error:mn,urlResponse:null,sessionId:null,postBody:null}:{type:P.type,eventId:P.eventId,tenantId:P.tenantId,sessionId:P.sessionId,urlResponse:Ne,postBody:null}}return null}(yr,Yt.url)),M.onEvent(K||fe())});return function(yr){return wn.apply(this,arguments)}}();typeof X<"u"&&"function"==typeof X.subscribe&&X.subscribe(null,ot);const mn=Ne,Vt=`${Qe.packageName.toLowerCase()}://`;Oe().handleOpenURL=function(){var wn=(0,d.Z)(function*(Yt){if(Yt.toLowerCase().startsWith(Vt)&&ot({url:Yt}),"function"==typeof mn)try{mn(Yt)}catch(yr){console.error(yr)}});return function(Yt){return wn.apply(this,arguments)}}()}};function fe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.az)("no-auth-event")}}function tt(){var P;return(null===(P=self?.location)||void 0===P?void 0:P.protocol)||null}function Wt(P=(0,Y.z$)()){return!("file:"!==tt()&&"ionic:"!==tt()&&"capacitor:"!==tt()||!P.toLowerCase().match(/iphone|ipad|ipod|android/))}function jn(){try{const P=self.localStorage,R=N.aL();if(P)return P.setItem(R,"1"),P.removeItem(R),!function hn(P=(0,Y.z$)()){return function nn(){return(0,Y.w1)()&&11===document?.documentMode}()||function yt(P=(0,Y.z$)()){return/Edge\/\d+/.test(P)}(P)}()||(0,Y.hl)()}catch{return Ln()&&(0,Y.hl)()}return!1}function Ln(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function _n(){return(function qe(){return"http:"===tt()||"https:"===tt()}()||(0,Y.ru)()||Wt())&&!function Dt(){return(0,Y.b$)()||(0,Y.UG)()}()&&jn()&&!Ln()}function Rn(){return Wt()&&typeof document<"u"}function Wn(){return(Wn=(0,d.Z)(function*(){return!!Rn()&&new Promise(P=>{const R=setTimeout(()=>{P(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(R),P(!0)})})})).apply(this,arguments)}const Dn={LOCAL:"local",NONE:"none",SESSION:"session"},er=N.aA,zr="persistence";function Ct(P){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,d.Z)(function*(P){yield P._initializationPromise;const R=mr(),M=N.aD(zr,P.config.apiKey,P.name);R&&R.setItem(M,P._getPersistence())})).apply(this,arguments)}function mr(){var P;try{return(null===(P=function Vn(){return typeof window<"u"?window:null}())||void 0===P?void 0:P.sessionStorage)||null}catch{return null}}const fn=N.aA;class Kt{constructor(){this.browserResolver=N.aC(N.k),this.cordovaResolver=N.aC(ae),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aE,this._overrideRedirectResult=N.aF}_initialize(R){var M=this;return(0,d.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._initialize(R)})()}_openPopup(R,M,X,Ne){var Qe=this;return(0,d.Z)(function*(){return yield Qe.selectUnderlyingResolver(),Qe.assertedUnderlyingResolver._openPopup(R,M,X,Ne)})()}_openRedirect(R,M,X,Ne){var Qe=this;return(0,d.Z)(function*(){return yield Qe.selectUnderlyingResolver(),Qe.assertedUnderlyingResolver._openRedirect(R,M,X,Ne)})()}_isIframeWebStorageSupported(R,M){this.assertedUnderlyingResolver._isIframeWebStorageSupported(R,M)}_originValidation(R){return this.assertedUnderlyingResolver._originValidation(R)}get _shouldInitProactively(){return Rn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return fn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var R=this;return(0,d.Z)(function*(){if(R.underlyingResolver)return;const M=yield function ir(){return Wn.apply(this,arguments)}();R.underlyingResolver=M?R.cordovaResolver:R.browserResolver})()}}function pn(P){return P.unwrap()}function rn(P){return Xt(P)}function Xt(P){const{_tokenResponse:R}=P instanceof Y.ZR?P.customData:P;if(!R)return null;if(!(P instanceof Y.ZR)&&"temporaryProof"in R&&"phoneNumber"in R)return N.P.credentialFromResult(P);const M=R.providerId;if(!M||M===N.p.PASSWORD)return null;let X;switch(M){case N.p.GOOGLE:X=N.V;break;case N.p.FACEBOOK:X=N.U;break;case N.p.GITHUB:X=N.W;break;case N.p.TWITTER:X=N.Z;break;default:const{oauthIdToken:Ne,oauthAccessToken:Qe,oauthTokenSecret:xt,pendingToken:ot,nonce:mn}=R;return Qe||xt||Ne||ot?ot?M.startsWith("saml.")?N.aO._create(M,ot):N.L._fromParams({providerId:M,signInMethod:M,pendingToken:ot,idToken:Ne,accessToken:Qe}):new N.X(M).credential({idToken:Ne,accessToken:Qe,rawNonce:mn}):null}return P instanceof Y.ZR?X.credentialFromError(P):X.credentialFromResult(P)}function cn(P,R){return R.catch(M=>{throw M instanceof Y.ZR&&function pi(P,R){var M;const X=null===(M=R.customData)||void 0===M?void 0:M._tokenResponse;if("auth/multi-factor-auth-required"===R?.code)R.resolver=new lr(P,N.aq(P,R));else if(X){const Ne=Xt(R),Qe=R;Ne&&(Qe.credential=Ne,Qe.tenantId=X.tenantId||void 0,Qe.email=X.email||void 0,Qe.phoneNumber=X.phoneNumber||void 0)}}(P,M),M}).then(M=>{const Ne=M.user;return{operationType:M.operationType,credential:rn(M),additionalUserInfo:N.ao(M),user:Un.getOrCreate(Ne)}})}function br(P,R){return sr.apply(this,arguments)}function sr(){return(sr=(0,d.Z)(function*(P,R){const M=yield R;return{verificationId:M.verificationId,confirm:X=>cn(P,M.confirm(X))}})).apply(this,arguments)}class lr{constructor(R,M){this.resolver=M,this.auth=function Nr(P){return P.wrapped()}(R)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(R){return cn(pn(this.auth),this.resolver.resolveSignIn(R))}}class Un{constructor(R){this._delegate=R,this.multiFactor=N.ar(R)}static getOrCreate(R){return Un.USER_MAP.has(R)||Un.USER_MAP.set(R,new Un(R)),Un.USER_MAP.get(R)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(R){return this._delegate.getIdTokenResult(R)}getIdToken(R){return this._delegate.getIdToken(R)}linkAndRetrieveDataWithCredential(R){return this.linkWithCredential(R)}linkWithCredential(R){var M=this;return(0,d.Z)(function*(){return cn(M.auth,N.a0(M._delegate,R))})()}linkWithPhoneNumber(R,M){var X=this;return(0,d.Z)(function*(){return br(X.auth,N.l(X._delegate,R,M))})()}linkWithPopup(R){var M=this;return(0,d.Z)(function*(){return cn(M.auth,N.d(M._delegate,R,Kt))})()}linkWithRedirect(R){var M=this;return(0,d.Z)(function*(){return yield Ct(N.aH(M.auth)),N.g(M._delegate,R,Kt)})()}reauthenticateAndRetrieveDataWithCredential(R){return this.reauthenticateWithCredential(R)}reauthenticateWithCredential(R){var M=this;return(0,d.Z)(function*(){return cn(M.auth,N.a1(M._delegate,R))})()}reauthenticateWithPhoneNumber(R,M){return br(this.auth,N.r(this._delegate,R,M))}reauthenticateWithPopup(R){return cn(this.auth,N.e(this._delegate,R,Kt))}reauthenticateWithRedirect(R){var M=this;return(0,d.Z)(function*(){return yield Ct(N.aH(M.auth)),N.h(M._delegate,R,Kt)})()}sendEmailVerification(R){return N.ae(this._delegate,R)}unlink(R){var M=this;return(0,d.Z)(function*(){return yield N.an(M._delegate,R),M})()}updateEmail(R){return N.aj(this._delegate,R)}updatePassword(R){return N.ak(this._delegate,R)}updatePhoneNumber(R){return N.u(this._delegate,R)}updateProfile(R){return N.ai(this._delegate,R)}verifyBeforeUpdateEmail(R,M){return N.af(this._delegate,R,M)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Un.USER_MAP=new WeakMap;const me=N.aA;let Z=(()=>{class P{constructor(M,X){if(this.app=M,X.isInitialized())return this._delegate=X.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ne}=M.options;me(Ne,"invalid-api-key",{appName:M.name}),me(Ne,"invalid-api-key",{appName:M.name});const Qe=typeof window<"u"?Kt:void 0;this._delegate=X.initialize({options:{persistence:He(Ne,M.name),popupRedirectResolver:Qe}}),this._delegate._updateErrorMap(N.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Un.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(M){this._delegate.languageCode=M}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(M){this._delegate.tenantId=M}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(M,X){N.I(this._delegate,M,X)}applyActionCode(M){return N.a5(this._delegate,M)}checkActionCode(M){return N.a6(this._delegate,M)}confirmPasswordReset(M,X){return N.a4(this._delegate,M,X)}createUserWithEmailAndPassword(M,X){var Ne=this;return(0,d.Z)(function*(){return cn(Ne._delegate,N.a8(Ne._delegate,M,X))})()}fetchProvidersForEmail(M){return this.fetchSignInMethodsForEmail(M)}fetchSignInMethodsForEmail(M){return N.ad(this._delegate,M)}isSignInWithEmailLink(M){return N.ab(this._delegate,M)}getRedirectResult(){var M=this;return(0,d.Z)(function*(){me(_n(),M._delegate,"operation-not-supported-in-this-environment");const X=yield N.j(M._delegate,Kt);return X?cn(M._delegate,Promise.resolve(X)):{credential:null,user:null}})()}addFrameworkForLogging(M){!function ce(P,R){(0,N.aH)(P)._logFramework(R)}(this._delegate,M)}onAuthStateChanged(M,X,Ne){const{next:Qe,error:xt,complete:ot}=Ee(M,X,Ne);return this._delegate.onAuthStateChanged(Qe,xt,ot)}onIdTokenChanged(M,X,Ne){const{next:Qe,error:xt,complete:ot}=Ee(M,X,Ne);return this._delegate.onIdTokenChanged(Qe,xt,ot)}sendSignInLinkToEmail(M,X){return N.aa(this._delegate,M,X)}sendPasswordResetEmail(M,X){return N.a3(this._delegate,M,X||void 0)}setPersistence(M){var X=this;return(0,d.Z)(function*(){let Ne;switch(function wt(P,R){er(Object.values(Dn).includes(R),P,"invalid-persistence-type"),(0,Y.b$)()?er(R!==Dn.SESSION,P,"unsupported-persistence-type"):(0,Y.UG)()?er(R===Dn.NONE,P,"unsupported-persistence-type"):Ln()?er(R===Dn.NONE||R===Dn.LOCAL&&(0,Y.hl)(),P,"unsupported-persistence-type"):er(R===Dn.NONE||jn(),P,"unsupported-persistence-type")}(X._delegate,M),M){case Dn.SESSION:Ne=N.a;break;case Dn.LOCAL:Ne=(yield N.aC(N.i)._isAvailable())?N.i:N.b;break;case Dn.NONE:Ne=N.N;break;default:return N.av("argument-error",{appName:X._delegate.name})}return X._delegate.setPersistence(Ne)})()}signInAndRetrieveDataWithCredential(M){return this.signInWithCredential(M)}signInAnonymously(){return cn(this._delegate,N._(this._delegate))}signInWithCredential(M){return cn(this._delegate,N.$(this._delegate,M))}signInWithCustomToken(M){return cn(this._delegate,N.a2(this._delegate,M))}signInWithEmailAndPassword(M,X){return cn(this._delegate,N.a9(this._delegate,M,X))}signInWithEmailLink(M,X){return cn(this._delegate,N.ac(this._delegate,M,X))}signInWithPhoneNumber(M,X){return br(this._delegate,N.s(this._delegate,M,X))}signInWithPopup(M){var X=this;return(0,d.Z)(function*(){return me(_n(),X._delegate,"operation-not-supported-in-this-environment"),cn(X._delegate,N.c(X._delegate,M,Kt))})()}signInWithRedirect(M){var X=this;return(0,d.Z)(function*(){return me(_n(),X._delegate,"operation-not-supported-in-this-environment"),yield Ct(X._delegate),N.f(X._delegate,M,Kt)})()}updateCurrentUser(M){return this._delegate.updateCurrentUser(M)}verifyPasswordResetCode(M){return N.a7(this._delegate,M)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return P.Persistence=Dn,P})();function Ee(P,R,M){let X=P;"function"!=typeof P&&({next:X,error:R,complete:M}=P);const Ne=X;return{next:xt=>Ne(xt&&Un.getOrCreate(xt)),error:R,complete:M}}function He(P,R){const M=function Rt(P,R){const M=mr();if(!M)return[];const X=N.aD(zr,P,R);switch(M.getItem(X)){case Dn.NONE:return[N.N];case Dn.LOCAL:return[N.i,N.a];case Dn.SESSION:return[N.a];default:return[]}}(P,R);if(typeof self<"u"&&!M.includes(N.i)&&M.push(N.i),typeof window<"u")for(const X of[N.b,N.a])M.includes(X)||M.push(X);return M.includes(N.N)||M.push(N.N),M}class ct{constructor(){this.providerId="phone",this._delegate=new N.P(pn(U.Z.auth()))}static credential(R,M){return N.P.credential(R,M)}verifyPhoneNumber(R,M){return this._delegate.verifyPhoneNumber(R,M)}unwrap(){return this._delegate}}ct.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,ct.PROVIDER_ID=N.P.PROVIDER_ID;const Et=N.aA;class gn{constructor(R,M,X=U.Z.app()){var Ne;Et(null===(Ne=X.options)||void 0===Ne?void 0:Ne.apiKey,"invalid-api-key",{appName:X.name}),this._delegate=new N.R(R,M,X.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function H(P){P.INTERNAL.registerComponent(new we.wA("auth-compat",R=>{const M=R.getProvider("app-compat").getImmediate(),X=R.getProvider("auth");return new Z(M,X)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.Q,FacebookAuthProvider:N.U,GithubAuthProvider:N.W,GoogleAuthProvider:N.V,OAuthProvider:N.X,SAMLAuthProvider:N.Y,PhoneAuthProvider:ct,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:gn,TwitterAuthProvider:N.Z,Auth:Z,AuthCredential:N.J,Error:Y.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),P.registerVersion("@firebase/auth-compat","0.4.2")}(U.Z)},9519:(vt,De,S)=>{S.d(De,{Gb:()=>d.Gb});var d=S(2650)},4303:(vt,De,S)=>{S.r(De),S.d(De,{FirebaseError:()=>Y.ZR,SDK_VERSION:()=>jn,_DEFAULT_ENTRY_NAME:()=>ae,_addComponent:()=>Ae,_addOrOverwriteComponent:()=>Ge,_apps:()=>ce,_clearComponents:()=>Dt,_components:()=>oe,_getProvider:()=>qe,_registerComponent:()=>tt,_removeServiceInstance:()=>Wt,deleteApp:()=>ir,getApp:()=>_n,getApps:()=>Rn,initializeApp:()=>Ln,onLog:()=>Dn,registerVersion:()=>Vn,setLogLevel:()=>er});var d=S(5861),U=S(4537),N=S(7879),Y=S(9058),se=S(1878);class ve{constructor(Z){this.container=Z}getPlatformInfoString(){return this.container.getProviders().map(Ee=>{if(function we(me){const Z=me.getComponent();return"VERSION"===Z?.type}(Ee)){const He=Ee.getImmediate();return`${He.library}/${He.version}`}return null}).filter(Ee=>Ee).join(" ")}}const Oe="@firebase/app",V=new N.Yd("@firebase/app"),ae="[DEFAULT]",fe={[Oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ce=new Map,oe=new Map;function Ae(me,Z){try{me.container.addComponent(Z)}catch(Ee){V.debug(`Component ${Z.name} failed to register with FirebaseApp ${me.name}`,Ee)}}function Ge(me,Z){me.container.addOrOverwriteComponent(Z)}function tt(me){const Z=me.name;if(oe.has(Z))return V.debug(`There were multiple attempts to register component ${Z}.`),!1;oe.set(Z,me);for(const Ee of ce.values())Ae(Ee,me);return!0}function qe(me,Z){const Ee=me.container.getProvider("heartbeat").getImmediate({optional:!0});return Ee&&Ee.triggerHeartbeat(),me.container.getProvider(Z)}function Wt(me,Z,Ee=ae){qe(me,Z).clearInstance(Ee)}function Dt(){oe.clear()}const yt=new Y.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class hn{constructor(Z,Ee,He){this._isDeleted=!1,this._options=Object.assign({},Z),this._config=Object.assign({},Ee),this._name=Ee.name,this._automaticDataCollectionEnabled=Ee.automaticDataCollectionEnabled,this._container=He,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this.checkDestroyed(),this._automaticDataCollectionEnabled=Z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Z){this._isDeleted=Z}checkDestroyed(){if(this.isDeleted)throw yt.create("app-deleted",{appName:this._name})}}const jn="10.4.0";function Ln(me,Z={}){let Ee=me;"object"!=typeof Z&&(Z={name:Z});const He=Object.assign({name:ae,automaticDataCollectionEnabled:!1},Z),ct=He.name;if("string"!=typeof ct||!ct)throw yt.create("bad-app-name",{appName:String(ct)});if(Ee||(Ee=(0,Y.aH)()),!Ee)throw yt.create("no-options");const Et=ce.get(ct);if(Et){if((0,Y.vZ)(Ee,Et.options)&&(0,Y.vZ)(He,Et.config))return Et;throw yt.create("duplicate-app",{appName:ct})}const gn=new U.H0(ct);for(const H of oe.values())gn.addComponent(H);const G=new hn(Ee,He,gn);return ce.set(ct,G),G}function _n(me=ae){const Z=ce.get(me);if(!Z&&me===ae&&(0,Y.aH)())return Ln();if(!Z)throw yt.create("no-app",{appName:me});return Z}function Rn(){return Array.from(ce.values())}function ir(me){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,d.Z)(function*(me){const Z=me.name;ce.has(Z)&&(ce.delete(Z),yield Promise.all(me.container.getProviders().map(Ee=>Ee.delete())),me.isDeleted=!0)})).apply(this,arguments)}function Vn(me,Z,Ee){var He;let ct=null!==(He=fe[me])&&void 0!==He?He:me;Ee&&(ct+=`-${Ee}`);const Et=ct.match(/\s|\//),gn=Z.match(/\s|\//);if(Et||gn){const G=[`Unable to register library "${ct}" with version "${Z}":`];return Et&&G.push(`library name "${ct}" contains illegal characters (whitespace or "/")`),Et&&gn&&G.push("and"),gn&&G.push(`version name "${Z}" contains illegal characters (whitespace or "/")`),void V.warn(G.join(" "))}tt(new U.wA(`${ct}-version`,()=>({library:ct,version:Z}),"VERSION"))}function Dn(me,Z){if(null!==me&&"function"!=typeof me)throw yt.create("invalid-log-argument");(0,N.Am)(me,Z)}function er(me){(0,N.Ub)(me)}const zr="firebase-heartbeat-database",wt=1,Ct="firebase-heartbeat-store";let Nt=null;function Rt(){return Nt||(Nt=(0,se.X3)(zr,wt,{upgrade:(me,Z)=>{0===Z&&me.createObjectStore(Ct)}}).catch(me=>{throw yt.create("idb-open",{originalErrorMessage:me.message})})),Nt}function fn(){return(fn=(0,d.Z)(function*(me){try{return yield(yield Rt()).transaction(Ct).objectStore(Ct).get(Nr(me))}catch(Z){if(Z instanceof Y.ZR)V.warn(Z.message);else{const Ee=yt.create("idb-get",{originalErrorMessage:Z?.message});V.warn(Ee.message)}}})).apply(this,arguments)}function Kt(me,Z){return pn.apply(this,arguments)}function pn(){return(pn=(0,d.Z)(function*(me,Z){try{const He=(yield Rt()).transaction(Ct,"readwrite");yield He.objectStore(Ct).put(Z,Nr(me)),yield He.done}catch(Ee){if(Ee instanceof Y.ZR)V.warn(Ee.message);else{const He=yt.create("idb-set",{originalErrorMessage:Ee?.message});V.warn(He.message)}}})).apply(this,arguments)}function Nr(me){return`${me.name}!${me.options.appId}`}class Xt{constructor(Z){this.container=Z,this._heartbeatsCache=null;const Ee=this.container.getProvider("app").getImmediate();this._storage=new sr(Ee),this._heartbeatsCachePromise=this._storage.read().then(He=>(this._heartbeatsCache=He,He))}triggerHeartbeat(){var Z=this;return(0,d.Z)(function*(){const He=Z.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ct=cn();if(null===Z._heartbeatsCache&&(Z._heartbeatsCache=yield Z._heartbeatsCachePromise),Z._heartbeatsCache.lastSentHeartbeatDate!==ct&&!Z._heartbeatsCache.heartbeats.some(Et=>Et.date===ct))return Z._heartbeatsCache.heartbeats.push({date:ct,agent:He}),Z._heartbeatsCache.heartbeats=Z._heartbeatsCache.heartbeats.filter(Et=>{const gn=new Date(Et.date).valueOf();return Date.now()-gn<=2592e6}),Z._storage.overwrite(Z._heartbeatsCache)})()}getHeartbeatsHeader(){var Z=this;return(0,d.Z)(function*(){if(null===Z._heartbeatsCache&&(yield Z._heartbeatsCachePromise),null===Z._heartbeatsCache||0===Z._heartbeatsCache.heartbeats.length)return"";const Ee=cn(),{heartbeatsToSend:He,unsentEntries:ct}=function br(me,Z=1024){const Ee=[];let He=me.slice();for(const ct of me){const Et=Ee.find(gn=>gn.agent===ct.agent);if(Et){if(Et.dates.push(ct.date),lr(Ee)>Z){Et.dates.pop();break}}else if(Ee.push({agent:ct.agent,dates:[ct.date]}),lr(Ee)>Z){Ee.pop();break}He=He.slice(1)}return{heartbeatsToSend:Ee,unsentEntries:He}}(Z._heartbeatsCache.heartbeats),Et=(0,Y.L)(JSON.stringify({version:2,heartbeats:He}));return Z._heartbeatsCache.lastSentHeartbeatDate=Ee,ct.length>0?(Z._heartbeatsCache.heartbeats=ct,yield Z._storage.overwrite(Z._heartbeatsCache)):(Z._heartbeatsCache.heartbeats=[],Z._storage.overwrite(Z._heartbeatsCache)),Et})()}}function cn(){return(new Date).toISOString().substring(0,10)}class sr{constructor(Z){this.app=Z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,Y.hl)()&&(0,Y.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Z=this;return(0,d.Z)(function*(){return(yield Z._canUseIndexedDBPromise)&&(yield function mr(me){return fn.apply(this,arguments)}(Z.app))||{heartbeats:[]}})()}overwrite(Z){var Ee=this;return(0,d.Z)(function*(){var He;if(yield Ee._canUseIndexedDBPromise){const Et=yield Ee.read();return Kt(Ee.app,{lastSentHeartbeatDate:null!==(He=Z.lastSentHeartbeatDate)&&void 0!==He?He:Et.lastSentHeartbeatDate,heartbeats:Z.heartbeats})}})()}add(Z){var Ee=this;return(0,d.Z)(function*(){var He;if(yield Ee._canUseIndexedDBPromise){const Et=yield Ee.read();return Kt(Ee.app,{lastSentHeartbeatDate:null!==(He=Z.lastSentHeartbeatDate)&&void 0!==He?He:Et.lastSentHeartbeatDate,heartbeats:[...Et.heartbeats,...Z.heartbeats]})}})()}}function lr(me){return(0,Y.L)(JSON.stringify({version:2,heartbeats:me})).length}!function Un(me){tt(new U.wA("platform-logger",Z=>new ve(Z),"PRIVATE")),tt(new U.wA("heartbeat",Z=>new Xt(Z),"PRIVATE")),Vn(Oe,"0.9.19",me),Vn(Oe,"0.9.19","esm2017"),Vn("fire-js","")}("")},4537:(vt,De,S)=>{S.d(De,{H0:()=>Oe,wA:()=>N});var d=S(5861),U=S(9058);class N{constructor(V,q,ne){this.name=V,this.instanceFactory=q,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}const Y="[DEFAULT]";class se{constructor(V,q){this.name=V,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(V){const q=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(q)){const ne=new U.BH;if(this.instancesDeferred.set(q,ne),this.isInitialized(q)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:q});Ue&&ne.resolve(Ue)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(V){var q;const ne=this.normalizeInstanceIdentifier(V?.identifier),Ue=null!==(q=V?.optional)&&void 0!==q&&q;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(Ie){if(Ue)return null;throw Ie}}getComponent(){return this.component}setComponent(V){if(V.name!==this.name)throw Error(`Mismatching Component ${V.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=V,this.shouldAutoInitialize()){if(function we(he){return"EAGER"===he.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:Y})}catch{}for(const[q,ne]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(q);try{const Ie=this.getOrInitializeService({instanceIdentifier:Ue});ne.resolve(Ie)}catch{}}}}clearInstance(V=Y){this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)}delete(){var V=this;return(0,d.Z)(function*(){const q=Array.from(V.instances.values());yield Promise.all([...q.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...q.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(V=Y){return this.instances.has(V)}getOptions(V=Y){return this.instancesOptions.get(V)||{}}initialize(V={}){const{options:q={}}=V,ne=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:ne,options:q});for(const[Ie,Ye]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(Ie)&&Ye.resolve(Ue);return Ue}onInit(V,q){var ne;const Ue=this.normalizeInstanceIdentifier(q),Ie=null!==(ne=this.onInitCallbacks.get(Ue))&&void 0!==ne?ne:new Set;Ie.add(V),this.onInitCallbacks.set(Ue,Ie);const Ye=this.instances.get(Ue);return Ye&&V(Ye,Ue),()=>{Ie.delete(V)}}invokeOnInitCallbacks(V,q){const ne=this.onInitCallbacks.get(q);if(ne)for(const Ue of ne)try{Ue(V,q)}catch{}}getOrInitializeService({instanceIdentifier:V,options:q={}}){let ne=this.instances.get(V);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(he=V,he===Y?void 0:he),options:q}),this.instances.set(V,ne),this.instancesOptions.set(V,q),this.invokeOnInitCallbacks(ne,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,ne)}catch{}var he;return ne||null}normalizeInstanceIdentifier(V=Y){return this.component?this.component.multipleInstances?V:Y:V}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Oe{constructor(V){this.name=V,this.providers=new Map}addComponent(V){const q=this.getProvider(V.name);if(q.isComponentSet())throw new Error(`Component ${V.name} has already been registered with ${this.name}`);q.setComponent(V)}addOrOverwriteComponent(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)}getProvider(V){if(this.providers.has(V))return this.providers.get(V);const q=new se(V,this);return this.providers.set(V,q),q}getProviders(){return Array.from(this.providers.values())}}},2591:(vt,De,S)=>{var d=S(5861),U=S(4303),N=S(4537),Y=S(9058);const se=($,re)=>re.some(xe=>$ instanceof xe);let ve,we;const V=new WeakMap,q=new WeakMap,ne=new WeakMap,Ue=new WeakMap,Ie=new WeakMap;let We={get($,re,xe){if($ instanceof IDBTransaction){if("done"===re)return q.get($);if("objectStoreNames"===re)return $.objectStoreNames||ne.get($);if("store"===re)return xe.objectStoreNames[1]?void 0:xe.objectStore(xe.objectStoreNames[0])}return ee($[re])},set:($,re,xe)=>($[re]=xe,!0),has:($,re)=>$ instanceof IDBTransaction&&("done"===re||"store"===re)||re in $};function ft($){return"function"==typeof $?function ht($){return $!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return we||(we=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes($)?function(...re){return $.apply(Te(this),re),ee(V.get(this))}:function(...re){return ee($.apply(Te(this),re))}:function(re,...xe){const gt=$.call(Te(this),re,...xe);return ne.set(gt,re.sort?re.sort():[re]),ee(gt)}}($):($ instanceof IDBTransaction&&function ke($){if(q.has($))return;const re=new Promise((xe,gt)=>{const En=()=>{$.removeEventListener("complete",In),$.removeEventListener("error",en),$.removeEventListener("abort",en)},In=()=>{xe(),En()},en=()=>{gt($.error||new DOMException("AbortError","AbortError")),En()};$.addEventListener("complete",In),$.addEventListener("error",en),$.addEventListener("abort",en)});q.set($,re)}($),se($,function Oe(){return ve||(ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy($,We):$)}function ee($){if($ instanceof IDBRequest)return function Ye($){const re=new Promise((xe,gt)=>{const En=()=>{$.removeEventListener("success",In),$.removeEventListener("error",en)},In=()=>{xe(ee($.result)),En()},en=()=>{gt($.error),En()};$.addEventListener("success",In),$.addEventListener("error",en)});return re.then(xe=>{xe instanceof IDBCursor&&V.set(xe,$)}).catch(()=>{}),Ie.set(re,$),re}($);if(Ue.has($))return Ue.get($);const re=ft($);return re!==$&&(Ue.set($,re),Ie.set(re,$)),re}const Te=$=>Ie.get($),Be=["get","getKey","getAll","getAllKeys","count"],k=["put","add","delete","clear"],te=new Map;function be($,re){if(!($ instanceof IDBDatabase)||re in $||"string"!=typeof re)return;if(te.get(re))return te.get(re);const xe=re.replace(/FromIndex$/,""),gt=re!==xe,En=k.includes(xe);if(!(xe in(gt?IDBIndex:IDBObjectStore).prototype)||!En&&!Be.includes(xe))return;const In=function(){var en=(0,d.Z)(function*(tr,...dr){const kr=this.transaction(tr,En?"readwrite":"readonly");let us=kr.store;return gt&&(us=us.index(dr.shift())),(yield Promise.all([us[xe](...dr),En&&kr.done]))[0]});return function(dr){return en.apply(this,arguments)}}();return te.set(re,In),In}!function Se($){We=$(We)}($=>({...$,get:(re,xe,gt)=>be(re,xe)||$.get(re,xe,gt),has:(re,xe)=>!!be(re,xe)||$.has(re,xe)}));const st="@firebase/installations",Lt="0.6.4",Ht=1e4,Gt=`w:${Lt}`,dn="FIS_v2",Jt="https://firebaseinstallations.googleapis.com/v1",Gn=36e5,oe=new Y.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ae($){return $ instanceof Y.ZR&&$.code.includes("request-failed")}function Ge({projectId:$}){return`${Jt}/projects/${$}/installations`}function tt($){return{token:$.token,requestStatus:2,expiresIn:jn($.expiresIn),creationTime:Date.now()}}function qe($,re){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,d.Z)(function*($,re){const gt=(yield re.json()).error;return oe.create("request-failed",{requestName:$,serverCode:gt.code,serverMessage:gt.message,serverStatus:gt.status})})).apply(this,arguments)}function Dt({apiKey:$}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":$})}function yt($){return hn.apply(this,arguments)}function hn(){return(hn=(0,d.Z)(function*($){const re=yield $();return re.status>=500&&re.status<600?$():re})).apply(this,arguments)}function jn($){return Number($.replace("s","000"))}function Rn(){return(Rn=(0,d.Z)(function*({appConfig:$,heartbeatServiceProvider:re},{fid:xe}){const gt=Ge($),En=Dt($),In=re.getImmediate({optional:!0});if(In){const kr=yield In.getHeartbeatsHeader();kr&&En.append("x-firebase-client",kr)}const tr={method:"POST",headers:En,body:JSON.stringify({fid:xe,authVersion:dn,appId:$.appId,sdkVersion:Gt})},dr=yield yt(()=>fetch(gt,tr));if(dr.ok){const kr=yield dr.json();return{fid:kr.fid||xe,registrationStatus:2,refreshToken:kr.refreshToken,authToken:tt(kr.authToken)}}throw yield qe("Create Installation",dr)})).apply(this,arguments)}function ir($){return new Promise(re=>{setTimeout(re,$)})}const Vn=/^[cdef][\w-]{21}$/,Dn="";function er(){try{const $=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues($),$[0]=112+$[0]%16;const xe=function zr($){return function Wn($){return btoa(String.fromCharCode(...$)).replace(/\+/g,"-").replace(/\//g,"_")}($).substr(0,22)}($);return Vn.test(xe)?xe:Dn}catch{return Dn}}function wt($){return`${$.appName}!${$.appId}`}const Ct=new Map;function Nt($,re){const xe=wt($);fn(xe,re),function Kt($,re){const xe=function Nr(){return!pn&&"BroadcastChannel"in self&&(pn=new BroadcastChannel("[Firebase] FID Change"),pn.onmessage=$=>{fn($.data.key,$.data.fid)}),pn}();xe&&xe.postMessage({key:$,fid:re}),function rn(){0===Ct.size&&pn&&(pn.close(),pn=null)}()}(xe,re)}function fn($,re){const xe=Ct.get($);if(xe)for(const gt of xe)gt(re)}let pn=null;const pi="firebase-installations-database",Xt=1,cn="firebase-installations-store";let br=null;function sr(){return br||(br=function ue($,re,{blocked:xe,upgrade:gt,blocking:En,terminated:In}={}){const en=indexedDB.open($,re),tr=ee(en);return gt&&en.addEventListener("upgradeneeded",dr=>{gt(ee(en.result),dr.oldVersion,dr.newVersion,ee(en.transaction))}),xe&&en.addEventListener("blocked",()=>xe()),tr.then(dr=>{In&&dr.addEventListener("close",()=>In()),En&&dr.addEventListener("versionchange",()=>En())}).catch(()=>{}),tr}(pi,Xt,{upgrade:($,re)=>{0===re&&$.createObjectStore(cn)}})),br}function lr($,re){return Un.apply(this,arguments)}function Un(){return(Un=(0,d.Z)(function*($,re){const xe=wt($),En=(yield sr()).transaction(cn,"readwrite"),In=En.objectStore(cn),en=yield In.get(xe);return yield In.put(re,xe),yield En.done,(!en||en.fid!==re.fid)&&Nt($,re.fid),re})).apply(this,arguments)}function me($){return Z.apply(this,arguments)}function Z(){return(Z=(0,d.Z)(function*($){const re=wt($),gt=(yield sr()).transaction(cn,"readwrite");yield gt.objectStore(cn).delete(re),yield gt.done})).apply(this,arguments)}function Ee($,re){return He.apply(this,arguments)}function He(){return(He=(0,d.Z)(function*($,re){const xe=wt($),En=(yield sr()).transaction(cn,"readwrite"),In=En.objectStore(cn),en=yield In.get(xe),tr=re(en);return void 0===tr?yield In.delete(xe):yield In.put(tr,xe),yield En.done,tr&&(!en||en.fid!==tr.fid)&&Nt($,tr.fid),tr})).apply(this,arguments)}function ct($){return Et.apply(this,arguments)}function Et(){return Et=(0,d.Z)(function*($){let re;const xe=yield Ee($.appConfig,gt=>{const En=function gn($){return Ne($||{fid:er(),registrationStatus:0})}(gt),In=function G($,re){if(0===re.registrationStatus){if(!navigator.onLine)return{installationEntry:re,registrationPromise:Promise.reject(oe.create("app-offline"))};const xe={fid:re.fid,registrationStatus:1,registrationTime:Date.now()},gt=function H($,re){return P.apply(this,arguments)}($,xe);return{installationEntry:xe,registrationPromise:gt}}return 1===re.registrationStatus?{installationEntry:re,registrationPromise:R($)}:{installationEntry:re}}($,En);return re=In.registrationPromise,In.installationEntry});return xe.fid===Dn?{installationEntry:yield re}:{installationEntry:xe,registrationPromise:re}}),Et.apply(this,arguments)}function P(){return P=(0,d.Z)(function*($,re){try{const xe=yield function _n($,re){return Rn.apply(this,arguments)}($,re);return lr($.appConfig,xe)}catch(xe){throw Ae(xe)&&409===xe.customData.serverCode?yield me($.appConfig):yield lr($.appConfig,{fid:re.fid,registrationStatus:0}),xe}}),P.apply(this,arguments)}function R($){return M.apply(this,arguments)}function M(){return(M=(0,d.Z)(function*($){let re=yield X($.appConfig);for(;1===re.registrationStatus;)yield ir(100),re=yield X($.appConfig);if(0===re.registrationStatus){const{installationEntry:xe,registrationPromise:gt}=yield ct($);return gt||xe}return re})).apply(this,arguments)}function X($){return Ee($,re=>{if(!re)throw oe.create("installation-not-found");return Ne(re)})}function Ne($){return function Qe($){return 1===$.registrationStatus&&$.registrationTime+Ht<Date.now()}($)?{fid:$.fid,registrationStatus:0}:$}function ot(){return(ot=(0,d.Z)(function*({appConfig:$,heartbeatServiceProvider:re},xe){const gt=function mn($,{fid:re}){return`${Ge($)}/${re}/authTokens:generate`}($,xe),En=function nn($,{refreshToken:re}){const xe=Dt($);return xe.append("Authorization",function Ln($){return`${dn} ${$}`}(re)),xe}($,xe),In=re.getImmediate({optional:!0});if(In){const kr=yield In.getHeartbeatsHeader();kr&&En.append("x-firebase-client",kr)}const tr={method:"POST",headers:En,body:JSON.stringify({installation:{sdkVersion:Gt,appId:$.appId}})},dr=yield yt(()=>fetch(gt,tr));if(dr.ok)return tt(yield dr.json());throw yield qe("Generate Auth Token",dr)})).apply(this,arguments)}function Vt($){return wn.apply(this,arguments)}function wn(){return wn=(0,d.Z)(function*($,re=!1){let xe;const gt=yield Ee($.appConfig,In=>{if(!at(In))throw oe.create("not-registered");const en=In.authToken;if(!re&&function Ot($){return 2===$.requestStatus&&!function lt($){const re=Date.now();return re<$.creationTime||$.creationTime+$.expiresIn<re+Gn}($)}(en))return In;if(1===en.requestStatus)return xe=function Yt($,re){return yr.apply(this,arguments)}($,re),In;{if(!navigator.onLine)throw oe.create("app-offline");const tr=function Tn($){const re={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},$),{authToken:re})}(In);return xe=function de($,re){return nt.apply(this,arguments)}($,tr),tr}});return xe?yield xe:gt.authToken}),wn.apply(this,arguments)}function yr(){return(yr=(0,d.Z)(function*($,re){let xe=yield K($.appConfig);for(;1===xe.authToken.requestStatus;)yield ir(100),xe=yield K($.appConfig);const gt=xe.authToken;return 0===gt.requestStatus?Vt($,re):gt})).apply(this,arguments)}function K($){return Ee($,re=>{if(!at(re))throw oe.create("not-registered");return function ni($){return 1===$.requestStatus&&$.requestTime+Ht<Date.now()}(re.authToken)?Object.assign(Object.assign({},re),{authToken:{requestStatus:0}}):re})}function nt(){return nt=(0,d.Z)(function*($,re){try{const xe=yield function xt($,re){return ot.apply(this,arguments)}($,re),gt=Object.assign(Object.assign({},re),{authToken:xe});return yield lr($.appConfig,gt),xe}catch(xe){if(!Ae(xe)||401!==xe.customData.serverCode&&404!==xe.customData.serverCode){const gt=Object.assign(Object.assign({},re),{authToken:{requestStatus:0}});yield lr($.appConfig,gt)}else yield me($.appConfig);throw xe}}),nt.apply(this,arguments)}function at($){return void 0!==$&&2===$.registrationStatus}function Ki(){return(Ki=(0,d.Z)(function*($){const re=$,{installationEntry:xe,registrationPromise:gt}=yield ct(re);return gt?gt.catch(console.error):Vt(re).catch(console.error),xe.fid})).apply(this,arguments)}function ln(){return ln=(0,d.Z)(function*($,re=!1){const xe=$;return yield function Ls($){return Ks.apply(this,arguments)}(xe),(yield Vt(xe,re)).token}),ln.apply(this,arguments)}function Ks(){return(Ks=(0,d.Z)(function*($){const{registrationPromise:re}=yield ct($);re&&(yield re)})).apply(this,arguments)}function Ua($){return oe.create("missing-app-config-values",{valueName:$})}const Co="installations",Ba=$=>{const re=$.getProvider("app").getImmediate(),xe=function Ui($){if(!$||!$.options)throw Ua("App Configuration");if(!$.name)throw Ua("App Name");const re=["projectId","apiKey","appId"];for(const xe of re)if(!$.options[xe])throw Ua(xe);return{appName:$.name,projectId:$.options.projectId,apiKey:$.options.apiKey,appId:$.options.appId}}(re);return{app:re,appConfig:xe,heartbeatServiceProvider:(0,U._getProvider)(re,"heartbeat"),_delete:()=>Promise.resolve()}},ca=$=>{const re=$.getProvider("app").getImmediate(),xe=(0,U._getProvider)(re,Co).getImmediate();return{getId:()=>function ri($){return Ki.apply(this,arguments)}(xe),getToken:En=>function Rr($){return ln.apply(this,arguments)}(xe,En)}};(function qu(){(0,U._registerComponent)(new N.wA(Co,Ba,"PUBLIC")),(0,U._registerComponent)(new N.wA("installations-internal",ca,"PRIVATE"))})(),(0,U.registerVersion)(st,Lt),(0,U.registerVersion)(st,Lt,"esm2017")},7879:(vt,De,S)=>{S.d(De,{Am:()=>he,Ub:()=>Oe,Yd:()=>we,in:()=>U});const d=[];var U=function(V){return V[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT",V}(U||{});const N={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},Y=U.INFO,se={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},ve=(V,q,...ne)=>{if(q<V.logLevel)return;const Ue=(new Date).toISOString(),Ie=se[q];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Ie](`[${Ue}]  ${V.name}:`,...ne)};class we{constructor(q){this.name=q,this._logLevel=Y,this._logHandler=ve,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in U))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?N[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...q),this._logHandler(this,U.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...q),this._logHandler(this,U.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,U.INFO,...q),this._logHandler(this,U.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,U.WARN,...q),this._logHandler(this,U.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...q),this._logHandler(this,U.ERROR,...q)}}function Oe(V){d.forEach(q=>{q.setLogLevel(V)})}function he(V,q){for(const ne of d){let Ue=null;q&&q.level&&(Ue=N[q.level]),ne.userLogHandler=null===V?null:(Ie,Ye,...ke)=>{const We=ke.map(Se=>{if(null==Se)return null;if("string"==typeof Se)return Se;if("number"==typeof Se||"boolean"==typeof Se)return Se.toString();if(Se instanceof Error)return Se.message;try{return JSON.stringify(Se)}catch{return null}}).filter(Se=>Se).join(" ");Ye>=(Ue??Ie.logLevel)&&V({level:U[Ye].toLowerCase(),message:We,args:ke,type:Ie.name})}}}},2650:(vt,De,S)=>{S.d(De,{Gb:()=>X,LP:()=>Vt,pQ:()=>Yt,ps:()=>yr});var d=S(5861),N=(S(2591),S(4537)),Y=S(9240),se=S(9058),ve=S(4303);const we="/firebase-messaging-sw.js",Oe="/firebase-cloud-messaging-push-scope",he="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",V="https://fcmregistrations.googleapis.com/v1",q="google.c.a.c_id",ne="google.c.a.c_l",Ue="google.c.a.ts";var ke=function(K){return K.PUSH_RECEIVED="push-received",K.NOTIFICATION_CLICKED="notification-clicked",K}(ke||{});function We(K){const de=new Uint8Array(K);return btoa(String.fromCharCode(...de)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Se(K){const nt=(K+"=".repeat((4-K.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),at=atob(nt),Ot=new Uint8Array(at.length);for(let lt=0;lt<at.length;++lt)Ot[lt]=at.charCodeAt(lt);return Ot}const ht="fcm_token_details_db",ft=5,ee="fcm_token_object_Store";function ue(){return ue=(0,d.Z)(function*(K){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(lt=>lt.name).includes(ht))return null;let de=null;return(yield(0,Y.X3)(ht,ft,{upgrade:(at=(0,d.Z)(function*(Ot,lt,Tn,ni){var ri;if(lt<2||!Ot.objectStoreNames.contains(ee))return;const Ki=ni.objectStore(ee),Rr=yield Ki.index("fcmSenderId").get(K);if(yield Ki.clear(),Rr)if(2===lt){const ln=Rr;if(!ln.auth||!ln.p256dh||!ln.endpoint)return;de={token:ln.fcmToken,createTime:null!==(ri=ln.createTime)&&void 0!==ri?ri:Date.now(),subscriptionOptions:{auth:ln.auth,p256dh:ln.p256dh,endpoint:ln.endpoint,swScope:ln.swScope,vapidKey:"string"==typeof ln.vapidKey?ln.vapidKey:We(ln.vapidKey)}}}else if(3===lt){const ln=Rr;de={token:ln.fcmToken,createTime:ln.createTime,subscriptionOptions:{auth:We(ln.auth),p256dh:We(ln.p256dh),endpoint:ln.endpoint,swScope:ln.swScope,vapidKey:We(ln.vapidKey)}}}else if(4===lt){const ln=Rr;de={token:ln.fcmToken,createTime:ln.createTime,subscriptionOptions:{auth:We(ln.auth),p256dh:We(ln.p256dh),endpoint:ln.endpoint,swScope:ln.swScope,vapidKey:We(ln.vapidKey)}}}}),function(lt,Tn,ni,ri){return at.apply(this,arguments)})})).close(),yield(0,Y.Lj)(ht),yield(0,Y.Lj)("fcm_vapid_details_db"),yield(0,Y.Lj)("undefined"),function Me(K){if(!K||!K.subscriptionOptions)return!1;const{subscriptionOptions:de}=K;return"number"==typeof K.createTime&&K.createTime>0&&"string"==typeof K.token&&K.token.length>0&&"string"==typeof de.auth&&de.auth.length>0&&"string"==typeof de.p256dh&&de.p256dh.length>0&&"string"==typeof de.endpoint&&de.endpoint.length>0&&"string"==typeof de.swScope&&de.swScope.length>0&&"string"==typeof de.vapidKey&&de.vapidKey.length>0}(de)?de:null;var at}),ue.apply(this,arguments)}const Be="firebase-messaging-database",k=1,te="firebase-messaging-store";let be=null;function st(){return be||(be=(0,Y.X3)(Be,k,{upgrade:(K,de)=>{0===de&&K.createObjectStore(te)}})),be}function Lt(K){return Ht.apply(this,arguments)}function Ht(){return Ht=(0,d.Z)(function*(K){const de=ae(K),at=yield(yield st()).transaction(te).objectStore(te).get(de);if(at)return at;{const Ot=yield function Te(K){return ue.apply(this,arguments)}(K.appConfig.senderId);if(Ot)return yield Gt(K,Ot),Ot}}),Ht.apply(this,arguments)}function Gt(K,de){return dn.apply(this,arguments)}function dn(){return(dn=(0,d.Z)(function*(K,de){const nt=ae(K),Ot=(yield st()).transaction(te,"readwrite");return yield Ot.objectStore(te).put(de,nt),yield Ot.done,de})).apply(this,arguments)}function Gn(){return(Gn=(0,d.Z)(function*(K){const de=ae(K),at=(yield st()).transaction(te,"readwrite");yield at.objectStore(te).delete(de),yield at.done})).apply(this,arguments)}function ae({appConfig:K}){return K.appId}const ce=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function oe(K,de){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,d.Z)(function*(K,de){const nt=yield nn(K),at=hn(de),Ot={method:"POST",headers:nt,body:JSON.stringify(at)};let lt;try{lt=yield(yield fetch(Dt(K.appConfig),Ot)).json()}catch(Tn){throw ce.create("token-subscribe-failed",{errorInfo:Tn?.toString()})}if(lt.error)throw ce.create("token-subscribe-failed",{errorInfo:lt.error.message});if(!lt.token)throw ce.create("token-subscribe-no-token");return lt.token})).apply(this,arguments)}function tt(){return(tt=(0,d.Z)(function*(K,de){const nt=yield nn(K),at=hn(de.subscriptionOptions),Ot={method:"PATCH",headers:nt,body:JSON.stringify(at)};let lt;try{lt=yield(yield fetch(`${Dt(K.appConfig)}/${de.token}`,Ot)).json()}catch(Tn){throw ce.create("token-update-failed",{errorInfo:Tn?.toString()})}if(lt.error)throw ce.create("token-update-failed",{errorInfo:lt.error.message});if(!lt.token)throw ce.create("token-update-no-token");return lt.token})).apply(this,arguments)}function qe(K,de){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,d.Z)(function*(K,de){const at={method:"DELETE",headers:yield nn(K)};try{const lt=yield(yield fetch(`${Dt(K.appConfig)}/${de}`,at)).json();if(lt.error)throw ce.create("token-unsubscribe-failed",{errorInfo:lt.error.message})}catch(Ot){throw ce.create("token-unsubscribe-failed",{errorInfo:Ot?.toString()})}})).apply(this,arguments)}function Dt({projectId:K}){return`${V}/projects/${K}/registrations`}function nn(K){return yt.apply(this,arguments)}function yt(){return(yt=(0,d.Z)(function*({appConfig:K,installations:de}){const nt=yield de.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":K.apiKey,"x-goog-firebase-installations-auth":`FIS ${nt}`})})).apply(this,arguments)}function hn({p256dh:K,auth:de,endpoint:nt,vapidKey:at}){const Ot={web:{endpoint:nt,auth:de,p256dh:K}};return at!==he&&(Ot.web.applicationPubKey=at),Ot}const jn=6048e5;function _n(){return _n=(0,d.Z)(function*(K){const de=yield function zr(K,de){return wt.apply(this,arguments)}(K.swRegistration,K.vapidKey),nt={vapidKey:K.vapidKey,swScope:K.swRegistration.scope,endpoint:de.endpoint,auth:We(de.getKey("auth")),p256dh:We(de.getKey("p256dh"))},at=yield Lt(K.firebaseDependencies);if(at){if(function Ct(K,de){return de.vapidKey===K.vapidKey&&de.endpoint===K.endpoint&&de.auth===K.auth&&de.p256dh===K.p256dh}(at.subscriptionOptions,nt))return Date.now()>=at.createTime+jn?function Wn(K,de){return Vn.apply(this,arguments)}(K,{token:at.token,createTime:Date.now(),subscriptionOptions:nt}):at.token;try{yield qe(K.firebaseDependencies,at.token)}catch(Ot){console.warn(Ot)}return Dn(K.firebaseDependencies,nt)}return Dn(K.firebaseDependencies,nt)}),_n.apply(this,arguments)}function Rn(K){return ir.apply(this,arguments)}function ir(){return ir=(0,d.Z)(function*(K){const de=yield Lt(K.firebaseDependencies);de&&(yield qe(K.firebaseDependencies,de.token),yield function Jt(K){return Gn.apply(this,arguments)}(K.firebaseDependencies));const nt=yield K.swRegistration.pushManager.getSubscription();return!nt||nt.unsubscribe()}),ir.apply(this,arguments)}function Vn(){return Vn=(0,d.Z)(function*(K,de){try{const nt=yield function Ge(K,de){return tt.apply(this,arguments)}(K.firebaseDependencies,de),at=Object.assign(Object.assign({},de),{token:nt,createTime:Date.now()});return yield Gt(K.firebaseDependencies,at),nt}catch(nt){throw yield Rn(K),nt}}),Vn.apply(this,arguments)}function Dn(K,de){return er.apply(this,arguments)}function er(){return(er=(0,d.Z)(function*(K,de){const at={token:yield oe(K,de),createTime:Date.now(),subscriptionOptions:de};return yield Gt(K,at),at.token})).apply(this,arguments)}function wt(){return(wt=(0,d.Z)(function*(K,de){return(yield K.pushManager.getSubscription())||K.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Se(de)})})).apply(this,arguments)}function Nt(K){const de={from:K.from,collapseKey:K.collapse_key,messageId:K.fcmMessageId};return function Rt(K,de){if(!de.notification)return;K.notification={};const nt=de.notification.title;nt&&(K.notification.title=nt);const at=de.notification.body;at&&(K.notification.body=at);const Ot=de.notification.image;Ot&&(K.notification.image=Ot);const lt=de.notification.icon;lt&&(K.notification.icon=lt)}(de,K),function mr(K,de){de.data&&(K.data=de.data)}(de,K),function fn(K,de){var nt,at,Ot,lt,Tn;if(!(de.fcmOptions||null!==(nt=de.notification)&&void 0!==nt&&nt.click_action))return;K.fcmOptions={};const ni=null!==(Ot=null===(at=de.fcmOptions)||void 0===at?void 0:at.link)&&void 0!==Ot?Ot:null===(lt=de.notification)||void 0===lt?void 0:lt.click_action;ni&&(K.fcmOptions.link=ni);const ri=null===(Tn=de.fcmOptions)||void 0===Tn?void 0:Tn.analytics_label;ri&&(K.fcmOptions.analyticsLabel=ri)}(de,K),de}function pn(K,de){const nt=[];for(let at=0;at<K.length;at++)nt.push(K.charAt(at)),at<de.length&&nt.push(de.charAt(at));return nt.join("")}function rn(K){return ce.create("missing-app-config-values",{valueName:K})}pn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),pn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class pi{constructor(de,nt,at){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ot=function Nr(K){if(!K||!K.options)throw rn("App Configuration Object");if(!K.name)throw rn("App Name");const de=["projectId","apiKey","appId","messagingSenderId"],{options:nt}=K;for(const at of de)if(!nt[at])throw rn(at);return{appName:K.name,projectId:nt.projectId,apiKey:nt.apiKey,appId:nt.appId,senderId:nt.messagingSenderId}}(de);this.firebaseDependencies={app:de,appConfig:Ot,installations:nt,analyticsProvider:at}}_delete(){return Promise.resolve()}}function Xt(K){return cn.apply(this,arguments)}function cn(){return(cn=(0,d.Z)(function*(K){try{K.swRegistration=yield navigator.serviceWorker.register(we,{scope:Oe}),K.swRegistration.update().catch(()=>{})}catch(de){throw ce.create("failed-service-worker-registration",{browserErrorMessage:de?.message})}})).apply(this,arguments)}function sr(){return(sr=(0,d.Z)(function*(K,de){if(!de&&!K.swRegistration&&(yield Xt(K)),de||!K.swRegistration){if(!(de instanceof ServiceWorkerRegistration))throw ce.create("invalid-sw-registration");K.swRegistration=de}})).apply(this,arguments)}function Un(){return(Un=(0,d.Z)(function*(K,de){de?K.vapidKey=de:K.vapidKey||(K.vapidKey=he)})).apply(this,arguments)}function me(K,de){return Z.apply(this,arguments)}function Z(){return Z=(0,d.Z)(function*(K,de){if(!navigator)throw ce.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ce.create("permission-blocked");return yield function lr(K,de){return Un.apply(this,arguments)}(K,de?.vapidKey),yield function br(K,de){return sr.apply(this,arguments)}(K,de?.serviceWorkerRegistration),function Ln(K){return _n.apply(this,arguments)}(K)}),Z.apply(this,arguments)}function He(){return(He=(0,d.Z)(function*(K,de,nt){const at=function ct(K){switch(K){case ke.NOTIFICATION_CLICKED:return"notification_open";case ke.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(de);(yield K.firebaseDependencies.analyticsProvider.get()).logEvent(at,{message_id:nt[q],message_name:nt[ne],message_time:nt[Ue],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function gn(){return gn=(0,d.Z)(function*(K,de){const nt=de.data;if(!nt.isFirebaseMessaging)return;K.onMessageHandler&&nt.messageType===ke.PUSH_RECEIVED&&("function"==typeof K.onMessageHandler?K.onMessageHandler(Nt(nt)):K.onMessageHandler.next(Nt(nt)));const at=nt.data;(function Kt(K){return"object"==typeof K&&!!K&&q in K})(at)&&"1"===at["google.c.a.e"]&&(yield function Ee(K,de,nt){return He.apply(this,arguments)}(K,nt.messageType,at))}),gn.apply(this,arguments)}const G="@firebase/messaging",H="0.12.4",P=K=>{const de=new pi(K.getProvider("app").getImmediate(),K.getProvider("installations-internal").getImmediate(),K.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",nt=>function Et(K,de){return gn.apply(this,arguments)}(de,nt)),de},R=K=>{const de=K.getProvider("messaging").getImmediate();return{getToken:at=>me(de,at)}};function X(){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,d.Z)(function*(){try{yield(0,se.eu)()}catch{return!1}return typeof window<"u"&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function xt(){return(xt=(0,d.Z)(function*(K){if(!navigator)throw ce.create("only-available-in-window");return K.swRegistration||(yield Xt(K)),Rn(K)})).apply(this,arguments)}function Vt(K,de){return wn.apply(this,arguments)}function wn(){return(wn=(0,d.Z)(function*(K,de){return me(K=(0,se.m9)(K),de)})).apply(this,arguments)}function Yt(K){return function Qe(K){return xt.apply(this,arguments)}(K=(0,se.m9)(K))}function yr(K,de){return function ot(K,de){if(!navigator)throw ce.create("only-available-in-window");return K.onMessageHandler=de,()=>{K.onMessageHandler=null}}(K=(0,se.m9)(K),de)}!function M(){(0,ve._registerComponent)(new N.wA("messaging",P,"PUBLIC")),(0,ve._registerComponent)(new N.wA("messaging-internal",R,"PRIVATE")),(0,ve.registerVersion)(G,H),(0,ve.registerVersion)(G,H,"esm2017")}()},9240:(vt,De,S)=>{S.d(De,{Lj:()=>ee,X3:()=>ft});var d=S(5861);const U=(k,te)=>te.some(be=>k instanceof be);let N,Y;const we=new WeakMap,Oe=new WeakMap,he=new WeakMap,V=new WeakMap,q=new WeakMap;let Ie={get(k,te,be){if(k instanceof IDBTransaction){if("done"===te)return Oe.get(k);if("objectStoreNames"===te)return k.objectStoreNames||he.get(k);if("store"===te)return be.objectStoreNames[1]?void 0:be.objectStore(be.objectStoreNames[0])}return Se(k[te])},set:(k,te,be)=>(k[te]=be,!0),has:(k,te)=>k instanceof IDBTransaction&&("done"===te||"store"===te)||te in k};function We(k){return"function"==typeof k?function ke(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return Y||(Y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...te){return k.apply(ht(this),te),Se(we.get(this))}:function(...te){return Se(k.apply(ht(this),te))}:function(te,...be){const st=k.call(ht(this),te,...be);return he.set(st,te.sort?te.sort():[te]),Se(st)}}(k):(k instanceof IDBTransaction&&function Ue(k){if(Oe.has(k))return;const te=new Promise((be,st)=>{const Lt=()=>{k.removeEventListener("complete",Ht),k.removeEventListener("error",Gt),k.removeEventListener("abort",Gt)},Ht=()=>{be(),Lt()},Gt=()=>{st(k.error||new DOMException("AbortError","AbortError")),Lt()};k.addEventListener("complete",Ht),k.addEventListener("error",Gt),k.addEventListener("abort",Gt)});Oe.set(k,te)}(k),U(k,function se(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,Ie):k)}function Se(k){if(k instanceof IDBRequest)return function ne(k){const te=new Promise((be,st)=>{const Lt=()=>{k.removeEventListener("success",Ht),k.removeEventListener("error",Gt)},Ht=()=>{be(Se(k.result)),Lt()},Gt=()=>{st(k.error),Lt()};k.addEventListener("success",Ht),k.addEventListener("error",Gt)});return te.then(be=>{be instanceof IDBCursor&&we.set(be,k)}).catch(()=>{}),q.set(te,k),te}(k);if(V.has(k))return V.get(k);const te=We(k);return te!==k&&(V.set(k,te),q.set(te,k)),te}const ht=k=>q.get(k);function ft(k,te,{blocked:be,upgrade:st,blocking:Lt,terminated:Ht}={}){const Gt=indexedDB.open(k,te),dn=Se(Gt);return st&&Gt.addEventListener("upgradeneeded",Jt=>{st(Se(Gt.result),Jt.oldVersion,Jt.newVersion,Se(Gt.transaction))}),be&&Gt.addEventListener("blocked",()=>be()),dn.then(Jt=>{Ht&&Jt.addEventListener("close",()=>Ht()),Lt&&Jt.addEventListener("versionchange",()=>Lt())}).catch(()=>{}),dn}function ee(k,{blocked:te}={}){const be=indexedDB.deleteDatabase(k);return te&&be.addEventListener("blocked",()=>te()),Se(be).then(()=>{})}const Te=["get","getKey","getAll","getAllKeys","count"],ue=["put","add","delete","clear"],Me=new Map;function Be(k,te){if(!(k instanceof IDBDatabase)||te in k||"string"!=typeof te)return;if(Me.get(te))return Me.get(te);const be=te.replace(/FromIndex$/,""),st=te!==be,Lt=ue.includes(be);if(!(be in(st?IDBIndex:IDBObjectStore).prototype)||!Lt&&!Te.includes(be))return;const Ht=function(){var Gt=(0,d.Z)(function*(dn,...Jt){const Gn=this.transaction(dn,Lt?"readwrite":"readonly");let ae=Gn.store;return st&&(ae=ae.index(Jt.shift())),(yield Promise.all([ae[be](...Jt),Lt&&Gn.done]))[0]});return function(Jt){return Gt.apply(this,arguments)}}();return Me.set(te,Ht),Ht}!function Ye(k){Ie=k(Ie)}(k=>({...k,get:(te,be,st)=>Be(te,be)||k.get(te,be,st),has:(te,be)=>!!Be(te,be)||k.has(te,be)}))},1878:(vt,De,S)=>{S.d(De,{X3:()=>ft});var d=S(5861);const U=(k,te)=>te.some(be=>k instanceof be);let N,Y;const we=new WeakMap,Oe=new WeakMap,he=new WeakMap,V=new WeakMap,q=new WeakMap;let Ie={get(k,te,be){if(k instanceof IDBTransaction){if("done"===te)return Oe.get(k);if("objectStoreNames"===te)return k.objectStoreNames||he.get(k);if("store"===te)return be.objectStoreNames[1]?void 0:be.objectStore(be.objectStoreNames[0])}return Se(k[te])},set:(k,te,be)=>(k[te]=be,!0),has:(k,te)=>k instanceof IDBTransaction&&("done"===te||"store"===te)||te in k};function We(k){return"function"==typeof k?function ke(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return Y||(Y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...te){return k.apply(ht(this),te),Se(we.get(this))}:function(...te){return Se(k.apply(ht(this),te))}:function(te,...be){const st=k.call(ht(this),te,...be);return he.set(st,te.sort?te.sort():[te]),Se(st)}}(k):(k instanceof IDBTransaction&&function Ue(k){if(Oe.has(k))return;const te=new Promise((be,st)=>{const Lt=()=>{k.removeEventListener("complete",Ht),k.removeEventListener("error",Gt),k.removeEventListener("abort",Gt)},Ht=()=>{be(),Lt()},Gt=()=>{st(k.error||new DOMException("AbortError","AbortError")),Lt()};k.addEventListener("complete",Ht),k.addEventListener("error",Gt),k.addEventListener("abort",Gt)});Oe.set(k,te)}(k),U(k,function se(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,Ie):k)}function Se(k){if(k instanceof IDBRequest)return function ne(k){const te=new Promise((be,st)=>{const Lt=()=>{k.removeEventListener("success",Ht),k.removeEventListener("error",Gt)},Ht=()=>{be(Se(k.result)),Lt()},Gt=()=>{st(k.error),Lt()};k.addEventListener("success",Ht),k.addEventListener("error",Gt)});return te.then(be=>{be instanceof IDBCursor&&we.set(be,k)}).catch(()=>{}),q.set(te,k),te}(k);if(V.has(k))return V.get(k);const te=We(k);return te!==k&&(V.set(k,te),q.set(te,k)),te}const ht=k=>q.get(k);function ft(k,te,{blocked:be,upgrade:st,blocking:Lt,terminated:Ht}={}){const Gt=indexedDB.open(k,te),dn=Se(Gt);return st&&Gt.addEventListener("upgradeneeded",Jt=>{st(Se(Gt.result),Jt.oldVersion,Jt.newVersion,Se(Gt.transaction),Jt)}),be&&Gt.addEventListener("blocked",Jt=>be(Jt.oldVersion,Jt.newVersion,Jt)),dn.then(Jt=>{Ht&&Jt.addEventListener("close",()=>Ht()),Lt&&Jt.addEventListener("versionchange",Gn=>Lt(Gn.oldVersion,Gn.newVersion,Gn))}).catch(()=>{}),dn}const Te=["get","getKey","getAll","getAllKeys","count"],ue=["put","add","delete","clear"],Me=new Map;function Be(k,te){if(!(k instanceof IDBDatabase)||te in k||"string"!=typeof te)return;if(Me.get(te))return Me.get(te);const be=te.replace(/FromIndex$/,""),st=te!==be,Lt=ue.includes(be);if(!(be in(st?IDBIndex:IDBObjectStore).prototype)||!Lt&&!Te.includes(be))return;const Ht=function(){var Gt=(0,d.Z)(function*(dn,...Jt){const Gn=this.transaction(dn,Lt?"readwrite":"readonly");let ae=Gn.store;return st&&(ae=ae.index(Jt.shift())),(yield Promise.all([ae[be](...Jt),Lt&&Gn.done]))[0]});return function(Jt){return Gt.apply(this,arguments)}}();return Me.set(te,Ht),Ht}!function Ye(k){Ie=k(Ie)}(k=>({...k,get:(te,be,st)=>Be(te,be)||k.get(te,be,st),has:(te,be)=>!!Be(te,be)||k.has(te,be)}))},5861:(vt,De,S)=>{function d(N,Y,se,ve,we,Oe,he){try{var V=N[Oe](he),q=V.value}catch(ne){return void se(ne)}V.done?Y(q):Promise.resolve(q).then(ve,we)}function U(N){return function(){var Y=this,se=arguments;return new Promise(function(ve,we){var Oe=N.apply(Y,se);function he(q){d(Oe,ve,we,he,V,"next",q)}function V(q){d(Oe,ve,we,he,V,"throw",q)}he(void 0)})}}S.d(De,{Z:()=>U})},7582:(vt,De,S)=>{function Y(ae,fe){var ce={};for(var oe in ae)Object.prototype.hasOwnProperty.call(ae,oe)&&fe.indexOf(oe)<0&&(ce[oe]=ae[oe]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var Ae=0;for(oe=Object.getOwnPropertySymbols(ae);Ae<oe.length;Ae++)fe.indexOf(oe[Ae])<0&&Object.prototype.propertyIsEnumerable.call(ae,oe[Ae])&&(ce[oe[Ae]]=ae[oe[Ae]])}return ce}function ne(ae,fe,ce,oe){return new(ce||(ce=Promise))(function(Ge,tt){function qe(nn){try{Dt(oe.next(nn))}catch(yt){tt(yt)}}function Wt(nn){try{Dt(oe.throw(nn))}catch(yt){tt(yt)}}function Dt(nn){nn.done?Ge(nn.value):function Ae(Ge){return Ge instanceof ce?Ge:new ce(function(tt){tt(Ge)})}(nn.value).then(qe,Wt)}Dt((oe=oe.apply(ae,fe||[])).next())})}function ee(ae){return this instanceof ee?(this.v=ae,this):new ee(ae)}function Te(ae,fe,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ae,oe=ce.apply(ae,fe||[]),Ge=[];return Ae={},tt("next"),tt("throw"),tt("return"),Ae[Symbol.asyncIterator]=function(){return this},Ae;function tt(hn){oe[hn]&&(Ae[hn]=function(jn){return new Promise(function(Ln,_n){Ge.push([hn,jn,Ln,_n])>1||qe(hn,jn)})})}function qe(hn,jn){try{!function Wt(hn){hn.value instanceof ee?Promise.resolve(hn.value.v).then(Dt,nn):yt(Ge[0][2],hn)}(oe[hn](jn))}catch(Ln){yt(Ge[0][3],Ln)}}function Dt(hn){qe("next",hn)}function nn(hn){qe("throw",hn)}function yt(hn,jn){hn(jn),Ge.shift(),Ge.length&&qe(Ge[0][0],Ge[0][1])}}function Me(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,fe=ae[Symbol.asyncIterator];return fe?fe.call(ae):(ae=function ke(ae){var fe="function"==typeof Symbol&&Symbol.iterator,ce=fe&&ae[fe],oe=0;if(ce)return ce.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&oe>=ae.length&&(ae=void 0),{value:ae&&ae[oe++],done:!ae}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),ce={},oe("next"),oe("throw"),oe("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function oe(Ge){ce[Ge]=ae[Ge]&&function(tt){return new Promise(function(qe,Wt){!function Ae(Ge,tt,qe,Wt){Promise.resolve(Wt).then(function(Dt){Ge({value:Dt,done:qe})},tt)}(qe,Wt,(tt=ae[Ge](tt)).done,tt.value)})}}}S.d(De,{FC:()=>Te,KL:()=>Me,_T:()=>Y,mG:()=>ne,qq:()=>ee}),"function"==typeof SuppressedError&&SuppressedError}},vt=>{vt(vt.s=2128)}]);