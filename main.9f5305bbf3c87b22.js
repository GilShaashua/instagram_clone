"use strict";(self.webpackChunkinstagram_clone=self.webpackChunkinstagram_clone||[]).push([[179],{6304:(vt,be,A)=>{A.d(be,{Dh:()=>Oe,GT:()=>ve,cc:()=>Ie,hO:()=>Ue,on:()=>V,pX:()=>se,xv:()=>he});var h=A(5879),U=A(120),N=A(4556);vt=A.hmd(vt);const Y=["ngOnDestroy"],se=(Ae,ht,ft,ee={})=>new Proxy(Ae,{get:(Te,ue)=>ft.runOutsideAngular(()=>{var Me;if(Ae[ue])return!(null===(Me=ee?.spy)||void 0===Me)&&Me.get&&ee.spy.get(ue,Ae[ue]),Ae[ue];if(Y.indexOf(ue)>-1)return()=>{};const Be=ht.toPromise().then(k=>{const te=k&&k[ue];return"function"==typeof te?te.bind(k):te&&te.then?te.then(De=>ft.run(()=>De)):ft.run(()=>te)});return new Proxy(()=>{},{get:(k,te)=>Be[te],apply:(k,te,De)=>Be.then(st=>{var Lt;const Ht=st&&st(...De);return!(null===(Lt=ee?.spy)||void 0===Lt)&&Lt.apply&&ee.spy.apply(ue,De,Ht),Ht})})})}),ve=(Ae,ht)=>{ht.forEach(ft=>{Object.getOwnPropertyNames(ft.prototype||ft).forEach(ee=>{Object.defineProperty(Ae.prototype,ee,Object.getOwnPropertyDescriptor(ft.prototype||ft,ee))})})};class _e{constructor(ht){return ht}}const Oe=new h.OlP("angularfire2.app.options"),he=new h.OlP("angularfire2.app.name");function V(Ae,ht,ft){const Te="object"==typeof ft&&ft||{};Te.name=Te.name||"string"==typeof ft&&ft||"[DEFAULT]";const Me=U.Z.apps.filter(Be=>Be&&Be.name===Te.name)[0]||ht.runOutsideAngular(()=>U.Z.initializeApp(Ae,Te));try{JSON.stringify(Ae)!==JSON.stringify(Me.options)&&q("error",`${Me.name} Firebase App already initialized with different options${vt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new _e(Me)}const q=(Ae,...ht)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Ae](...ht)},ne={provide:_e,useFactory:V,deps:[Oe,h.R0b,[new h.FiY,he]]};let Ue=(()=>{class Ae{constructor(ft){U.Z.registerVersion("angularfire",N.q4.full,"core"),U.Z.registerVersion("angularfire",N.q4.full,"app-compat"),U.Z.registerVersion("angular",h.q4F.full,ft.toString())}static initializeApp(ft,ee){return{ngModule:Ae,providers:[{provide:Oe,useValue:ft},{provide:he,useValue:ee}]}}}return Ae.\u0275fac=function(ft){return new(ft||Ae)(h.LFG(h.Lbi))},Ae.\u0275mod=h.oAB({type:Ae}),Ae.\u0275inj=h.cJS({providers:[ne]}),Ae})();function Ie(Ae,ht,ft,ee,Te){const[,ue,Me]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===Ae)||[];if(ue)return function Ye(Ae,ht){try{return Ae.toString()===ht.toString()}catch{return Ae===ht}}(Te,Me)||(Ze("error",`${ht} was already initialized on the ${ft} Firebase App with different settings.${ke?" You may need to reload as Firebase is not HMR aware.":""}`),Ze("warn",{is:Te,was:Me})),ue;{const Be=ee();return globalThis.\u0275AngularfireInstanceCache.push([Ae,Be,Te]),Be}}const ke=!!vt.hot,Ze=(Ae,...ht)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Ae](...ht)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4556:(vt,be,A)=>{A.d(be,{q4:()=>Us,iC:()=>cs,HU:()=>th,vb:()=>ws,JM:()=>fr});var h=A(5879),U=A(4097),N=A(5861),Y=A(4303),se=A(9058),ve=A(4537),_e=A(7879);A(2591);const he="@firebase/remote-config",V="0.4.4",Ie=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Jt{constructor(F,j,pe,Pe){this.client=F,this.storage=j,this.storageCache=pe,this.logger=Pe}isCachedDataFresh(F,j){if(!j)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const pe=Date.now()-j,Pe=pe<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${pe}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${Pe}.`),Pe}fetch(F){var j=this;return(0,N.Z)(function*(){const[pe,Pe]=yield Promise.all([j.storage.getLastSuccessfulFetchTimestampMillis(),j.storage.getLastSuccessfulFetchResponse()]);if(Pe&&j.isCachedDataFresh(F.cacheMaxAgeMillis,pe))return Pe;F.eTag=Pe&&Pe.eTag;const We=yield j.client.fetch(F),et=[j.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===We.status&&et.push(j.storage.setLastSuccessfulFetchResponse(We)),yield Promise.all(et),We})()}}function Gn(B=navigator){return B.languages&&B.languages[0]||B.language}class ae{constructor(F,j,pe,Pe,We,et){this.firebaseInstallations=F,this.sdkVersion=j,this.namespace=pe,this.projectId=Pe,this.apiKey=We,this.appId=et}fetch(F){var j=this;return(0,N.Z)(function*(){const[pe,Pe]=yield Promise.all([j.firebaseInstallations.getId(),j.firebaseInstallations.getToken()]),et=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${j.projectId}/namespaces/${j.namespace}:fetch?key=${j.apiKey}`,Dt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},Ft={sdk_version:j.sdkVersion,app_instance_id:pe,app_instance_id_token:Pe,app_id:j.appId,language_code:Gn()},Wt={method:"POST",headers:Dt,body:JSON.stringify(Ft)},Bt=fetch(et,Wt),Ur=new Promise((ar,Ii)=>{F.signal.addEventListener(()=>{const Ga=new Error("The operation was aborted.");Ga.name="AbortError",Ii(Ga)})});let Yn;try{yield Promise.race([Bt,Ur]),Yn=yield Bt}catch(ar){let Ii="fetch-client-network";throw"AbortError"===ar?.name&&(Ii="fetch-timeout"),Ie.create(Ii,{originalErrorMessage:ar?.message})}let Mn=Yn.status;const To=Yn.headers.get("ETag")||void 0;let Ji,Is;if(200===Yn.status){let ar;try{ar=yield Yn.json()}catch(Ii){throw Ie.create("fetch-client-parse",{originalErrorMessage:Ii?.message})}Ji=ar.entries,Is=ar.state}if("INSTANCE_STATE_UNSPECIFIED"===Is?Mn=500:"NO_CHANGE"===Is?Mn=304:("NO_TEMPLATE"===Is||"EMPTY_CONFIG"===Is)&&(Ji={}),304!==Mn&&200!==Mn)throw Ie.create("fetch-status",{httpStatus:Mn});return{status:Mn,eTag:To,config:Ji}})()}}class oe{constructor(F,j){this.client=F,this.storage=j}fetch(F){var j=this;return(0,N.Z)(function*(){const pe=(yield j.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return j.attemptFetch(F,pe)})()}attemptFetch(F,{throttleEndTimeMillis:j,backoffCount:pe}){var Pe=this;return(0,N.Z)(function*(){yield function fe(B,F){return new Promise((j,pe)=>{const Pe=Math.max(F-Date.now(),0),We=setTimeout(j,Pe);B.addEventListener(()=>{clearTimeout(We),pe(Ie.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,j);try{const We=yield Pe.client.fetch(F);return yield Pe.storage.deleteThrottleMetadata(),We}catch(We){if(!function ce(B){if(!(B instanceof se.ZR&&B.customData))return!1;const F=Number(B.customData.httpStatus);return 429===F||500===F||503===F||504===F}(We))throw We;const et={throttleEndTimeMillis:Date.now()+(0,se.$s)(pe),backoffCount:pe+1};return yield Pe.storage.setThrottleMetadata(et),Pe.attemptFetch(F,et)}})()}}class tt{constructor(F,j,pe,Pe,We){this.app=F,this._client=j,this._storageCache=pe,this._storage=Pe,this._logger=We,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function qe(B,F){const j=B.target.error||void 0;return Ie.create(F,{originalErrorMessage:j&&j?.message})}const Zt="app_namespace_store";class hn{constructor(F,j,pe,Pe=function yt(){return new Promise((B,F)=>{try{const j=indexedDB.open("firebase_remote_config",1);j.onerror=pe=>{F(qe(pe,"storage-open"))},j.onsuccess=pe=>{B(pe.target.result)},j.onupgradeneeded=pe=>{0===pe.oldVersion&&pe.target.result.createObjectStore(Zt,{keyPath:"compositeKey"})}}catch(j){F(Ie.create("storage-open",{originalErrorMessage:j?.message}))}})}()){this.appId=F,this.appName=j,this.namespace=pe,this.openDbPromise=Pe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var j=this;return(0,N.Z)(function*(){const pe=yield j.openDbPromise;return new Promise((Pe,We)=>{const Dt=pe.transaction([Zt],"readonly").objectStore(Zt),Ft=j.createCompositeKey(F);try{const Wt=Dt.get(Ft);Wt.onerror=Bt=>{We(qe(Bt,"storage-get"))},Wt.onsuccess=Bt=>{const Ur=Bt.target.result;Pe(Ur?Ur.value:void 0)}}catch(Wt){We(Ie.create("storage-get",{originalErrorMessage:Wt?.message}))}})})()}set(F,j){var pe=this;return(0,N.Z)(function*(){const Pe=yield pe.openDbPromise;return new Promise((We,et)=>{const Ft=Pe.transaction([Zt],"readwrite").objectStore(Zt),Wt=pe.createCompositeKey(F);try{const Bt=Ft.put({compositeKey:Wt,value:j});Bt.onerror=Ur=>{et(qe(Ur,"storage-set"))},Bt.onsuccess=()=>{We()}}catch(Bt){et(Ie.create("storage-set",{originalErrorMessage:Bt?.message}))}})})()}delete(F){var j=this;return(0,N.Z)(function*(){const pe=yield j.openDbPromise;return new Promise((Pe,We)=>{const Dt=pe.transaction([Zt],"readwrite").objectStore(Zt),Ft=j.createCompositeKey(F);try{const Wt=Dt.delete(Ft);Wt.onerror=Bt=>{We(qe(Bt,"storage-delete"))},Wt.onsuccess=()=>{Pe()}}catch(Wt){We(Ie.create("storage-delete",{originalErrorMessage:Wt?.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class jn{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,N.Z)(function*(){const j=F.storage.getLastFetchStatus(),pe=F.storage.getLastSuccessfulFetchTimestampMillis(),Pe=F.storage.getActiveConfig(),We=yield j;We&&(F.lastFetchStatus=We);const et=yield pe;et&&(F.lastSuccessfulFetchTimestampMillis=et);const Dt=yield Pe;Dt&&(F.activeConfig=Dt)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function sr(){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,N.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}!function Ln(){(0,Y._registerComponent)(new ve.wA("remote-config",function B(F,{instanceIdentifier:j}){const pe=F.getProvider("app").getImmediate(),Pe=F.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ie.create("registration-window");if(!(0,se.hl)())throw Ie.create("indexed-db-unavailable");const{projectId:We,apiKey:et,appId:Dt}=pe.options;if(!We)throw Ie.create("registration-project-id");if(!et)throw Ie.create("registration-api-key");if(!Dt)throw Ie.create("registration-app-id");const Ft=new hn(Dt,pe.name,j=j||"firebase"),Wt=new jn(Ft),Bt=new _e.Yd(he);Bt.logLevel=_e.in.ERROR;const Ur=new ae(Pe,Y.SDK_VERSION,j,We,et,Dt),Yn=new oe(Ur,Ft),Mn=new Jt(Yn,Ft,Wt,Bt),To=new tt(pe,Mn,Wt,Ft,Bt);return function Me(B){const F=(0,se.m9)(B);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}(To),To},"PUBLIC").setMultipleInstances(!0)),(0,Y.registerVersion)(he,V),(0,Y.registerVersion)(he,V,"esm2017")}();var Vn=A(9519);const bn="analytics",tr="firebase_id",Gr="origin",wt=6e4,Ct="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Nt="https://www.googletagmanager.com/gtag/js",Rt=new _e.Yd("@firebase/analytics"),fn=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Kt(B){if(!B.startsWith(Nt)){const F=fn.create("invalid-gtag-resource",{gtagURL:B});return Rt.warn(F.message),""}return B}function pn(B){return Promise.all(B.map(F=>F.catch(j=>j)))}function cn(){return(cn=(0,N.Z)(function*(B,F,j,pe,Pe,We){const et=pe[Pe];try{if(et)yield F[et];else{const Ft=(yield pn(j)).find(Wt=>Wt.measurementId===Pe);Ft&&(yield F[Ft.appId])}}catch(Dt){Rt.error(Dt)}B("config",Pe,We)})).apply(this,arguments)}function or(){return(or=(0,N.Z)(function*(B,F,j,pe,Pe){try{let We=[];if(Pe&&Pe.send_to){let et=Pe.send_to;Array.isArray(et)||(et=[et]);const Dt=yield pn(j);for(const Ft of et){const Wt=Dt.find(Ur=>Ur.measurementId===Ft),Bt=Wt&&F[Wt.appId];if(!Bt){We=[];break}We.push(Bt)}}0===We.length&&(We=Object.values(F)),yield Promise.all(We),B("event",pe,Pe||{})}catch(We){Rt.error(We)}})).apply(this,arguments)}const W=30,ct=new class He{constructor(F={},j=1e3){this.throttleMetadata=F,this.intervalMillis=j}getThrottleMetadata(F){return this.throttleMetadata[F]}setThrottleMetadata(F,j){this.throttleMetadata[F]=j}deleteThrottleMetadata(F){delete this.throttleMetadata[F]}};function Et(B){return new Headers({Accept:"application/json","x-goog-api-key":B})}function G(){return(G=(0,N.Z)(function*(B){var F;const{appId:j,apiKey:pe}=B,Pe={method:"GET",headers:Et(pe)},We=Ct.replace("{app-id}",j),et=yield fetch(We,Pe);if(200!==et.status&&304!==et.status){let Dt="";try{const Ft=yield et.json();null!==(F=Ft.error)&&void 0!==F&&F.message&&(Dt=Ft.error.message)}catch{}throw fn.create("config-fetch-failed",{httpStatus:et.status,responseMessage:Dt})}return et.json()})).apply(this,arguments)}function P(){return(P=(0,N.Z)(function*(B,F=ct,j){const{appId:pe,apiKey:Pe,measurementId:We}=B.options;if(!pe)throw fn.create("no-app-id");if(!Pe){if(We)return{measurementId:We,appId:pe};throw fn.create("no-api-key")}const et=F.getThrottleMetadata(pe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Dt=new Qe;return setTimeout((0,N.Z)(function*(){Dt.abort()}),void 0!==j?j:wt),R({appId:pe,apiKey:Pe,measurementId:We},et,Dt,F)})).apply(this,arguments)}function R(B,F,j){return M.apply(this,arguments)}function M(){return M=(0,N.Z)(function*(B,{throttleEndTimeMillis:F,backoffCount:j},pe,Pe=ct){var We;const{appId:et,measurementId:Dt}=B;try{yield function X(B,F){return new Promise((j,pe)=>{const Pe=Math.max(F-Date.now(),0),We=setTimeout(j,Pe);B.addEventListener(()=>{clearTimeout(We),pe(fn.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(pe,F)}catch(Ft){if(Dt)return Rt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Dt} provided in the "measurementId" field in the local Firebase config. [${Ft?.message}]`),{appId:et,measurementId:Dt};throw Ft}try{const Ft=yield function gn(B){return G.apply(this,arguments)}(B);return Pe.deleteThrottleMetadata(et),Ft}catch(Ft){const Wt=Ft;if(!function Ne(B){if(!(B instanceof se.ZR&&B.customData))return!1;const F=Number(B.customData.httpStatus);return 429===F||500===F||503===F||504===F}(Wt)){if(Pe.deleteThrottleMetadata(et),Dt)return Rt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Dt} provided in the "measurementId" field in the local Firebase config. [${Wt?.message}]`),{appId:et,measurementId:Dt};throw Ft}const Bt=503===Number(null===(We=Wt?.customData)||void 0===We?void 0:We.httpStatus)?(0,se.$s)(j,Pe.intervalMillis,W):(0,se.$s)(j,Pe.intervalMillis),Ur={throttleEndTimeMillis:Date.now()+Bt,backoffCount:j+1};return Pe.setThrottleMetadata(et,Ur),Rt.debug(`Calling attemptFetch again in ${Bt} millis`),R(B,Ur,pe,Pe)}}),M.apply(this,arguments)}class Qe{constructor(){this.listeners=[]}addEventListener(F){this.listeners.push(F)}abort(){this.listeners.forEach(F=>F())}}let xt,Tn;function mn(){return(mn=(0,N.Z)(function*(B,F,j,pe,Pe){if(Pe&&Pe.global)B("event",j,pe);else{const We=yield F;B("event",j,Object.assign(Object.assign({},pe),{send_to:We}))}})).apply(this,arguments)}function Nr(){return(Nr=(0,N.Z)(function*(){if(!(0,se.hl)())return Rt.warn(fn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(B){return Rt.warn(fn.create("indexeddb-unavailable",{errorInfo:B?.toString()}).message),!1}return!0})).apply(this,arguments)}function Fs(){return Fs=(0,N.Z)(function*(B,F,j,pe,Pe,We,et){var Dt;const Ft=function H(B){return P.apply(this,arguments)}(B);Ft.then(Mn=>{j[Mn.measurementId]=Mn.appId,B.options.measurementId&&Mn.measurementId!==B.options.measurementId&&Rt.warn(`The measurement ID in the local Firebase config (${B.options.measurementId}) does not match the measurement ID fetched from the server (${Mn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Mn=>Rt.error(Mn)),F.push(Ft);const Wt=function Ki(){return Nr.apply(this,arguments)}().then(Mn=>{if(Mn)return pe.getId()}),[Bt,Ur]=yield Promise.all([Ft,Wt]);(function me(B){const F=window.document.getElementsByTagName("script");for(const j of Object.values(F))if(j.src&&j.src.includes(Nt)&&j.src.includes(B))return j;return null})(We)||function rn(B,F){const j=function Pr(B,F){let j;return window.trustedTypes&&(j=window.trustedTypes.createPolicy(B,F)),j}("firebase-js-sdk-policy",{createScriptURL:Kt}),pe=document.createElement("script"),Pe=`${Nt}?l=${B}&id=${F}`;pe.src=j?j?.createScriptURL(Pe):Pe,pe.async=!0,document.head.appendChild(pe)}(We,Bt.measurementId),Tn&&(Pe("consent","default",Tn),function ti(B){Tn=B}(void 0)),Pe("js",new Date);const Yn=null!==(Dt=et?.config)&&void 0!==Dt?Dt:{};return Yn[Gr]="firebase",Yn.update=!0,null!=Ur&&(Yn[tr]=Ur),Pe("config",Bt.measurementId,Yn),xt&&(Pe("set",xt),function ni(B){xt=B}(void 0)),Bt.measurementId}),Fs.apply(this,arguments)}class Ks{constructor(F){this.app=F}_delete(){return delete ri[this.app.options.appId],Promise.resolve()}}let ri={},gi=[];const Ls={};let Xn,Yi,_s="dataLayer",Ui=!1;function zr(B,F,j){!function Co(){const B=[];if((0,se.ru)()&&B.push("This is a browser extension environment."),(0,se.zI)()||B.push("Cookies are not available."),B.length>0){const F=B.map((pe,Pe)=>`(${Pe+1}) ${pe}`).join(" "),j=fn.create("invalid-analytics-context",{errorInfo:F});Rt.warn(j.message)}}();const pe=B.options.appId;if(!pe)throw fn.create("no-app-id");if(!B.options.apiKey){if(!B.options.measurementId)throw fn.create("no-api-key");Rt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${B.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ri[pe])throw fn.create("already-exists",{id:pe});if(!Ui){!function pi(B){let F=[];Array.isArray(window[B])?F=window[B]:window[B]=F}(_s);const{wrappedGtag:We,gtagCore:et}=function Un(B,F,j,pe,Pe){let We=function(...et){window[pe].push(arguments)};return window[Pe]&&"function"==typeof window[Pe]&&(We=window[Pe]),window[Pe]=function dr(B,F,j,pe){function We(){return We=(0,N.Z)(function*(et,...Dt){try{if("event"===et){const[Ft,Wt]=Dt;yield function Dr(B,F,j,pe,Pe){return or.apply(this,arguments)}(B,F,j,Ft,Wt)}else if("config"===et){const[Ft,Wt]=Dt;yield function Xt(B,F,j,pe,Pe,We){return cn.apply(this,arguments)}(B,F,j,pe,Ft,Wt)}else if("consent"===et){const[Ft]=Dt;B("consent","update",Ft)}else if("get"===et){const[Ft,Wt,Bt]=Dt;B("get",Ft,Wt,Bt)}else if("set"===et){const[Ft]=Dt;B("set",Ft)}else B(et,...Dt)}catch(Ft){Rt.error(Ft)}}),We.apply(this,arguments)}return function Pe(et){return We.apply(this,arguments)}}(We,B,F,j),{gtagCore:We,wrappedGtag:window[Pe]}}(ri,gi,Ls,_s,"gtag");Yi=We,Xn=et,Ui=!0}return ri[pe]=function ln(B,F,j,pe,Pe,We,et){return Fs.apply(this,arguments)}(B,gi,Ls,F,Xn,_s,j),new Ks(B)}function zu(){return $.apply(this,arguments)}function $(){return($=(0,N.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}const us="@firebase/analytics";!function qu(){(0,Y._registerComponent)(new ve.wA(bn,(F,{options:j})=>zr(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),j),"PUBLIC")),(0,Y._registerComponent)(new ve.wA("analytics-internal",function B(F){try{const j=F.getProvider(bn).getImmediate();return{logEvent:(pe,Pe,We)=>function hr(B,F,j,pe){B=(0,se.m9)(B),function ot(B,F,j,pe,Pe){return mn.apply(this,arguments)}(Yi,ri[B.app.options.appId],F,j,pe).catch(Pe=>Rt.error(Pe))}(j,pe,Pe,We)}}catch(j){throw fn.create("interop-component-reg-failed",{reason:j})}},"PRIVATE")),(0,Y.registerVersion)(us,"0.10.0"),(0,Y.registerVersion)(us,"0.10.0","esm2017")}();var Ba=A(1954),$a=A(2631);const Vr=new class Cn extends $a.v{}(class ja extends Ba.o{constructor(F,j){super(F,j),this.scheduler=F,this.work=j}schedule(F,j=0){return j>0?super.schedule(F,j):(this.delay=j,this.state=F,this.scheduler.flush(this),this)}execute(F,j){return j>0||this.closed?super.execute(F,j):this._execute(F,j)}requestAsyncId(F,j,pe=0){return null!=pe&&pe>0||null==pe&&this.delay>0?super.requestAsyncId(F,j,pe):(F.flush(this),0)}});var Do=A(6321),ii=A(9397),Jc=A(5137),Ha=A(3093);const Us=new h.GfV("7.6.1"),Qi="__angularfire_symbol__analyticsIsSupportedValue",la="__angularfire_symbol__analyticsIsSupported",Kn="__angularfire_symbol__remoteConfigIsSupportedValue",Xe="__angularfire_symbol__remoteConfigIsSupported",qt="__angularfire_symbol__messagingIsSupportedValue",Bn="__angularfire_symbol__messagingIsSupported";function fr(B,F,j){if(F){if(1===F.length)return F[0];const We=F.filter(et=>et.app===j);if(1===We.length)return We[0]}return j.container.getProvider(B).getImmediate({optional:!0})}globalThis[la]||(globalThis[la]=zu().then(B=>globalThis[Qi]=B).catch(()=>globalThis[Qi]=!1)),globalThis[Bn]||(globalThis[Bn]=(0,Vn.Gb)().then(B=>globalThis[qt]=B).catch(()=>globalThis[qt]=!1)),globalThis[Xe]||(globalThis[Xe]=sr().then(B=>globalThis[Kn]=B).catch(()=>globalThis[Kn]=!1));const ws=(B,F)=>{const j=F?[F]:(0,U.C6)(),pe=[];return j.forEach(Pe=>{Pe.container.getProvider(B).instances.forEach(et=>{pe.includes(et)||pe.push(et)})}),pe};function Ei(){}class kt{constructor(F,j=Vr){this.zone=F,this.delegate=j}now(){return this.delegate.now()}schedule(F,j,pe){const Pe=this.zone;return this.delegate.schedule(function(et){Pe.runGuarded(()=>{F.apply(this,[et])})},j,pe)}}class da{constructor(F){this.zone=F,this.task=null}call(F,j){const pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ei,{},Ei,Ei)),j.pipe((0,ii.b)({next:pe,complete:pe,error:pe})).subscribe(F).add(pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let th=(()=>{class B{constructor(j){this.ngZone=j,this.outsideAngular=j.runOutsideAngular(()=>new kt(Zone.current)),this.insideAngular=j.run(()=>new kt(Zone.current,Do.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return B.\u0275fac=function(j){return new(j||B)(h.LFG(h.R0b))},B.\u0275prov=h.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})();function br(){const B=globalThis.\u0275AngularFireScheduler;if(!B)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return B}function cs(B){return br(),function Xc(B){return function(j){return(j=j.lift(new da(B.ngZone))).pipe((0,Jc.R)(B.outsideAngular),(0,Ha.Q)(B.insideAngular))}}(br())(B)}},6710:(vt,be,A)=>{A.d(be,{$:()=>rh,A:()=>q,D:()=>Ie,I:()=>Co,J:()=>$,L:()=>Xe,N:()=>Et,P:()=>ur,Q:()=>Bi,R:()=>jp,U:()=>Xc,V:()=>Ys,W:()=>Es,X:()=>cs,Y:()=>pe,Z:()=>Pe,_:()=>Wt,a:()=>cl,a0:()=>pE,a1:()=>vr,a2:()=>ET,a3:()=>IT,a4:()=>jy,a5:()=>So,a6:()=>Wu,a7:()=>sh,a8:()=>oh,a9:()=>$y,aA:()=>k,aB:()=>tu,aC:()=>He,aD:()=>gn,aE:()=>ko,aF:()=>gl,aG:()=>ro,aH:()=>Xn,aL:()=>Yu,aO:()=>F,aa:()=>Ep,ab:()=>Hy,ac:()=>Ip,ad:()=>zy,ae:()=>rl,af:()=>qy,ai:()=>mE,aj:()=>CT,ak:()=>Zy,an:()=>To,ao:()=>Ku,aq:()=>ph,ar:()=>ul,as:()=>De,at:()=>ot,au:()=>Ne,av:()=>ee,aw:()=>ds,ax:()=>Sh,ay:()=>mn,az:()=>Te,b:()=>yh,c:()=>Si,d:()=>fl,e:()=>Qa,f:()=>ml,g:()=>Ai,h:()=>Kr,i:()=>$s,j:()=>uv,k:()=>so,l:()=>$p,m:()=>iu,p:()=>Oe,r:()=>Pt,s:()=>bi,u:()=>Ti});var h=A(5861),U=A(9058),N=A(7592),Y=A(7582),se=A(7879),ve=A(4537);const Oe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ie=function ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ye=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ke=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ae=new se.Yd("@firebase/auth");function ft(w,...p){Ae.logLevel<=se.in.ERROR&&Ae.error(`Auth (${N.SDK_VERSION}): ${w}`,...p)}function ee(w,...p){throw Be(w,...p)}function Te(w,...p){return Be(w,...p)}function ue(w,p,g){const E=Object.assign(Object.assign({},Ye()),{[p]:g});return new U.LL("auth","Firebase",E).create(p,{appName:w.name})}function Me(w,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&ee(w,"argument-error"),ue(w,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Be(w,...p){if("string"!=typeof w){const g=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=w.name),w._errorFactory.create(g,...E)}return ke.create(w,...p)}function k(w,p,...g){if(!w)throw Be(p,...g)}function te(w){const p="INTERNAL ASSERTION FAILED: "+w;throw ft(p),new Error(p)}function De(w,p){w||te(p)}function st(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Lt(){return"http:"===Ht()||"https:"===Ht()}function Ht(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Jt{constructor(p,g){this.shortDelay=p,this.longDelay=g,De(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function Gt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Lt()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gn(w,p){De(w.emulator,"Emulator should always be set here");const{url:g}=w.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class ae{static initialize(p,g,E){this.fetchImpl=p,g&&(this.headersImpl=g),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void te("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void te("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void te("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ce=new Jt(3e4,6e4);function oe(w,p){return w.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:w.tenantId}):p}function Se(w,p,g,E){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,h.Z)(function*(w,p,g,E,T={}){return tt(w,T,(0,h.Z)(function*(){let O={},Q={};E&&("GET"===p?Q=E:O={body:JSON.stringify(E)});const ge=(0,U.xO)(Object.assign({key:w.config.apiKey},Q)).slice(1),Je=yield w._getAdditionalHeaders();return Je["Content-Type"]="application/json",w.languageCode&&(Je["X-Firebase-Locale"]=w.languageCode),ae.fetch()(nn(w,w.config.apiHost,g,ge),Object.assign({method:p,headers:Je,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function tt(w,p,g){return qe.apply(this,arguments)}function qe(){return(qe=(0,h.Z)(function*(w,p,g){w._canInitEmulator=!1;const E=Object.assign(Object.assign({},fe),p);try{const T=new yt(w),O=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const Q=yield O.json();if("needConfirmation"in Q)throw hn(w,"account-exists-with-different-credential",Q);if(O.ok&&!("errorMessage"in Q))return Q;{const ge=O.ok?Q.errorMessage:Q.error.message,[Je,rt]=ge.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Je)throw hn(w,"credential-already-in-use",Q);if("EMAIL_EXISTS"===Je)throw hn(w,"email-already-in-use",Q);if("USER_DISABLED"===Je)throw hn(w,"user-disabled",Q);const Tt=E[Je]||Je.toLowerCase().replace(/[_\s]+/g,"-");if(rt)throw ue(w,Tt,rt);ee(w,Tt)}}catch(T){if(T instanceof U.ZR)throw T;ee(w,"network-request-failed",{message:String(T)})}})).apply(this,arguments)}function Zt(w,p,g,E){return bt.apply(this,arguments)}function bt(){return(bt=(0,h.Z)(function*(w,p,g,E,T={}){const O=yield Se(w,p,g,E,T);return"mfaPendingCredential"in O&&ee(w,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function nn(w,p,g,E){const T=`${p}${g}?${E}`;return w.config.emulator?Gn(w.config,T):`${w.config.apiScheme}://${T}`}class yt{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,E)=>{this.timer=setTimeout(()=>E(Te(this.auth,"network-request-failed")),ce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hn(w,p,g){const E={appName:w.name};g.email&&(E.email=g.email),g.phoneNumber&&(E.phoneNumber=g.phoneNumber);const T=Te(w,p,E);return T.customData._tokenResponse=g,T}function Ln(){return(Ln=(0,h.Z)(function*(w,p){return Se(w,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Rn(){return(Rn=(0,h.Z)(function*(w,p){return Se(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Zn(){return(Zn=(0,h.Z)(function*(w,p){return Se(w,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Vn(w){if(w)try{const p=new Date(Number(w));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Gr(){return(Gr=(0,h.Z)(function*(w,p=!1){const g=(0,U.m9)(w),E=yield g.getIdToken(p),T=Ct(E);k(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const O="object"==typeof T.firebase?T.firebase:void 0,Q=O?.sign_in_provider;return{claims:T,token:E,authTime:Vn(wt(T.auth_time)),issuedAtTime:Vn(wt(T.iat)),expirationTime:Vn(wt(T.exp)),signInProvider:Q||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function wt(w){return 1e3*Number(w)}function Ct(w){const[p,g,E]=w.split(".");if(void 0===p||void 0===g||void 0===E)return ft("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,U.tV)(g);return T?JSON.parse(T):(ft("Failed to decode base64 JWT payload"),null)}catch(T){return ft("Caught error parsing JWT payload as JSON",T?.toString()),null}}function Rt(w,p){return mr.apply(this,arguments)}function mr(){return(mr=(0,h.Z)(function*(w,p,g=!1){if(g)return p;try{return yield p}catch(E){throw E instanceof U.ZR&&function fn({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(E)&&w.auth.currentUser===w&&(yield w.auth.signOut()),E}})).apply(this,arguments)}class Kt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,h.Z)(function*(){yield g.iteration()}),E)}iteration(){var p=this;return(0,h.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&p.schedule(!0))}p.schedule()})()}}class pn{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vn(this.lastLoginAt),this.creationTime=Vn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pr(w){return rn.apply(this,arguments)}function rn(){return rn=(0,h.Z)(function*(w){var p;const g=w.auth,E=yield w.getIdToken(),T=yield Rt(w,function sr(w,p){return Zn.apply(this,arguments)}(g,{idToken:E}));k(T?.users.length,g,"internal-error");const O=T.users[0];w._notifyReloadListener(O);const Q=null!==(p=O.providerUserInfo)&&void 0!==p&&p.length?function Dr(w){return w.map(p=>{var{providerId:g}=p,E=(0,Y._T)(p,["providerId"]);return{providerId:g,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(O.providerUserInfo):[],ge=function cn(w,p){return[...w.filter(E=>!p.some(T=>T.providerId===E.providerId)),...p]}(w.providerData,Q),Tt=!!w.isAnonymous&&!(w.email&&O.passwordHash||ge?.length),Dn={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ge,metadata:new pn(O.createdAt,O.lastLoginAt),isAnonymous:Tt};Object.assign(w,Dn)}),rn.apply(this,arguments)}function Xt(){return(Xt=(0,h.Z)(function*(w){const p=(0,U.m9)(w);yield Pr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function dr(){return(dr=(0,h.Z)(function*(w,p){const g=yield tt(w,{},(0,h.Z)(function*(){const E=(0,U.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:T,apiKey:O}=w.config,Q=nn(w,T,"/v1/token",`key=${O}`),ge=yield w._getAdditionalHeaders();return ge["Content-Type"]="application/x-www-form-urlencoded",ae.fetch()(Q,{method:"POST",headers:ge,body:E})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Un{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){k(p.idToken,"internal-error"),k(typeof p.idToken<"u","internal-error"),k(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Nt(w){const p=Ct(w);return k(p,"internal-error"),k(typeof p.exp<"u","internal-error"),k(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var E=this;return(0,h.Z)(function*(){return k(!E.accessToken||E.refreshToken,p,"user-token-expired"),g||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var E=this;return(0,h.Z)(function*(){const{accessToken:T,refreshToken:O,expiresIn:Q}=yield function or(w,p){return dr.apply(this,arguments)}(p,g);E.updateTokensAndExpiration(T,O,Number(Q))})()}updateTokensAndExpiration(p,g,E){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,g){const{refreshToken:E,accessToken:T,expirationTime:O}=g,Q=new Un;return E&&(k("string"==typeof E,"internal-error",{appName:p}),Q.refreshToken=E),T&&(k("string"==typeof T,"internal-error",{appName:p}),Q.accessToken=T),O&&(k("number"==typeof O,"internal-error",{appName:p}),Q.expirationTime=O),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Un,this.toJSON())}_performRefresh(){return te("not implemented")}}function me(w,p){k("string"==typeof w||typeof w>"u","internal-error",{appName:p})}class W{constructor(p){var{uid:g,auth:E,stsTokenManager:T}=p,O=(0,Y._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=E,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new pn(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,h.Z)(function*(){const E=yield Rt(g,g.stsTokenManager.getToken(g.auth,p));return k(E,g.auth,"internal-error"),g.accessToken!==E&&(g.accessToken=E,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),E})()}getIdTokenResult(p){return function tr(w){return Gr.apply(this,arguments)}(this,p)}reload(){return function pi(w){return Xt.apply(this,arguments)}(this)}_assign(p){this!==p&&(k(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const g=new W(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(p){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var E=this;return(0,h.Z)(function*(){let T=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),T=!0),g&&(yield Pr(E)),yield E.auth._persistUserIfCurrent(E),T&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,h.Z)(function*(){const g=yield p.getIdToken();return yield Rt(p,function jn(w,p){return Ln.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var E,T,O,Q,ge,Je,rt,Tt;const Dn=null!==(E=g.displayName)&&void 0!==E?E:void 0,yi=null!==(T=g.email)&&void 0!==T?T:void 0,hs=null!==(O=g.phoneNumber)&&void 0!==O?O:void 0,oo=null!==(Q=g.photoURL)&&void 0!==Q?Q:void 0,eg=null!==(ge=g.tenantId)&&void 0!==ge?ge:void 0,oc=null!==(Je=g._redirectEventId)&&void 0!==Je?Je:void 0,_a=null!==(rt=g.createdAt)&&void 0!==rt?rt:void 0,wa=null!==(Tt=g.lastLoginAt)&&void 0!==Tt?Tt:void 0,{uid:Sl,emailVerified:ac,isAnonymous:fs,providerData:uu,stsTokenManager:ao}=g;k(Sl&&ao,p,"internal-error");const uc=Un.fromJSON(this.name,ao);k("string"==typeof Sl,p,"internal-error"),me(Dn,p.name),me(yi,p.name),k("boolean"==typeof ac,p,"internal-error"),k("boolean"==typeof fs,p,"internal-error"),me(hs,p.name),me(oo,p.name),me(eg,p.name),me(oc,p.name),me(_a,p.name),me(wa,p.name);const jo=new W({uid:Sl,auth:p,email:yi,emailVerified:ac,displayName:Dn,isAnonymous:fs,photoURL:oo,phoneNumber:hs,tenantId:eg,stsTokenManager:uc,createdAt:_a,lastLoginAt:wa});return uu&&Array.isArray(uu)&&(jo.providerData=uu.map(Al=>Object.assign({},Al))),oc&&(jo._redirectEventId=oc),jo}static _fromIdTokenResponse(p,g,E=!1){return(0,h.Z)(function*(){const T=new Un;T.updateFromServerResponse(g);const O=new W({uid:g.localId,auth:p,stsTokenManager:T,isAnonymous:E});return yield Pr(O),O})()}}const Ee=new Map;function He(w){De(w instanceof Function,"Expected a class definition");let p=Ee.get(w);return p?(De(p instanceof w,"Instance stored in cache mismatched with class"),p):(p=new w,Ee.set(w,p),p)}const Et=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(g,E){var T=this;return(0,h.Z)(function*(){T.storage[g]=E})()}_get(g){var E=this;return(0,h.Z)(function*(){const T=E.storage[g];return void 0===T?null:T})()}_remove(g){var E=this;return(0,h.Z)(function*(){delete E.storage[g]})()}_addListener(g,E){}_removeListener(g,E){}}return w.type="NONE",w})();function gn(w,p,g){return`firebase:${w}:${p}:${g}`}class G{constructor(p,g,E){this.persistence=p,this.auth=g,this.userKey=E;const{config:T,name:O}=this.auth;this.fullUserKey=gn(this.userKey,T.apiKey,O),this.fullPersistenceKey=gn("persistence",T.apiKey,O),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,h.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?W._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,h.Z)(function*(){if(g.persistence===p)return;const E=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,E?g.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,E="authUser"){return(0,h.Z)(function*(){if(!g.length)return new G(He(Et),p,E);const T=(yield Promise.all(g.map(function(){var rt=(0,h.Z)(function*(Tt){if(yield Tt._isAvailable())return Tt});return function(Tt){return rt.apply(this,arguments)}}()))).filter(rt=>rt);let O=T[0]||He(Et);const Q=gn(E,p.config.apiKey,p.name);let ge=null;for(const rt of g)try{const Tt=yield rt._get(Q);if(Tt){const Dn=W._fromJSON(p,Tt);rt!==O&&(ge=Dn),O=rt;break}}catch{}const Je=T.filter(rt=>rt._shouldAllowMigration);return O._shouldAllowMigration&&Je.length?(O=Je[0],ge&&(yield O._set(Q,ge.toJSON())),yield Promise.all(g.map(function(){var rt=(0,h.Z)(function*(Tt){if(Tt!==O)try{yield Tt._remove(Q)}catch{}});return function(Tt){return rt.apply(this,arguments)}}())),new G(O,p,E)):new G(O,p,E)})()}}function H(w){const p=w.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(X(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(P(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Qe(p))return"Blackberry";if(xt(p))return"Webos";if(R(p))return"Safari";if((p.includes("chrome/")||M(p))&&!p.includes("edge/"))return"Chrome";if(Ne(p))return"Android";{const E=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function P(w=(0,U.z$)()){return/firefox\//i.test(w)}function R(w=(0,U.z$)()){const p=w.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function M(w=(0,U.z$)()){return/crios\//i.test(w)}function X(w=(0,U.z$)()){return/iemobile/i.test(w)}function Ne(w=(0,U.z$)()){return/android/i.test(w)}function Qe(w=(0,U.z$)()){return/blackberry/i.test(w)}function xt(w=(0,U.z$)()){return/webos/i.test(w)}function ot(w=(0,U.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function mn(w=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function Yt(w=(0,U.z$)()){return ot(w)||Ne(w)||xt(w)||Qe(w)||/windows phone/i.test(w)||X(w)}function K(w,p=[]){let g;switch(w){case"Browser":g=H((0,U.z$)());break;case"Worker":g=`${H((0,U.z$)())}-${w}`;break;default:g=w}const E=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${N.SDK_VERSION}/${E}`}function nt(){return(nt=(0,h.Z)(function*(w){return(yield Se(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function at(w,p){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,h.Z)(function*(w,p){return Se(w,"GET","/v2/recaptchaConfig",oe(w,p))})).apply(this,arguments)}function lt(w){return void 0!==w&&void 0!==w.getResponse}function Tn(w){return void 0!==w&&void 0!==w.enterprise}class ti{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Ki(w){return new Promise((p,g)=>{const E=document.createElement("script");E.setAttribute("src",w),E.onload=p,E.onerror=T=>{const O=Te("internal-error");O.customData=T,g(O)},E.type="text/javascript",E.charset="UTF-8",function ni(){var w,p;return null!==(p=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==p?p:document}().appendChild(E)})}function Nr(w){return`__${w}${Math.floor(1e6*Math.random())}`}class ri{constructor(p){this.type="recaptcha-enterprise",this.auth=Xn(p)}verify(p="verify",g=!1){var E=this;return(0,h.Z)(function*(){function O(){return O=(0,h.Z)(function*(ge){if(!g){if(null==ge.tenantId&&null!=ge._agentRecaptchaConfig)return ge._agentRecaptchaConfig.siteKey;if(null!=ge.tenantId&&void 0!==ge._tenantRecaptchaConfigs[ge.tenantId])return ge._tenantRecaptchaConfigs[ge.tenantId].siteKey}return new Promise(function(){var Je=(0,h.Z)(function*(rt,Tt){at(ge,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Dn=>{if(void 0!==Dn.recaptchaKey){const yi=new ti(Dn);return null==ge.tenantId?ge._agentRecaptchaConfig=yi:ge._tenantRecaptchaConfigs[ge.tenantId]=yi,rt(yi.siteKey)}Tt(new Error("recaptcha Enterprise site key undefined"))}).catch(Dn=>{Tt(Dn)})});return function(rt,Tt){return Je.apply(this,arguments)}}())}),O.apply(this,arguments)}function Q(ge,Je,rt){const Tt=window.grecaptcha;Tn(Tt)?Tt.enterprise.ready(()=>{Tt.enterprise.execute(ge,{action:p}).then(Dn=>{Je(Dn)}).catch(()=>{Je("NO_RECAPTCHA")})}):rt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ge,Je)=>{(function T(ge){return O.apply(this,arguments)})(E.auth).then(rt=>{if(!g&&Tn(window.grecaptcha))Q(rt,ge,Je);else{if(typeof window>"u")return void Je(new Error("RecaptchaVerifier is only supported in browser"));Ki("https://www.google.com/recaptcha/enterprise.js?render="+rt).then(()=>{Q(rt,ge,Je)}).catch(Tt=>{Je(Tt)})}}).catch(rt=>{Je(rt)})})})()}}function gi(w,p,g){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,h.Z)(function*(w,p,g,E=!1){const T=new ri(w);let O;try{O=yield T.verify(g)}catch{O=yield T.verify(g,!0)}const Q=Object.assign({},p);return Object.assign(Q,E?{captchaResp:O}:{captchaResponse:O}),Object.assign(Q,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Q,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Q})).apply(this,arguments)}class _s{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const E=O=>new Promise((Q,ge)=>{try{Q(p(O))}catch(Je){ge(Je)}});E.onAbort=g,this.queue.push(E);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,h.Z)(function*(){if(g.auth.currentUser===p)return;const E=[];try{for(const T of g.queue)yield T(p),T.onAbort&&E.push(T.onAbort)}catch(T){E.reverse();for(const O of E)try{O()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}class Vs{constructor(p,g,E,T){this.app=p,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=E,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yi(this),this.idTokenSubscription=new Yi(this),this.beforeStateQueue=new _s(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ke,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(p,g){var E=this;return g&&(this._popupRedirectResolver=He(g)),this._initializationPromise=this.queue((0,h.Z)(function*(){var T,O;if(!E._deleted&&(E.persistenceManager=yield G.create(E,p),!E._deleted)){if(null!==(T=E._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(g),E.lastNotifiedUid=(null===(O=E.currentUser)||void 0===O?void 0:O.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,h.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,h.Z)(function*(){var E;const T=yield g.assertedPersistence.getCurrentUser();let O=T,Q=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ge=null===(E=g.redirectUser)||void 0===E?void 0:E._redirectEventId,Je=O?._redirectEventId,rt=yield g.tryRedirectSignIn(p);(!ge||ge===Je)&&rt?.user&&(O=rt.user,Q=!0)}if(!O)return g.directlySetCurrentUser(null);if(!O._redirectEventId){if(Q)try{yield g.beforeStateQueue.runMiddleware(O)}catch(ge){O=T,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ge))}return O?g.reloadAndSetCurrentUserOrClear(O):g.directlySetCurrentUser(null)}return k(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===O._redirectEventId?g.directlySetCurrentUser(O):g.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(p){var g=this;return(0,h.Z)(function*(){let E=null;try{E=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,h.Z)(function*(){try{yield Pr(p)}catch(E){if("auth/network-request-failed"!==E?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function dn(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var p=this;return(0,h.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,h.Z)(function*(){const E=p?(0,U.m9)(p):null;return E&&k(E.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(E&&E._clone(g))})()}_updateCurrentUser(p,g=!1){var E=this;return(0,h.Z)(function*(){if(!E._deleted)return p&&k(E.tenantId===p.tenantId,E,"tenant-id-mismatch"),g||(yield E.beforeStateQueue.runMiddleware(p)),E.queue((0,h.Z)(function*(){yield E.directlySetCurrentUser(p),E.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,h.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,h.Z)(function*(){yield g.assertedPersistence.setPersistence(He(p))}))}initializeRecaptchaConfig(){var p=this;return(0,h.Z)(function*(){const g=yield at(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new ti(g);null==p.tenantId?p._agentRecaptchaConfig=E:p._tenantRecaptchaConfigs[p.tenantId]=E,E.emailPasswordEnabled&&new ri(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new U.LL("auth","Firebase",p())}onAuthStateChanged(p,g,E){return this.registerStateListener(this.authStateSubscription,p,g,E)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,E){return this.registerStateListener(this.idTokenSubscription,p,g,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var E=this;return(0,h.Z)(function*(){const T=yield E.getOrInitRedirectPersistenceManager(g);return null===p?T.removeCurrentUser():T.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,h.Z)(function*(){if(!g.redirectPersistenceManager){const E=p&&He(p)||g._popupRedirectResolver;k(E,g,"argument-error"),g.redirectPersistenceManager=yield G.create(g,[He(E._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,h.Z)(function*(){var E,T;return g._isInitialized&&(yield g.queue((0,h.Z)(function*(){}))),(null===(E=g._currentUser)||void 0===E?void 0:E._redirectEventId)===p?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,h.Z)(function*(){if(p===g.currentUser)return g.queue((0,h.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,E,T){if(this._deleted)return()=>{};const O="function"==typeof g?g:g.next.bind(g),Q=this._isInitialized?Promise.resolve():this._initializationPromise;return k(Q,this,"internal-error"),Q.then(()=>O(this.currentUser)),"function"==typeof g?p.addObserver(g,E,T):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,h.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=K(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,h.Z)(function*(){var g;const E={"X-Client-Version":p.clientVersion};p.app.options.appId&&(E["X-Firebase-gmpid"]=p.app.options.appId);const T=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();T&&(E["X-Firebase-Client"]=T);const O=yield p._getAppCheckToken();return O&&(E["X-Firebase-AppCheck"]=O),E})()}_getAppCheckToken(){var p=this;return(0,h.Z)(function*(){var g;const E=yield null===(g=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return E?.error&&function ht(w,...p){Ae.logLevel<=se.in.WARN&&Ae.warn(`Auth (${N.SDK_VERSION}): ${w}`,...p)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function Xn(w){return(0,U.m9)(w)}class Yi{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,U.ne)(g=>this.observer=g)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Co(w,p,g){const E=Xn(w);k(E._canInitEmulator,E,"emulator-config-failed"),k(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const T=!!g?.disableWarnings,O=zr(p),{host:Q,port:ge}=function Ua(w){const p=zr(w),g=/(\/\/)?([^?#/]+)/.exec(w.substr(p.length));if(!g)return{host:"",port:null};const E=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(E);if(T){const O=T[1];return{host:O,port:ua(E.substr(O.length+1))}}{const[O,Q]=E.split(":");return{host:O,port:ua(Q)}}}(p);E.config.emulator={url:`${O}//${Q}${null===ge?"":`:${ge}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:Q,port:ge,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function zu(){function w(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function zr(w){const p=w.indexOf(":");return p<0?"":w.substr(0,p+1)}function ua(w){if(!w)return null;const p=Number(w);return isNaN(p)?null:p}class ${constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return te("not implemented")}_getIdTokenResponse(p){return te("not implemented")}_linkToIdToken(p,g){return te("not implemented")}_getReauthenticationResolver(p){return te("not implemented")}}function re(w,p){return xe.apply(this,arguments)}function xe(){return(xe=(0,h.Z)(function*(w,p){return Se(w,"POST","/v1/accounts:resetPassword",oe(w,p))})).apply(this,arguments)}function gt(w,p){return En.apply(this,arguments)}function En(){return(En=(0,h.Z)(function*(w,p){return Se(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function en(){return(en=(0,h.Z)(function*(w,p){return Se(w,"POST","/v1/accounts:update",oe(w,p))})).apply(this,arguments)}function nr(w,p){return hr.apply(this,arguments)}function hr(){return(hr=(0,h.Z)(function*(w,p){return Zt(w,"POST","/v1/accounts:signInWithPassword",oe(w,p))})).apply(this,arguments)}function Rr(w,p){return us.apply(this,arguments)}function us(){return(us=(0,h.Z)(function*(w,p){return Se(w,"POST","/v1/accounts:sendOobCode",oe(w,p))})).apply(this,arguments)}function qu(){return(qu=(0,h.Z)(function*(w,p){return Rr(w,p)})).apply(this,arguments)}function Ba(w,p){return ja.apply(this,arguments)}function ja(){return(ja=(0,h.Z)(function*(w,p){return Rr(w,p)})).apply(this,arguments)}function $a(w,p){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,h.Z)(function*(w,p){return Rr(w,p)})).apply(this,arguments)}function qr(){return(qr=(0,h.Z)(function*(w,p){return Rr(w,p)})).apply(this,arguments)}function ii(){return(ii=(0,h.Z)(function*(w,p){return Zt(w,"POST","/v1/accounts:signInWithEmailLink",oe(w,p))})).apply(this,arguments)}function Ha(){return(Ha=(0,h.Z)(function*(w,p){return Zt(w,"POST","/v1/accounts:signInWithEmailLink",oe(w,p))})).apply(this,arguments)}class Us extends ${constructor(p,g,E,T=null){super("password",E),this._email=p,this._password=g,this._tenantId=T}static _fromEmailAndPassword(p,g){return new Us(p,g,"password")}static _fromEmailAndCode(p,g,E=null){return new Us(p,g,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,h.Z)(function*(){var E;switch(g.signInMethod){case"password":const T={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=p._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const O=yield gi(p,T,"signInWithPassword");return nr(p,O)}return nr(p,T).catch(function(){var O=(0,h.Z)(function*(Q){if("auth/missing-recaptcha-token"===Q.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ge=yield gi(p,T,"signInWithPassword");return nr(p,ge)}return Promise.reject(Q)});return function(Q){return O.apply(this,arguments)}}());case"emailLink":return function Do(w,p){return ii.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:ee(p,"internal-error")}})()}_linkToIdToken(p,g){var E=this;return(0,h.Z)(function*(){switch(E.signInMethod){case"password":return gt(p,{idToken:g,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Jc(w,p){return Ha.apply(this,arguments)}(p,{idToken:g,email:E._email,oobCode:E._password});default:ee(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Qi(w,p){return la.apply(this,arguments)}function la(){return(la=(0,h.Z)(function*(w,p){return Zt(w,"POST","/v1/accounts:signInWithIdp",oe(w,p))})).apply(this,arguments)}class Xe extends ${constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Xe(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):ee("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:T}=g,O=(0,Y._T)(g,["providerId","signInMethod"]);if(!E||!T)return null;const Q=new Xe(E,T);return Q.idToken=O.idToken||void 0,Q.accessToken=O.accessToken||void 0,Q.secret=O.secret,Q.nonce=O.nonce,Q.pendingToken=O.pendingToken||null,Q}_getIdTokenResponse(p){return Qi(p,this.buildRequest())}_linkToIdToken(p,g){const E=this.buildRequest();return E.idToken=g,Qi(p,E)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Qi(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,U.xO)(g)}return p}}function Bn(){return(Bn=(0,h.Z)(function*(w,p){return Se(w,"POST","/v1/accounts:sendVerificationCode",oe(w,p))})).apply(this,arguments)}function Bs(){return(Bs=(0,h.Z)(function*(w,p){return Zt(w,"POST","/v1/accounts:signInWithPhoneNumber",oe(w,p))})).apply(this,arguments)}function bo(){return(bo=(0,h.Z)(function*(w,p){const g=yield Zt(w,"POST","/v1/accounts:signInWithPhoneNumber",oe(w,p));if(g.temporaryProof)throw hn(w,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const fr={USER_NOT_FOUND:"user-not-found"};function Ei(){return(Ei=(0,h.Z)(function*(w,p){return Zt(w,"POST","/v1/accounts:signInWithPhoneNumber",oe(w,Object.assign(Object.assign({},p),{operation:"REAUTH"})),fr)})).apply(this,arguments)}class kt extends ${constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new kt({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new kt({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function si(w,p){return Bs.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function Wr(w,p){return bo.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function ws(w,p){return Ei.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:E,verificationCode:T}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:E,code:T}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:E,phoneNumber:T,temporaryProof:O}=p;return E||g||T||O?new kt({verificationId:g,verificationCode:E,phoneNumber:T,temporaryProof:O}):null}}class br{constructor(p){var g,E,T,O,Q,ge;const Je=(0,U.zd)((0,U.pd)(p)),rt=null!==(g=Je.apiKey)&&void 0!==g?g:null,Tt=null!==(E=Je.oobCode)&&void 0!==E?E:null,Dn=function da(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Je.mode)&&void 0!==T?T:null);k(rt&&Tt&&Dn,"argument-error"),this.apiKey=rt,this.operation=Dn,this.code=Tt,this.continueUrl=null!==(O=Je.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(Q=Je.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(ge=Je.tenantId)&&void 0!==ge?ge:null}static parseLink(p){const g=function th(w){const p=(0,U.zd)((0,U.pd)(w)).link,g=p?(0,U.zd)((0,U.pd)(p)).deep_link_id:null,E=(0,U.zd)((0,U.pd)(w)).deep_link_id;return(E?(0,U.zd)((0,U.pd)(E)).link:null)||E||g||p||w}(p);try{return new br(g)}catch{return null}}}let Bi=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(g,E){return Us._fromEmailAndPassword(g,E)}static credentialWithLink(g,E){const T=br.parseLink(E);return k(T,"argument-error"),Us._fromEmailAndCode(g,T.code,T.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class ji{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class mi extends ji{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class cs extends mi{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return k("providerId"in g&&"signInMethod"in g,"argument-error"),Xe._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return k(p.idToken||p.accessToken,"argument-error"),Xe._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return cs.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return cs.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:E,oauthTokenSecret:T,pendingToken:O,nonce:Q,providerId:ge}=p;if(!E&&!T&&!g&&!O||!ge)return null;try{return new cs(ge)._credential({idToken:g,accessToken:E,nonce:Q,pendingToken:O})}catch{return null}}}let Xc=(()=>{class w extends mi{constructor(){super("facebook.com")}static credential(g){return Xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return w.credential(g.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Ys=(()=>{class w extends mi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,E){return Xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:E})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:E,oauthAccessToken:T}=g;if(!E&&!T)return null;try{return w.credential(E,T)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Es=(()=>{class w extends mi{constructor(){super("github.com")}static credential(g){return Xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return w.credential(g.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class F extends ${constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Qi(p,this.buildRequest())}_linkToIdToken(p,g){const E=this.buildRequest();return E.idToken=g,Qi(p,E)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Qi(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:T,pendingToken:O}=g;return E&&T&&O&&E===T?new F(E,O):null}static _create(p,g){return new F(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class pe extends ji{constructor(p){k(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return pe.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return pe.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=F.fromJSON(p);return k(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:E}=p;if(!g||!E)return null;try{return F._create(E,g)}catch{return null}}}let Pe=(()=>{class w extends mi{constructor(){super("twitter.com")}static credential(g,E){return Xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:E})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:E,oauthTokenSecret:T}=g;if(!E||!T)return null;try{return w.credential(E,T)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function We(w,p){return et.apply(this,arguments)}function et(){return(et=(0,h.Z)(function*(w,p){return Zt(w,"POST","/v1/accounts:signUp",oe(w,p))})).apply(this,arguments)}class Dt{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,E,T=!1){return(0,h.Z)(function*(){const O=yield W._fromIdTokenResponse(p,E,T),Q=Ft(E);return new Dt({user:O,providerId:Q,_tokenResponse:E,operationType:g})})()}static _forOperation(p,g,E){return(0,h.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const T=Ft(E);return new Dt({user:p,providerId:T,_tokenResponse:E,operationType:g})})()}}function Ft(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Wt(w){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,h.Z)(function*(w){var p;const g=Xn(w);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new Dt({user:g.currentUser,providerId:null,operationType:"signIn"});const E=yield We(g,{returnSecureToken:!0}),T=yield Dt._fromIdTokenResponse(g,"signIn",E,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class Ur extends U.ZR{constructor(p,g,E,T){var O;super(g.code,g.message),this.operationType=E,this.user=T,Object.setPrototypeOf(this,Ur.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:g.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,g,E,T){return new Ur(p,g,E,T)}}function Yn(w,p,g,E){return("reauthenticate"===p?g._getReauthenticationResolver(w):g._getIdTokenResponse(w)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Ur._fromErrorAndOperation(w,O,p,E):O})}function Mn(w){return new Set(w.map(({providerId:p})=>p).filter(p=>!!p))}function To(w,p){return Ji.apply(this,arguments)}function Ji(){return Ji=(0,h.Z)(function*(w,p){const g=(0,U.m9)(w);yield Ii(!0,g,p);const{providerUserInfo:E}=yield function _n(w,p){return Rn.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),T=Mn(E||[]);return g.providerData=g.providerData.filter(O=>T.has(O.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Ji.apply(this,arguments)}function Is(w,p){return ar.apply(this,arguments)}function ar(){return(ar=(0,h.Z)(function*(w,p,g=!1){const E=yield Rt(w,p._linkToIdToken(w.auth,yield w.getIdToken()),g);return Dt._forOperation(w,"link",E)})).apply(this,arguments)}function Ii(w,p,g){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,h.Z)(function*(w,p,g){yield Pr(p);const T=!1===w?"provider-already-linked":"no-such-provider";k(Mn(p.providerData).has(g)===w,p.auth,T)})).apply(this,arguments)}function _p(w,p){return Ny.apply(this,arguments)}function Ny(){return(Ny=(0,h.Z)(function*(w,p,g=!1){const{auth:E}=w,T="reauthenticate";try{const O=yield Rt(w,Yn(E,T,p,w),g);k(O.idToken,E,"internal-error");const Q=Ct(O.idToken);k(Q,E,"internal-error");const{sub:ge}=Q;return k(w.uid===ge,E,"user-mismatch"),Dt._forOperation(w,T,O)}catch(O){throw"auth/user-not-found"===O?.code&&ee(E,"user-mismatch"),O}})).apply(this,arguments)}function Ry(w,p){return nh.apply(this,arguments)}function nh(){return(nh=(0,h.Z)(function*(w,p,g=!1){const E="signIn",T=yield Yn(w,E,p),O=yield Dt._fromIdTokenResponse(w,E,T);return g||(yield w._updateCurrentUser(O.user)),O})).apply(this,arguments)}function rh(w,p){return wp.apply(this,arguments)}function wp(){return(wp=(0,h.Z)(function*(w,p){return Ry(Xn(w),p)})).apply(this,arguments)}function pE(w,p){return ky.apply(this,arguments)}function ky(){return(ky=(0,h.Z)(function*(w,p){const g=(0,U.m9)(w);return yield Ii(!1,g,p.providerId),Is(g,p)})).apply(this,arguments)}function vr(w,p){return Fy.apply(this,arguments)}function Fy(){return(Fy=(0,h.Z)(function*(w,p){return _p((0,U.m9)(w),p)})).apply(this,arguments)}function Ly(){return(Ly=(0,h.Z)(function*(w,p){return Zt(w,"POST","/v1/accounts:signInWithCustomToken",oe(w,p))})).apply(this,arguments)}function ET(w,p){return Vy.apply(this,arguments)}function Vy(){return Vy=(0,h.Z)(function*(w,p){const g=Xn(w),E=yield function wT(w,p){return Ly.apply(this,arguments)}(g,{token:p,returnSecureToken:!0}),T=yield Dt._fromIdTokenResponse(g,"signIn",E);return yield g._updateCurrentUser(T.user),T}),Vy.apply(this,arguments)}class ih{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Uy._fromServerResponse(p,g):"totpInfo"in g?el._fromServerResponse(p,g):ee(p,"internal-error")}}class Uy extends ih{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Uy(g)}}class el extends ih{constructor(p){super("totp",p)}static _fromServerResponse(p,g){return new el(g)}}function za(w,p,g){var E;k((null===(E=g.url)||void 0===E?void 0:E.length)>0,w,"invalid-continue-uri"),k(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(k(g.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(k(g.android.packageName.length>0,w,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function IT(w,p,g){return By.apply(this,arguments)}function By(){return By=(0,h.Z)(function*(w,p,g){var E;const T=Xn(w),O={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=T._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const Q=yield gi(T,O,"getOobCode",!0);g&&za(T,Q,g),yield Ba(T,Q)}else g&&za(T,O,g),yield Ba(T,O).catch(function(){var Q=(0,h.Z)(function*(ge){if("auth/missing-recaptcha-token"!==ge.code)return Promise.reject(ge);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Je=yield gi(T,O,"getOobCode",!0);g&&za(T,Je,g),yield Ba(T,Je)}});return function(ge){return Q.apply(this,arguments)}}())}),By.apply(this,arguments)}function jy(w,p,g){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,h.Z)(function*(w,p,g){yield re((0,U.m9)(w),{oobCode:p,newPassword:g})})).apply(this,arguments)}function So(w,p){return tl.apply(this,arguments)}function tl(){return tl=(0,h.Z)(function*(w,p){yield function In(w,p){return en.apply(this,arguments)}((0,U.m9)(w),{oobCode:p})}),tl.apply(this,arguments)}function Wu(w,p){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,h.Z)(function*(w,p){const g=(0,U.m9)(w),E=yield re(g,{oobCode:p}),T=E.requestType;switch(k(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":k(E.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":k(E.mfaInfo,g,"internal-error");default:k(E.email,g,"internal-error")}let O=null;return E.mfaInfo&&(O=ih._fromServerResponse(Xn(g),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:O},operation:T}})).apply(this,arguments)}function sh(w,p){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,h.Z)(function*(w,p){const{data:g}=yield Wu((0,U.m9)(w),p);return g.email})).apply(this,arguments)}function oh(w,p,g){return ah.apply(this,arguments)}function ah(){return ah=(0,h.Z)(function*(w,p,g){var E;const T=Xn(w),O={returnSecureToken:!0,email:p,password:g,clientType:"CLIENT_TYPE_WEB"};let Q;if(null!==(E=T._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const rt=yield gi(T,O,"signUpPassword");Q=We(T,rt)}else Q=We(T,O).catch(function(){var rt=(0,h.Z)(function*(Tt){if("auth/missing-recaptcha-token"===Tt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Dn=yield gi(T,O,"signUpPassword");return We(T,Dn)}return Promise.reject(Tt)});return function(Tt){return rt.apply(this,arguments)}}());const ge=yield Q.catch(rt=>Promise.reject(rt)),Je=yield Dt._fromIdTokenResponse(T,"signIn",ge);return yield T._updateCurrentUser(Je.user),Je}),ah.apply(this,arguments)}function $y(w,p,g){return rh((0,U.m9)(w),Bi.credential(p,g))}function Ep(w,p,g){return qa.apply(this,arguments)}function qa(){return qa=(0,h.Z)(function*(w,p,g){var E;const T=Xn(w),O={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function Q(ge,Je){k(Je.handleCodeInApp,T,"argument-error"),Je&&za(T,ge,Je)}if(null!==(E=T._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const ge=yield gi(T,O,"getOobCode",!0);Q(ge,g),yield $a(T,ge)}else Q(O,g),yield $a(T,O).catch(function(){var ge=(0,h.Z)(function*(Je){if("auth/missing-recaptcha-token"!==Je.code)return Promise.reject(Je);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const rt=yield gi(T,O,"getOobCode",!0);Q(rt,g),yield $a(T,rt)}});return function(Je){return ge.apply(this,arguments)}}())}),qa.apply(this,arguments)}function Hy(w,p){const g=br.parseLink(p);return"EMAIL_SIGNIN"===g?.operation}function Ip(w,p,g){return nl.apply(this,arguments)}function nl(){return(nl=(0,h.Z)(function*(w,p,g){const E=(0,U.m9)(w),T=Bi.credentialWithLink(p,g||st());return k(T._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),rh(E,T)})).apply(this,arguments)}function uh(){return(uh=(0,h.Z)(function*(w,p){return Se(w,"POST","/v1/accounts:createAuthUri",oe(w,p))})).apply(this,arguments)}function zy(w,p){return Zu.apply(this,arguments)}function Zu(){return Zu=(0,h.Z)(function*(w,p){const E={identifier:p,continueUri:Lt()?st():"http://localhost"},{signinMethods:T}=yield function Gy(w,p){return uh.apply(this,arguments)}((0,U.m9)(w),E);return T||[]}),Zu.apply(this,arguments)}function rl(w,p){return Ao.apply(this,arguments)}function Ao(){return Ao=(0,h.Z)(function*(w,p){const g=(0,U.m9)(w),T={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};p&&za(g.auth,T,p);const{email:O}=yield function ca(w,p){return qu.apply(this,arguments)}(g.auth,T);O!==w.email&&(yield w.reload())}),Ao.apply(this,arguments)}function qy(w,p,g){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,h.Z)(function*(w,p,g){const E=(0,U.m9)(w),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:p};g&&za(E.auth,O,g);const{email:Q}=yield function Vr(w,p){return qr.apply(this,arguments)}(E.auth,O);Q!==w.email&&(yield w.reload())}),Cp.apply(this,arguments)}function Wy(){return(Wy=(0,h.Z)(function*(w,p){return Se(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function mE(w,p){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,h.Z)(function*(w,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const E=(0,U.m9)(w),O={idToken:yield E.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},Q=yield Rt(E,function gE(w,p){return Wy.apply(this,arguments)}(E.auth,O));E.displayName=Q.displayName||null,E.photoURL=Q.photoUrl||null;const ge=E.providerData.find(({providerId:Je})=>"password"===Je);ge&&(ge.displayName=E.displayName,ge.photoURL=E.photoURL),yield E._updateTokensIfNecessary(Q)}),Dp.apply(this,arguments)}function CT(w,p){return ch((0,U.m9)(w),p,null)}function Zy(w,p){return ch((0,U.m9)(w),null,p)}function ch(w,p,g){return bp.apply(this,arguments)}function bp(){return(bp=(0,h.Z)(function*(w,p,g){const{auth:E}=w,O={idToken:yield w.getIdToken(),returnSecureToken:!0};p&&(O.email=p),g&&(O.password=g);const Q=yield Rt(w,gt(E,O));yield w._updateTokensIfNecessary(Q,!0)})).apply(this,arguments)}class il{constructor(p,g,E={}){this.isNewUser=p,this.providerId=g,this.profile=E}}class yE extends il{constructor(p,g,E,T){super(p,g,E),this.username=T}}class sl extends il{constructor(p,g){super(p,"facebook.com",g)}}class Ky extends yE{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Sp extends il{constructor(p,g){super(p,"google.com",g)}}class lh extends yE{constructor(p,g,E){super(p,"twitter.com",g,E)}}function Ku(w){const{user:p,_tokenResponse:g}=w;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Tp(w){var p,g;if(!w)return null;const{providerId:E}=w,T=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},O=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!E&&w?.idToken){const Q=null===(g=null===(p=Ct(w.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(Q)return new il(O,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!E)return null;switch(E){case"facebook.com":return new sl(O,T);case"github.com":return new Ky(O,T);case"google.com":return new Sp(O,T);case"twitter.com":return new lh(O,T,w.screenName||null);case"custom":case"anonymous":return new il(O,null);default:return new il(O,E,T)}}(g)}class Js{constructor(p,g,E){this.type=p,this.credential=g,this.auth=E}static _fromIdtoken(p,g){return new Js("enroll",p,g)}static _fromMfaPendingCredential(p){return new Js("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,E;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Js._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(E=p.multiFactorSession)&&void 0!==E&&E.idToken)return Js._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Wa{constructor(p,g,E){this.session=p,this.hints=g,this.signInResolver=E}static _fromError(p,g){const E=Xn(p),T=g.customData._serverResponse,O=(T.mfaInfo||[]).map(ge=>ih._fromServerResponse(E,ge));k(T.mfaPendingCredential,E,"internal-error");const Q=Js._fromMfaPendingCredential(T.mfaPendingCredential);return new Wa(Q,O,function(){var ge=(0,h.Z)(function*(Je){const rt=yield Je._process(E,Q);delete T.mfaInfo,delete T.mfaPendingCredential;const Tt=Object.assign(Object.assign({},T),{idToken:rt.idToken,refreshToken:rt.refreshToken});switch(g.operationType){case"signIn":const Dn=yield Dt._fromIdTokenResponse(E,g.operationType,Tt);return yield E._updateCurrentUser(Dn.user),Dn;case"reauthenticate":return k(g.user,E,"internal-error"),Dt._forOperation(g.user,g.operationType,Tt);default:ee(E,"internal-error")}});return function(Je){return ge.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,h.Z)(function*(){return g.signInResolver(p)})()}}function ph(w,p){var g;const E=(0,U.m9)(w),T=p;return k(p.customData.operationType,E,"argument-error"),k(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,E,"argument-error"),Wa._fromError(E,T)}class al{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(E=>ih._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new al(p)}getSession(){var p=this;return(0,h.Z)(function*(){return Js._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var E=this;return(0,h.Z)(function*(){const T=p,O=yield E.getSession(),Q=yield Rt(E.user,T._process(E.user.auth,O,g));return yield E.user._updateTokensIfNecessary(Q),E.user.reload()})()}unenroll(p){var g=this;return(0,h.Z)(function*(){const E="string"==typeof p?p:p.uid,T=yield g.user.getIdToken();try{const O=yield Rt(g.user,function Mp(w,p){return Se(w,"POST","/v2/accounts/mfaEnrollment:withdraw",oe(w,p))}(g.user.auth,{idToken:T,mfaEnrollmentId:E}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Q})=>Q!==E),yield g.user._updateTokensIfNecessary(O),yield g.user.reload()}catch(O){throw O}})()}}const $n=new WeakMap;function ul(w){const p=(0,U.m9)(w);return $n.has(p)||$n.set(p,al._fromUser(p)),$n.get(p)}const Xs="__sak";class Di{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Xs,"1"),this.storage.removeItem(Xs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const yh=(()=>{class w extends Di{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,E)=>this.onStorageEvent(g,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function EE(){const w=(0,U.z$)();return R(w)||ot(w)}()&&function yr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Yt(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const E of Object.keys(this.listeners)){const T=this.storage.getItem(E),O=this.localCache[E];T!==O&&g(E,O,T)}}onStorageEvent(g,E=!1){if(!g.key)return void this.forAllChangedKeys((ge,Je,rt)=>{this.notifyListeners(ge,rt)});const T=g.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ge=this.storage.getItem(T);if(g.newValue!==ge)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!E)return}const O=()=>{const ge=this.storage.getItem(T);!E&&this.localCache[T]===ge||this.notifyListeners(T,ge)},Q=this.storage.getItem(T);!function wn(){return(0,U.w1)()&&10===document.documentMode}()||Q===g.newValue||g.newValue===g.oldValue?O():setTimeout(O,10)}notifyListeners(g,E){this.localCache[g]=E;const T=this.listeners[g];if(T)for(const O of Array.from(T))O(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,E,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:E,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,E){var T=()=>super._set,O=this;return(0,h.Z)(function*(){yield T().call(O,g,E),O.localCache[g]=JSON.stringify(E)})()}_get(g){var E=()=>super._get,T=this;return(0,h.Z)(function*(){const O=yield E().call(T,g);return T.localCache[g]=JSON.stringify(O),O})()}_remove(g){var E=()=>super._remove,T=this;return(0,h.Z)(function*(){yield E().call(T,g),delete T.localCache[g]})()}}return w.type="LOCAL",w})(),cl=(()=>{class w extends Di{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,E){}_removeListener(g,E){}}return w.type="SESSION",w})();let xp=(()=>{class w{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const E=this.receivers.find(O=>O.isListeningto(g));if(E)return E;const T=new w(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var E=this;return(0,h.Z)(function*(){const T=g,{eventId:O,eventType:Q,data:ge}=T.data,Je=E.handlersMap[Q];if(!Je?.size)return;T.ports[0].postMessage({status:"ack",eventId:O,eventType:Q});const rt=Array.from(Je).map(function(){var Dn=(0,h.Z)(function*(yi){return yi(T.origin,ge)});return function(yi){return Dn.apply(this,arguments)}}()),Tt=yield function Mo(w){return Promise.all(w.map(function(){var p=(0,h.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(E){return{fulfilled:!1,reason:E}}});return function(g){return p.apply(this,arguments)}}()))}(rt);T.ports[0].postMessage({status:"done",eventId:O,eventType:Q,response:Tt})})()}_subscribe(g,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(E)}_unsubscribe(g,E){this.handlersMap[g]&&E&&this.handlersMap[g].delete(E),(!E||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Yu(w="",p=10){let g="";for(let E=0;E<p;E++)g+=Math.floor(10*Math.random());return w+g}class ev{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,E=50){var T=this;return(0,h.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let Q,ge;return new Promise((Je,rt)=>{const Tt=Yu("",20);O.port1.start();const Dn=setTimeout(()=>{rt(new Error("unsupported_event"))},E);ge={messageChannel:O,onMessage(yi){const hs=yi;if(hs.data.eventId===Tt)switch(hs.data.status){case"ack":clearTimeout(Dn),Q=setTimeout(()=>{rt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),Je(hs.data.response);break;default:clearTimeout(Dn),clearTimeout(Q),rt(new Error("invalid_response"))}}},T.handlers.add(ge),O.port1.addEventListener("message",ge.onMessage),T.target.postMessage({eventType:p,eventId:Tt,data:g},[O.port2])}).finally(()=>{ge&&T.removeMessageHandler(ge)})})()}}function kr(){return window}function Op(){return typeof kr().WorkerGlobalScope<"u"&&"function"==typeof kr().importScripts}function ll(){return(ll=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Np="firebaseLocalStorageDb",Ka="firebaseLocalStorage",xo="fbase_key";class Qu{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function _h(w,p){return w.transaction([Ka],p?"readwrite":"readonly").objectStore(Ka)}function Rp(){const w=indexedDB.open(Np,1);return new Promise((p,g)=>{w.addEventListener("error",()=>{g(w.error)}),w.addEventListener("upgradeneeded",()=>{const E=w.result;try{E.createObjectStore(Ka,{keyPath:xo})}catch(T){g(T)}}),w.addEventListener("success",(0,h.Z)(function*(){const E=w.result;E.objectStoreNames.contains(Ka)?p(E):(E.close(),yield function nv(){const w=indexedDB.deleteDatabase(Np);return new Qu(w).toPromise()}(),p(yield Rp()))}))})}function kp(w,p,g){return Le.apply(this,arguments)}function Le(){return(Le=(0,h.Z)(function*(w,p,g){const E=_h(w,!0).put({[xo]:p,value:g});return new Qu(E).toPromise()})).apply(this,arguments)}function Cs(){return(Cs=(0,h.Z)(function*(w,p){const g=_h(w,!1).get(p),E=yield new Qu(g).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function wh(w,p){const g=_h(w,!0).delete(p);return new Qu(g).toPromise()}const $s=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,h.Z)(function*(){return g.db||(g.db=yield Rp()),g.db})()}_withRetries(g){var E=this;return(0,h.Z)(function*(){let T=0;for(;;)try{const O=yield E._openDb();return yield g(O)}catch(O){if(T++>3)throw O;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,h.Z)(function*(){return Op()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,h.Z)(function*(){g.receiver=xp._getInstance(function Pp(){return Op()?self:null}()),g.receiver._subscribe("keyChanged",function(){var E=(0,h.Z)(function*(T,O){return{keyProcessed:(yield g._poll()).includes(O.key)}});return function(T,O){return E.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var E=(0,h.Z)(function*(T,O){return["keyChanged"]});return function(T,O){return E.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,h.Z)(function*(){var E,T;if(g.activeServiceWorker=yield function zt(){return ll.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new ev(g.activeServiceWorker);const O=yield g.sender._send("ping",{},800);O&&null!==(E=O[0])&&void 0!==E&&E.fulfilled&&null!==(T=O[0])&&void 0!==T&&T.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var E=this;return(0,h.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function CE(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:g},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Rp();return yield kp(g,Xs,"1"),yield wh(g,Xs),!0}catch{}return!1})()}_withPendingWrite(g){var E=this;return(0,h.Z)(function*(){E.pendingWrites++;try{yield g()}finally{E.pendingWrites--}})()}_set(g,E){var T=this;return(0,h.Z)(function*(){return T._withPendingWrite((0,h.Z)(function*(){return yield T._withRetries(O=>kp(O,g,E)),T.localCache[g]=E,T.notifyServiceWorker(g)}))})()}_get(g){var E=this;return(0,h.Z)(function*(){const T=yield E._withRetries(O=>function Sn(w,p){return Cs.apply(this,arguments)}(O,g));return E.localCache[g]=T,T})()}_remove(g){var E=this;return(0,h.Z)(function*(){return E._withPendingWrite((0,h.Z)(function*(){return yield E._withRetries(T=>wh(T,g)),delete E.localCache[g],E.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,h.Z)(function*(){const E=yield g._withRetries(Q=>{const ge=_h(Q,!1).getAll();return new Qu(ge).toPromise()});if(!E)return[];if(0!==g.pendingWrites)return[];const T=[],O=new Set;for(const{fbase_key:Q,value:ge}of E)O.add(Q),JSON.stringify(g.localCache[Q])!==JSON.stringify(ge)&&(g.notifyListeners(Q,ge),T.push(Q));for(const Q of Object.keys(g.localCache))g.localCache[Q]&&!O.has(Q)&&(g.notifyListeners(Q,null),T.push(Q));return T})()}notifyListeners(g,E){this.localCache[g]=E;const T=this.listeners[g];if(T)for(const O of Array.from(T))O(E)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),ai=1e12;class Oo{constructor(p){this.auth=p,this.counter=ai,this._widgets=new Map}render(p,g){const E=this.counter;return this._widgets.set(E,new sv(p,this.auth.name,g||{})),this.counter++,E}reset(p){var g;const E=p||ai;null===(g=this._widgets.get(E))||void 0===g||g.delete(),this._widgets.delete(E)}getResponse(p){var g;return(null===(g=this._widgets.get(p||ai))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,h.Z)(function*(){var E;return null===(E=g._widgets.get(p||ai))||void 0===E||E.execute(),""})()}}class sv{constructor(p,g,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof p?document.getElementById(p):p;k(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Xu(w){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<w;E++)p.push(g.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Hs=Nr("rcb"),DE=new Jt(3e4,6e4);class Up{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=kr().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return k(function bE(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(g),p,"argument-error"),this.shouldResolveImmediately(g)&&lt(kr().grecaptcha)?Promise.resolve(kr().grecaptcha):new Promise((E,T)=>{const O=kr().setTimeout(()=>{T(Te(p,"network-request-failed"))},DE.get());kr()[Hs]=()=>{kr().clearTimeout(O),delete kr()[Hs];const ge=kr().grecaptcha;if(!ge||!lt(ge))return void T(Te(p,"internal-error"));const Je=ge.render;ge.render=(rt,Tt)=>{const Dn=Je(rt,Tt);return this.counter++,Dn},this.hostLanguage=g,E(ge)},Ki(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:Hs,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(O),T(Te(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=kr().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Bp{load(p){return(0,h.Z)(function*(){return new Oo(p)})()}clearedOneInstance(){}}const Eh="recaptcha",ov={theme:"light",type:"image"};class jp{constructor(p,g=Object.assign({},ov),E){this.parameters=g,this.type=Eh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Xn(E),this.isInvisible="invisible"===this.parameters.size,k(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof p?document.getElementById(p):p;k(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Bp:new Up,this.validateStartingState()}verify(){var p=this;return(0,h.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(g)||new Promise(O=>{const Q=ge=>{ge&&(p.tokenChangeListeners.delete(Q),O(ge))};p.tokenChangeListeners.add(Q),p.isInvisible&&E.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){k(!this.parameters.sitekey,this.auth,"argument-error"),k(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),k(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(E=>E(g)),"function"==typeof p)p(g);else if("string"==typeof p){const E=kr()[p];"function"==typeof E&&E(g)}}}assertNotDestroyed(){k(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,h.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const E=document.createElement("div");g.appendChild(E),g=E}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,h.Z)(function*(){k(Lt()&&!Op(),p.auth,"internal-error"),yield function TE(){let w=null;return new Promise(p=>{"complete"!==document.readyState?(w=()=>p(),window.addEventListener("load",w)):p()}).catch(p=>{throw w&&window.removeEventListener("load",w),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function de(w){return nt.apply(this,arguments)}(p.auth);k(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return k(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ih{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=kt._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function bi(w,p,g){return Po.apply(this,arguments)}function Po(){return(Po=(0,h.Z)(function*(w,p,g){const E=Xn(w),T=yield hl(E,p,(0,U.m9)(g));return new Ih(T,O=>rh(E,O))})).apply(this,arguments)}function $p(w,p,g){return er.apply(this,arguments)}function er(){return(er=(0,h.Z)(function*(w,p,g){const E=(0,U.m9)(w);yield Ii(!1,E,"phone");const T=yield hl(E.auth,p,(0,U.m9)(g));return new Ih(T,O=>pE(E,O))})).apply(this,arguments)}function Pt(w,p,g){return ui.apply(this,arguments)}function ui(){return(ui=(0,h.Z)(function*(w,p,g){const E=(0,U.m9)(w),T=yield hl(E.auth,p,(0,U.m9)(g));return new Ih(T,O=>vr(E,O))})).apply(this,arguments)}function hl(w,p,g){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,h.Z)(function*(w,p,g){var E;const T=yield g.verify();try{let O;if(k("string"==typeof T,w,"argument-error"),k(g.type===Eh,w,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const Q=O.session;if("phoneNumber"in O)return k("enroll"===Q.type,w,"internal-error"),(yield function Xy(w,p){return Se(w,"POST","/v2/accounts/mfaEnrollment:start",oe(w,p))}(w,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{k("signin"===Q.type,w,"internal-error");const ge=(null===(E=O.multiFactorHint)||void 0===E?void 0:E.uid)||O.multiFactorUid;return k(ge,w,"missing-multi-factor-info"),(yield function Fp(w,p){return Se(w,"POST","/v2/accounts/mfaSignIn:start",oe(w,p))}(w,{mfaPendingCredential:Q.credential,mfaEnrollmentId:ge,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield function qt(w,p){return Bn.apply(this,arguments)}(w,{phoneNumber:O.phoneNumber,recaptchaToken:T});return Q}}finally{g._reset()}}),Ch.apply(this,arguments)}function Ti(w,p){return eo.apply(this,arguments)}function eo(){return(eo=(0,h.Z)(function*(w,p){yield Is((0,U.m9)(w),p)})).apply(this,arguments)}let ur=(()=>{class w{constructor(g){this.providerId=w.PROVIDER_ID,this.auth=Xn(g)}verifyPhoneNumber(g,E){return hl(this.auth,g,(0,U.m9)(E))}static credential(g,E){return kt._fromVerification(g,E)}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:E,temporaryProof:T}=g;return E&&T?kt._fromTokenResponse(E,T):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function No(w,p){return p?He(p):(k(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class ha extends ${constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Qi(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Qi(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Qi(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Qt(w){return Ry(w.auth,new ha(w),w.bypassAuthState)}function av(w){const{auth:p,user:g}=w;return k(g,p,"internal-error"),_p(g,new ha(w),w.bypassAuthState)}function Hp(w){return ec.apply(this,arguments)}function ec(){return(ec=(0,h.Z)(function*(w){const{auth:p,user:g}=w;return k(g,p,"internal-error"),Is(g,new ha(w),w.bypassAuthState)})).apply(this,arguments)}class to{constructor(p,g,E,T,O=!1){this.auth=p,this.resolver=E,this.user=T,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,h.Z)(function*(E,T){p.pendingPromise={resolve:E,reject:T};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(E,T){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,h.Z)(function*(){const{urlResponse:E,sessionId:T,postBody:O,tenantId:Q,error:ge,type:Je}=p;if(ge)return void g.reject(ge);const rt={auth:g.auth,requestUri:E,sessionId:T,tenantId:Q||void 0,postBody:O||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Je)(rt))}catch(Tt){g.reject(Tt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Qt;case"linkViaPopup":case"linkViaRedirect":return Hp;case"reauthViaPopup":case"reauthViaRedirect":return av;default:ee(this.auth,"internal-error")}}resolve(p){De(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){De(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const no=new Jt(2e3,1e4);function Si(w,p,g){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,h.Z)(function*(w,p,g){const E=Xn(w);Me(w,p,ji);const T=No(E,g);return new fa(E,"signInViaPopup",p,T).executeNotNull()})).apply(this,arguments)}function Qa(w,p,g){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,h.Z)(function*(w,p,g){const E=(0,U.m9)(w);Me(E.auth,p,ji);const T=No(E.auth,g);return new fa(E.auth,"reauthViaPopup",p,T,E).executeNotNull()})).apply(this,arguments)}function fl(w,p,g){return pl.apply(this,arguments)}function pl(){return(pl=(0,h.Z)(function*(w,p,g){const E=(0,U.m9)(w);Me(E.auth,p,ji);const T=No(E.auth,g);return new fa(E.auth,"linkViaPopup",p,T,E).executeNotNull()})).apply(this,arguments)}let fa=(()=>{class w extends to{constructor(g,E,T,O,Q){super(g,E,O,Q),this.provider=T,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var g=this;return(0,h.Z)(function*(){const E=yield g.execute();return k(E,g.auth,"internal-error"),E})()}onExecution(){var g=this;return(0,h.Z)(function*(){De(1===g.filter.length,"Popup operations only handle one event");const E=Yu();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],E),g.authWindow.associatedEvent=E,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(Te(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const g=()=>{var E,T;this.pollId=null!==(T=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Te(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,no.get())};g()}}return w.currentPopupAction=null,w})();const tc="pendingRedirect",Gs=new Map;class Ro extends to{constructor(p,g,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,h.Z)(function*(){let E=Gs.get(g.auth._key());if(!E){try{const O=(yield function nc(w,p){return Dh.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;E=()=>Promise.resolve(O)}catch(T){E=()=>Promise.reject(T)}Gs.set(g.auth._key(),E)}return g.bypassAuthState||Gs.set(g.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,E=this;return(0,h.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(E,p);if("unknown"!==p.type){if(p.eventId){const T=yield E.auth._redirectUserForId(p.eventId);if(T)return E.user=T,g().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function Dh(){return(Dh=(0,h.Z)(function*(w,p){const g=bh(p),E=Hi(w);if(!(yield E._isAvailable()))return!1;const T="true"===(yield E._get(g));return yield E._remove(g),T})).apply(this,arguments)}function rc(w,p){return pa.apply(this,arguments)}function pa(){return(pa=(0,h.Z)(function*(w,p){return Hi(w)._set(bh(p),"true")})).apply(this,arguments)}function ro(){Gs.clear()}function gl(w,p){Gs.set(w._key(),p)}function Hi(w){return He(w._redirectPersistence)}function bh(w){return gn(tc,w.config.apiKey,w.name)}function ml(w,p,g){return function Xi(w,p,g){return Hn.apply(this,arguments)}(w,p,g)}function Hn(){return(Hn=(0,h.Z)(function*(w,p,g){const E=Xn(w);Me(w,p,ji),yield E._initializationPromise;const T=No(E,g);return yield rc(T,E),T._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function Kr(w,p,g){return function Xa(w,p,g){return ci.apply(this,arguments)}(w,p,g)}function ci(){return(ci=(0,h.Z)(function*(w,p,g){const E=(0,U.m9)(w);Me(E.auth,p,ji),yield E.auth._initializationPromise;const T=No(E.auth,g);yield rc(T,E.auth);const O=yield ls(E);return T._openRedirect(E.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function Ai(w,p,g){return function eu(w,p,g){return ic.apply(this,arguments)}(w,p,g)}function ic(){return(ic=(0,h.Z)(function*(w,p,g){const E=(0,U.m9)(w);Me(E.auth,p,ji),yield E.auth._initializationPromise;const T=No(E.auth,g);yield Ii(!1,E,p.providerId),yield rc(T,E.auth);const O=yield ls(E);return T._openRedirect(E.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function uv(w,p){return Br.apply(this,arguments)}function Br(){return(Br=(0,h.Z)(function*(w,p){return yield Xn(w)._initializationPromise,ko(w,p,!1)})).apply(this,arguments)}function ko(w,p){return _r.apply(this,arguments)}function _r(){return(_r=(0,h.Z)(function*(w,p,g=!1){const E=Xn(w),T=No(E,p),Q=yield new Ro(E,T,g).execute();return Q&&!g&&(delete Q.user._redirectEventId,yield E._persistUserIfCurrent(Q.user),yield E._setRedirectUser(null,p)),Q})).apply(this,arguments)}function ls(w){return yl.apply(this,arguments)}function yl(){return(yl=(0,h.Z)(function*(w){const p=Yu(`${w.uid}:::`);return w._redirectEventId=p,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),p})).apply(this,arguments)}class tu{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(g=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function nu(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Th(w);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var E;if(p.error&&!Th(p)){const T=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";g.onError(Te(this.auth,T))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const E=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gp(p))}saveEventToCache(p){this.cachedEventUids.add(Gp(p)),this.lastProcessedEventTime=Date.now()}}function Gp(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(p=>p).join("-")}function Th({type:w,error:p}){return"unknown"===w&&"auth/no-auth-event"===p?.code}function Sh(w){return vl.apply(this,arguments)}function vl(){return(vl=(0,h.Z)(function*(w,p={}){return Se(w,"GET","/v1/projects",p)})).apply(this,arguments)}const on=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fo=/^https?/;function Lo(){return(Lo=(0,h.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:p}=yield Sh(w);for(const g of p)try{if(zp(g))return}catch{}ee(w,"unauthorized-domain")})).apply(this,arguments)}function zp(w){const p=st(),{protocol:g,hostname:E}=new URL(p);if(w.startsWith("chrome-extension://")){const Q=new URL(w);return""===Q.hostname&&""===E?"chrome-extension:"===g&&w.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&Q.hostname===E}if(!Fo.test(g))return!1;if(on.test(w))return E===w;const T=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(E)}const qp=new Jt(3e4,6e4);function Mi(){const w=kr().___jsl;if(w?.H)for(const p of Object.keys(w.H))if(w.H[p].r=w.H[p].r||[],w.H[p].L=w.H[p].L||[],w.H[p].r=[...w.H[p].L],w.CP)for(let g=0;g<w.CP.length;g++)w.CP[g]=null}let jr=null;const Zp=new Jt(5e3,15e3),_l="__/auth/iframe",Kp="emulator/auth/iframe",Yp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ru(w){const p=w.config;k(p.authDomain,w,"auth-domain-config-required");const g=p.emulator?Gn(p,Kp):`https://${w.config.authDomain}/${_l}`,E={apiKey:p.apiKey,appName:w.name,v:N.SDK_VERSION},T=wl.get(w.config.apiHost);T&&(E.eid=T);const O=w._getFrameworks();return O.length&&(E.fw=O.join(",")),`${g}?${(0,U.xO)(E).slice(1)}`}function io(){return io=(0,h.Z)(function*(w){const p=yield function Vo(w){return jr=jr||function Wp(w){return new Promise((p,g)=>{var E,T,O;function Q(){Mi(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Mi(),g(Te(w,"network-request-failed"))},timeout:qp.get()})}if(null!==(T=null===(E=kr().gapi)||void 0===E?void 0:E.iframes)&&void 0!==T&&T.Iframe)p(gapi.iframes.getContext());else{if(null===(O=kr().gapi)||void 0===O||!O.load){const ge=Nr("iframefcb");return kr()[ge]=()=>{gapi.load?Q():g(Te(w,"network-request-failed"))},Ki(`https://apis.google.com/js/api.js?onload=${ge}`).catch(Je=>g(Je))}Q()}}).catch(p=>{throw jr=null,p})}(w),jr}(w),g=kr().gapi;return k(g,w,"internal-error"),p.open({where:document.body,url:ru(w),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yp,dontclear:!0},E=>new Promise(function(){var T=(0,h.Z)(function*(O,Q){yield E.restyle({setHideOnLeave:!1});const ge=Te(w,"network-request-failed"),Je=kr().setTimeout(()=>{Q(ge)},Zp.get());function rt(){kr().clearTimeout(Je),O(E)}E.ping(rt).then(rt,()=>{Q(ge)})});return function(O,Q){return T.apply(this,arguments)}}()))}),io.apply(this,arguments)}const sc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class va{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Qp="__/auth/handler",AE="emulator/auth/handler",Ah=encodeURIComponent("fac");function ds(w,p,g,E,T,O){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,h.Z)(function*(w,p,g,E,T,O){k(w.config.authDomain,w,"auth-domain-config-required"),k(w.config.apiKey,w,"invalid-api-key");const Q={apiKey:w.config.apiKey,appName:w.name,authType:g,redirectUrl:E,v:N.SDK_VERSION,eventId:T};if(p instanceof ji){p.setDefaultLanguage(w.languageCode),Q.providerId=p.providerId||"",(0,U.xb)(p.getCustomParameters())||(Q.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Tt,Dn]of Object.entries(O||{}))Q[Tt]=Dn}if(p instanceof mi){const Tt=p.getScopes().filter(Dn=>""!==Dn);Tt.length>0&&(Q.scopes=Tt.join(","))}w.tenantId&&(Q.tid=w.tenantId);const ge=Q;for(const Tt of Object.keys(ge))void 0===ge[Tt]&&delete ge[Tt];const Je=yield w._getAppCheckToken(),rt=Je?`#${Ah}=${encodeURIComponent(Je)}`:"";return`${function Dl({config:w}){return w.emulator?Gn(w,AE):`https://${w.authDomain}/${Qp}`}(w)}?${(0,U.xO)(ge).slice(1)}${rt}`})).apply(this,arguments)}const Sr="webStorageSupport",so=class Mh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cl,this._completeRedirectFn=ko,this._overrideRedirectResult=gl}_openPopup(p,g,E,T){var O=this;return(0,h.Z)(function*(){var Q;De(null===(Q=O.eventManagers[p._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const ge=yield ds(p,g,E,st(),T);return function SE(w,p,g,E=500,T=600){const O=Math.max((window.screen.availHeight-T)/2,0).toString(),Q=Math.max((window.screen.availWidth-E)/2,0).toString();let ge="";const Je=Object.assign(Object.assign({},sc),{width:E.toString(),height:T.toString(),top:O,left:Q}),rt=(0,U.z$)().toLowerCase();g&&(ge=M(rt)?"_blank":g),P(rt)&&(p=p||"http://localhost",Je.scrollbars="yes");const Tt=Object.entries(Je).reduce((yi,[hs,oo])=>`${yi}${hs}=${oo},`,"");if(function Vt(w=(0,U.z$)()){var p;return ot(w)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(rt)&&"_self"!==ge)return function Il(w,p){const g=document.createElement("a");g.href=w,g.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(E)}(p||"",ge),new va(null);const Dn=window.open(p||"",ge,Tt);k(Dn,w,"popup-blocked");try{Dn.focus()}catch{}return new va(Dn)}(p,ge,Yu())})()}_openRedirect(p,g,E,T){var O=this;return(0,h.Z)(function*(){return yield O._originValidation(p),function vh(w){kr().location.href=w}(yield ds(p,g,E,st(),T)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:T,promise:O}=this.eventManagers[g];return T?Promise.resolve(T):(De(O,"If manager is not set, promise should be"),O)}const E=this.initAndGetManager(p);return this.eventManagers[g]={promise:E},E.catch(()=>{delete this.eventManagers[g]}),E}initAndGetManager(p){var g=this;return(0,h.Z)(function*(){const E=yield function ya(w){return io.apply(this,arguments)}(p),T=new tu(p);return E.register("authEvent",O=>(k(O?.authEvent,p,"invalid-auth-event"),{status:T.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:T},g.iframes[p._key()]=E,T})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Sr,{type:Sr},T=>{var O;const Q=null===(O=T?.[0])||void 0===O?void 0:O[Sr];void 0!==Q&&g(!!Q),ee(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function ma(w){return Lo.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Yt()||R()||ot()}};class Jp{constructor(p){this.factorId=p}_process(p,g,E){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,E);case"signin":return this._finalizeSignIn(p,g.credential);default:return te("unexpected MultiFactorSessionType")}}}class xi extends Jp{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new xi(p)}_finalizeEnroll(p,g,E){return function gh(w,p){return Se(w,"POST","/v2/accounts/mfaEnrollment:finalize",oe(w,p))}(p,{idToken:g,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function Lp(w,p){return Se(w,"POST","/v2/accounts/mfaSignIn:finalize",oe(w,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let iu=(()=>{class w{constructor(){}static assertion(g){return xi._fromCredential(g)}}return w.FACTOR_ID="phone",w})();var dv="@firebase/auth";class ME{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,h.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(E=>{p(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);g&&(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,U.Pz)("authIdTokenMaxAge"),function xh(w){(0,N._registerComponent)(new ve.wA("auth",(p,{options:g})=>{const E=p.getProvider("app").getImmediate(),T=p.getProvider("heartbeat"),O=p.getProvider("app-check-internal"),{apiKey:Q,authDomain:ge}=E.options;k(Q&&!Q.includes(":"),"invalid-api-key",{appName:E.name});const Je={apiKey:Q,authDomain:ge,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:K(w)},rt=new Vs(E,T,O,Je);return function Va(w,p){const g=p?.persistence||[],E=(Array.isArray(g)?g:[g]).map(He);p?.errorMap&&w._updateErrorMap(p.errorMap),w._initializeWithPersistence(E,p?.popupRedirectResolver)}(rt,g),rt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,E)=>{p.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new ve.wA("auth-internal",p=>{const g=Xn(p.getProvider("auth").getImmediate());return new ME(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(dv,"0.23.2",function es(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,N.registerVersion)(dv,"0.23.2","esm2017")}("Browser")},9058:(vt,be,A)=>{A.d(be,{$s:()=>He,BH:()=>ue,G6:()=>Gn,L:()=>he,LL:()=>Ge,Pz:()=>Te,Sg:()=>Me,UG:()=>te,US:()=>ve,ZB:()=>ne,ZR:()=>Se,aH:()=>ee,b$:()=>Lt,eu:()=>fe,hl:()=>ae,jU:()=>De,m9:()=>gn,ne:()=>Rt,pd:()=>Ct,r3:()=>_n,ru:()=>st,tV:()=>V,uI:()=>k,vZ:()=>Vn,w1:()=>Gt,xO:()=>Gr,xb:()=>sr,z$:()=>Be,zI:()=>ce,zd:()=>wt});const Y=function(G){const H=[];let P=0;for(let R=0;R<G.length;R++){let M=G.charCodeAt(R);M<128?H[P++]=M:M<2048?(H[P++]=M>>6|192,H[P++]=63&M|128):55296==(64512&M)&&R+1<G.length&&56320==(64512&G.charCodeAt(R+1))?(M=65536+((1023&M)<<10)+(1023&G.charCodeAt(++R)),H[P++]=M>>18|240,H[P++]=M>>12&63|128,H[P++]=M>>6&63|128,H[P++]=63&M|128):(H[P++]=M>>12|224,H[P++]=M>>6&63|128,H[P++]=63&M|128)}return H},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,H){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const P=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,R=[];for(let M=0;M<G.length;M+=3){const X=G[M],Ne=M+1<G.length,Qe=Ne?G[M+1]:0,xt=M+2<G.length,ot=xt?G[M+2]:0;let wn=(15&Qe)<<2|ot>>6,Yt=63&ot;xt||(Yt=64,Ne||(wn=64)),R.push(P[X>>2],P[(3&X)<<4|Qe>>4],P[wn],P[Yt])}return R.join("")},encodeString(G,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(G):this.encodeByteArray(Y(G),H)},decodeString(G,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(G):function(G){const H=[];let P=0,R=0;for(;P<G.length;){const M=G[P++];if(M<128)H[R++]=String.fromCharCode(M);else if(M>191&&M<224){const X=G[P++];H[R++]=String.fromCharCode((31&M)<<6|63&X)}else if(M>239&&M<365){const xt=((7&M)<<18|(63&G[P++])<<12|(63&G[P++])<<6|63&G[P++])-65536;H[R++]=String.fromCharCode(55296+(xt>>10)),H[R++]=String.fromCharCode(56320+(1023&xt))}else{const X=G[P++],Ne=G[P++];H[R++]=String.fromCharCode((15&M)<<12|(63&X)<<6|63&Ne)}}return H.join("")}(this.decodeStringToByteArray(G,H))},decodeStringToByteArray(G,H){this.init_();const P=H?this.charToByteMapWebSafe_:this.charToByteMap_,R=[];for(let M=0;M<G.length;){const X=P[G.charAt(M++)],Qe=M<G.length?P[G.charAt(M)]:0;++M;const ot=M<G.length?P[G.charAt(M)]:64;++M;const Vt=M<G.length?P[G.charAt(M)]:64;if(++M,null==X||null==Qe||null==ot||null==Vt)throw new _e;R.push(X<<2|Qe>>4),64!==ot&&(R.push(Qe<<4&240|ot>>2),64!==Vt&&R.push(ot<<6&192|Vt))}return R},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class _e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const he=function(G){return function(G){const H=Y(G);return ve.encodeByteArray(H,!0)}(G).replace(/\./g,"")},V=function(G){try{return ve.decodeString(G,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function ne(G,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return H}for(const P in H)!H.hasOwnProperty(P)||!Ue(P)||(G[P]=ne(G[P],H[P]));return G}function Ue(G){return"__proto__"!==G}const Ae=()=>{try{return function Ie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=G&&V(G[1]);return H&&JSON.parse(H)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},ee=()=>{var G;return null===(G=Ae())||void 0===G?void 0:G.config},Te=G=>{var H;return null===(H=Ae())||void 0===H?void 0:H[`_${G}`]};class ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,P)=>{this.resolve=H,this.reject=P})}wrapCallback(H){return(P,R)=>{P?this.reject(P):this.resolve(R),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(P):H(P,R))}}}function Me(G,H){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const R=H||"demo-project",M=G.iat||0,X=G.sub||G.user_id;if(!X)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ne=Object.assign({iss:`https://securetoken.google.com/${R}`,aud:R,iat:M,exp:M+3600,auth_time:M,sub:X,user_id:X,firebase:{sign_in_provider:"custom",identities:{}}},G);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(Ne)),""].join(".")}function Be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function k(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function te(){var G;const H=null===(G=Ae())||void 0===G?void 0:G.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function De(){return"object"==typeof self&&self.self===self}function st(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function Lt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Gt(){const G=Be();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Gn(){return!te()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ae(){try{return"object"==typeof indexedDB}catch{return!1}}function fe(){return new Promise((G,H)=>{try{let P=!0;const R="validate-browser-context-for-indexeddb-analytics-module",M=self.indexedDB.open(R);M.onsuccess=()=>{M.result.close(),P||self.indexedDB.deleteDatabase(R),G(!0)},M.onupgradeneeded=()=>{P=!1},M.onerror=()=>{var X;H((null===(X=M.error)||void 0===X?void 0:X.message)||"")}}catch(P){H(P)}})}function ce(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Se extends Error{constructor(H,P,R){super(P),this.code=H,this.customData=R,this.name="FirebaseError",Object.setPrototypeOf(this,Se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ge.prototype.create)}}class Ge{constructor(H,P,R){this.service=H,this.serviceName=P,this.errors=R}create(H,...P){const R=P[0]||{},M=`${this.service}/${H}`,X=this.errors[H],Ne=X?function tt(G,H){return G.replace(qe,(P,R)=>{const M=H[R];return null!=M?String(M):`<${R}?>`})}(X,R):"Error";return new Se(M,`${this.serviceName}: ${Ne} (${M}).`,R)}}const qe=/\{\$([^}]+)}/g;function _n(G,H){return Object.prototype.hasOwnProperty.call(G,H)}function sr(G){for(const H in G)if(Object.prototype.hasOwnProperty.call(G,H))return!1;return!0}function Vn(G,H){if(G===H)return!0;const P=Object.keys(G),R=Object.keys(H);for(const M of P){if(!R.includes(M))return!1;const X=G[M],Ne=H[M];if(bn(X)&&bn(Ne)){if(!Vn(X,Ne))return!1}else if(X!==Ne)return!1}for(const M of R)if(!P.includes(M))return!1;return!0}function bn(G){return null!==G&&"object"==typeof G}function Gr(G){const H=[];for(const[P,R]of Object.entries(G))Array.isArray(R)?R.forEach(M=>{H.push(encodeURIComponent(P)+"="+encodeURIComponent(M))}):H.push(encodeURIComponent(P)+"="+encodeURIComponent(R));return H.length?"&"+H.join("&"):""}function wt(G){const H={};return G.replace(/^\?/,"").split("&").forEach(R=>{if(R){const[M,X]=R.split("=");H[decodeURIComponent(M)]=decodeURIComponent(X)}}),H}function Ct(G){const H=G.indexOf("?");if(!H)return"";const P=G.indexOf("#",H);return G.substring(H,P>0?P:void 0)}function Rt(G,H){const P=new mr(G,H);return P.subscribe.bind(P)}class mr{constructor(H,P){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=P,this.task.then(()=>{H(this)}).catch(R=>{this.error(R)})}next(H){this.forEachObserver(P=>{P.next(H)})}error(H){this.forEachObserver(P=>{P.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,P,R){let M;if(void 0===H&&void 0===P&&void 0===R)throw new Error("Missing Observer.");M=function Kt(G,H){if("object"!=typeof G||null===G)return!1;for(const P of H)if(P in G&&"function"==typeof G[P])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:P,complete:R},void 0===M.next&&(M.next=pn),void 0===M.error&&(M.error=pn),void 0===M.complete&&(M.complete=pn);const X=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?M.error(this.finalError):M.complete()}catch{}}),this.observers.push(M),X}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let P=0;P<this.observers.length;P++)this.sendOne(P,H)}sendOne(H,P){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{P(this.observers[H])}catch(R){typeof console<"u"&&console.error&&console.error(R)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pn(){}const Un=1e3,me=2,W=144e5,Ee=.5;function He(G,H=Un,P=me){const R=H*Math.pow(P,G),M=Math.round(Ee*R*(Math.random()-.5)*2);return Math.min(W,R+M)}function gn(G){return G&&G._delegate?G._delegate:G}},2128:(vt,be,A)=>{var h=A(5879);let U=null;function N(){return U}class se{}const ve=new h.OlP("DocumentToken");let _e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(he)},providedIn:"platform"})}return n})();const Oe=new h.OlP("Location Initialized");let he=(()=>{class n extends _e{constructor(){super(),this._doc=(0,h.f3M)(ve),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,s){this._history.pushState(t,r,s)}replaceState(t,r,s){this._history.replaceState(t,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function V(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function q(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ne(n){return n&&"?"!==n[0]?"?"+n:n}let Ue=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Ye)},providedIn:"root"})}return n})();const Ie=new h.OlP("appBaseHref");let Ye=(()=>{class n extends Ue{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return V(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ne(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,u){const l=this.prepareExternalUrl(s+ne(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,s,u){const l=this.prepareExternalUrl(s+ne(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(_e),h.LFG(Ie,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ke=(()=>{class n extends Ue{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=V(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,u){let l=this.prepareExternalUrl(s+ne(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,s,u){let l=this.prepareExternalUrl(s+ne(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(_e),h.LFG(Ie,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})(),Ze=(()=>{class n{constructor(t){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function ee(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(q(ft(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ne(r))}normalize(t){return n.stripTrailingSlash(function ht(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,ft(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._locationStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ne(r)),s)}replaceState(t,r="",s=null){this._locationStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ne(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}static#e=this.normalizeQueryParams=ne;static#t=this.joinWithSlash=V;static#n=this.stripTrailingSlash=q;static#r=this.\u0275fac=function(r){return new(r||n)(h.LFG(Ue))};static#i=this.\u0275prov=h.Yz7({token:n,factory:function(){return function Ae(){return new Ze((0,h.LFG)(Ue))}()},providedIn:"root"})}return n})();function ft(n){return n.replace(/\/index.html$/,"")}function ln(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(u)}return null}class _s{constructor(e,t,r,s){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vs=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,s){this._viewContainer=t,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((s,u,l)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new _s(s.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,l),Xn(m,s)}});for(let s=0,u=r.length;s<u;s++){const m=r.get(s).context;m.index=s,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{Xn(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function Xn(n,e){n.context.$implicit=e.item}let Ui=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Va,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Co("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Co("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.s_b),h.Y36(h.Rgc))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Va{constructor(){this.$implicit=null,this.ngIf=null}}function Co(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}function en(n,e){return new h.vHH(2100,!1)}class nr{createSubscription(e,t){return(0,h.rg0)(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){(0,h.rg0)(()=>e.unsubscribe())}}class hr{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const Rr=new hr,us=new nr;let ca=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,h.QGY)(t))return Rr;if((0,h.F4k)(t))return us;throw en()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.sBO,16))};static#t=this.\u0275pipe=h.Yjl({name:"async",type:n,pure:!1,standalone:!0})}return n})(),Wr=(()=>{class n{transform(t,r,s){if(null==t)return null;if(!this.supports(t))throw en();return t.slice(r,s)}supports(t){return"string"==typeof t||Array.isArray(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=h.Yjl({name:"slice",type:n,pure:!1,standalone:!0})}return n})(),fr=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({})}return n})();function br(n){return"server"===n}let mi=(()=>{class n{static#e=this.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new cs((0,h.LFG)(ve),window)})}return n})();class cs{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Xc(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const u=s.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],s-u[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Es{}class Sp extends se{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class lh extends Sp{static makeCurrent(){!function Y(n){U||(U=n)}(new lh)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function vE(){return Ku=Ku||document.querySelector("base"),Ku?Ku.getAttribute("href"):null}();return null==t?null:function Yy(n){dh=dh||document.createElement("a"),dh.setAttribute("href",n);const e=dh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ku=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ln(document.cookie,e)}}let dh,Ku=null,_E=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const Qy=new h.OlP("EventManagerPlugins");let Jy=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(u=>u.supports(t)),!r)throw new h.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Qy),h.LFG(h.R0b))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();class hh{constructor(e){this._doc=e}}const fh="ng-app-id";let ol=(()=>{class n{constructor(t,r,s,u={}){this.doc=t,this.appId=r,this.nonce=s,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=br(u),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(s=>s.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${fh}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(s=>{null!=s.textContent&&r.set(s.textContent,s)}),r}return null}changeUsageCount(t,r){const s=this.styleRef;if(s.has(t)){const u=s.get(t);return u.usage+=r,u.usage}return s.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const s=this.styleNodesInDOM,u=s?.get(r);if(u?.parentNode===t)return s.delete(r),u.removeAttribute(fh),u;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(fh,this.appId),l}}addStyleToHost(t,r){const s=this.getStyleElement(t,r);t.appendChild(s);const u=this.styleRef,l=u.get(r)?.elements;l?l.push(s):u.set(r,{elements:[s],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ve),h.LFG(h.AFp),h.LFG(h.Ojb,8),h.LFG(h.Lbi))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const Js={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Wa=/%COMP%/g,js=new h.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function $n(n,e){return e.map(t=>t.replace(Wa,n))}let ul=(()=>{class n{constructor(t,r,s,u,l,m,v,C=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=u,this.doc=l,this.platformId=m,this.ngZone=v,this.nonce=C,this.rendererByCompId=new Map,this.platformIsServer=br(m),this.defaultRenderer=new Xs(t,l,v,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===h.ifc.ShadowDom&&(r={...r,encapsulation:h.ifc.Emulated});const s=this.getOrCreateRenderer(t,r);return s instanceof yh?s.applyToHost(t):s instanceof $i&&s.applyStyles(),s}getOrCreateRenderer(t,r){const s=this.rendererByCompId;let u=s.get(r.id);if(!u){const l=this.doc,m=this.ngZone,v=this.eventManager,C=this.sharedStylesHost,b=this.removeStylesOnCompDestroy,x=this.platformIsServer;switch(r.encapsulation){case h.ifc.Emulated:u=new yh(v,C,r,this.appId,b,l,m,x);break;case h.ifc.ShadowDom:return new Za(v,C,t,r,l,m,this.nonce,x);default:u=new $i(v,C,r,b,l,m,x)}s.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Jy),h.LFG(ol),h.LFG(h.AFp),h.LFG(js),h.LFG(ve),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(h.Ojb))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();class Xs{constructor(e,t,r,s){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=s,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Js[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(mh(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(mh(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new h.vHH(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const u=Js[s];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=Js[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,s&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=N().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function mh(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Za extends Xs{constructor(e,t,r,s,u,l,m,v){super(e,u,l,v),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const C=$n(s.id,s.styles);for(const b of C){const x=document.createElement("style");m&&x.setAttribute("nonce",m),x.textContent=b,this.shadowRoot.appendChild(x)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class $i extends Xs{constructor(e,t,r,s,u,l,m,v){super(e,u,l,m),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=s,this.styles=v?$n(v,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class yh extends $i{constructor(e,t,r,s,u,l,m,v){const C=s+"-"+r.id;super(e,t,r,u,l,m,v,C),this.contentAttr=function Mp(n){return"_ngcontent-%COMP%".replace(Wa,n)}(C),this.hostAttr=function al(n){return"_nghost-%COMP%".replace(Wa,n)}(C)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let IE=(()=>{class n extends hh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ve))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const cl=["alt","control","meta","shift"],Mo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xp={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Yu=(()=>{class n extends hh{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const u=n._normalizeKey(r.pop());let l="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),l="code."),cl.forEach(C=>{const b=r.indexOf(C);b>-1&&(r.splice(b,1),l+=C+".")}),l+=u,0!=r.length||0===u.length)return null;const v={};return v.domEventName=s,v.fullKey=l,v}static matchEventFullKeyCode(t,r){let s=Mo[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(s=t.code,u="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),cl.forEach(l=>{l!==s&&(0,xp[l])(t)&&(u+=l+".")}),u+=s,u===r)}static eventCallback(t,r,s){return u=>{n.matchEventFullKeyCode(u,t)&&s.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ve))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const Np=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function zt(){lh.makeCurrent()},multi:!0},{provide:ve,useFactory:function CE(){return(0,h.RDi)(document),document},deps:[]}]),tv=new h.OlP(""),Ka=[{provide:h.rWj,useClass:class Ap{addToWindow(e){h.dqk.getAngularTestability=(r,s=!0)=>{const u=e.findTestabilityInTree(r,s);if(null==u)throw new h.vHH(5103,!1);return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const s=h.dqk.getAllAngularTestabilities();let u=s.length,l=!1;const m=function(v){l=l||v,u--,0==u&&r(l)};s.forEach(v=>{v.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],xo=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function ll(){return new h.qLn},deps:[]},{provide:Qy,useClass:IE,multi:!0,deps:[ve,h.R0b,h.Lbi]},{provide:Qy,useClass:Yu,multi:!0,deps:[ve]},ul,ol,Jy,{provide:h.FYo,useExisting:ul},{provide:Es,useClass:_E,deps:[]},[]];let Qu=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(tv,12))};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({providers:[...xo,...Ka],imports:[fr,h.hGG]})}return n})(),Le=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ve))};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(r){let s=null;return s=r?new r:function kp(){return new Le((0,h.LFG)(ve))}(),s},providedIn:"root"})}return n})();typeof window<"u"&&window;var bi=A(5592),Po=A(4674),er=A(2459),Pt=A(2096),ui=A(5619);const{isArray:hl}=Array,{getPrototypeOf:Ch,prototype:Ti,keys:eo}=Object;function ur(n){if(1===n.length){const e=n[0];if(hl(e))return{args:e,keys:null};if(function No(n){return n&&"object"==typeof n&&Ch(n)===Ti}(e)){const t=eo(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ha=A(2737),Qt=A(7398);const{isArray:av}=Array;function ec(n){return(0,Qt.U)(e=>function Hp(n,e){return av(e)?n(...e):n(e)}(n,e))}var to=A(9940);function no(n,e){return n.reduce((t,r,s)=>(t[r]=e[s],t),{})}var Si=A(8251),Ya=A(7103);function Qa(...n){const e=(0,to.yG)(n),t=(0,to.jO)(n),{args:r,keys:s}=ur(n);if(0===r.length)return(0,er.D)([],e);const u=new bi.y(function Ja(n,e,t=ha.y){return r=>{fl(e,()=>{const{length:s}=n,u=new Array(s);let l=s,m=s;for(let v=0;v<s;v++)fl(e,()=>{const C=(0,er.D)(n[v],e);let b=!1;C.subscribe((0,Si.x)(r,x=>{u[v]=x,b||(b=!0,m--),m||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,s?l=>no(s,l):ha.y));return t?u.pipe(ec(t)):u}function fl(n,e,t){n?(0,Ya.f)(t,n,e):e()}const fa=(0,A(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var tc=A(7537);function Ro(...n){return function Gs(){return(0,tc.J)(1)}()((0,er.D)(n,(0,to.yG)(n)))}var nc=A(4829);function Dh(n){return new bi.y(e=>{(0,nc.Xf)(n()).subscribe(e)})}var rc=A(8407);function pa(n,e){const t=(0,Po.m)(n)?n:()=>n,r=s=>s.error(t());return new bi.y(e?s=>e.schedule(r,0,s):r)}var ro=A(6232),gl=A(7394),Hi=A(9360);function bh(){return(0,Hi.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Si.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,u=t;t=null,s&&(!u||s===u)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class ml extends bi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Hi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new gl.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Si.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=gl.w0.EMPTY)}return e}refCount(){return bh()(this)}}var Xi=A(8645),Hn=A(4664);function Kr(n){return n<=0?()=>ro.E:(0,Hi.e)((e,t)=>{let r=0;e.subscribe((0,Si.x)(t,s=>{++r<=n&&(t.next(s),n<=r&&t.complete())}))})}function Xa(...n){const e=(0,to.yG)(n);return(0,Hi.e)((t,r)=>{(e?Ro(n,t,e):Ro(n,t)).subscribe(r)})}function ci(n,e){return(0,Hi.e)((t,r)=>{let s=0;t.subscribe((0,Si.x)(r,u=>n.call(e,u,s++)&&r.next(u)))})}var Ai=A(1631);function eu(n){return(0,Hi.e)((e,t)=>{let r=!1;e.subscribe((0,Si.x)(t,s=>{r=!0,t.next(s)},()=>{r||t.next(n),t.complete()}))})}function ic(n=uv){return(0,Hi.e)((e,t)=>{let r=!1;e.subscribe((0,Si.x)(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(n())))})}function uv(){return new fa}function Br(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ci((s,u)=>n(s,u,r)):ha.y,Kr(1),t?eu(e):ic(()=>new fa))}function ko(n,e){return(0,Po.m)(e)?(0,Ai.z)(n,e,1):(0,Ai.z)(n,1)}var _r=A(9397);function ls(n){return(0,Hi.e)((e,t)=>{let u,r=null,s=!1;r=e.subscribe((0,Si.x)(t,void 0,void 0,l=>{u=(0,nc.Xf)(n(l,ls(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,u.subscribe(t))})}function ga(n,e){return(0,Hi.e)(function yl(n,e,t,r,s){return(u,l)=>{let m=t,v=e,C=0;u.subscribe((0,Si.x)(l,b=>{const x=C++;v=m?n(v,b,x):(m=!0,b),r&&l.next(v)},s&&(()=>{m&&l.next(v),l.complete()})))}}(n,e,arguments.length>=2,!0))}function tu(n){return n<=0?()=>ro.E:(0,Hi.e)((e,t)=>{let r=[];e.subscribe((0,Si.x)(t,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function nu(n){return(0,Hi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var Sh=A(2420);const on="primary",Fo=Symbol("RouteTitle");class ma{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Lo(n){return new ma(n)}function zp(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let u=0;u<r.length;u++){const l=r[u],m=n[u];if(l.startsWith(":"))s[l.substring(1)]=m;else if(l!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function Mi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let u=0;u<t.length;u++)if(s=t[u],!Wp(n[s],e[s]))return!1;return!0}function Wp(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,u)=>r[u]===s)}return n===e}function jr(n){return n.length>0?n[n.length-1]:null}function Vo(n){return function $p(n){return!!n&&(n instanceof bi.y||(0,Po.m)(n.lift)&&(0,Po.m)(n.subscribe))}(n)?n:(0,h.QGY)(n)?(0,er.D)(Promise.resolve(n)):(0,Pt.of)(n)}const Zp={exact:function wl(n,e,t){if(!va(n.segments,e.segments)||!sc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!wl(n.children[r],e.children[r],t))return!1;return!0},subset:ya},_l={exact:function Yp(n,e){return Mi(n,e)},subset:function ru(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Wp(n[t],e[t]))},ignored:()=>!0};function Kp(n,e,t){return Zp[t.paths](n.root,e.root,t.matrixParams)&&_l[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ya(n,e,t){return io(n,e,e.segments,t)}function io(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!va(s,t)||e.hasChildren()||!sc(s,t,r))}if(n.segments.length===t.length){if(!va(n.segments,t)||!sc(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!ya(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(va(n.segments,s)&&sc(n.segments,s,r)&&n.children[on])&&io(n.children[on],e,u,r)}}function sc(n,e,t){return e.every((r,s)=>_l[t](n[s].parameters,r.parameters))}class Uo{constructor(e=new xn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lo(this.queryParams)),this._queryParamMap}toString(){return AE.serialize(this)}}class xn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ah(this)}}class El{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Lo(this.parameters)),this._parameterMap}toString(){return xi(this)}}function va(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Il=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(){return new Qp},providedIn:"root"})}return n})();class Qp{parse(e){const t=new ou(e);return new Uo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ds(e.root,!0)}`,r=function lv(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(s=>`${Dl(t)}=${Dl(s)}`).join("&"):`${Dl(t)}=${Dl(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Sr(n){return encodeURI(n)}(e.fragment)}`:""}`}}const AE=new Qp;function Ah(n){return n.segments.map(e=>xi(e)).join("/")}function ds(n,e){if(!n.hasChildren())return Ah(n);if(e){const t=n.children[on]?ds(n.children[on],!1):"",r=[];return Object.entries(n.children).forEach(([s,u])=>{s!==on&&r.push(`${s}:${ds(u,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function SE(n,e){let t=[];return Object.entries(n.children).forEach(([r,s])=>{r===on&&(t=t.concat(e(s,r)))}),Object.entries(n.children).forEach(([r,s])=>{r!==on&&(t=t.concat(e(s,r)))}),t}(n,(r,s)=>s===on?[ds(n.children[on],!1)]:[`${s}:${ds(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[on]?`${Ah(n)}/${t[0]}`:`${Ah(n)}/(${t.join("//")})`}}function Cl(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dl(n){return Cl(n).replace(/%3B/gi,";")}function Mh(n){return Cl(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function so(n){return decodeURIComponent(n)}function Jp(n){return so(n.replace(/\+/g,"%20"))}function xi(n){return`${Mh(n.path)}${function iu(n){return Object.keys(n).map(e=>`;${Mh(e)}=${Mh(n[e])}`).join("")}(n.parameters)}`}const su=/^[^\/()?;#]+/;function Bo(n){const e=n.match(su);return e?e[0]:""}const bl=/^[^\/()?;=#]+/,Xp=/^[^=?&#]+/,es=/^[^&#]+/;class ou{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xn([],{}):new xn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[on]=new xn(e,t)),r}parseSegment(){const e=Bo(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,!1);return this.capture(e),new El(so(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function dv(n){const e=n.match(bl);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=Bo(this.remaining);s&&(r=s,this.capture(r))}e[so(t)]=so(r)}parseQueryParam(e){const t=function ME(n){const e=n.match(Xp);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function xh(n){const e=n.match(es);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const s=Jp(t),u=Jp(r);if(e.hasOwnProperty(s)){let l=e[s];Array.isArray(l)||(l=[l],e[s]=l),l.push(u)}else e[s]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Bo(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new h.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=on);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[on]:new xn([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,!1)}}function hv(n){return n.segments.length>0?new xn([],{[on]:n}):n}function Tl(n){const e={};for(const r of Object.keys(n.children)){const u=Tl(n.children[r]);if(r===on&&0===u.segments.length&&u.hasChildren())for(const[l,m]of Object.entries(u.children))e[l]=m;else(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function fv(n){if(1===n.numberOfChildren&&n.children[on]){const e=n.children[on];return new xn(n.segments.concat(e.segments),e.children)}return n}(new xn(n.segments,e))}function au(n){return n instanceof Uo}function p(n){let e;const s=hv(function t(u){const l={};for(const v of u.children){const C=t(v);l[v.outlet]=C}const m=new xn(u.url,l);return u===n&&(e=m),m}(n.root));return e??s}function g(n,e,t,r){let s=n;for(;s.parent;)s=s.parent;if(0===e.length)return O(s,s,s,t,r);const u=function Je(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ge(!0,0,n);let e=0,t=!1;const r=n.reduce((s,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return Object.entries(u.outlets).forEach(([v,C])=>{m[v]="string"==typeof C?C.split("/"):C}),[...s,{outlets:m}]}if(u.segmentPath)return[...s,u.segmentPath]}return"string"!=typeof u?[...s,u]:0===l?(u.split("/").forEach((m,v)=>{0==v&&"."===m||(0==v&&""===m?t=!0:".."===m?e++:""!=m&&s.push(m))}),s):[...s,u]},[]);return new ge(t,e,r)}(e);if(u.toRoot())return O(s,s,new xn([],{}),t,r);const l=function Tt(n,e,t){if(n.isAbsolute)return new rt(e,!0,0);if(!t)return new rt(e,!1,NaN);if(null===t.parent)return new rt(t,!0,0);const r=E(n.commands[0])?0:1;return function Dn(n,e,t){let r=n,s=e,u=t;for(;u>s;){if(u-=s,r=r.parent,!r)throw new h.vHH(4005,!1);s=r.segments.length}return new rt(r,!1,s-u)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(u,s,n),m=l.processChildren?oo(l.segmentGroup,l.index,u.commands):hs(l.segmentGroup,l.index,u.commands);return O(s,l.segmentGroup,m,t,r)}function E(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function T(n){return"object"==typeof n&&null!=n&&n.outlets}function O(n,e,t,r,s){let l,u={};r&&Object.entries(r).forEach(([v,C])=>{u[v]=Array.isArray(C)?C.map(b=>`${b}`):`${C}`}),l=n===e?t:Q(n,e,t);const m=hv(Tl(l));return new Uo(m,u,s)}function Q(n,e,t){const r={};return Object.entries(n.children).forEach(([s,u])=>{r[s]=u===e?t:Q(u,e,t)}),new xn(n.segments,r)}class ge{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&E(r[0]))throw new h.vHH(4003,!1);const s=r.find(T);if(s&&s!==jr(r))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rt{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function hs(n,e,t){if(n||(n=new xn([],{})),0===n.segments.length&&n.hasChildren())return oo(n,e,t);const r=function eg(n,e,t){let r=0,s=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return u;const l=n.segments[s],m=t[r];if(T(m))break;const v=`${m}`,C=r<t.length-1?t[r+1]:null;if(s>0&&void 0===v)break;if(v&&C&&"object"==typeof C&&void 0===C.outlets){if(!Sl(v,C,l))return u;r+=2}else{if(!Sl(v,{},l))return u;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new xn(n.segments.slice(0,r.pathIndex),{});return u.children[on]=new xn(n.segments.slice(r.pathIndex),n.children),oo(u,0,s)}return r.match&&0===s.length?new xn(n.segments,{}):r.match&&!n.hasChildren()?oc(n,e,t):r.match?oo(n,0,s):oc(n,e,t)}function oo(n,e,t){if(0===t.length)return new xn(n.segments,{});{const r=function yi(n){return T(n[0])?n[0].outlets:{[on]:n}}(t),s={};if(Object.keys(r).some(u=>u!==on)&&n.children[on]&&1===n.numberOfChildren&&0===n.children[on].segments.length){const u=oo(n.children[on],e,t);return new xn(n.segments,u.children)}return Object.entries(r).forEach(([u,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(s[u]=hs(n.children[u],e,l))}),Object.entries(n.children).forEach(([u,l])=>{void 0===r[u]&&(s[u]=l)}),new xn(n.segments,s)}}function oc(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const u=t[s];if(T(u)){const v=_a(u.outlets);return new xn(r,v)}if(0===s&&E(t[0])){r.push(new El(n.segments[e].path,wa(t[0]))),s++;continue}const l=T(u)?u.outlets[on]:`${u}`,m=s<t.length-1?t[s+1]:null;l&&m&&E(m)?(r.push(new El(l,wa(m))),s+=2):(r.push(new El(l,{})),s++)}return new xn(r,{})}function _a(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=oc(new xn([],{}),0,r))}),e}function wa(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Sl(n,e,t){return n==t.path&&Mi(e,t.parameters)}const ac="imperative";class fs{constructor(e,t){this.id=e,this.url=t}}class uu extends fs{constructor(e,t,r="imperative",s=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ao extends fs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class uc extends fs{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class jo extends fs{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=16}}class Al extends fs{constructor(e,t,r,s){super(e,t),this.error=r,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Oh extends fs{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xE extends fs{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bT extends fs{constructor(e,t,r,s,u){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class OE extends fs{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DM extends fs{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PE{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bM{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class TT{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ST{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pv{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TM{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AT{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ph{}class NE{constructor(e){this.url=e}}class SM{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new tg,this.attachRef=null}}let tg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const s=this.getOrCreateContext(t);s.outlet=r,this.contexts.set(t,s)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new SM,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class MT{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=gv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=gv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ml(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return Ml(e,this._root).map(t=>t.value)}}function gv(n,e){if(n===e.value)return e;for(const t of e.children){const r=gv(n,t);if(r)return r}return null}function Ml(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ml(n,t);if(r.length)return r.unshift(e),r}return[]}class zs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function cc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class mv extends MT{constructor(e,t){super(e),this.snapshot=t,_v(this,e)}toString(){return this.snapshot.toString()}}function yv(n,e){const t=function xl(n,e){const l=new dc([],{},{},"",{},on,e,null,{});return new Nh("",new zs(l,[]))}(0,e),r=new ui.X([new El("",{})]),s=new ui.X({}),u=new ui.X({}),l=new ui.X({}),m=new ui.X(""),v=new lc(r,s,l,m,u,on,e,t.root);return v.snapshot=t.root,new mv(new zs(v,[]),t)}class lc{constructor(e,t,r,s,u,l,m,v){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=s,this.dataSubject=u,this.outlet=l,this.component=m,this._futureSnapshot=v,this.title=this.dataSubject?.pipe((0,Qt.U)(C=>C[Fo]))??(0,Pt.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Qt.U)(e=>Lo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Qt.U)(e=>Lo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vv(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const s=t[r],u=t[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(u.component)break;r--}}return function ng(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class dc{get title(){return this.data?.[Fo]}constructor(e,t,r,s,u,l,m,v,C){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=l,this.component=m,this.routeConfig=v,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Nh extends MT{constructor(e,t){super(t),this.url=e,_v(this,t)}toString(){return RE(this._root)}}function _v(n,e){e.value._routerState=n,e.children.forEach(t=>_v(n,t))}function RE(n){const e=n.children.length>0?` { ${n.children.map(RE).join(", ")} } `:"";return`${n.value}${e}`}function wv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Mi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Mi(e.params,t.params)||n.paramsSubject.next(t.params),function qp(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Mi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Mi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function rg(n,e){const t=Mi(n.params,e.params)&&function cv(n,e){return va(n,e)&&n.every((t,r)=>Mi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||rg(n.parent,e.parent))}let Rh=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=on,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(tg),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb),this.inputBinder=(0,h.f3M)(ig,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:s}=t.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new h.vHH(4013,!1);this._activatedRoute=t;const s=this.location,l=t.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,v=new xT(t,m,s.injector);this.activated=s.createComponent(l,{index:s.length,injector:v,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]})}return n})();class xT{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===lc?this.route:e===tg?this.childContexts:this.parent.get(e,t)}}const ig=new h.OlP("");let kE=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,s=Qa([r.queryParams,r.params,r.data]).pipe((0,Hn.w)(([u,l,m],v)=>(m={...u,...l,...m},0===v?(0,Pt.of)(m):Promise.resolve(m)))).subscribe(u=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const l=(0,h.qFp)(r.component);if(l)for(const{templateName:m}of l.inputs)t.activatedComponentRef.setInput(m,u[m]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,s)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();function kh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function OT(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return kh(n,r,s);return kh(n,r)})}(n,e,t);return new zs(r,s)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(m=>kh(n,m)),l}}const r=function ps(n){return new lc(new ui.X(n.url),new ui.X(n.params),new ui.X(n.queryParams),new ui.X(n.fragment),new ui.X(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(u=>kh(n,u));return new zs(r,s)}}const Fh="ngNavigationCancelingError";function Ev(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=au(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=sg(!1,0,e);return s.url=t,s.navigationBehaviorOptions=r,s}function sg(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Fh]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Ol(n){return n&&n[Fh]}let Iv=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(r,s){1&r&&h._UZ(0,"router-outlet")},dependencies:[Rh],encapsulation:2})}return n})();function Lh(n){const e=n.children&&n.children.map(Lh),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==on&&(t.component=Iv),t}function Ds(n){return n.outlet||on}function Ea(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class VE{constructor(e,t,r,s,u){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s,this.inputBindingEnabled=u}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),wv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=cc(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,s[l],r),delete s[l]}),Object.values(s).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(s===u)if(s.component){const l=r.getContext(s.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=cc(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],s);if(r&&r.outlet){const l=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=cc(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],s);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const s=cc(t);e.children.forEach(u=>{this.activateRoutes(u,s[u.value.outlet],r),this.forwardEvent(new TM(u.value.snapshot))}),e.children.length&&this.forwardEvent(new ST(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(wv(s),s===u)if(s.component){const l=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const l=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const m=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),l.children.onOutletReAttached(m.contexts),l.attachRef=m.componentRef,l.route=m.route.value,l.outlet&&l.outlet.attach(m.componentRef,m.route.value),wv(m.route.value),this.activateChildRoutes(e,null,l.children)}else{const m=Ea(s.snapshot);l.attachRef=null,l.route=s,l.injector=m,l.outlet&&l.outlet.activateWith(s,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class Cv{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Vh{constructor(e,t){this.component=e,this.route=t}}function Pl(n,e,t){const r=n._root;return fc(r,e?e._root:null,t,[r.value])}function hc(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,h.Z0I)(n)?e.get(n):n:r}function fc(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=cc(e);return n.children.forEach(l=>{(function ag(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const v=function BT(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!va(n.url,e.url);case"pathParamsOrQueryParamsChange":return!va(n.url,e.url)||!Mi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rg(n,e)||!Mi(n.queryParams,e.queryParams);default:return!rg(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);v?s.canActivateChecks.push(new Cv(r)):(u.data=l.data,u._resolvedData=l._resolvedData),fc(n,e,u.component?m?m.children:null:t,r,s),v&&m&&m.outlet&&m.outlet.isActivated&&s.canDeactivateChecks.push(new Vh(m.outlet.component,l))}else l&&Uh(e,m,s),s.canActivateChecks.push(new Cv(r)),fc(n,null,u.component?m?m.children:null:t,r,s)})(l,u[l.value.outlet],t,r.concat([l.value]),s),delete u[l.value.outlet]}),Object.entries(u).forEach(([l,m])=>Uh(m,t.getContext(l),s)),s}function Uh(n,e,t){const r=cc(n),s=n.value;Object.entries(r).forEach(([u,l])=>{Uh(l,s.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Vh(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function Bh(n){return"function"==typeof n}function jE(n){return n instanceof fa||"EmptyError"===n?.name}const Nl=Symbol("INITIAL_VALUE");function pc(){return(0,Hn.w)(n=>Qa(n.map(e=>e.pipe(Kr(1),Xa(Nl)))).pipe((0,Qt.U)(e=>{for(const t of e)if(!0!==t){if(t===Nl)return Nl;if(!1===t||t instanceof Uo)return t}return!0}),ci(e=>e!==Nl),Kr(1)))}function bv(n){return(0,rc.z)((0,_r.b)(e=>{if(au(e))throw Ev(0,e)}),(0,Qt.U)(e=>!0===e))}class jh{constructor(e){this.segmentGroup=e||null}}class $h{constructor(e){this.urlTree=e}}function $o(n){return pa(new jh(n))}function Sv(n){return pa(new $h(n))}class qE{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new h.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return(0,Pt.of)(r);if(s.numberOfChildren>1||!s.children[on])return pa(new h.vHH(4e3,!1));s=s.children[on]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,s){const u=this.createSegmentGroup(e,t.root,r,s);return new Uo(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([s,u])=>{if("string"==typeof u&&u.startsWith(":")){const m=u.substring(1);r[s]=t[m]}else r[s]=u}),r}createSegmentGroup(e,t,r,s){const u=this.createSegments(e,t.segments,r,s);let l={};return Object.entries(t.children).forEach(([m,v])=>{l[m]=this.createSegmentGroup(e,v,r,s)}),new xn(u,l)}createSegments(e,t,r,s){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,s):this.findOrReturn(u,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new h.vHH(4001,!1);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}const Hh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gh(n,e,t,r,s){const u=Mv(n,e,t);return u.matched?(r=function LE(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function Tv(n,e,t,r){const s=e.canMatch;if(!s||0===s.length)return(0,Pt.of)(!0);const u=s.map(l=>{const m=hc(l,n);return Vo(function Dv(n){return n&&Bh(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))});return(0,Pt.of)(u).pipe(pc(),bv())}(r,e,t).pipe((0,Qt.U)(l=>!0===l?u:{...Hh}))):(0,Pt.of)(u)}function Mv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Hh}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||zp)(t,n,e);if(!s)return{...Hh};const u={};Object.entries(s.posParams??{}).forEach(([m,v])=>{u[m]=v.path});const l=s.consumed.length>0?{...u,...s.consumed[s.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:l,positionalParamSegments:s.posParams??{}}}function xv(n,e,t,r){return t.length>0&&function KT(n,e,t){return t.some(r=>zh(n,e,r)&&Ds(r)!==on)}(n,t,r)?{segmentGroup:new xn(e,ZT(r,new xn(t,n.children))),slicedSegments:[]}:0===t.length&&function WE(n,e,t){return t.some(r=>zh(n,e,r))}(n,t,r)?{segmentGroup:new xn(n.segments,WT(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new xn(n.segments,n.children),slicedSegments:t}}function WT(n,e,t,r,s){const u={};for(const l of r)if(zh(n,t,l)&&!s[Ds(l)]){const m=new xn([],{});u[Ds(l)]=m}return{...s,...u}}function ZT(n,e){const t={};t[on]=e;for(const r of n)if(""===r.path&&Ds(r)!==on){const s=new xn([],{});t[Ds(r)]=s}return t}function zh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class YT{constructor(e,t,r,s,u,l,m){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=s,this.urlTree=u,this.paramsInheritanceStrategy=l,this.urlSerializer=m,this.allowRedirects=!0,this.applyRedirects=new qE(this.urlSerializer,this.urlTree)}noMatchError(e){return new h.vHH(4002,!1)}recognize(){const e=xv(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,on).pipe(ls(t=>{if(t instanceof $h)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof jh?this.noMatchError(t):t}),(0,Qt.U)(t=>{const r=new dc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},on,this.rootComponentType,null,{}),s=new zs(r,t),u=new Nh("",s),l=function w(n,e,t=null,r=null){return g(p(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(u._root),{state:u,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,on).pipe(ls(r=>{throw r instanceof jh?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=vv(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,s,!0)}processChildren(e,t,r){const s=[];for(const u of Object.keys(r.children))"primary"===u?s.unshift(u):s.push(u);return(0,er.D)(s).pipe(ko(u=>{const l=r.children[u],m=function VT(n,e){const t=n.filter(r=>Ds(r)===e);return t.push(...n.filter(r=>Ds(r)!==e)),t}(t,u);return this.processSegmentGroup(e,m,l,u)}),ga((u,l)=>(u.push(...l),u)),eu(null),function Gp(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ci((s,u)=>n(s,u,r)):ha.y,tu(1),t?eu(e):ic(()=>new fa))}(),(0,Ai.z)(u=>{if(null===u)return $o(r);const l=ZE(u);return function QT(n){n.sort((e,t)=>e.value.outlet===on?-1:t.value.outlet===on?1:e.value.outlet.localeCompare(t.value.outlet))}(l),(0,Pt.of)(l)}))}processSegment(e,t,r,s,u,l){return(0,er.D)(t).pipe(ko(m=>this.processSegmentAgainstRoute(m._injector??e,t,m,r,s,u,l).pipe(ls(v=>{if(v instanceof jh)return(0,Pt.of)(null);throw v}))),Br(m=>!!m),ls(m=>{if(jE(m))return function Ov(n,e,t){return 0===e.length&&!n.children[t]}(r,s,u)?(0,Pt.of)([]):$o(r);throw m}))}processSegmentAgainstRoute(e,t,r,s,u,l,m){return function dg(n,e,t,r){return!!(Ds(n)===r||r!==on&&zh(e,t,n))&&("**"===n.path||Mv(e,n,t).matched)}(r,s,u,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,s,r,u,l,m):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,s,t,r,u,l):$o(s):$o(s)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,s){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Sv(u):this.applyRedirects.lineralizeSegments(r,u).pipe((0,Ai.z)(l=>{const m=new xn(l,{});return this.processSegment(e,t,m,l,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l){const{matched:m,consumedSegments:v,remainingSegments:C,positionalParamSegments:b}=Mv(t,s,u);if(!m)return $o(t);const x=this.applyRedirects.applyRedirectCommands(v,s.redirectTo,b);return s.redirectTo.startsWith("/")?Sv(x):this.applyRedirects.lineralizeSegments(s,x).pipe((0,Ai.z)(z=>this.processSegment(e,r,t,z.concat(C),l,!1)))}matchSegmentAgainstRoute(e,t,r,s,u,l){let m;if("**"===r.path){const v=s.length>0?jr(s).parameters:{},C=new dc(s,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,YE(r),Ds(r),r.component??r._loadedComponent??null,r,mc(r));m=(0,Pt.of)({snapshot:C,consumedSegments:[],remainingSegments:[]}),t.children={}}else m=Gh(t,r,s,e).pipe((0,Qt.U)(({matched:v,consumedSegments:C,remainingSegments:b,parameters:x})=>v?{snapshot:new dc(C,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,YE(r),Ds(r),r.component??r._loadedComponent??null,r,mc(r)),consumedSegments:C,remainingSegments:b}:null));return m.pipe((0,Hn.w)(v=>null===v?$o(t):this.getChildConfig(e=r._injector??e,r,s).pipe((0,Hn.w)(({routes:C})=>{const b=r._loadedInjector??e,{snapshot:x,consumedSegments:z,remainingSegments:J}=v,{segmentGroup:Ce,slicedSegments:Fe}=xv(t,z,J,C);if(0===Fe.length&&Ce.hasChildren())return this.processChildren(b,C,Ce).pipe((0,Qt.U)(It=>null===It?null:[new zs(x,It)]));if(0===C.length&&0===Fe.length)return(0,Pt.of)([new zs(x,[])]);const Ve=Ds(r)===u;return this.processSegment(b,C,Ce,Fe,Ve?on:u,!0).pipe((0,Qt.U)(It=>[new zs(x,It)]))}))))}getChildConfig(e,t,r){return t.children?(0,Pt.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,Pt.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function zE(n,e,t,r){const s=e.canLoad;if(void 0===s||0===s.length)return(0,Pt.of)(!0);const u=s.map(l=>{const m=hc(l,n);return Vo(function $T(n){return n&&Bh(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))});return(0,Pt.of)(u).pipe(pc(),bv())}(e,t,r).pipe((0,Ai.z)(s=>s?this.configLoader.loadChildren(e,t).pipe((0,_r.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function lg(n){return pa(sg(!1,3))}())):(0,Pt.of)({routes:[],injector:e})}}function PM(n){const e=n.value.routeConfig;return e&&""===e.path}function ZE(n){const e=[],t=new Set;for(const r of n){if(!PM(r)){e.push(r);continue}const s=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=ZE(r.children);e.push(new zs(r.value,s))}return e.filter(r=>!t.has(r))}function YE(n){return n.data||{}}function mc(n){return n.resolve||{}}function tI(n){return"string"==typeof n.title||null===n.title}function Nv(n){return(0,Hn.w)(e=>{const t=n(e);return t?(0,er.D)(t).pipe((0,Qt.U)(()=>e)):(0,Pt.of)(e)})}const kl=new h.OlP("ROUTES");let Rv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.f3M)(h.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,Pt.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Vo(t.loadComponent()).pipe((0,Qt.U)(Fl),(0,_r.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),nu(()=>{this.componentLoaders.delete(t)})),s=new ml(r,()=>new Xi.x).pipe(bh());return this.componentLoaders.set(t,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,Pt.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=function JT(n,e,t,r){return Vo(n.loadChildren()).pipe((0,Qt.U)(Fl),(0,Ai.z)(s=>s instanceof h.YKP||Array.isArray(s)?(0,Pt.of)(s):(0,er.D)(e.compileModuleAsync(s))),(0,Qt.U)(s=>{r&&r(n);let u,l,m=!1;return Array.isArray(s)?(l=s,!0):(u=s.create(t).injector,l=u.get(kl,[],{optional:!0,self:!0}).flat()),{routes:l.map(Lh),injector:u}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(nu(()=>{this.childrenLoaders.delete(r)})),l=new ml(u,()=>new Xi.x).pipe(bh());return this.childrenLoaders.set(r,l),l}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Fl(n){return function cu(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let fg=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Xi.x,this.transitionAbortSubject=new Xi.x,this.configLoader=(0,h.f3M)(Rv),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(Il),this.rootContexts=(0,h.f3M)(tg),this.inputBindingEnabled=null!==(0,h.f3M)(ig,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Pt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new bM(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new PE(s))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,s){return this.transitions=new ui.X({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ac,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ci(u=>0!==u.id),(0,Qt.U)(u=>({...u,extractedUrl:t.urlHandlingStrategy.extract(u.rawUrl)})),(0,Hn.w)(u=>{this.currentTransition=u;let l=!1,m=!1;return(0,Pt.of)(u).pipe((0,_r.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.rawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Hn.w)(v=>{const C=v.currentBrowserUrl.toString(),b=!t.navigated||v.extractedUrl.toString()!==C||C!==v.currentUrlTree.toString();if(!b&&"reload"!==(v.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const z="";return this.events.next(new jo(v.id,this.urlSerializer.serialize(v.rawUrl),z,0)),v.resolve(null),ro.E}if(t.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return(0,Pt.of)(v).pipe((0,Hn.w)(z=>{const J=this.transitions?.getValue();return this.events.next(new uu(z.id,this.urlSerializer.serialize(z.extractedUrl),z.source,z.restoredState)),J!==this.transitions?.getValue()?ro.E:Promise.resolve(z)}),function hg(n,e,t,r,s,u){return(0,Ai.z)(l=>function Rl(n,e,t,r,s,u,l="emptyOnly"){return new YT(n,e,t,r,s,l,u).recognize()}(n,e,t,r,l.extractedUrl,s,u).pipe((0,Qt.U)(({state:m,tree:v})=>({...l,targetSnapshot:m,urlAfterRedirects:v}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,_r.b)(z=>{u.targetSnapshot=z.targetSnapshot,u.urlAfterRedirects=z.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:z.urlAfterRedirects};const J=new Oh(z.id,this.urlSerializer.serialize(z.extractedUrl),this.urlSerializer.serialize(z.urlAfterRedirects),z.targetSnapshot);this.events.next(J)}));if(b&&t.urlHandlingStrategy.shouldProcessUrl(v.currentRawUrl)){const{id:z,extractedUrl:J,source:Ce,restoredState:Fe,extras:Ve}=v,It=new uu(z,this.urlSerializer.serialize(J),Ce,Fe);this.events.next(It);const Ut=yv(0,this.rootComponentType).snapshot;return this.currentTransition=u={...v,targetSnapshot:Ut,urlAfterRedirects:J,extras:{...Ve,skipLocationChange:!1,replaceUrl:!1}},(0,Pt.of)(u)}{const z="";return this.events.next(new jo(v.id,this.urlSerializer.serialize(v.extractedUrl),z,1)),v.resolve(null),ro.E}}),(0,_r.b)(v=>{const C=new xE(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(C)}),(0,Qt.U)(v=>(this.currentTransition=u={...v,guards:Pl(v.targetSnapshot,v.currentSnapshot,this.rootContexts)},u)),function gc(n,e){return(0,Ai.z)(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?(0,Pt.of)({...t,guardsResult:!0}):function $E(n,e,t,r){return(0,er.D)(n).pipe((0,Ai.z)(s=>function GE(n,e,t,r,s){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,Pt.of)(!0);const l=u.map(m=>{const v=Ea(e)??s,C=hc(m,v);return Vo(function ug(n){return n&&Bh(n.canDeactivate)}(C)?C.canDeactivate(n,e,t,r):v.runInContext(()=>C(n,e,t,r))).pipe(Br())});return(0,Pt.of)(l).pipe(pc())}(s.component,s.route,t,e,r)),Br(s=>!0!==s,!0))}(l,r,s,n).pipe((0,Ai.z)(m=>m&&function jT(n){return"boolean"==typeof n}(m)?function HE(n,e,t,r){return(0,er.D)(e).pipe(ko(s=>Ro(function OM(n,e){return null!==n&&e&&e(new TT(n)),(0,Pt.of)(!0)}(s.route.parent,r),function zT(n,e){return null!==n&&e&&e(new pv(n)),(0,Pt.of)(!0)}(s.route,r),function qT(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function og(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Dh(()=>{const m=l.guards.map(v=>{const C=Ea(l.node)??t,b=hc(v,C);return Vo(function UE(n){return n&&Bh(n.canActivateChild)}(b)?b.canActivateChild(r,n):C.runInContext(()=>b(r,n))).pipe(Br())});return(0,Pt.of)(m).pipe(pc())}));return(0,Pt.of)(u).pipe(pc())}(n,s.path,t),function cg(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Pt.of)(!0);const s=r.map(u=>Dh(()=>{const l=Ea(e)??t,m=hc(u,l);return Vo(function HT(n){return n&&Bh(n.canActivate)}(m)?m.canActivate(e,n):l.runInContext(()=>m(e,n))).pipe(Br())}));return(0,Pt.of)(s).pipe(pc())}(n,s.route,t))),Br(s=>!0!==s,!0))}(r,u,n,e):(0,Pt.of)(m)),(0,Qt.U)(m=>({...t,guardsResult:m})))})}(this.environmentInjector,v=>this.events.next(v)),(0,_r.b)(v=>{if(u.guardsResult=v.guardsResult,au(v.guardsResult))throw Ev(0,v.guardsResult);const C=new bT(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.events.next(C)}),ci(v=>!!v.guardsResult||(this.cancelNavigationTransition(v,"",3),!1)),Nv(v=>{if(v.guards.canActivateChecks.length)return(0,Pt.of)(v).pipe((0,_r.b)(C=>{const b=new OE(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(b)}),(0,Hn.w)(C=>{let b=!1;return(0,Pt.of)(C).pipe(function Pv(n,e){return(0,Ai.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return(0,Pt.of)(t);let u=0;return(0,er.D)(s).pipe(ko(l=>function QE(n,e,t,r){const s=n.routeConfig,u=n._resolve;return void 0!==s?.title&&!tI(s)&&(u[Fo]=s.title),function JE(n,e,t,r){const s=function XE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===s.length)return(0,Pt.of)({});const u={};return(0,er.D)(s).pipe((0,Ai.z)(l=>function eI(n,e,t,r){const s=Ea(e)??r,u=hc(n,s);return Vo(u.resolve?u.resolve(e,t):s.runInContext(()=>u(e,t)))}(n[l],e,t,r).pipe(Br(),(0,_r.b)(m=>{u[l]=m}))),tu(1),function Th(n){return(0,Qt.U)(()=>n)}(u),ls(l=>jE(l)?ro.E:pa(l)))}(u,n,e,r).pipe((0,Qt.U)(l=>(n._resolvedData=l,n.data=vv(n,t).resolve,s&&tI(s)&&(n.data[Fo]=s.title),null)))}(l.route,r,n,e)),(0,_r.b)(()=>u++),tu(1),(0,Ai.z)(l=>u===s.length?(0,Pt.of)(t):ro.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,_r.b)({next:()=>b=!0,complete:()=>{b||this.cancelNavigationTransition(C,"",2)}}))}),(0,_r.b)(C=>{const b=new DM(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(b)}))}),Nv(v=>{const C=b=>{const x=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&x.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,_r.b)(z=>{b.component=z}),(0,Qt.U)(()=>{})));for(const z of b.children)x.push(...C(z));return x};return Qa(C(v.targetSnapshot.root)).pipe(eu(),Kr(1))}),Nv(()=>this.afterPreactivation()),(0,Qt.U)(v=>{const C=function FE(n,e,t){const r=kh(n,e._root,t?t._root:void 0);return new mv(r,e)}(t.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return this.currentTransition=u={...v,targetRouterState:C},u}),(0,_r.b)(()=>{this.events.next(new Ph)}),((n,e,t,r)=>(0,Qt.U)(s=>(new VE(e,s.targetRouterState,s.currentRouterState,t,r).activate(n),s)))(this.rootContexts,t.routeReuseStrategy,v=>this.events.next(v),this.inputBindingEnabled),Kr(1),(0,_r.b)({next:v=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ao(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects))),t.titleStrategy?.updateTitle(v.targetRouterState.snapshot),v.resolve(!0)},complete:()=>{l=!0}}),function vl(n){return(0,Hi.e)((e,t)=>{(0,nc.Xf)(n).subscribe((0,Si.x)(t,()=>t.complete(),Sh.Z)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe((0,_r.b)(v=>{throw v}))),nu(()=>{l||m||this.cancelNavigationTransition(u,"",1),this.currentNavigation?.id===u.id&&(this.currentNavigation=null)}),ls(v=>{if(m=!0,Ol(v))this.events.next(new uc(u.id,this.urlSerializer.serialize(u.extractedUrl),v.message,v.cancellationCode)),function Gi(n){return Ol(n)&&au(n.url)}(v)?this.events.next(new NE(v.url)):u.resolve(!1);else{this.events.next(new Al(u.id,this.urlSerializer.serialize(u.extractedUrl),v,u.targetSnapshot??void 0));try{u.resolve(t.errorHandler(v))}catch(C){u.reject(C)}}return ro.E}))}))}cancelNavigationTransition(t,r,s){const u=new uc(t.id,this.urlSerializer.serialize(t.extractedUrl),r,s);this.events.next(u),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function XT(n){return n!==ac}let e1=(()=>{class n{buildTitle(t){let r,s=t.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(u=>u.outlet===on);return r}getResolvedTitleForRoute(t){return t.data[Fo]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(NM)},providedIn:"root"})}return n})(),NM=(()=>{class n extends e1{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Le))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),RM=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(nI)},providedIn:"root"})}return n})();class kM{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let nI=(()=>{class n extends kM{static#e=this.\u0275fac=function(){let t;return function(s){return(t||(t=h.n5z(n)))(s||n)}}();static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const pg=new h.OlP("",{providedIn:"root",factory:()=>({})});let t1=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(n1)},providedIn:"root"})}return n})(),n1=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var qh=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(qh||{});function gg(n,e){n.events.pipe(ci(t=>t instanceof ao||t instanceof uc||t instanceof Al||t instanceof jo),(0,Qt.U)(t=>t instanceof ao||t instanceof jo?qh.COMPLETE:t instanceof uc&&(0===t.code||1===t.code)?qh.REDIRECTING:qh.FAILED),ci(t=>t!==qh.REDIRECTING),Kr(1)).subscribe(()=>{e()})}function Ia(n){throw n}function Wh(n,e,t){return e.parse("/")}const rI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let li=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this._events=new Xi.x,this.options=(0,h.f3M)(pg,{optional:!0})||{},this.pendingTasks=(0,h.f3M)(h.HDt),this.errorHandler=this.options.errorHandler||Ia,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Wh,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(t1),this.routeReuseStrategy=(0,h.f3M)(RM),this.titleStrategy=(0,h.f3M)(e1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,h.f3M)(kl,{optional:!0})?.flat()??[],this.navigationTransitions=(0,h.f3M)(fg),this.urlSerializer=(0,h.f3M)(Il),this.location=(0,h.f3M)(Ze),this.componentInputBindingEnabled=!!(0,h.f3M)(ig,{optional:!0}),this.eventsSubscription=new gl.w0,this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Uo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=yv(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(r1(r)&&this._events.next(r));if(r instanceof uu)XT(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(r instanceof jo)this.rawUrlTree=s.rawUrl;else if(r instanceof Oh){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const u=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(u,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(r instanceof Ph)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(r instanceof uc)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(s);else if(r instanceof NE){const u=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),l={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||XT(s.source)};this.scheduleNavigation(u,ac,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}r instanceof Al&&this.restoreHistory(s,!0),r instanceof ao&&(this.navigated=!0),r1(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ac,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,s){const u={replaceUrl:!0},l=s?.navigationId?s:null;if(s){const v={...s};delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(u.state=v)}const m=this.parseUrl(t);this.scheduleNavigation(m,r,l,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Lh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:s,queryParams:u,fragment:l,queryParamsHandling:m,preserveFragment:v}=r,C=v?this.currentUrlTree.fragment:l;let x,b=null;switch(m){case"merge":b={...this.currentUrlTree.queryParams,...u};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=u||null}null!==b&&(b=this.removeEmptyProps(b));try{x=p(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),x=this.currentUrlTree.root}return g(x,t,b,C??null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=au(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(u,ac,null,r)}navigate(t,r={skipLocationChange:!1}){return function FM(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new h.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?{...rI}:!1===r?{...iI}:r,au(t))return Kp(this.currentUrlTree,t,s);const u=this.parseUrl(t);return Kp(this.currentUrlTree,u,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const u=t[s];return null!=u&&(r[s]=u),r},{})}scheduleNavigation(t,r,s,u,l){if(this.disposed)return Promise.resolve(!1);let m,v,C;l?(m=l.resolve,v=l.reject,C=l.promise):C=new Promise((x,z)=>{m=x,v=z});const b=this.pendingTasks.add();return gg(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(b))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:u,resolve:m,reject:v,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(x=>Promise.reject(x))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(s,"",l)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(s,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-this.browserPageId;0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function r1(n){return!(n instanceof Ph||n instanceof NE)}let mg=(()=>{class n{constructor(t,r,s,u,l,m){this.router=t,this.route=r,this.tabIndexAttribute=s,this.renderer=u,this.el=l,this.locationStrategy=m,this.href=null,this.commands=null,this.onChanges=new Xi.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const v=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===v||"area"===v,this.isAnchorElement?this.subscription=t.events.subscribe(C=>{C instanceof ao&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,s,u,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||s||u||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,h.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const s=this.renderer,u=this.el.nativeElement;null!==r?s.setAttribute(u,t,r):s.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(li),h.Y36(lc),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Ue))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){1&r&&h.NdJ("click",function(l){return s.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&r&&h.uIk("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",h.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",h.VuI],replaceUrl:["replaceUrl","replaceUrl",h.VuI],routerLink:"routerLink"},standalone:!0,features:[h.Xq5,h.TTD]})}return n})(),Zh=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,s,u,l){this.router=t,this.element=r,this.renderer=s,this.cdr=u,this.link=l,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new h.vpe,this.routerEventsSubscription=t.events.subscribe(m=>{m instanceof ao&&this.update()})}ngAfterContentInit(){(0,Pt.of)(this.links.changes,(0,Pt.of)(null)).pipe((0,tc.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,er.D)(t).pipe((0,tc.J)()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function kv(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>!!s.urlTree&&t.isActive(s.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(li),h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO),h.Y36(mg,8))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,s,u){if(1&r&&h.Suo(u,mg,5),2&r){let l;h.iGM(l=h.CRH())&&(s.links=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[h.TTD]})}return n})();class i1{}let o1=(()=>{class n{constructor(t,r,s,u,l){this.router=t,this.injector=s,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(ci(t=>t instanceof ao),ko(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,h.MMx)(u.providers,t,`Route: ${u.path}`));const l=u._injector??t,m=u._loadedInjector??l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&s.push(this.preloadConfig(l,u)),(u.children||u._loadedRoutes)&&s.push(this.processRoutes(m,u.children??u._loadedRoutes))}return(0,er.D)(s).pipe((0,tc.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let s;s=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,Pt.of)(null);const u=s.pipe((0,Ai.z)(l=>null===l?(0,Pt.of)(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,er.D)([u,l]).pipe((0,tc.J)())}return u})}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(li),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(i1),h.LFG(Rv))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Fv=new h.OlP("");let sI=(()=>{class n{constructor(t,r,s,u,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=s,this.zone=u,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof uu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ao?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof jo&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof AT&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new AT(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){h.$Z()};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();function qs(n,e){return{\u0275kind:n,\u0275providers:e}}function aI(){const n=(0,h.f3M)(h.zs3);return e=>{const t=n.get(h.z2F);if(e!==t.components[0])return;const r=n.get(li),s=n.get(uI);1===n.get(Yh)&&r.initialNavigation(),n.get(lI,null,h.XFs.Optional)?.setUpPreloading(),n.get(Fv,null,h.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const uI=new h.OlP("",{factory:()=>new Xi.x}),Yh=new h.OlP("",{providedIn:"root",factory:()=>1}),lI=new h.OlP("");function c1(n){return qs(0,[{provide:lI,useExisting:o1},{provide:i1,useExisting:n}])}const Ll=new h.OlP("ROUTER_FORROOT_GUARD"),dI=[Ze,{provide:Il,useClass:Qp},li,tg,{provide:lc,useFactory:function Lv(n){return n.routerState.root},deps:[li]},Rv,[]];function hI(){return new h.PXZ("Router",li)}let yg=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[dI,[],{provide:kl,multi:!0,useValue:t},{provide:Ll,useFactory:pI,deps:[[li,new h.FiY,new h.tp0]]},{provide:pg,useValue:r||{}},r?.useHash?{provide:Ue,useClass:ke}:{provide:Ue,useClass:Ye},{provide:Fv,useFactory:()=>{const n=(0,h.f3M)(mi),e=(0,h.f3M)(h.R0b),t=(0,h.f3M)(pg),r=(0,h.f3M)(fg),s=(0,h.f3M)(Il);return t.scrollOffset&&n.setOffset(t.scrollOffset),new sI(s,r,n,e,t)}},r?.preloadingStrategy?c1(r.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:hI},r?.initialNavigation?vg(r):[],r?.bindToComponentInputs?qs(8,[kE,{provide:ig,useExisting:kE}]).\u0275providers:[],[{provide:h1,useFactory:aI},{provide:h.tb,multi:!0,useExisting:h1}]]}}static forChild(t){return{ngModule:n,providers:[{provide:kl,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Ll,8))};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({})}return n})();function pI(n){return"guarded"}function vg(n){return["disabled"===n.initialNavigation?qs(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(li);return()=>{e.setUpLocationChangeListener()}}},{provide:Yh,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?qs(2,[{provide:Yh,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const t=e.get(Oe,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const s=e.get(li),u=e.get(uI);gg(s,()=>{r(!0)}),e.get(fg).afterPreactivation=()=>(r(!0),u.closed?(0,Pt.of)(void 0):u),s.initialNavigation()}))}}]).\u0275providers:[]]}const h1=new h.OlP("");var _g=A(6321),wg=A(671);var Qn=A(4556);function Ul(){return(0,Hi.e)((n,e)=>{let t,r=!1;n.subscribe((0,Si.x)(e,s=>{const u=t;t=s,r&&e.next([u,s]),r=!0}))})}var pt,jv=A(3997),Oi=A(6304),mI=(A(8661),A(3399)),we=A(5861),Ig=A(7592),Cg=A(4537),lu=A(7879),Fn=A(9058),yI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},uo={},Jh=Jh||{},an=yI||self;function $v(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Xh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var vI="closure_uid_"+(1e9*Math.random()>>>0),HM=0;function Dg(n,e,t){return n.call.apply(n.bind,arguments)}function y1(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function vi(n,e,t){return(vi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Dg:y1).apply(null,arguments)}function Bl(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ar(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,s,u){for(var l=Array(arguments.length-2),m=2;m<arguments.length;m++)l[m-2]=arguments[m];return e.prototype[s].apply(r,l)}}function Ho(){this.s=this.s,this.o=this.o}Ho.prototype.s=!1,Ho.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function m1(n){Object.prototype.hasOwnProperty.call(n,vI)&&n[vI]||(n[vI]=++HM)}(this)},Ho.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const jl=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function $l(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function yc(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if($v(r)){const s=n.length||0,u=r.length||0;n.length=s+u;for(let l=0;l<u;l++)n[s+l]=r[l]}else n.push(r)}}function _i(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}_i.prototype.h=function(){this.defaultPrevented=!0};var Gv=function(){if(!an.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{an.addEventListener("test",()=>{},e),an.removeEventListener("test",()=>{},e)}catch{}return n}();function du(n){return/^[\s\xa0]*$/.test(n)}function zv(){var n=an.navigator;return n&&(n=n.userAgent)?n:""}function Ws(n){return-1!=zv().indexOf(n)}function vc(n){return vc[" "](n),n}vc[" "]=function(){};var II,n,_I=Ws("Opera"),Hl=Ws("Trident")||Ws("MSIE"),wI=Ws("Edge"),ef=wI||Hl,qv=Ws("Gecko")&&!(-1!=zv().toLowerCase().indexOf("webkit")&&!Ws("Edge"))&&!(Ws("Trident")||Ws("MSIE"))&&!Ws("Edge"),_1=-1!=zv().toLowerCase().indexOf("webkit")&&!Ws("Edge");function EI(){var n=an.document;return n?n.documentMode:void 0}e:{var Wv="",Gl=(n=zv(),qv?/rv:([^\);]+)(\)|;)/.exec(n):wI?/Edge\/([\d\.]+)/.exec(n):Hl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):_1?/WebKit\/(\S+)/.exec(n):_I?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Gl&&(Wv=Gl?Gl[1]:""),Hl){var tf=EI();if(null!=tf&&tf>parseFloat(Wv)){II=String(tf);break e}}II=Wv}var Yv=an.document&&Hl&&(EI()||parseInt(II,10))||void 0;function hu(n,e){if(_i.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(qv){e:{try{vc(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:w1[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&hu.$.h.call(this)}}Ar(hu,_i);var w1={2:"touch",3:"pen",4:"mouse"};hu.prototype.h=function(){hu.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var zl="closure_listenable_"+(1e6*Math.random()|0),E1=0;function CI(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=s,this.key=++E1,this.fa=this.ia=!1}function Qv(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Jv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function DI(n){const e={};for(const t in n)e[t]=n[t];return e}const _c="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ql(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let u=0;u<_c.length;u++)t=_c[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Tg(n){this.src=n,this.g={},this.h=0}function Sg(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],s=jl(r,e);(u=0<=s)&&Array.prototype.splice.call(r,s,1),u&&(Qv(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Xv(n,e,t,r){for(var s=0;s<n.length;++s){var u=n[s];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return s}return-1}Tg.prototype.add=function(n,e,t,r,s){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=Xv(n,e,r,s);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new CI(e,this.src,u,!!r,s)).ia=t,n.push(e)),e};var e_="closure_lm_"+(1e6*Math.random()|0),t_={};function n_(n,e,t,r,s){if(r&&r.once)return I1(n,e,t,r,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)n_(n,e[u],t,r,s);return null}return t=Og(t),n&&n[zl]?n.O(e,t,Xh(r)?!!r.capture:!!r,s):r_(n,e,t,!1,r,s)}function r_(n,e,t,r,s,u){if(!e)throw Error("Invalid event type");var l=Xh(s)?!!s.capture:!!s,m=xg(n);if(m||(n[e_]=m=new Tg(n)),(t=m.add(e,t,r,l,u)).proxy)return t;if(r=function i_(){const e=C1;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Gv||(s=l),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(bI(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function I1(n,e,t,r,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)I1(n,e[u],t,r,s);return null}return t=Og(t),n&&n[zl]?n.P(e,t,Xh(r)?!!r.capture:!!r,s):r_(n,e,t,!0,r,s)}function Ag(n,e,t,r,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)Ag(n,e[u],t,r,s);else r=Xh(r)?!!r.capture:!!r,t=Og(t),n&&n[zl]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Xv(u=n.g[e],t,r,s))&&(Qv(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=xg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Xv(e,t,r,s)),(t=-1<n?e[n]:null)&&Mg(t))}function Mg(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[zl])Sg(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(bI(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=xg(e))?(Sg(t,n),0==t.h&&(t.src=null,e[e_]=null)):Qv(n)}}}function bI(n){return n in t_?t_[n]:t_[n]="on"+n}function C1(n,e){if(n.fa)n=!0;else{e=new hu(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Mg(n),n=t.call(r,e)}return n}function xg(n){return(n=n[e_])instanceof Tg?n:null}var s_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Og(n){return"function"==typeof n?n:(n[s_]||(n[s_]=function(e){return n.handleEvent(e)}),n[s_])}function wi(){Ho.call(this),this.i=new Tg(this),this.S=this,this.J=null}function Pi(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new _i(e,n);else if(e instanceof _i)e.target=e.target||n;else{var s=e;ql(e=new _i(r,n),s)}if(s=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];s=o_(l,r,!0,e)&&s}if(s=o_(l=e.g=n,r,!0,e)&&s,s=o_(l,r,!1,e)&&s,t)for(u=0;u<t.length;u++)s=o_(l=e.g=t[u],r,!1,e)&&s}function o_(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.fa&&l.capture==t){var m=l.listener,v=l.la||l.src;l.ia&&Sg(n.i,l),s=!1!==m.call(v,r)&&s}}return s&&!r.defaultPrevented}Ar(wi,Ho),wi.prototype[zl]=!0,wi.prototype.removeEventListener=function(n,e,t,r){Ag(this,n,e,t,r)},wi.prototype.N=function(){if(wi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Qv(t[r]);delete n.g[e],n.h--}}this.J=null},wi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},wi.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Pg=an.JSON.stringify;function co(){var n=c_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var D1=new class TI{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new a_,n=>n.reset());class a_{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function fu(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function u_(n){an.setTimeout(()=>{throw n},0)}let nf,Ng=!1,c_=new class SI{constructor(){this.h=this.g=null}add(e,t){const r=D1.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},Rg=()=>{const n=an.Promise.resolve(void 0);nf=()=>{n.then(Go)}};var Go=()=>{for(var n;n=co();){try{n.h.call(n.g)}catch(t){u_(t)}var e=D1;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ng=!1};function rf(n,e){wi.call(this),this.h=n||1,this.g=e||an,this.j=vi(this.qb,this),this.l=Date.now()}function l_(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function AI(n,e,t){if("function"==typeof n)t&&(n=vi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=vi(n.handleEvent,n)}return 2147483647<Number(e)?-1:an.setTimeout(n,e||0)}function di(n){n.g=AI(()=>{n.g=null,n.i&&(n.i=!1,di(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ar(rf,wi),(pt=rf.prototype).ga=!1,pt.T=null,pt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Pi(this,"tick"),this.ga&&(l_(this),this.start()))}},pt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pt.N=function(){rf.$.N.call(this),l_(this),delete this.g};class b1 extends Ho{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:di(this)}N(){super.N(),this.g&&(an.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wc(n){Ho.call(this),this.h=n,this.g={}}Ar(wc,Ho);var MI=[];function xI(n,e,t,r){Array.isArray(t)||(t&&(MI[0]=t.toString()),t=MI);for(var s=0;s<t.length;s++){var u=n_(e,t[s],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function kg(n){Jv(n.g,function(e,t){this.g.hasOwnProperty(t)&&Mg(e)},n),n.g={}}function sf(){this.g=!0}function Ec(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function S1(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<s.length;l++)s[l]=""}}}return Pg(t)}catch{return e}}(n,t)+(r?" "+r:"")})}wc.prototype.N=function(){wc.$.N.call(this),kg(this)},wc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sf.prototype.Ea=function(){this.g=!1},sf.prototype.info=function(){};var Ic={},NI=null;function af(){return NI=NI||new wi}function Cc(n){_i.call(this,Ic.Ta,n)}function bs(n){const e=af();Pi(e,new Cc(e))}function Dc(n,e){_i.call(this,Ic.STAT_EVENT,n),this.stat=e}function ts(n){const e=af();Pi(e,new Dc(e,n))}function RI(n,e){_i.call(this,Ic.Ua,n),this.size=e}function Wl(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return an.setTimeout(function(){n()},e)}Ic.Ta="serverreachability",Ar(Cc,_i),Ic.STAT_EVENT="statevent",Ar(Dc,_i),Ic.Ua="timingevent",Ar(RI,_i);var uf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Fg={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function bc(){}function d_(){}bc.prototype.h=null;var p_,Zl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function h_(){_i.call(this,"d")}function f_(){_i.call(this,"c")}function Lg(){}function Kl(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new wc(this),this.P=M1,this.V=new rf(n=ef?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new A1}function A1(){this.i=null,this.g="",this.h=!1}Ar(h_,_i),Ar(f_,_i),Ar(Lg,bc),Lg.prototype.g=function(){return new XMLHttpRequest},Lg.prototype.i=function(){return{}},p_=new Lg;var M1=45e3,kI={},g_={};function Vg(n,e,t){n.L=1,n.v=Xl(gs(e)),n.s=t,n.S=!0,m_(n,null)}function m_(n,e){n.G=Date.now(),Yl(n),n.A=gs(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),I_(t.i,"t",r),n.C=0,t=n.l.J,n.h=new A1,n.g=eC(n.l,t?e:null,!n.s),0<n.O&&(n.M=new b1(vi(n.Pa,n,n.g),n.O)),xI(n.U,n.g,"readystatechange",n.nb),e=n.I?DI(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),bs(),function OI(n,e,t,r,s,u){n.info(function(){if(n.g)if(u)for(var l="",m=u.split("&"),v=0;v<m.length;v++){var C=m[v].split("=");if(1<C.length){var b=C[0];C=C[1];var x=b.split("_");l=2<=x.length&&"type"==x[1]?l+(b+"=")+C+"&":l+(b+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function x1(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function lf(n,e,t){let s,r=!0;for(;!n.J&&n.C<t.length;){if(s=GM(n,t),s==g_){4==e&&(n.o=4,ts(14),r=!1),Ec(n.j,n.m,null,"[Incomplete Response]");break}if(s==kI){n.o=4,ts(15),Ec(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ec(n.j,n.m,s,null),tn(n,s)}x1(n)&&s!=g_&&s!=kI&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ts(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),x_(e),e.M=!0,ts(11))):(Ec(n.j,n.m,t,"[Invalid Chunked Response]"),pu(n),Ql(n))}function GM(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?g_:(t=Number(e.substring(t,r)),isNaN(t)?kI:(r+=1)+t>e.length?g_:(e=e.slice(r,r+t),n.C=r+t,e))}function Yl(n){n.Y=Date.now()+n.P,y_(n,n.P)}function y_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Wl(vi(n.lb,n),e)}function Ug(n){n.B&&(an.clearTimeout(n.B),n.B=null)}function Ql(n){0==n.l.H||n.J||O_(n.l,n)}function pu(n){Ug(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,l_(n.V),kg(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function tn(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||jg(t.i,n)))if(!n.K&&jg(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;mf(t),Zg(t)}Yg(t),ts(18)}}else t.Fa=s[1],0<t.Fa-t.V&&37500>s[2]&&t.G&&0==t.A&&!t.v&&(t.v=Wl(vi(t.ib,t),6e3));if(1>=Bg(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else xc(t,11)}else if((n.K||t.g==n)&&mf(t),!du(e))for(s=t.Ja.g.parse(e),e=0;e<s.length;e++){let C=s[e];if(t.V=C[0],C=C[1],2==t.H)if("c"==C[0]){t.K=C[1],t.pa=C[2];const b=C[3];null!=b&&(t.ra=b,t.l.info("VER="+t.ra));const x=C[4];null!=x&&(t.Ga=x,t.l.info("SVER="+t.Ga));const z=C[5];null!=z&&"number"==typeof z&&0<z&&(t.L=r=1.5*z,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const J=n.g;if(J){const Ce=J.g?J.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ce){var u=r.i;u.g||-1==Ce.indexOf("spdy")&&-1==Ce.indexOf("quic")&&-1==Ce.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(C_(u,u.h),u.h=null))}if(r.F){const Fe=J.g?J.g.getResponseHeader("X-HTTP-Session-Id"):null;Fe&&(r.Da=Fe,rr(r.I,r.F,Fe))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=N_(r,r.J?r.pa:null,r.Y),l.K){$I(r.i,l);var m=l,v=r.L;v&&m.setTimeout(v),m.B&&(Ug(m),Yl(m)),r.g=l}else M_(r);0<t.j.length&&yu(t)}else"stop"!=C[0]&&"close"!=C[0]||xc(t,7);else 3==t.H&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?xc(t,7):Wg(t):"noop"!=C[0]&&t.h&&t.h.Aa(C),t.A=0)}bs()}catch{}}function Tc(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if($v(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function LI(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if($v(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function FI(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if($v(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length,u=0;u<s;u++)e.call(void 0,r[u],t&&t[u],n)}(pt=Kl.prototype).setTimeout=function(n){this.P=n},pt.nb=function(n){n=n.target;const e=this.M;e&&3==lo(n)?e.l():this.Pa(n)},pt.Pa=function(n){try{if(n==this.g)e:{const b=lo(this.g);var e=this.g.Ia();if(this.g.da(),!(3>b)&&(3!=b||ef||this.g&&(this.h.h||this.g.ja()||qg(this.g)))){this.J||4!=b||7==e||bs(),Ug(this);var t=this.g.da();this.ca=t;t:if(x1(this)){var r=qg(this.g);n="";var s=r.length,u=4==lo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){pu(this),Ql(this);var l="";break t}this.h.i=new an.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function T1(n,e,t,r,s,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.W,b,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,v=this.g;if((m=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!du(m)){var C=m;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,ts(12),pu(this),Ql(this);break e}Ec(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tn(this,t)}this.S?(lf(this,b,l),ef&&this.i&&3==b&&(xI(this.U,this.V,"tick",this.mb),this.V.start())):(Ec(this.j,this.m,l,null),tn(this,l)),4==b&&pu(this),this.i&&!this.J&&(4==b?O_(this.l,this):(this.i=!1,Yl(this)))}else(function Ca(n){const e={};n=(n.g&&2<=lo(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(du(n[r]))continue;var t=fu(n[r]);const s=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[s]||[];e[s]=u,u.push(t)}!function bg(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,ts(12)):(this.o=0,ts(13)),pu(this),Ql(this)}}}catch{}},pt.mb=function(){if(this.g){var n=lo(this.g),e=this.g.ja();this.C<e.length&&(Ug(this),lf(this,n,e),this.i&&4!=n&&Yl(this))}},pt.cancel=function(){this.J=!0,pu(this)},pt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function PI(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(bs(),ts(17)),pu(this),this.o=2,Ql(this)):y_(this,this.Y-n)};var v_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zo(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof zo){this.h=n.h,Jl(this,n.j),this.s=n.s,this.g=n.g,gu(this,n.m),this.l=n.l;var e=n.i,t=new df;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),__(this,t),this.o=n.o}else n&&(e=String(n).match(v_))?(this.h=!1,Jl(this,e[1]||"",!0),this.s=Sc(e[2]||""),this.g=Sc(e[3]||"",!0),gu(this,e[4]),this.l=Sc(e[5]||"",!0),__(this,e[6]||"",!0),this.o=Sc(e[7]||"")):(this.h=!1,this.i=new df(null,this.h))}function gs(n){return new zo(n)}function Jl(n,e,t){n.j=t?Sc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function gu(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function __(n,e,t){e instanceof df?(n.i=e,function k1(n,e){e&&!n.j&&(mu(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(BI(this,r),I_(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=ed(e,UI)),n.i=new df(e,n.h))}function rr(n,e,t){n.i.set(e,t)}function Xl(n){return rr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Sc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ed(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,w_),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function w_(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}zo.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ed(e,VI,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ed(e,VI,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(ed(t,"/"==t.charAt(0)?N1:P1,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ed(t,R1)),n.join("")};var VI=/[#\/\?@]/g,P1=/[#\?:]/g,N1=/[#\?]/g,UI=/[#\?@]/g,R1=/#/g;function df(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function mu(n){n.g||(n.g=new Map,n.h=0,n.i&&function O1(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var u=n[t].substring(0,r);s=n[t].substring(r+1)}else u=n[t];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function BI(n,e){mu(n),e=td(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function E_(n,e){return mu(n),e=td(n,e),n.g.has(e)}function I_(n,e,t){BI(n,e),0<t.length&&(n.i=null,n.g.set(td(n,e),$l(t)),n.h+=t.length)}function td(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function jI(n){this.l=n||F1,n=an.PerformanceNavigationTiming?0<(n=an.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(an.g&&an.g.Ka&&an.g.Ka()&&an.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pt=df.prototype).add=function(n,e){mu(this),this.i=null,n=td(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},pt.forEach=function(n,e){mu(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)},pt.ta=function(){mu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let u=0;u<s.length;u++)t.push(e[r])}return t},pt.Z=function(n){mu(this);let e=[];if("string"==typeof n)E_(this,n)&&(e=e.concat(this.g.get(td(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},pt.set=function(n,e){return mu(this),this.i=null,E_(this,n=td(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},pt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},pt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var s=u;""!==l[r]&&(s+="="+encodeURIComponent(String(l[r]))),n.push(s)}}return this.i=n.join("&")};var F1=10;function L1(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Bg(n){return n.h?1:n.g?n.g.size:0}function jg(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function C_(n,e){n.g?n.g.add(e):n.h=e}function $I(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function HI(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return $l(n.i)}jI.prototype.cancel=function(){if(this.i=HI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var GI=class{stringify(n){return an.JSON.stringify(n,void 0)}parse(n){return an.JSON.parse(n,void 0)}};function V1(){this.g=new GI}function U1(n,e,t){const r=t||"";try{Tc(n,function(s,u){let l=s;Xh(s)&&(l=Pg(s)),e.push(r+u+"="+encodeURIComponent(l))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function $g(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function hf(n){this.l=n.fc||null,this.j=n.ob||!1}function Hg(n,e){wi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=b_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ar(hf,bc),hf.prototype.g=function(){return new Hg(this.l,this.j)},hf.prototype.i=function(n){return function(){return n}}({}),Ar(Hg,wi);var b_=0;function zI(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function ms(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ac(n)}function Ac(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(pt=Hg.prototype).open=function(n,e){if(this.readyState!=b_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ac(this)},pt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||an).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},pt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ms(this)),this.readyState=b_},pt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ac(this)),this.g&&(this.readyState=3,Ac(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof an.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zI(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},pt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ms(this):Ac(this),3==this.readyState&&zI(this)}},pt.Za=function(n){this.g&&(this.response=this.responseText=n,ms(this))},pt.Ya=function(n){this.g&&(this.response=n,ms(this))},pt.ka=function(){this.g&&ms(this)},pt.setRequestHeader=function(n,e){this.v.append(n,e)},pt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},pt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Hg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var B1=an.JSON.parse;function Mr(n){wi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=qI,this.L=this.M=!1}Ar(Mr,wi);var qI="",WI=/^https?$/i,ZI=["POST","PUT"];function zg(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,j1(n),ff(n)}function j1(n){n.F||(n.F=!0,Pi(n,"complete"),Pi(n,"error"))}function T_(n){if(n.h&&typeof Jh<"u"&&(!n.C[1]||4!=lo(n)||2!=n.da()))if(n.v&&4==lo(n))AI(n.La,0,n);else if(Pi(n,"readystatechange"),4==lo(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var s=String(n.I).match(v_)[1]||null;!s&&an.self&&an.self.location&&(s=an.self.location.protocol.slice(0,-1)),r=!WI.test(s?s.toLowerCase():"")}t=r}if(t)Pi(n,"complete"),Pi(n,"success");else{n.m=6;try{var u=2<lo(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",j1(n)}}finally{ff(n)}}}function ff(n,e){if(n.g){S_(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Pi(n,"ready");try{t.onreadystatechange=r}catch{}}}function S_(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(an.clearTimeout(n.A),n.A=null)}function lo(n){return n.g?n.g.readyState:0}function qg(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case qI:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function KI(n){let e="";return Jv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function A_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=KI(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):rr(n,e,t))}function Mc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function YI(n){this.Ga=0,this.j=[],this.l=new sf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Mc("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Mc("baseRetryDelayMs",5e3,n),this.hb=Mc("retryDelaySeedMs",1e4,n),this.eb=Mc("forwardChannelMaxRetries",2,n),this.xa=Mc("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new jI(n&&n.concurrentRequestLimit),this.Ja=new V1,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Wg(n){if(pf(n),3==n.H){var e=n.W++,t=gs(n.I);if(rr(t,"SID",n.K),rr(t,"RID",e),rr(t,"TYPE","terminate"),Kg(n,t),(e=new Kl(n,n.l,e)).L=2,e.v=Xl(gs(t)),t=!1,an.navigator&&an.navigator.sendBeacon)try{t=an.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&an.Image&&((new Image).src=e.v,t=!0),t||(e.g=eC(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Yl(e)}P_(n)}function Zg(n){n.g&&(x_(n),n.g.cancel(),n.g=null)}function pf(n){Zg(n),n.u&&(an.clearTimeout(n.u),n.u=null),mf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&an.clearTimeout(n.m),n.m=null)}function yu(n){if(!L1(n.i)&&!n.m){n.m=!0;var e=n.Na;nf||Rg(),Ng||(nf(),Ng=!0),c_.add(e,n),n.C=0}}function gf(n,e){var t;t=e?e.m:n.W++;const r=gs(n.I);rr(r,"SID",n.K),rr(r,"RID",t),rr(r,"AID",n.V),Kg(n,r),n.o&&n.s&&A_(r,n.o,n.s),t=new Kl(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=JI(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),C_(n.i,t),Vg(t,r,e)}function Kg(n,e){n.na&&Jv(n.na,function(t,r){rr(e,r,t)}),n.h&&Tc({},function(t,r){rr(e,r,t)})}function JI(n,e,t){t=Math.min(n.j.length,t);var r=n.h?vi(n.h.Va,n.h,n):null;e:{var s=n.j;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=s[0].g,l.push("ofs="+u)):u=0:l.push("ofs="+u);let m=!0;for(let v=0;v<t;v++){let C=s[v].g;const b=s[v].map;if(C-=u,0>C)u=Math.max(0,s[v].g-100),m=!1;else try{U1(b,l,"req"+C+"_")}catch{r&&r(b)}}if(m){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function M_(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;nf||Rg(),Ng||(nf(),Ng=!0),c_.add(e,n),n.A=0}}function Yg(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Wl(vi(n.Ma,n),nd(n,n.A)),n.A++,0))}function x_(n){null!=n.B&&(an.clearTimeout(n.B),n.B=null)}function XI(n){n.g=new Kl(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=gs(n.wa);rr(e,"RID","rpc"),rr(e,"SID",n.K),rr(e,"AID",n.V),rr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&rr(e,"TO",n.qa),rr(e,"TYPE","xmlhttp"),Kg(n,e),n.o&&n.s&&A_(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Xl(gs(e)),t.s=null,t.S=!0,m_(t,n)}function mf(n){null!=n.v&&(an.clearTimeout(n.v),n.v=null)}function O_(n,e){var t=null;if(n.g==e){mf(n),x_(n),n.g=null;var r=2}else{if(!jg(n.i,e))return;t=e.F,$I(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var s=n.C;Pi(r=af(),new RI(r,t)),yu(n)}else M_(n);else if(3==(s=e.o)||0==s&&0<e.ca||!(1==r&&function QI(n,e){return!(Bg(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Wl(vi(n.Na,n,e),nd(n,n.C)),n.C++,0)))}(n,e)||2==r&&Yg(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:xc(n,5);break;case 4:xc(n,10);break;case 3:xc(n,6);break;default:xc(n,2)}}function nd(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function xc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=vi(n.pb,n);t||(t=new zo("//www.google.com/images/cleardot.gif"),an.location&&"http"==an.location.protocol||Jl(t,"https"),Xl(t)),function D_(n,e){const t=new sf;if(an.Image){const r=new Image;r.onload=Bl($g,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Bl($g,t,r,"TestLoadImage: error",!1,e),r.onabort=Bl($g,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Bl($g,t,r,"TestLoadImage: timeout",!1,e),an.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ts(2);n.H=0,n.h&&n.h.za(e),P_(n),pf(n)}function P_(n){if(n.H=0,n.ma=[],n.h){const e=HI(n.i);(0!=e.length||0!=n.j.length)&&(yc(n.ma,e),yc(n.ma,n.j),n.i.i.length=0,$l(n.j),n.j.length=0),n.h.ya()}}function N_(n,e,t){var r=t instanceof zo?gs(t):new zo(t);if(""!=r.g)e&&(r.g=e+"."+r.g),gu(r,r.m);else{var s=an.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var u=new zo(null);r&&Jl(u,r),e&&(u.g=e),s&&gu(u,s),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&rr(r,t,e),rr(r,"VER",n.ra),Kg(n,r),r}function eC(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Mr(t&&n.Ha&&!n.va?new hf({ob:!0}):n.va)).Oa(n.J),e}function tC(){}function vu(){if(Hl&&!(10<=Number(Yv)))throw Error("Environmental error: no available transport.")}function Ss(n,e){wi.call(this),this.g=new YI(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!du(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!du(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new rd(this)}function nC(n){h_.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function rC(){f_.call(this),this.status=1}function rd(n){this.g=n}function ho(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function R_(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)r[s]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(s=0;16>s;++s)r[s]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],l=(e=n.g[0])+(u^(t=n.g[1])&((s=n.g[2])^u))+r[0]+3614090360&4294967295;l=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=t+(l<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^u&(t^s))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^s^u)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(s^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(s^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(s^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((u=(e=t+((l=e+(s^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((s=u+((l=s+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(s+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+s&4294967295,n.g[3]=n.g[3]+u&4294967295}function Jn(n,e){this.h=e;for(var t=[],r=!0,s=n.length-1;0<=s;s--){var u=0|n[s];r&&u==e||(t[s]=u,r=!1)}this.g=t}(pt=Mr.prototype).Oa=function(n){this.M=n},pt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():p_.g(),this.C=function cf(n){return n.h||(n.h=n.i())}(this.u?this.u:p_),this.g.onreadystatechange=vi(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void zg(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),s=an.FormData&&n instanceof an.FormData,!(0<=jl(ZI,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{S_(this),0<this.B&&((this.L=function Gg(n){return Hl&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vi(this.ua,this)):this.A=AI(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){zg(this,u)}},pt.ua=function(){typeof Jh<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pi(this,"timeout"),this.abort(8))},pt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Pi(this,"complete"),Pi(this,"abort"),ff(this))},pt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ff(this,!0)),Mr.$.N.call(this)},pt.La=function(){this.s||(this.G||this.v||this.l?T_(this):this.kb())},pt.kb=function(){T_(this)},pt.isActive=function(){return!!this.g},pt.da=function(){try{return 2<lo(this)?this.g.status:-1}catch{return-1}},pt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},pt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),B1(e)}},pt.Ia=function(){return this.m},pt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(pt=YI.prototype).ra=8,pt.H=1,pt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const s=new Kl(this,this.l,n);let u=this.s;if(this.U&&(u?(u=DI(u),ql(u,this.U)):u=this.U),null!==this.o||this.O||(s.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=JI(this,s,e),rr(t=gs(this.I),"RID",n),rr(t,"CVER",22),this.F&&rr(t,"X-HTTP-Session-Id",this.F),Kg(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(KI(u)))+"&"+e:this.o&&A_(t,this.o,u)),C_(this.i,s),this.bb&&rr(t,"TYPE","init"),this.P?(rr(t,"$req",e),rr(t,"SID","null"),s.aa=!0,Vg(s,t,null)):Vg(s,t,e),this.H=2}}else 3==this.H&&(n?gf(this,n):0==this.j.length||L1(this.i)||gf(this))},pt.Ma=function(){if(this.u=null,XI(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Wl(vi(this.jb,this),n)}},pt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ts(10),Zg(this),XI(this))},pt.ib=function(){null!=this.v&&(this.v=null,Zg(this),Yg(this),ts(19))},pt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),ts(2)):(this.l.info("Failed to ping google.com"),ts(1))},pt.isActive=function(){return!!this.h&&this.h.isActive(this)},(pt=tC.prototype).Ba=function(){},pt.Aa=function(){},pt.za=function(){},pt.ya=function(){},pt.isActive=function(){return!0},pt.Va=function(){},vu.prototype.g=function(n,e){return new Ss(n,e)},Ar(Ss,wi),Ss.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;ts(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=N_(n,null,n.Y),yu(n)},Ss.prototype.close=function(){Wg(this.g)},Ss.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Pg(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&yu(e)},Ss.prototype.N=function(){this.g.h=null,delete this.j,Wg(this.g),delete this.g,Ss.$.N.call(this)},Ar(nC,h_),Ar(rC,f_),Ar(rd,tC),rd.prototype.Ba=function(){Pi(this.g,"a")},rd.prototype.Aa=function(n){Pi(this.g,new nC(n))},rd.prototype.za=function(n){Pi(this.g,new rC)},rd.prototype.ya=function(){Pi(this.g,"b")},Ar(ho,function $1(){this.blockSize=-1}),ho.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ho.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,s=this.h,u=0;u<e;){if(0==s)for(;u<=t;)R_(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[s++]=n.charCodeAt(u++),s==this.blockSize){R_(this,r),s=0;break}}else for(;u<e;)if(r[s++]=n[u++],s==this.blockSize){R_(this,r),s=0;break}}this.h=s,this.i+=e},ho.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var iC={};function yf(n){return-128<=n&&128>n?function v1(n,e){var t=iC;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Jn([0|e],0>e?-1:0)}):new Jn([0|n],0>n?-1:0)}function qo(n){if(isNaN(n)||!isFinite(n))return id;if(0>n)return Ni(qo(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=k_;return new Jn(e,0)}var k_=4294967296,id=yf(0),F_=yf(1),sC=yf(16777216);function Da(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Zs(n){return-1==n.h}function Ni(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Jn(t,~n.h).add(F_)}function _f(n,e){return n.add(Ni(e))}function wf(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Ef(n,e){this.g=n,this.h=e}function L_(n,e){if(Da(e))throw Error("division by zero");if(Da(n))return new Ef(id,id);if(Zs(n))return e=L_(Ni(n),e),new Ef(Ni(e.g),Ni(e.h));if(Zs(e))return e=L_(n,Ni(e)),new Ef(Ni(e.g),e.h);if(30<n.g.length){if(Zs(n)||Zs(e))throw Error("slowDivide_ only works with positive integers.");for(var t=F_,r=e;0>=r.X(n);)t=V_(t),r=V_(r);var s=Oc(t,1),u=Oc(r,1);for(r=Oc(r,2),t=Oc(t,2);!Da(r);){var l=u.add(r);0>=l.X(n)&&(s=s.add(t),u=l),r=Oc(r,1),t=Oc(t,1)}return e=_f(n,s.R(e)),new Ef(s,e)}for(s=id;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(u=qo(t)).R(e);Zs(l)||0<l.X(n);)l=(u=qo(t-=r)).R(e);Da(u)&&(u=F_),s=s.add(u),n=_f(n,l)}return new Ef(s,n)}function V_(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Jn(t,n.h)}function Oc(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,s=[],u=0;u<r;u++)s[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new Jn(s,n.h)}(pt=Jn.prototype).ea=function(){if(Zs(this))return-Ni(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:k_+r)*e,e*=k_}return n},pt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Da(this))return"0";if(Zs(this))return"-"+Ni(this).toString(n);for(var e=qo(Math.pow(n,6)),t=this,r="";;){var s=L_(t,e).g,u=((0<(t=_f(t,s.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Da(t=s))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},pt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},pt.X=function(n){return Zs(n=_f(this,n))?-1:Da(n)?0:1},pt.abs=function(){return Zs(this)?Ni(this):this},pt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,s=0;s<=e;s++){var u=r+(65535&this.D(s))+(65535&n.D(s)),l=(u>>>16)+(this.D(s)>>>16)+(n.D(s)>>>16);r=l>>>16,t[s]=(l&=65535)<<16|(u&=65535)}return new Jn(t,-2147483648&t[t.length-1]?-1:0)},pt.R=function(n){if(Da(this)||Da(n))return id;if(Zs(this))return Zs(n)?Ni(this).R(Ni(n)):Ni(Ni(this).R(n));if(Zs(n))return Ni(this.R(Ni(n)));if(0>this.X(sC)&&0>n.X(sC))return qo(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<n.g.length;s++){var u=this.D(r)>>>16,l=65535&this.D(r),m=n.D(s)>>>16,v=65535&n.D(s);t[2*r+2*s]+=l*v,wf(t,2*r+2*s),t[2*r+2*s+1]+=u*v,wf(t,2*r+2*s+1),t[2*r+2*s+1]+=l*m,wf(t,2*r+2*s+1),t[2*r+2*s+2]+=u*m,wf(t,2*r+2*s+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Jn(t,0)},pt.gb=function(n){return L_(this,n).h},pt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Jn(t,this.h&n.h)},pt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Jn(t,this.h|n.h)},pt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Jn(t,this.h^n.h)},vu.prototype.createWebChannel=vu.prototype.g,Ss.prototype.send=Ss.prototype.u,Ss.prototype.open=Ss.prototype.m,Ss.prototype.close=Ss.prototype.close,uf.NO_ERROR=0,uf.TIMEOUT=8,uf.HTTP_ERROR=6,Fg.COMPLETE="complete",d_.EventType=Zl,Zl.OPEN="a",Zl.CLOSE="b",Zl.ERROR="c",Zl.MESSAGE="d",wi.prototype.listen=wi.prototype.O,Mr.prototype.listenOnce=Mr.prototype.P,Mr.prototype.getLastError=Mr.prototype.Sa,Mr.prototype.getLastErrorCode=Mr.prototype.Ia,Mr.prototype.getStatus=Mr.prototype.da,Mr.prototype.getResponseJson=Mr.prototype.Wa,Mr.prototype.getResponseText=Mr.prototype.ja,Mr.prototype.send=Mr.prototype.ha,Mr.prototype.setWithCredentials=Mr.prototype.Oa,ho.prototype.digest=ho.prototype.l,ho.prototype.reset=ho.prototype.reset,ho.prototype.update=ho.prototype.j,Jn.prototype.add=Jn.prototype.add,Jn.prototype.multiply=Jn.prototype.R,Jn.prototype.modulo=Jn.prototype.gb,Jn.prototype.compare=Jn.prototype.X,Jn.prototype.toNumber=Jn.prototype.ea,Jn.prototype.toString=Jn.prototype.toString,Jn.prototype.getBits=Jn.prototype.D,Jn.fromNumber=qo,Jn.fromString=function vf(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ni(vf(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=qo(Math.pow(e,8)),r=id,s=0;s<n.length;s+=8){var u=Math.min(8,n.length-s),l=parseInt(n.substring(s,s+u),e);8>u?(u=qo(Math.pow(e,u)),r=r.R(u).add(qo(l))):r=(r=r.R(t)).add(qo(l))}return r};var zM=uo.createWebChannelTransport=function(){return new vu},Qg=uo.getStatEventTarget=function(){return af()},U_=uo.ErrorCode=uf,H1=uo.EventType=Fg,B_=uo.Event=Ic,oC=uo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Wo=uo.FetchXmlHttpFactory=hf,_u=uo.WebChannel=d_,zi=uo.XhrIo=Mr,Pc=uo.Md5=ho,ba=uo.Integer=Jn;const As="@firebase/firestore";class Yr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yr.UNAUTHENTICATED=new Yr(null),Yr.GOOGLE_CREDENTIALS=new Yr("google-credentials-uid"),Yr.FIRST_PARTY=new Yr("first-party-uid"),Yr.MOCK_USER=new Yr("mock-user");let fo="9.23.0";const Ms=new lu.Yd("@firebase/firestore");function wu(){return Ms.logLevel}function ze(n,...e){if(Ms.logLevel<=lu.in.DEBUG){const t=e.map(Eu);Ms.debug(`Firestore (${fo}): ${n}`,...t)}}function cr(n,...e){if(Ms.logLevel<=lu.in.ERROR){const t=e.map(Eu);Ms.error(`Firestore (${fo}): ${n}`,...t)}}function Ri(n,...e){if(Ms.logLevel<=lu.in.WARN){const t=e.map(Eu);Ms.warn(`Firestore (${fo}): ${n}`,...t)}}function Eu(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function mt(n="Unexpected state"){const e=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: `+n;throw cr(e),new Error(e)}function St(n,e){n||mt()}function dt(n,e){return n}const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends Fn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class j_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yr.UNAUTHENTICATED))}shutdown(){}}class cC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class $_{constructor(e){this.t=e,this.currentUser=Yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const u=C=>this.i!==s?(s=this.i,t(C)):Promise.resolve();let l=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Qr,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const C=l;e.enqueueRetryable((0,we.Z)(function*(){yield C.promise,yield u(r.currentUser)}))},v=C=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(C=>v(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?v(C):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Qr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(St("string"==typeof r.accessToken),new j_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return St(null===e||"string"==typeof e),new Yr(e)}}class G1{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Yr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class qM{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new G1(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Yr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class z1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q1{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.T;return this.T=u.token,ze("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const s=u=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>s(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?s(u):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(St("string"==typeof t.token),this.T=t.token,new z1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ZM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class lC{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const s=ZM(40);for(let u=0;u<s.length;++u)r.length<20&&s[u]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(s[u]%62))}return r}}function sn(n,e){return n<e?-1:n>e?1:0}function od(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}function dC(n){return n+"\0"}class wr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new je(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new je(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new je(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wr.fromMillis(Date.now())}static fromDate(e){return wr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new wr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?sn(this.nanoseconds,e.nanoseconds):sn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class At{constructor(e){this.timestamp=e}static fromTimestamp(e){return new At(e)}static min(){return new At(new wr(0,0))}static max(){return new At(new wr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ta{constructor(e,t,r){void 0===t?t=0:t>e.length&&mt(),void 0===r?r=e.length-t:r>e.length-t&&mt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Ta.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ta?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const u=e.get(s),l=t.get(s);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class On extends Ta{construct(e,t,r){return new On(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new je(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new On(t)}static emptyPath(){return new On([])}}const Jg=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xr extends Ta{construct(e,t,r){return new xr(e,t,r)}static isValidIdentifier(e){return Jg.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xr(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const u=()=>{if(0===r.length)throw new je(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const m=e[s];if("\\"===m){if(s+1===e.length)throw new je(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[s+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new je(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,s+=2}else"`"===m?(l=!l,s++):"."!==m||l?(r+=m,s++):(u(),s++)}if(u(),l)throw new je(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xr(t)}static emptyPath(){return new xr([])}}class it{constructor(e){this.path=e}static fromPath(e){return new it(On.fromString(e))}static fromName(e){return new it(On.fromString(e).popFirst(5))}static empty(){return new it(On.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===On.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return On.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new it(new On(e.slice()))}}class If{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function H_(n){return n.fields.find(e=>2===e.kind)}function po(n){return n.fields.filter(e=>2!==e.kind)}If.UNKNOWN_ID=-1;class Xg{constructor(e,t){this.fieldPath=e,this.kind=t}}class Cf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Cf(0,qi.min())}}function em(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=At.fromTimestamp(1e9===r?new wr(t+1,0):new wr(t,r));return new qi(s,it.empty(),e)}function Df(n){return new qi(n.readTime,n.key,-1)}class qi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new qi(At.min(),it.empty(),-1)}static max(){return new qi(At.max(),it.empty(),-1)}}function hC(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=it.comparator(n.documentKey,e.documentKey),0!==t?t:sn(n.largestBatchId,e.largestBatchId))}const fC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Zo(n){return G_.apply(this,arguments)}function G_(){return G_=(0,we.Z)(function*(n){if(n.code!==ye.FAILED_PRECONDITION||n.message!==fC)throw n;ze("LocalStore","Unexpectedly lost primary lease")}),G_.apply(this,arguments)}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((r,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,s)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,r)=>{t(e)})}static reject(e){return new le((t,r)=>{r(e)})}static waitFor(e){return new le((t,r)=>{let s=0,u=0,l=!1;e.forEach(m=>{++s,m.next(()=>{++u,l&&u===s&&t()},v=>r(v))}),l=!0,u===s&&t()})}static or(e){let t=le.resolve(!1);for(const r of e)t=t.next(s=>s?le.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,u)=>{r.push(t.call(this,s,u))}),this.waitFor(r)}static mapArray(e,t){return new le((r,s)=>{const u=e.length,l=new Array(u);let m=0;for(let v=0;v<u;v++){const C=v;t(e[C]).next(b=>{l[C]=b,++m,m===u&&r(l)},b=>s(b))}})}static doWhile(e,t){return new le((r,s)=>{const u=()=>{!0===e()?t().next(()=>{u()},s):r()};u()})}}class tm{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Qr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new ad(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const s=nm(r.target.error);this.v.reject(new ad(e,s))}}static open(e,t,r,s){try{return new tm(t,e.transaction(s,r))}catch(u){throw new ad(t,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(ze("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new K1(t)}}class go{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===go.S((0,Fn.z$)())&&cr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ze("SimpleDb","Removing database:",e),Nc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Fn.hl)())return!1;if(go.C())return!0;const e=(0,Fn.z$)(),t=go.S(e),r=0<t&&t<10,s=go.N(e),u=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,we.Z)(function*(){return t.db||(ze("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,s)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=l=>{r(l.target.result)},u.onblocked=()=>{s(new ad(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=l=>{const m=l.target.error;s("VersionError"===m.name?new je(ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new je(ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new ad(e,m))},u.onupgradeneeded=l=>{ze("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,u.transaction,l.oldVersion,t.version).next(()=>{ze("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,s){var u=this;return(0,we.Z)(function*(){const l="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.$(e);const v=tm.open(u.db,e,l?"readonly":"readwrite",r),C=s(v).next(b=>(v.P(),b)).catch(b=>(v.abort(b),le.reject(b))).toPromise();return C.catch(()=>{}),yield v.R,C}catch(v){const C=v,b="FirebaseError"!==C.name&&m<3;if(ze("SimpleDb","Transaction failed with error:",C.message,"Retrying:",b),u.close(),!b)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class gC{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Nc(this.L.delete())}}class ad extends je{constructor(e,t){super(ye.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Sa(n){return"IndexedDbTransactionError"===n.name}class K1{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ze("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ze("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Nc(r)}add(e){return ze("SimpleDb","ADD",this.store.name,e,e),Nc(this.store.add(e))}get(e){return Nc(this.store.get(e)).next(t=>(void 0===t&&(t=null),ze("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ze("SimpleDb","DELETE",this.store.name,e),Nc(this.store.delete(e))}count(){return ze("SimpleDb","COUNT",this.store.name),Nc(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const s=this.cursor(r),u=[];return this.W(s,(l,m)=>{u.push(m)}).next(()=>u)}{const s=this.store.getAll(r.range);return new le((u,l)=>{s.onerror=m=>{l(m.target.error)},s.onsuccess=m=>{u(m.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new le((s,u)=>{r.onerror=l=>{u(l.target.error)},r.onsuccess=l=>{s(l.target.result)}})}J(e,t){ze("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const s=this.cursor(r);return this.W(s,(u,l,m)=>m.delete())}X(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.W(s,t)}Z(e){const t=this.cursor({});return new le((r,s)=>{t.onerror=u=>{const l=nm(u.target.error);s(l)},t.onsuccess=u=>{const l=u.target.result;l?e(l.primaryKey,l.value).next(m=>{m?l.continue():r()}):r()}})}W(e,t){const r=[];return new le((s,u)=>{e.onerror=l=>{u(l.target.error)},e.onsuccess=l=>{const m=l.target.result;if(!m)return void s();const v=new gC(m),C=t(m.primaryKey,m.value,v);if(C instanceof le){const b=C.catch(x=>(v.done(),le.reject(x)));r.push(b)}v.isDone?s():null===v.K?m.continue():m.continue(v.K)}}).next(()=>le.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Nc(n){return new le((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const s=nm(r.target.error);t(s)}})}let mC=!1;function nm(n){const e=go.S((0,Fn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new je("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return mC||(mC=!0,setTimeout(()=>{throw r},0)),r}}return n}class z_{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;ze("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,we.Z)(function*(){t.task=null;try{ze("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Sa(r)?ze("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Zo(r)}yield t.et(6e4)}))}}class q_{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,we.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let s=t,u=!0;return le.doWhile(()=>!0===u&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return ze("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,s).next(m=>{s-=m,r.add(l)});u=!1})).next(()=>t-s)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next(u=>{const l=u.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(s,u)).next(m=>(ze("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>l.size)}))}rt(e,t){let r=e;return t.changes.forEach((s,u)=>{const l=Df(u);hC(l,r)>0&&(r=l)}),new qi(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let xs=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>r.writeSequenceNumber(s))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Iu(n){return null==n}function Cu(n){return 0===n&&1/n==-1/0}function rm(n){return"number"==typeof n&&Number.isInteger(n)&&!Cu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ki(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=yC(e)),e=Y1(n.get(t),e);return yC(e)}function Y1(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const u=n.charAt(s);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function yC(n){return n+"\x01\x01"}function Ko(n){const e=n.length;if(St(e>=2),2===e)return St("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),On.emptyPath();const t=e-2,r=[];let s="";for(let u=0;u<e;){const l=n.indexOf("\x01",u);switch((l<0||l>t)&&mt(),n.charAt(l+1)){case"\x01":const m=n.substring(u,l);let v;0===s.length?v=m:(s+=m,v=s,s=""),r.push(v);break;case"\x10":s+=n.substring(u,l),s+="\0";break;case"\x11":s+=n.substring(u,l+1);break;default:mt()}u=l+2}return new On(r)}const im=["userId","batchId"];function ud(n,e){return[n,ki(e)]}function W_(n,e,t){return[n,ki(e),t]}const vC={},Q1=["prefixPath","collectionGroup","readTime","documentId"],J1=["prefixPath","collectionGroup","documentId"],_C=["collectionGroup","readTime","prefixPath","documentId"],Z_=["canonicalId","targetId"],wC=["targetId","path"],K_=["path","targetId"],EC=["collectionId","parent"],X1=["indexId","uid"],IC=["uid","sequenceNumber"],CC=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],DC=["indexId","uid","orderedDocumentKey"],bC=["userId","collectionPath","documentId"],eS=["userId","collectionPath","largestBatchId"],tS=["userId","collectionGroup","largestBatchId"],TC=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],SC=[...TC,"documentOverlays"],sm=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Y_=sm,AC=[...Y_,"indexConfiguration","indexState","indexEntries"];class om extends pC{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function hi(n,e){const t=dt(n);return go.M(t.ht,e)}function Q_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Aa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function J_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ir{constructor(e,t){this.comparator=e,this.root=t||Er.EMPTY}insert(e,t){return new ir(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Er.BLACK,null,null))}remove(e){return new ir(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Er.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rc(this.root,e,this.comparator,!0)}}class Rc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Er{constructor(e,t,r,s,u){this.key=e,this.value=t,this.color=r??Er.RED,this.left=s??Er.EMPTY,this.right=u??Er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,u){return new Er(e??this.key,t??this.value,r??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const u=r(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===u?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return Er.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const e=this.left.check();if(e!==this.right.check())throw mt();return e+(this.isRed()?0:1)}}Er.EMPTY=null,Er.RED=!0,Er.BLACK=!1,Er.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(n,e,t,r,s){return this}insert(n,e,t){return new Er(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pr{constructor(e){this.comparator=e,this.data=new ir(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new MC(this.data.getIterator())}getIteratorFrom(e){return new MC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof pr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(s,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new pr(this.comparator);return t.data=e,t}}class MC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Du(n){return n.hasNext()?n.getNext():void 0}class Jr{constructor(e){this.fields=e,e.sort(xr.comparator)}static empty(){return new Jr([])}unionWith(e){let t=new pr(xr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Jr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return od(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class am extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $r{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new am("Invalid base64 string: "+s):s}}(e);return new $r(t)}static fromUint8Array(e){const t=function(r){let s="";for(let u=0;u<r.length;++u)s+=String.fromCharCode(r[u]);return s}(e);return new $r(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$r.EMPTY_BYTE_STRING=new $r("");const KM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kc(n){if(St(!!n),"string"==typeof n){let e=0;const t=KM.exec(n);if(St(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fr(n.seconds),nanos:Fr(n.nanos)}}function Fr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ma(n){return"string"==typeof n?$r.fromBase64String(n):$r.fromUint8Array(n)}function bf(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function um(n){const e=n.mapValue.fields.__previous_value__;return bf(e)?um(e):e}function Or(n){const e=kc(n.mapValue.fields.__local_write_time__.timestampValue);return new wr(e.seconds,e.nanos)}class xC{constructor(e,t,r,s,u,l,m,v,C){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=m,this.longPollingOptions=v,this.useFetchStreams=C}}class bu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new bu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof bu&&e.projectId===this.projectId&&e.database===this.database}}const Tu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Tf={nullValue:"NULL_VALUE"};function Su(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?bf(n)?4:vo(n)?9007199254740991:10:mt()}function mo(n,e){if(n===e)return!0;const t=Su(n);if(t!==Su(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Or(n).isEqual(Or(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const u=kc(r.timestampValue),l=kc(s.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Ma(n.bytesValue).isEqual(Ma(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Fr(r.geoPointValue.latitude)===Fr(s.geoPointValue.latitude)&&Fr(r.geoPointValue.longitude)===Fr(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Fr(r.integerValue)===Fr(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const u=Fr(r.doubleValue),l=Fr(s.doubleValue);return u===l?Cu(u)===Cu(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return od(n.arrayValue.values||[],e.arrayValue.values||[],mo);case 10:return function(r,s){const u=r.mapValue.fields||{},l=s.mapValue.fields||{};if(Q_(u)!==Q_(l))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===l[m]||!mo(u[m],l[m])))return!1;return!0}(n,e);default:return mt()}var s}function cd(n,e){return void 0!==(n.values||[]).find(t=>mo(t,e))}function Os(n,e){if(n===e)return 0;const t=Su(n),r=Su(e);if(t!==r)return sn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return sn(n.booleanValue,e.booleanValue);case 2:return function(s,u){const l=Fr(s.integerValue||s.doubleValue),m=Fr(u.integerValue||u.doubleValue);return l<m?-1:l>m?1:l===m?0:isNaN(l)?isNaN(m)?0:-1:1}(n,e);case 3:return OC(n.timestampValue,e.timestampValue);case 4:return OC(Or(n),Or(e));case 5:return sn(n.stringValue,e.stringValue);case 6:return function(s,u){const l=Ma(s),m=Ma(u);return l.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(s,u){const l=s.split("/"),m=u.split("/");for(let v=0;v<l.length&&v<m.length;v++){const C=sn(l[v],m[v]);if(0!==C)return C}return sn(l.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,u){const l=sn(Fr(s.latitude),Fr(u.latitude));return 0!==l?l:sn(Fr(s.longitude),Fr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,u){const l=s.values||[],m=u.values||[];for(let v=0;v<l.length&&v<m.length;++v){const C=Os(l[v],m[v]);if(C)return C}return sn(l.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,u){if(s===Tu.mapValue&&u===Tu.mapValue)return 0;if(s===Tu.mapValue)return 1;if(u===Tu.mapValue)return-1;const l=s.fields||{},m=Object.keys(l),v=u.fields||{},C=Object.keys(v);m.sort(),C.sort();for(let b=0;b<m.length&&b<C.length;++b){const x=sn(m[b],C[b]);if(0!==x)return x;const z=Os(l[m[b]],v[C[b]]);if(0!==z)return z}return sn(m.length,C.length)}(n.mapValue,e.mapValue);default:throw mt()}}function OC(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return sn(n,e);const t=kc(n),r=kc(e),s=sn(t.seconds,r.seconds);return 0!==s?s:sn(t.nanos,r.nanos)}function ld(n){return cm(n)}function cm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=kc(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ma(n.bytesValue).toBase64():"referenceValue"in n?it.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",u=!0;for(const l of r.values||[])u?u=!1:s+=",",s+=cm(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const m of s)l?l=!1:u+=",",u+=`${m}:${cm(r.fields[m])}`;return u+"}"}(n.mapValue):mt();var e}function Au(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function PC(n){return!!n&&"integerValue"in n}function dd(n){return!!n&&"arrayValue"in n}function dm(n){return!!n&&"nullValue"in n}function yo(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hm(n){return!!n&&"mapValue"in n}function hd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Aa(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=hd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function vo(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function _o(n){return"nullValue"in n?Tf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Au(bu.empty(),it.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:mt()}function wo(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Au(bu.empty(),it.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Tu:mt()}function X_(n,e){const t=Os(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function e0(n,e){const t=Os(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Fi{constructor(e){this.value=e}static empty(){return new Fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!hm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hd(t)}setAll(e){let t=xr.emptyPath(),r={},s=[];e.forEach((l,m)=>{if(!t.isImmediateParentOf(m)){const v=this.getFieldsMap(t);this.applyChanges(v,r,s),r={},s=[],t=m.popLast()}l?r[m.lastSegment()]=hd(l):s.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,s)}delete(e){const t=this.field(e.popLast());hm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return mo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];hm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Aa(t,(s,u)=>e[s]=u);for(const s of r)delete e[s]}clone(){return new Fi(hd(this.value))}}function NC(n){const e=[];return Aa(n.fields,(t,r)=>{const s=new xr([t]);if(hm(r)){const u=NC(r.mapValue).fields;if(0===u.length)e.push(s);else for(const l of u)e.push(s.child(l))}else e.push(s)}),new Jr(e)}class gr{constructor(e,t,r,s,u,l,m){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=u,this.data=l,this.documentState=m}static newInvalidDocument(e){return new gr(e,0,At.min(),At.min(),At.min(),Fi.empty(),0)}static newFoundDocument(e,t,r,s){return new gr(e,1,t,At.min(),r,s,0)}static newNoDocument(e,t){return new gr(e,2,t,At.min(),At.min(),Fi.empty(),0)}static newUnknownDocument(e,t){return new gr(e,3,t,At.min(),At.min(),Fi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(At.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mu{constructor(e,t){this.position=e,this.inclusive=t}}function fm(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const u=e[s],l=n.position[s];if(r=u.field.isKeyField()?it.comparator(it.fromName(l.referenceValue),t.key):Os(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function fd(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!mo(n.position[t],e.position[t]))return!1;return!0}class pd{constructor(e,t="asc"){this.field=e,this.dir=t}}function RC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class kC{}class Pn extends kC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new s0(e,t,r):"array-contains"===t?new VC(e,r):"in"===t?new u0(e,r):"not-in"===t?new UC(e,r):"array-contains-any"===t?new BC(e,r):new Pn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new gm(e,r):new o0(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Os(t,this.value)):null!==t&&Su(this.value)===Su(t)&&this.matchesComparison(Os(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class qn extends kC{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new qn(e,t)}matches(e){return Fc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Fc(n){return"and"===n.op}function gd(n){return"or"===n.op}function t0(n){return n0(n)&&Fc(n)}function n0(n){for(const e of n.filters)if(e instanceof qn)return!1;return!0}function pm(n){if(n instanceof Pn)return n.field.canonicalString()+n.op.toString()+ld(n.value);if(t0(n))return n.filters.map(e=>pm(e)).join(",");{const e=n.filters.map(t=>pm(t)).join(",");return`${n.op}(${e})`}}function r0(n,e){return n instanceof Pn?(t=n,(r=e)instanceof Pn&&t.op===r.op&&t.field.isEqual(r.field)&&mo(t.value,r.value)):n instanceof qn?function(t,r){return r instanceof qn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((s,u,l)=>s&&r0(u,r.filters[l]),!0)}(n,e):void mt();var t,r}function FC(n,e){const t=n.filters.concat(e);return qn.create(t,n.op)}function LC(n){return n instanceof Pn?`${(e=n).field.canonicalString()} ${e.op} ${ld(e.value)}`:n instanceof qn?function(e){return e.op.toString()+" {"+e.getFilters().map(LC).join(" ,")+"}"}(n):"Filter";var e}class s0 extends Pn{constructor(e,t,r){super(e,t,r),this.key=it.fromName(r.referenceValue)}matches(e){const t=it.comparator(e.key,this.key);return this.matchesComparison(t)}}class gm extends Pn{constructor(e,t){super(e,"in",t),this.keys=a0(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class o0 extends Pn{constructor(e,t){super(e,"not-in",t),this.keys=a0(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function a0(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>it.fromName(r.referenceValue))}class VC extends Pn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return dd(t)&&cd(t.arrayValue,this.value)}}class u0 extends Pn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&cd(this.value.arrayValue,t)}}class UC extends Pn{constructor(e,t){super(e,"not-in",t)}matches(e){if(cd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!cd(this.value.arrayValue,t)}}class BC extends Pn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!dd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>cd(this.value.arrayValue,r))}}class jC{constructor(e,t=null,r=[],s=[],u=null,l=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=u,this.startAt=l,this.endAt=m,this.dt=null}}function mm(n,e=null,t=[],r=[],s=null,u=null,l=null){return new jC(n,e,t,r,s,u,l)}function Lc(n){const e=dt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>pm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Iu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ld(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ld(r)).join(",")),e.dt=t}return e.dt}function Sf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!RC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!r0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!fd(n.startAt,e.startAt)&&fd(n.endAt,e.endAt)}function ym(n){return it.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function vm(n,e){return n.filters.filter(t=>t instanceof Pn&&t.field.isEqual(e))}function $C(n,e,t){let r=Tf,s=!0;for(const u of vm(n,e)){let l=Tf,m=!0;switch(u.op){case"<":case"<=":l=_o(u.value);break;case"==":case"in":case">=":l=u.value;break;case">":l=u.value,m=!1;break;case"!=":case"not-in":l=Tf}X_({value:r,inclusive:s},{value:l,inclusive:m})<0&&(r=l,s=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];X_({value:r,inclusive:s},{value:l,inclusive:t.inclusive})<0&&(r=l,s=t.inclusive);break}return{value:r,inclusive:s}}function HC(n,e,t){let r=Tu,s=!0;for(const u of vm(n,e)){let l=Tu,m=!0;switch(u.op){case">=":case">":l=wo(u.value),m=!1;break;case"==":case"in":case"<=":l=u.value;break;case"<":l=u.value,m=!1;break;case"!=":case"not-in":l=Tu}e0({value:r,inclusive:s},{value:l,inclusive:m})>0&&(r=l,s=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];e0({value:r,inclusive:s},{value:l,inclusive:t.inclusive})>0&&(r=l,s=t.inclusive);break}return{value:r,inclusive:s}}class xa{constructor(e,t=null,r=[],s=[],u=null,l="F",m=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=u,this.limitType=l,this.startAt=m,this.endAt=v,this.wt=null,this._t=null}}function GC(n,e,t,r,s,u,l,m){return new xa(n,e,t,r,s,u,l,m)}function md(n){return new xa(n)}function zC(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function c0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function _m(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function l0(n){return null!==n.collectionGroup}function Vc(n){const e=dt(n);if(null===e.wt){e.wt=[];const t=_m(e),r=c0(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new pd(t)),e.wt.push(new pd(xr.keyField(),"asc"));else{let s=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(s=!0);if(!s){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new pd(xr.keyField(),u))}}}return e.wt}function ns(n){const e=dt(n);if(!e._t)if("F"===e.limitType)e._t=mm(e.path,e.collectionGroup,Vc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Vc(e))t.push(new pd(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Mu(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Mu(e.startAt.position,e.startAt.inclusive):null;e._t=mm(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e._t}function d0(n,e){e.getFirstInequalityField(),_m(n);const t=n.filters.concat([e]);return new xa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function wm(n,e,t){return new xa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Af(n,e){return Sf(ns(n),ns(e))&&n.limitType===e.limitType}function h0(n){return`${Lc(ns(n))}|lt:${n.limitType}`}function Em(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>LC(r)).join(", ")}]`),Iu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ld(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ld(r)).join(",")),`Target(${t})`}(ns(n))}; limitType=${n.limitType})`}function yd(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):it.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of Vc(t))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,u,l){const m=fm(s,u,l);return s.inclusive?m<=0:m<0}(t.startAt,Vc(t),r)||t.endAt&&!function(s,u,l){const m=fm(s,u,l);return s.inclusive?m>=0:m>0}(t.endAt,Vc(t),r)));var t,r}function f0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function p0(n){return(e,t)=>{let r=!1;for(const s of Vc(n)){const u=qC(s,e,t);if(0!==u)return u;r=r||s.field.isKeyField()}return 0}}function qC(n,e,t){const r=n.field.isKeyField()?it.comparator(e.key,t.key):function(s,u,l){const m=u.data.field(s),v=l.data.field(s);return null!==m&&null!==v?Os(m,v):mt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return mt()}}class Yo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,u]of r)if(this.equalsFn(s,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Aa(this.inner,(t,r)=>{for(const[s,u]of r)e(s,u)})}isEmpty(){return J_(this.inner)}size(){return this.innerSize}}const WC=new ir(it.comparator);function rs(){return WC}const g0=new ir(it.comparator);function vd(...n){let e=g0;for(const t of n)e=e.insert(t.key,t);return e}function xu(n){let e=g0;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Qo(){return Jo()}function ZC(){return Jo()}function Jo(){return new Yo(n=>n.toString(),(n,e)=>n.isEqual(e))}const YM=new ir(it.comparator),m0=new pr(it.comparator);function yn(...n){let e=m0;for(const t of n)e=e.add(t);return e}const KC=new pr(sn);function Im(){return KC}function rS(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cu(e)?"-0":e}}function Uc(n){return{integerValue:""+n}}function YC(n,e){return rm(e)?Uc(e):rS(n,e)}class Cm{constructor(){this._=void 0}}function iS(n,e,t){return n instanceof Oa?function(r,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&bf(s)&&(s=um(s)),s&&(u.fields.__previous_value__=s),{mapValue:u}}(t,e):n instanceof Xo?is(n,e):n instanceof wd?y0(n,e):function(r,s){const u=QC(r,s),l=JC(u)+JC(r.gt);return PC(u)&&PC(r.gt)?Uc(l):rS(r.serializer,l)}(n,e)}function _d(n,e,t){return n instanceof Xo?is(n,e):n instanceof wd?y0(n,e):t}function QC(n,e){return n instanceof Bc?PC(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Oa extends Cm{}class Xo extends Cm{constructor(e){super(),this.elements=e}}function is(n,e){const t=v0(e);for(const r of n.elements)t.some(s=>mo(s,r))||t.push(r);return{arrayValue:{values:t}}}class wd extends Cm{constructor(e){super(),this.elements=e}}function y0(n,e){let t=v0(e);for(const r of n.elements)t=t.filter(s=>!mo(s,r));return{arrayValue:{values:t}}}class Bc extends Cm{constructor(e,t){super(),this.serializer=e,this.gt=t}}function JC(n){return Fr(n.integerValue||n.doubleValue)}function v0(n){return dd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ed{constructor(e,t){this.field=e,this.transform=t}}class eD{constructor(e,t){this.version=e,this.transformResults=t}}class Ir{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dm(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class bm{}function Id(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ta(n.key,Ir.none()):new jc(n.key,n.data,Ir.none());{const t=n.data,r=Fi.empty();let s=new pr(xr.comparator);for(let u of e.fields)if(!s.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),s=s.add(u)}return new ea(n.key,r,new Jr(s.toArray()),Ir.none())}}function sS(n,e,t){n instanceof jc?function(r,s,u){const l=r.value.clone(),m=tD(r.fieldTransforms,s,u.transformResults);l.setAll(m),s.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof ea?function(r,s,u){if(!Dm(r.precondition,s))return void s.convertToUnknownDocument(u.version);const l=tD(r.fieldTransforms,s,u.transformResults),m=s.data;m.setAll(_0(r)),m.setAll(l),s.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Mf(n,e,t,r){return n instanceof jc?function(s,u,l,m){if(!Dm(s.precondition,u))return l;const v=s.value.clone(),C=Cd(s.fieldTransforms,m,u);return v.setAll(C),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),null}(n,e,t,r):n instanceof ea?function(s,u,l,m){if(!Dm(s.precondition,u))return l;const v=Cd(s.fieldTransforms,m,u),C=u.data;return C.setAll(_0(s)),C.setAll(v),u.convertToFoundDocument(u.version,C).setHasLocalMutations(),null===l?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(b=>b.field))}(n,e,t,r):(l=t,Dm(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function oS(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),u=QC(r.transform,s||null);null!=u&&(null===t&&(t=Fi.empty()),t.set(r.field,u))}return t||null}function xf(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&od(t,r,(s,u)=>function XC(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Xo&&r instanceof Xo||t instanceof wd&&r instanceof wd?od(t.elements,r.elements,mo):t instanceof Bc&&r instanceof Bc?mo(t.gt,r.gt):t instanceof Oa&&r instanceof Oa);var t,r}(s,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class jc extends bm{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ea extends bm{constructor(e,t,r,s,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function _0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function tD(n,e,t){const r=new Map;St(n.length===t.length);for(let s=0;s<t.length;s++){const u=n[s],l=u.transform,m=e.data.field(u.field);r.set(u.field,_d(l,m,t[s]))}return r}function Cd(n,e,t){const r=new Map;for(const s of n){const u=s.transform,l=t.data.field(s.field);r.set(s.field,iS(u,l,e))}return r}class ta extends bm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class w0 extends bm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class E0{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&sS(u,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Mf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Mf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=ZC();return this.mutations.forEach(s=>{const u=e.get(s.key),l=u.overlayedDocument;let m=this.applyToLocalView(l,u.mutatedFields);m=t.has(s.key)?null:m;const v=Id(l,m);null!==v&&r.set(s.key,v),l.isValidDocument()||l.convertToNoDocument(At.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),yn())}isEqual(e){return this.batchId===e.batchId&&od(this.mutations,e.mutations,(t,r)=>xf(t,r))&&od(this.baseMutations,e.baseMutations,(t,r)=>xf(t,r))}}class I0{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){St(e.mutations.length===r.length);let s=YM;const u=e.mutations;for(let l=0;l<u.length;l++)s=s.insert(u[l].key,r[l].version);return new I0(e,t,r,s)}}class Tm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class rD{constructor(e,t){this.count=e,this.unchangedNames=t}}var Xr,kn;function iD(n){switch(n){default:return mt();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0}}function sD(n){if(void 0===n)return cr("GRPC error has no .code"),ye.UNKNOWN;switch(n){case Xr.OK:return ye.OK;case Xr.CANCELLED:return ye.CANCELLED;case Xr.UNKNOWN:return ye.UNKNOWN;case Xr.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case Xr.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case Xr.INTERNAL:return ye.INTERNAL;case Xr.UNAVAILABLE:return ye.UNAVAILABLE;case Xr.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case Xr.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case Xr.NOT_FOUND:return ye.NOT_FOUND;case Xr.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case Xr.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case Xr.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case Xr.ABORTED:return ye.ABORTED;case Xr.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case Xr.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case Xr.DATA_LOSS:return ye.DATA_LOSS;default:return mt()}}(kn=Xr||(Xr={}))[kn.OK=0]="OK",kn[kn.CANCELLED=1]="CANCELLED",kn[kn.UNKNOWN=2]="UNKNOWN",kn[kn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kn[kn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kn[kn.NOT_FOUND=5]="NOT_FOUND",kn[kn.ALREADY_EXISTS=6]="ALREADY_EXISTS",kn[kn.PERMISSION_DENIED=7]="PERMISSION_DENIED",kn[kn.UNAUTHENTICATED=16]="UNAUTHENTICATED",kn[kn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kn[kn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kn[kn.ABORTED=10]="ABORTED",kn[kn.OUT_OF_RANGE=11]="OUT_OF_RANGE",kn[kn.UNIMPLEMENTED=12]="UNIMPLEMENTED",kn[kn.INTERNAL=13]="INTERNAL",kn[kn.UNAVAILABLE=14]="UNAVAILABLE",kn[kn.DATA_LOSS=15]="DATA_LOSS";class oD{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return C0}static getOrCreateInstance(){return null===C0&&(C0=new oD),C0}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let C0=null;function aS(){return new TextEncoder}const QM=new ba([4294967295,4294967295],0);function D0(n){const e=aS().encode(n),t=new Pc;return t.update(e),new Uint8Array(t.digest())}function Of(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ba([t,r],0),new ba([s,u],0)]}class b0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Pf(`Invalid padding: ${t}`);if(r<0)throw new Pf(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Pf(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Pf(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=ba.fromNumber(this.It)}Et(e,t,r){let s=e.add(t.multiply(ba.fromNumber(r)));return 1===s.compare(QM)&&(s=new ba([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=D0(e),[r,s]=Of(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,s,u);if(!this.At(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),l=new b0(u,s,t);return r.forEach(m=>l.insert(m)),l}insert(e){if(0===this.It)return;const t=D0(e),[r,s]=Of(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,s,u);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Pf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dd{constructor(e,t,r,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Pa.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Dd(At.min(),s,new ir(sn),rs(),yn())}}class Pa{constructor(e,t,r,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Pa(r,t,yn(),yn(),yn())}}class Sm{constructor(e,t,r,s){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=s}}class aD{constructor(e,t){this.targetId=e,this.Vt=t}}class uD{constructor(e,t,r=$r.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class cD{constructor(){this.St=0,this.Dt=T0(),this.Ct=$r.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=yn(),t=yn(),r=yn();return this.Dt.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:mt()}}),new Pa(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=T0()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class JM{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=rs(),this.zt=lD(),this.Wt=new ir(sn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:mt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,s)=>{this.te(s)&&t(s)})}ne(e){var t;const r=e.targetId,s=e.Vt.count,u=this.se(r);if(u){const l=u.target;if(ym(l))if(0===s){const m=new it(l.path);this.Yt(r,m,gr.newNoDocument(m,At.min()))}else St(1===s);else{const m=this.ie(r);if(m!==s){const v=this.re(e,m);0!==v&&(this.ee(r),this.Wt=this.Wt.insert(r,2===v?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=oD.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(C,b,x){var z,J,Ce,Fe,Ve,It;const Ut={localCacheCount:b,existenceFilterCount:x.count},_t=x.unchangedNames;return _t&&(Ut.bloomFilter={applied:0===C,hashCount:null!==(z=_t?.hashCount)&&void 0!==z?z:0,bitmapLength:null!==(Fe=null===(Ce=null===(J=_t?.bits)||void 0===J?void 0:J.bitmap)||void 0===Ce?void 0:Ce.length)&&void 0!==Fe?Fe:0,padding:null!==(It=null===(Ve=_t?.bits)||void 0===Ve?void 0:Ve.padding)&&void 0!==It?It:0}),Ut}(v,m,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:l=0},hashCount:m=0}=r;let v,C;try{v=Ma(u).toUint8Array()}catch(b){if(b instanceof am)return Ri("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw b}try{C=new b0(v,l,m)}catch(b){return Ri(b instanceof Pf?"BloomFilter error: ":"Applying bloom filter failed: ",b),1}return 0===C.It?1:s!==t-this.oe(e.targetId,C)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(u=>{const l=this.Gt.ue(),m=`projects/${l.projectId}/databases/${l.database}/documents/${u.path.canonicalString()}`;t.vt(m)||(this.Yt(e,u,null),s++)}),s}ce(e){const t=new Map;this.Qt.forEach((u,l)=>{const m=this.se(l);if(m){if(u.current&&ym(m.target)){const v=new it(m.target.path);null!==this.jt.get(v)||this.ae(l,v)||this.Yt(l,v,gr.newNoDocument(v,e))}u.Mt&&(t.set(l,u.Ot()),u.Ft())}});let r=yn();this.zt.forEach((u,l)=>{let m=!0;l.forEachWhile(v=>{const C=this.se(v);return!C||"TargetPurposeLimboResolution"===C.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.jt.forEach((u,l)=>l.setReadTime(e));const s=new Dd(e,t,this.Wt,this.jt,r);return this.jt=rs(),this.zt=lD(),this.Wt=new ir(sn),s}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,t)?s.Bt(t,1):s.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new cD,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new pr(sn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||ze("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new cD),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function lD(){return new ir(it.comparator)}function T0(){return new ir(it.comparator)}const uS={asc:"ASCENDING",desc:"DESCENDING"},cS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nf={and:"AND",or:"OR"};class lS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Am(n,e){return n.useProto3Json||Iu(e)?e:{value:e}}function bd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function S0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function dS(n,e){return bd(n,e.toTimestamp())}function Lr(n){return St(!!n),At.fromTimestamp(function(e){const t=kc(e);return new wr(t.seconds,t.nanos)}(n))}function A0(n,e){return(t=n,new On(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Mm(n){const e=On.fromString(n);return St(_D(e)),e}function Rf(n,e){return A0(n.databaseId,e.path)}function Eo(n,e){const t=Mm(e);if(t.get(1)!==n.databaseId.projectId)throw new je(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new je(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new it(hD(t))}function xm(n,e){return A0(n.databaseId,e)}function dD(n){const e=Mm(n);return 4===e.length?On.emptyPath():hD(e)}function kf(n){return new On(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hD(n){return St(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Om(n,e,t){return{name:Rf(n,e),fields:t.value.mapValue.fields}}function fD(n,e,t){const r=Eo(n,e.name),s=Lr(e.updateTime),u=e.createTime?Lr(e.createTime):At.min(),l=new Fi({mapValue:{fields:e.fields}}),m=gr.newFoundDocument(r,s,u,l);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function Ff(n,e){let t;if(e instanceof jc)t={update:Om(n,e.key,e.value)};else if(e instanceof ta)t={delete:Rf(n,e.key)};else if(e instanceof ea)t={update:Om(n,e.key,e.data),updateMask:yS(e.fieldMask)};else{if(!(e instanceof w0))return mt();t={verify:Rf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const l=u.transform;if(l instanceof Oa)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Xo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof wd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Bc)return{fieldPath:u.field.canonicalString(),increment:l.gt};throw mt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:dS(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:mt()),t;var s}function M0(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?Ir.updateTime(Lr(s.updateTime)):void 0!==s.exists?Ir.exists(s.exists):Ir.none():Ir.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(u,l){let m=null;"setToServerValue"in l?(St("REQUEST_TIME"===l.setToServerValue),m=new Oa):"appendMissingElements"in l?m=new Xo(l.appendMissingElements.values||[]):"removeAllFromArray"in l?m=new wd(l.removeAllFromArray.values||[]):"increment"in l?m=new Bc(u,l.increment):mt();const v=xr.fromServerFormat(l.fieldPath);return new Ed(v,m)}(n,s)):[];var s;if(e.update){const s=Eo(n,e.update.name),u=new Fi({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Jr((e.updateMask.fieldPaths||[]).map(C=>xr.fromServerFormat(C)));return new ea(s,u,l,t,r)}return new jc(s,u,t,r)}if(e.delete){const s=Eo(n,e.delete);return new ta(s,t)}if(e.verify){const s=Eo(n,e.verify);return new w0(s,t)}return mt()}function gD(n,e){return{documents:[xm(n,e.path)]}}function x0(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=xm(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=xm(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(v){if(0!==v.length)return vD(qn.create(v,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const u=function(v){if(0!==v.length)return v.map(C=>{return{field:Na((b=C).field),direction:yD(b.dir)};var b})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=Am(n,e.limit);var m,v;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function mD(n){let e=dD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){St(1===r);const b=t.from[0];b.allDescendants?s=b.collectionId:e=e.child(b.collectionId)}let u=[];t.where&&(u=function(b){const x=O0(b);return x instanceof qn&&t0(x)?x.getFilters():[x]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(b=>{return new pd(Td((x=b).field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let m=null;t.limit&&(m=function(b){let x;return x="object"==typeof b?b.value:b,Iu(x)?null:x}(t.limit));let v=null;var b;t.startAt&&(v=new Mu((b=t.startAt).values||[],!!b.before));let C=null;return t.endAt&&(C=function(b){return new Mu(b.values||[],!b.before)}(t.endAt)),GC(e,s,l,u,m,"F",v,C)}function O0(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Td(e.unaryFilter.field);return Pn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Td(e.unaryFilter.field);return Pn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Td(e.unaryFilter.field);return Pn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Td(e.unaryFilter.field);return Pn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}(n):void 0!==n.fieldFilter?Pn.create(Td((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return qn.create(e.compositeFilter.filters.map(t=>O0(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return mt()}}(e.compositeFilter.op))}(n):mt();var e}function yD(n){return uS[n]}function gS(n){return cS[n]}function mS(n){return Nf[n]}function Na(n){return{fieldPath:n.canonicalString()}}function Td(n){return xr.fromServerFormat(n.fieldPath)}function vD(n){return n instanceof Pn?function(e){if("=="===e.op){if(yo(e.value))return{unaryFilter:{field:Na(e.field),op:"IS_NAN"}};if(dm(e.value))return{unaryFilter:{field:Na(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(yo(e.value))return{unaryFilter:{field:Na(e.field),op:"IS_NOT_NAN"}};if(dm(e.value))return{unaryFilter:{field:Na(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Na(e.field),op:gS(e.op),value:e.value}}}(n):n instanceof qn?function(e){const t=e.getFilters().map(r=>vD(r));return 1===t.length?t[0]:{compositeFilter:{op:mS(e.op),filters:t}}}(n):mt()}function yS(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _D(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Io{constructor(e,t,r,s,u=At.min(),l=At.min(),m=$r.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=m,this.expectedCount=v}withSequenceNumber(e){return new Io(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Pm{constructor(e){this.fe=e}}function Nm(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Rm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Rf(s=n.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:bd(s,u.version.toTimestamp()),createTime:bd(s,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:$c(e.version)};else{if(!e.isUnknownDocument())return mt();r.unknownDocument={path:t.path.toArray(),version:$c(e.version)}}var s,u;return r}function Rm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function $c(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ra(n){const e=new wr(n.seconds,n.nanoseconds);return At.fromTimestamp(e)}function Hc(n,e){const t=(e.baseMutations||[]).map(u=>M0(n.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const r=e.mutations.map(u=>M0(n.fe,u)),s=wr.fromMillis(e.localWriteTimeMs);return new E0(e.batchId,s,t,r)}function Sd(n){const e=Ra(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ra(n.lastLimboFreeSnapshotVersion):At.min();let r;var s;return void 0!==n.query.documents?(St(1===(s=n.query).documents.length),r=ns(md(dD(s.documents[0])))):r=ns(mD(n.query)),new Io(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,$r.fromBase64String(n.resumeToken))}function Ou(n,e){const t=$c(e.snapshotVersion),r=$c(e.lastLimboFreeSnapshotVersion);let s;s=ym(e.target)?gD(n.fe,e.target):x0(n.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Lc(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function km(n){const e=mD({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?wm(e,e.limit,"L"):e}function P0(n,e){return new Tm(e.largestBatchId,M0(n.fe,e.overlayMutation))}function vS(n,e){const t=e.path.lastSegment();return[n,ki(e.path.popLast()),t]}function Fm(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:$c(r.readTime),documentKey:ki(r.documentKey.path),largestBatchId:r.largestBatchId}}class N0{getBundleMetadata(e,t){return ED(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:Ra(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return ED(e).put({bundleId:(r=t).id,createTime:$c(Lr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return R0(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:km(s.bundledQuery),readTime:Ra(s.readTime)};var s})}saveNamedQuery(e,t){return R0(e).put({name:(r=t).name,readTime:$c(Lr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function ED(n){return hi(n,"bundles")}function R0(n){return hi(n,"namedQueries")}class Lf{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Lf(e,t.uid||"")}getOverlay(e,t){return Vf(e).get(vS(this.userId,t)).next(r=>r?P0(this.serializer,r):null)}getOverlays(e,t){const r=Qo();return le.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){const s=[];return r.forEach((u,l)=>{const m=new Tm(t,l);s.push(this.we(e,m))}),le.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach(l=>s.add(ki(l.getCollectionPath())));const u=[];return s.forEach(l=>{const m=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);u.push(Vf(e).J("collectionPathOverlayIndex",m))}),le.waitFor(u)}getOverlaysForCollection(e,t,r){const s=Qo(),u=ki(t),l=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Vf(e).j("collectionPathOverlayIndex",l).next(m=>{for(const v of m){const C=P0(this.serializer,v);s.set(C.getKey(),C)}return s})}getOverlaysForCollectionGroup(e,t,r,s){const u=Qo();let l;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Vf(e).X({index:"collectionGroupOverlayIndex",range:m},(v,C,b)=>{const x=P0(this.serializer,C);u.size()<s||x.largestBatchId===l?(u.set(x.getKey(),x),l=x.largestBatchId):b.done()}).next(()=>u)}we(e,t){return Vf(e).put(function(r,s,u){const[l,m,v]=vS(s,u.mutation.key);return{userId:s,collectionPath:m,documentId:v,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Ff(r.fe,u.mutation)}}(this.serializer,this.userId,t))}}function Vf(n){return hi(n,"documentOverlays")}class Pu{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Fr(e.integerValue));else if("doubleValue"in e){const r=Fr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Cu(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ma(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?vo(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):mt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const s of Object.keys(r))this.Te(s,t),this.me(r[s],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const s of r)this.me(s,t)}ve(e,t){this.ye(t,37),it.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function k0(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function F0(n){const e=64-function(t){let r=0;for(let s=0;s<8;++s){const u=k0(255&t[s]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Pu.Ve=new Pu;class ID{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const s=t.codePointAt(0);this.De(240|s>>>18),this.De(128|63&s>>>12),this.De(128|63&s>>>6),this.De(128|63&s)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const s=t.codePointAt(0);this.Ne(240|s>>>18),this.Ne(128|63&s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s)}}this.ke()}Oe(e){const t=this.Fe(e),r=F0(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}Le(e){const t=this.Fe(e),r=F0(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(s){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,s,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class CD{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class DD{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Uf{constructor(){this.je=new ID,this.ze=new CD(this.je),this.We=new DD(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Gc{constructor(e,t,r,s){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=s}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Gc(this.indexId,this.documentKey,this.arrayValue,r)}}function Nu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=bD(n.arrayValue,e.arrayValue),0!==t?t:(t=bD(n.directionalValue,e.directionalValue),0!==t?t:it.comparator(n.documentKey,e.documentKey)))}function bD(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class TD{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){St(e.collectionGroup===this.collectionId);const t=H_(e);if(void 0!==t&&!this.en(t))return!1;const r=po(e);let s=new Set,u=0,l=0;for(;u<r.length&&this.en(r[u]);++u)s=s.add(r[u].fieldPath.canonicalString());if(u===r.length)return!0;if(void 0!==this.Ze){if(!s.has(this.Ze.field.canonicalString())){const m=r[u];if(!this.nn(this.Ze,m)||!this.sn(this.Ye[l++],m))return!1}++u}for(;u<r.length;++u)if(l>=this.Ye.length||!this.sn(this.Ye[l++],r[u]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function _S(n){var e,t;if(St(n instanceof Pn||n instanceof qn),n instanceof Pn){if(n instanceof u0){const s=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>Pn.create(n.field,"==",u)))||[];return qn.create(s,"or")}return n}const r=n.filters.map(s=>_S(s));return qn.create(r,n.op)}function SD(n){if(0===n.getFilters().length)return[];const e=U0(_S(n));return St(wS(e)),L0(e)||V0(e)?[e]:e.getFilters()}function L0(n){return n instanceof Pn}function V0(n){return n instanceof qn&&t0(n)}function wS(n){return L0(n)||V0(n)||function(e){if(e instanceof qn&&gd(e)){for(const t of e.getFilters())if(!L0(t)&&!V0(t))return!1;return!0}return!1}(n)}function U0(n){if(St(n instanceof Pn||n instanceof qn),n instanceof Pn)return n;if(1===n.filters.length)return U0(n.filters[0]);const e=n.filters.map(r=>U0(r));let t=qn.create(e,n.op);return t=Lm(t),wS(t)?t:(St(t instanceof qn),St(Fc(t)),St(t.filters.length>1),t.filters.reduce((r,s)=>B0(r,s)))}function B0(n,e){let t;return St(n instanceof Pn||n instanceof qn),St(e instanceof Pn||e instanceof qn),t=n instanceof Pn?e instanceof Pn?qn.create([n,e],"and"):j0(n,e):e instanceof Pn?j0(e,n):function(r,s){if(St(r.filters.length>0&&s.filters.length>0),Fc(r)&&Fc(s))return FC(r,s.getFilters());const u=gd(r)?r:s,l=gd(r)?s:r,m=u.filters.map(v=>B0(v,l));return qn.create(m,"or")}(n,e),Lm(t)}function j0(n,e){if(Fc(e))return FC(e,n.getFilters());{const t=e.filters.map(r=>B0(n,r));return qn.create(t,"or")}}function Lm(n){if(St(n instanceof Pn||n instanceof qn),n instanceof Pn)return n;const e=n.getFilters();if(1===e.length)return Lm(e[0]);if(n0(n))return n;const t=e.map(s=>Lm(s)),r=[];return t.forEach(s=>{s instanceof Pn?r.push(s):s instanceof qn&&(s.op===n.op?r.push(...s.filters):r.push(s))}),1===r.length?r[0]:qn.create(r,n.op)}class ES{constructor(){this.rn=new $0}addToCollectionParentIndex(e,t){return this.rn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(qi.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(qi.min())}updateCollectionGroup(e,t,r){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class $0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new pr(On.comparator),u=!s.has(r);return this.index[t]=s.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new pr(On.comparator)).toArray()}}const Vm=new Uint8Array(0);class IS{constructor(e,t){this.user=e,this.databaseId=t,this.on=new $0,this.un=new Yo(r=>Lc(r),(r,s)=>Sf(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const u={collectionId:r,parent:ki(s)};return AD(e).put(u)}return le.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[dC(t),""],!1,!0);return AD(e).j(s).next(u=>{for(const l of u){if(l.collectionId!==t)break;r.push(Ko(l.parent))}return r})}addFieldIndex(e,t){const r=Um(e),s={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var l;delete s.indexId;const u=r.add(s);if(t.indexState){const l=jf(e);return u.next(m=>{l.put(Fm(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=Um(e),s=jf(e),u=Bf(e);return r.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Bf(e);let s=!0;const u=new Map;return le.forEach(this.cn(t),l=>this.an(e,l).next(m=>{s&&(s=!!m),u.set(l,m)})).next(()=>{if(s){let l=yn();const m=[];return le.forEach(u,(v,C)=>{var b;ze("IndexedDbIndexManager",`Using index ${b=v,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(_t=>`${_t.fieldPath}:${_t.kind}`).join(",")}`} to execute ${Lc(t)}`);const x=function(_t,$t){const un=H_($t);if(void 0===un)return null;for(const An of vm(_t,un.fieldPath))switch(An.op){case"array-contains-any":return An.value.arrayValue.values||[];case"array-contains":return[An.value]}return null}(C,v),z=function(_t,$t){const un=new Map;for(const An of po($t))for(const as of vm(_t,An.fieldPath))switch(as.op){case"==":case"in":un.set(An.fieldPath.canonicalString(),as.value);break;case"not-in":case"!=":return un.set(An.fieldPath.canonicalString(),as.value),Array.from(un.values())}return null}(C,v),J=function(_t,$t){const un=[];let An=!0;for(const as of po($t)){const eh=0===as.kind?$C(_t,as.fieldPath,_t.startAt):HC(_t,as.fieldPath,_t.startAt);un.push(eh.value),An&&(An=eh.inclusive)}return new Mu(un,An)}(C,v),Ce=function(_t,$t){const un=[];let An=!0;for(const as of po($t)){const eh=0===as.kind?HC(_t,as.fieldPath,_t.endAt):$C(_t,as.fieldPath,_t.endAt);un.push(eh.value),An&&(An=eh.inclusive)}return new Mu(un,An)}(C,v),Fe=this.hn(v,C,J),Ve=this.hn(v,C,Ce),It=this.ln(v,C,z),Ut=this.fn(v.indexId,x,Fe,J.inclusive,Ve,Ce.inclusive,It);return le.forEach(Ut,_t=>r.H(_t,t.limit).next($t=>{$t.forEach(un=>{const An=it.fromSegments(un.documentKey);l.has(An)||(l=l.add(An),m.push(An))})}))}).next(()=>m)}return le.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:SD(qn.create(e.filters,"and")).map(r=>mm(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,s,u,l,m){const v=(null!=t?t.length:1)*Math.max(r.length,u.length),C=v/(null!=t?t.length:1),b=[];for(let x=0;x<v;++x){const z=t?this.dn(t[x/C]):Vm,J=this.wn(e,z,r[x%C],s),Ce=this._n(e,z,u[x%C],l),Fe=m.map(Ve=>this.wn(e,z,Ve,!0));b.push(...this.createRange(J,Ce,Fe))}return b}wn(e,t,r,s){const u=new Gc(e,it.empty(),t,r);return s?u:u.Je()}_n(e,t,r,s){const u=new Gc(e,it.empty(),t,r);return s?u.Je():u}an(e,t){const r=new TD(t),s=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(u=>{let l=null;for(const m of u)r.tn(m)&&(!l||m.fields.length>l.fields.length)&&(l=m);return l})}getIndexType(e,t){let r=2;const s=this.cn(t);return le.forEach(s,u=>this.an(e,u).next(l=>{l?0!==r&&l.fields.length<function(m){let v=new pr(xr.comparator),C=!1;for(const b of m.filters)for(const x of b.getFlattenedFilters())x.field.isKeyField()||("array-contains"===x.op||"array-contains-any"===x.op?C=!0:v=v.add(x.field));for(const b of m.orderBy)b.field.isKeyField()||(v=v.add(b.field));return v.size+(C?1:0)}(u)&&(r=1):r=0})).next(()=>null!==t.limit&&s.length>1&&2===r?1:r)}mn(e,t){const r=new Uf;for(const s of po(e)){const u=t.data.field(s.fieldPath);if(null==u)return null;const l=r.He(s.kind);Pu.Ve._e(u,l)}return r.Qe()}dn(e){const t=new Uf;return Pu.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new Uf;return Pu.Ve._e(Au(this.databaseId,t),r.He(function(s){const u=po(s);return 0===u.length?0:u[u.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let s=[];s.push(new Uf);let u=0;for(const l of po(e)){const m=r[u++];for(const v of s)if(this.yn(t,l.fieldPath)&&dd(m))s=this.pn(s,l,m);else{const C=v.He(l.kind);Pu.Ve._e(m,C)}}return this.In(s)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const s=[...e],u=[];for(const l of r.arrayValue.values||[])for(const m of s){const v=new Uf;v.seed(m.Qe()),Pu.Ve._e(l,v.He(t.kind)),u.push(v)}return u}yn(e,t){return!!e.filters.find(r=>r instanceof Pn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Um(e),s=jf(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(u=>{const l=[];return le.forEach(u,m=>s.get([m.indexId,this.uid]).next(v=>{l.push(function(C,b){const x=b?new Cf(b.sequenceNumber,new qi(Ra(b.readTime),new it(Ko(b.documentKey)),b.largestBatchId)):Cf.empty(),z=C.fields.map(([J,Ce])=>new Xg(xr.fromServerFormat(J),Ce));return new If(C.indexId,C.collectionGroup,z,x)}(m,v))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,s)=>{const u=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==u?u:sn(r.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const s=Um(e),u=jf(e);return this.Tn(e).next(l=>s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>le.forEach(m,v=>u.put(Fm(v.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return le.forEach(t,(s,u)=>{const l=r.get(s.collectionGroup);return(l?le.resolve(l):this.getFieldIndexes(e,s.collectionGroup)).next(m=>(r.set(s.collectionGroup,m),le.forEach(m,v=>this.En(e,s,v).next(C=>{const b=this.An(u,v);return C.isEqual(b)?le.resolve():this.vn(e,u,v,C,b)}))))})}Rn(e,t,r,s){return Bf(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,s){return Bf(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const s=Bf(e);let u=new pr(Nu);return s.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(l,m)=>{u=u.add(new Gc(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}An(e,t){let r=new pr(Nu);const s=this.mn(t,e);if(null==s)return r;const u=H_(t);if(null!=u){const l=e.data.field(u.fieldPath);if(dd(l))for(const m of l.arrayValue.values||[])r=r.add(new Gc(t.indexId,e.key,this.dn(m),s))}else r=r.add(new Gc(t.indexId,e.key,Vm,s));return r}vn(e,t,r,s,u){ze("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(m,v,C,b,x){const z=m.getIterator(),J=v.getIterator();let Ce=Du(z),Fe=Du(J);for(;Ce||Fe;){let Ve=!1,It=!1;if(Ce&&Fe){const Ut=C(Ce,Fe);Ut<0?It=!0:Ut>0&&(Ve=!0)}else null!=Ce?It=!0:Ve=!0;Ve?(b(Fe),Fe=Du(J)):It?(x(Ce),Ce=Du(z)):(Ce=Du(z),Fe=Du(J))}}(s,u,Nu,m=>{l.push(this.Rn(e,t,r,m))},m=>{l.push(this.Pn(e,t,r,m))}),le.waitFor(l)}Tn(e){let t=1;return jf(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,u)=>{u.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,m)=>Nu(l,m)).filter((l,m,v)=>!m||0!==Nu(l,v[m-1]));const s=[];s.push(e);for(const l of r){const m=Nu(l,e),v=Nu(l,t);if(0===m)s[0]=e.Je();else if(m>0&&v<0)s.push(l),s.push(l.Je());else if(v>0)break}s.push(t);const u=[];for(let l=0;l<s.length;l+=2){if(this.bn(s[l],s[l+1]))return[];u.push(IDBKeyRange.bound([s[l].indexId,this.uid,s[l].arrayValue,s[l].directionalValue,Vm,[]],[s[l+1].indexId,this.uid,s[l+1].arrayValue,s[l+1].directionalValue,Vm,[]]))}return u}bn(e,t){return Nu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Ad)}getMinOffset(e,t){return le.mapArray(this.cn(t),r=>this.an(e,r).next(s=>s||mt())).next(Ad)}}function AD(n){return hi(n,"collectionParents")}function Bf(n){return hi(n,"indexEntries")}function Um(n){return hi(n,"indexConfiguration")}function jf(n){return hi(n,"indexState")}function Ad(n){St(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;hC(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new qi(e.readTime,e.documentKey,t)}const H0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Li{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Li(e,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function G0(n,e,t){const r=n.store("mutations"),s=n.store("documentMutations"),u=[],l=IDBKeyRange.only(t.batchId);let m=0;const v=r.X({range:l},(b,x,z)=>(m++,z.delete()));u.push(v.next(()=>{St(1===m)}));const C=[];for(const b of t.mutations){const x=W_(e,b.key.path,t.batchId);u.push(s.delete(x)),C.push(b.key)}return le.waitFor(u).next(()=>C)}function $f(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw mt();e=n.noDocument}return JSON.stringify(e).length}Li.DEFAULT_COLLECTION_PERCENTILE=10,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Li.DEFAULT=new Li(41943040,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Li.DISABLED=new Li(-1,0,0);class Hf{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.Vn={}}static de(e,t,r,s){St(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Hf(u,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ru(e).X({index:"userMutationsIndex",range:r},(s,u,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,s){const u=Gf(e),l=Ru(e);return l.add({}).next(m=>{St("number"==typeof m);const v=new E0(m,t,r,s),C=function(z,J,Ce){const Fe=Ce.baseMutations.map(It=>Ff(z.fe,It)),Ve=Ce.mutations.map(It=>Ff(z.fe,It));return{userId:J,batchId:Ce.batchId,localWriteTimeMs:Ce.localWriteTime.toMillis(),baseMutations:Fe,mutations:Ve}}(this.serializer,this.userId,v),b=[];let x=new pr((z,J)=>sn(z.canonicalString(),J.canonicalString()));for(const z of s){const J=W_(this.userId,z.key.path,m);x=x.add(z.key.path.popLast()),b.push(l.put(C)),b.push(u.put(J,vC))}return x.forEach(z=>{b.push(this.indexManager.addToCollectionParentIndex(e,z))}),e.addOnCommittedListener(()=>{this.Vn[m]=v.keys()}),le.waitFor(b).next(()=>v)})}lookupMutationBatch(e,t){return Ru(e).get(t).next(r=>r?(St(r.userId===this.userId),Hc(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?le.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const s=r.keys();return this.Vn[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Ru(e).X({index:"userMutationsIndex",range:s},(l,m,v)=>{m.userId===this.userId&&(St(m.batchId>=r),u=Hc(this.serializer,m)),v.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ru(e).X({index:"userMutationsIndex",range:t,reverse:!0},(s,u,l)=>{r=u.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ru(e).j("userMutationsIndex",t).next(r=>r.map(s=>Hc(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=ud(this.userId,t.path),s=IDBKeyRange.lowerBound(r),u=[];return Gf(e).X({range:s},(l,m,v)=>{const[C,b,x]=l,z=Ko(b);if(C===this.userId&&t.path.isEqual(z))return Ru(e).get(x).next(J=>{if(!J)throw mt();St(J.userId===this.userId),u.push(Hc(this.serializer,J))});v.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new pr(sn);const s=[];return t.forEach(u=>{const l=ud(this.userId,u.path),m=IDBKeyRange.lowerBound(l),v=Gf(e).X({range:m},(C,b,x)=>{const[z,J,Ce]=C,Fe=Ko(J);z===this.userId&&u.path.isEqual(Fe)?r=r.add(Ce):x.done()});s.push(v)}),le.waitFor(s).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,u=ud(this.userId,r),l=IDBKeyRange.lowerBound(u);let m=new pr(sn);return Gf(e).X({range:l},(v,C,b)=>{const[x,z,J]=v,Ce=Ko(z);x===this.userId&&r.isPrefixOf(Ce)?Ce.length===s&&(m=m.add(J)):b.done()}).next(()=>this.Dn(e,m))}Dn(e,t){const r=[],s=[];return t.forEach(u=>{s.push(Ru(e).get(u).next(l=>{if(null===l)throw mt();St(l.userId===this.userId),r.push(Hc(this.serializer,l))}))}),le.waitFor(s).next(()=>r)}removeMutationBatch(e,t){return G0(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),le.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return le.resolve();const r=IDBKeyRange.lowerBound([this.userId]),s=[];return Gf(e).X({range:r},(u,l,m)=>{if(u[0]===this.userId){const v=Ko(u[1]);s.push(v)}else m.done()}).next(()=>{St(0===s.length)})})}containsKey(e,t){return z0(e,this.userId,t)}xn(e){return CS(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function z0(n,e,t){const r=ud(e,t.path),s=r[1],u=IDBKeyRange.lowerBound(r);let l=!1;return Gf(n).X({range:u,Y:!0},(m,v,C)=>{const[b,x,z]=m;b===e&&x===s&&(l=!0),C.done()}).next(()=>l)}function Ru(n){return hi(n,"mutations")}function Gf(n){return hi(n,"documentMutations")}function CS(n){return hi(n,"mutationQueues")}class ku{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ku(0)}static Mn(){return new ku(-1)}}class DS{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new ku(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>At.fromTimestamp(new wr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.On(e,s)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>zc(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(St(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let s=0;const u=[];return zc(e).X((l,m)=>{const v=Sd(m);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(s++,u.push(this.removeTargetData(e,v)))}).next(()=>le.waitFor(u)).next(()=>s)}forEachTarget(e,t){return zc(e).X((r,s)=>{const u=Sd(s);t(u)})}$n(e){return MD(e).get("targetGlobalKey").next(t=>(St(null!==t),t))}On(e,t){return MD(e).put("targetGlobalKey",t)}Fn(e,t){return zc(e).put(Ou(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Lc(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return zc(e).X({range:s,index:"queryTargetsIndex"},(l,m,v)=>{const C=Sd(m);Sf(t,C.target)&&(u=C,v.done())}).next(()=>u)}addMatchingKeys(e,t,r){const s=[],u=Fu(e);return t.forEach(l=>{const m=ki(l.path);s.push(u.put({targetId:r,path:m})),s.push(this.referenceDelegate.addReference(e,r,l))}),le.waitFor(s)}removeMatchingKeys(e,t,r){const s=Fu(e);return le.forEach(t,u=>{const l=ki(u.path);return le.waitFor([s.delete([r,l]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Fu(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=Fu(e);let u=yn();return s.X({range:r,Y:!0},(l,m,v)=>{const C=Ko(l[1]),b=new it(C);u=u.add(b)}).next(()=>u)}containsKey(e,t){const r=ki(t.path),s=IDBKeyRange.bound([r],[dC(r)],!1,!0);let u=0;return Fu(e).X({index:"documentTargetsIndex",Y:!0,range:s},([l,m],v,C)=>{0!==l&&(u++,C.done())}).next(()=>u>0)}le(e,t){return zc(e).get(t).next(r=>r?Sd(r):null)}}function zc(n){return hi(n,"targets")}function MD(n){return hi(n,"targetGlobal")}function Fu(n){return hi(n,"targetDocuments")}function Md([n,e],[t,r]){const s=sn(n,t);return 0===s?sn(e,r):s}class bS{constructor(e){this.Ln=e,this.buffer=new pr(Md),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Md(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Bm{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;ze("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,we.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Sa(r)?ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Zo(r)}yield t.Qn(3e5)}))}}class TS{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return le.resolve(xs.ct);const r=new bS(t);return this.jn.forEachTarget(e,s=>r.Kn(s.sequenceNumber)).next(()=>this.jn.Wn(e,s=>r.Kn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(H0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),H0):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,s,u,l,m,v,C;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),s=this.params.maximumSequenceNumbersToCollect):s=x,l=Date.now(),this.nthSequenceNumber(e,s))).next(x=>(r=x,m=Date.now(),this.removeTargets(e,r,t))).next(x=>(u=x,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(C=Date.now(),wu()<=lu.in.DEBUG&&ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-b}ms\n\tDetermined least recently used ${s} in `+(m-l)+`ms\n\tRemoved ${u} targets in `+(v-m)+`ms\n\tRemoved ${x} documents in `+(C-v)+`ms\nTotal Duration: ${C-b}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:u,documentsRemoved:x})))}}class AS{constructor(e,t){this.db=e,this.garbageCollector=function SS(n,e){return new TS(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,s)=>t(s))}addReference(e,t,r){return q0(e,r)}removeReference(e,t,r){return q0(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return q0(e,t)}Xn(e,t){return function(r,s){let u=!1;return CS(r).Z(l=>z0(r,l,s).next(m=>(m&&(u=!0),le.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let u=0;return this.Yn(e,(l,m)=>{if(m<=t){const v=this.Xn(e,l).next(C=>{if(!C)return u++,r.getEntry(e,l).next(()=>(r.removeEntry(l,At.min()),Fu(e).delete([0,ki(l.path)])))});s.push(v)}}).next(()=>le.waitFor(s)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return q0(e,t)}Yn(e,t){const r=Fu(e);let s,u=xs.ct;return r.X({index:"documentTargetsIndex"},([l,m],{path:v,sequenceNumber:C})=>{0===l?(u!==xs.ct&&t(new it(Ko(s)),u),u=C,s=v):u=xs.ct}).next(()=>{u!==xs.ct&&t(new it(Ko(s)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function q0(n,e){return Fu(n).put((r=n.currentSequenceNumber,{targetId:0,path:ki(e.path),sequenceNumber:r}));var r}class xd{constructor(){this.changes=new Yo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?le.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class MS{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Lu(e).put(r)}removeEntry(e,t,r){return Lu(e).delete(function(s,u){const l=s.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],Rm(u),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=gr.newInvalidDocument(t);return Lu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(qf(t))},(s,u)=>{r=this.ts(t,u)}).next(()=>r)}es(e,t){let r={size:0,document:gr.newInvalidDocument(t)};return Lu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(qf(t))},(s,u)=>{r={document:this.ts(t,u),size:$f(u)}}).next(()=>r)}getEntries(e,t){let r=rs();return this.ns(e,t,(s,u)=>{const l=this.ts(s,u);r=r.insert(s,l)}).next(()=>r)}ss(e,t){let r=rs(),s=new ir(it.comparator);return this.ns(e,t,(u,l)=>{const m=this.ts(u,l);r=r.insert(u,m),s=s.insert(u,$f(l))}).next(()=>({documents:r,rs:s}))}ns(e,t,r){if(t.isEmpty())return le.resolve();let s=new pr(Wf);t.forEach(v=>s=s.add(v));const u=IDBKeyRange.bound(qf(s.first()),qf(s.last())),l=s.getIterator();let m=l.getNext();return Lu(e).X({index:"documentKeyIndex",range:u},(v,C,b)=>{const x=it.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;m&&Wf(m,x)<0;)r(m,null),m=l.getNext();m&&m.isEqual(x)&&(r(m,C),m=l.hasNext()?l.getNext():null),m?b.G(qf(m)):b.done()}).next(()=>{for(;m;)r(m,null),m=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,s){const u=t.path,l=[u.popLast().toArray(),u.lastSegment(),Rm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Lu(e).j(IDBKeyRange.bound(l,m,!0)).next(v=>{let C=rs();for(const b of v){const x=this.ts(it.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);x.isFoundDocument()&&(yd(t,x)||s.has(x.key))&&(C=C.insert(x.key,x))}return C})}getAllFromCollectionGroup(e,t,r,s){let u=rs();const l=W0(t,r),m=W0(t,qi.max());return Lu(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,m,!0)},(v,C,b)=>{const x=this.ts(it.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);u=u.insert(x.key,x),u.size===s&&b.done()}).next(()=>u)}newChangeBuffer(e){return new xS(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return zf(e).get("remoteDocumentGlobalKey").next(t=>(St(!!t),t))}Zn(e,t){return zf(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function wD(n,e){let t;if(e.document)t=fD(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=it.fromSegments(e.noDocument.path),s=Ra(e.noDocument.readTime);t=gr.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return mt();{const r=it.fromSegments(e.unknownDocument.path),s=Ra(e.unknownDocument.version);t=gr.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime(function(r){const s=new wr(r[0],r[1]);return At.fromTimestamp(s)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(At.min()))return r}return gr.newInvalidDocument(e)}}function xD(n){return new MS(n)}class xS extends xd{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Yo(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const t=[];let r=0,s=new pr((u,l)=>sn(u.canonicalString(),l.canonicalString()));return this.changes.forEach((u,l)=>{const m=this.us.get(u);if(t.push(this.os.removeEntry(e,u,m.readTime)),l.isValidDocument()){const v=Nm(this.os.serializer,l);s=s.add(u.path.popLast());const C=$f(v);r+=C-m.size,t.push(this.os.addEntry(e,u,v))}else if(r-=m.size,this.trackRemovals){const v=Nm(this.os.serializer,l.convertToNoDocument(At.min()));t.push(this.os.addEntry(e,u,v))}}),s.forEach(u=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.os.updateMetadata(e,r)),le.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:s})=>(s.forEach((u,l)=>{this.us.set(u,{size:l,readTime:r.get(u).readTime})}),r))}}function zf(n){return hi(n,"remoteDocumentGlobal")}function Lu(n){return hi(n,"remoteDocumentsV14")}function qf(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function W0(n,e){const t=e.documentKey.path.toArray();return[n,Rm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Wf(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(s=sn(t[u],r[u]),s)return s;return s=sn(t.length,r.length),s||(s=sn(t[t.length-2],r[r.length-2]),s||sn(t[t.length-1],r[r.length-1]))}class OS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class OD{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(null!==r&&Mf(r.mutation,s,Jr.empty(),wr.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,yn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=yn()){const s=Qo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(u=>{let l=vd();return u.forEach((m,v)=>{l=l.insert(m,v.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Qo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,yn()))}populateOverlays(e,t,r){const s=[];return r.forEach(u=>{t.has(u)||s.push(u)}),this.documentOverlayCache.getOverlays(e,s).next(u=>{u.forEach((l,m)=>{t.set(l,m)})})}computeViews(e,t,r,s){let u=rs();const l=Jo(),m=Jo();return t.forEach((v,C)=>{const b=r.get(C.key);s.has(C.key)&&(void 0===b||b.mutation instanceof ea)?u=u.insert(C.key,C):void 0!==b?(l.set(C.key,b.mutation.getFieldMask()),Mf(b.mutation,C,b.mutation.getFieldMask(),wr.now())):l.set(C.key,Jr.empty())}),this.recalculateAndSaveOverlays(e,u).next(v=>(v.forEach((C,b)=>l.set(C,b)),t.forEach((C,b)=>{var x;return m.set(C,new OS(b,null!==(x=l.get(C))&&void 0!==x?x:null))}),m))}recalculateAndSaveOverlays(e,t){const r=Jo();let s=new ir((l,m)=>l-m),u=yn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const m of l)m.keys().forEach(v=>{const C=t.get(v);if(null===C)return;let b=r.get(v)||Jr.empty();b=m.applyToLocalView(C,b),r.set(v,b);const x=(s.get(m.batchId)||yn()).add(v);s=s.insert(m.batchId,x)})}).next(()=>{const l=[],m=s.getReverseIterator();for(;m.hasNext();){const v=m.getNext(),C=v.key,b=v.value,x=ZC();b.forEach(z=>{if(!u.has(z)){const J=Id(t.get(z),r.get(z));null!==J&&x.set(z,J),u=u.add(z)}}),l.push(this.documentOverlayCache.saveOverlays(e,C,x))}return le.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return it.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):l0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var s}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(u=>{const l=s-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-u.size):le.resolve(Qo());let m=-1,v=u;return l.next(C=>le.forEach(C,(b,x)=>(m<x.largestBatchId&&(m=x.largestBatchId),u.get(b)?le.resolve():this.remoteDocumentCache.getEntry(e,b).next(z=>{v=v.insert(b,z)}))).next(()=>this.populateOverlays(e,C,u)).next(()=>this.computeViews(e,v,C,yn())).next(b=>({batchId:m,changes:xu(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new it(t)).next(r=>{let s=vd();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const s=t.collectionGroup;let u=vd();return this.indexManager.getCollectionParents(e,s).next(l=>le.forEach(l,m=>{const v=(C=t,b=m.child(s),new xa(b,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,b;return this.getDocumentsMatchingCollectionQuery(e,v,r).next(C=>{C.forEach((b,x)=>{u=u.insert(b,x)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(s=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s))).next(u=>{s.forEach((m,v)=>{const C=v.getKey();null===u.get(C)&&(u=u.insert(C,gr.newInvalidDocument(C)))});let l=vd();return u.forEach((m,v)=>{const C=s.get(m);void 0!==C&&Mf(C.mutation,v,Jr.empty(),wr.now()),yd(t,v)&&(l=l.insert(m,v))}),l})}}class PD{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return le.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Lr(r.createTime)}),le.resolve()}getNamedQuery(e,t){return le.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:km(r.bundledQuery),readTime:Lr(r.readTime)}),le.resolve();var r}}class PS{constructor(){this.overlays=new ir(it.comparator),this.ls=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Qo();return le.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,u)=>{this.we(e,t,u)}),le.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.ls.get(r);return void 0!==s&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),le.resolve()}getOverlaysForCollection(e,t,r){const s=Qo(),u=t.length+1,l=new it(t.child("")),m=this.overlays.getIteratorFrom(l);for(;m.hasNext();){const v=m.getNext().value,C=v.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===u&&v.largestBatchId>r&&s.set(v.getKey(),v)}return le.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let u=new ir((C,b)=>C-b);const l=this.overlays.getIterator();for(;l.hasNext();){const C=l.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>r){let b=u.get(C.largestBatchId);null===b&&(b=Qo(),u=u.insert(C.largestBatchId,b)),b.set(C.getKey(),C)}}const m=Qo(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((C,b)=>m.set(C,b)),!(m.size()>=s)););return le.resolve(m)}we(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const l=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Tm(t,r));let u=this.ls.get(t);void 0===u&&(u=yn(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class Z0{constructor(){this.fs=new pr(fi.ds),this.ws=new pr(fi._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new fi(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new fi(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new it(new On([])),r=new fi(t,e),s=new fi(t,e+1),u=[];return this.ws.forEachInRange([r,s],l=>{this.ys(l),u.push(l.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new it(new On([])),r=new fi(t,e),s=new fi(t,e+1);let u=yn();return this.ws.forEachInRange([r,s],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new fi(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class fi{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return it.comparator(e.key,t.key)||sn(e.As,t.As)}static _s(e,t){return sn(e.As,t.As)||it.comparator(e.key,t.key)}}class jm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new pr(fi.ds)}checkEmpty(e){return le.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const u=this.vs;this.vs++;const l=new E0(u,t,r,s);this.mutationQueue.push(l);for(const m of s)this.Rs=this.Rs.add(new fi(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return le.resolve(l)}lookupMutationBatch(e,t){return le.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.bs(t+1),u=s<0?0:s;return le.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new fi(t,0),s=new fi(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,s],l=>{const m=this.Ps(l.As);u.push(m)}),le.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new pr(sn);return t.forEach(s=>{const u=new fi(s,0),l=new fi(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,l],m=>{r=r.add(m.As)})}),le.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let u=r;it.isDocumentKey(u)||(u=u.child(""));const l=new fi(new it(u),0);let m=new pr(sn);return this.Rs.forEachWhile(v=>{const C=v.key.path;return!!r.isPrefixOf(C)&&(C.length===s&&(m=m.add(v.As)),!0)},l),le.resolve(this.Vs(m))}Vs(e){const t=[];return e.forEach(r=>{const s=this.Ps(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){St(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return le.forEach(t.mutations,s=>{const u=new fi(s.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new fi(t,0),s=this.Rs.firstAfterOrEqual(r);return le.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return le.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class NS{constructor(e){this.Ds=e,this.docs=new ir(it.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),u=s?s.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return le.resolve(r?r.document.mutableCopy():gr.newInvalidDocument(t))}getEntries(e,t){let r=rs();return t.forEach(s=>{const u=this.docs.get(s);r=r.insert(s,u?u.document.mutableCopy():gr.newInvalidDocument(s))}),le.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let u=rs();const l=t.path,m=new it(l.child("")),v=this.docs.getIteratorFrom(m);for(;v.hasNext();){const{key:C,value:{document:b}}=v.getNext();if(!l.isPrefixOf(C.path))break;C.path.length>l.length+1||hC(Df(b),r)<=0||(s.has(b.key)||yd(t,b))&&(u=u.insert(b.key,b.mutableCopy()))}return le.resolve(u)}getAllFromCollectionGroup(e,t,r,s){mt()}Cs(e,t){return le.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new RS(this)}getSize(e){return le.resolve(this.size)}}class RS extends xd{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),le.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class ND{constructor(e){this.persistence=e,this.xs=new Yo(t=>Lc(t),Sf),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Z0,this.targetCount=0,this.Ms=ku.kn()}forEachTarget(e,t){return this.xs.forEach((r,s)=>t(s)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),le.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new ku(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Fn(t),le.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,r){let s=0;const u=[];return this.xs.forEach((l,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.xs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),s++)}),le.waitFor(u).next(()=>s)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return le.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),le.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(l=>{u.push(s.markPotentiallyOrphaned(e,l))}),le.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),le.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return le.resolve(r)}containsKey(e,t){return le.resolve(this.ks.containsKey(t))}}class $m{constructor(e,t){this.$s={},this.overlays={},this.Os=new xs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new ND(this),this.indexManager=new ES,this.remoteDocumentCache=new NS(r=>this.referenceDelegate.Ls(r)),this.serializer=new Pm(t),this.qs=new PD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new PS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new jm(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){ze("MemoryPersistence","Starting transaction:",e);const s=new K0(this.Os.next());return this.referenceDelegate.Us(),r(s).next(u=>this.referenceDelegate.Ks(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Gs(e,t){return le.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class K0 extends pC{constructor(e){super(),this.currentSequenceNumber=e}}class Zf{constructor(e){this.persistence=e,this.Qs=new Z0,this.js=null}static zs(e){return new Zf(e)}get Ws(){if(this.js)return this.js;throw mt()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),le.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),le.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Ws,r=>{const s=it.fromPath(r);return this.Hs(e,s).next(u=>{u||t.removeEntry(s,At.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return le.or([()=>le.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class RD{constructor(e){this.serializer=e}O(e,t,r,s){const u=new tm("createOrUpgrade",t);var m;r<1&&s>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",im,{unique:!0}),m.createObjectStore("documentMutations"),Y0(e),function(m){m.createObjectStore("remoteDocuments")}(e));let l=le.resolve();return r<3&&s>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),Y0(e)),l=l.next(()=>function(m){const v=m.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:At.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",C)}(u))),r<4&&s>=4&&(0!==r&&(l=l.next(()=>function(m,v){return v.store("mutations").j().next(C=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",im,{unique:!0});const b=v.store("mutations"),x=C.map(z=>b.put(z));return le.waitFor(x)})}(e,u))),l=l.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&s>=5&&(l=l.next(()=>this.Ys(u))),r<6&&s>=6&&(l=l.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),r<7&&s>=7&&(l=l.next(()=>this.Zs(u))),r<8&&s>=8&&(l=l.next(()=>this.ti(e,u))),r<9&&s>=9&&(l=l.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&s>=10&&(l=l.next(()=>this.ei(u))),r<11&&s>=11&&(l=l.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(l=l.next(()=>{!function(m){const v=m.createObjectStore("documentOverlays",{keyPath:bC});v.createIndex("collectionPathOverlayIndex",eS,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",tS,{unique:!1})}(e)})),r<13&&s>=13&&(l=l.next(()=>function(m){const v=m.createObjectStore("remoteDocumentsV14",{keyPath:Q1});v.createIndex("documentKeyIndex",J1),v.createIndex("collectionGroupIndex",_C)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(l=l.next(()=>this.si(e,u))),r<15&&s>=15&&(l=l.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:X1}).createIndex("sequenceNumberIndex",IC,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:CC}).createIndex("documentKeyIndex",DC,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((r,s)=>{t+=$f(s)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(s=>le.forEach(s,u=>{const l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(m=>le.forEach(m,v=>{St(v.userId===u.userId);const C=Hc(this.serializer,v);return G0(e,u.userId,C).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const u=[];return r.X((l,m)=>{const v=new On(l),C=[0,ki(v)];u.push(t.get(C).next(b=>b?le.resolve():t.put({targetId:0,path:ki(v),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>le.waitFor(u))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:EC});const r=t.store("collectionParents"),s=new $0,u=l=>{if(s.add(l)){const m=l.lastSegment(),v=l.popLast();return r.put({collectionId:m,parent:ki(v)})}};return t.store("remoteDocuments").X({Y:!0},(l,m)=>{const v=new On(l);return u(v.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,m,v],C)=>{const b=Ko(m);return u(b.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,s)=>{const u=Sd(s),l=Ou(this.serializer,u);return t.put(l)})}ni(e,t){const r=t.store("remoteDocuments"),s=[];return r.X((u,l)=>{const m=t.store("remoteDocumentsV14"),v=(C=l,C.document?new it(On.fromString(C.document.name).popFirst(5)):C.noDocument?it.fromSegments(C.noDocument.path):C.unknownDocument?it.fromSegments(C.unknownDocument.path):mt()).path.toArray();var C;const b={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};s.push(m.put(b))}).next(()=>le.waitFor(s))}si(e,t){const r=t.store("mutations"),s=xD(this.serializer),u=new $m(Zf.zs,this.serializer.fe);return r.j().next(l=>{const m=new Map;return l.forEach(v=>{var C;let b=null!==(C=m.get(v.userId))&&void 0!==C?C:yn();Hc(this.serializer,v).keys().forEach(x=>b=b.add(x)),m.set(v.userId,b)}),le.forEach(m,(v,C)=>{const b=new Yr(C),x=Lf.de(this.serializer,b),z=u.getIndexManager(b),J=Hf.de(b,this.serializer,z,u.referenceDelegate);return new OD(s,J,x,z).recalculateAndSaveOverlaysForDocumentKeys(new om(t,xs.ct),v).next()})})}}function Y0(n){n.createObjectStore("targetDocuments",{keyPath:wC}).createIndex("documentTargetsIndex",K_,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Z_,{unique:!0}),n.createObjectStore("targetGlobal")}const Q0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class J0{constructor(e,t,r,s,u,l,m,v,C,b,x=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=u,this.window=l,this.document=m,this.ri=C,this.oi=b,this.ui=x,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=z=>Promise.resolve(),!J0.D())throw new je(ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new AS(this,s),this.di=t+"main",this.serializer=new Pm(v),this.wi=new go(this.di,this.ui,new RD(this.serializer)),this.Bs=new DS(this.referenceDelegate,this.serializer),this.remoteDocumentCache=xD(this.serializer),this.qs=new N0,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===b&&cr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new je(ye.FAILED_PRECONDITION,Q0);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new xs(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,we.Z)(function*(s){if(t.started)return e(s)});return function(s){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,we.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,we.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Od(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Sa(e))return ze("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return qc(e).get("owner").next(t=>le.resolve(this.Ri(t)))}Pi(e){return Od(e).delete(this.clientId)}bi(){var e=this;return(0,we.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const s=hi(r,"clientMetadata");return s.j().next(u=>{const l=e.Si(u,18e5),m=u.filter(v=>-1===l.indexOf(v));return le.forEach(m,v=>s.delete(v.clientId)).next(()=>m)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?le.resolve(!0):qc(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new je(ye.FAILED_PRECONDITION,Q0);return!1}}return!(!this.networkEnabled||!this.inForeground)||Od(e).j().next(r=>void 0===this.Si(r,5e3).find(s=>!(this.clientId===s.clientId||!(!this.networkEnabled&&s.networkEnabled||!this.inForeground&&s.inForeground&&this.networkEnabled===s.networkEnabled))))}).next(t=>(this.isPrimary!==t&&ze("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,we.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new om(t,xs.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Od(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Hf.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new IS(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Lf.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){ze("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===t?"readonly":"readwrite",u=15===(l=this.ui)?AC:14===l?Y_:13===l?sm:12===l?SC:11===l?TC:void mt();var l;let m;return this.wi.runTransaction(e,s,u,v=>(m=new om(v,this.Os?this.Os.next():xs.ct),"readwrite-primary"===t?this.Ti(m).next(C=>!!C||this.Ei(m)).next(C=>{if(!C)throw cr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new je(ye.FAILED_PRECONDITION,fC);return r(m)}).next(C=>this.vi(m).next(()=>C)):this.Oi(m).next(()=>r(m)))).then(v=>(m.raiseOnCommittedEvent(),v))}Oi(e){return qc(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new je(ye.FAILED_PRECONDITION,Q0)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qc(e).put("owner",t)}static D(){return go.D()}Ai(e){const t=qc(e);return t.get("owner").next(r=>this.Ri(r)?(ze("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):le.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(cr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Fn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return ze("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return cr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){cr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function qc(n){return hi(n,"owner")}function Od(n){return hi(n,"clientMetadata")}function Gm(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Kf{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=s}static Li(e,t){let r=yn(),s=yn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new Kf(e,t.fromCache,r,s)}}class zm{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,s){return this.Ki(e,t).next(u=>u||this.Gi(e,t,s,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(zC(t))return le.resolve(null);let r=ns(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=wm(t,null,"F"),r=ns(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=yn(...u);return this.Ui.getDocuments(e,l).next(m=>this.indexManager.getMinOffset(e,r).next(v=>{const C=this.ji(t,m);return this.zi(t,C,l,v.readTime)?this.Ki(e,wm(t,null,"F")):this.Wi(e,C,t,v)}))})))}Gi(e,t,r,s){return zC(t)||s.isEqual(At.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const l=this.ji(t,u);return this.zi(t,l,r,s)?this.Qi(e,t):(wu()<=lu.in.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Em(t)),this.Wi(e,l,t,em(s,-1)))})}ji(e,t){let r=new pr(p0(e));return t.forEach((s,u)=>{yd(e,u)&&(r=r.add(u))}),r}zi(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}Qi(e,t){return wu()<=lu.in.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",Em(t)),this.Ui.getDocumentsMatchingQuery(e,t,qi.min())}Wi(e,t,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class kS{constructor(e,t,r,s){this.persistence=e,this.Hi=t,this.serializer=s,this.Ji=new ir(sn),this.Yi=new Yo(u=>Lc(u),Sf),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OD(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function kD(n,e,t,r){return new kS(n,e,t,r)}function FD(n,e){return X0.apply(this,arguments)}function X0(){return X0=(0,we.Z)(function*(n,e){const t=dt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(u=>(s=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],m=[];let v=yn();for(const C of s){l.push(C.batchId);for(const b of C.mutations)v=v.add(b.key)}for(const C of u){m.push(C.batchId);for(const b of C.mutations)v=v.add(b.key)}return t.localDocuments.getDocuments(r,v).next(C=>({er:C,removedBatchIds:l,addedBatchIds:m}))})})}),X0.apply(this,arguments)}function qm(n){const e=dt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function UD(n,e,t){let r=yn(),s=yn();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=rs();return t.forEach((m,v)=>{const C=u.get(m);v.isFoundDocument()!==C.isFoundDocument()&&(s=s.add(m)),v.isNoDocument()&&v.version.isEqual(At.min())?(e.removeEntry(m,v.readTime),l=l.insert(m,v)):!C.isValidDocument()||v.version.compareTo(C.version)>0||0===v.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(v),l=l.insert(m,v)):ze("LocalStore","Ignoring outdated watch update for ",m,". Current version:",C.version," Watch version:",v.version)}),{nr:l,sr:s}})}function BD(n,e){const t=dt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Wc(n,e){const t=dt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Bs.getTargetData(r,e).next(u=>u?(s=u,le.resolve(s)):t.Bs.allocateTargetId(r).next(l=>(s=new Io(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ji.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function Pd(n,e,t){return Wm.apply(this,arguments)}function Wm(){return Wm=(0,we.Z)(function*(n,e,t){const r=dt(n),s=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Sa(l))throw l;ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}),Wm.apply(this,arguments)}function Yf(n,e,t){const r=dt(n);let s=At.min(),u=yn();return r.persistence.runTransaction("Execute query","readonly",l=>function(m,v,C){const b=dt(m),x=b.Yi.get(C);return void 0!==x?le.resolve(b.Ji.get(x)):b.Bs.getTargetData(v,C)}(r,l,ns(e)).next(m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,m.targetId).next(v=>{u=v})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?s:At.min(),t?u:yn())).next(m=>(tw(r,f0(e),m),{documents:m,ir:u})))}function jD(n,e){const t=dt(n),r=dt(t.Bs),s=t.Ji.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",u=>r.le(u,e).next(l=>l?l.target:null))}function ew(n,e){const t=dt(n),r=t.Xi.get(e)||At.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.Zi.getAllFromCollectionGroup(s,e,em(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(tw(t,e,s),s))}function tw(n,e,t){let r=n.Xi.get(e)||At.min();t.forEach((s,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}function Vu(){return Vu=(0,we.Z)(function*(n,e,t,r){const s=dt(n);let u=yn(),l=rs();for(const C of t){const b=e.rr(C.metadata.name);C.document&&(u=u.add(b));const x=e.ur(C);x.setReadTime(e.cr(C.metadata.readTime)),l=l.insert(b,x)}const m=s.Zi.newChangeBuffer({trackRemovals:!0}),v=yield Wc(s,(C=r,ns(md(On.fromString(`__bundle__/docs/${C}`)))));var C;return s.persistence.runTransaction("Apply bundle documents","readwrite",C=>UD(C,m,l).next(b=>(m.apply(C),b)).next(b=>s.Bs.removeMatchingKeysForTargetId(C,v.targetId).next(()=>s.Bs.addMatchingKeys(C,u,v.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(C,b.nr,b.sr)).next(()=>b.nr)))}),Vu.apply(this,arguments)}function FS(n,e){return nw.apply(this,arguments)}function nw(){return nw=(0,we.Z)(function*(n,e,t=yn()){const r=yield Wc(n,ns(km(e.bundledQuery))),s=dt(n);return s.persistence.runTransaction("Save named query","readwrite",u=>{const l=Lr(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return s.qs.saveNamedQuery(u,e);const m=r.withResumeToken($r.EMPTY_BYTE_STRING,l);return s.Ji=s.Ji.insert(m.targetId,m),s.Bs.updateTargetData(u,m).next(()=>s.Bs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>s.Bs.addMatchingKeys(u,t,r.targetId)).next(()=>s.qs.saveNamedQuery(u,e))})}),nw.apply(this,arguments)}function LS(n,e){return`firestore_clients_${n}_${e}`}function VS(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Zm(n,e){return`firestore_targets_${n}_${e}`}class Nd{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static ar(e,t,r){const s=JSON.parse(r);let u,l="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return l&&s.error&&(l="string"==typeof s.error.message&&"string"==typeof s.error.code,l&&(u=new je(s.error.code,s.error.message))),l?new Nd(e,t,s.state,u):(cr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Km{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let s,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new je(r.error.code,r.error.message))),u?new Km(e,r.state,s):(cr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rw{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let s="object"==typeof r&&r.activeTargetIds instanceof Array,u=Im();for(let l=0;s&&l<r.activeTargetIds.length;++l)s=rm(r.activeTargetIds[l]),u=u.add(r.activeTargetIds[l]);return s?new rw(e,u):(cr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class $D{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new $D(t.clientId,t.onlineState):(cr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Zc{constructor(){this.activeTargetIds=Im()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iw{constructor(e,t,r,s,u){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new ir(sn),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=LS(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Zc),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,we.Z)(function*(){const t=yield e.syncEngine.$i();for(const s of t){if(s===e.wr)continue;const u=e.getItem(LS(e.persistenceKey,s));if(u){const l=rw.ar(s,u);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const s=e.br(r);s&&e.Vr(s)}for(const s of e.yr)e.mr(s);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Zm(this.persistenceKey,e));if(r){const s=Km.ar(e,r);s&&(t=s.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Zm(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(s=>{this.Cr(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ze("SharedClientState","READ",e,t),t}setItem(e,t){ze("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ze("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ze("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void cr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,we.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const s=t.Or(r.key);return t.Fr(s,null)}{const s=t.Br(r.key,r.newValue);if(s)return t.Fr(s.clientId,s)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const s=t.Lr(r.key,r.newValue);if(s)return t.qr(s)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const s=t.Ur(r.key,r.newValue);if(s)return t.Kr(s)}}else if(r.key===t.vr){if(null!==r.newValue){const s=t.br(r.newValue);if(s)return t.Vr(s)}}else if(r.key===t.Ir){const s=function(u){let l=xs.ct;if(null!=u)try{const m=JSON.parse(u);St("number"==typeof m),l=m}catch(m){cr("SharedClientState","Failed to read sequence number from WebStorage",m)}return l}(r.newValue);s!==xs.ct&&t.sequenceNumberHandler(s)}else if(r.key===t.Rr){const s=t.Gr(r.newValue);yield Promise.all(s.map(u=>t.syncEngine.Qr(u)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const s=new Nd(this.currentUser,e,t,r),u=VS(this.persistenceKey,this.currentUser,e);this.setItem(u,s.hr())}Cr(e){const t=VS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const s=Zm(this.persistenceKey,e),u=new Km(e,t,r);this.setItem(s,u.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return rw.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),s=Number(r[1]);return Nd.ar(new Yr(void 0!==r[2]?r[2]:null),s,t)}Ur(e,t){const r=this.Ar.exec(e),s=Number(r[1]);return Km.ar(s,t)}br(e){return $D.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,we.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);ze("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),s=this.Sr(this.gr),u=this.Sr(r),l=[],m=[];return u.forEach(v=>{s.has(v)||l.push(v)}),s.forEach(v=>{u.has(v)||m.push(v)}),this.syncEngine.Wr(l,m).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Im();return e.forEach((r,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class Ym{constructor(){this.Hr=new Zc,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Zc,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class US{Yr(e){}shutdown(){}}class sw{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Qm=null;function ow(){return null===Qm?Qm=268435456+Math.round(2147483648*Math.random()):Qm++,"0x"+Qm.toString(16)}const BS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aw{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Vi="WebChannelConnection";class jS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,s,u){const l=ow(),m=this.To(e,t);ze("RestConnection",`Sending RPC '${e}' ${l}:`,m,r);const v={};return this.Eo(v,s,u),this.Ao(e,m,v,r).then(C=>(ze("RestConnection",`Received RPC '${e}' ${l}: `,C),C),C=>{throw Ri("RestConnection",`RPC '${e}' ${l} failed with error: `,C,"url: ",m,"request:",r),C})}vo(e,t,r,s,u,l){return this.Io(e,t,r,s,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+fo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,u)=>e[u]=s),r&&r.headers.forEach((s,u)=>e[u]=s)}To(e,t){return`${this.mo}/v1/${t}:${BS[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,s){const u=ow();return new Promise((l,m)=>{const v=new zi;v.setWithCredentials(!0),v.listenOnce(H1.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case U_.NO_ERROR:const b=v.getResponseJson();ze(Vi,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),l(b);break;case U_.TIMEOUT:ze(Vi,`RPC '${e}' ${u} timed out`),m(new je(ye.DEADLINE_EXCEEDED,"Request time out"));break;case U_.HTTP_ERROR:const x=v.getStatus();if(ze(Vi,`RPC '${e}' ${u} failed with status:`,x,"response text:",v.getResponseText()),x>0){let z=v.getResponseJson();Array.isArray(z)&&(z=z[0]);const J=z?.error;if(J&&J.status&&J.message){const Ce=function(Fe){const Ve=Fe.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(Ve)>=0?Ve:ye.UNKNOWN}(J.status);m(new je(Ce,J.message))}else m(new je(ye.UNKNOWN,"Server responded with status "+v.getStatus()))}else m(new je(ye.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{ze(Vi,`RPC '${e}' ${u} completed.`)}});const C=JSON.stringify(s);ze(Vi,`RPC '${e}' ${u} sending request:`,s),v.send(t,"POST",C,r,15)})}Ro(e,t,r){const s=ow(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=zM(),m=Qg(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},C=this.longPollingOptions.timeoutSeconds;void 0!==C&&(v.longPollingTimeout=Math.round(1e3*C)),this.useFetchStreams&&(v.xmlHttpFactory=new Wo({})),this.Eo(v.initMessageHeaders,t,r),v.encodeInitMessageHeaders=!0;const b=u.join("");ze(Vi,`Creating RPC '${e}' stream ${s}: ${b}`,v);const x=l.createWebChannel(b,v);let z=!1,J=!1;const Ce=new aw({ro:Ve=>{J?ze(Vi,`Not sending because RPC '${e}' stream ${s} is closed:`,Ve):(z||(ze(Vi,`Opening RPC '${e}' stream ${s} transport.`),x.open(),z=!0),ze(Vi,`RPC '${e}' stream ${s} sending:`,Ve),x.send(Ve))},oo:()=>x.close()}),Fe=(Ve,It,Ut)=>{Ve.listen(It,_t=>{try{Ut(_t)}catch($t){setTimeout(()=>{throw $t},0)}})};return Fe(x,_u.EventType.OPEN,()=>{J||ze(Vi,`RPC '${e}' stream ${s} transport opened.`)}),Fe(x,_u.EventType.CLOSE,()=>{J||(J=!0,ze(Vi,`RPC '${e}' stream ${s} transport closed`),Ce.wo())}),Fe(x,_u.EventType.ERROR,Ve=>{J||(J=!0,Ri(Vi,`RPC '${e}' stream ${s} transport errored:`,Ve),Ce.wo(new je(ye.UNAVAILABLE,"The operation could not be completed")))}),Fe(x,_u.EventType.MESSAGE,Ve=>{var It;if(!J){const Ut=Ve.data[0];St(!!Ut);const $t=Ut.error||(null===(It=Ut[0])||void 0===It?void 0:It.error);if($t){ze(Vi,`RPC '${e}' stream ${s} received error:`,$t);const un=$t.status;let An=function(eh){const HP=Xr[eh];if(void 0!==HP)return sD(HP)}(un),as=$t.message;void 0===An&&(An=ye.INTERNAL,as="Unknown error status: "+un+" with message "+$t.message),J=!0,Ce.wo(new je(An,as)),x.close()}else ze(Vi,`RPC '${e}' stream ${s} received:`,Ut),Ce._o(Ut)}}),Fe(m,B_.STAT_EVENT,Ve=>{Ve.stat===oC.PROXY?ze(Vi,`RPC '${e}' stream ${s} detected buffering proxy`):Ve.stat===oC.NOPROXY&&ze(Vi,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{Ce.fo()},0),Ce}}function Qf(){return typeof window<"u"?window:null}function Rd(){return typeof document<"u"?document:null}function Jm(n){return new lS(n,!0)}class Xm{constructor(e,t,r=1e3,s=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=s,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,t-r);s>0&&ze("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class HD{constructor(e,t,r,s,u,l,m,v){this.ii=e,this.$o=r,this.Oo=s,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=m,this.listener=v,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Xm(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,we.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,we.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,we.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ye.RESOURCE_EXHAUSTED?(cr(t.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ye.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===t&&this.Zo(r,s)},r=>{e(()=>{const s=new je(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){var e=this;this.state=5,this.qo.No((0,we.Z)(function*(){e.state=0,e.start()}))}tu(e){return ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GD extends HD{constructor(e,t,r,s,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function hS(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:mt(),s=e.targetChange.targetIds||[],u=function(v,C){return v.useProto3Json?(St(void 0===C||"string"==typeof C),$r.fromBase64String(C||"")):(St(void 0===C||C instanceof Uint8Array),$r.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,m=l&&function(v){const C=void 0===v.code?ye.UNKNOWN:sD(v.code);return new je(C,v.message||"")}(l);t=new uD(r,s,u,m||null)}else if("documentChange"in e){const r=e.documentChange,s=Eo(n,r.document.name),u=Lr(r.document.updateTime),l=r.document.createTime?Lr(r.document.createTime):At.min(),m=new Fi({mapValue:{fields:r.document.fields}}),v=gr.newFoundDocument(s,u,l,m);t=new Sm(r.targetIds||[],r.removedTargetIds||[],v.key,v)}else if("documentDelete"in e){const r=e.documentDelete,s=Eo(n,r.document),u=r.readTime?Lr(r.readTime):At.min(),l=gr.newNoDocument(s,u);t=new Sm([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,s=Eo(n,r.document);t=new Sm([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return mt();{const r=e.filter,{count:s=0,unchangedNames:u}=r,l=new rD(s,u);t=new aD(r.targetId,l)}}var v;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return At.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?At.min():u.readTime?Lr(u.readTime):At.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=kf(this.serializer),t.addTarget=function(s,u){let l;const m=u.target;if(l=ym(m)?{documents:gD(s,m)}:{query:x0(s,m)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=S0(s,u.resumeToken);const v=Am(s,u.expectedCount);null!==v&&(l.expectedCount=v)}else if(u.snapshotVersion.compareTo(At.min())>0){l.readTime=bd(s,u.snapshotVersion.toTimestamp());const v=Am(s,u.expectedCount);null!==v&&(l.expectedCount=v)}return l}(this.serializer,e);const r=function pS(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=kf(this.serializer),t.removeTarget=e,this.Wo(t)}}class kd extends HD{constructor(e,t,r,s,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function fS(n,e){return n&&n.length>0?(St(void 0!==e),n.map(t=>function(r,s){let u=Lr(r.updateTime?r.updateTime:s);return u.isEqual(At.min())&&(u=Lr(s)),new eD(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Lr(e.commitTime);return this.listener.cu(r,t)}return St(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=kf(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Ff(this.serializer,r))};this.Wo(t)}}class $S extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new je(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Io(e,t,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new je(ye.UNKNOWN,s.toString())})}vo(e,t,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.vo(e,t,r,u,l,s)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new je(ye.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class XM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(cr(t),this.mu=!1):ze("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class HS{constructor(e,t,r,s,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(m=>{r.enqueueAndForget((0,we.Z)(function*(){var v;Uu(l)&&(ze("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,we.Z)(function*(C){const b=dt(C);b.vu.add(4),yield Fd(b),b.bu.set("Unknown"),b.vu.delete(4),yield ey(b)}),function(C){return v.apply(this,arguments)})(l))}))}),this.bu=new XM(r,s)}}function ey(n){return uw.apply(this,arguments)}function uw(){return uw=(0,we.Z)(function*(n){if(Uu(n))for(const e of n.Ru)yield e(!0)}),uw.apply(this,arguments)}function Fd(n){return cw.apply(this,arguments)}function cw(){return cw=(0,we.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),cw.apply(this,arguments)}function Xf(n,e){const t=dt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),hw(t)?ty(t):Kc(t).Ko()&&lw(t,e))}function Ld(n,e){const t=dt(n),r=Kc(t);t.Au.delete(e),r.Ko()&&dw(t,e),0===t.Au.size&&(r.Ko()?r.jo():Uu(t)&&t.bu.set("Unknown"))}function lw(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Kc(n).su(e)}function dw(n,e){n.Vu.qt(e),Kc(n).iu(e)}function ty(n){n.Vu=new JM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Kc(n).start(),n.bu.gu()}function hw(n){return Uu(n)&&!Kc(n).Uo()&&n.Au.size>0}function Uu(n){return 0===dt(n).vu.size}function fw(n){n.Vu=void 0}function GS(n){return ny.apply(this,arguments)}function ny(){return ny=(0,we.Z)(function*(n){n.Au.forEach((e,t)=>{lw(n,e)})}),ny.apply(this,arguments)}function qD(n,e){return ry.apply(this,arguments)}function ry(){return ry=(0,we.Z)(function*(n,e){fw(n),hw(n)?(n.bu.Iu(e),ty(n)):n.bu.set("Unknown")}),ry.apply(this,arguments)}function WD(n,e,t){return pw.apply(this,arguments)}function pw(){return pw=(0,we.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof uD&&2===e.state&&e.cause)try{yield(r=(0,we.Z)(function*(s,u){const l=u.cause;for(const m of u.targetIds)s.Au.has(m)&&(yield s.remoteSyncer.rejectListen(m,l),s.Au.delete(m),s.Vu.removeTarget(m))}),function(s,u){return r.apply(this,arguments)})(n,e)}catch(r){ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield iy(n,r)}else if(e instanceof Sm?n.Vu.Ht(e):e instanceof aD?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(At.min()))try{const r=yield qm(n.localStore);t.compareTo(r)>=0&&(yield function(s,u){const l=s.Vu.ce(u);return l.targetChanges.forEach((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const C=s.Au.get(v);C&&s.Au.set(v,C.withResumeToken(m.resumeToken,u))}}),l.targetMismatches.forEach((m,v)=>{const C=s.Au.get(m);if(!C)return;s.Au.set(m,C.withResumeToken($r.EMPTY_BYTE_STRING,C.snapshotVersion)),dw(s,m);const b=new Io(C.target,m,v,C.sequenceNumber);lw(s,b)}),s.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){ze("RemoteStore","Failed to raise snapshot:",r),yield iy(n,r)}var r}),pw.apply(this,arguments)}function iy(n,e,t){return ZD.apply(this,arguments)}function ZD(){return ZD=(0,we.Z)(function*(n,e,t){if(!Sa(e))throw e;n.vu.add(1),yield Fd(n),n.bu.set("Offline"),t||(t=()=>qm(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){ze("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield ey(n)}))}),ZD.apply(this,arguments)}function gw(n,e){return e().catch(t=>iy(n,t,e))}function ep(n){return KD.apply(this,arguments)}function KD(){return KD=(0,we.Z)(function*(n){const e=dt(n),t=Bu(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;ex(e);)try{const s=yield BD(e.localStore,r);if(null===s){0===e.Eu.length&&t.jo();break}r=s.batchId,tx(e,s)}catch(s){yield iy(e,s)}zS(e)&&qS(e)}),KD.apply(this,arguments)}function ex(n){return Uu(n)&&n.Eu.length<10}function tx(n,e){n.Eu.push(e);const t=Bu(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function zS(n){return Uu(n)&&!Bu(n).Uo()&&n.Eu.length>0}function qS(n){Bu(n).start()}function nx(n){return YD.apply(this,arguments)}function YD(){return YD=(0,we.Z)(function*(n){Bu(n).hu()}),YD.apply(this,arguments)}function rx(n){return sy.apply(this,arguments)}function sy(){return sy=(0,we.Z)(function*(n){const e=Bu(n);for(const t of n.Eu)e.uu(t.mutations)}),sy.apply(this,arguments)}function mw(n,e,t){return oy.apply(this,arguments)}function oy(){return oy=(0,we.Z)(function*(n,e,t){const r=n.Eu.shift(),s=I0.from(r,e,t);yield gw(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield ep(n)}),oy.apply(this,arguments)}function WS(n,e){return Vd.apply(this,arguments)}function Vd(){return Vd=(0,we.Z)(function*(n,e){var t;e&&Bu(n).ou&&(yield(t=(0,we.Z)(function*(r,s){if(iD(u=s.code)&&u!==ye.ABORTED){const l=r.Eu.shift();Bu(r).Qo(),yield gw(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,s)),yield ep(r)}var u}),function(r,s){return t.apply(this,arguments)})(n,e)),zS(n)&&qS(n)}),Vd.apply(this,arguments)}function QD(n,e){return JD.apply(this,arguments)}function JD(){return JD=(0,we.Z)(function*(n,e){const t=dt(n);t.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const r=Uu(t);t.vu.add(3),yield Fd(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield ey(t)}),JD.apply(this,arguments)}function XD(n,e){return yw.apply(this,arguments)}function yw(){return yw=(0,we.Z)(function*(n,e){const t=dt(n);e?(t.vu.delete(2),yield ey(t)):e||(t.vu.add(2),yield Fd(t),t.bu.set("Unknown"))}),yw.apply(this,arguments)}function Kc(n){return n.Su||(n.Su=function(e,t,r){const s=dt(e);return s.fu(),new GD(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:GS.bind(null,n),ao:qD.bind(null,n),nu:WD.bind(null,n)}),n.Ru.push(function(){var e=(0,we.Z)(function*(t){t?(n.Su.Qo(),hw(n)?ty(n):n.bu.set("Unknown")):(yield n.Su.stop(),fw(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Bu(n){return n.Du||(n.Du=function(e,t,r){const s=dt(e);return s.fu(),new kd(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:nx.bind(null,n),ao:WS.bind(null,n),au:rx.bind(null,n),cu:mw.bind(null,n)}),n.Ru.push(function(){var e=(0,we.Z)(function*(t){t?(n.Du.Qo(),yield ep(n)):(yield n.Du.stop(),n.Eu.length>0&&(ze("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class vw{constructor(e,t,r,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=u,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,s,u){const l=Date.now()+r,m=new vw(e,t,l,s,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new je(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ud(n,e){if(cr("AsyncQueue",`${e}: ${n}`),Sa(n))return new je(ye.UNAVAILABLE,`${e}: ${n}`);throw n}class tp{constructor(e){this.comparator=e?(t,r)=>e(t,r)||it.comparator(t.key,r.key):(t,r)=>it.comparator(t.key,r.key),this.keyedMap=vd(),this.sortedSet=new ir(this.comparator)}static emptySet(e){return new tp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tp)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new tp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class eb{constructor(){this.Cu=new ir(it.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):mt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class na{constructor(e,t,r,s,u,l,m,v,C){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=m,this.excludesMetadataChanges=v,this.hasCachedResults=C}static fromInitialDocuments(e,t,r,s,u){const l=[];return t.forEach(m=>{l.push({type:0,doc:m})}),new na(e,t,tp.emptySet(t),l,r,s,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class ay{constructor(){this.Nu=void 0,this.listeners=[]}}class ZS{constructor(){this.queries=new Yo(e=>h0(e),Af),this.onlineState="Unknown",this.ku=new Set}}function _w(n,e){return ww.apply(this,arguments)}function ww(){return ww=(0,we.Z)(function*(n,e){const t=dt(n),r=e.query;let s=!1,u=t.queries.get(r);if(u||(s=!0,u=new ay),s)try{u.Nu=yield t.onListen(r)}catch(l){const m=Ud(l,`Initialization of query '${Em(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&Dw(t)}),ww.apply(this,arguments)}function Ew(n,e){return Iw.apply(this,arguments)}function Iw(){return Iw=(0,we.Z)(function*(n,e){const t=dt(n),r=e.query;let s=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),s=0===u.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),Iw.apply(this,arguments)}function KS(n,e){const t=dt(n);let r=!1;for(const s of e){const l=t.queries.get(s.query);if(l){for(const m of l.listeners)m.$u(s)&&(r=!0);l.Nu=s}}r&&Dw(t)}function Cw(n,e,t){const r=dt(n),s=r.queries.get(e);if(s)for(const u of s.listeners)u.onError(t);r.queries.delete(e)}function Dw(n){n.ku.forEach(e=>{e.next()})}class bw{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new na(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=na.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class YS{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class tb{constructor(e){this.serializer=e}rr(e){return Eo(this.serializer,e)}ur(e){return e.metadata.exists?fD(this.serializer,e.document,!1):gr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Lr(e)}}class QS{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=nb(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=On.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new tb(this.serializer);for(const s of e)if(s.metadata.queries){const u=r.rr(s.metadata.name);for(const l of s.metadata.queries){const m=(t.get(l)||yn()).add(u);t.set(l,m)}}return t}complete(){var e=this;return(0,we.Z)(function*(){const t=yield function ss(n,e,t,r){return Vu.apply(this,arguments)}(e.localStore,new tb(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const s of e.queries)yield FS(e.localStore,s,r.get(s.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function nb(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class rb{constructor(e){this.key=e}}class ib{constructor(e){this.key=e}}class sb{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=yn(),this.mutatedKeys=yn(),this.tc=p0(e),this.ec=new tp(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new eb,s=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,l=s,m=!1;const v="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,C="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((b,x)=>{const z=s.get(b),J=yd(this.query,x)?x:null,Ce=!!z&&this.mutatedKeys.has(z.key),Fe=!!J&&(J.hasLocalMutations||this.mutatedKeys.has(J.key)&&J.hasCommittedMutations);let Ve=!1;z&&J?z.data.isEqual(J.data)?Ce!==Fe&&(r.track({type:3,doc:J}),Ve=!0):this.rc(z,J)||(r.track({type:2,doc:J}),Ve=!0,(v&&this.tc(J,v)>0||C&&this.tc(J,C)<0)&&(m=!0)):!z&&J?(r.track({type:0,doc:J}),Ve=!0):z&&!J&&(r.track({type:1,doc:z}),Ve=!0,(v||C)&&(m=!0)),Ve&&(J?(l=l.add(J),u=Fe?u.add(b):u.delete(b)):(l=l.delete(b),u=u.delete(b)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const b="F"===this.query.limitType?l.last():l.first();l=l.delete(b.key),u=u.delete(b.key),r.track({type:1,doc:b})}return{ec:l,ic:r,zi:m,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((C,b)=>function(x,z){const J=Ce=>{switch(Ce){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return J(x)-J(z)}(C.type,b.type)||this.tc(C.doc,b.doc)),this.oc(r);const l=t?this.uc():[],m=0===this.Zu.size&&this.current?1:0,v=m!==this.Xu;return this.Xu=m,0!==u.length||v?{snapshot:new na(this.query,e.ec,s,u,e.mutatedKeys,0===m,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new eb,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=yn(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new ib(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new rb(r))}),t}hc(e){this.Yu=e.ir,this.Zu=yn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return na.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class ob{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Tw{constructor(e){this.key=e,this.fc=!1}}class JS{constructor(e,t,r,s,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Yo(m=>h0(m),Af),this._c=new Map,this.mc=new Set,this.gc=new ir(it.comparator),this.yc=new Map,this.Ic=new Z0,this.Tc={},this.Ec=new Map,this.Ac=ku.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function XS(n,e){return uy.apply(this,arguments)}function uy(){return uy=(0,we.Z)(function*(n,e){const t=yy(n);let r,s;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),s=u.view.lc();else{const l=yield Wc(t.localStore,ns(e)),m=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,s=yield cy(t,e,r,"current"===m,l.resumeToken),t.isPrimaryClient&&Xf(t.remoteStore,l)}return s}),uy.apply(this,arguments)}function cy(n,e,t,r,s){return ab.apply(this,arguments)}function ab(){return ab=(0,we.Z)(function*(n,e,t,r,s){n.Rc=(x,z,J)=>{return(Ce=(0,we.Z)(function*(Fe,Ve,It,Ut){let _t=Ve.view.sc(It);_t.zi&&(_t=yield Yf(Fe.localStore,Ve.query,!1).then(({documents:An})=>Ve.view.sc(An,_t)));const $t=Ut&&Ut.targetChanges.get(Ve.targetId),un=Ve.view.applyChanges(_t,Fe.isPrimaryClient,$t);return db(Fe,Ve.targetId,un.cc),un.snapshot}),function(Fe,Ve,It,Ut){return Ce.apply(this,arguments)})(n,x,z,J);var Ce};const u=yield Yf(n.localStore,e,!0),l=new sb(e,u.ir),m=l.sc(u.documents),v=Pa.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,s),C=l.applyChanges(m,n.isPrimaryClient,v);db(n,t,C.cc);const b=new ob(e,t,l);return n.wc.set(e,b),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),C.snapshot}),ab.apply(this,arguments)}function ys(n,e){return ly.apply(this,arguments)}function ly(){return ly=(0,we.Z)(function*(n,e){const t=dt(n),r=t.wc.get(e),s=t._c.get(r.targetId);if(s.length>1)return t._c.set(r.targetId,s.filter(u=>!Af(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Pd(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Ld(t.remoteStore,r.targetId),Bd(t,r.targetId)}).catch(Zo))):(Bd(t,r.targetId),yield Pd(t.localStore,r.targetId,!0))}),ly.apply(this,arguments)}function Sw(){return Sw=(0,we.Z)(function*(n,e,t){const r=Uw(n);try{const s=yield function(u,l){const m=dt(u),v=wr.now(),C=l.reduce((z,J)=>z.add(J.key),yn());let b,x;return m.persistence.runTransaction("Locally write mutations","readwrite",z=>{let J=rs(),Ce=yn();return m.Zi.getEntries(z,C).next(Fe=>{J=Fe,J.forEach((Ve,It)=>{It.isValidDocument()||(Ce=Ce.add(Ve))})}).next(()=>m.localDocuments.getOverlayedDocuments(z,J)).next(Fe=>{b=Fe;const Ve=[];for(const It of l){const Ut=oS(It,b.get(It.key).overlayedDocument);null!=Ut&&Ve.push(new ea(It.key,Ut,NC(Ut.value.mapValue),Ir.exists(!0)))}return m.mutationQueue.addMutationBatch(z,v,Ve,l)}).next(Fe=>{x=Fe;const Ve=Fe.applyToLocalDocumentSet(b,Ce);return m.documentOverlayCache.saveOverlays(z,Fe.batchId,Ve)})}).then(()=>({batchId:x.batchId,changes:xu(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,l,m){let v=u.Tc[u.currentUser.toKey()];v||(v=new ir(sn)),v=v.insert(l,m),u.Tc[u.currentUser.toKey()]=v}(r,s.batchId,t),yield ra(r,s.changes),yield ep(r.remoteStore)}catch(s){const u=Ud(s,"Failed to persist write");t.reject(u)}}),Sw.apply(this,arguments)}function Aw(n,e){return Mw.apply(this,arguments)}function Mw(){return Mw=(0,we.Z)(function*(n,e){const t=dt(n);try{const r=yield function VD(n,e){const t=dt(n),r=e.snapshotVersion;let s=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});s=t.Ji;const m=[];e.targetChanges.forEach((b,x)=>{const z=s.get(x);if(!z)return;m.push(t.Bs.removeMatchingKeys(u,b.removedDocuments,x).next(()=>t.Bs.addMatchingKeys(u,b.addedDocuments,x)));let J=z.withSequenceNumber(u.currentSequenceNumber);var Ce,Fe,Ve;null!==e.targetMismatches.get(x)?J=J.withResumeToken($r.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):b.resumeToken.approximateByteSize()>0&&(J=J.withResumeToken(b.resumeToken,r)),s=s.insert(x,J),Fe=J,Ve=b,(0===(Ce=z).resumeToken.approximateByteSize()||Fe.snapshotVersion.toMicroseconds()-Ce.snapshotVersion.toMicroseconds()>=3e8||Ve.addedDocuments.size+Ve.modifiedDocuments.size+Ve.removedDocuments.size>0)&&m.push(t.Bs.updateTargetData(u,J))});let v=rs(),C=yn();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,b))}),m.push(UD(u,l,e.documentUpdates).next(b=>{v=b.nr,C=b.sr})),!r.isEqual(At.min())){const b=t.Bs.getLastRemoteSnapshotVersion(u).next(x=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(b)}return le.waitFor(m).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,v,C)).next(()=>v)}).then(u=>(t.Ji=s,u))}(t.localStore,e);e.targetChanges.forEach((s,u)=>{const l=t.yc.get(u);l&&(St(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.fc=!0:s.modifiedDocuments.size>0?St(l.fc):s.removedDocuments.size>0&&(St(l.fc),l.fc=!1))}),yield ra(t,r,e)}catch(r){yield Zo(r)}}),Mw.apply(this,arguments)}function dy(n,e,t){const r=dt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.wc.forEach((u,l)=>{const m=l.view.Mu(e);m.snapshot&&s.push(m.snapshot)}),function(u,l){const m=dt(u);m.onlineState=l;let v=!1;m.queries.forEach((C,b)=>{for(const x of b.listeners)x.Mu(l)&&(v=!0)}),v&&Dw(m)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ju(n,e,t){return hy.apply(this,arguments)}function hy(){return hy=(0,we.Z)(function*(n,e,t){const r=dt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.yc.get(e),u=s&&s.key;if(u){let l=new ir(it.comparator);l=l.insert(u,gr.newNoDocument(u,At.min()));const m=yn().add(u),v=new Dd(At.min(),new Map,new ir(sn),l,m);yield Aw(r,v),r.gc=r.gc.remove(u),r.yc.delete(e),kw(r)}else yield Pd(r.localStore,e,!1).then(()=>Bd(r,e,t)).catch(Zo)}),hy.apply(this,arguments)}function xw(n,e){return np.apply(this,arguments)}function np(){return np=(0,we.Z)(function*(n,e){const t=dt(n),r=e.batch.batchId;try{const s=yield function LD(n,e){const t=dt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,m,v,C){const b=v.batch,x=b.keys();let z=le.resolve();return x.forEach(J=>{z=z.next(()=>C.getEntry(m,J)).next(Ce=>{const Fe=v.docVersions.get(J);St(null!==Fe),Ce.version.compareTo(Fe)<0&&(b.applyToRemoteDocument(Ce,v),Ce.isValidDocument()&&(Ce.setReadTime(v.commitVersion),C.addEntry(Ce)))})}),z.next(()=>l.mutationQueue.removeMutationBatch(m,b))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let m=yn();for(let v=0;v<l.mutationResults.length;++v)l.mutationResults[v].transformResults.length>0&&(m=m.add(l.batch.mutations[v].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}(t.localStore,e);Nw(t,r,null),Pw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ra(t,s)}catch(s){yield Zo(s)}}),np.apply(this,arguments)}function eA(n,e,t){return cb.apply(this,arguments)}function cb(){return cb=(0,we.Z)(function*(n,e,t){const r=dt(n);try{const s=yield function(u,l){const m=dt(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let C;return m.mutationQueue.lookupMutationBatch(v,l).next(b=>(St(null!==b),C=b.keys(),m.mutationQueue.removeMutationBatch(v,b))).next(()=>m.mutationQueue.performConsistencyCheck(v)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(v,C,l)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,C)).next(()=>m.localDocuments.getDocuments(v,C))})}(r.localStore,e);Nw(r,e,t),Pw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ra(r,s)}catch(s){yield Zo(s)}}),cb.apply(this,arguments)}function Ow(){return Ow=(0,we.Z)(function*(n,e){const t=dt(n);Uu(t.remoteStore)||ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const l=dt(u);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>l.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const s=t.Ec.get(r)||[];s.push(e),t.Ec.set(r,s)}catch(r){const s=Ud(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),Ow.apply(this,arguments)}function Pw(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function Nw(n,e,t){const r=dt(n);let s=r.Tc[r.currentUser.toKey()];if(s){const u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function Bd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||Rw(n,r)})}function Rw(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Ld(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),kw(n))}function db(n,e,t){for(const r of t)r instanceof rb?(n.Ic.addReference(r.key,e),hb(n,r)):r instanceof ib?(ze("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||Rw(n,r.key)):mt()}function hb(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(ze("SyncEngine","New document in limbo: "+t),n.mc.add(r),kw(n))}function kw(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new it(On.fromString(e)),r=n.Ac.next();n.yc.set(r,new Tw(t)),n.gc=n.gc.insert(t,r),Xf(n.remoteStore,new Io(ns(md(t.path)),r,"TargetPurposeLimboResolution",xs.ct))}}function ra(n,e,t){return fb.apply(this,arguments)}function fb(){return fb=(0,we.Z)(function*(n,e,t){const r=dt(n),s=[],u=[],l=[];var m;r.wc.isEmpty()||(r.wc.forEach((m,v)=>{l.push(r.Rc(v,e,t).then(C=>{if((C||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,C?.fromCache?"not-current":"current"),C){s.push(C);const b=Kf.Li(v.targetId,C);u.push(b)}}))}),yield Promise.all(l),r.dc.nu(s),yield(m=(0,we.Z)(function*(v,C){const b=dt(v);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>le.forEach(C,z=>le.forEach(z.Fi,J=>b.persistence.referenceDelegate.addReference(x,z.targetId,J)).next(()=>le.forEach(z.Bi,J=>b.persistence.referenceDelegate.removeReference(x,z.targetId,J)))))}catch(x){if(!Sa(x))throw x;ze("LocalStore","Failed to update sequence numbers: "+x)}for(const x of C){const z=x.targetId;if(!x.fromCache){const J=b.Ji.get(z),Fe=J.withLastLimboFreeSnapshotVersion(J.snapshotVersion);b.Ji=b.Ji.insert(z,Fe)}}}),function(v,C){return m.apply(this,arguments)})(r.localStore,u))}),fb.apply(this,arguments)}function Fw(n,e){return fy.apply(this,arguments)}function fy(){return fy=(0,we.Z)(function*(n,e){const t=dt(n);if(!t.currentUser.isEqual(e)){ze("SyncEngine","User change. New user:",e.toKey());const r=yield FD(t.localStore,e);t.currentUser=e,(s=t).Ec.forEach(l=>{l.forEach(m=>{m.reject(new je(ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ra(t,r.er)}var s}),fy.apply(this,arguments)}function pb(n,e){const t=dt(n),r=t.yc.get(e);if(r&&r.fc)return yn().add(r.key);{let s=yn();const u=t._c.get(e);if(!u)return s;for(const l of u){const m=t.wc.get(l);s=s.unionWith(m.view.nc)}return s}}function tA(n,e){return py.apply(this,arguments)}function py(){return py=(0,we.Z)(function*(n,e){const t=dt(n),r=yield Yf(t.localStore,e.query,!0),s=e.view.hc(r);return t.isPrimaryClient&&db(t,e.targetId,s.cc),s}),py.apply(this,arguments)}function gb(n,e){return $u.apply(this,arguments)}function $u(){return $u=(0,we.Z)(function*(n,e){const t=dt(n);return ew(t.localStore,e).then(r=>ra(t,r))}),$u.apply(this,arguments)}function gy(n,e,t,r){return my.apply(this,arguments)}function my(){return my=(0,we.Z)(function*(n,e,t,r){const s=dt(n),u=yield function(l,m){const v=dt(l),C=dt(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",b=>C.Sn(b,m).next(x=>x?v.localDocuments.getDocuments(b,x):le.resolve(null)))}(s.localStore,e);var m;null!==u?("pending"===t?yield ep(s.remoteStore):"acknowledged"===t||"rejected"===t?(Nw(s,e,r||null),Pw(s,e),m=e,dt(dt(s.localStore).mutationQueue).Cn(m)):mt(),yield ra(s,u)):ze("SyncEngine","Cannot apply mutation batch with id: "+e)}),my.apply(this,arguments)}function Lw(){return Lw=(0,we.Z)(function*(n,e){const t=dt(n);if(yy(t),Uw(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),s=yield yb(t,r.toArray());t.vc=!0,yield XD(t.remoteStore,!0);for(const u of s)Xf(t.remoteStore,u)}else if(!1===e&&!1!==t.vc){const r=[];let s=Promise.resolve();t._c.forEach((u,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):s=s.then(()=>(Bd(t,l),Pd(t.localStore,l,!0))),Ld(t.remoteStore,l)}),yield s,yield yb(t,r),function(u){const l=dt(u);l.yc.forEach((m,v)=>{Ld(l.remoteStore,v)}),l.Ic.Ts(),l.yc=new Map,l.gc=new ir(it.comparator)}(t),t.vc=!1,yield XD(t.remoteStore,!1)}}),Lw.apply(this,arguments)}function yb(n,e,t){return vb.apply(this,arguments)}function vb(){return vb=(0,we.Z)(function*(n,e,t){const r=dt(n),s=[],u=[];for(const l of e){let m;const v=r._c.get(l);if(v&&0!==v.length){m=yield Wc(r.localStore,ns(v[0]));for(const C of v){const b=r.wc.get(C),x=yield tA(r,b);x.snapshot&&u.push(x.snapshot)}}else{const C=yield jD(r.localStore,l);m=yield Wc(r.localStore,C),yield cy(r,Vw(C),l,!1,m.resumeToken)}s.push(m)}return r.dc.nu(u),s}),vb.apply(this,arguments)}function Vw(n){return GC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function nA(n){const e=dt(n);return dt(dt(e.localStore).persistence).$i()}function rA(n,e,t,r){return _b.apply(this,arguments)}function _b(){return _b=(0,we.Z)(function*(n,e,t,r){const s=dt(n);if(s.vc)return void ze("SyncEngine","Ignoring unexpected query state notification.");const u=s._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const l=yield ew(s.localStore,f0(u[0])),m=Dd.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,$r.EMPTY_BYTE_STRING);yield ra(s,l,m);break}case"rejected":yield Pd(s.localStore,e,!0),Bd(s,e,r);break;default:mt()}}),_b.apply(this,arguments)}function ix(n,e,t){return wb.apply(this,arguments)}function wb(){return wb=(0,we.Z)(function*(n,e,t){const r=yy(n);if(r.vc){for(const s of e){if(r._c.has(s)){ze("SyncEngine","Adding an already active target "+s);continue}const u=yield jD(r.localStore,s),l=yield Wc(r.localStore,u);yield cy(r,Vw(u),l.targetId,!1,l.resumeToken),Xf(r.remoteStore,l)}for(const s of t)r._c.has(s)&&(yield Pd(r.localStore,s,!1).then(()=>{Ld(r.remoteStore,s),Bd(r,s)}).catch(Zo))}}),wb.apply(this,arguments)}function yy(n){const e=dt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Aw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ju.bind(null,e),e.dc.nu=KS.bind(null,e.eventManager),e.dc.Pc=Cw.bind(null,e.eventManager),e}function Uw(n){const e=dt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eA.bind(null,e),e}class rp{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,we.Z)(function*(){t.serializer=Jm(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return kD(this.persistence,new zm,e.initialUser,this.serializer)}createPersistence(e){return new $m(Zf.zs,this.serializer)}createSharedClientState(e){return new Ym}terminate(){var e=this;return(0,we.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Eb extends rp{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield Uw(r.Vc.syncEngine),yield ep(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return kD(this.persistence,new zm,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Bm(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new q_(t,this.persistence);return new z_(e.asyncQueue,r)}createPersistence(e){const t=Gm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Li.withCacheSize(this.cacheSizeBytes):Li.DEFAULT;return new J0(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Qf(),Rd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Ym}}class sA extends Eb{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e);const s=r.Vc.syncEngine;r.sharedClientState instanceof iw&&(r.sharedClientState.syncEngine={jr:gy.bind(null,s),zr:rA.bind(null,s),Wr:ix.bind(null,s),$i:nA.bind(null,s),Qr:gb.bind(null,s)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var u=(0,we.Z)(function*(l){yield function mb(n,e){return Lw.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Qf();if(!iw.D(t))throw new je(ye.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Gm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new iw(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class ip{initialize(e,t){var r=this;return(0,we.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>dy(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=Fw.bind(null,r.syncEngine),yield XD(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ZS}createDatastore(e){const t=Jm(e.databaseInfo.databaseId),r=new jS(e.databaseInfo);return new $S(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,u=m=>dy(this.syncEngine,m,0),l=sw.D()?new sw:new US,new HS(t,r,s,u,l);var t,r,s,u,l}createSyncEngine(e,t){return function(r,s,u,l,m,v,C){const b=new JS(r,s,u,l,m,v);return C&&(b.vc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,we.Z)(function*(t){const r=dt(t);ze("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Fd(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function oA(n,e=10240){let t=0;return{read:()=>(0,we.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class vy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class _y{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Qr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,we.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,we.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,we.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),s=Number(r);isNaN(s)&&e.Mc(`length string (${r}) is not valid number`);const u=yield e.$c(s);return new YS(JSON.parse(u),t.length+s)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,we.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,we.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,we.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class aA{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new je(ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(s=(0,we.Z)(function*(u,l){const m=dt(u),v=kf(m.serializer)+"/documents",C={documents:l.map(J=>Rf(m.serializer,J))},b=yield m.vo("BatchGetDocuments",v,C,l.length),x=new Map;b.forEach(J=>{const Ce=function pD(n,e){return"found"in e?function(t,r){St(!!r.found);const s=Eo(t,r.found.name),u=Lr(r.found.updateTime),l=r.found.createTime?Lr(r.found.createTime):At.min(),m=new Fi({mapValue:{fields:r.found.fields}});return gr.newFoundDocument(s,u,l,m)}(n,e):"missing"in e?function(t,r){St(!!r.missing),St(!!r.readTime);const s=Eo(t,r.missing),u=Lr(r.readTime);return gr.newNoDocument(s,u)}(n,e):mt()}(m.serializer,J);x.set(Ce.key.toString(),Ce)});const z=[];return l.forEach(J=>{const Ce=x.get(J.toString());St(!!Ce),z.push(Ce)}),z}),function(u,l){return s.apply(this,arguments)})(t.datastore,e);var s;return r.forEach(s=>t.recordVersion(s)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ta(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,s)=>{const u=it.fromPath(s);e.mutations.push(new w0(u,e.precondition(u)))}),yield(r=(0,we.Z)(function*(s,u){const l=dt(s),m=kf(l.serializer)+"/documents",v={writes:u.map(C=>Ff(l.serializer,C))};yield l.Io("Commit",m,v)}),function(s,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw mt();t=At.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new je(ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(At.min())?Ir.exists(!1):Ir.updateTime(t):Ir.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(At.min()))throw new je(ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ir.updateTime(t)}return Ir.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class uA{constructor(e,t,r,s,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=u,this.Bc=r.maxAttempts,this.qo=new Xm(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,we.Z)(function*(){const t=new aA(e.datastore),r=e.qc(t);r&&r.then(s=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(s)}).catch(u=>{e.Uc(u)}))}).catch(s=>{e.Uc(s)})}))}qc(e){try{const t=this.updateFunction(e);return!Iu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!iD(t)}return!1}}class Ib{constructor(e,t,r,s){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Yr.UNAUTHENTICATED,this.clientId=lC.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,we.Z)(function*(m){ze("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(ze("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,we.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new je(ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=Ud(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function ia(n,e){return wy.apply(this,arguments)}function wy(){return wy=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,we.Z)(function*(u){r.isEqual(u)||(yield FD(e.localStore,u),r=u)});return function(u){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),wy.apply(this,arguments)}function sp(n,e){return op.apply(this,arguments)}function op(){return op=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield ap(n);ze("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>QD(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,u)=>QD(e.remoteStore,u)),n._onlineComponents=e}),op.apply(this,arguments)}function Cb(n){return"FirebaseError"===n.name?n.code===ye.FAILED_PRECONDITION||n.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function ap(n){return up.apply(this,arguments)}function up(){return up=(0,we.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ze("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ia(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Cb(t))throw t;Ri("Error using user provided cache. Falling back to memory cache: "+t),yield ia(n,new rp)}}else ze("FirestoreClient","Using default OfflineComponentProvider"),yield ia(n,new rp);return n._offlineComponents}),up.apply(this,arguments)}function Yc(n){return Db.apply(this,arguments)}function Db(){return Db=(0,we.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ze("FirestoreClient","Using user provided OnlineComponentProvider"),yield sp(n,n._uninitializedComponentsProvider._online)):(ze("FirestoreClient","Using default OnlineComponentProvider"),yield sp(n,new ip))),n._onlineComponents}),Db.apply(this,arguments)}function cA(n){return ap(n).then(e=>e.persistence)}function Bw(n){return ap(n).then(e=>e.localStore)}function jw(n){return Yc(n).then(e=>e.remoteStore)}function $w(n){return Yc(n).then(e=>e.syncEngine)}function jd(n){return Hw.apply(this,arguments)}function Hw(){return Hw=(0,we.Z)(function*(n){const e=yield Yc(n),t=e.eventManager;return t.onListen=XS.bind(null,e.syncEngine),t.onUnlisten=ys.bind(null,e.syncEngine),t}),Hw.apply(this,arguments)}function Mb(n,e,t={}){const r=new Qr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(s,u,l,m,v){const C=new vy({next:x=>{u.enqueueAndForget(()=>Ew(s,b));const z=x.docs.has(l);!z&&x.fromCache?v.reject(new je(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&x.fromCache&&m&&"server"===m.source?v.reject(new je(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(x)},error:x=>v.reject(x)}),b=new bw(md(l.path),C,{includeMetadataChanges:!0,Ku:!0});return _w(s,b)}(yield jd(n),n.asyncQueue,e,t,r)})),r.promise}function Gw(n,e,t={}){const r=new Qr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(s,u,l,m,v){const C=new vy({next:x=>{u.enqueueAndForget(()=>Ew(s,b)),x.fromCache&&"server"===m.source?v.reject(new je(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(x)},error:x=>v.reject(x)}),b=new bw(l,C,{includeMetadataChanges:!0,Ku:!0});return _w(s,b)}(yield jd(n),n.asyncQueue,e,t,r)})),r.promise}function Ob(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const Pb=new Map;function Nb(n,e,t){if(!t)throw new je(ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function dA(n,e,t,r){if(!0===e&&!0===r)throw new je(ye.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Rb(n){if(!it.isDocumentKey(n))throw new je(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kb(n){if(it.isDocumentKey(n))throw new je(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ey(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":mt()}function Nn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new je(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ey(n);throw new je(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Ww(n,e){if(e<=0)throw new je(ye.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Zw{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new je(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new je(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ob(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new je(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new je(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new je(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cp{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new je(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new je(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zw(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new uC;switch(t.type){case"firstParty":return new qM(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new je(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Pb.get(e);t&&(ze("ComponentProvider","Removing Datastore"),Pb.delete(e),t.terminate())}(this),Promise.resolve()}}class lr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lr(this.firestore,e,this._key)}}class Wi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wi(this.firestore,e,this._query)}}class sa extends Wi{constructor(e,t,r){super(e,t,md(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lr(this.firestore,null,new it(e))}withConverter(e){return new sa(this.firestore,e,this._path)}}function Iy(n,e,...t){if(n=(0,Fn.m9)(n),Nb("collection","path",e),n instanceof cp){const r=On.fromString(e,...t);return kb(r),new sa(n,null,r)}{if(!(n instanceof lr||n instanceof sa))throw new je(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(On.fromString(e,...t));return kb(r),new sa(n.firestore,null,r)}}function lp(n,e,...t){if(n=(0,Fn.m9)(n),1===arguments.length&&(e=lC.A()),Nb("doc","path",e),n instanceof cp){const r=On.fromString(e,...t);return Rb(r),new lr(n,null,new it(r))}{if(!(n instanceof lr||n instanceof sa))throw new je(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(On.fromString(e,...t));return Rb(r),new lr(n.firestore,n instanceof sa?n.converter:null,new it(r))}}function Lb(n,e){return n=(0,Fn.m9)(n),e=(0,Fn.m9)(e),(n instanceof lr||n instanceof sa)&&(e instanceof lr||e instanceof sa)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function $d(n,e){return n=(0,Fn.m9)(n),e=(0,Fn.m9)(e),n instanceof Wi&&e instanceof Wi&&n.firestore===e.firestore&&Af(n._query,e._query)&&n.converter===e.converter}class hA{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Xm(this,"async_queue_retry"),this.Xc=()=>{const t=Rd();t&&ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Rd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Rd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Qr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,we.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Sa(t))throw t;ze("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,cr("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const s=vw.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(s),s}Zc(){this.Wc&&mt()}verifyOperationInProgress(){}sa(){var e=this;return(0,we.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Yw(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class Vb{constructor(){this._progressObserver={},this._taskCompletionResolver=new Qr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Cr extends cp{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new hA,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||fA(this),this._firestoreClient.terminate()}}function Hr(n){return n._firestoreClient||fA(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function fA(n){var e,t,r;const s=n._freezeSettings(),u=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new xC(n._databaseId,m,n._persistenceKey,(C=s).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,Ob(C.experimentalLongPollingOptions),C.useFetchStreams));var m,C;n._firestoreClient=new Ib(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=s.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=s.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}function Bb(n,e,t){const r=new Qr;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield ia(n,t),yield sp(n,e),r.resolve()}catch(s){const u=s;if(!Cb(u))throw u;Ri("Error enabling indexeddb cache. Falling back to memory cache: "+u),r.reject(u)}})).then(()=>r.promise)}function mA(n){if(n._initialized||n._terminated)throw new je(ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ka{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ka($r.fromBase64String(e))}catch(t){throw new je(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ka($r.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Fa{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new je(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class i{constructor(e){this._methodName=e}}class o{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new je(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new je(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return sn(this._lat,e._lat)||sn(this._long,e._long)}}const a=/^__.*__$/;class c{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ea(e,this.data,this.fieldMask,t,this.fieldTransforms):new jc(e,this.data,t,this.fieldTransforms)}}class d{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ea(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function f(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class y{constructor(e,t,r,s,u,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new y(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Dy(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(f(this.ca)&&a.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class _{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Jm(e)}ya(e,t,r,s=!1){return new y({ca:e,methodName:t,ga:r,path:xr.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function I(n){const e=n._freezeSettings(),t=Jm(n._databaseId);return new _(n._databaseId,!!e.ignoreUndefinedProperties,t)}function D(n,e,t,r,s,u={}){const l=n.ya(u.merge||u.mergeFields?2:0,e,t,s);Zi("Data must be an object, but it was:",l,r);const m=vn(r,l);let v,C;if(u.merge)v=new Jr(l.fieldMask),C=l.fieldTransforms;else if(u.mergeFields){const b=[];for(const x of u.mergeFields){const z=Ps(e,x,t);if(!l.contains(z))throw new je(ye.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);jb(b,z)||b.push(z)}v=new Jr(b),C=l.fieldTransforms.filter(x=>v.covers(x.field))}else v=null,C=l.fieldTransforms;return new c(new Fi(m),v,C)}class S extends i{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof S}}function L(n,e,t){return new y({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Z extends i{_toFieldTransform(e){return new Ed(e.path,new Oa)}isEqual(e){return e instanceof Z}}class ie extends i{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=L(this,e,!0),r=this.pa.map(u=>jt(u,t)),s=new Xo(r);return new Ed(e.path,s)}isEqual(e){return this===e}}class Re extends i{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=L(this,e,!0),r=this.pa.map(u=>jt(u,t)),s=new wd(r);return new Ed(e.path,s)}isEqual(e){return this===e}}class Ke extends i{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Bc(e.serializer,YC(e.serializer,this.Ia));return new Ed(e.path,t)}isEqual(e){return this===e}}function ut(n,e,t,r){const s=n.ya(1,e,t);Zi("Data must be an object, but it was:",s,r);const u=[],l=Fi.empty();Aa(r,(v,C)=>{const b=Gd(e,v,t);C=(0,Fn.m9)(C);const x=s.da(b);if(C instanceof S)u.push(b);else{const z=jt(C,x);null!=z&&(u.push(b),l.set(b,z))}});const m=new Jr(u);return new d(l,m,s.fieldTransforms)}function Mt(n,e,t,r,s,u){const l=n.ya(1,e,t),m=[Ps(e,r,t)],v=[s];if(u.length%2!=0)throw new je(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let z=0;z<u.length;z+=2)m.push(Ps(e,u[z])),v.push(u[z+1]);const C=[],b=Fi.empty();for(let z=m.length-1;z>=0;--z)if(!jb(C,m[z])){const J=m[z];let Ce=v[z];Ce=(0,Fn.m9)(Ce);const Fe=l.da(J);if(Ce instanceof S)C.push(J);else{const Ve=jt(Ce,Fe);null!=Ve&&(C.push(J),b.set(J,Ve))}}const x=new Jr(C);return new d(b,x,l.fieldTransforms)}function $e(n,e,t,r=!1){return jt(t,n.ya(r?4:3,e))}function jt(n,e){if(Wn(n=(0,Fn.m9)(n)))return Zi("Unsupported field value:",e,n),vn(n,e);if(n instanceof i)return function(t,r){if(!f(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const s=[];let u=0;for(const l of t){let m=jt(l,r.wa(u));null==m&&(m={nullValue:"NULL_VALUE"}),s.push(m),u++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,Fn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return YC(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=wr.fromDate(t);return{timestampValue:bd(r.serializer,s)}}if(t instanceof wr){const s=new wr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:bd(r.serializer,s)}}if(t instanceof o)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ka)return{bytesValue:S0(r.serializer,t._byteString)};if(t instanceof lr){const s=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(s))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:A0(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${Ey(t)}`)}(n,e)}function vn(n,e){const t={};return J_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Aa(n,(r,s)=>{const u=jt(s,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function Wn(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof wr||n instanceof o||n instanceof ka||n instanceof lr||n instanceof i)}function Zi(n,e,t){if(!Wn(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Ey(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Ps(n,e,t){if((e=(0,Fn.m9)(e))instanceof Fa)return e._internalPath;if("string"==typeof e)return Gd(n,e);throw Dy("Field path arguments must be of type string or ",n,!1,void 0,t)}const Hd=new RegExp("[~\\*/\\[\\]]");function Gd(n,e,t){if(e.search(Hd)>=0)throw Dy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Fa(...e.split("."))._internalPath}catch{throw Dy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Dy(n,e,t,r,s){const u=r&&!r.isEmpty(),l=void 0!==s;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let v="";return(u||l)&&(v+=" (found",u&&(v+=` in field ${r}`),l&&(v+=` in document ${s}`),v+=")"),new je(ye.INVALID_ARGUMENT,m+n+v)}function jb(n,e){return n.some(t=>t.isEqual(e))}class Qw{constructor(e,t,r,s,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new lr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new QP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($b("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class QP extends Qw{data(){return super.data()}}function $b(n,e){return"string"==typeof e?Gd(n,e):e instanceof Fa?e._internalPath:e._delegate._internalPath}function gx(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new je(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yA{}class Jw extends yA{}function zd(n,e,...t){let r=[];e instanceof yA&&r.push(e),r=r.concat(t),function(s){const u=s.filter(m=>m instanceof by).length,l=s.filter(m=>m instanceof Xw).length;if(u>1||u>0&&l>0)throw new je(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class Xw extends Jw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Xw(e,t,r)}_apply(e){const t=this._parse(e);return _x(e._query,t),new Wi(e.firestore,e.converter,d0(e._query,t))}_parse(e){const t=I(e.firestore);return function(s,u,l,m,v,C,b){let x;if(v.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new je(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){vx(b,C);const z=[];for(const J of b)z.push(yx(m,s,J));x={arrayValue:{values:z}}}else x=yx(m,s,b)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||vx(b,C),x=$e(l,"where",b,"in"===C||"not-in"===C);return Pn.create(v,C,x)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class by extends yA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new by(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:qn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,s){let u=r;const l=s.getFlattenedFilters();for(const m of l)_x(u,m),u=d0(u,m)}(e._query,t),new Wi(e.firestore,e.converter,d0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class vA extends Jw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new vA(e,t)}_apply(e){const t=function(r,s,u){if(null!==r.startAt)throw new je(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new je(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new pd(s,u);return function(m,v){if(null===c0(m)){const C=_m(m);null!==C&&wx(0,C,v.field)}}(r,l),l}(e._query,this._field,this._direction);return new Wi(e.firestore,e.converter,function(r,s){const u=r.explicitOrderBy.concat([s]);return new xa(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Hb extends Jw{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Hb(e,t,r)}_apply(e){return new Wi(e.firestore,e.converter,wm(e._query,this._limit,this._limitType))}}class Gb extends Jw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Gb(e,t,r)}_apply(e){const t=mx(e,this.type,this._docOrFields,this._inclusive);return new Wi(e.firestore,e.converter,(s=t,new xa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class zb extends Jw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new zb(e,t,r)}_apply(e){const t=mx(e,this.type,this._docOrFields,this._inclusive);return new Wi(e.firestore,e.converter,(s=t,new xa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function mx(n,e,t,r){if(t[0]=(0,Fn.m9)(t[0]),t[0]instanceof Qw)return function(s,u,l,m,v){if(!m)throw new je(ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const C=[];for(const b of Vc(s))if(b.field.isKeyField())C.push(Au(u,m.key));else{const x=m.data.field(b.field);if(bf(x))throw new je(ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const z=b.field.canonicalString();throw new je(ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${z}' (used as the orderBy) does not exist.`)}C.push(x)}return new Mu(C,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=I(n.firestore);return function(u,l,m,v,C,b){const x=u.explicitOrderBy;if(C.length>x.length)throw new je(ye.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const z=[];for(let J=0;J<C.length;J++){const Ce=C[J];if(x[J].field.isKeyField()){if("string"!=typeof Ce)throw new je(ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof Ce}`);if(!l0(u)&&-1!==Ce.indexOf("/"))throw new je(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${Ce}' contains a slash.`);const Fe=u.path.child(On.fromString(Ce));if(!it.isDocumentKey(Fe))throw new je(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${Fe}' is not because it contains an odd number of segments.`);const Ve=new it(Fe);z.push(Au(l,Ve))}else{const Fe=$e(m,v,Ce);z.push(Fe)}}return new Mu(z,b)}(n._query,n.firestore._databaseId,s,e,t,r)}}function yx(n,e,t){if("string"==typeof(t=(0,Fn.m9)(t))){if(""===t)throw new je(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!l0(e)&&-1!==t.indexOf("/"))throw new je(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(On.fromString(t));if(!it.isDocumentKey(r))throw new je(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Au(n,new it(r))}if(t instanceof lr)return Au(n,t._key);throw new je(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ey(t)}.`)}function vx(n,e){if(!Array.isArray(n)||0===n.length)throw new je(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _x(n,e){if(e.isInequality()){const r=_m(n),s=e.field;if(null!==r&&!r.isEqual(s))throw new je(ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const u=c0(n);null!==u&&wx(0,s,u)}const t=function(r,s){for(const u of r)for(const l of u.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new je(ye.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function wx(n,e,t){if(!t.isEqual(e))throw new je(ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class _A{convertValue(e,t="none"){switch(Su(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw mt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Aa(e,(s,u)=>{r[s]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new o(Fr(e.latitude),Fr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=um(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Or(e));default:return null}}convertTimestamp(e){const t=kc(e);return new wr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=On.fromString(e);St(_D(r));const s=new bu(r.get(1),r.get(3)),u=new it(r.popFirst(5));return s.isEqual(t)||cr(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function qb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class oN extends _A{constructor(e){super(),this.firestore=e}convertBytes(e){return new ka(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lr(this.firestore,null,t)}}class dp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qc extends Qw{constructor(e,t,r,s,u,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new eE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field($b("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class eE extends Qc{data(e={}){return super.data(e)}}class qd{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new dp(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new eE(this._firestore,this._userDataWriter,r.key,r,new dp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new je(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new eE(r._firestore,r._userDataWriter,l.doc.key,l.doc,new dp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||3!==l.type).map(l=>{const m=new eE(r._firestore,r._userDataWriter,l.doc.key,l.doc,new dp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,C=-1;return 0!==l.type&&(v=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),C=u.indexOf(l.doc.key)),{type:uN(l.type),doc:m,oldIndex:v,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function uN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}function Ix(n,e){return n instanceof Qc&&e instanceof Qc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof qd&&e instanceof qd&&n._firestore===e._firestore&&$d(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Wd extends _A{constructor(e){super(),this.firestore=e}convertBytes(e){return new ka(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lr(this.firestore,null,t)}}function Cx(n,e,t){n=Nn(n,lr);const r=Nn(n.firestore,Cr),s=qb(n.converter,e,t);return Ty(r,[D(I(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,Ir.none())])}function Dx(n,e,t,...r){n=Nn(n,lr);const s=Nn(n.firestore,Cr),u=I(s);let l;return l="string"==typeof(e=(0,Fn.m9)(e))||e instanceof Fa?Mt(u,"updateDoc",n._key,e,t,r):ut(u,"updateDoc",n._key,e),Ty(s,[l.toMutation(n._key,Ir.exists(!0))])}function bx(n,...e){var t,r,s;n=(0,Fn.m9)(n);let u={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||Yw(e[l])||(u=e[l],l++);const m={includeMetadataChanges:u.includeMetadataChanges};if(Yw(e[l])){const x=e[l];e[l]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[l+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[l+2]=null===(s=x.complete)||void 0===s?void 0:s.bind(x)}let v,C,b;if(n instanceof lr)C=Nn(n.firestore,Cr),b=md(n._key.path),v={next:x=>{e[l]&&e[l](wA(C,n,x))},error:e[l+1],complete:e[l+2]};else{const x=Nn(n,Wi);C=Nn(x.firestore,Cr),b=x._query;const z=new Wd(C);v={next:J=>{e[l]&&e[l](new qd(C,z,x,J))},error:e[l+1],complete:e[l+2]},gx(n._query)}return function(x,z,J,Ce){const Fe=new vy(Ce),Ve=new bw(z,Fe,J);return x.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return _w(yield jd(x),Ve)})),()=>{Fe.Dc(),x.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return Ew(yield jd(x),Ve)}))}}(Hr(C),b,m,v)}function Ty(n,e){return function(t,r){const s=new Qr;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function ub(n,e,t){return Sw.apply(this,arguments)}(yield $w(t),r,s)})),s.promise}(Hr(n),e)}function wA(n,e,t){const r=t.docs.get(e._key),s=new Wd(n);return new Qc(n,s,e._key,r,new dp(t.hasPendingWrites,t.fromCache),e.converter)}const TN={maxAttempts:5};class Tx{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=I(e)}set(e,t,r){this._verifyNotCommitted();const s=Zd(e,this._firestore),u=qb(s.converter,t,r),l=D(this._dataReader,"WriteBatch.set",s._key,u,null!==s.converter,r);return this._mutations.push(l.toMutation(s._key,Ir.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const u=Zd(e,this._firestore);let l;return l="string"==typeof(t=(0,Fn.m9)(t))||t instanceof Fa?Mt(this._dataReader,"WriteBatch.update",u._key,t,r,s):ut(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(l.toMutation(u._key,Ir.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Zd(e,this._firestore);return this._mutations=this._mutations.concat(new ta(t._key,Ir.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new je(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zd(n,e){if((n=(0,Fn.m9)(n)).firestore!==e)throw new je(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class SN extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=I(e)}get(e){const t=Zd(e,this._firestore),r=new oN(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||1!==s.length)return mt();const u=s[0];if(u.isFoundDocument())return new Qw(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new Qw(this._firestore,r,t._key,null,t.converter);throw mt()})}set(e,t,r){const s=Zd(e,this._firestore),u=qb(s.converter,t,r),l=D(this._dataReader,"Transaction.set",s._key,u,null!==s.converter,r);return this._transaction.set(s._key,l),this}update(e,t,r,...s){const u=Zd(e,this._firestore);let l;return l="string"==typeof(t=(0,Fn.m9)(t))||t instanceof Fa?Mt(this._dataReader,"Transaction.update",u._key,t,r,s):ut(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,l),this}delete(e){const t=Zd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Zd(e,this._firestore),r=new Wd(this._firestore);return super.get(e).then(s=>new Qc(this._firestore,r,t._key,s._document,new dp(!1,!1),t.converter))}}function EA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new je("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Ax(){if(typeof Uint8Array>"u")throw new je("unimplemented","Uint8Arrays are not available in this environment.")}function Mx(){if(!function nS(){return typeof atob<"u"}())throw new je("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){fo=Ig.SDK_VERSION,(0,Ig._registerComponent)(new Cg.wA("firestore",(t,{instanceIdentifier:r,options:s})=>{const u=t.getProvider("app").getImmediate(),l=new Cr(new $_(t.getProvider("auth-internal")),new q1(t.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new je(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bu(m.options.projectId,v)}(u,r),u);return s=Object.assign({useFetchStreams:e},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),(0,Ig.registerVersion)(As,"3.13.0",n),(0,Ig.registerVersion)(As,"3.13.0","esm2017")}();class tE{constructor(e){this._delegate=e}static fromBase64String(e){return Mx(),new tE(ka.fromBase64String(e))}static fromUint8Array(e){return Ax(),new tE(ka.fromUint8Array(e))}toBase64(){return Mx(),this._delegate.toBase64()}toUint8Array(){return Ax(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function IA(n){return function FN(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class LN{enableIndexedDbPersistence(e,t){return function ux(n,e){mA(n=Nn(n,Cr));const t=Hr(n);if(t._uninitializedComponentsProvider)throw new je(ye.FAILED_PRECONDITION,"SDK cache is already specified.");Ri("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),s=new ip;return Bb(t,s,new Eb(s,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function pA(n){mA(n=Nn(n,Cr));const e=Hr(n);if(e._uninitializedComponentsProvider)throw new je(ye.FAILED_PRECONDITION,"SDK cache is already specified.");Ri("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new ip;return Bb(e,r,new sA(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function cx(n){if(n._initialized&&!n._terminated)throw new je(ye.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Qr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(t=(0,we.Z)(function*(r){if(!go.D())return Promise.resolve();const s=r+"main";yield go.delete(s)}),function(r){return t.apply(this,arguments)})(Gm(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class xx{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof bu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ri("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function Kw(n,e,t,r={}){var s;const u=(n=Nn(n,cp))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==l&&Ri("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:l,ssl:!1})),r.mockUserToken){let m,v;if("string"==typeof r.mockUserToken)m=r.mockUserToken,v=Yr.MOCK_USER;else{m=(0,Fn.Sg)(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new je(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Yr(C)}n._authCredentials=new cC(new j_(m,v))}}(this._delegate,e,t,r)}enableNetwork(){return function dx(n){return function Tb(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield cA(n),t=yield jw(n);return e.setNetworkEnabled(!0),function(r){const s=dt(r);return s.vu.delete(0),ey(s)}(t)}))}(Hr(n=Nn(n,Cr)))}(this._delegate)}disableNetwork(){return function hx(n){return function Sb(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield cA(n),t=yield jw(n);return e.setNetworkEnabled(!1),(r=(0,we.Z)(function*(s){const u=dt(s);u.vu.add(0),yield Fd(u),u.bu.set("Offline")}),function(s){return r.apply(this,arguments)})(t);var r}))}(Hr(n=Nn(n,Cr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,dA("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function lx(n){return function(e){const t=new Qr;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function lb(n,e){return Ow.apply(this,arguments)}(yield $w(e),t)})),t.promise}(Hr(n=Nn(n,Cr)))}(this._delegate)}onSnapshotsInSync(e){return function yN(n,e){return function zw(n,e){const t=new vy(e);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield jd(n),s=t,dt(r).ku.add(s),void s.next();var r,s})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield jd(n),s=t,void dt(r).ku.delete(s);var r,s}))}}(Hr(n=Nn(n,Cr)),Yw(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new je("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Sy(this,Iy(this._delegate,e))}catch(t){throw Ns(t,"collection()","Firestore.collection()")}}doc(e){try{return new oa(this,lp(this._delegate,e))}catch(t){throw Ns(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Rs(this,function Fb(n,e){if(n=Nn(n,cp),Nb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new je(ye.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Wi(n,null,(t=e,new xa(On.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ns(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function AN(n,e,t){n=Nn(n,Cr);const r=Object.assign(Object.assign({},TN),t);return function(s){if(s.maxAttempts<1)throw new je(ye.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,u,l){const m=new Qr;return s.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const v=yield function bb(n){return Yc(n).then(e=>e.datastore)}(s);new uA(s.asyncQueue,v,l,u,m).run()})),m.promise}(Hr(n),s=>e(new SN(n,s)),r)}(this._delegate,t=>e(new Ox(this,t)))}batch(){return Hr(this._delegate),new Px(new Tx(this._delegate,e=>Ty(this._delegate,e)))}loadBundle(e){return function gA(n,e){const t=Hr(n=Nn(n,Cr)),r=new Vb;return function ox(n,e,t,r){const s=function(u,l){let m;return m="string"==typeof u?aS().encode(u):u,v=function(v,C){if(v instanceof Uint8Array)return oA(v,C);if(v instanceof ArrayBuffer)return oA(new Uint8Array(v),C);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new _y(v,l);var v}(t,Jm(e));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function iA(n,e,t){const r=dt(n);var s;(s=(0,we.Z)(function*(u,l,m){try{const v=yield l.getMetadata();if(yield function(z,J){const Ce=dt(z),Fe=Lr(J.createTime);return Ce.persistence.runTransaction("hasNewerBundle","readonly",Ve=>Ce.qs.getBundleMetadata(Ve,J.id)).then(Ve=>!!Ve&&Ve.createTime.compareTo(Fe)>=0)}(u.localStore,v))return yield l.close(),m._completeWith({taskState:"Success",documentsLoaded:(z=v).totalDocuments,bytesLoaded:z.totalBytes,totalDocuments:z.totalDocuments,totalBytes:z.totalBytes}),Promise.resolve(new Set);m._updateProgress(nb(v));const C=new QS(v,u.localStore,l.serializer);let b=yield l.bc();for(;b;){const z=yield C.zu(b);z&&m._updateProgress(z),b=yield l.bc()}const x=yield C.complete();return yield ra(u,x.Ju,void 0),yield function(z,J){const Ce=dt(z);return Ce.persistence.runTransaction("Save bundle","readwrite",Fe=>Ce.qs.saveBundleMetadata(Fe,J))}(u.localStore,v),m._completeWith(x.progress),Promise.resolve(x.Hu)}catch(v){return Ri("SyncEngine",`Loading bundle failed with ${v}`),m._failWith(v),Promise.resolve(new Set)}var z}),function(u,l,m){return s.apply(this,arguments)})(r,e,t).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}(yield $w(n),s,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function fx(n,e){return function xb(n,e){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(t,r){const s=dt(t);return s.persistence.runTransaction("Get named query","readonly",u=>s.qs.getNamedQuery(u,r))}(yield Bw(n),e)}))}(Hr(n=Nn(n,Cr)),e).then(t=>t?new Wi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Rs(this,t):null)}}class Wb extends _A{constructor(e){super(),this.firestore=e}convertBytes(e){return new tE(new ka(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return oa.forKey(t,this.firestore,null)}}class Ox{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Wb(e)}get(e){const t=fp(e);return this._delegate.get(t).then(r=>new nE(this._firestore,new Qc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=fp(e);return r?(EA("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=fp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=fp(e);return this._delegate.delete(t),this}}class Px{constructor(e){this._delegate=e}set(e,t,r){const s=fp(e);return r?(EA("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=fp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=fp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class hp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new eE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new rE(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=hp.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let u=s.get(t);return u||(u=new hp(e,new Wb(e),t),s.set(t,u)),u}}hp.INSTANCES=new WeakMap;class oa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Wb(e)}static forPath(e,t,r){if(e.length%2!=0)throw new je("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new oa(t,new lr(t._delegate,r,new it(e)))}static forKey(e,t,r){return new oa(t,new lr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Sy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Sy(this.firestore,Iy(this._delegate,e))}catch(t){throw Ns(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Fn.m9)(e))instanceof lr&&Lb(this._delegate,e)}set(e,t){t=EA("DocumentReference.set",t);try{return t?Cx(this._delegate,e,t):Cx(this._delegate,e)}catch(r){throw Ns(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?Dx(this._delegate,e):Dx(this._delegate,e,t,...r)}catch(s){throw Ns(s,"updateDoc()","DocumentReference.update()")}}delete(){return function gN(n){return Ty(Nn(n.firestore,Cr),[new ta(n._key,Ir.none())])}(this._delegate)}onSnapshot(...e){const t=Nx(e),r=Rx(e,s=>new nE(this.firestore,new Qc(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return bx(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function lN(n){n=Nn(n,lr);const e=Nn(n.firestore,Cr),t=Hr(e),r=new Wd(e);return function Ab(n,e){const t=new Qr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(s,u,l){try{const m=yield function(v,C){const b=dt(v);return b.persistence.runTransaction("read document","readonly",x=>b.localDocuments.getDocument(x,C))}(s,u);m.isFoundDocument()?l.resolve(m):m.isNoDocument()?l.resolve(null):l.reject(new je(ye.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const v=Ud(m,`Failed to get document '${u} from cache`);l.reject(v)}}),function(s,u,l){return r.apply(this,arguments)})(yield Bw(n),e,t);var r})),t.promise}(t,n._key).then(s=>new Qc(e,r,n._key,s,new dp(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function dN(n){n=Nn(n,lr);const e=Nn(n.firestore,Cr);return Mb(Hr(e),n._key,{source:"server"}).then(t=>wA(e,n,t))}(this._delegate):function cN(n){n=Nn(n,lr);const e=Nn(n.firestore,Cr);return Mb(Hr(e),n._key).then(t=>wA(e,n,t))}(this._delegate),t.then(r=>new nE(this.firestore,new Qc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new oa(this.firestore,this._delegate.withConverter(e?hp.getInstance(this.firestore,e):null))}}function Ns(n,e,t){return n.message=n.message.replace(e,t),n}function Nx(n){for(const e of n)if("object"==typeof e&&!IA(e))return e;return{}}function Rx(n,e){var t,r;let s;return s=IA(n[0])?n[0]:IA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{s.next&&s.next(e(u))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class nE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new oa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Ix(this._delegate,e._delegate)}}class rE extends nE{data(e){const t=this._delegate.data(e);return function aC(n,e){n||mt()}(void 0!==t),t}}class Rs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Wb(e)}where(e,t,r){try{return new Rs(this.firestore,zd(this._delegate,function JP(n,e,t){const r=e,s=$b("where",n);return Xw._create(s,r,t)}(e,t,r)))}catch(s){throw Ns(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Rs(this.firestore,zd(this._delegate,function XP(n,e="asc"){const t=e,r=$b("orderBy",n);return vA._create(r,t)}(e,t)))}catch(r){throw Ns(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Rs(this.firestore,zd(this._delegate,function eN(n){return Ww("limit",n),Hb._create("limit",n,"F")}(e)))}catch(t){throw Ns(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Rs(this.firestore,zd(this._delegate,function tN(n){return Ww("limitToLast",n),Hb._create("limitToLast",n,"L")}(e)))}catch(t){throw Ns(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Rs(this.firestore,zd(this._delegate,function nN(...n){return Gb._create("startAt",n,!0)}(...e)))}catch(t){throw Ns(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Rs(this.firestore,zd(this._delegate,function rN(...n){return Gb._create("startAfter",n,!1)}(...e)))}catch(t){throw Ns(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Rs(this.firestore,zd(this._delegate,function iN(...n){return zb._create("endBefore",n,!1)}(...e)))}catch(t){throw Ns(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Rs(this.firestore,zd(this._delegate,function sN(...n){return zb._create("endAt",n,!0)}(...e)))}catch(t){throw Ns(t,"endAt()","Query.endAt()")}}isEqual(e){return $d(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function fN(n){n=Nn(n,Wi);const e=Nn(n.firestore,Cr),t=Hr(e),r=new Wd(e);return function lA(n,e){const t=new Qr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(s,u,l){try{const m=yield Yf(s,u,!0),v=new sb(u,m.ir),C=v.sc(m.documents),b=v.applyChanges(C,!1);l.resolve(b.snapshot)}catch(m){const v=Ud(m,`Failed to execute query '${u} against cache`);l.reject(v)}}),function(s,u,l){return r.apply(this,arguments)})(yield Bw(n),e,t);var r})),t.promise}(t,n._query).then(s=>new qd(e,r,n,s))}(this._delegate):"server"===e?.source?function pN(n){n=Nn(n,Wi);const e=Nn(n.firestore,Cr),t=Hr(e),r=new Wd(e);return Gw(t,n._query,{source:"server"}).then(s=>new qd(e,r,n,s))}(this._delegate):function hN(n){n=Nn(n,Wi);const e=Nn(n.firestore,Cr),t=Hr(e),r=new Wd(e);return gx(n._query),Gw(t,n._query).then(s=>new qd(e,r,n,s))}(this._delegate),t.then(r=>new CA(this.firestore,new qd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Nx(e),r=Rx(e,s=>new CA(this.firestore,new qd(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return bx(this._delegate,t,r)}withConverter(e){return new Rs(this.firestore,this._delegate.withConverter(e?hp.getInstance(this.firestore,e):null))}}class UN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new rE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class CA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Rs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new rE(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new UN(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new rE(this._firestore,r))})}isEqual(e){return Ix(this._delegate,e._delegate)}}class Sy extends Rs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new oa(this.firestore,e):null}doc(e){try{return new oa(this.firestore,void 0===e?lp(this._delegate):lp(this._delegate,e))}catch(t){throw Ns(t,"doc()","CollectionReference.doc()")}}add(e){return function mN(n,e){const t=Nn(n.firestore,Cr),r=lp(n),s=qb(n.converter,e);return Ty(t,[D(I(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,Ir.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new oa(this.firestore,t))}isEqual(e){return Lb(this._delegate,e._delegate)}withConverter(e){return new Sy(this.firestore,this._delegate.withConverter(e?hp.getInstance(this.firestore,e):null))}}function fp(n){return Nn(n,lr)}class DA{constructor(...e){this._delegate=new Fa(...e)}static documentId(){return new DA(xr.keyField().canonicalString())}isEqual(e){return(e=(0,Fn.m9)(e))instanceof Fa&&this._delegate._internalPath.isEqual(e._internalPath)}}class pp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function xN(){return new Z("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new pp(e)}static delete(){const e=function MN(){return new S("deleteField")}();return e._methodName="FieldValue.delete",new pp(e)}static arrayUnion(...e){const t=function ON(...n){return new ie("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new pp(t)}static arrayRemove(...e){const t=function PN(...n){return new Re("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new pp(t)}static increment(e){const t=function NN(n){return new Ke("increment",n)}(e);return t._methodName="FieldValue.increment",new pp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const BN={Firestore:xx,GeoPoint:o,Timestamp:wr,Blob:tE,Transaction:Ox,WriteBatch:Px,DocumentReference:oa,DocumentSnapshot:nE,Query:Rs,QueryDocumentSnapshot:rE,QuerySnapshot:CA,CollectionReference:Sy,FieldPath:DA,FieldValue:pp,setLogLevel:function VN(n){!function sd(n){Ms.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function $N(n){(function jN(n,e){n.INTERNAL.registerComponent(new Cg.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},BN)))})(n,(e,t)=>new xx(e,t,new LN)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(mI.Z);var HN=A(3019),aa=A(3093),GN=A(4552);class zN extends Xi.x{constructor(e=1/0,t=1/0,r=GN.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:u,_windowTime:l}=this;t||(r.push(e),!s&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,u=s.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,u=(s?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!s){const l=t.now();let m=0;for(let v=1;v<r.length&&r[v]<=l;v+=2)m=v;m&&r.splice(0,m+1)}}}var qN=A(3020);function bA(n,e,t){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):r=n??1/0,(0,qN.B)({connector:()=>new zN(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function Zb(n,e){return(0,Po.m)(e)?(0,Hn.w)(()=>n,e):(0,Hn.w)(()=>n)}var La=A(5137);A(4097);var SA=A(4303);const AA=new Map,Fx={activated:!1,tokenObservers:[]},QN={initialized:!1,enabled:!1};function ei(n){return AA.get(n)||Object.assign({},Fx)}function Yb(){return QN}const MA="https://content-firebaseappcheck.googleapis.com/v1",t2="exchangeDebugToken",Lx={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class r2{constructor(e,t,r,s,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=s,s>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,we.Z)(function*(){t.stop();try{t.pending=new Fn.BH,yield function i2(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Fn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const os=new Fn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function xA(n){if(!ei(n).activated)throw os.create("use-before-activation",{appName:n.name})}function Xb(n,e){return PA.apply(this,arguments)}function PA(){return PA=(0,we.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){const x=yield s.getHeartbeatsHeader();x&&(r["X-Firebase-Client"]=x)}const u={method:"POST",body:JSON.stringify(e),headers:r};let l,m;try{l=yield fetch(n,u)}catch(x){throw os.create("fetch-network-error",{originalErrorMessage:x?.message})}if(200!==l.status)throw os.create("fetch-status-error",{httpStatus:l.status});try{m=yield l.json()}catch(x){throw os.create("fetch-parse-error",{originalErrorMessage:x?.message})}const v=m.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw os.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const C=1e3*Number(v[1]),b=Date.now();return{token:m.token,expireTimeMillis:b+C,issuedAtTimeMillis:b}}),PA.apply(this,arguments)}function Vx(n,e){const{projectId:t,appId:r,apiKey:s}=n.options;return{url:`${MA}/projects/${t}/apps/${r}:${t2}?key=${s}`,body:{debug_token:e}}}const u2="firebase-app-check-database",c2=1,iE="firebase-app-check-store";let eT=null;function NA(){return NA=(0,we.Z)(function*(n,e){const r=(yield function Bx(){return eT||(eT=new Promise((n,e)=>{try{const t=indexedDB.open(u2,c2);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var s;e(os.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(iE,{keyPath:"compositeKey"})}}catch(t){e(os.create("storage-open",{originalErrorMessage:t?.message}))}}),eT)}()).transaction(iE,"readwrite"),u=r.objectStore(iE).put({compositeKey:n,value:e});return new Promise((l,m)=>{u.onsuccess=v=>{l()},r.onerror=v=>{var C;m(os.create("storage-set",{originalErrorMessage:null===(C=v.target.error)||void 0===C?void 0:C.message}))}})}),NA.apply(this,arguments)}const sE=new lu.Yd("@firebase/app-check");function FA(n,e){return(0,Fn.hl)()?function d2(n,e){return function jx(n,e){return NA.apply(this,arguments)}(function Hx(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{sE.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function VA(){return Yb().enabled}function UA(){return BA.apply(this,arguments)}function BA(){return BA=(0,we.Z)(function*(){const n=Yb();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),BA.apply(this,arguments)}const y2={error:"UNKNOWN_ERROR"};function v2(n){return Fn.US.encodeString(JSON.stringify(n),!1)}function tT(n){return jA.apply(this,arguments)}function jA(){return jA=(0,we.Z)(function*(n,e=!1){const t=n.app;xA(t);const r=ei(t);let u,s=r.token;if(s&&!Ay(s)&&(r.token=void 0,s=void 0),!s){const v=yield r.cachedTokenPromise;v&&(Ay(v)?s=v:yield FA(t,void 0))}if(!e&&s&&Ay(s))return{token:s.token};let m,l=!1;if(VA()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Xb(Vx(t,yield UA()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const v=yield r.exchangeTokenPromise;return yield FA(t,v),r.token=v,{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),s=yield ei(t).exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?sE.warn(v.message):sE.error(v),u=v}return s?u?m=Ay(s)?{token:s.token,internalError:u}:Wx(u):(m={token:s.token},r.token=s,yield FA(t,s)):m=Wx(u),l&&function qx(n,e){const t=ei(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,m),m}),jA.apply(this,arguments)}function $A(){return $A=(0,we.Z)(function*(n){const e=n.app;xA(e);const{provider:t}=ei(e);if(VA()){const r=yield UA(),{token:s}=yield Xb(Vx(e,r),n.heartbeatServiceProvider);return{token:s}}{const{token:r}=yield t.getToken();return{token:r}}}),$A.apply(this,arguments)}function GA(n,e){const t=ei(n),r=t.tokenObservers.filter(s=>s.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function zx(n){const{app:e}=n,t=ei(e);let r=t.tokenRefresher;r||(r=function _2(n){const{app:e}=n;return new r2((0,we.Z)(function*(){let r;if(r=ei(e).token?yield tT(n,!0):yield tT(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=ei(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Lx.RETRIAL_MIN_WAIT,Lx.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Ay(n){return n.expireTimeMillis-Date.now()>0}function Wx(n){return{token:v2(y2),error:n}}class w2{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ei(this.app);for(const t of e)GA(this.app,t.next);return Promise.resolve()}}const tO="app-check-internal";!function R2(){(0,SA._registerComponent)(new Cg.wA("app-check",n=>function E2(n,e){return new w2(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(tO).initialize()})),(0,SA._registerComponent)(new Cg.wA(tO,n=>function I2(n){return{getToken:e=>tT(n,e),getLimitedUseToken:()=>function Gx(n){return $A.apply(this,arguments)}(n),addTokenListener:e=>function HA(n,e,t,r){const{app:s}=n,u=ei(s);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&Ay(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),zx(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>zx(n))}(n,"INTERNAL",e),removeTokenListener:e=>GA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,SA.registerVersion)("@firebase/app-check","0.8.0")}();class ZA{constructor(){return(0,Qn.vb)("app-check")}}typeof window<"u"&&window;var YA=A(120);const rO=new h.OlP("angularfire2.auth.use-emulator"),iO=new h.OlP("angularfire2.auth.settings"),sO=new h.OlP("angularfire2.auth.tenant-id"),oO=new h.OlP("angularfire2.auth.langugage-code"),aO=new h.OlP("angularfire2.auth.use-device-language"),uO=new h.OlP("angularfire.auth.persistence"),cO=(n,e,t,r,s,u,l,m)=>(0,Oi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=s,u&&v.useDeviceLanguage(),l)for(const[C,b]of Object.entries(l))v.settings[C]=b;return m&&v.setPersistence(m),v},[t,r,s,u,l,m]);let rT=(()=>{class n{constructor(t,r,s,u,l,m,v,C,b,x,z,J){const Ce=new Xi.x,Fe=(0,Pt.of)(void 0).pipe((0,aa.Q)(l.outsideAngular),(0,Hn.w)(()=>u.runOutsideAngular(()=>Promise.resolve().then(A.bind(A,8661)))),(0,Qt.U)(()=>(0,Oi.on)(t,u,r)),(0,Qt.U)(Ve=>cO(Ve,u,m,C,b,x,v,z)),bA({bufferSize:1,refCount:!1}));if(br(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Pt.of)(null);else{Fe.pipe(Br()).subscribe();const It=Fe.pipe((0,Hn.w)($t=>$t.getRedirectResult().then(un=>un,()=>null)),Qn.iC,bA({bufferSize:1,refCount:!1})),Ut=Fe.pipe((0,Hn.w)($t=>new bi.y(un=>({unsubscribe:u.runOutsideAngular(()=>$t.onAuthStateChanged(An=>un.next(An),An=>un.error(An),()=>un.complete()))})))),_t=Fe.pipe((0,Hn.w)($t=>new bi.y(un=>({unsubscribe:u.runOutsideAngular(()=>$t.onIdTokenChanged(An=>un.next(An),An=>un.error(An),()=>un.complete()))}))));this.authState=It.pipe(Zb(Ut),(0,La.R)(l.outsideAngular),(0,aa.Q)(l.insideAngular)),this.user=It.pipe(Zb(_t),(0,La.R)(l.outsideAngular),(0,aa.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,Hn.w)($t=>$t?(0,er.D)($t.getIdToken()):(0,Pt.of)(null))),this.idTokenResult=this.user.pipe((0,Hn.w)($t=>$t?(0,er.D)($t.getIdTokenResult()):(0,Pt.of)(null))),this.credential=(0,HN.T)(It,Ce,this.authState.pipe(ci($t=>!$t))).pipe((0,Qt.U)($t=>$t?.user?$t:null),(0,La.R)(l.outsideAngular),(0,aa.Q)(l.insideAngular))}return(0,Oi.pX)(this,Fe,u,{spy:{apply:(Ve,It,Ut)=>{(Ve.startsWith("signIn")||Ve.startsWith("createUser"))&&Ut.then(_t=>Ce.next(_t))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Oi.Dh),h.LFG(Oi.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Qn.HU),h.LFG(rO,8),h.LFG(iO,8),h.LFG(sO,8),h.LFG(oO,8),h.LFG(aO,8),h.LFG(uO,8),h.LFG(ZA,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),B2=(()=>{class n{constructor(){YA.Z.registerVersion("angularfire",Qn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[rT]}),n})();function lO(n,e){return function j2(n,e=_g.z){return new bi.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function QA(n,e){return lO(n,e).pipe((0,Qt.U)(t=>({payload:t,type:"query"})))}function iT(n,e){return QA(n,e).pipe(Xa(void 0),Ul(),(0,Qt.U)(([t,r])=>{const s=r.payload.docChanges(),u=s.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,m)=>{const v=s.find(b=>b.doc.ref.isEqual(l.ref)),C=t?.payload.docs.find(b=>b.ref.isEqual(l.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(l.metadata)||!v&&C&&JSON.stringify(C.metadata)===JSON.stringify(l.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:l}})}),u}))}function dO(n,e,t){return iT(n,t).pipe(ga((r,s)=>function H2(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function G2(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return JA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return JA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return JA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(u=>u.payload),e),[]),(0,jv.x)(),(0,Qt.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function JA(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function hO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class fO{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=iT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Qt.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(Xa(void 0),Ul(),ci(([r,s])=>s.length>0||!r),(0,Qt.U)(([r,s])=>s),Qn.iC)}auditTrail(e){return this.stateChanges(e).pipe(ga((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=hO(e);return dO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}valueChanges(e={}){return QA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Qn.iC)}get(e){return(0,er.D)(this.query.get(e)).pipe(Qn.iC)}add(e){return this.ref.add(e)}doc(e){return new pO(this.ref.doc(e),this.afs)}}class pO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:u}=yO(r,t);return new fO(s,u,this.afs)}snapshotChanges(){return function $2(n,e){return lO(n,e).pipe(Xa(void 0),Ul(),(0,Qt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Qt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,er.D)(this.ref.get(e)).pipe(Qn.iC)}}class z2{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?iT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ci(t=>t.length>0),Qn.iC):iT(this.query,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}auditTrail(e){return this.stateChanges(e).pipe(ga((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=hO(e);return dO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}valueChanges(e={}){return QA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qt.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),Qn.iC)}get(e){return(0,er.D)(this.query.get(e)).pipe(Qn.iC)}}const gO=new h.OlP("angularfire2.enableFirestorePersistence"),mO=new h.OlP("angularfire2.firestore.persistenceSettings"),q2=new h.OlP("angularfire2.firestore.settings"),W2=new h.OlP("angularfire2.firestore.use-emulator");function yO(n,e=(t=>t)){return{query:e(n),ref:n}}let XA=(()=>{class n{constructor(t,r,s,u,l,m,v,C,b,x,z,J,Ce,Fe,Ve,It,Ut){this.schedulers=v;const _t=(0,Oi.on)(t,m,r),$t=b;x&&cO(_t,m,z,Ce,Fe,Ve,J,It),[this.firestore,this.persistenceEnabled$]=(0,Oi.cc)(`${_t.name}.firestore`,"AngularFirestore",_t.name,()=>{const un=m.runOutsideAngular(()=>_t.firestore());if(u&&un.settings(u),$t&&un.useEmulator(...$t),s&&!br(l)){const An=()=>{try{return(0,er.D)(un.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(as){return typeof console<"u"&&console.warn(as),(0,Pt.of)(!1)}};return[un,m.runOutsideAngular(An)]}return[un,(0,Pt.of)(!1)]},[u,$t,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:l}=yO(s,r),m=this.schedulers.ngZone.run(()=>u);return new fO(m,l,this)}collectionGroup(t,r){const s=r||(l=>l),u=this.firestore.collectionGroup(t);return new z2(s(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new pO(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Oi.Dh),h.LFG(Oi.xv,8),h.LFG(gO,8),h.LFG(q2,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Qn.HU),h.LFG(mO,8),h.LFG(W2,8),h.LFG(rT,8),h.LFG(rO,8),h.LFG(iO,8),h.LFG(sO,8),h.LFG(oO,8),h.LFG(aO,8),h.LFG(uO,8),h.LFG(ZA,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Z2=(()=>{class n{constructor(){YA.Z.registerVersion("angularfire",Qn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:gO,useValue:!0},{provide:mO,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[XA]}),n})(),vO=(()=>{class n{constructor(t){this.db=t,this._posts$=new ui.X([]),this.posts$=this._posts$.asObservable()}getPosts(){return this.db.collection("posts").valueChanges().pipe((0,_r.b)(t=>{this._posts$.next(t)}),function Eg(n=1/0){let e;e=n&&"object"==typeof n?n:{count:n};const{count:t=1/0,delay:r,resetOnSuccess:s=!1}=e;return t<=0?ha.y:(0,Hi.e)((u,l)=>{let v,m=0;const C=()=>{let b=!1;v=u.subscribe((0,Si.x)(l,x=>{s&&(m=0),l.next(x)},void 0,x=>{if(m++<t){const z=()=>{v?(v.unsubscribe(),v=null,C()):b=!0};if(null!=r){const J="number"==typeof r?function Bv(n=0,e,t=_g.P){let r=-1;return null!=e&&((0,wg.K)(e)?t=e:r=e),new bi.y(s=>{let u=function g1(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;u<0&&(u=0);let l=0;return t.schedule(function(){s.closed||(s.next(l++),0<=r?this.schedule(void 0,r):s.complete())},u)})}(r):(0,nc.Xf)(r(x,m)),Ce=(0,Si.x)(l,()=>{Ce.unsubscribe(),z()},()=>{l.complete()});J.subscribe(Ce)}else z()}else l.error(x)})),b&&(v.unsubscribe(),v=null,C())};C()})}(1),ls(t=>(console.log("err:",t),pa(()=>t))))}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(XA))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var K2=A(6710);let My=(()=>{class n{constructor(t,r){this.afs=t,this.db=r,this._loggedInUser$=new ui.X(JSON.parse(sessionStorage.getItem("loggedInUser"))||null),this.loggedInUser$=this._loggedInUser$.asObservable()}logInWithGoogle(){var t=this;return(0,we.Z)(function*(){try{const r=yield t.afs.signInWithPopup(new K2.V);return yield t.createOrUpdateUserOnDB(r),sessionStorage.setItem("loggedInUser",JSON.stringify(r)),t._loggedInUser$.next(r),r}catch(r){throw console.error(r.message),r.message}})()}logInWithEmailAndPassword(t){var r=this;return(0,we.Z)(function*(){try{const s=yield r.afs.signInWithEmailAndPassword(t.email,t.password);return yield r.createOrUpdateUserOnDB(s,t),sessionStorage.setItem("loggedInUser",JSON.stringify(s)),r._loggedInUser$.next(s),s}catch(s){throw console.error(s.message),s.message}})()}registerWithEmailAndPassword(t){var r=this;return(0,we.Z)(function*(){try{const s=yield r.afs.createUserWithEmailAndPassword(t.email,t.password);return yield r.createOrUpdateUserOnDB(s,t),sessionStorage.setItem("loggedInUser",JSON.stringify(s)),r._loggedInUser$.next(s),s}catch(s){throw console.error(s.message),s.message}})()}logOut(){var t=this;return(0,we.Z)(function*(){try{yield t.afs.signOut(),sessionStorage.removeItem("loggedInUser"),t._loggedInUser$.next(null)}catch(r){throw console.error(r.message),r.message}})()}createOrUpdateUserOnDB(t,r=null){var s=this;return(0,we.Z)(function*(){var u;s.db.collection("users").doc(t.user.uid).get().pipe(Kr(1)).subscribe({next:(u=(0,we.Z)(function*(l){if(l.exists){const m=l.data();console.log("userData",m),m._id||(yield s.db.collection("users").doc(t.user.uid).update({_id:t.user.uid})),m.fullName||(yield s.db.collection("users").doc(t.user.uid).update({fullName:r?.fullName||t.additionalUserInfo?.profile?.name})),m.imgUrl||(yield s.db.collection("users").doc(t.user.uid).update({imgUrl:t.user.photoURL||"https://res.cloudinary.com/dpbcaizq9/image/upload/v1686066256/user_jsqpzw.png"})),m.followedByUsers||(yield s.db.collection("users").doc(t.user.uid).update({followedByUsers:[]})),m.followingUsers||(yield s.db.collection("users").doc(t.user.uid).update({followingUsers:[]}))}else yield s.db.collection("users").doc(t.user.uid).set({_id:t.user.uid,fullName:r?.fullName||t.additionalUserInfo?.profile?.name,imgUrl:t.user.photoURL||"https://res.cloudinary.com/dpbcaizq9/image/upload/v1686066256/user_jsqpzw.png",followedByUsers:[],followingUsers:[]})}),function(m){return u.apply(this,arguments)}),error:u=>{console.error(u)}})})()}getUserById(t){return this.db.collection("users").doc(t).get()}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(rT),h.LFG(XA))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Y2=(()=>{class n{transform(t){const s=Math.floor(Date.now()/1e3)-t;return s<60?"just now":s<3600?`${Math.floor(s/60)}m`:s<86400?`${Math.floor(s/3600)}h`:`${Math.floor(s/86400)}d`}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=h.Yjl({name:"timeAgo",type:n,pure:!0})}return n})();function Q2(n,e){if(1&n&&(h.TgZ(0,"div",19),h._UZ(1,"img",20),h.TgZ(2,"h5"),h._uU(3),h.TgZ(4,"span"),h._uU(5),h.ALo(6,"timeAgo"),h.qZA()()()),2&n){const t=h.oxw();h.xp6(1),h.Q6J("src",t.creator.imgUrl,h.LSH),h.xp6(2),h.hij("",t.creator.fullName," "),h.xp6(2),h.hij("\u2022 ",h.lcZ(6,3,t.post.createdAt),"")}}function J2(n,e){1&n&&(h.TgZ(0,"button",21),h._uU(1,"more"),h.qZA())}let X2=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){this.authService.getUserById(this.post.creatorId).pipe(Kr(1)).subscribe({next:t=>{t.exists&&(this.creator=t.data(),console.log("this.creator",this.creator))}})}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(My))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["post-card"]],inputs:{post:"post"},decls:31,vars:10,consts:[[1,"post-card"],["class","post-header",4,"ngIf"],["alt","post",3,"src"],[1,"post-card-inner-container"],[1,"actions"],[1,"like-comment-share"],["aria-label","Like","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"x1lliihq","x1n2onr6"],["d","M16.792 3.904A4.989 4.989 0 0 1 21.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 0 1 4.708-5.218 4.21 4.21 0 0 1 3.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 0 1 3.679-1.938m0-2a6.04 6.04 0 0 0-4.797 2.127 6.052 6.052 0 0 0-4.787-2.127A6.985 6.985 0 0 0 .5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 0 0 3.518 3.018 2 2 0 0 0 2.174 0 45.263 45.263 0 0 0 3.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 0 0-6.708-7.218Z"],["aria-label","Comment","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"x1lliihq","x1n2onr6"],["d","M20.656 17.008a9.993 9.993 0 1 0-3.59 3.615L22 22Z","fill","none","stroke","currentColor","stroke-linejoin","round","stroke-width","2"],["aria-label","Share PostModel","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"x1lliihq","x1n2onr6"],["fill","none","stroke","currentColor","stroke-linejoin","round","stroke-width","2","x1","22","x2","9.218","y1","3","y2","10.083"],["fill","none","points","11.698 20.334 22 3.001 2 3.001 9.218 10.084 11.698 20.334","stroke","currentColor","stroke-linejoin","round","stroke-width","2"],[1,"save"],["aria-label","Save","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"x1lliihq","x1n2onr6"],["fill","none","points","20 21 12 13.44 4 21 4 3 20 3 20 21","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],[1,"content"],[1,"creatorFullName"],["class","btn-more",4,"ngIf"],[1,"post-header"],["alt","creator",3,"src"],[1,"btn-more"]],template:function(r,s){1&r&&(h.TgZ(0,"li",0),h.YNc(1,Q2,7,5,"div",1),h._UZ(2,"img",2),h.TgZ(3,"div",3)(4,"div",4)(5,"div",5),h.O4$(),h.TgZ(6,"svg",6)(7,"title"),h._uU(8,"Like"),h.qZA(),h._UZ(9,"path",7),h.qZA(),h.TgZ(10,"svg",8)(11,"title"),h._uU(12,"Comment"),h.qZA(),h._UZ(13,"path",9),h.qZA(),h.TgZ(14,"svg",10)(15,"title"),h._uU(16,"Share PostModel"),h.qZA(),h._UZ(17,"line",11)(18,"polygon",12),h.qZA()(),h.kcU(),h.TgZ(19,"div",13),h.O4$(),h.TgZ(20,"svg",14)(21,"title"),h._uU(22,"Save"),h.qZA(),h._UZ(23,"polygon",15),h.qZA()()(),h.kcU(),h.TgZ(24,"div",16)(25,"p")(26,"span",17),h._uU(27),h.qZA(),h._uU(28),h.ALo(29,"slice"),h.YNc(30,J2,2,0,"button",18),h.qZA()()()()),2&r&&(h.xp6(1),h.Q6J("ngIf",s.creator),h.xp6(1),h.Q6J("src",s.post.imgUrl,h.LSH),h.xp6(25),h.Oqu(s.post.creatorFullName),h.xp6(1),h.AsE(" ",h.Dn7(29,6,s.post.content,0,120)," ",s.post.content.length>=120&&"..."," "),h.xp6(2),h.Q6J("ngIf",s.post.content.length>=120))},dependencies:[Ui,Wr,Y2],styles:["[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;gap:1em}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5em;color:#f5f5f5}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:40px;border:none}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4em}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#919191;font-weight:400}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid rgba(245,245,245,.44);border-radius:.2em}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]{padding-inline:1.5em;display:flex;flex-direction:column;gap:.8em}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .like-comment-share[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5em}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .like-comment-share[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .creatorFullName[_ngcontent-%COMP%]{font-weight:700;font-size:13px;color:#f5f5f5;cursor:pointer}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .btn-more[_ngcontent-%COMP%]{border:none;background-color:transparent;color:#919191;font-size:14px;cursor:pointer}"]})}return n})();function eR(n,e){1&n&&h._UZ(0,"post-card",2),2&n&&h.Q6J("post",e.$implicit)}let tR=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["post-list"]],inputs:{posts:"posts"},decls:3,vars:1,consts:[[1,"post-list"],[3,"post",4,"ngFor","ngForOf"],[3,"post"]],template:function(r,s){1&r&&(h.TgZ(0,"section",0)(1,"ul"),h.YNc(2,eR,1,1,"post-card",1),h.qZA()()),2&r&&(h.xp6(2),h.Q6J("ngForOf",s.posts))},dependencies:[Vs,X2]})}return n})();function nR(n,e){if(1&n&&(h.TgZ(0,"section",1),h._UZ(1,"post-list",2),h.qZA()),2&n){const t=e.ngIf;h.xp6(1),h.Q6J("posts",t)}}let rR=(()=>{class n{constructor(t){this.postService=t}ngOnInit(){this.posts$=this.postService.posts$}ngOnDestroy(){}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(vO))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["home-page-page"]],decls:2,vars:3,consts:[["class","home-page",4,"ngIf"],[1,"home-page"],[3,"posts"]],template:function(r,s){1&r&&(h.YNc(0,nR,2,1,"section",0),h.ALo(1,"async")),2&r&&h.Q6J("ngIf",h.lcZ(1,1,s.posts$))},dependencies:[Ui,tR,ca]})}return n})(),_O=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.Qsj),h.Y36(h.SBq))};static#t=this.\u0275dir=h.lG2({type:n})}return n})(),gp=(()=>{class n extends _O{static#e=this.\u0275fac=function(){let t;return function(s){return(t||(t=h.n5z(n)))(s||n)}}();static#t=this.\u0275dir=h.lG2({type:n,features:[h.qOj]})}return n})();const Hu=new h.OlP("NgValueAccessor"),oR={provide:Hu,useExisting:(0,h.Gpc)(()=>sT),multi:!0},uR=new h.OlP("CompositionEventMode");let sT=(()=>{class n extends _O{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function aR(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(uR,8))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){1&r&&h.NdJ("input",function(l){return s._handleInput(l.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(l){return s._compositionEnd(l.target.value)})},features:[h._Bn([oR]),h.qOj]})}return n})();const vs=new h.OlP("NgValidators"),Yd=new h.OlP("NgAsyncValidators");function xO(n){return null!=n}function OO(n){return(0,h.QGY)(n)?(0,er.D)(n):n}function PO(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function NO(n,e){return e.map(t=>t(n))}function RO(n){return n.map(e=>function lR(n){return!n.validate}(e)?e:t=>e.validate(t))}function eM(n){return null!=n?function kO(n){if(!n)return null;const e=n.filter(xO);return 0==e.length?null:function(t){return PO(NO(t,e))}}(RO(n)):null}function tM(n){return null!=n?function FO(n){if(!n)return null;const e=n.filter(xO);return 0==e.length?null:function(t){return function iR(...n){const e=(0,to.jO)(n),{args:t,keys:r}=ur(n),s=new bi.y(u=>{const{length:l}=t;if(!l)return void u.complete();const m=new Array(l);let v=l,C=l;for(let b=0;b<l;b++){let x=!1;(0,nc.Xf)(t[b]).subscribe((0,Si.x)(u,z=>{x||(x=!0,C--),m[b]=z},()=>v--,void 0,()=>{(!v||!x)&&(C||u.next(r?no(r,m):m),u.complete())}))}});return e?s.pipe(ec(e)):s}(NO(t,e).map(OO)).pipe((0,Qt.U)(PO))}}(RO(n)):null}function LO(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function nM(n){return n?Array.isArray(n)?n:[n]:[]}function aT(n,e){return Array.isArray(n)?n.includes(e):n===e}function BO(n,e){const t=nM(e);return nM(n).forEach(s=>{aT(t,s)||t.push(s)}),t}function jO(n,e){return nM(e).filter(t=>!aT(n,t))}class $O{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=eM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=tM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ks extends $O{get formDirective(){return null}get path(){return null}}class Qd extends $O{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class HO{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let GO=(()=>{class n extends HO{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(Qd,2))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){2&r&&h.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[h.qOj]})}return n})(),zO=(()=>{class n extends HO{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(ks,10))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){2&r&&h.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[h.qOj]})}return n})();const oE="VALID",cT="INVALID",xy="PENDING",aE="DISABLED";function sM(n){return(lT(n)?n.validators:n)||null}function oM(n,e){return(lT(e)?e.asyncValidators:n)||null}function lT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class KO{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===oE}get invalid(){return this.status===cT}get pending(){return this.status==xy}get disabled(){return this.status===aE}get enabled(){return this.status!==aE}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(BO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(BO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(jO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(jO(e,this._rawAsyncValidators))}hasValidator(e){return aT(this._rawValidators,e)}hasAsyncValidator(e){return aT(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=xy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=aE,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=oE,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===oE||this.status===xy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?aE:oE}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=xy,this._hasOwnPendingAsyncValidator=!0;const t=OO(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,s)=>r&&r._find(s),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?aE:this.errors?cT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xy)?xy:this._anyControlsHaveStatus(cT)?cT:oE}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){lT(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function pR(n){return Array.isArray(n)?eM(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function gR(n){return Array.isArray(n)?tM(n):n||null}(this._rawAsyncValidators)}}class aM extends KO{constructor(e,t,r){super(sM(t),oM(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function ZO(n,e,t){n._forEachChild((r,s)=>{if(void 0===t[s])throw new h.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function WO(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[t])throw new h.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const s=this.controls[r];s&&s.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,s)=>((r.enabled||this.disabled)&&(t[s]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((s,u)=>{r=t(r,s,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const mp=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>uE}),uE="always";function cE(n,e,t=uE){uM(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function vR(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&YO(n,e)})}(n,e),function wR(n,e){const t=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function _R(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&YO(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function yR(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function fT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function uM(n,e){const t=function VO(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(LO(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function UO(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(LO(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();fT(e._rawValidators,s),fT(e._rawAsyncValidators,s)}function YO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const bR={provide:ks,useExisting:(0,h.Gpc)(()=>gT)},lE=(()=>Promise.resolve())();let gT=(()=>{class n extends ks{constructor(t,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new aM({},eM(t),tM(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){lE.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),cE(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){lE.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){lE.then(()=>{const r=this._findContainer(t.path),s=new aM({});(function QO(n,e){uM(n,e)})(s,t),r.registerControl(t.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){lE.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){lE.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function JO(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(vs,10),h.Y36(Yd,10),h.Y36(mp,8))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,s){1&r&&h.NdJ("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([bR]),h.qOj]})}return n})();function XO(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function eP(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const tP=class extends KO{constructor(e=null,t,r){super(sM(t),oM(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lT(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=eP(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){XO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){XO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){eP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},AR={provide:Qd,useExisting:(0,h.Gpc)(()=>hM)},iP=(()=>Promise.resolve())();let hM=(()=>{class n extends Qd{constructor(t,r,s,u,l,m){super(),this._changeDetectorRef=l,this.callSetDisabledState=m,this.control=new tP,this._registered=!1,this.name="",this.update=new h.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function dM(n,e){if(!e)return null;let t,r,s;return Array.isArray(e),e.forEach(u=>{u.constructor===sT?t=u:function CR(n){return Object.getPrototypeOf(n.constructor)===gp}(u)?r=u:s=u}),s||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function lM(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){cE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){iP.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,s=0!==r&&(0,h.VuI)(r);iP.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function dT(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(ks,9),h.Y36(vs,10),h.Y36(Yd,10),h.Y36(Hu,10),h.Y36(h.sBO,8),h.Y36(mp,8))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([AR]),h.qOj,h.TTD]})}return n})(),sP=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),aP=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({})}return n})();const fM=new h.OlP("NgModelWithFormControlWarning");let DP=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({imports:[aP]})}return n})(),XR=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:mp,useValue:t.callSetDisabledState??uE}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({imports:[DP]})}return n})(),ek=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:fM,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:mp,useValue:t.callSetDisabledState??uE}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({imports:[DP]})}return n})();function tk(n,e){if(1&n){const t=h.EpF();h.O4$(),h.kcU(),h.TgZ(0,"form",12),h.NdJ("ngSubmit",function(){h.CHM(t);const s=h.oxw();return h.KtG(s.onLogInWithEmailAndPassword())}),h.TgZ(1,"input",13),h.NdJ("ngModelChange",function(s){h.CHM(t);const u=h.oxw();return h.KtG(u.userCred.email=s)}),h.qZA(),h.TgZ(2,"input",14),h.NdJ("ngModelChange",function(s){h.CHM(t);const u=h.oxw();return h.KtG(u.userCred.password=s)}),h.qZA(),h.TgZ(3,"button",15),h._uU(4,"Log in"),h.qZA()()}if(2&n){const t=h.oxw();h.xp6(1),h.Q6J("ngModel",t.userCred.email),h.xp6(1),h.Q6J("ngModel",t.userCred.password)}}function nk(n,e){if(1&n){const t=h.EpF();h.O4$(),h.kcU(),h.TgZ(0,"form",12),h.NdJ("ngSubmit",function(){h.CHM(t);const s=h.oxw();return h.KtG(s.onRegisterWithEmailAndPassword())}),h.TgZ(1,"input",16),h.NdJ("ngModelChange",function(s){h.CHM(t);const u=h.oxw();return h.KtG(u.userCred.fullName=s)}),h.qZA(),h.TgZ(2,"input",13),h.NdJ("ngModelChange",function(s){h.CHM(t);const u=h.oxw();return h.KtG(u.userCred.email=s)}),h.qZA(),h.TgZ(3,"input",14),h.NdJ("ngModelChange",function(s){h.CHM(t);const u=h.oxw();return h.KtG(u.userCred.password=s)}),h.qZA(),h.TgZ(4,"button",17),h._uU(5,"Register"),h.qZA()()}if(2&n){const t=h.oxw();h.xp6(1),h.Q6J("ngModel",t.userCred.fullName),h.xp6(1),h.Q6J("ngModel",t.userCred.email),h.xp6(1),h.Q6J("ngModel",t.userCred.password)}}let rk=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.userCred={fullName:"",email:"",password:""},this.isLogInFormShown=!0}ngOnInit(){}onLogInWithGoogle(){var t=this;return(0,we.Z)(function*(){try{yield t.authService.logInWithGoogle(),t.authService.loggedInUser$.pipe(Kr(1)).subscribe({next:s=>{s&&t.router.navigateByUrl("/")},error:s=>{console.error(s)}})}catch(r){console.error(r)}})()}onLogInWithEmailAndPassword(){var t=this;return(0,we.Z)(function*(){try{yield t.authService.logInWithEmailAndPassword(t.userCred),t.authService.loggedInUser$.pipe(Kr(1)).subscribe({next:r=>{r&&t.router.navigateByUrl("/")},error:r=>{console.error(r)}})}catch(r){console.error(r.message)}})()}onRegisterWithEmailAndPassword(){var t=this;return(0,we.Z)(function*(){try{yield t.authService.registerWithEmailAndPassword(t.userCred),t.authService.loggedInUser$.pipe(Kr(1)).subscribe({next:r=>{r&&t.router.navigateByUrl("/")},error:r=>{console.error(r)}})}catch(r){console.error(r.message)}})()}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(My),h.Y36(li))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["login-page"]],decls:16,vars:2,consts:[[1,"login"],[1,"logo"],["aria-label","Instagram","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","29","role","img","viewBox","32 4 113 32","width","103",1,"_ab6-"],["clip-rule","evenodd","d","M37.82 4.11c-2.32.97-4.86 3.7-5.66 7.13-1.02 4.34 3.21 6.17 3.56 5.57.4-.7-.76-.94-1-3.2-.3-2.9 1.05-6.16 2.75-7.58.32-.27.3.1.3.78l-.06 14.46c0 3.1-.13 4.07-.36 5.04-.23.98-.6 1.64-.33 1.9.32.28 1.68-.4 2.46-1.5a8.13 8.13 0 0 0 1.33-4.58c.07-2.06.06-5.33.07-7.19 0-1.7.03-6.71-.03-9.72-.02-.74-2.07-1.51-3.03-1.1Zm82.13 14.48a9.42 9.42 0 0 1-.88 3.75c-.85 1.72-2.63 2.25-3.39-.22-.4-1.34-.43-3.59-.13-5.47.3-1.9 1.14-3.35 2.53-3.22 1.38.13 2.02 1.9 1.87 5.16ZM96.8 28.57c-.02 2.67-.44 5.01-1.34 5.7-1.29.96-3 .23-2.65-1.72.31-1.72 1.8-3.48 4-5.64l-.01 1.66Zm-.35-10a10.56 10.56 0 0 1-.88 3.77c-.85 1.72-2.64 2.25-3.39-.22-.5-1.69-.38-3.87-.13-5.25.33-1.78 1.12-3.44 2.53-3.44 1.38 0 2.06 1.5 1.87 5.14Zm-13.41-.02a9.54 9.54 0 0 1-.87 3.8c-.88 1.7-2.63 2.24-3.4-.23-.55-1.77-.36-4.2-.13-5.5.34-1.95 1.2-3.32 2.53-3.2 1.38.14 2.04 1.9 1.87 5.13Zm61.45 1.81c-.33 0-.49.35-.61.93-.44 2.02-.9 2.48-1.5 2.48-.66 0-1.26-1-1.42-3-.12-1.58-.1-4.48.06-7.37.03-.59-.14-1.17-1.73-1.75-.68-.25-1.68-.62-2.17.58a29.65 29.65 0 0 0-2.08 7.14c0 .06-.08.07-.1-.06-.07-.87-.26-2.46-.28-5.79 0-.65-.14-1.2-.86-1.65-.47-.3-1.88-.81-2.4-.2-.43.5-.94 1.87-1.47 3.48l-.74 2.2.01-4.88c0-.5-.34-.67-.45-.7a9.54 9.54 0 0 0-1.8-.37c-.48 0-.6.27-.6.67 0 .05-.08 4.65-.08 7.87v.46c-.27 1.48-1.14 3.49-2.09 3.49s-1.4-.84-1.4-4.68c0-2.24.07-3.21.1-4.83.02-.94.06-1.65.06-1.81-.01-.5-.87-.75-1.27-.85-.4-.09-.76-.13-1.03-.11-.4.02-.67.27-.67.62v.55a3.71 3.71 0 0 0-1.83-1.49c-1.44-.43-2.94-.05-4.07 1.53a9.31 9.31 0 0 0-1.66 4.73c-.16 1.5-.1 3.01.17 4.3-.33 1.44-.96 2.04-1.64 2.04-.99 0-1.7-1.62-1.62-4.4.06-1.84.42-3.13.82-4.99.17-.8.04-1.2-.31-1.6-.32-.37-1-.56-1.99-.33-.7.16-1.7.34-2.6.47 0 0 .05-.21.1-.6.23-2.03-1.98-1.87-2.69-1.22-.42.39-.7.84-.82 1.67-.17 1.3.9 1.91.9 1.91a22.22 22.22 0 0 1-3.4 7.23v-.7c-.01-3.36.03-6 .05-6.95.02-.94.06-1.63.06-1.8 0-.36-.22-.5-.66-.67-.4-.16-.86-.26-1.34-.3-.6-.05-.97.27-.96.65v.52a3.7 3.7 0 0 0-1.84-1.49c-1.44-.43-2.94-.05-4.07 1.53a10.1 10.1 0 0 0-1.66 4.72c-.15 1.57-.13 2.9.09 4.04-.23 1.13-.89 2.3-1.63 2.3-.95 0-1.5-.83-1.5-4.67 0-2.24.07-3.21.1-4.83.02-.94.06-1.65.06-1.81 0-.5-.87-.75-1.27-.85-.42-.1-.79-.13-1.06-.1-.37.02-.63.35-.63.6v.56a3.7 3.7 0 0 0-1.84-1.49c-1.44-.43-2.93-.04-4.07 1.53-.75 1.03-1.35 2.17-1.66 4.7a15.8 15.8 0 0 0-.12 2.04c-.3 1.81-1.61 3.9-2.68 3.9-.63 0-1.23-1.21-1.23-3.8 0-3.45.22-8.36.25-8.83l1.62-.03c.68 0 1.29.01 2.19-.04.45-.02.88-1.64.42-1.84-.21-.09-1.7-.17-2.3-.18-.5-.01-1.88-.11-1.88-.11s.13-3.26.16-3.6c.02-.3-.35-.44-.57-.53a7.77 7.77 0 0 0-1.53-.44c-.76-.15-1.1 0-1.17.64-.1.97-.15 3.82-.15 3.82-.56 0-2.47-.11-3.02-.11-.52 0-1.08 2.22-.36 2.25l3.2.09-.03 6.53v.47c-.53 2.73-2.37 4.2-2.37 4.2.4-1.8-.42-3.15-1.87-4.3-.54-.42-1.6-1.22-2.79-2.1 0 0 .69-.68 1.3-2.04.43-.96.45-2.06-.61-2.3-1.75-.41-3.2.87-3.63 2.25a2.61 2.61 0 0 0 .5 2.66l.15.19c-.4.76-.94 1.78-1.4 2.58-1.27 2.2-2.24 3.95-2.97 3.95-.58 0-.57-1.77-.57-3.43 0-1.43.1-3.58.19-5.8.03-.74-.34-1.16-.96-1.54a4.33 4.33 0 0 0-1.64-.69c-.7 0-2.7.1-4.6 5.57-.23.69-.7 1.94-.7 1.94l.04-6.57c0-.16-.08-.3-.27-.4a4.68 4.68 0 0 0-1.93-.54c-.36 0-.54.17-.54.5l-.07 10.3c0 .78.02 1.69.1 2.09.08.4.2.72.36.91.15.2.33.34.62.4.28.06 1.78.25 1.86-.32.1-.69.1-1.43.89-4.2 1.22-4.31 2.82-6.42 3.58-7.16.13-.14.28-.14.27.07l-.22 5.32c-.2 5.37.78 6.36 2.17 6.36 1.07 0 2.58-1.06 4.2-3.74l2.7-4.5 1.58 1.46c1.28 1.2 1.7 2.36 1.42 3.45-.21.83-1.02 1.7-2.44.86-.42-.25-.6-.44-1.01-.71-.23-.15-.57-.2-.78-.04-.53.4-.84.92-1.01 1.55-.17.61.45.94 1.09 1.22.55.25 1.74.47 2.5.5 2.94.1 5.3-1.42 6.94-5.34.3 3.38 1.55 5.3 3.72 5.3 1.45 0 2.91-1.88 3.55-3.72.18.75.45 1.4.8 1.96 1.68 2.65 4.93 2.07 6.56-.18.5-.69.58-.94.58-.94a3.07 3.07 0 0 0 2.94 2.87c1.1 0 2.23-.52 3.03-2.31.09.2.2.38.3.56 1.68 2.65 4.93 2.07 6.56-.18l.2-.28.05 1.4-1.5 1.37c-2.52 2.3-4.44 4.05-4.58 6.09-.18 2.6 1.93 3.56 3.53 3.69a4.5 4.5 0 0 0 4.04-2.11c.78-1.15 1.3-3.63 1.26-6.08l-.06-3.56a28.55 28.55 0 0 0 5.42-9.44s.93.01 1.92-.05c.32-.02.41.04.35.27-.07.28-1.25 4.84-.17 7.88.74 2.08 2.4 2.75 3.4 2.75 1.15 0 2.26-.87 2.85-2.17l.23.42c1.68 2.65 4.92 2.07 6.56-.18.37-.5.58-.94.58-.94.36 2.2 2.07 2.88 3.05 2.88 1.02 0 2-.42 2.78-2.28.03.82.08 1.49.16 1.7.05.13.34.3.56.37.93.34 1.88.18 2.24.11.24-.05.43-.25.46-.75.07-1.33.03-3.56.43-5.21.67-2.79 1.3-3.87 1.6-4.4.17-.3.36-.35.37-.03.01.64.04 2.52.3 5.05.2 1.86.46 2.96.65 3.3.57 1 1.27 1.05 1.83 1.05.36 0 1.12-.1 1.05-.73-.03-.31.02-2.22.7-4.96.43-1.79 1.15-3.4 1.41-4 .1-.21.15-.04.15 0-.06 1.22-.18 5.25.32 7.46.68 2.98 2.65 3.32 3.34 3.32 1.47 0 2.67-1.12 3.07-4.05.1-.7-.05-1.25-.48-1.25Z","fill","currentColor","fill-rule","evenodd"],[3,"ngSubmit",4,"ngIf"],[3,"click"],[1,"btn-google-login",3,"click"],["height","35px","viewBox","0 0 48 48","width","35px","xmlns","http://www.w3.org/2000/svg"],["d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z","fill","#FFC107"],["d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z","fill","#FF3D00"],["d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z","fill","#4CAF50"],["d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z","fill","#1976D2"],[3,"ngSubmit"],["name","email","placeholder","Enter email","type","email",3,"ngModel","ngModelChange"],["name","password","placeholder","Enter password","type","password",3,"ngModel","ngModelChange"],[1,"btn-login-with-email-password"],["name","fullName","placeholder","Enter full name","type","text",3,"ngModel","ngModelChange"],[1,"btn-register-with-email-password"]],template:function(r,s){1&r&&(h.TgZ(0,"section",0)(1,"div",1),h.O4$(),h.TgZ(2,"svg",2),h._UZ(3,"path",3),h.qZA()(),h.YNc(4,tk,5,2,"form",4),h.YNc(5,nk,6,3,"form",4),h.kcU(),h.TgZ(6,"p",5),h.NdJ("click",function(){return s.isLogInFormShown=!s.isLogInFormShown}),h._uU(7," Don't you have a user? Register here "),h.qZA(),h.TgZ(8,"button",6),h.NdJ("click",function(){return s.onLogInWithGoogle()}),h.O4$(),h.TgZ(9,"svg",7),h._UZ(10,"path",8)(11,"path",9)(12,"path",10)(13,"path",11),h.qZA(),h.kcU(),h.TgZ(14,"span"),h._uU(15,"Log in with Google"),h.qZA()()()),2&r&&(h.xp6(4),h.Q6J("ngIf",s.isLogInFormShown),h.xp6(1),h.Q6J("ngIf",!s.isLogInFormShown))},dependencies:[Ui,sP,sT,GO,zO,hM,gT],styles:["[_nghost-%COMP%]   .login[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5em}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-inline:.6em;height:3em;border:none;border-radius:.3em}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:placeholder-shown{font-style:italic}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn-login-with-email-password[_ngcontent-%COMP%]{height:2.5em;cursor:pointer;border:none;border-radius:.3em;font-size:16px;color:#222;margin-block-start:.5em}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn-login-with-email-password[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn-register-with-email-password[_ngcontent-%COMP%]{height:2.5em;cursor:pointer;border:none;border-radius:.3em;font-size:16px;color:#222;margin-block-start:.8em}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn-register-with-email-password[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{color:#b2b2b2}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   .btn-google-login[_ngcontent-%COMP%]{background-color:#f5f5f5;display:flex;align-items:center;gap:.5em;padding-inline:.8em;height:3.5em;border-radius:.4em;border:none;cursor:pointer;color:#222;margin-block-start:1.5em;font-size:16px}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   .btn-google-login[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}"]})}return n})(),ik=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["message-page"]],decls:2,vars:0,template:function(r,s){1&r&&(h.TgZ(0,"p"),h._uU(1,"message-page works!"),h.qZA())}})}return n})(),sk=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["notification-page"]],decls:2,vars:0,template:function(r,s){1&r&&(h.TgZ(0,"p"),h._uU(1,"notification-page works!"),h.qZA())}})}return n})(),ok=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["create-post-page"]],decls:2,vars:0,template:function(r,s){1&r&&(h.TgZ(0,"p"),h._uU(1,"create-post-page works!"),h.qZA())}})}return n})();const dE=()=>{let n=null;return(0,h.f3M)(My).loggedInUser$.pipe(Kr(1)).subscribe({next:e=>{n=e}}),!!n||((0,h.f3M)(li).navigateByUrl("/login"),!1)},ak=[{path:"",component:rR,canActivate:[dE]},{path:"login",component:rk,canActivate:[()=>{let n=null;return(0,h.f3M)(My).loggedInUser$.pipe(Kr(1)).subscribe({next:e=>{n=e}}),!n||((0,h.f3M)(li).navigateByUrl("/"),!1)}]},{path:"message",component:ik,canActivate:[dE]},{path:"notification",component:sk,canActivate:[dE]},{path:"create-post",component:ok,canActivate:[dE]},{path:"profile",component:(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["profile"]],decls:2,vars:0,template:function(r,s){1&r&&(h.TgZ(0,"p"),h._uU(1,"profile works!"),h.qZA())}})}return n})(),canActivate:[dE]}];let uk=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({imports:[yg.forRoot(ak,{useHash:!0}),yg]})}return n})();function ck(n,e){1&n&&(h.O4$(),h.TgZ(0,"svg",30),h._UZ(1,"path",31),h.qZA())}function lk(n,e){1&n&&(h.O4$(),h.TgZ(0,"svg",30),h._UZ(1,"path",32),h.qZA())}function dk(n,e){if(1&n&&h._UZ(0,"img",33),2&n){const t=h.oxw(2);h.Q6J("src",t.user.user.photoURL,h.LSH)}}function hk(n,e){1&n&&(h.O4$(),h.TgZ(0,"svg",34),h._UZ(1,"path",35)(2,"circle",36),h.qZA())}function fk(n,e){if(1&n){const t=h.EpF();h.O4$(),h.kcU(),h.TgZ(0,"div",37)(1,"ul")(2,"li",38),h.NdJ("click",function(){h.CHM(t);const s=h.oxw(2);return h.KtG(s.onLogOut())}),h._uU(3,"Log out"),h.qZA()()()}}const pk=function(){return{exact:!0}};function gk(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"section",1)(1,"div",2)(2,"div",3),h.O4$(),h.TgZ(3,"svg",4),h._UZ(4,"path",5),h.qZA()(),h.kcU(),h.TgZ(5,"nav")(6,"ul")(7,"li",6),h.O4$(),h.TgZ(8,"svg",7),h._UZ(9,"path",8),h.qZA()(),h.kcU(),h.TgZ(10,"li",9),h.O4$(),h.TgZ(11,"svg",10),h._UZ(12,"path",11)(13,"path",12),h.qZA()(),h.kcU(),h.TgZ(14,"li",13,14),h.YNc(16,ck,2,0,"svg",15),h.YNc(17,lk,2,0,"svg",15),h.qZA(),h.TgZ(18,"li",16),h.O4$(),h.TgZ(19,"svg",17),h._UZ(20,"path",18)(21,"line",19)(22,"line",20),h.qZA()(),h.kcU(),h.TgZ(23,"li",21),h.YNc(24,dk,1,1,"img",22),h.YNc(25,hk,3,0,"ng-template",null,23,h.W1O),h.qZA()()()(),h.TgZ(27,"div",24),h.NdJ("click",function(){h.CHM(t);const s=h.oxw();return h.KtG(s.isExtraMenuOpen=!s.isExtraMenuOpen)}),h.O4$(),h.TgZ(28,"svg",25),h._UZ(29,"line",26)(30,"line",27)(31,"line",28),h.qZA(),h.YNc(32,fk,4,0,"div",29),h.qZA()()}if(2&n){const t=h.MAs(15),r=h.MAs(26),s=h.oxw();h.xp6(7),h.Q6J("routerLinkActiveOptions",h.DdM(6,pk)),h.xp6(9),h.Q6J("ngIf",!t.classList.contains("active")),h.xp6(1),h.Q6J("ngIf",t.classList.contains("active")),h.xp6(7),h.Q6J("ngIf",s.user.user.photoURL)("ngIfElse",r),h.xp6(8),h.Q6J("ngIf",s.isExtraMenuOpen)}}let mk=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.isExtraMenuOpen=!1}ngOnInit(){this.userSubscription=this.authService.loggedInUser$.subscribe({next:t=>{t?this.user=t:(this.user=t,this.router.navigateByUrl("login"))}})}onLogOut(){var t=this;return(0,we.Z)(function*(){try{yield t.authService.logOut()}catch(r){console.error(r.message)}})()}ngOnDestroy(){this.userSubscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(My),h.Y36(li))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["aside-menu"]],decls:1,vars:1,consts:[["class","aside-menu",4,"ngIf"],[1,"aside-menu"],[1,"aside-menu-inner-container"],["routerLink","/","title","instagram",1,"logo"],["aria-label","Instagram","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"x1lliihq","x1n2onr6"],["d","M12 2.982c2.937 0 3.285.011 4.445.064a6.087 6.087 0 0 1 2.042.379 3.408 3.408 0 0 1 1.265.823 3.408 3.408 0 0 1 .823 1.265 6.087 6.087 0 0 1 .379 2.042c.053 1.16.064 1.508.064 4.445s-.011 3.285-.064 4.445a6.087 6.087 0 0 1-.379 2.042 3.643 3.643 0 0 1-2.088 2.088 6.087 6.087 0 0 1-2.042.379c-1.16.053-1.508.064-4.445.064s-3.285-.011-4.445-.064a6.087 6.087 0 0 1-2.043-.379 3.408 3.408 0 0 1-1.264-.823 3.408 3.408 0 0 1-.823-1.265 6.087 6.087 0 0 1-.379-2.042c-.053-1.16-.064-1.508-.064-4.445s.011-3.285.064-4.445a6.087 6.087 0 0 1 .379-2.042 3.408 3.408 0 0 1 .823-1.265 3.408 3.408 0 0 1 1.265-.823 6.087 6.087 0 0 1 2.042-.379c1.16-.053 1.508-.064 4.445-.064M12 1c-2.987 0-3.362.013-4.535.066a8.074 8.074 0 0 0-2.67.511 5.392 5.392 0 0 0-1.949 1.27 5.392 5.392 0 0 0-1.269 1.948 8.074 8.074 0 0 0-.51 2.67C1.012 8.638 1 9.013 1 12s.013 3.362.066 4.535a8.074 8.074 0 0 0 .511 2.67 5.392 5.392 0 0 0 1.27 1.949 5.392 5.392 0 0 0 1.948 1.269 8.074 8.074 0 0 0 2.67.51C8.638 22.988 9.013 23 12 23s3.362-.013 4.535-.066a8.074 8.074 0 0 0 2.67-.511 5.625 5.625 0 0 0 3.218-3.218 8.074 8.074 0 0 0 .51-2.67C22.988 15.362 23 14.987 23 12s-.013-3.362-.066-4.535a8.074 8.074 0 0 0-.511-2.67 5.392 5.392 0 0 0-1.27-1.949 5.392 5.392 0 0 0-1.948-1.269 8.074 8.074 0 0 0-2.67-.51C15.362 1.012 14.987 1 12 1Zm0 5.351A5.649 5.649 0 1 0 17.649 12 5.649 5.649 0 0 0 12 6.351Zm0 9.316A3.667 3.667 0 1 1 15.667 12 3.667 3.667 0 0 1 12 15.667Zm5.872-10.859a1.32 1.32 0 1 0 1.32 1.32 1.32 1.32 0 0 0-1.32-1.32Z"],["routerLink","/","routerLinkActive","active","title","Home",1,"home",3,"routerLinkActiveOptions"],["aria-label","Home","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_ab6-"],["d","M9.005 16.545a2.997 2.997 0 0 1 2.997-2.997A2.997 2.997 0 0 1 15 16.545V22h7V11.543L12 2 2 11.543V22h7.005Z","fill","none","stroke","currentColor","stroke-linejoin","round","stroke-width","2"],["routerLink","/message","routerLinkActive","active","title","Messages",1,"messages"],["aria-label","Messenger","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_ab6-"],["d","M12.003 2.001a9.705 9.705 0 1 1 0 19.4 10.876 10.876 0 0 1-2.895-.384.798.798 0 0 0-.533.04l-1.984.876a.801.801 0 0 1-1.123-.708l-.054-1.78a.806.806 0 0 0-.27-.569 9.49 9.49 0 0 1-3.14-7.175 9.65 9.65 0 0 1 10-9.7Z","fill","none","stroke","currentColor","stroke-miterlimit","10","stroke-width","1.739"],["d","M17.79 10.132a.659.659 0 0 0-.962-.873l-2.556 2.05a.63.63 0 0 1-.758.002L11.06 9.47a1.576 1.576 0 0 0-2.277.42l-2.567 3.98a.659.659 0 0 0 .961.875l2.556-2.049a.63.63 0 0 1 .759-.002l2.452 1.84a1.576 1.576 0 0 0 2.278-.42Z","fill-rule","evenodd"],["routerLink","/notification","routerLinkActive","active","title","Notifications",1,"notifications"],["notifications",""],["aria-label","Notifications","class","x1lliihq x1n2onr6","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",4,"ngIf"],["routerLink","/create-post","routerLinkActive","active","title","Create",1,"create-post"],["aria-label","New post","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_ab6-"],["d","M2 12v3.45c0 2.849.698 4.005 1.606 4.944.94.909 2.098 1.608 4.946 1.608h6.896c2.848 0 4.006-.7 4.946-1.608C21.302 19.455 22 18.3 22 15.45V8.552c0-2.849-.698-4.006-1.606-4.945C19.454 2.7 18.296 2 15.448 2H8.552c-2.848 0-4.006.699-4.946 1.607C2.698 4.547 2 5.703 2 8.552Z","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","6.545","x2","17.455","y1","12.001","y2","12.001"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","12.003","x2","12.003","y1","6.545","y2","17.455"],["routerLink","/profile","routerLinkActive","active","title","Profile",1,"profile"],["alt","user",3,"src",4,"ngIf","ngIfElse"],["profile",""],["title","More",1,"extra-menu",3,"click"],["aria-label","Settings","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_ab6-"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","3","x2","21","y1","4","y2","4"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","3","x2","21","y1","12","y2","12"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","3","x2","21","y1","20","y2","20"],["class","extra-menu-modal",4,"ngIf"],["aria-label","Notifications","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"x1lliihq","x1n2onr6"],["d","M16.792 3.904A4.989 4.989 0 0 1 21.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 0 1 4.708-5.218 4.21 4.21 0 0 1 3.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 0 1 3.679-1.938m0-2a6.04 6.04 0 0 0-4.797 2.127 6.052 6.052 0 0 0-4.787-2.127A6.985 6.985 0 0 0 .5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 0 0 3.518 3.018 2 2 0 0 0 2.174 0 45.263 45.263 0 0 0 3.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 0 0-6.708-7.218Z"],["d","M17.075 1.987a5.852 5.852 0 0 0-5.07 2.66l-.008.012-.01-.014a5.878 5.878 0 0 0-5.062-2.658A6.719 6.719 0 0 0 .5 8.952c0 3.514 2.581 5.757 5.077 7.927.302.262.607.527.91.797l1.089.973c2.112 1.89 3.149 2.813 3.642 3.133a1.438 1.438 0 0 0 1.564 0c.472-.306 1.334-1.07 3.755-3.234l.978-.874c.314-.28.631-.555.945-.827 2.478-2.15 5.04-4.372 5.04-7.895a6.719 6.719 0 0 0-6.425-6.965Z"],["alt","user",3,"src"],["color","white","fill","none","height","24px","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","viewBox","0 0 24 24","width","24px","xmlns","http://www.w3.org/2000/svg",1,"feather","feather-user"],["d","M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],[1,"extra-menu-modal"],[1,"log-out",3,"click"]],template:function(r,s){1&r&&h.YNc(0,gk,33,7,"section",0),2&r&&h.Q6J("ngIf",s.user&&s.user.user)},dependencies:[Ui,mg,Zh],styles:["[_nghost-%COMP%]{position:relative;grid-column:1;width:75px;display:none}@media (min-width: 600px){[_nghost-%COMP%]{display:block}}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]{height:100vh;position:sticky;top:0;left:0;display:flex;flex-direction:column;justify-content:space-between;align-items:center;border-inline-end:1px solid rgba(245,245,245,.19);padding-block:1.5em;width:100%}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:3.5em;width:100%}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:center;align-items:center;padding:.8em;border-radius:.4em}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]:hover{background-color:#e5e5e51c}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1em;width:100%}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;padding:.8em;display:flex;border-radius:.4em;justify-content:center;align-items:center;width:70%}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-child(1){fill:#f5f5f5}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-child(2){fill:#000}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   line[_ngcontent-%COMP%]{stroke:#000}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.profile.active[_ngcontent-%COMP%]{border:1px solid rgba(245,245,245,.46)}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e5e5e51c}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .extra-menu[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:center;align-items:center;padding:.8em;border-radius:.4em;position:relative}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .extra-menu[_ngcontent-%COMP%]:hover{background-color:#e5e5e51c}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .extra-menu[_ngcontent-%COMP%]   .extra-menu-modal[_ngcontent-%COMP%]{background-color:#343434;color:#f5f5f5;padding:.5em;border-radius:1em;position:absolute;bottom:0;left:55px;width:250px}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .extra-menu[_ngcontent-%COMP%]   .extra-menu-modal[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.4em;border-radius:.4em}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .extra-menu[_ngcontent-%COMP%]   .extra-menu-modal[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e5e5e51c}"]})}return n})();function yk(n,e){1&n&&(h.O4$(),h.TgZ(0,"svg",27),h._UZ(1,"path",28),h.qZA())}function vk(n,e){1&n&&(h.O4$(),h.TgZ(0,"svg",27),h._UZ(1,"path",29),h.qZA())}function _k(n,e){if(1&n&&h._UZ(0,"img",30),2&n){const t=h.oxw(2);h.Q6J("src",t.user.user.photoURL,h.LSH)}}function wk(n,e){1&n&&(h.O4$(),h.TgZ(0,"svg",31),h._UZ(1,"path",32)(2,"circle",33),h.qZA())}function Ek(n,e){if(1&n){const t=h.EpF();h.O4$(),h.kcU(),h.TgZ(0,"div",34)(1,"ul")(2,"li",35),h.NdJ("click",function(){h.CHM(t);const s=h.oxw(2);return h.KtG(s.onLogOut())}),h._uU(3,"Log out"),h.qZA()()()}}const Ik=function(){return{exact:!0}};function Ck(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"section",1)(1,"div",2)(2,"nav")(3,"ul")(4,"li",3),h.O4$(),h.TgZ(5,"svg",4),h._UZ(6,"path",5),h.qZA()(),h.kcU(),h.TgZ(7,"li",6),h.O4$(),h.TgZ(8,"svg",7),h._UZ(9,"path",8)(10,"path",9),h.qZA()(),h.kcU(),h.TgZ(11,"li",10,11),h.YNc(13,yk,2,0,"svg",12),h.YNc(14,vk,2,0,"svg",12),h.qZA(),h.TgZ(15,"li",13),h.O4$(),h.TgZ(16,"svg",14),h._UZ(17,"path",15)(18,"line",16)(19,"line",17),h.qZA()(),h.kcU(),h.TgZ(20,"li",18),h.YNc(21,_k,1,1,"img",19),h.YNc(22,wk,3,0,"ng-template",null,20,h.W1O),h.qZA(),h.TgZ(24,"li",21),h.NdJ("click",function(){h.CHM(t);const s=h.oxw();return h.KtG(s.isExtraMenuOpen=!s.isExtraMenuOpen)}),h.O4$(),h.TgZ(25,"svg",22),h._UZ(26,"line",23)(27,"line",24)(28,"line",25),h.qZA(),h.YNc(29,Ek,4,0,"div",26),h.qZA()()()()()}if(2&n){const t=h.MAs(12),r=h.MAs(23),s=h.oxw();h.xp6(4),h.Q6J("routerLinkActiveOptions",h.DdM(6,Ik)),h.xp6(9),h.Q6J("ngIf",!t.classList.contains("active")),h.xp6(1),h.Q6J("ngIf",t.classList.contains("active")),h.xp6(7),h.Q6J("ngIf",s.user.user.photoURL)("ngIfElse",r),h.xp6(8),h.Q6J("ngIf",s.isExtraMenuOpen)}}let Dk=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.isExtraMenuOpen=!1}ngOnInit(){this.userSubscription=this.authService.loggedInUser$.subscribe({next:t=>{t?this.user=t:(this.user=t,this.router.navigateByUrl("login"))}})}onLogOut(){var t=this;return(0,we.Z)(function*(){try{yield t.authService.logOut()}catch(r){console.error(r.message)}})()}ngOnDestroy(){this.userSubscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(My),h.Y36(li))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["menu-mobile"]],decls:1,vars:1,consts:[["class","menu-mobile",4,"ngIf"],[1,"menu-mobile"],[1,"menu-mobile-inner-container"],["routerLink","/","routerLinkActive","active","title","Home",1,"home",3,"routerLinkActiveOptions"],["aria-label","Home","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_ab6-"],["d","M9.005 16.545a2.997 2.997 0 0 1 2.997-2.997A2.997 2.997 0 0 1 15 16.545V22h7V11.543L12 2 2 11.543V22h7.005Z","fill","none","stroke","currentColor","stroke-linejoin","round","stroke-width","2"],["routerLink","/message","routerLinkActive","active","title","Messages",1,"messages"],["aria-label","Messenger","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_ab6-"],["d","M12.003 2.001a9.705 9.705 0 1 1 0 19.4 10.876 10.876 0 0 1-2.895-.384.798.798 0 0 0-.533.04l-1.984.876a.801.801 0 0 1-1.123-.708l-.054-1.78a.806.806 0 0 0-.27-.569 9.49 9.49 0 0 1-3.14-7.175 9.65 9.65 0 0 1 10-9.7Z","fill","none","stroke","currentColor","stroke-miterlimit","10","stroke-width","1.739"],["d","M17.79 10.132a.659.659 0 0 0-.962-.873l-2.556 2.05a.63.63 0 0 1-.758.002L11.06 9.47a1.576 1.576 0 0 0-2.277.42l-2.567 3.98a.659.659 0 0 0 .961.875l2.556-2.049a.63.63 0 0 1 .759-.002l2.452 1.84a1.576 1.576 0 0 0 2.278-.42Z","fill-rule","evenodd"],["routerLink","/notification","routerLinkActive","active","title","Notifications",1,"notifications"],["notifications",""],["aria-label","Notifications","class","x1lliihq x1n2onr6","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",4,"ngIf"],["routerLink","/create-post","routerLinkActive","active","title","Create",1,"create-post"],["aria-label","New post","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_ab6-"],["d","M2 12v3.45c0 2.849.698 4.005 1.606 4.944.94.909 2.098 1.608 4.946 1.608h6.896c2.848 0 4.006-.7 4.946-1.608C21.302 19.455 22 18.3 22 15.45V8.552c0-2.849-.698-4.006-1.606-4.945C19.454 2.7 18.296 2 15.448 2H8.552c-2.848 0-4.006.699-4.946 1.607C2.698 4.547 2 5.703 2 8.552Z","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","6.545","x2","17.455","y1","12.001","y2","12.001"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","12.003","x2","12.003","y1","6.545","y2","17.455"],["routerLink","/profile","routerLinkActive","active","title","Profile",1,"profile"],["alt","user",3,"src",4,"ngIf","ngIfElse"],["profile",""],["title","More",1,"extra-menu",3,"click"],["aria-label","Settings","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_ab6-"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","3","x2","21","y1","4","y2","4"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","3","x2","21","y1","12","y2","12"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","3","x2","21","y1","20","y2","20"],["class","extra-menu-modal",4,"ngIf"],["aria-label","Notifications","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"x1lliihq","x1n2onr6"],["d","M16.792 3.904A4.989 4.989 0 0 1 21.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 0 1 4.708-5.218 4.21 4.21 0 0 1 3.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 0 1 3.679-1.938m0-2a6.04 6.04 0 0 0-4.797 2.127 6.052 6.052 0 0 0-4.787-2.127A6.985 6.985 0 0 0 .5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 0 0 3.518 3.018 2 2 0 0 0 2.174 0 45.263 45.263 0 0 0 3.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 0 0-6.708-7.218Z"],["d","M17.075 1.987a5.852 5.852 0 0 0-5.07 2.66l-.008.012-.01-.014a5.878 5.878 0 0 0-5.062-2.658A6.719 6.719 0 0 0 .5 8.952c0 3.514 2.581 5.757 5.077 7.927.302.262.607.527.91.797l1.089.973c2.112 1.89 3.149 2.813 3.642 3.133a1.438 1.438 0 0 0 1.564 0c.472-.306 1.334-1.07 3.755-3.234l.978-.874c.314-.28.631-.555.945-.827 2.478-2.15 5.04-4.372 5.04-7.895a6.719 6.719 0 0 0-6.425-6.965Z"],["alt","user",3,"src"],["color","white","fill","none","height","24px","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","viewBox","0 0 24 24","width","24px","xmlns","http://www.w3.org/2000/svg",1,"feather","feather-user"],["d","M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],[1,"extra-menu-modal"],[1,"log-out",3,"click"]],template:function(r,s){1&r&&h.YNc(0,Ck,30,7,"section",0),2&r&&h.Q6J("ngIf",s.user&&s.user.user)},dependencies:[Ui,mg,Zh],styles:["[_nghost-%COMP%]{position:sticky;bottom:0;z-index:99;grid-column:1/-1;height:60px;width:100%;background-color:#000;display:grid;grid-template-columns:25px 1fr 25px;align-items:center;border-block-start:1px solid rgba(255,255,255,.24)}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{grid-column:2}@media (min-width: 600px){[_nghost-%COMP%]{display:none}}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;width:30px;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-child(1){fill:#fff}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-child(2){fill:#000}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   line[_ngcontent-%COMP%]{stroke:#000}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.profile.active[_ngcontent-%COMP%]{border:2px solid rgba(255,255,255,.66);border-radius:50%}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.extra-menu[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.extra-menu[_ngcontent-%COMP%]   .extra-menu-modal[_ngcontent-%COMP%]{position:absolute;bottom:50px;right:10px;z-index:98;background-color:#5b5b5b;width:200px;border-radius:.4em;padding-block:.5em;color:#f5f5f5;font-size:18px;font-weight:400}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.extra-menu[_ngcontent-%COMP%]   .extra-menu-modal[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;flex-direction:column;gap:1em}"]})}return n})(),bk=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-header-mobile"]],decls:3,vars:0,consts:[[1,"app-header-mobile"],["aria-label","Instagram","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","29","role","img","viewBox","32 4 113 32","width","103",1,"_ab6-"],["clip-rule","evenodd","d","M37.82 4.11c-2.32.97-4.86 3.7-5.66 7.13-1.02 4.34 3.21 6.17 3.56 5.57.4-.7-.76-.94-1-3.2-.3-2.9 1.05-6.16 2.75-7.58.32-.27.3.1.3.78l-.06 14.46c0 3.1-.13 4.07-.36 5.04-.23.98-.6 1.64-.33 1.9.32.28 1.68-.4 2.46-1.5a8.13 8.13 0 0 0 1.33-4.58c.07-2.06.06-5.33.07-7.19 0-1.7.03-6.71-.03-9.72-.02-.74-2.07-1.51-3.03-1.1Zm82.13 14.48a9.42 9.42 0 0 1-.88 3.75c-.85 1.72-2.63 2.25-3.39-.22-.4-1.34-.43-3.59-.13-5.47.3-1.9 1.14-3.35 2.53-3.22 1.38.13 2.02 1.9 1.87 5.16ZM96.8 28.57c-.02 2.67-.44 5.01-1.34 5.7-1.29.96-3 .23-2.65-1.72.31-1.72 1.8-3.48 4-5.64l-.01 1.66Zm-.35-10a10.56 10.56 0 0 1-.88 3.77c-.85 1.72-2.64 2.25-3.39-.22-.5-1.69-.38-3.87-.13-5.25.33-1.78 1.12-3.44 2.53-3.44 1.38 0 2.06 1.5 1.87 5.14Zm-13.41-.02a9.54 9.54 0 0 1-.87 3.8c-.88 1.7-2.63 2.24-3.4-.23-.55-1.77-.36-4.2-.13-5.5.34-1.95 1.2-3.32 2.53-3.2 1.38.14 2.04 1.9 1.87 5.13Zm61.45 1.81c-.33 0-.49.35-.61.93-.44 2.02-.9 2.48-1.5 2.48-.66 0-1.26-1-1.42-3-.12-1.58-.1-4.48.06-7.37.03-.59-.14-1.17-1.73-1.75-.68-.25-1.68-.62-2.17.58a29.65 29.65 0 0 0-2.08 7.14c0 .06-.08.07-.1-.06-.07-.87-.26-2.46-.28-5.79 0-.65-.14-1.2-.86-1.65-.47-.3-1.88-.81-2.4-.2-.43.5-.94 1.87-1.47 3.48l-.74 2.2.01-4.88c0-.5-.34-.67-.45-.7a9.54 9.54 0 0 0-1.8-.37c-.48 0-.6.27-.6.67 0 .05-.08 4.65-.08 7.87v.46c-.27 1.48-1.14 3.49-2.09 3.49s-1.4-.84-1.4-4.68c0-2.24.07-3.21.1-4.83.02-.94.06-1.65.06-1.81-.01-.5-.87-.75-1.27-.85-.4-.09-.76-.13-1.03-.11-.4.02-.67.27-.67.62v.55a3.71 3.71 0 0 0-1.83-1.49c-1.44-.43-2.94-.05-4.07 1.53a9.31 9.31 0 0 0-1.66 4.73c-.16 1.5-.1 3.01.17 4.3-.33 1.44-.96 2.04-1.64 2.04-.99 0-1.7-1.62-1.62-4.4.06-1.84.42-3.13.82-4.99.17-.8.04-1.2-.31-1.6-.32-.37-1-.56-1.99-.33-.7.16-1.7.34-2.6.47 0 0 .05-.21.1-.6.23-2.03-1.98-1.87-2.69-1.22-.42.39-.7.84-.82 1.67-.17 1.3.9 1.91.9 1.91a22.22 22.22 0 0 1-3.4 7.23v-.7c-.01-3.36.03-6 .05-6.95.02-.94.06-1.63.06-1.8 0-.36-.22-.5-.66-.67-.4-.16-.86-.26-1.34-.3-.6-.05-.97.27-.96.65v.52a3.7 3.7 0 0 0-1.84-1.49c-1.44-.43-2.94-.05-4.07 1.53a10.1 10.1 0 0 0-1.66 4.72c-.15 1.57-.13 2.9.09 4.04-.23 1.13-.89 2.3-1.63 2.3-.95 0-1.5-.83-1.5-4.67 0-2.24.07-3.21.1-4.83.02-.94.06-1.65.06-1.81 0-.5-.87-.75-1.27-.85-.42-.1-.79-.13-1.06-.1-.37.02-.63.35-.63.6v.56a3.7 3.7 0 0 0-1.84-1.49c-1.44-.43-2.93-.04-4.07 1.53-.75 1.03-1.35 2.17-1.66 4.7a15.8 15.8 0 0 0-.12 2.04c-.3 1.81-1.61 3.9-2.68 3.9-.63 0-1.23-1.21-1.23-3.8 0-3.45.22-8.36.25-8.83l1.62-.03c.68 0 1.29.01 2.19-.04.45-.02.88-1.64.42-1.84-.21-.09-1.7-.17-2.3-.18-.5-.01-1.88-.11-1.88-.11s.13-3.26.16-3.6c.02-.3-.35-.44-.57-.53a7.77 7.77 0 0 0-1.53-.44c-.76-.15-1.1 0-1.17.64-.1.97-.15 3.82-.15 3.82-.56 0-2.47-.11-3.02-.11-.52 0-1.08 2.22-.36 2.25l3.2.09-.03 6.53v.47c-.53 2.73-2.37 4.2-2.37 4.2.4-1.8-.42-3.15-1.87-4.3-.54-.42-1.6-1.22-2.79-2.1 0 0 .69-.68 1.3-2.04.43-.96.45-2.06-.61-2.3-1.75-.41-3.2.87-3.63 2.25a2.61 2.61 0 0 0 .5 2.66l.15.19c-.4.76-.94 1.78-1.4 2.58-1.27 2.2-2.24 3.95-2.97 3.95-.58 0-.57-1.77-.57-3.43 0-1.43.1-3.58.19-5.8.03-.74-.34-1.16-.96-1.54a4.33 4.33 0 0 0-1.64-.69c-.7 0-2.7.1-4.6 5.57-.23.69-.7 1.94-.7 1.94l.04-6.57c0-.16-.08-.3-.27-.4a4.68 4.68 0 0 0-1.93-.54c-.36 0-.54.17-.54.5l-.07 10.3c0 .78.02 1.69.1 2.09.08.4.2.72.36.91.15.2.33.34.62.4.28.06 1.78.25 1.86-.32.1-.69.1-1.43.89-4.2 1.22-4.31 2.82-6.42 3.58-7.16.13-.14.28-.14.27.07l-.22 5.32c-.2 5.37.78 6.36 2.17 6.36 1.07 0 2.58-1.06 4.2-3.74l2.7-4.5 1.58 1.46c1.28 1.2 1.7 2.36 1.42 3.45-.21.83-1.02 1.7-2.44.86-.42-.25-.6-.44-1.01-.71-.23-.15-.57-.2-.78-.04-.53.4-.84.92-1.01 1.55-.17.61.45.94 1.09 1.22.55.25 1.74.47 2.5.5 2.94.1 5.3-1.42 6.94-5.34.3 3.38 1.55 5.3 3.72 5.3 1.45 0 2.91-1.88 3.55-3.72.18.75.45 1.4.8 1.96 1.68 2.65 4.93 2.07 6.56-.18.5-.69.58-.94.58-.94a3.07 3.07 0 0 0 2.94 2.87c1.1 0 2.23-.52 3.03-2.31.09.2.2.38.3.56 1.68 2.65 4.93 2.07 6.56-.18l.2-.28.05 1.4-1.5 1.37c-2.52 2.3-4.44 4.05-4.58 6.09-.18 2.6 1.93 3.56 3.53 3.69a4.5 4.5 0 0 0 4.04-2.11c.78-1.15 1.3-3.63 1.26-6.08l-.06-3.56a28.55 28.55 0 0 0 5.42-9.44s.93.01 1.92-.05c.32-.02.41.04.35.27-.07.28-1.25 4.84-.17 7.88.74 2.08 2.4 2.75 3.4 2.75 1.15 0 2.26-.87 2.85-2.17l.23.42c1.68 2.65 4.92 2.07 6.56-.18.37-.5.58-.94.58-.94.36 2.2 2.07 2.88 3.05 2.88 1.02 0 2-.42 2.78-2.28.03.82.08 1.49.16 1.7.05.13.34.3.56.37.93.34 1.88.18 2.24.11.24-.05.43-.25.46-.75.07-1.33.03-3.56.43-5.21.67-2.79 1.3-3.87 1.6-4.4.17-.3.36-.35.37-.03.01.64.04 2.52.3 5.05.2 1.86.46 2.96.65 3.3.57 1 1.27 1.05 1.83 1.05.36 0 1.12-.1 1.05-.73-.03-.31.02-2.22.7-4.96.43-1.79 1.15-3.4 1.41-4 .1-.21.15-.04.15 0-.06 1.22-.18 5.25.32 7.46.68 2.98 2.65 3.32 3.34 3.32 1.47 0 2.67-1.12 3.07-4.05.1-.7-.05-1.25-.48-1.25Z","fill","currentColor","fill-rule","evenodd"]],template:function(r,s){1&r&&(h.TgZ(0,"header",0),h.O4$(),h.TgZ(1,"svg",1),h._UZ(2,"path",2),h.qZA()())},styles:["[_nghost-%COMP%]{grid-column:1/-1;display:grid;grid-template-columns:25px 1fr 25px;position:sticky;z-index:99;top:0;border-block-end:1px solid rgba(255,255,255,.27);background-color:#000}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{grid-column:2}@media (min-width: 600px){[_nghost-%COMP%]{display:none}}[_nghost-%COMP%]   .app-header-mobile[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:60px}"]})}return n})();function Tk(n,e){1&n&&h._UZ(0,"router-outlet")}function Sk(n,e){1&n&&h._UZ(0,"app-header-mobile")}function Ak(n,e){1&n&&h._UZ(0,"aside-menu")}function Mk(n,e){1&n&&(h.TgZ(0,"main",2),h._UZ(1,"router-outlet"),h.qZA())}function xk(n,e){1&n&&h._UZ(0,"menu-mobile")}let Ok=(()=>{class n{constructor(t,r){this.router=t,this.postService=r,this.routerUrl=this.router.url}ngOnInit(){this.routerUrlSubscription=this.router.events.subscribe(t=>{t instanceof ao&&(this.routerUrl=this.router.url)}),this.postService.getPosts().pipe(Kr(1)).subscribe({next:t=>{console.log("posts",t)},error:t=>{console.error(t.message)}})}ngOnDestroy(){this.routerUrlSubscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(li),h.Y36(vO))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:6,vars:7,consts:[[4,"ngIf"],["class","main-layout",4,"ngIf"],[1,"main-layout"]],template:function(r,s){1&r&&(h.TgZ(0,"section"),h.YNc(1,Tk,1,0,"router-outlet",0),h.YNc(2,Sk,1,0,"app-header-mobile",0),h.YNc(3,Ak,1,0,"aside-menu",0),h.YNc(4,Mk,2,0,"main",1),h.YNc(5,xk,1,0,"menu-mobile",0),h.qZA()),2&r&&(h.Tol("/login"===s.routerUrl?"main-app login-layout":"main-app app-layout"),h.xp6(1),h.Q6J("ngIf","/login"===s.routerUrl),h.xp6(1),h.Q6J("ngIf","/login"!==s.routerUrl),h.xp6(1),h.Q6J("ngIf","/login"!==s.routerUrl),h.xp6(1),h.Q6J("ngIf","/login"!==s.routerUrl),h.xp6(1),h.Q6J("ngIf","/login"!==s.routerUrl))},dependencies:[Ui,Rh,mk,Dk,bk]})}return n})();class mT{}class yT{}class Gu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const s=t.slice(0,r),u=s.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(s,u),this.headers.has(u)?this.headers.get(u).push(l):this.headers.set(u,[l])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Gu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Gu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Gu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const s=("a"===e.op?this.headers.get(t):void 0)||[];s.push(...r),this.headers.set(t,s);break;case"d":const u=e.value;if(u){let l=this.headers.get(t);if(!l)return;l=l.filter(m=>-1===u.indexOf(m)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(u=>u.toString()),s=e.toLowerCase();this.headers.set(s,r),this.maybeSetNormalizedName(e,s)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Pk{encodeKey(e){return bP(e)}encodeValue(e){return bP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Rk=/%(\d[a-f0-9])/gi,kk={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function bP(n){return encodeURIComponent(n).replace(Rk,(e,t)=>kk[t]??e)}function vT(n){return`${n}`}class Jd{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Pk,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Nk(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const u=s.indexOf("="),[l,m]=-1==u?[e.decodeKey(s),""]:[e.decodeKey(s.slice(0,u)),e.decodeValue(s.slice(u+1))],v=t.get(l)||[];v.push(m),t.set(l,v)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],s=Array.isArray(r)?r.map(vT):[vT(r)];this.map.set(t,s)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const s=e[r];Array.isArray(s)?s.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:s,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Jd({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(vT(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const s=r.indexOf(vT(e.value));-1!==s&&r.splice(s,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Fk{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function TP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function SP(n){return typeof Blob<"u"&&n instanceof Blob}function AP(n){return typeof FormData<"u"&&n instanceof FormData}class hE{constructor(e,t,r,s){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Lk(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==r?r:null,u=s):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new Gu),this.context||(this.context=new Fk),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+l}}else this.params=new Jd,this.urlWithParams=t}serializeBody(){return null===this.body?null:TP(this.body)||SP(this.body)||AP(this.body)||function Vk(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Jd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||AP(this.body)?null:SP(this.body)?this.body.type||null:TP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Jd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,m=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let v=e.headers||this.headers,C=e.params||this.params;const b=e.context??this.context;return void 0!==e.setHeaders&&(v=Object.keys(e.setHeaders).reduce((x,z)=>x.set(z,e.setHeaders[z]),v)),e.setParams&&(C=Object.keys(e.setParams).reduce((x,z)=>x.set(z,e.setParams[z]),C)),new hE(t,r,u,{params:C,headers:v,context:b,reportProgress:m,responseType:s,withCredentials:l})}}var Oy=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Oy||{});class wM{constructor(e,t=200,r="OK"){this.headers=e.headers||new Gu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class EM extends wM{constructor(e={}){super(e),this.type=Oy.ResponseHeader}clone(e={}){return new EM({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Py extends wM{constructor(e={}){super(e),this.type=Oy.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Py({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class MP extends wM{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function IM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Uk=(()=>{class n{constructor(t){this.handler=t}request(t,r,s={}){let u;if(t instanceof hE)u=t;else{let v,C;v=s.headers instanceof Gu?s.headers:new Gu(s.headers),s.params&&(C=s.params instanceof Jd?s.params:new Jd({fromObject:s.params})),u=new hE(t,r,void 0!==s.body?s.body:null,{headers:v,context:s.context,params:C,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const l=(0,Pt.of)(u).pipe(ko(v=>this.handler.handle(v)));if(t instanceof hE||"events"===s.observe)return l;const m=l.pipe(ci(v=>v instanceof Py));switch(s.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return m.pipe((0,Qt.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return m.pipe((0,Qt.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return m.pipe((0,Qt.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return m.pipe((0,Qt.U)(v=>v.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Jd).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,s={}){return this.request("PATCH",t,IM(s,r))}post(t,r,s={}){return this.request("POST",t,IM(s,r))}put(t,r,s={}){return this.request("PUT",t,IM(s,r))}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(mT))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();function PP(n,e){return e(n)}function jk(n,e){return(t,r)=>e.intercept(t,{handle:s=>n(s,r)})}const Hk=new h.OlP(""),fE=new h.OlP(""),NP=new h.OlP("");function Gk(){let n=null;return(e,t)=>{null===n&&(n=((0,h.f3M)(Hk,{optional:!0})??[]).reduceRight(jk,PP));const r=(0,h.f3M)(h.HDt),s=r.add();return n(e,t).pipe(nu(()=>r.remove(s)))}}let RP=(()=>{class n extends mT{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=(0,h.f3M)(h.HDt)}handle(t){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(fE),...this.injector.get(NP,[])]));this.chain=s.reduceRight((u,l)=>function $k(n,e,t){return(r,s)=>t.runInContext(()=>e(r,u=>n(u,s)))}(u,l,this.injector),PP)}const r=this.pendingTasks.add();return this.chain(t,s=>this.backend.handle(s)).pipe(nu(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(yT),h.LFG(h.lqb))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const Zk=/^\)\]\}',?\n/;let FP=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new h.vHH(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?(0,er.D)(r.\u0275loadImpl()):(0,Pt.of)(null)).pipe((0,Hn.w)(()=>new bi.y(u=>{const l=r.build();if(l.open(t.method,t.urlWithParams),t.withCredentials&&(l.withCredentials=!0),t.headers.forEach((Fe,Ve)=>l.setRequestHeader(Fe,Ve.join(","))),t.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const Fe=t.detectContentTypeHeader();null!==Fe&&l.setRequestHeader("Content-Type",Fe)}if(t.responseType){const Fe=t.responseType.toLowerCase();l.responseType="json"!==Fe?Fe:"text"}const m=t.serializeBody();let v=null;const C=()=>{if(null!==v)return v;const Fe=l.statusText||"OK",Ve=new Gu(l.getAllResponseHeaders()),It=function Kk(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(l)||t.url;return v=new EM({headers:Ve,status:l.status,statusText:Fe,url:It}),v},b=()=>{let{headers:Fe,status:Ve,statusText:It,url:Ut}=C(),_t=null;204!==Ve&&(_t=typeof l.response>"u"?l.responseText:l.response),0===Ve&&(Ve=_t?200:0);let $t=Ve>=200&&Ve<300;if("json"===t.responseType&&"string"==typeof _t){const un=_t;_t=_t.replace(Zk,"");try{_t=""!==_t?JSON.parse(_t):null}catch(An){_t=un,$t&&($t=!1,_t={error:An,text:_t})}}$t?(u.next(new Py({body:_t,headers:Fe,status:Ve,statusText:It,url:Ut||void 0})),u.complete()):u.error(new MP({error:_t,headers:Fe,status:Ve,statusText:It,url:Ut||void 0}))},x=Fe=>{const{url:Ve}=C(),It=new MP({error:Fe,status:l.status||0,statusText:l.statusText||"Unknown Error",url:Ve||void 0});u.error(It)};let z=!1;const J=Fe=>{z||(u.next(C()),z=!0);let Ve={type:Oy.DownloadProgress,loaded:Fe.loaded};Fe.lengthComputable&&(Ve.total=Fe.total),"text"===t.responseType&&l.responseText&&(Ve.partialText=l.responseText),u.next(Ve)},Ce=Fe=>{let Ve={type:Oy.UploadProgress,loaded:Fe.loaded};Fe.lengthComputable&&(Ve.total=Fe.total),u.next(Ve)};return l.addEventListener("load",b),l.addEventListener("error",x),l.addEventListener("timeout",x),l.addEventListener("abort",x),t.reportProgress&&(l.addEventListener("progress",J),null!==m&&l.upload&&l.upload.addEventListener("progress",Ce)),l.send(m),u.next({type:Oy.Sent}),()=>{l.removeEventListener("error",x),l.removeEventListener("abort",x),l.removeEventListener("load",b),l.removeEventListener("timeout",x),t.reportProgress&&(l.removeEventListener("progress",J),null!==m&&l.upload&&l.upload.removeEventListener("progress",Ce)),l.readyState!==l.DONE&&l.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Es))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const CM=new h.OlP("XSRF_ENABLED"),LP=new h.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),VP=new h.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class UP{}let Jk=(()=>{class n{constructor(t,r,s){this.doc=t,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ln(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ve),h.LFG(h.Lbi),h.LFG(LP))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();function Xk(n,e){const t=n.url.toLowerCase();if(!(0,h.f3M)(CM)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,h.f3M)(UP).getToken(),s=(0,h.f3M)(VP);return null!=r&&!n.headers.has(s)&&(n=n.clone({headers:n.headers.set(s,r)})),e(n)}var Xd=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Xd||{});function eF(...n){const e=[Uk,FP,RP,{provide:mT,useExisting:RP},{provide:yT,useExisting:FP},{provide:fE,useValue:Xk,multi:!0},{provide:CM,useValue:!0},{provide:UP,useClass:Jk}];for(const t of n)e.push(...t.\u0275providers);return(0,h.MR2)(e)}const BP=new h.OlP("LEGACY_INTERCEPTOR_FN");function tF(){return function vp(n,e){return{\u0275kind:n,\u0275providers:e}}(Xd.LegacyInterceptors,[{provide:BP,useFactory:Gk},{provide:fE,useExisting:BP,multi:!0}])}let nF=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({providers:[eF(tF())]})}return n})();const uF_firebaseConfig={projectId:"instagram-clone-gilshaashua",appId:"1:827870472031:web:e39968f5559a9f2832b8ea",storageBucket:"instagram-clone-gilshaashua.appspot.com",apiKey:"AIzaSyBzQGVn0KY8RifDoGX3L7W_oxejQG0tHhs",authDomain:"instagram-clone-gilshaashua.firebaseapp.com",messagingSenderId:"827870472031",measurementId:"G-FPQPXYYP3N"};var jP=A(7582),cF=A(9519);const dF=new h.OlP("angularfire2.messaging.vapid-key"),hF=new h.OlP("angularfire2.messaging.service-worker-registeration");let $P=(()=>{class n{constructor(t,r,s,u,l,m,v){const C=v,b=(0,Pt.of)(void 0).pipe((0,La.R)(l.outsideAngular),(0,aa.Q)(l.insideAngular),(0,Hn.w)(cF.Gb),(0,Hn.w)(J=>J?A.e(922).then(A.bind(A,5922)):ro.E),(0,Qt.U)(()=>(0,Oi.on)(t,u,r)),(0,Hn.w)(J=>(0,Oi.cc)(`${J.name}.messaging`,"AngularFireMessaging",J.name,()=>(0,jP.mG)(this,void 0,void 0,function*(){return J.messaging()}),[])),bA({bufferSize:1,refCount:!1}));this.requestPermission=b.pipe((0,La.R)(l.outsideAngular),(0,aa.Q)(l.insideAngular),(0,Hn.w)(()=>Notification.requestPermission())),this.getToken=b.pipe((0,La.R)(l.outsideAngular),(0,aa.Q)(l.insideAngular),(0,Hn.w)(J=>(0,jP.mG)(this,void 0,void 0,function*(){if("granted"===Notification.permission){const Ce=C?yield C:null;return yield J.getToken({vapidKey:m,serviceWorkerRegistration:Ce})}return null})));const x=new bi.y(J=>{navigator.permissions.query({name:"notifications"}).then(Ce=>{Ce.onchange=()=>J.next()})}),z=b.pipe((0,La.R)(l.outsideAngular),(0,aa.Q)(l.insideAngular),Zb(x),Zb(this.getToken));return this.tokenChanges=b.pipe((0,La.R)(l.outsideAngular),(0,aa.Q)(l.insideAngular),(0,Hn.w)(()=>Ro(this.getToken,z))),this.messages=b.pipe((0,La.R)(l.outsideAngular),(0,aa.Q)(l.insideAngular),(0,Hn.w)(J=>new bi.y(Ce=>J.onMessage(Ce)))),this.requestToken=b.pipe((0,La.R)(l.outsideAngular),(0,aa.Q)(l.insideAngular),(0,Hn.w)(()=>this.requestPermission),ls(()=>(0,Pt.of)(null)),(0,Ai.z)(()=>this.tokenChanges)),this.deleteToken=()=>b.pipe((0,La.R)(l.outsideAngular),(0,aa.Q)(l.insideAngular),(0,Hn.w)(J=>J.deleteToken()),eu(!1)),(0,Oi.pX)(this,b,u)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Oi.Dh),h.LFG(Oi.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Qn.HU),h.LFG(dF,8),h.LFG(hF,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),fF=(()=>{class n{constructor(){YA.Z.registerVersion("angularfire",Qn.q4.full,"fcm-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[$P]}),n})(),pF=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n,bootstrap:[Ok]});static#n=this.\u0275inj=h.cJS({imports:[Qu,uk,nF,XR,ek,Oi.hO.initializeApp(uF_firebaseConfig),B2,fF,Z2]})}return n})();Np().bootstrapModule(pF).catch(n=>console.error(n))},5619:(vt,be,A)=>{A.d(be,{X:()=>U});var h=A(8645);class U extends h.x{constructor(Y){super(),this._value=Y}get value(){return this.getValue()}_subscribe(Y){const se=super._subscribe(Y);return!se.closed&&Y.next(this._value),se}getValue(){const{hasError:Y,thrownError:se,_value:ve}=this;if(Y)throw se;return this._throwIfClosed(),ve}next(Y){super.next(this._value=Y)}}},5592:(vt,be,A)=>{A.d(be,{y:()=>Oe});var h=A(305),U=A(7394),N=A(4850),Y=A(8407),se=A(2653),ve=A(4674),_e=A(1441);let Oe=(()=>{class ne{constructor(Ie){Ie&&(this._subscribe=Ie)}lift(Ie){const Ye=new ne;return Ye.source=this,Ye.operator=Ie,Ye}subscribe(Ie,Ye,ke){const Ze=function q(ne){return ne&&ne instanceof h.Lv||function V(ne){return ne&&(0,ve.m)(ne.next)&&(0,ve.m)(ne.error)&&(0,ve.m)(ne.complete)}(ne)&&(0,U.Nn)(ne)}(Ie)?Ie:new h.Hp(Ie,Ye,ke);return(0,_e.x)(()=>{const{operator:Ae,source:ht}=this;Ze.add(Ae?Ae.call(Ze,ht):ht?this._subscribe(Ze):this._trySubscribe(Ze))}),Ze}_trySubscribe(Ie){try{return this._subscribe(Ie)}catch(Ye){Ie.error(Ye)}}forEach(Ie,Ye){return new(Ye=he(Ye))((ke,Ze)=>{const Ae=new h.Hp({next:ht=>{try{Ie(ht)}catch(ft){Ze(ft),Ae.unsubscribe()}},error:Ze,complete:ke});this.subscribe(Ae)})}_subscribe(Ie){var Ye;return null===(Ye=this.source)||void 0===Ye?void 0:Ye.subscribe(Ie)}[N.L](){return this}pipe(...Ie){return(0,Y.U)(Ie)(this)}toPromise(Ie){return new(Ie=he(Ie))((Ye,ke)=>{let Ze;this.subscribe(Ae=>Ze=Ae,Ae=>ke(Ae),()=>Ye(Ze))})}}return ne.create=Ue=>new ne(Ue),ne})();function he(ne){var Ue;return null!==(Ue=ne??se.config.Promise)&&void 0!==Ue?Ue:Promise}},8645:(vt,be,A)=>{A.d(be,{x:()=>_e});var h=A(5592),U=A(7394);const Y=(0,A(2306).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=A(9039),ve=A(1441);let _e=(()=>{class he extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const ne=new Oe(this,this);return ne.operator=q,ne}_throwIfClosed(){if(this.closed)throw new Y}next(q){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(q)}})}error(q){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:ne}=this;for(;ne.length;)ne.shift().error(q)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:ne,isStopped:Ue,observers:Ie}=this;return ne||Ue?U.Lc:(this.currentObservers=null,Ie.push(q),new U.w0(()=>{this.currentObservers=null,(0,se.P)(Ie,q)}))}_checkFinalizedStatuses(q){const{hasError:ne,thrownError:Ue,isStopped:Ie}=this;ne?q.error(Ue):Ie&&q.complete()}asObservable(){const q=new h.y;return q.source=this,q}}return he.create=(V,q)=>new Oe(V,q),he})();class Oe extends _e{constructor(V,q){super(),this.destination=V,this.source=q}next(V){var q,ne;null===(ne=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===ne||ne.call(q,V)}error(V){var q,ne;null===(ne=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===ne||ne.call(q,V)}complete(){var V,q;null===(q=null===(V=this.destination)||void 0===V?void 0:V.complete)||void 0===q||q.call(V)}_subscribe(V){var q,ne;return null!==(ne=null===(q=this.source)||void 0===q?void 0:q.subscribe(V))&&void 0!==ne?ne:U.Lc}}},305:(vt,be,A)=>{A.d(be,{Hp:()=>ke,Lv:()=>ne});var h=A(4674),U=A(7394),N=A(2653),Y=A(3894),se=A(2420);const ve=he("C",void 0,void 0);function he(ee,Te,ue){return{kind:ee,value:Te,error:ue}}var V=A(7599),q=A(1441);class ne extends U.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,U.Nn)(Te)&&Te.add(this)):this.destination=ft}static create(Te,ue,Me){return new ke(Te,ue,Me)}next(Te){this.isStopped?ht(function Oe(ee){return he("N",ee,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?ht(function _e(ee){return he("E",void 0,ee)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?ht(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Ie(ee,Te){return Ue.call(ee,Te)}class Ye{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:ue}=this;if(ue.next)try{ue.next(Te)}catch(Me){Ze(Me)}}error(Te){const{partialObserver:ue}=this;if(ue.error)try{ue.error(Te)}catch(Me){Ze(Me)}else Ze(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(ue){Ze(ue)}}}class ke extends ne{constructor(Te,ue,Me){let Be;if(super(),(0,h.m)(Te)||!Te)Be={next:Te??void 0,error:ue??void 0,complete:Me??void 0};else{let k;this&&N.config.useDeprecatedNextContext?(k=Object.create(Te),k.unsubscribe=()=>this.unsubscribe(),Be={next:Te.next&&Ie(Te.next,k),error:Te.error&&Ie(Te.error,k),complete:Te.complete&&Ie(Te.complete,k)}):Be=Te}this.destination=new Ye(Be)}}function Ze(ee){N.config.useDeprecatedSynchronousErrorHandling?(0,q.O)(ee):(0,Y.h)(ee)}function ht(ee,Te){const{onStoppedNotification:ue}=N.config;ue&&V.z.setTimeout(()=>ue(ee,Te))}const ft={closed:!0,next:se.Z,error:function Ae(ee){throw ee},complete:se.Z}},7394:(vt,be,A)=>{A.d(be,{Lc:()=>ve,w0:()=>se,Nn:()=>_e});var h=A(4674);const N=(0,A(2306).d)(he=>function(q){he(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((ne,Ue)=>`${Ue+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var Y=A(9039);class se{constructor(V){this.initialTeardown=V,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let V;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Ie of q)Ie.remove(this);else q.remove(this);const{initialTeardown:ne}=this;if((0,h.m)(ne))try{ne()}catch(Ie){V=Ie instanceof N?Ie.errors:[Ie]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Ie of Ue)try{Oe(Ie)}catch(Ye){V=V??[],Ye instanceof N?V=[...V,...Ye.errors]:V.push(Ye)}}if(V)throw new N(V)}}add(V){var q;if(V&&V!==this)if(this.closed)Oe(V);else{if(V instanceof se){if(V.closed||V._hasParent(this))return;V._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(V)}}_hasParent(V){const{_parentage:q}=this;return q===V||Array.isArray(q)&&q.includes(V)}_addParent(V){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(V),q):q?[q,V]:V}_removeParent(V){const{_parentage:q}=this;q===V?this._parentage=null:Array.isArray(q)&&(0,Y.P)(q,V)}remove(V){const{_finalizers:q}=this;q&&(0,Y.P)(q,V),V instanceof se&&V._removeParent(this)}}se.EMPTY=(()=>{const he=new se;return he.closed=!0,he})();const ve=se.EMPTY;function _e(he){return he instanceof se||he&&"closed"in he&&(0,h.m)(he.remove)&&(0,h.m)(he.add)&&(0,h.m)(he.unsubscribe)}function Oe(he){(0,h.m)(he)?he():he.unsubscribe()}},2653:(vt,be,A)=>{A.d(be,{config:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(vt,be,A)=>{A.d(be,{E:()=>U});const U=new(A(5592).y)(se=>se.complete())},2459:(vt,be,A)=>{A.d(be,{D:()=>Te});var h=A(4829),U=A(3093),N=A(5137),ve=A(5592),Oe=A(4971),he=A(4674),V=A(7103);function ne(ue,Me){if(!ue)throw new Error("Iterable cannot be null");return new ve.y(Be=>{(0,V.f)(Be,Me,()=>{const k=ue[Symbol.asyncIterator]();(0,V.f)(Be,Me,()=>{k.next().then(te=>{te.done?Be.complete():Be.next(te.value)})},0,!0)})})}var Ue=A(8382),Ie=A(4026),Ye=A(4266),ke=A(3664),Ze=A(5726),Ae=A(9853),ht=A(541);function Te(ue,Me){return Me?function ee(ue,Me){if(null!=ue){if((0,Ue.c)(ue))return function Y(ue,Me){return(0,h.Xf)(ue).pipe((0,N.R)(Me),(0,U.Q)(Me))}(ue,Me);if((0,Ye.z)(ue))return function _e(ue,Me){return new ve.y(Be=>{let k=0;return Me.schedule(function(){k===ue.length?Be.complete():(Be.next(ue[k++]),Be.closed||this.schedule())})})}(ue,Me);if((0,Ie.t)(ue))return function se(ue,Me){return(0,h.Xf)(ue).pipe((0,N.R)(Me),(0,U.Q)(Me))}(ue,Me);if((0,Ze.D)(ue))return ne(ue,Me);if((0,ke.T)(ue))return function q(ue,Me){return new ve.y(Be=>{let k;return(0,V.f)(Be,Me,()=>{k=ue[Oe.h](),(0,V.f)(Be,Me,()=>{let te,De;try{({value:te,done:De}=k.next())}catch(st){return void Be.error(st)}De?Be.complete():Be.next(te)},0,!0)}),()=>(0,he.m)(k?.return)&&k.return()})}(ue,Me);if((0,ht.L)(ue))return function ft(ue,Me){return ne((0,ht.Q)(ue),Me)}(ue,Me)}throw(0,Ae.z)(ue)}(ue,Me):(0,h.Xf)(ue)}},4829:(vt,be,A)=>{A.d(be,{Xf:()=>Ue});var h=A(7582),U=A(4266),N=A(4026),Y=A(5592),se=A(8382),ve=A(5726),_e=A(9853),Oe=A(3664),he=A(541),V=A(4674),q=A(3894),ne=A(4850);function Ue(ee){if(ee instanceof Y.y)return ee;if(null!=ee){if((0,se.c)(ee))return function Ie(ee){return new Y.y(Te=>{const ue=ee[ne.L]();if((0,V.m)(ue.subscribe))return ue.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ee);if((0,U.z)(ee))return function Ye(ee){return new Y.y(Te=>{for(let ue=0;ue<ee.length&&!Te.closed;ue++)Te.next(ee[ue]);Te.complete()})}(ee);if((0,N.t)(ee))return function ke(ee){return new Y.y(Te=>{ee.then(ue=>{Te.closed||(Te.next(ue),Te.complete())},ue=>Te.error(ue)).then(null,q.h)})}(ee);if((0,ve.D)(ee))return Ae(ee);if((0,Oe.T)(ee))return function Ze(ee){return new Y.y(Te=>{for(const ue of ee)if(Te.next(ue),Te.closed)return;Te.complete()})}(ee);if((0,he.L)(ee))return function ht(ee){return Ae((0,he.Q)(ee))}(ee)}throw(0,_e.z)(ee)}function Ae(ee){return new Y.y(Te=>{(function ft(ee,Te){var ue,Me,Be,k;return(0,h.mG)(this,void 0,void 0,function*(){try{for(ue=(0,h.KL)(ee);!(Me=yield ue.next()).done;)if(Te.next(Me.value),Te.closed)return}catch(te){Be={error:te}}finally{try{Me&&!Me.done&&(k=ue.return)&&(yield k.call(ue))}finally{if(Be)throw Be.error}}Te.complete()})})(ee,Te).catch(ue=>Te.error(ue))})}},3019:(vt,be,A)=>{A.d(be,{T:()=>ve});var h=A(7537),U=A(4829),N=A(6232),Y=A(9940),se=A(2459);function ve(..._e){const Oe=(0,Y.yG)(_e),he=(0,Y._6)(_e,1/0),V=_e;return V.length?1===V.length?(0,U.Xf)(V[0]):(0,h.J)(he)((0,se.D)(V,Oe)):N.E}},2096:(vt,be,A)=>{A.d(be,{of:()=>N});var h=A(9940),U=A(2459);function N(...Y){const se=(0,h.yG)(Y);return(0,U.D)(Y,se)}},8251:(vt,be,A)=>{A.d(be,{x:()=>U});var h=A(305);function U(Y,se,ve,_e,Oe){return new N(Y,se,ve,_e,Oe)}class N extends h.Lv{constructor(se,ve,_e,Oe,he,V){super(se),this.onFinalize=he,this.shouldUnsubscribe=V,this._next=ve?function(q){try{ve(q)}catch(ne){se.error(ne)}}:super._next,this._error=Oe?function(q){try{Oe(q)}catch(ne){se.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=_e?function(){try{_e()}catch(q){se.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},3997:(vt,be,A)=>{A.d(be,{x:()=>Y});var h=A(2737),U=A(9360),N=A(8251);function Y(ve,_e=h.y){return ve=ve??se,(0,U.e)((Oe,he)=>{let V,q=!0;Oe.subscribe((0,N.x)(he,ne=>{const Ue=_e(ne);(q||!ve(V,Ue))&&(q=!1,V=Ue,he.next(ne))}))})}function se(ve,_e){return ve===_e}},7398:(vt,be,A)=>{A.d(be,{U:()=>N});var h=A(9360),U=A(8251);function N(Y,se){return(0,h.e)((ve,_e)=>{let Oe=0;ve.subscribe((0,U.x)(_e,he=>{_e.next(Y.call(se,he,Oe++))}))})}},7537:(vt,be,A)=>{A.d(be,{J:()=>N});var h=A(1631),U=A(2737);function N(Y=1/0){return(0,h.z)(U.y,Y)}},1631:(vt,be,A)=>{A.d(be,{z:()=>Oe});var h=A(7398),U=A(4829),N=A(9360),Y=A(7103),se=A(8251),_e=A(4674);function Oe(he,V,q=1/0){return(0,_e.m)(V)?Oe((ne,Ue)=>(0,h.U)((Ie,Ye)=>V(ne,Ie,Ue,Ye))((0,U.Xf)(he(ne,Ue))),q):("number"==typeof V&&(q=V),(0,N.e)((ne,Ue)=>function ve(he,V,q,ne,Ue,Ie,Ye,ke){const Ze=[];let Ae=0,ht=0,ft=!1;const ee=()=>{ft&&!Ze.length&&!Ae&&V.complete()},Te=Me=>Ae<ne?ue(Me):Ze.push(Me),ue=Me=>{Ie&&V.next(Me),Ae++;let Be=!1;(0,U.Xf)(q(Me,ht++)).subscribe((0,se.x)(V,k=>{Ue?.(k),Ie?Te(k):V.next(k)},()=>{Be=!0},void 0,()=>{if(Be)try{for(Ae--;Ze.length&&Ae<ne;){const k=Ze.shift();Ye?(0,Y.f)(V,Ye,()=>ue(k)):ue(k)}ee()}catch(k){V.error(k)}}))};return he.subscribe((0,se.x)(V,Te,()=>{ft=!0,ee()})),()=>{ke?.()}}(ne,Ue,he,q)))}},3093:(vt,be,A)=>{A.d(be,{Q:()=>Y});var h=A(7103),U=A(9360),N=A(8251);function Y(se,ve=0){return(0,U.e)((_e,Oe)=>{_e.subscribe((0,N.x)(Oe,he=>(0,h.f)(Oe,se,()=>Oe.next(he),ve),()=>(0,h.f)(Oe,se,()=>Oe.complete(),ve),he=>(0,h.f)(Oe,se,()=>Oe.error(he),ve)))})}},3020:(vt,be,A)=>{A.d(be,{B:()=>se});var h=A(4829),U=A(8645),N=A(305),Y=A(9360);function se(_e={}){const{connector:Oe=(()=>new U.x),resetOnError:he=!0,resetOnComplete:V=!0,resetOnRefCountZero:q=!0}=_e;return ne=>{let Ue,Ie,Ye,ke=0,Ze=!1,Ae=!1;const ht=()=>{Ie?.unsubscribe(),Ie=void 0},ft=()=>{ht(),Ue=Ye=void 0,Ze=Ae=!1},ee=()=>{const Te=Ue;ft(),Te?.unsubscribe()};return(0,Y.e)((Te,ue)=>{ke++,!Ae&&!Ze&&ht();const Me=Ye=Ye??Oe();ue.add(()=>{ke--,0===ke&&!Ae&&!Ze&&(Ie=ve(ee,q))}),Me.subscribe(ue),!Ue&&ke>0&&(Ue=new N.Hp({next:Be=>Me.next(Be),error:Be=>{Ae=!0,ht(),Ie=ve(ft,he,Be),Me.error(Be)},complete:()=>{Ze=!0,ht(),Ie=ve(ft,V),Me.complete()}}),(0,h.Xf)(Te).subscribe(Ue))})(ne)}}function ve(_e,Oe,...he){if(!0===Oe)return void _e();if(!1===Oe)return;const V=new N.Hp({next:()=>{V.unsubscribe(),_e()}});return(0,h.Xf)(Oe(...he)).subscribe(V)}},5137:(vt,be,A)=>{A.d(be,{R:()=>U});var h=A(9360);function U(N,Y=0){return(0,h.e)((se,ve)=>{ve.add(N.schedule(()=>se.subscribe(ve),Y))})}},4664:(vt,be,A)=>{A.d(be,{w:()=>Y});var h=A(4829),U=A(9360),N=A(8251);function Y(se,ve){return(0,U.e)((_e,Oe)=>{let he=null,V=0,q=!1;const ne=()=>q&&!he&&Oe.complete();_e.subscribe((0,N.x)(Oe,Ue=>{he?.unsubscribe();let Ie=0;const Ye=V++;(0,h.Xf)(se(Ue,Ye)).subscribe(he=(0,N.x)(Oe,ke=>Oe.next(ve?ve(Ue,ke,Ye,Ie++):ke),()=>{he=null,ne()}))},()=>{q=!0,ne()}))})}},9397:(vt,be,A)=>{A.d(be,{b:()=>se});var h=A(4674),U=A(9360),N=A(8251),Y=A(2737);function se(ve,_e,Oe){const he=(0,h.m)(ve)||_e||Oe?{next:ve,error:_e,complete:Oe}:ve;return he?(0,U.e)((V,q)=>{var ne;null===(ne=he.subscribe)||void 0===ne||ne.call(he);let Ue=!0;V.subscribe((0,N.x)(q,Ie=>{var Ye;null===(Ye=he.next)||void 0===Ye||Ye.call(he,Ie),q.next(Ie)},()=>{var Ie;Ue=!1,null===(Ie=he.complete)||void 0===Ie||Ie.call(he),q.complete()},Ie=>{var Ye;Ue=!1,null===(Ye=he.error)||void 0===Ye||Ye.call(he,Ie),q.error(Ie)},()=>{var Ie,Ye;Ue&&(null===(Ie=he.unsubscribe)||void 0===Ie||Ie.call(he)),null===(Ye=he.finalize)||void 0===Ye||Ye.call(he)}))}):Y.y}},1954:(vt,be,A)=>{A.d(be,{o:()=>se});var h=A(7394);class U extends h.w0{constructor(_e,Oe){super()}schedule(_e,Oe=0){return this}}const N={setInterval(ve,_e,...Oe){const{delegate:he}=N;return he?.setInterval?he.setInterval(ve,_e,...Oe):setInterval(ve,_e,...Oe)},clearInterval(ve){const{delegate:_e}=N;return(_e?.clearInterval||clearInterval)(ve)},delegate:void 0};var Y=A(9039);class se extends U{constructor(_e,Oe){super(_e,Oe),this.scheduler=_e,this.work=Oe,this.pending=!1}schedule(_e,Oe=0){var he;if(this.closed)return this;this.state=_e;const V=this.id,q=this.scheduler;return null!=V&&(this.id=this.recycleAsyncId(q,V,Oe)),this.pending=!0,this.delay=Oe,this.id=null!==(he=this.id)&&void 0!==he?he:this.requestAsyncId(q,this.id,Oe),this}requestAsyncId(_e,Oe,he=0){return N.setInterval(_e.flush.bind(_e,this),he)}recycleAsyncId(_e,Oe,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return Oe;null!=Oe&&N.clearInterval(Oe)}execute(_e,Oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(_e,Oe);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_e,Oe){let V,he=!1;try{this.work(_e)}catch(q){he=!0,V=q||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),V}unsubscribe(){if(!this.closed){const{id:_e,scheduler:Oe}=this,{actions:he}=Oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Y.P)(he,this),null!=_e&&(this.id=this.recycleAsyncId(Oe,_e,null)),this.delay=null,super.unsubscribe()}}}},2631:(vt,be,A)=>{A.d(be,{v:()=>N});var h=A(4552);class U{constructor(se,ve=U.now){this.schedulerActionCtor=se,this.now=ve}schedule(se,ve=0,_e){return new this.schedulerActionCtor(this,se).schedule(_e,ve)}}U.now=h.l.now;class N extends U{constructor(se,ve=U.now){super(se,ve),this.actions=[],this._active=!1}flush(se){const{actions:ve}=this;if(this._active)return void ve.push(se);let _e;this._active=!0;do{if(_e=se.execute(se.state,se.delay))break}while(se=ve.shift());if(this._active=!1,_e){for(;se=ve.shift();)se.unsubscribe();throw _e}}}},6321:(vt,be,A)=>{A.d(be,{P:()=>Y,z:()=>N});var h=A(1954);const N=new(A(2631).v)(h.o),Y=N},4552:(vt,be,A)=>{A.d(be,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},7599:(vt,be,A)=>{A.d(be,{z:()=>h});const h={setTimeout(U,N,...Y){const{delegate:se}=h;return se?.setTimeout?se.setTimeout(U,N,...Y):setTimeout(U,N,...Y)},clearTimeout(U){const{delegate:N}=h;return(N?.clearTimeout||clearTimeout)(U)},delegate:void 0}},4971:(vt,be,A)=>{A.d(be,{h:()=>U});const U=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(vt,be,A)=>{A.d(be,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(vt,be,A)=>{A.d(be,{_6:()=>ve,jO:()=>Y,yG:()=>se});var h=A(4674),U=A(671);function N(_e){return _e[_e.length-1]}function Y(_e){return(0,h.m)(N(_e))?_e.pop():void 0}function se(_e){return(0,U.K)(N(_e))?_e.pop():void 0}function ve(_e,Oe){return"number"==typeof N(_e)?_e.pop():Oe}},9039:(vt,be,A)=>{function h(U,N){if(U){const Y=U.indexOf(N);0<=Y&&U.splice(Y,1)}}A.d(be,{P:()=>h})},2306:(vt,be,A)=>{function h(U){const Y=U(se=>{Error.call(se),se.stack=(new Error).stack});return Y.prototype=Object.create(Error.prototype),Y.prototype.constructor=Y,Y}A.d(be,{d:()=>h})},1441:(vt,be,A)=>{A.d(be,{O:()=>Y,x:()=>N});var h=A(2653);let U=null;function N(se){if(h.config.useDeprecatedSynchronousErrorHandling){const ve=!U;if(ve&&(U={errorThrown:!1,error:null}),se(),ve){const{errorThrown:_e,error:Oe}=U;if(U=null,_e)throw Oe}}else se()}function Y(se){h.config.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=se)}},7103:(vt,be,A)=>{function h(U,N,Y,se=0,ve=!1){const _e=N.schedule(function(){Y(),ve?U.add(this.schedule(null,se)):this.unsubscribe()},se);if(U.add(_e),!ve)return _e}A.d(be,{f:()=>h})},2737:(vt,be,A)=>{function h(U){return U}A.d(be,{y:()=>h})},4266:(vt,be,A)=>{A.d(be,{z:()=>h});const h=U=>U&&"number"==typeof U.length&&"function"!=typeof U},5726:(vt,be,A)=>{A.d(be,{D:()=>U});var h=A(4674);function U(N){return Symbol.asyncIterator&&(0,h.m)(N?.[Symbol.asyncIterator])}},4674:(vt,be,A)=>{function h(U){return"function"==typeof U}A.d(be,{m:()=>h})},8382:(vt,be,A)=>{A.d(be,{c:()=>N});var h=A(4850),U=A(4674);function N(Y){return(0,U.m)(Y[h.L])}},3664:(vt,be,A)=>{A.d(be,{T:()=>N});var h=A(4971),U=A(4674);function N(Y){return(0,U.m)(Y?.[h.h])}},4026:(vt,be,A)=>{A.d(be,{t:()=>U});var h=A(4674);function U(N){return(0,h.m)(N?.then)}},541:(vt,be,A)=>{A.d(be,{L:()=>Y,Q:()=>N});var h=A(7582),U=A(4674);function N(se){return(0,h.FC)(this,arguments,function*(){const _e=se.getReader();try{for(;;){const{value:Oe,done:he}=yield(0,h.qq)(_e.read());if(he)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(Oe)}}finally{_e.releaseLock()}})}function Y(se){return(0,U.m)(se?.getReader)}},671:(vt,be,A)=>{A.d(be,{K:()=>U});var h=A(4674);function U(N){return N&&(0,h.m)(N.schedule)}},9360:(vt,be,A)=>{A.d(be,{A:()=>U,e:()=>N});var h=A(4674);function U(Y){return(0,h.m)(Y?.lift)}function N(Y){return se=>{if(U(se))return se.lift(function(ve){try{return Y(ve,this)}catch(_e){this.error(_e)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(vt,be,A)=>{function h(){}A.d(be,{Z:()=>h})},8407:(vt,be,A)=>{A.d(be,{U:()=>N,z:()=>U});var h=A(2737);function U(...Y){return N(Y)}function N(Y){return 0===Y.length?h.y:1===Y.length?Y[0]:function(ve){return Y.reduce((_e,Oe)=>Oe(_e),ve)}}},3894:(vt,be,A)=>{A.d(be,{h:()=>N});var h=A(2653),U=A(7599);function N(Y){U.z.setTimeout(()=>{const{onUnhandledError:se}=h.config;if(!se)throw Y;se(Y)})}},9853:(vt,be,A)=>{function h(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}A.d(be,{z:()=>h})},5879:(vt,be,A)=>{A.d(be,{$8M:()=>wl,$WT:()=>Do,$Z:()=>v_,AFp:()=>yI,ALo:()=>z0,AaK:()=>ne,AsE:()=>o0,CHM:()=>Cs,CRH:()=>Wc,DdM:()=>j0,Dn7:()=>zc,EJc:()=>QD,EpF:()=>_C,F4k:()=>wC,FYo:()=>Sg,FiY:()=>ge,GfV:()=>n_,Gpc:()=>Ye,HDt:()=>Kc,JOm:()=>Nh,KtG:()=>wh,LFG:()=>Qe,LSH:()=>Yh,Lbi:()=>Jh,Lck:()=>P0,MAs:()=>nm,MMx:()=>Lf,MR2:()=>Vv,NdJ:()=>K_,O4$:()=>No,Ojb:()=>Xh,OlP:()=>zn,Oqu:()=>s0,P3R:()=>l1,PXZ:()=>Pw,Q6J:()=>z_,QGY:()=>Z_,Qsj:()=>Xv,R0b:()=>di,RDi:()=>YE,Rgc:()=>xd,SBq:()=>ql,Sil:()=>vw,Suo:()=>BD,TTD:()=>hh,TgZ:()=>Iu,Tol:()=>hd,VuI:()=>Bb,W1O:()=>tw,X6Q:()=>rA,XFs:()=>wt,Xpm:()=>nr,Xq5:()=>Oc,Xts:()=>Ll,Y36:()=>Tc,YKP:()=>km,YNc:()=>gC,Yjl:()=>$a,Yz7:()=>yt,Z0I:()=>_n,ZZ4:()=>zw,_Bn:()=>Sd,_UZ:()=>rm,_c5:()=>Rb,_uU:()=>pm,aQg:()=>qw,c2e:()=>oy,cJS:()=>jn,cg1:()=>m0,dDg:()=>Sw,dqk:()=>Kt,eFA:()=>hb,eJc:()=>Nd,ekj:()=>dm,eoX:()=>Aw,f3M:()=>ot,g9A:()=>pt,h0i:()=>Ou,hGG:()=>kb,hij:()=>gm,iGM:()=>VD,ifc:()=>at,ip1:()=>sy,jDz:()=>Pu,kL8:()=>KC,kcU:()=>Qt,lG2:()=>ja,lcZ:()=>ku,lqb:()=>Qn,lri:()=>ly,n5z:()=>Zp,oAB:()=>ca,oxw:()=>bC,q4F:()=>r_,qFp:()=>Fa,qLn:()=>fu,qOj:()=>yf,qZA:()=>Cu,rWj:()=>ub,rg0:()=>dh,sBO:()=>Uw,s_b:()=>jm,soG:()=>Vd,tb:()=>np,tp0:()=>rt,uIk:()=>Yr,vHH:()=>ee,vpe:()=>Go,wAp:()=>Uc,xp6:()=>FI,z2F:()=>$u,zSh:()=>_g,zs3:()=>co});var h=A(8645),U=A(7394),N=A(5592),Y=A(3019),se=A(5619),ve=A(2096),_e=A(3020),Oe=A(4664),he=A(3997);function V(i){for(let o in i)if(i[o]===V)return o;throw Error("Could not find renamed property on target object.")}function q(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function ne(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ne).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function Ue(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const Ie=V({__forward_ref__:V});function Ye(i){return i.__forward_ref__=Ye,i.toString=function(){return ne(this())},i}function ke(i){return Ze(i)?i():i}function Ze(i){return"function"==typeof i&&i.hasOwnProperty(Ie)&&i.__forward_ref__===Ye}function Ae(i){return i&&!!i.\u0275providers}const ft="https://g.co/ng/security#xss";class ee extends Error{constructor(o,a){super(function Te(i,o){return`NG0${Math.abs(i)}${o?": "+o:""}`}(o,a)),this.code=o}}function ue(i){return"string"==typeof i?i:null==i?"":String(i)}function De(i,o){throw new ee(-201,!1)}function tt(i,o){null==i&&function qe(i,o,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,i,null,"!=")}function yt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function jn(i){return{providers:i.providers||[],imports:i.imports||[]}}function Ln(i){return Rn(i,Vn)||Rn(i,tr)}function _n(i){return null!==Ln(i)}function Rn(i,o){return i.hasOwnProperty(o)?i[o]:null}function Zn(i){return i&&(i.hasOwnProperty(bn)||i.hasOwnProperty(Gr))?i[bn]:null}const Vn=V({\u0275prov:V}),bn=V({\u0275inj:V}),tr=V({ngInjectableDef:V}),Gr=V({ngInjectorDef:V});var wt=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(wt||{});let Ct;function Rt(i){const o=Ct;return Ct=i,o}function mr(i,o,a){const c=Ln(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&wt.Optional?null:void 0!==o?o:void De(ne(i))}const Kt=globalThis,He={},ct="__NG_DI_FLAG__",Et="ngTempTokenPath",G=/\n/gm,P="__source";let R;function X(i){const o=R;return R=i,o}function Ne(i,o=wt.Default){if(void 0===R)throw new ee(-203,!1);return null===R?mr(i,void 0,o):R.get(i,o&wt.Optional?null:void 0,o)}function Qe(i,o=wt.Default){return(function Nt(){return Ct}()||Ne)(ke(i),o)}function ot(i,o=wt.Default){return Qe(i,mn(o))}function mn(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Vt(i){const o=[];for(let a=0;a<i.length;a++){const c=ke(i[a]);if(Array.isArray(c)){if(0===c.length)throw new ee(900,!1);let d,f=wt.Default;for(let y=0;y<c.length;y++){const _=c[y],I=Yt(_);"number"==typeof I?-1===I?d=_.token:f|=I:d=_}o.push(Qe(d,f))}else o.push(Qe(c))}return o}function wn(i,o){return i[ct]=o,i.prototype[ct]=o,i}function Yt(i){return i[ct]}function de(i){return{toString:i}.toString()}var nt=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(nt||{}),at=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(at||{});const Ot={},lt=[],Tn=V({\u0275cmp:V}),ti=V({\u0275dir:V}),ni=V({\u0275pipe:V}),Ki=V({\u0275mod:V}),Nr=V({\u0275fac:V}),ln=V({__NG_ELEMENT_ID__:V}),Fs=V({__NG_ENV_ID__:V});function Ks(i,o,a){let c=i.length;for(;;){const d=i.indexOf(o,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=o.length;if(d+f===c||i.charCodeAt(d+f)<=32)return d}a=d+1}}function ri(i,o,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const f=a[c++],y=a[c++],_=a[c++];i.setAttribute(o,y,_,f)}else{const f=d,y=a[++c];Ls(f)?i.setProperty(o,f,y):i.setAttribute(o,f,y),c++}}return c}function gi(i){return 3===i||4===i||6===i}function Ls(i){return 64===i.charCodeAt(0)}function _s(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?a=d:0===a||Vs(i,a,d,null,-1===a||2===a?o[++c]:null)}}return i}function Vs(i,o,a,c,d){let f=0,y=i.length;if(-1===o)y=-1;else for(;f<i.length;){const _=i[f++];if("number"==typeof _){if(_===o){y=-1;break}if(_>o){y=f-1;break}}}for(;f<i.length;){const _=i[f];if("number"==typeof _)break;if(_===a){if(null===c)return void(null!==d&&(i[f+1]=d));if(c===i[f+1])return void(i[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==y&&(i.splice(y,0,o),f=y+1),i.splice(f++,0,a),null!==c&&i.splice(f++,0,c),null!==d&&i.splice(f++,0,d)}const Xn="ng-template";function Yi(i,o,a){let c=0,d=!0;for(;c<i.length;){let f=i[c++];if("string"==typeof f&&d){const y=i[c++];if(a&&"class"===f&&-1!==Ks(y.toLowerCase(),o,0))return!0}else{if(1===f){for(;c<i.length&&"string"==typeof(f=i[c++]);)if(f.toLowerCase()===o)return!0;return!1}"number"==typeof f&&(d=!1)}}return!1}function Ui(i){return 4===i.type&&i.value!==Xn}function Va(i,o,a){return o===(4!==i.type||a?i.value:Xn)}function Co(i,o,a){let c=4;const d=i.attrs||[],f=function $(i){for(let o=0;o<i.length;o++)if(gi(i[o]))return o;return i.length}(d);let y=!1;for(let _=0;_<o.length;_++){const I=o[_];if("number"!=typeof I){if(!y)if(4&c){if(c=2|1&c,""!==I&&!Va(i,I,a)||""===I&&1===o.length){if(zr(c))return!1;y=!0}}else{const D=8&c?I:o[++_];if(8&c&&null!==i.attrs){if(!Yi(i.attrs,D,a)){if(zr(c))return!1;y=!0}continue}const L=Ua(8&c?"class":I,d,Ui(i),a);if(-1===L){if(zr(c))return!1;y=!0;continue}if(""!==D){let Z;Z=L>f?"":d[L+1].toLowerCase();const ie=8&c?Z:null;if(ie&&-1!==Ks(ie,D,0)||2&c&&D!==Z){if(zr(c))return!1;y=!0}}}}else{if(!y&&!zr(c)&&!zr(I))return!1;if(y&&zr(I))continue;y=!1,c=I|1&c}}return zr(c)||y}function zr(i){return 0==(1&i)}function Ua(i,o,a,c){if(null===o)return-1;let d=0;if(c||!a){let f=!1;for(;d<o.length;){const y=o[d];if(y===i)return d;if(3===y||6===y)f=!0;else{if(1===y||2===y){let _=o[++d];for(;"string"==typeof _;)_=o[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=f?1:2}return-1}return function re(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,i)}function ua(i,o,a=!1){for(let c=0;c<o.length;c++)if(Co(i,o[c],a))return!0;return!1}function gt(i,o){return i?":not("+o.trim()+")":o}function En(i){let o=i[0],a=1,c=2,d="",f=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&c){const _=i[++a];d+="["+y+(_.length>0?'="'+_+'"':"")+"]"}else 8&c?d+="."+y:4&c&&(d+=" "+y);else""!==d&&!zr(y)&&(o+=gt(f,d),d=""),c=y,f=f||!zr(c);a++}return""!==d&&(o+=gt(f,d)),o}function nr(i){return de(()=>{const o=Jc(i),a={...o,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===nt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||at.Emulated,styles:i.styles||lt,_:null,schemas:i.schemas||null,tView:null,id:""};Ha(a);const c=i.dependencies;return a.directiveDefs=Us(c,!1),a.pipeDefs=Us(c,!0),a.id=function la(i){let o=0;const a=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const d of a)o=Math.imul(31,o)+d.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(a),a})}function Rr(i){return Cn(i)||Vr(i)}function us(i){return null!==i}function ca(i){return de(()=>({type:i.type,bootstrap:i.bootstrap||lt,declarations:i.declarations||lt,imports:i.imports||lt,exports:i.exports||lt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Ba(i,o){if(null==i)return Ot;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),a[d]=c,o&&(o[d]=f)}return a}function ja(i){return de(()=>{const o=Jc(i);return Ha(o),o})}function $a(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Cn(i){return i[Tn]||null}function Vr(i){return i[ti]||null}function qr(i){return i[ni]||null}function Do(i){const o=Cn(i)||Vr(i)||qr(i);return null!==o&&o.standalone}function ii(i,o){const a=i[Ki]||null;if(!a&&!0===o)throw new Error(`Type ${ne(i)} does not have '\u0275mod' property.`);return a}function Jc(i){const o={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:i.inputs||Ot,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||lt,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ba(i.inputs,o),outputs:Ba(i.outputs)}}function Ha(i){i.features?.forEach(o=>o(i))}function Us(i,o){if(!i)return null;const a=o?qr:Rr;return()=>("function"==typeof i?i():i).map(c=>a(c)).filter(us)}const Kn=0,Xe=1,qt=2,Bn=3,si=4,Bs=5,Wr=6,bo=7,fr=8,ws=9,Ei=10,kt=11,da=12,th=13,br=14,Tr=15,Bi=16,ji=17,mi=18,cs=19,Xc=20,Ys=21,Es=22,B=23,F=24,j=25,Pe=1,We=2,et=7,Ft=9,Bt=11;function Yn(i){return Array.isArray(i)&&"object"==typeof i[Pe]}function Mn(i){return Array.isArray(i)&&!0===i[Pe]}function To(i){return 0!=(4&i.flags)}function Ji(i){return i.componentOffset>-1}function Is(i){return 1==(1&i.flags)}function ar(i){return!!i.template}function Ii(i){return 0!=(512&i[qt])}function Qs(i,o){return i.hasOwnProperty(Nr)?i[Nr]:null}let Zr=null,sh=!1;function Ci(i){const o=Zr;return Zr=i,o}const oh={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function $y(i){if(!rl(i)||i.dirty){if(!i.producerMustRecompute(i)&&!Gy(i))return void(i.dirty=!1);i.producerRecomputeValue(i),i.dirty=!1}}function Hy(i){i.dirty=!0,function Ep(i){if(void 0===i.liveConsumerNode)return;const o=sh;sh=!0;try{for(const a of i.liveConsumerNode)a.dirty||Hy(a)}finally{sh=o}}(i),i.consumerMarkedDirty?.(i)}function Ip(i){return i&&(i.nextProducerIndex=0),Ci(i)}function nl(i,o){if(Ci(o),i&&void 0!==i.producerNode&&void 0!==i.producerIndexOfThis&&void 0!==i.producerLastReadVersion){if(rl(i))for(let a=i.nextProducerIndex;a<i.producerNode.length;a++)Zu(i.producerNode[a],i.producerIndexOfThis[a]);for(;i.producerNode.length>i.nextProducerIndex;)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function Gy(i){Ao(i);for(let o=0;o<i.producerNode.length;o++){const a=i.producerNode[o],c=i.producerLastReadVersion[o];if(c!==a.version||($y(a),c!==a.version))return!0}return!1}function uh(i){if(Ao(i),rl(i))for(let o=0;o<i.producerNode.length;o++)Zu(i.producerNode[o],i.producerIndexOfThis[o]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function Zu(i,o){if(function qy(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}(i),Ao(i),1===i.liveConsumerNode.length)for(let c=0;c<i.producerNode.length;c++)Zu(i.producerNode[c],i.producerIndexOfThis[c]);const a=i.liveConsumerNode.length-1;if(i.liveConsumerNode[o]=i.liveConsumerNode[a],i.liveConsumerIndexOfThis[o]=i.liveConsumerIndexOfThis[a],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,o<i.liveConsumerNode.length){const c=i.liveConsumerIndexOfThis[o],d=i.liveConsumerNode[o];Ao(d),d.producerIndexOfThis[c]=o}}function rl(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function Ao(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}let Zy=null;function dh(i){const o=Ci(null);try{return i()}finally{Ci(o)}}const Ap=()=>{},_E=(()=>({...oh,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:i=>{i.schedule(i.ref)},hasRun:!1,cleanupFn:Ap}))();class Jy{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function hh(){return fh}function fh(i){return i.type.prototype.ngOnChanges&&(i.setInput=Js),ol}function ol(){const i=ph(this),o=i?.current;if(o){const a=i.previous;if(a===Ot)i.previous=o;else for(let c in o)a[c]=o[c];i.current=null,this.ngOnChanges(o)}}function Js(i,o,a,c){const d=this.declaredInputs[a],f=ph(i)||function Xy(i,o){return i[Wa]=o}(i,{previous:Ot,current:null}),y=f.current||(f.current={}),_=f.previous,I=_[d];y[d]=new Jy(I&&I.currentValue,o,_===Ot),i[c]=o}hh.ngInherit=!0;const Wa="__ngSimpleChanges__";function ph(i){return i[Wa]||null}const js=function(i,o,a){},Mp="svg";function $n(i){for(;Array.isArray(i);)i=i[Kn];return i}function Xs(i,o){return $n(o[i])}function Di(i,o){return $n(o[i.index])}function mh(i,o){return i.data[o]}function Za(i,o){return i[o]}function $i(i,o){const a=o[i];return Yn(a)?a:a[Kn]}function Mo(i,o){return null==o?null:i[o]}function xp(i){i[ji]=0}function Yu(i){1024&i[qt]||(i[qt]|=1024,kr(i,1))}function ev(i){1024&i[qt]&&(i[qt]&=-1025,kr(i,-1))}function kr(i,o){let a=i[Bn];if(null===a)return;a[Bs]+=o;let c=a;for(a=a[Bn];null!==a&&(1===o&&1===c[Bs]||-1===o&&0===c[Bs]);)a[Bs]+=o,c=a,a=a[Bn]}const zt={lFrame:$p(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ka(){return zt.bindingsEnabled}function Le(){return zt.lFrame.lView}function Sn(){return zt.lFrame.tView}function Cs(i){return zt.lFrame.contextLView=i,i[fr]}function wh(i){return zt.lFrame.contextLView=null,i}function oi(){let i=dl();for(;null!==i&&64===i.type;)i=i.parent;return i}function dl(){return zt.lFrame.currentTNode}function $s(i,o){const a=zt.lFrame;a.currentTNode=i,a.isParent=o}function Fp(){return zt.lFrame.isParent}function ai(){const i=zt.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}function Xu(){return zt.lFrame.bindingIndex++}function Hs(i){const o=zt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}function Up(i,o){const a=zt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Bp(o)}function Bp(i){zt.lFrame.currentDirectiveIndex=i}function ov(){return zt.lFrame.currentQueryIndex}function jp(i){zt.lFrame.currentQueryIndex=i}function TE(i){const o=i[Xe];return 2===o.type?o.declTNode:1===o.type?i[Wr]:null}function Ih(i,o,a){if(a&wt.SkipSelf){let d=o,f=i;for(;!(d=d.parent,null!==d||a&wt.Host||(d=TE(f),null===d||(f=f[br],10&d.type))););if(null===d)return!1;o=d,i=f}const c=zt.lFrame=Po();return c.currentTNode=o,c.lView=i,!0}function bi(i){const o=Po(),a=i[Xe];zt.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Po(){const i=zt.lFrame,o=null===i?null:i.child;return null===o?$p(i):o}function $p(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function er(){const i=zt.lFrame;return zt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Pt=er;function ui(){const i=er();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Ti(){return zt.lFrame.selectedIndex}function eo(i){zt.lFrame.selectedIndex=i}function ur(){const i=zt.lFrame;return mh(i.tView,i.selectedIndex)}function No(){zt.lFrame.currentNamespace=Mp}function Qt(){!function av(){zt.lFrame.currentNamespace=null}()}let ec=!0;function to(){return ec}function no(i){ec=i}function Ya(i,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:_,ngAfterViewInit:I,ngAfterViewChecked:D,ngOnDestroy:S}=f;y&&(i.contentHooks??=[]).push(-a,y),_&&((i.contentHooks??=[]).push(a,_),(i.contentCheckHooks??=[]).push(a,_)),I&&(i.viewHooks??=[]).push(-a,I),D&&((i.viewHooks??=[]).push(a,D),(i.viewCheckHooks??=[]).push(a,D)),null!=S&&(i.destroyHooks??=[]).push(a,S)}}function Qa(i,o,a){pl(i,o,3,a)}function Ja(i,o,a,c){(3&i[qt])===a&&pl(i,o,a,c)}function fl(i,o){let a=i[qt];(3&a)===o&&(a&=8191,a+=1,i[qt]=a)}function pl(i,o,a,c){const f=c??-1,y=o.length-1;let _=0;for(let I=void 0!==c?65535&i[ji]:0;I<y;I++)if("number"==typeof o[I+1]){if(_=o[I],null!=c&&_>=c)break}else o[I]<0&&(i[ji]+=65536),(_<f||-1==f)&&(tc(i,a,o,I),i[ji]=(4294901760&i[ji])+I+2),I++}function fa(i,o){js(4,i,o);const a=Ci(null);try{o.call(i)}finally{Ci(a),js(5,i,o)}}function tc(i,o,a,c){const d=a[c]<0,f=a[c+1],_=i[d?-a[c]:a[c]];d?i[qt]>>13<i[ji]>>16&&(3&i[qt])===o&&(i[qt]+=8192,fa(_,f)):fa(_,f)}const Gs=-1;class Ro{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function ml(i){return i!==Gs}function Xi(i){return 32767&i}function Kr(i,o){let a=function Hn(i){return i>>16}(i),c=o;for(;a>0;)c=c[br],a--;return c}let Xa=!0;function ci(i){const o=Xa;return Xa=i,o}const eu=255,ic=5;let uv=0;const Br={};function _r(i,o){const a=yl(i,o);if(-1!==a)return a;const c=o[Xe];c.firstCreatePass&&(i.injectorIndex=o.length,ls(c.data,i),ls(o,null),ls(c.blueprint,null));const d=ga(i,o),f=i.injectorIndex;if(ml(d)){const y=Xi(d),_=Kr(d,o),I=_[Xe].data;for(let D=0;D<8;D++)o[f+D]=_[y+D]|I[y+D]}return o[f+8]=d,f}function ls(i,o){i.push(0,0,0,0,0,0,0,0,o)}function yl(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function ga(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=o;for(;null!==d;){if(c=Yp(d),null===c)return Gs;if(a++,d=d[br],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return Gs}function tu(i,o,a){!function ko(i,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(ln)&&(c=a[ln]),null==c&&(c=a[ln]=uv++);const d=c&eu;o.data[i+(d>>ic)]|=1<<d}(i,o,a)}function Th(i,o,a){if(a&wt.Optional||void 0!==i)return i;De()}function nu(i,o,a,c){if(a&wt.Optional&&void 0===c&&(c=null),!(a&(wt.Self|wt.Host))){const d=i[ws],f=Rt(void 0);try{return d?d.get(o,c,a&wt.Optional):mr(o,c,a&wt.Optional)}finally{Rt(f)}}return Th(c,0,a)}function Sh(i,o,a,c=wt.Default,d){if(null!==i){if(2048&o[qt]&&!(c&wt.Self)){const y=function Kp(i,o,a,c,d){let f=i,y=o;for(;null!==f&&null!==y&&2048&y[qt]&&!(512&y[qt]);){const _=vl(f,y,a,c|wt.Self,Br);if(_!==Br)return _;let I=f.parent;if(!I){const D=y[Xc];if(D){const S=D.get(a,Br,c);if(S!==Br)return S}I=Yp(y),y=y[br]}f=I}return d}(i,o,a,c,Br);if(y!==Br)return y}const f=vl(i,o,a,c,Br);if(f!==Br)return f}return nu(o,a,c,d)}function vl(i,o,a,c,d){const f=function Lo(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(ln)?i[ln]:void 0;return"number"==typeof o?o>=0?o&eu:Vo:o}(a);if("function"==typeof f){if(!Ih(o,i,c))return c&wt.Host?Th(d,0,c):nu(o,a,c,d);try{let y;if(y=f(c),null!=y||c&wt.Optional)return y;De()}finally{Pt()}}else if("number"==typeof f){let y=null,_=yl(i,o),I=Gs,D=c&wt.Host?o[Tr][Wr]:null;for((-1===_||c&wt.SkipSelf)&&(I=-1===_?ga(i,o):o[_+8],I!==Gs&&qp(c,!1)?(y=o[Xe],_=Xi(I),o=Kr(I,o)):_=-1);-1!==_;){const S=o[Xe];if(zp(f,_,S.data)){const L=on(_,o,a,y,c,D);if(L!==Br)return L}I=o[_+8],I!==Gs&&qp(c,o[Xe].data[_+8]===D)&&zp(f,_,o)?(y=S,_=Xi(I),o=Kr(I,o)):_=-1}}return d}function on(i,o,a,c,d,f){const y=o[Xe],_=y.data[i+8],S=Fo(_,y,a,null==c?Ji(_)&&Xa:c!=y&&0!=(3&_.type),d&wt.Host&&f===_);return null!==S?ma(o,y,S,_):Br}function Fo(i,o,a,c,d){const f=i.providerIndexes,y=o.data,_=1048575&f,I=i.directiveStart,S=f>>20,Z=d?_+S:i.directiveEnd;for(let ie=c?_:_+S;ie<Z;ie++){const Re=y[ie];if(ie<I&&a===Re||ie>=I&&Re.type===a)return ie}if(d){const ie=y[I];if(ie&&ar(ie)&&ie.type===a)return I}return null}function ma(i,o,a,c){let d=i[a];const f=o.data;if(function nc(i){return i instanceof Ro}(d)){const y=d;y.resolving&&function Be(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new ee(-200,`Circular dependency in DI detected for ${i}${a}`)}(function Me(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ue(i)}(f[a]));const _=ci(y.canSeeViewProviders);y.resolving=!0;const D=y.injectImpl?Rt(y.injectImpl):null;Ih(i,c,wt.Default);try{d=i[a]=y.factory(void 0,f,i,c),o.firstCreatePass&&a>=c.directiveStart&&function Si(i,o,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=o.type.prototype;if(c){const y=fh(o);(a.preOrderHooks??=[]).push(i,y),(a.preOrderCheckHooks??=[]).push(i,y)}d&&(a.preOrderHooks??=[]).push(0-i,d),f&&((a.preOrderHooks??=[]).push(i,f),(a.preOrderCheckHooks??=[]).push(i,f))}(a,f[a],o)}finally{null!==D&&Rt(D),ci(_),y.resolving=!1,Pt()}}return d}function zp(i,o,a){return!!(a[o+(i>>ic)]&1<<i)}function qp(i,o){return!(i&wt.Self||i&wt.Host&&o)}class jr{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return Sh(this._tNode,this._lView,o,mn(c),a)}}function Vo(){return new jr(oi(),Le())}function Zp(i){return de(()=>{const o=i.prototype.constructor,a=o[Nr]||_l(o),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const f=d[Nr]||_l(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function _l(i){return Ze(i)?()=>{const o=_l(ke(i));return o&&o()}:Qs(i)}function Yp(i){const o=i[Xe],a=o.type;return 2===a?o.declTNode:1===a?i[Wr]:null}function wl(i){return function Gp(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const f=a[d];if(gi(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(f===o)return a[d+1];d+=2}}}return null}(oi(),i)}const ya="__parameters__";function xn(i,o,a){return de(()=>{const c=function Uo(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(o);function d(...f){if(this instanceof d)return c.apply(this,f),this;const y=new d(...f);return _.annotation=y,_;function _(I,D,S){const L=I.hasOwnProperty(ya)?I[ya]:Object.defineProperty(I,ya,{value:[]})[ya];for(;L.length<=S;)L.push(null);return(L[S]=L[S]||[]).push(y),I}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}function iu(i,o){i.forEach(a=>Array.isArray(a)?iu(a,o):o(a))}function lv(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function su(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function es(i,o,a){let c=ou(i,o);return c>=0?i[1|c]=a:(c=~c,function Xp(i,o,a,c){let d=i.length;if(d==o)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>o;)i[d]=i[d-2],d--;i[o]=a,i[o+1]=c}}(i,c,o,a)),c}function xh(i,o){const a=ou(i,o);if(a>=0)return i[1|a]}function ou(i,o){return function Tl(i,o,a){let c=0,d=i.length>>a;for(;d!==c;){const f=c+(d-c>>1),y=i[f<<a];if(o===y)return f<<a;y>o?d=f:c=f+1}return~(d<<a)}(i,o,1)}const ge=wn(xn("Optional"),8),rt=wn(xn("SkipSelf"),4);function ng(i){return 128==(128&i.flags)}var Nh=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(Nh||{});const Rh=new Map;let xT=0;const sg="__ngContext__";function Gi(i,o){Yn(o)?(i[sg]=o[cs],function kE(i){Rh.set(i[cs],i)}(o)):i[sg]=o}let Lh;function Ds(i,o){return Lh(i,o)}function Ea(i){const o=i[Bn];return Mn(o)?o[Bn]:o}function VE(i){return Vh(i[da])}function Cv(i){return Vh(i[si])}function Vh(i){for(;null!==i&&!Mn(i);)i=i[si];return i}function Pl(i,o,a,c,d){if(null!=c){let f,y=!1;Mn(c)?f=c:Yn(c)&&(y=!0,c=c[Kn]);const _=$n(c);0===i&&null!==a?null==d?$E(o,a,_):gc(o,a,_,d||null,!0):1===i&&null!==a?gc(o,a,_,d||null,!0):2===i?function lg(i,o,a){const c=cg(i,o);c&&function zT(i,o,a,c){i.removeChild(o,a,c)}(i,c,o,a)}(o,_,y):3===i&&o.destroyNode(_),null!=f&&function WT(i,o,a,c,d){const f=a[et];f!==$n(a)&&Pl(o,i,c,f,d);for(let _=Bt;_<a.length;_++){const I=a[_];Gh(I[Xe],I,i,o,c,f)}}(o,i,f,a,d)}}function ag(i,o,a){return i.createElement(o,a)}function UE(i,o){const a=i[Ft],c=a.indexOf(o);ev(o),a.splice(c,1)}function ug(i,o){if(i.length<=Bt)return;const a=Bt+o,c=i[a];if(c){const d=c[Bi];null!==d&&d!==i&&UE(d,c),o>0&&(i[a-1][si]=c[si]);const f=su(i,Bt+o);!function BT(i,o){Gh(i,o,o[kt],2,null,null),o[Kn]=null,o[Wr]=null}(c[Xe],c);const y=f[mi];null!==y&&y.detachView(f[Xe]),c[Bn]=null,c[si]=null,c[qt]&=-129}return c}function Dv(i,o){if(!(256&o[qt])){const a=o[kt];o[B]&&uh(o[B]),o[F]&&uh(o[F]),a.destroyNode&&Gh(i,o,a,3,null,null),function jT(i){let o=i[da];if(!o)return BE(i[Xe],i);for(;o;){let a=null;if(Yn(o))a=o[da];else{const c=o[Bt];c&&(a=c)}if(!a){for(;o&&!o[si]&&o!==i;)Yn(o)&&BE(o[Xe],o),o=o[Bn];null===o&&(o=i),Yn(o)&&BE(o[Xe],o),a=o&&o[si]}o=a}}(o)}}function BE(i,o){if(!(256&o[qt])){o[qt]&=-129,o[qt]|=256,function jE(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=o[a[c]];if(!(d instanceof Ro)){const f=a[c+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const _=d[f[y]],I=f[y+1];js(4,_,I);try{I.call(_)}finally{js(5,_,I)}}else{js(4,d,f);try{f.call(d)}finally{js(5,d,f)}}}}}(i,o),function GT(i,o){const a=i.cleanup,c=o[bo];if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const y=a[f+3];y>=0?c[y]():c[-y].unsubscribe(),f+=2}else a[f].call(c[a[f+1]]);null!==c&&(o[bo]=null);const d=o[Ys];if(null!==d){o[Ys]=null;for(let f=0;f<d.length;f++)(0,d[f])()}}(i,o),1===o[Xe].type&&o[kt].destroy();const a=o[Bi];if(null!==a&&Mn(o[Bn])){a!==o[Bn]&&UE(a,o);const c=o[mi];null!==c&&c.detachView(i)}!function kh(i){Rh.delete(i[cs])}(o)}}function Nl(i,o,a){return function pc(i,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[Kn];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:f}=i.data[c.directiveStart+d];if(f===at.None||f===at.Emulated)return null}return Di(c,a)}}(i,o.parent,a)}function gc(i,o,a,c,d){i.insertBefore(o,a,c,d)}function $E(i,o,a){i.appendChild(o,a)}function HE(i,o,a,c,d){null!==c?gc(i,o,a,c,d):$E(i,o,a)}function cg(i,o){return i.parentNode(o)}let Tv,KE,hg,bv=function zE(i,o,a){return 40&i.type?Di(i,a):null};function $h(i,o,a,c){const d=Nl(i,c,o),f=o[kt],_=function GE(i,o,a){return bv(i,o,a)}(c.parent||o[Wr],c,o);if(null!=d)if(Array.isArray(a))for(let I=0;I<a.length;I++)HE(f,d,a[I],_,!1);else HE(f,d,a,_,!1);void 0!==Tv&&Tv(f,c,o,a,d)}function $o(i,o){if(null!==o){const a=o.type;if(3&a)return Di(o,i);if(4&a)return Av(-1,i[o.index]);if(8&a){const c=o.child;if(null!==c)return $o(i,c);{const d=i[o.index];return Mn(d)?Av(-1,d):$n(d)}}if(32&a)return Ds(o,i)()||$n(i[o.index]);{const c=Sv(i,o);return null!==c?Array.isArray(c)?c[0]:$o(Ea(i[Tr]),c):$o(i,o.next)}}return null}function Sv(i,o){return null!==o?i[Tr][Wr].projection[o.projection]:null}function Av(i,o){const a=Bt+i+1;if(a<o.length){const c=o[a],d=c[Xe].firstChild;if(null!==d)return $o(c,d)}return o[et]}function Hh(i,o,a,c,d,f,y){for(;null!=a;){const _=c[a.index],I=a.type;if(y&&0===o&&(_&&Gi($n(_),c),a.flags|=2),32!=(32&a.flags))if(8&I)Hh(i,o,a.child,c,d,f,!1),Pl(o,i,d,_,f);else if(32&I){const D=Ds(a,c);let S;for(;S=D();)Pl(o,i,d,S,f);Pl(o,i,d,_,f)}else 16&I?xv(i,o,c,a,d,f):Pl(o,i,d,_,f);a=y?a.projectionNext:a.next}}function Gh(i,o,a,c,d,f){Hh(a,c,i.firstChild,o,d,f,!1)}function xv(i,o,a,c,d,f){const y=a[Tr],I=y[Wr].projection[c.projection];if(Array.isArray(I))for(let D=0;D<I.length;D++)Pl(o,i,d,I[D],f);else{let D=I;const S=y[Bn];ng(c)&&(D.flags|=128),Hh(i,o,D,S,d,f,!0)}}function WE(i,o,a){""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a)}function zh(i,o,a){const{mergedAttrs:c,classes:d,styles:f}=a;null!==c&&ri(i,o,c),null!==d&&WE(i,o,d),null!==f&&function KT(i,o,a){i.setAttribute(o,"style",a)}(i,o,f)}function YE(i){KE=i}function XE(i){return function Pv(){if(void 0===hg&&(hg=null,Kt.trustedTypes))try{hg=Kt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return hg}()?.createScriptURL(i)||i}class eI{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ft})`}}function cu(i){return i instanceof eI?i.changingThisBreaksApplicationSecurity:i}function Fl(i,o){const a=function fg(i){return i instanceof eI&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${ft})`)}return a===o}const qh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Kh=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(Kh||{});function Yh(i){const o=Qh();return o?o.sanitize(Kh.URL,i)||"":Fl(i,"URL")?cu(i):function gg(i){return(i=String(i)).match(qh)?i:"unsafe:"+i}(ue(i))}function cI(i){const o=Qh();if(o)return XE(o.sanitize(Kh.RESOURCE_URL,i)||"");if(Fl(i,"ResourceURL"))return XE(cu(i));throw new ee(904,!1)}function l1(i,o,a){return function c1(i,o){return"src"===o&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===o&&("base"===i||"link"===i)?cI:Yh}(o,a)(i)}function Qh(){const i=Le();return i&&i[Ei].sanitizer}class zn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=yt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ll=new zn("ENVIRONMENT_INITIALIZER"),dI=new zn("INJECTOR",-1),hI=new zn("INJECTOR_DEF_TYPES");class yg{get(o,a=He){if(a===He){const c=new Error(`NullInjectorError: No provider for ${ne(o)}!`);throw c.name="NullInjectorError",c}return a}}function Vv(i){return{\u0275providers:i}}function d1(...i){return{\u0275providers:fI(0,i),\u0275fromNgModule:!0}}function fI(i,...o){const a=[],c=new Set;let d;const f=y=>{a.push(y)};return iu(o,y=>{const _=y;vg(_,f,[],c)&&(d||=[],d.push(_))}),void 0!==d&&pI(d,f),a}function pI(i,o){for(let a=0;a<i.length;a++){const{ngModule:c,providers:d}=i[a];Uv(d,f=>{o(f,c)})}}function vg(i,o,a,c){if(!(i=ke(i)))return!1;let d=null,f=Zn(i);const y=!f&&Cn(i);if(f||y){if(y&&!y.standalone)return!1;d=i}else{const I=i.ngModule;if(f=Zn(I),!f)return!1;d=I}const _=c.has(d);if(y){if(_)return!1;if(c.add(d),y.dependencies){const I="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const D of I)vg(D,o,a,c)}}else{if(!f)return!1;{if(null!=f.imports&&!_){let D;c.add(d);try{iu(f.imports,S=>{vg(S,o,a,c)&&(D||=[],D.push(S))})}finally{}void 0!==D&&pI(D,o)}if(!_){const D=Qs(d)||(()=>new d);o({provide:d,useFactory:D,deps:lt},d),o({provide:hI,useValue:d,multi:!0},d),o({provide:Ll,useValue:()=>Qe(d),multi:!0},d)}const I=f.providers;if(null!=I&&!_){const D=i;Uv(I,S=>{o(S,D)})}}}return d!==i&&void 0!==i.providers}function Uv(i,o){for(let a of i)Ae(a)&&(a=a.\u0275providers),Array.isArray(a)?Uv(a,o):o(a)}const BM=V({provide:String,useValue:V});function gI(i){return null!==i&&"object"==typeof i&&BM in i}function Vl(i){return"function"==typeof i}const _g=new zn("Set Injector scope."),wg={},g1={};let Bv;function Eg(){return void 0===Bv&&(Bv=new yg),Bv}class Qn{}class Ul extends Qn{get destroyed(){return this._destroyed}constructor(o,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fn(o,y=>this.processProvider(y)),this.records.set(dI,we(void 0,this)),d.has("environment")&&this.records.set(Qn,we(void 0,this));const f=this.records.get(_g);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(hI.multi,lt,wt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of o)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const a=X(this),c=Rt(void 0);try{return o()}finally{X(a),Rt(c)}}get(o,a=He,c=wt.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(Fs))return o[Fs](this);c=mn(c);const f=X(this),y=Rt(void 0);try{if(!(c&wt.SkipSelf)){let I=this.records.get(o);if(void 0===I){const D=function lu(i){return"function"==typeof i||"object"==typeof i&&i instanceof zn}(o)&&Ln(o);I=D&&this.injectableDefInScope(D)?we(jv(o),wg):null,this.records.set(o,I)}if(null!=I)return this.hydrate(o,I)}return(c&wt.Self?Eg():this.parent).get(o,a=c&wt.Optional&&a===He?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[Et]=_[Et]||[]).unshift(ne(o)),f)throw _;return function yr(i,o,a,c){const d=i[Et];throw o[P]&&d.unshift(o[P]),i.message=function K(i,o,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=ne(o);if(Array.isArray(o))d=o.map(ne).join(" -> ");else if("object"==typeof o){let f=[];for(let y in o)if(o.hasOwnProperty(y)){let _=o[y];f.push(y+":"+("string"==typeof _?JSON.stringify(_):ne(_)))}d=`{${f.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(G,"\n  ")}`}("\n"+i.message,d,a,c),i.ngTokenPath=d,i[Et]=null,i}(_,o,"R3InjectorError",this.source)}throw _}finally{Rt(y),X(f)}}resolveInjectorInitializers(){const o=X(this),a=Rt(void 0);try{const d=this.get(Ll.multi,lt,wt.Self);for(const f of d)f()}finally{X(o),Rt(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(ne(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ee(205,!1)}processProvider(o){let a=Vl(o=ke(o))?o:ke(o&&o.provide);const c=function $M(i){return gI(i)?we(void 0,i.useValue):we(mI(i),wg)}(o);if(Vl(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=we(void 0,wg,!0),d.factory=()=>Vt(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===wg&&(a.value=g1,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Cg(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=ke(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(o){const a=this._onDestroyHooks.indexOf(o);-1!==a&&this._onDestroyHooks.splice(a,1)}}function jv(i){const o=Ln(i),a=null!==o?o.factory:Qs(i);if(null!==a)return a;if(i instanceof zn)throw new ee(204,!1);if(i instanceof Function)return function Oi(i){const o=i.length;if(o>0)throw function Bo(i,o){const a=[];for(let c=0;c<i;c++)a.push(o);return a}(o,"?"),new ee(204,!1);const a=function sr(i){return i&&(i[Vn]||i[tr])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new ee(204,!1)}function mI(i,o,a){let c;if(Vl(i)){const d=ke(i);return Qs(d)||jv(d)}if(gI(i))c=()=>ke(i.useValue);else if(function p1(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...Vt(i.deps||[]));else if(function f1(i){return!(!i||!i.useExisting)}(i))c=()=>Qe(ke(i.useExisting));else{const d=ke(i&&(i.useClass||i.provide));if(!function Ig(i){return!!i.deps}(i))return Qs(d)||jv(d);c=()=>new d(...Vt(i.deps))}return c}function we(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function Fn(i,o){for(const a of i)Array.isArray(a)?Fn(a,o):a&&Ae(a)?Fn(a.\u0275providers,o):o(a)}const yI=new zn("AppId",{providedIn:"root",factory:()=>uo}),uo="ng",pt=new zn("Platform Initializer"),Jh=new zn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Xh=new zn("CSP nonce",{providedIn:"root",factory:()=>function mc(){if(void 0!==KE)return KE;if(typeof document<"u")return document;throw new ee(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let _I=(i,o,a)=>null;function ef(i,o,a=!1){return _I(i,o,a)}class w1{}class zl{}class Jv{resolveComponentFactory(o){throw function E1(i){const o=Error(`No component factory found for ${ne(i)}.`);return o.ngComponent=i,o}(o)}}let bg=(()=>{class i{static#e=this.NULL=new Jv}return i})();function DI(){return _c(oi(),Le())}function _c(i,o){return new ql(Di(i,o))}let ql=(()=>{class i{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=DI}return i})();function Tg(i){return i instanceof ql?i.nativeElement:i}class Sg{}let Xv=(()=>{class i{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function e_(){const i=Le(),a=$i(oi().index,i);return(Yn(a)?a:i)[kt]}()}return i})(),t_=(()=>{class i{static#e=this.\u0275prov=yt({token:i,providedIn:"root",factory:()=>null})}return i})();class n_{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const r_=new n_("16.2.8"),i_={};function Pg(i,o=null,a=null,c){const d=TI(i,o,a,c);return d.resolveInjectorInitializers(),d}function TI(i,o=null,a=null,c,d=new Set){const f=[a||lt,d1(i)];return c=c||("object"==typeof i?void 0:ne(i)),new Ul(f,o||Eg(),c||null,d)}let co=(()=>{class i{static#e=this.THROW_IF_NOT_FOUND=He;static#t=this.NULL=new yg;static create(a,c){if(Array.isArray(a))return Pg({name:""},c,a,"");{const d=a.name??"";return Pg({name:d},a.parent,a.providers,d)}}static#n=this.\u0275prov=yt({token:i,providedIn:"any",factory:()=>Qe(dI)});static#r=this.__NG_ELEMENT_ID__=-1}return i})();function a_(i){return i.ngOriginalError}class fu{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&a_(o);for(;a&&a_(a);)a=a_(a);return a||null}}function Rg(i){return o=>{setTimeout(i,void 0,o)}}const Go=class c_ extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let d=o,f=a||(()=>null),y=c;if(o&&"object"==typeof o){const I=o;d=I.next?.bind(I),f=I.error?.bind(I),y=I.complete?.bind(I)}this.__isAsync&&(f=Rg(f),d&&(d=Rg(d)),y&&(y=Rg(y)));const _=super.subscribe({next:d,error:f,complete:y});return o instanceof U.w0&&o.add(_),_}};function rf(...i){}class di{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Go(!1),this.onMicrotaskEmpty=new Go(!1),this.onStable=new Go(!1),this.onError=new Go(!1),typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function l_(){const i="function"==typeof Kt.requestAnimationFrame;let o=Kt[i?"requestAnimationFrame":"setTimeout"],a=Kt[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function xI(i){const o=()=>{!function MI(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Kt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,kg(i),i.isCheckStableRunning=!0,wc(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),kg(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,f,y,_)=>{if(function S1(i){return!(!Array.isArray(i)||1!==i.length)&&!0===i[0].data?.__ignore_ng_zone__}(_))return a.invokeTask(d,f,y,_);try{return sf(i),a.invokeTask(d,f,y,_)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&o(),OI(i)}},onInvoke:(a,c,d,f,y,_,I)=>{try{return sf(i),a.invoke(d,f,y,_,I)}finally{i.shouldCoalesceRunChangeDetection&&o(),OI(i)}},onHasTask:(a,c,d,f)=>{a.hasTask(d,f),c===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,kg(i),wc(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,d,f)=>(a.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!di.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(di.isInAngularZone())throw new ee(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,d){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+d,o,b1,rf,rf);try{return f.runTask(y,a,c)}finally{f.cancelTask(y)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const b1={};function wc(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function kg(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function sf(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function OI(i){i._nesting--,wc(i)}class T1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Go,this.onMicrotaskEmpty=new Go,this.onStable=new Go,this.onError=new Go}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,d){return o.apply(a,c)}}const Ec=new zn("",{providedIn:"root",factory:PI});function PI(){const i=ot(di);let o=!0;const a=new N.y(d=>{o=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{d.next(o),d.complete()})}),c=new N.y(d=>{let f;i.runOutsideAngular(()=>{f=i.onStable.subscribe(()=>{di.assertNotInAngularZone(),queueMicrotask(()=>{!o&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(o=!0,d.next(!0))})})});const y=i.onUnstable.subscribe(()=>{di.assertInAngularZone(),o&&(o=!1,i.runOutsideAngular(()=>{d.next(!1)}))});return()=>{f.unsubscribe(),y.unsubscribe()}});return(0,Y.T)(a,c.pipe((0,_e.B)()))}function bs(i){return i instanceof Function?i():i}let Fg=(()=>{class i{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=yt({token:i,providedIn:"root",factory:()=>new i})}return i})();function bc(i){for(;i;){i[qt]|=64;const o=Ea(i);if(Ii(i)&&!o)return i;i=o}return null}const Zl=new zn("",{providedIn:"root",factory:()=>!1});let lf=null;function Yl(i,o){return i[o]??pu()}function y_(i,o){const a=pu();a.producerNode?.length&&(i[o]=lf,a.lView=i,lf=Ql())}const Ug={...oh,consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{bc(i.lView)},lView:null};function Ql(){return Object.create(Ug)}function pu(){return lf??=Ql(),lf}const tn={};function FI(i){LI(Sn(),Le(),Ti()+i,!1)}function LI(i,o,a,c){if(!c)if(3==(3&o[qt])){const f=i.preOrderCheckHooks;null!==f&&Qa(o,f,a)}else{const f=i.preOrderHooks;null!==f&&Ja(o,f,0,a)}eo(a)}function Tc(i,o=wt.Default){const a=Le();return null===a?Qe(i,o):Sh(oi(),a,ke(i),o)}function v_(){throw new Error("invalid")}function zo(i,o,a,c,d,f,y,_,I,D,S){const L=o.blueprint.slice();return L[Kn]=d,L[qt]=140|c,(null!==D||i&&2048&i[qt])&&(L[qt]|=2048),xp(L),L[Bn]=L[br]=i,L[fr]=a,L[Ei]=y||i&&i[Ei],L[kt]=_||i&&i[kt],L[ws]=I||i&&i[ws]||null,L[Wr]=f,L[cs]=function ig(){return xT++}(),L[Es]=S,L[Xc]=D,L[Tr]=2==o.type?i[Tr]:L,L}function gs(i,o,a,c,d){let f=i.data[o];if(null===f)f=function Jl(i,o,a,c,d){const f=dl(),y=Fp(),I=i.data[o]=function BI(i,o,a,c,d,f){let y=o?o.injectorIndex:-1,_=0;return function xo(){return null!==zt.skipHydrationRootTNode}()&&(_|=128),{type:a,index:c,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:_,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,a,o,c,d);return null===i.firstChild&&(i.firstChild=I),null!==f&&(y?null==f.child&&null!==I.parent&&(f.child=I):null===f.next&&(f.next=I,I.prev=f)),I}(i,o,a,c,d),function DE(){return zt.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=a,f.value=c,f.attrs=d;const y=function Ju(){const i=zt.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return $s(f,!0),f}function gu(i,o,a,c){if(0===a)return-1;const d=o.length;for(let f=0;f<a;f++)o.push(c),i.blueprint.push(c),i.data.push(null);return d}function __(i,o,a,c,d){const f=Yl(o,B),y=Ti(),_=2&c;try{eo(-1),_&&o.length>j&&LI(i,o,j,!1),js(_?2:0,d);const D=_?f:null,S=Ip(D);try{null!==D&&(D.dirty=!1),a(c,d)}finally{nl(D,S)}}finally{_&&null===o[B]&&y_(o,B),eo(y),js(_?3:1,d)}}function rr(i,o,a){if(To(o)){const c=Ci(null);try{const f=o.directiveEnd;for(let y=o.directiveStart;y<f;y++){const _=i.data[y];_.contentQueries&&_.contentQueries(1,a[y],y)}}finally{Ci(c)}}}function Xl(i,o,a){Ka()&&(function HI(i,o,a,c){const d=a.directiveStart,f=a.directiveEnd;Ji(a)&&function zI(i,o,a){const c=Di(o,i),d=ed(a);let y=16;a.signals?y=4096:a.onPush&&(y=64);const _=Gg(i,zo(i,d,null,y,c,o,null,i[Ei].rendererFactory.createRenderer(c,a),null,null,null));i[o.index]=_}(o,a,i.data[d+a.componentOffset]),i.firstCreatePass||_r(a,o),Gi(c,o);const y=a.initialInputs;for(let _=d;_<f;_++){const I=i.data[_],D=ma(o,i,_,a);Gi(D,o),null!==y&&B1(0,_-d,D,I,0,y),ar(I)&&($i(a.index,o)[fr]=ma(o,i,_,a))}}(i,o,a,Di(a,o)),64==(64&a.flags)&&GI(i,o,a))}function Sc(i,o,a=Di){const c=o.localNames;if(null!==c){let d=o.index+1;for(let f=0;f<c.length;f+=2){const y=c[f+1],_=-1===y?a(o,i):i[y];i[d++]=_}}}function ed(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=w_(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):o}function w_(i,o,a,c,d,f,y,_,I,D,S){const L=j+c,Z=L+d,ie=function VI(i,o){const a=[];for(let c=0;c<o;c++)a.push(c<i?null:tn);return a}(L,Z),Re="function"==typeof D?D():D;return ie[Xe]={type:i,blueprint:ie,template:a,queries:null,viewQuery:_,declTNode:o,data:ie.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:Z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:Re,incompleteFirstPass:!1,ssrId:S}}let UI=i=>null;function E_(i,o,a,c){for(let d in i)if(i.hasOwnProperty(d)){a=null===a?{}:a;const f=i[d];null===c?I_(a,o,d,f):c.hasOwnProperty(d)&&I_(a,o,c[d],f)}return a}function I_(i,o,a,c){i.hasOwnProperty(a)?i[a].push(o,c):i[a]=[o,c]}function Bg(i,o,a,c){if(Ka()){const d=null===c?null:{"":-1},f=function U1(i,o){const a=i.directiveRegistry;let c=null,d=null;if(a)for(let f=0;f<a.length;f++){const y=a[f];if(ua(o,y.selectors,!1))if(c||(c=[]),ar(y))if(null!==y.findHostDirectiveDefs){const _=[];d=d||new Map,y.findHostDirectiveDefs(y,_,d),c.unshift(..._,y),D_(i,o,_.length)}else c.unshift(y),D_(i,o,0);else d=d||new Map,y.findHostDirectiveDefs?.(y,c,d),c.push(y)}return null===c?null:[c,d]}(i,a);let y,_;null===f?y=_=null:[y,_]=f,null!==y&&jg(i,o,a,y,d,_),d&&function $g(i,o,a){if(o){const c=i.localNames=[];for(let d=0;d<o.length;d+=2){const f=a[o[d+1]];if(null==f)throw new ee(-301,!1);c.push(o[d],f)}}}(a,c,d)}a.mergedAttrs=_s(a.mergedAttrs,a.attrs)}function jg(i,o,a,c,d,f){for(let D=0;D<c.length;D++)tu(_r(a,o),i,c[D].type);!function Hg(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}(a,i.data.length,c.length);for(let D=0;D<c.length;D++){const S=c[D];S.providersResolver&&S.providersResolver(S)}let y=!1,_=!1,I=gu(i,o,c.length,null);for(let D=0;D<c.length;D++){const S=c[D];a.mergedAttrs=_s(a.mergedAttrs,S.hostAttrs),b_(i,a,o,I,S),hf(I,S,d),null!==S.contentQueries&&(a.flags|=4),(null!==S.hostBindings||null!==S.hostAttrs||0!==S.hostVars)&&(a.flags|=64);const L=S.type.prototype;!y&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((i.preOrderHooks??=[]).push(a.index),y=!0),!_&&(L.ngOnChanges||L.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(a.index),_=!0),I++}!function td(i,o,a){const d=o.directiveEnd,f=i.data,y=o.attrs,_=[];let I=null,D=null;for(let S=o.directiveStart;S<d;S++){const L=f[S],Z=a?a.get(L):null,Re=Z?Z.outputs:null;I=E_(L.inputs,S,I,Z?Z.inputs:null),D=E_(L.outputs,S,D,Re);const Ke=null===I||null===y||Ui(o)?null:qI(I,S,y);_.push(Ke)}null!==I&&(I.hasOwnProperty("class")&&(o.flags|=8),I.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=_,o.inputs=I,o.outputs=D}(i,a,f)}function GI(i,o,a){const c=a.directiveStart,d=a.directiveEnd,f=a.index,y=function bE(){return zt.lFrame.currentDirectiveIndex}();try{eo(f);for(let _=c;_<d;_++){const I=i.data[_],D=o[_];Bp(_),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&V1(I,D)}}finally{eo(-1),Bp(y)}}function V1(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function D_(i,o,a){o.componentOffset=a,(i.components??=[]).push(o.index)}function hf(i,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=i;ar(o)&&(a[""]=i)}}function b_(i,o,a,c,d){i.data[c]=d;const f=d.factory||(d.factory=Qs(d.type)),y=new Ro(f,ar(d),Tc);i.blueprint[c]=y,a[c]=y,function C_(i,o,a,c,d){const f=d.hostBindings;if(f){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const _=~o.index;(function $I(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(y)!=_&&y.push(_),y.push(a,c,f)}}(i,o,c,gu(i,a,d.hostVars,tn),d)}function ms(i,o,a,c,d,f){const y=Di(i,o);!function Ac(i,o,a,c,d,f,y){if(null==f)i.removeAttribute(o,d,a);else{const _=null==y?ue(f):y(f,c||"",d);i.setAttribute(o,d,_,a)}}(o[kt],y,f,i.value,a,c,d)}function B1(i,o,a,c,d,f){const y=f[o];if(null!==y)for(let _=0;_<y.length;)Mr(c,a,y[_++],y[_++],y[_++])}function Mr(i,o,a,c,d){const f=Ci(null);try{const y=i.inputTransforms;null!==y&&y.hasOwnProperty(c)&&(d=y[c].call(o,d)),null!==i.setInput?i.setInput(o,d,a,c):o[c]=d}finally{Ci(f)}}function qI(i,o,a){let c=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;if(i.hasOwnProperty(f)){null===c&&(c=[]);const y=i[f];for(let _=0;_<y.length;_+=2)if(y[_]===o){c.push(f,y[_+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function WI(i,o,a,c){return[i,!0,!1,o,null,0,c,a,null,null,null]}function ZI(i,o){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const f=a[c+1];if(-1!==f){const y=i.data[f];jp(a[c]),y.contentQueries(2,o[f],f)}}}function Gg(i,o){return i[da]?i[th][si]=o:i[da]=o,i[th]=o,o}function zg(i,o,a){jp(0);const c=Ci(null);try{o(i,a)}finally{Ci(c)}}function T_(i){return i[bo]||(i[bo]=[])}function ff(i){return i.cleanup||(i.cleanup=[])}function lo(i,o){const a=i[ws],c=a?a.get(fu,null):null;c&&c.handleError(o)}function qg(i,o,a,c,d){for(let f=0;f<a.length;){const y=a[f++],_=a[f++];Mr(i.data[y],o[y],c,_,d)}}function Ca(i,o,a){const c=Xs(o,i);!function hc(i,o,a){i.setValue(o,a)}(i[kt],c,a)}function KI(i,o){const a=$i(o,i),c=a[Xe];!function A_(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])}(c,a);const d=a[Kn];null!==d&&null===a[Es]&&(a[Es]=ef(d,a[ws])),Mc(c,a,a[fr])}function Mc(i,o,a){bi(o);try{const c=i.viewQuery;null!==c&&zg(1,c,a);const d=i.template;null!==d&&__(i,o,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&ZI(i,o),i.staticViewQueries&&zg(2,i.viewQuery,a);const f=i.components;null!==f&&function YI(i,o){for(let a=0;a<o.length;a++)KI(i,o[a])}(o,f)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{o[qt]&=-5,ui()}}let Wg=(()=>{class i{constructor(){this.all=new Set,this.queue=new Map}create(a,c,d){const f=typeof Zone>"u"?null:Zone.current,y=function Yy(i,o,a){const c=Object.create(_E);a&&(c.consumerAllowSignalWrites=!0),c.fn=i,c.schedule=o;const d=y=>{c.cleanupFn=y};return c.ref={notify:()=>Hy(c),run:()=>{if(c.dirty=!1,c.hasRun&&!Gy(c))return;c.hasRun=!0;const y=Ip(c);try{c.cleanupFn(),c.cleanupFn=Ap,c.fn(d)}finally{nl(c,y)}},cleanup:()=>c.cleanupFn()},c.ref}(a,D=>{this.all.has(D)&&this.queue.set(D,f)},d);let _;this.all.add(y),y.notify();const I=()=>{y.cleanup(),_?.(),this.all.delete(y),this.queue.delete(y)};return _=c?.onDestroy(I),{destroy:I}}flush(){if(0!==this.queue.size)for(const[a,c]of this.queue)this.queue.delete(a),c?c.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=yt({token:i,providedIn:"root",factory:()=>new i})}return i})();function pf(i,o,a){let c=a?i.styles:null,d=a?i.classes:null,f=0;if(null!==o)for(let y=0;y<o.length;y++){const _=o[y];"number"==typeof _?f=_:1==f?d=Ue(d,_):2==f&&(c=Ue(c,_+": "+o[++y]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}function yu(i,o,a,c,d=!1){for(;null!==a;){const f=o[a.index];null!==f&&c.push($n(f)),Mn(f)&&QI(f,c);const y=a.type;if(8&y)yu(i,o,a.child,c);else if(32&y){const _=Ds(a,o);let I;for(;I=_();)c.push(I)}else if(16&y){const _=Sv(o,a);if(Array.isArray(_))c.push(..._);else{const I=Ea(o[Tr]);yu(I[Xe],I,_,c,!0)}}a=d?a.projectionNext:a.next}return c}function QI(i,o){for(let a=Bt;a<i.length;a++){const c=i[a],d=c[Xe].firstChild;null!==d&&yu(c[Xe],c,d,o)}i[et]!==i[Kn]&&o.push(i[et])}function gf(i,o,a,c=!0){const d=o[Ei],f=d.rendererFactory,y=d.afterRenderEventManager;f.begin?.(),y?.begin();try{M_(i,o,i.template,a)}catch(I){throw c&&lo(o,I),I}finally{f.end?.(),d.effectManager?.flush(),y?.end()}}function M_(i,o,a,c){const d=o[qt];if(256!=(256&d)){o[Ei].effectManager?.flush(),bi(o);try{xp(o),function sv(i){return zt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&__(i,o,a,2,c);const y=3==(3&d);if(y){const D=i.preOrderCheckHooks;null!==D&&Qa(o,D,null)}else{const D=i.preOrderHooks;null!==D&&Ja(o,D,0,null),fl(o,0)}if(function x_(i){for(let o=VE(i);null!==o;o=Cv(o)){if(!o[We])continue;const a=o[Ft];for(let c=0;c<a.length;c++){Yu(a[c])}}}(o),Yg(o,2),null!==i.contentQueries&&ZI(i,o),y){const D=i.contentCheckHooks;null!==D&&Qa(o,D)}else{const D=i.contentHooks;null!==D&&Ja(o,D,1),fl(o,1)}!function O1(i,o){const a=i.hostBindingOpCodes;if(null===a)return;const c=Yl(o,F);try{for(let d=0;d<a.length;d++){const f=a[d];if(f<0)eo(~f);else{const y=f,_=a[++d],I=a[++d];Up(_,y),c.dirty=!1;const D=Ip(c);try{I(2,o[y])}finally{nl(c,D)}}}}finally{null===o[F]&&y_(o,F),eo(-1)}}(i,o);const _=i.components;null!==_&&O_(o,_,0);const I=i.viewQuery;if(null!==I&&zg(2,I,c),y){const D=i.viewCheckHooks;null!==D&&Qa(o,D)}else{const D=i.viewHooks;null!==D&&Ja(o,D,2),fl(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[qt]&=-73,ev(o)}finally{ui()}}}function Yg(i,o){for(let a=VE(i);null!==a;a=Cv(a))for(let c=Bt;c<a.length;c++)mf(a[c],o)}function XI(i,o,a){mf($i(o,i),a)}function mf(i,o){if(!function IE(i){return 128==(128&i[qt])}(i))return;const a=i[Xe],c=i[qt];if(80&c&&0===o||1024&c||2===o)M_(a,i,a.template,i[fr]);else if(i[Bs]>0){Yg(i,1);const d=a.components;null!==d&&O_(i,d,1)}}function O_(i,o,a){for(let c=0;c<o.length;c++)XI(i,o[c],a)}class nd{get rootNodes(){const o=this._lView,a=o[Xe];return yu(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fr]}set context(o){this._lView[fr]=o}get destroyed(){return 256==(256&this._lView[qt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Bn];if(Mn(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(ug(o,c),su(a,c))}this._attachedToViewContainer=!1}Dv(this._lView[Xe],this._lView)}onDestroy(o){!function vh(i,o){if(256==(256&i[qt]))throw new ee(911,!1);null===i[Ys]&&(i[Ys]=[]),i[Ys].push(o)}(this._lView,o)}markForCheck(){bc(this._cdRefInjectingView||this._lView)}detach(){this._lView[qt]&=-129}reattach(){this._lView[qt]|=128}detectChanges(){gf(this._lView[Xe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Bh(i,o){Gh(i,o,o[kt],2,null,null)}(this._lView[Xe],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=o}}class xc extends nd{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;gf(o[Xe],o,o[fr],!1)}checkNoChanges(){}get context(){return null}}class P_ extends bg{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Cn(o);return new vu(a,this.ngModule)}}function N_(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class tC{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){c=mn(c);const d=this.injector.get(o,i_,c);return d!==i_||a===i_?d:this.parentInjector.get(o,a,c)}}class vu extends zl{get inputs(){const o=this.componentDef,a=o.inputTransforms,c=N_(o.inputs);if(null!==a)for(const d of c)a.hasOwnProperty(d.propName)&&(d.transform=a[d.propName]);return c}get outputs(){return N_(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function In(i){return i.map(En).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,c,d){let f=(d=d||this.ngModule)instanceof Qn?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const y=f?new tC(o,f):o,_=y.get(Sg,null);if(null===_)throw new ee(407,!1);const L={rendererFactory:_,sanitizer:y.get(t_,null),effectManager:y.get(Wg,null),afterRenderEventManager:y.get(Fg,null)},Z=_.createRenderer(null,this.componentDef),ie=this.componentDef.selectors[0][0]||"div",Re=c?function P1(i,o,a,c){const f=c.get(Zl,!1)||a===at.ShadowDom,y=i.selectRootElement(o,f);return function N1(i){UI(i)}(y),y}(Z,c,this.componentDef.encapsulation,y):ag(Z,ie,function eC(i){const o=i.toLowerCase();return"svg"===o?Mp:"math"===o?"math":null}(ie)),Mt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let $e=null;null!==Re&&($e=ef(Re,y,!0));const jt=w_(0,null,null,1,0,null,null,null,null,null,null),vn=zo(null,jt,null,Mt,null,null,L,Z,y,null,$e);let Wn,Zi;bi(vn);try{const Ps=this.componentDef;let Hd,Gd=null;Ps.findHostDirectiveDefs?(Hd=[],Gd=new Map,Ps.findHostDirectiveDefs(Ps,Hd,Gd),Hd.push(Ps)):Hd=[Ps];const Dy=function nC(i,o){const a=i[Xe],c=j;return i[c]=o,gs(a,c,2,"#host",null)}(vn,Re),jb=function rC(i,o,a,c,d,f,y){const _=d[Xe];!function rd(i,o,a,c){for(const d of i)o.mergedAttrs=_s(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(pf(o,o.mergedAttrs,!0),null!==a&&zh(c,a,o))}(c,i,o,y);let I=null;null!==o&&(I=ef(o,d[ws]));const D=f.rendererFactory.createRenderer(o,a);let S=16;a.signals?S=4096:a.onPush&&(S=64);const L=zo(d,ed(a),null,S,d[i.index],i,f,D,null,null,I);return _.firstCreatePass&&D_(_,i,c.length-1),Gg(d,L),d[i.index]=L}(Dy,Re,Ps,Hd,vn,L,Z);Zi=mh(jt,j),Re&&function ho(i,o,a,c){if(c)ri(i,a,["ng-version",r_.full]);else{const{attrs:d,classes:f}=function en(i){const o=[],a=[];let c=1,d=2;for(;c<i.length;){let f=i[c];if("string"==typeof f)2===d?""!==f&&o.push(f,i[++c]):8===d&&a.push(f);else{if(!zr(d))break;d=f}c++}return{attrs:o,classes:a}}(o.selectors[0]);d&&ri(i,a,d),f&&f.length>0&&WE(i,a,f.join(" "))}}(Z,Ps,Re,c),void 0!==a&&function R_(i,o,a){const c=i.projection=[];for(let d=0;d<o.length;d++){const f=a[d];c.push(null!=f?Array.from(f):null)}}(Zi,this.ngContentSelectors,a),Wn=function $1(i,o,a,c,d,f){const y=oi(),_=d[Xe],I=Di(y,d);jg(_,d,y,a,null,c);for(let S=0;S<a.length;S++)Gi(ma(d,_,y.directiveStart+S,y),d);GI(_,d,y),I&&Gi(I,d);const D=ma(d,_,y.directiveStart+y.componentOffset,y);if(i[fr]=d[fr]=D,null!==f)for(const S of f)S(D,o);return rr(_,y,i),D}(jb,Ps,Hd,Gd,vn,[Jn]),Mc(jt,vn,null)}finally{ui()}return new Ss(this.componentType,Wn,_c(Zi,vn),vn,Zi)}}class Ss extends w1{constructor(o,a,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new xc(d),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),a))return;const f=this._rootLView;qg(f[Xe],f,d,o,a),this.previousInputValues.set(o,a),bc($i(this._tNode.index,f))}}get injector(){return new jr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Jn(){const i=oi();Ya(Le()[Xe],i)}function yf(i){let o=function iC(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;o;){let d;if(ar(i))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ee(903,!1);d=o.\u0275dir}if(d){if(a){c.push(d);const y=i;y.inputs=vf(i.inputs),y.inputTransforms=vf(i.inputTransforms),y.declaredInputs=vf(i.declaredInputs),y.outputs=vf(i.outputs);const _=d.hostBindings;_&&F_(i,_);const I=d.viewQuery,D=d.contentQueries;if(I&&k_(i,I),D&&id(i,D),q(i.inputs,d.inputs),q(i.declaredInputs,d.declaredInputs),q(i.outputs,d.outputs),null!==d.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),q(y.inputTransforms,d.inputTransforms)),ar(d)&&d.data.animation){const S=i.data;S.animation=(S.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let y=0;y<f.length;y++){const _=f[y];_&&_.ngInherit&&_(i),_===yf&&(a=!1)}}o=Object.getPrototypeOf(o)}!function qo(i){let o=0,a=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=o+=d.hostVars,d.hostAttrs=_s(d.hostAttrs,a=_s(a,d.hostAttrs))}}(c)}function vf(i){return i===Ot?{}:i===lt?[]:i}function k_(i,o){const a=i.viewQuery;i.viewQuery=a?(c,d)=>{o(c,d),a(c,d)}:o}function id(i,o){const a=i.contentQueries;i.contentQueries=a?(c,d,f)=>{o(c,d,f),a(c,d,f)}:o}function F_(i,o){const a=i.hostBindings;i.hostBindings=a?(c,d)=>{o(c,d),a(c,d)}:o}function Oc(i){const o=i.inputConfig,a={};for(const c in o)if(o.hasOwnProperty(c)){const d=o[c];Array.isArray(d)&&d[2]&&(a[c]=d[2])}i.inputTransforms=a}function Qg(i){return!!B_(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function B_(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Wo(i,o,a){return i[o]=a}function zi(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function Pc(i,o,a,c){const d=zi(i,o,a);return zi(i,o+1,c)||d}function Yr(i,o,a,c){const d=Le();return zi(d,Xu(),o)&&(Sn(),ms(ur(),d,i,o,a,c)),Yr}function wu(i,o,a,c,d,f){const _=Pc(i,function Oo(){return zt.lFrame.bindingIndex}(),a,d);return Hs(2),_?o+ue(a)+c+ue(d)+f:tn}function gC(i,o,a,c,d,f,y,_){const I=Le(),D=Sn(),S=i+j,L=D.firstCreatePass?function go(i,o,a,c,d,f,y,_,I){const D=o.consts,S=gs(o,i,4,y||null,Mo(D,_));Bg(o,a,S,Mo(D,I)),Ya(o,S);const L=S.tView=w_(2,S,c,d,f,o.directiveRegistry,o.pipeRegistry,null,o.schemas,D,null);return null!==o.queries&&(o.queries.template(o,S),L.queries=o.queries.embeddedTView(S)),S}(S,D,I,o,a,c,d,f,y):D.data[S];$s(L,!1);const Z=ad(D,I,L,i);to()&&$h(D,I,Z,L),Gi(Z,I),Gg(I,I[S]=WI(Z,I,Z,L)),Is(L)&&Xl(D,I,L),null!=y&&Sc(I,L,_)}let ad=function Sa(i,o,a,c){return no(!0),o[kt].createComment("")};function nm(i){return Za(function rv(){return zt.lFrame.contextLView}(),j+i)}function z_(i,o,a){const c=Le();return zi(c,Xu(),o)&&function Ts(i,o,a,c,d,f,y,_){const I=Di(o,a);let S,D=o.inputs;!_&&null!=D&&(S=D[c])?(qg(i,a,S,c,d),Ji(o)&&function jI(i,o){const a=$i(o,i);16&a[qt]||(a[qt]|=64)}(a,o.index)):3&o.type&&(c=function k1(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=y?y(d,o.value||"",c):d,f.setProperty(I,c,d))}(Sn(),ur(),c,i,o,c[kt],a,!1),z_}function q_(i,o,a,c,d){const y=d?"class":"style";qg(i,a,o.inputs[y],y,c)}function Iu(i,o,a,c){const d=Le(),f=Sn(),y=j+i,_=d[kt],I=f.firstCreatePass?function xs(i,o,a,c,d,f){const y=o.consts,I=gs(o,i,2,c,Mo(y,d));return Bg(o,a,I,Mo(y,f)),null!==I.attrs&&pf(I,I.attrs,!1),null!==I.mergedAttrs&&pf(I,I.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,I),I}(y,f,d,o,a,c):f.data[y],D=ki(f,d,I,_,o,i);d[y]=D;const S=Is(I);return $s(I,!0),zh(_,D,I),32!=(32&I.flags)&&to()&&$h(f,d,D,I),0===function Pp(){return zt.lFrame.elementDepthCount}()&&Gi(D,d),function Np(){zt.lFrame.elementDepthCount++}(),S&&(Xl(f,d,I),rr(f,I,d)),null!==c&&Sc(d,I),Iu}function Cu(){let i=oi();Fp()?function Lp(){zt.lFrame.isParent=!1}():(i=i.parent,$s(i,!1));const o=i;(function Qu(i){return zt.skipHydrationRootTNode===i})(o)&&function kp(){zt.skipHydrationRootTNode=null}(),function tv(){zt.lFrame.elementDepthCount--}();const a=Sn();return a.firstCreatePass&&(Ya(a,i),To(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function ro(i){return 0!=(8&i.flags)}(o)&&q_(a,o,Le(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function gl(i){return 0!=(16&i.flags)}(o)&&q_(a,o,Le(),o.stylesWithoutHost,!1),Cu}function rm(i,o,a,c){return Iu(i,o,a,c),Cu(),rm}let ki=(i,o,a,c,d,f)=>(no(!0),ag(c,d,function Hp(){return zt.lFrame.currentNamespace}()));function _C(){return Le()}function Z_(i){return!!i&&"function"==typeof i.then}function wC(i){return!!i&&"function"==typeof i.subscribe}function K_(i,o,a,c){const d=Le(),f=Sn(),y=oi();return function IC(i,o,a,c,d,f,y){const _=Is(c),D=i.firstCreatePass&&ff(i),S=o[fr],L=T_(o);let Z=!0;if(3&c.type||y){const Ke=Di(c,o),ut=y?y(Ke):Ke,Mt=L.length,$e=y?vn=>y($n(vn[c.index])):c.index;let jt=null;if(!y&&_&&(jt=function X1(i,o,a,c){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const y=d[f];if(y===a&&d[f+1]===c){const _=o[bo],I=d[f+2];return _.length>I?_[I]:null}"string"==typeof y&&(f+=2)}return null}(i,o,d,c.index)),null!==jt)(jt.__ngLastListenerFn__||jt).__ngNextListenerFn__=f,jt.__ngLastListenerFn__=f,Z=!1;else{f=DC(c,o,S,f,!1);const vn=a.listen(ut,d,f);L.push(f,vn),D&&D.push(d,$e,Mt,Mt+1)}}else f=DC(c,o,S,f,!1);const ie=c.outputs;let Re;if(Z&&null!==ie&&(Re=ie[d])){const Ke=Re.length;if(Ke)for(let ut=0;ut<Ke;ut+=2){const Wn=o[Re[ut]][Re[ut+1]].subscribe(f),Zi=L.length;L.push(f,Wn),D&&D.push(d,c.index,Zi,-(Zi+1))}}}(f,d,d[kt],y,i,o,c),K_}function CC(i,o,a,c){try{return js(6,o,a),!1!==a(c)}catch(d){return lo(i,d),!1}finally{js(7,o,a)}}function DC(i,o,a,c,d){return function f(y){if(y===Function)return c;bc(i.componentOffset>-1?$i(i.index,o):o);let I=CC(o,a,c,y),D=f.__ngNextListenerFn__;for(;D;)I=CC(o,a,D,y)&&I,D=D.__ngNextListenerFn__;return d&&!1===I&&y.preventDefault(),I}}function bC(i=1){return function hl(i){return(zt.lFrame.contextLView=function Ch(i,o){for(;i>0;)o=o[br],i--;return o}(i,zt.lFrame.contextLView))[fr]}(i)}function Rc(i,o){return i<<17|o<<2}function Er(i){return i>>17&32767}function Du(i){return 2|i}function Jr(i){return(131068&i)>>2}function am(i,o){return-131069&i|o<<2}function $r(i){return 1|i}function bf(i,o,a,c,d){const f=i[a+1],y=null===o;let _=c?Er(f):Jr(f),I=!1;for(;0!==_&&(!1===I||y);){const S=i[_+1];um(i[_],o)&&(I=!0,i[_+1]=c?$r(S):Du(S)),_=c?Er(S):Jr(S)}I&&(i[a+1]=c?Du(f):$r(f))}function um(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&ou(i,o)>=0}const Or={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xC(i){return i.substring(Or.key,Or.keyEnd)}function Tf(i,o){const a=Or.textEnd;return a===o?-1:(o=Or.keyEnd=function OC(i,o,a){for(;o<a&&i.charCodeAt(o)>32;)o++;return o}(i,Or.key=o,a),Os(i,o,a))}function Os(i,o,a){for(;o<a&&i.charCodeAt(o)<=32;)o++;return o}function dm(i,o){return function _o(i,o,a,c){const d=Le(),f=Sn(),y=Hs(2);f.firstUpdatePass&&e0(f,i,y,c),o!==tn&&zi(d,y,o)&&qn(f,f.data[Ti()],d,d[kt],i,d[y+1]=function t0(i,o){return null==i||""===i||("string"==typeof o?i+=o:"object"==typeof i&&(i=ne(cu(i)))),i}(o,a),c,y)}(i,o,null,!0),dm}function hd(i){!function wo(i,o,a,c){const d=Sn(),f=Hs(2);d.firstUpdatePass&&e0(d,null,f,c);const y=Le();if(a!==tn&&zi(y,f,a)){const _=d.data[Ti()];if(n0(_,c)&&!X_(d,f)){let I=c?_.classesWithoutHost:_.stylesWithoutHost;null!==I&&(a=Ue(I,a||"")),q_(d,_,y,a,c)}else!function Pn(i,o,a,c,d,f,y,_){d===tn&&(d=lt);let I=0,D=0,S=0<d.length?d[0]:null,L=0<f.length?f[0]:null;for(;null!==S||null!==L;){const Z=I<d.length?d[I+1]:void 0,ie=D<f.length?f[D+1]:void 0;let Ke,Re=null;S===L?(I+=2,D+=2,Z!==ie&&(Re=L,Ke=ie)):null===L||null!==S&&S<L?(I+=2,Re=S):(D+=2,Re=L,Ke=ie),null!==Re&&qn(i,o,a,c,Re,Ke,y,_),S=I<d.length?d[I]:null,L=D<f.length?f[D]:null}}(d,_,y,y[kt],y[f+1],y[f+1]=function pd(i,o,a){if(null==a||""===a)return lt;const c=[],d=cu(a);if(Array.isArray(d))for(let f=0;f<d.length;f++)i(c,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&i(c,f,d[f]);else"string"==typeof d&&o(c,d);return c}(i,o,a),c,f)}}(kC,vo,i,!0)}function vo(i,o){for(let a=function Tu(i){return function cd(i){Or.key=0,Or.keyEnd=0,Or.value=0,Or.valueEnd=0,Or.textEnd=i.length}(i),Tf(i,Os(i,0,Or.textEnd))}(o);a>=0;a=Tf(o,a))es(i,xC(o),!0)}function X_(i,o){return o>=i.expandoStartIndex}function e0(i,o,a,c){const d=i.data;if(null===d[a+1]){const f=d[Ti()],y=X_(i,a);n0(f,c)&&null===o&&!y&&(o=!1),o=function Fi(i,o,a,c){const d=function Eh(i){const o=zt.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let f=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(a=fd(a=fm(null,i,o,a,c),o.attrs,c),f=null);else{const y=o.directiveStylingLast;if(-1===y||i[y]!==d)if(a=fm(d,i,o,a,c),null===f){let I=function NC(i,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==Jr(c))return i[Er(c)]}(i,o,c);void 0!==I&&Array.isArray(I)&&(I=fm(null,i,o,I[1],c),I=fd(I,o.attrs,c),function gr(i,o,a,c){i[Er(a?o.classBindings:o.styleBindings)]=c}(i,o,c,I))}else f=function Mu(i,o,a){let c;const d=o.directiveEnd;for(let f=1+o.directiveStylingLast;f<d;f++)c=fd(c,i[f].hostAttrs,a);return fd(c,o.attrs,a)}(i,o,c)}return void 0!==f&&(c?o.residualClasses=f:o.residualStyles=f),a}(d,f,o,c),function Fr(i,o,a,c,d,f){let y=f?o.classBindings:o.styleBindings,_=Er(y),I=Jr(y);i[c]=a;let S,D=!1;if(Array.isArray(a)?(S=a[1],(null===S||ou(a,S)>0)&&(D=!0)):S=a,d)if(0!==I){const Z=Er(i[_+1]);i[c+1]=Rc(Z,_),0!==Z&&(i[Z+1]=am(i[Z+1],c)),i[_+1]=function MC(i,o){return 131071&i|o<<17}(i[_+1],c)}else i[c+1]=Rc(_,0),0!==_&&(i[_+1]=am(i[_+1],c)),_=c;else i[c+1]=Rc(I,0),0===_?_=c:i[I+1]=am(i[I+1],c),I=c;D&&(i[c+1]=Du(i[c+1])),bf(i,S,c,!0),bf(i,S,c,!1),function Ma(i,o,a,c,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof o&&ou(f,o)>=0&&(a[c+1]=$r(a[c+1]))}(o,S,i,c,f),y=Rc(_,I),f?o.classBindings=y:o.styleBindings=y}(d,f,o,a,y,c)}}function fm(i,o,a,c,d){let f=null;const y=a.directiveEnd;let _=a.directiveStylingLast;for(-1===_?_=a.directiveStart:_++;_<y&&(f=o[_],c=fd(c,f.hostAttrs,d),f!==i);)_++;return null!==i&&(a.directiveStylingLast=_),c}function fd(i,o,a){const c=a?1:2;let d=-1;if(null!==o)for(let f=0;f<o.length;f++){const y=o[f];"number"==typeof y?d=y:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),es(i,y,!!a||o[++f]))}return void 0===i?null:i}function kC(i,o,a){const c=String(o);""!==c&&!c.includes(" ")&&es(i,c,a)}function qn(i,o,a,c,d,f,y,_){if(!(3&o.type))return;const I=i.data,D=I[_+1],S=function nS(i){return 1==(1&i)}(D)?Fc(I,o,a,d,Jr(D),y):void 0;gd(S)||(gd(f)||function pr(i){return 2==(2&i)}(D)&&(f=Fc(I,null,a,d,_,y)),function ZT(i,o,a,c,d){if(o)d?i.addClass(a,c):i.removeClass(a,c);else{let f=-1===c.indexOf("-")?void 0:Nh.DashCase;null==d?i.removeStyle(a,c,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=Nh.Important),i.setStyle(a,c,d,f))}}(c,y,Xs(Ti(),a),d,f))}function Fc(i,o,a,c,d,f){const y=null===o;let _;for(;d>0;){const I=i[d],D=Array.isArray(I),S=D?I[1]:I,L=null===S;let Z=a[d+1];Z===tn&&(Z=L?lt:void 0);let ie=L?xh(Z,c):S===c?Z:void 0;if(D&&!gd(ie)&&(ie=xh(I,c)),gd(ie)&&(_=ie,y))return _;const Re=i[d+1];d=y?Er(Re):Jr(Re)}if(null!==o){let I=f?o.residualClasses:o.residualStyles;null!=I&&(_=xh(I,c))}return _}function gd(i){return void 0!==i}function n0(i,o){return 0!=(i.flags&(o?8:16))}function pm(i,o=""){const a=Le(),c=Sn(),d=i+j,f=c.firstCreatePass?gs(c,d,1,o,null):c.data[d],y=r0(c,a,f,o,i);a[d]=y,to()&&$h(c,a,y,f),$s(f,!1)}let r0=(i,o,a,c,d)=>(no(!0),function og(i,o){return i.createText(o)}(o[kt],c));function s0(i){return gm("",i,""),s0}function gm(i,o,a){const c=Le(),d=function Ms(i,o,a,c){return zi(i,Xu(),a)?o+ue(a)+c:tn}(c,i,o,a);return d!==tn&&Ca(c,Ti(),d),gm}function o0(i,o,a,c,d){const f=Le(),y=wu(f,i,o,a,c,d);return y!==tn&&Ca(f,Ti(),y),o0}const xu=void 0;var ZC=["en",[["a","p"],["AM","PM"],xu],[["AM","PM"],xu,xu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xu,"{1} 'at' {0}",xu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Qo(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Jo={};function m0(i){const o=function YC(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Im(o);if(a)return a;const c=o.split("-")[0];if(a=Im(c),a)return a;if("en"===c)return ZC;throw new ee(701,!1)}function KC(i){return m0(i)[Uc.PluralCase]}function Im(i){return i in Jo||(Jo[i]=Kt.ng&&Kt.ng.common&&Kt.ng.common.locales&&Kt.ng.common.locales[i]),Jo[i]}var Uc=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(Uc||{});const _d="en-US";let y0=_d;function Io(i,o,a,c,d){if(i=ke(i),Array.isArray(i))for(let f=0;f<i.length;f++)Io(i[f],o,a,c,d);else{const f=Sn(),y=Le(),_=oi();let I=Vl(i)?i:ke(i.provide);const D=mI(i),S=1048575&_.providerIndexes,L=_.directiveStart,Z=_.providerIndexes>>20;if(Vl(i)||!i.multi){const ie=new Ro(D,d,Tc),Re=Nm(I,o,d?S:S+Z,L);-1===Re?(tu(_r(_,y),f,I),Pm(f,i,o.length),o.push(I),_.directiveStart++,_.directiveEnd++,d&&(_.providerIndexes+=1048576),a.push(ie),y.push(ie)):(a[Re]=ie,y[Re]=ie)}else{const ie=Nm(I,o,S+Z,L),Re=Nm(I,o,S,S+Z),ut=Re>=0&&a[Re];if(d&&!ut||!d&&!(ie>=0&&a[ie])){tu(_r(_,y),f,I);const Mt=function Hc(i,o,a,c,d){const f=new Ro(i,a,Tc);return f.multi=[],f.index=o,f.componentProviders=0,wD(f,d,c&&!a),f}(d?$c:Rm,a.length,d,c,D);!d&&ut&&(a[Re].providerFactory=Mt),Pm(f,i,o.length,0),o.push(I),_.directiveStart++,_.directiveEnd++,d&&(_.providerIndexes+=1048576),a.push(Mt),y.push(Mt)}else Pm(f,i,ie>-1?ie:Re,wD(a[d?Re:ie],D,!d&&c));!d&&c&&ut&&a[Re].componentProviders++}}}function Pm(i,o,a,c){const d=Vl(o),f=function jM(i){return!!i.useClass}(o);if(d||f){const I=(f?ke(o.useClass):o).prototype.ngOnDestroy;if(I){const D=i.destroyHooks||(i.destroyHooks=[]);if(!d&&o.multi){const S=D.indexOf(a);-1===S?D.push(a,[c,I]):D[S+1].push(c,I)}else D.push(a,I)}}}function wD(i,o,a){return a&&i.componentProviders++,i.multi.push(o)-1}function Nm(i,o,a,c){for(let d=a;d<c;d++)if(o[d]===i)return d;return-1}function Rm(i,o,a,c){return Ra(this.multi,[])}function $c(i,o,a,c){const d=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,_=ma(a,a[Xe],this.providerFactory.index,c);f=_.slice(0,y),Ra(d,f);for(let I=y;I<_.length;I++)f.push(_[I])}else f=[],Ra(d,f);return f}function Ra(i,o){for(let a=0;a<i.length;a++)o.push((0,i[a])());return o}function Sd(i,o=[]){return a=>{a.providersResolver=(c,d)=>function _D(i,o,a){const c=Sn();if(c.firstCreatePass){const d=ar(i);Io(a,c.data,c.blueprint,d,!0),Io(o,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,o)}}class Ou{}class km{}function P0(i,o){return new Fm(i,o??null,[])}class Fm extends Ou{constructor(o,a,c){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new P_(this);const d=ii(o);this._bootstrapComponents=bs(d.bootstrap),this._r3Injector=TI(o,a,[{provide:Ou,useValue:this},{provide:bg,useValue:this.componentFactoryResolver},...c],ne(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class N0 extends km{constructor(o){super(),this.moduleType=o}create(o){return new Fm(this.moduleType,o,[])}}class R0 extends Ou{constructor(o){super(),this.componentFactoryResolver=new P_(this),this.instance=null;const a=new Ul([...o.providers,{provide:Ou,useValue:this},{provide:bg,useValue:this.componentFactoryResolver}],o.parent||Eg(),o.debugName,new Set(["environment"]));this.injector=a,o.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Lf(i,o,a=null){return new R0({providers:i,parent:o,debugName:a,runEnvironmentInitializers:!0}).injector}let Vf=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const c=fI(0,a.type),d=c.length>0?Lf([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,d)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=yt({token:i,providedIn:"environment",factory:()=>new i(Qe(Qn))})}return i})();function Pu(i){i.getStandaloneInjector=o=>o.get(Vf).getOrCreateStandaloneInjector(i)}function j0(i,o,a){const c=ai()+i,d=Le();return d[c]===tn?Wo(d,c,a?o.call(a):o()):function _u(i,o){return i[o]}(d,c)}function Ad(i,o){const a=i[o];return a===tn?void 0:a}function G0(i,o,a,c,d,f,y,_){const I=o+a;return function ba(i,o,a,c,d){const f=Pc(i,o,a,c);return zi(i,o+2,d)||f}(i,I,d,f,y)?Wo(i,I+3,_?c.call(_,d,f,y):c(d,f,y)):Ad(i,I+3)}function z0(i,o){const a=Sn();let c;const d=i+j;a.firstCreatePass?(c=function Ru(i,o){if(o)for(let a=o.length-1;a>=0;a--){const c=o[a];if(i===c.name)return c}}(o,a.pipeRegistry),a.data[d]=c,c.onDestroy&&(a.destroyHooks??=[]).push(d,c.onDestroy)):c=a.data[d];const f=c.factory||(c.factory=Qs(c.type)),_=Rt(Tc);try{const I=ci(!1),D=f();return ci(I),function mC(i,o,a,c){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),o[a]=c}(a,Le(),d,D),D}finally{Rt(_)}}function ku(i,o,a){const c=i+j,d=Le(),f=Za(d,c);return Md(d,c)?function H0(i,o,a,c,d,f){const y=o+a;return zi(i,y,d)?Wo(i,y+1,f?c.call(f,d):c(d)):Ad(i,y+1)}(d,ai(),o,f.transform,a,f):f.transform(a)}function zc(i,o,a,c,d){const f=i+j,y=Le(),_=Za(y,f);return Md(y,f)?G0(y,ai(),o,_.transform,a,c,d,_):_.transform(a,c,d)}function Md(i,o){return i[Xe].data[o].pure}function bS(){return this._results[Symbol.iterator]()}class Bm{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Go)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Bm.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=bS)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const d=function xi(i){return i.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Jp(i,o,a){if(i.length!==o.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],f=o[c];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function AS(i,o,a,c=!0){const d=o[Xe];if(function $T(i,o,a,c){const d=Bt+c,f=a.length;c>0&&(a[d-1][si]=o),c<f-Bt?(o[si]=a[d],lv(a,Bt+c,o)):(a.push(o),o[si]=null),o[Bn]=a;const y=o[Bi];null!==y&&a!==y&&function HT(i,o){const a=i[Ft];o[Tr]!==o[Bn][Bn][Tr]&&(i[We]=!0),null===a?i[Ft]=[o]:a.push(o)}(y,o);const _=o[mi];null!==_&&_.insertView(i),o[qt]|=128}(d,o,i,a),c){const f=Av(a,i),y=o[kt],_=cg(y,i[et]);null!==_&&function Uh(i,o,a,c,d,f){c[Kn]=d,c[Wr]=o,Gh(i,c,a,1,d,f)}(d,i[Wr],y,o,_,f)}}let xd=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=xS}return i})();const MS=xd,xD=class extends MS{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,a){return this.createEmbeddedViewImpl(o,a)}createEmbeddedViewImpl(o,a,c){const d=function TS(i,o,a,c){const d=o.tView,_=zo(i,d,a,4096&i[qt]?4096:16,null,o,null,null,null,c?.injector??null,c?.hydrationInfo??null);_[Bi]=i[o.index];const D=i[mi];return null!==D&&(_[mi]=D.createEmbeddedView(d)),Mc(d,_,a),_}(this._declarationLView,this._declarationTContainer,o,{injector:a,hydrationInfo:c});return new nd(d)}};function xS(){return zf(oi(),Le())}function zf(i,o){return 4&i.type?new xD(o,i,_c(i,o)):null}let jm=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=NS}return i})();function NS(){return Zf(oi(),Le())}const RS=jm,ND=class extends RS{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return _c(this._hostTNode,this._hostLView)}get injector(){return new jr(this._hostTNode,this._hostLView)}get parentInjector(){const o=ga(this._hostTNode,this._hostLView);if(ml(o)){const a=Kr(o,this._hostLView),c=Xi(o);return new jr(a[Xe].data[c+8],a)}return new jr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=$m(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-Bt}createEmbeddedView(o,a,c){let d,f;"number"==typeof c?d=c:null!=c&&(d=c.index,f=c.injector);const _=o.createEmbeddedViewImpl(a||{},f,null);return this.insertImpl(_,d,false),_}createComponent(o,a,c,d,f){const y=o&&!function so(i){return"function"==typeof i}(o);let _;if(y)_=a;else{const Ke=a||{};_=Ke.index,c=Ke.injector,d=Ke.projectableNodes,f=Ke.environmentInjector||Ke.ngModuleRef}const I=y?o:new vu(Cn(o)),D=c||this.parentInjector;if(!f&&null==I.ngModule){const ut=(y?D:this.parentInjector).get(Qn,null);ut&&(f=ut)}Cn(I.componentType??{});const ie=I.create(D,d,null,f);return this.insertImpl(ie.hostView,_,false),ie}insert(o,a){return this.insertImpl(o,a,!1)}insertImpl(o,a,c){const d=o._lView;if(function cl(i){return Mn(i[Bn])}(d)){const I=this.indexOf(o);if(-1!==I)this.detach(I);else{const D=d[Bn],S=new ND(D,D[Wr],D[Bn]);S.detach(S.indexOf(o))}}const y=this._adjustIndex(a),_=this._lContainer;return AS(_,d,y,!c),o.attachToViewContainerRef(),lv(K0(_),y,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=$m(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=ug(this._lContainer,a);c&&(su(K0(this._lContainer),a),Dv(c[Xe],c))}detach(o){const a=this._adjustIndex(o,-1),c=ug(this._lContainer,a);return c&&null!=su(K0(this._lContainer),a)?new nd(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function $m(i){return i[8]}function K0(i){return i[8]||(i[8]=[])}function Zf(i,o){let a;const c=o[i.index];return Mn(c)?a=c:(a=WI(c,o,null,i),o[i.index]=a,Gg(o,a)),RD(a,o,i,c),new ND(a,i,o)}let RD=function Y0(i,o,a,c){if(i[et])return;let d;d=8&a.type?$n(c):function Hm(i,o){const a=i[kt],c=a.createComment(""),d=Di(o,i);return gc(a,cg(a,d),c,function qT(i,o){return i.nextSibling(o)}(a,d),!1),c}(o,a),i[et]=d};class qc{constructor(o){this.queryList=o,this.matches=null}clone(){return new qc(this.queryList)}setDirty(){this.queryList.setDirty()}}class Od{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let f=0;f<c;f++){const y=a.getByIndex(f);d.push(this.queries[y.indexInDeclarationView].clone())}return new Od(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==ew(o,a).matches&&this.queries[a].setDirty()}}class Gm{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class Kf{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,f=this.getByIndex(c).embeddedTView(o,d);f&&(f.indexInDeclarationView=c,null!==a?a.push(f):a=[f])}return null!==a?new Kf(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class zm{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new zm(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(o,a,kS(a,f)),this.matchTNodeWithReadOption(o,a,Fo(a,o,f,!1,!1))}else c===xd?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Fo(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===ql||d===jm||d===xd&&4&a.type)this.addMatch(a.index,-2);else{const f=Fo(a,o,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function kS(i,o){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function FD(i,o,a,c){return-1===a?function kD(i,o){return 11&i.type?_c(i,o):4&i.type?zf(i,o):null}(o,i):-2===a?function X0(i,o,a){return a===ql?_c(o,i):a===xd?zf(o,i):a===jm?Zf(o,i):void 0}(i,o,c):ma(i,i[Xe],a,o)}function LD(i,o,a,c){const d=o[mi].queries[c];if(null===d.matches){const f=i.data,y=a.matches,_=[];for(let I=0;I<y.length;I+=2){const D=y[I];_.push(D<0?null:FD(o,f[D],y[I+1],a.metadata.read))}d.matches=_}return d.matches}function qm(i,o,a,c){const d=i.queries.getByIndex(a),f=d.matches;if(null!==f){const y=LD(i,o,d,a);for(let _=0;_<f.length;_+=2){const I=f[_];if(I>0)c.push(y[_/2]);else{const D=f[_+1],S=o[-I];for(let L=Bt;L<S.length;L++){const Z=S[L];Z[Bi]===Z[Bn]&&qm(Z[Xe],Z,D,c)}if(null!==S[Ft]){const L=S[Ft];for(let Z=0;Z<L.length;Z++){const ie=L[Z];qm(ie[Xe],ie,D,c)}}}}}return c}function VD(i){const o=Le(),a=Sn(),c=ov();jp(c+1);const d=ew(a,c);if(i.dirty&&function yh(i){return 4==(4&i[qt])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?qm(a,o,c,[]):LD(a,o,d,c);i.reset(f,Tg),i.notifyOnChanges()}return!0}return!1}function BD(i,o,a,c){const d=Sn();if(d.firstCreatePass){const f=oi();(function Yf(i,o,a){null===i.queries&&(i.queries=new Kf),i.queries.track(new zm(o,a))})(d,new Gm(o,a,c),f.index),function jD(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function Wm(i,o,a){const c=new Bm(4==(4&a));(function mu(i,o,a,c){const d=T_(o);d.push(a),i.firstCreatePass&&ff(i).push(c,d.length-1)})(i,o,c,c.destroy),null===o[mi]&&(o[mi]=new Od),o[mi].queries.push(new qc(c))}(d,Le(),a)}function Wc(){return function Pd(i,o){return i[mi].queries[o].queryList}(Le(),ov())}function ew(i,o){return i.queries.getByIndex(o)}function tw(i,o){return zf(i,o)}function Nd(i){return!!ii(i)}const sy=new zn("Application Initializer");let mw=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c}),this.appInits=ot(sy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const d of this.appInits){const f=d();if(Z_(f))a.push(f);else if(wC(f)){const y=new Promise((_,I)=>{f.subscribe({complete:_,error:I})});a.push(y)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),oy=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();const Vd=new zn("LocaleId",{providedIn:"root",factory:()=>ot(Vd,wt.Optional|wt.SkipSelf)||function WS(){return typeof $localize<"u"&&$localize.locale||_d}()}),QD=new zn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Kc=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new se.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class Bu{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let vw=(()=>{class i{compileModuleSync(a){return new N0(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),f=bs(ii(a).declarations).reduce((y,_)=>{const I=Cn(_);return I&&y.push(new vu(I)),y},[]);return new Bu(c,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const ly=new zn(""),ub=new zn("");let dy,Sw=(()=>{class i{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,dy||(function Mw(i){dy=i}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{di.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}static#e=this.\u0275fac=function(c){return new(c||i)(Qe(di),Qe(Aw),Qe(ub))};static#t=this.\u0275prov=yt({token:i,factory:i.\u0275fac})}return i})(),Aw=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return dy?.findTestabilityInTree(this,a,c)??null}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})(),ju=null;const hy=new zn("AllowMultipleToken"),xw=new zn("PlatformDestroyListeners"),np=new zn("appBootstrapListener");class Pw{constructor(o,a){this.name=o,this.token=a}}function hb(i,o,a=[]){const c=`Platform: ${o}`,d=new zn(c);return(f=[])=>{let y=Fw();if(!y||y.injector.get(hy,!1)){const _=[...a,...f,{provide:d,useValue:!0}];i?i(_):function Nw(i){if(ju&&!ju.get(hy,!1))throw new ee(400,!1);(function lb(){!function bp(i){Zy=i}(()=>{throw new ee(600,!1)})})(),ju=i;const o=i.get(fy);(function Rw(i){i.get(pt,null)?.forEach(a=>a())})(i)}(function ra(i=[],o){return co.create({name:o,providers:[{provide:_g,useValue:"platform"},{provide:xw,useValue:new Set([()=>ju=null])},...i]})}(_,c))}return function kw(i){const o=Fw();if(!o)throw new ee(401,!1);return o}()}}function Fw(){return ju?.get(fy)??null}let fy=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function tA(i="zone.js",o){return"noop"===i?new T1:"zone.js"===i?new di(o):i}(c?.ngZone,function pb(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return d.run(()=>{const f=function ED(i,o,a){return new Fm(i,o,a)}(a.moduleType,this.injector,function Vw(i){return[{provide:di,useFactory:i},{provide:Ll,multi:!0,useFactory:()=>{const o=ot(yb,{optional:!0});return()=>o.initialize()}},{provide:mb,useFactory:Lw},{provide:Ec,useFactory:PI}]}(()=>d)),y=f.injector.get(fu,null);return d.runOutsideAngular(()=>{const _=d.onError.subscribe({next:I=>{y.handleError(I)}});f.onDestroy(()=>{gy(this._modules,f),_.unsubscribe()})}),function py(i,o,a){try{const c=a();return Z_(c)?c.catch(d=>{throw o.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>i.handleError(c)),c}}(y,d,()=>{const _=f.injector.get(mw);return _.runInitializers(),_.donePromise.then(()=>(function Bc(i){tt(i,"Expected localeId to be defined"),"string"==typeof i&&(y0=i.toLowerCase().replace(/_/g,"-"))}(f.injector.get(Vd,_d)||_d),this._moduleDoBootstrap(f),f))})})}bootstrapModule(a,c=[]){const d=gb({},c);return function eA(i,o,a){const c=new N0(a);return Promise.resolve(c)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(a){const c=a.injector.get($u);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new ee(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ee(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(xw,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(c){return new(c||i)(Qe(co))};static#t=this.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();function gb(i,o){return Array.isArray(o)?o.reduce(gb,i):{...i,...o}}let $u=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ot(mb),this.zoneIsStable=ot(Ec),this.componentTypes=[],this.components=[],this.isStable=ot(Kc).hasPendingTasks.pipe((0,Oe.w)(a=>a?(0,ve.of)(!1):this.zoneIsStable),(0,he.x)(),(0,_e.B)()),this._injector=ot(Qn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const d=a instanceof zl;if(!this._injector.get(mw).done)throw!d&&Do(a),new ee(405,!1);let y;y=d?a:this._injector.get(bg).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const _=function Ow(i){return i.isBoundToModule}(y)?void 0:this._injector.get(Ou),D=y.create(co.NULL,[],c||y.selector,_),S=D.location.nativeElement,L=D.injector.get(ly,null);return L?.registerApplication(S),D.onDestroy(()=>{this.detachView(D.hostView),gy(this.components,D),L?.unregisterApplication(S)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new ee(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;gy(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(np,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>gy(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new ee(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function gy(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}const mb=new zn("",{providedIn:"root",factory:()=>ot(fu).handleError.bind(void 0)});function Lw(){const i=ot(di),o=ot(fu);return a=>i.runOutsideAngular(()=>o.handleError(a))}let yb=(()=>{class i{constructor(){this.zone=ot(di),this.applicationRef=ot($u)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function rA(){return!1}let Uw=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=iA}return i})();function iA(i){return function rp(i,o,a){if(Ji(i)&&!a){const c=$i(i.index,o);return new nd(c,c)}return 47&i.type?new nd(o[Tr],o):null}(oi(),Le(),16==(16&i))}class jw{constructor(){}supports(o){return Qg(o)}create(o){return new bb(o)}}const $w=(i,o)=>o;class bb{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||$w}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,d=0,f=null;for(;a||c;){const y=!c||a&&a.currentIndex<Sb(c,d,f)?a:c,_=Sb(y,d,f),I=y.currentIndex;if(y===c)d--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{f||(f=[]);const D=_-d,S=I-d;if(D!=S){for(let Z=0;Z<D;Z++){const ie=Z<f.length?f[Z]:f[Z]=0,Re=ie+Z;S<=Re&&Re<D&&(f[Z]=ie+1)}f[y.previousIndex]=S-D}}_!==I&&o(y,_,I)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Qg(o))throw new ee(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,f,y,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let _=0;_<this.length;_++)f=o[_],y=this._trackByFn(_,f),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,f,y,_)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,y,_),c=!0),a=a._next}else d=0,function H1(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[Symbol.iterator]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,_=>{y=this._trackByFn(d,_),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,_,y,d)),Object.is(a.item,_)||this._addIdentityChange(a,_)):(a=this._mismatch(a,_,y,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,d){let f;return null===o?f=this._itTail:(f=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,f,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,f,d)):o=this._addAfter(new jd(a,c),f,d),o}_verifyReinsertion(o,a,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?o=this._reinsertAfter(f,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,f=o._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new Tb),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Tb),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class jd{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Hw{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class Tb{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new Hw,this.map.set(a,c)),c.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Sb(i,o,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+o+d}class Ab{constructor(){}supports(o){return o instanceof Map||B_(o)}create(){return new Mb}}class Mb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||B_(o)))throw new ee(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const f=d._prev,y=d._next;return f&&(f._next=y),y&&(y._prev=f),d._next=null,d._prev=null,d}const c=new lA(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class lA{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Gw(){return new zw([new jw])}let zw=(()=>{class i{static#e=this.\u0275prov=yt({token:i,providedIn:"root",factory:Gw});constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||Gw()),deps:[[i,new rt,new ge]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new ee(901,!1)}}return i})();function xb(){return new qw([new Ab])}let qw=(()=>{class i{static#e=this.\u0275prov=yt({token:i,providedIn:"root",factory:xb});constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||xb()),deps:[[i,new rt,new ge]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new ee(901,!1)}}return i})();const Rb=hb(null,"core",[]);let kb=(()=>{class i{constructor(a){}static#e=this.\u0275fac=function(c){return new(c||i)(Qe($u))};static#t=this.\u0275mod=ca({type:i});static#n=this.\u0275inj=jn({})}return i})();function Bb(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function Fa(i){const o=Cn(i);if(!o)return null;const a=new vu(o);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},3399:(vt,be,A)=>{A.d(be,{Z:()=>Ye});var h=A(9058),U=A(4537),N=A(7592),Y=A(7879);class se{constructor(Ze,Ae){this._delegate=Ze,this.firebase=Ae,(0,N._addComponent)(Ze,new U.wA("app-compat",()=>this,"PUBLIC")),this.container=Ze.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ze){this._delegate.automaticDataCollectionEnabled=Ze}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ze=>{this._delegate.checkDestroyed(),Ze()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(Ze,Ae=N._DEFAULT_ENTRY_NAME){var ht;this._delegate.checkDestroyed();const ft=this._delegate.container.getProvider(Ze);return!ft.isInitialized()&&"EXPLICIT"===(null===(ht=ft.getComponent())||void 0===ht?void 0:ht.instantiationMode)&&ft.initialize(),ft.getImmediate({identifier:Ae})}_removeServiceInstance(Ze,Ae=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ze).clearInstance(Ae)}_addComponent(Ze){(0,N._addComponent)(this._delegate,Ze)}_addOrOverwriteComponent(Ze){(0,N._addOrOverwriteComponent)(this._delegate,Ze)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _e=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function he(){const ke=function Oe(ke){const Ze={},Ae={__esModule:!0,initializeApp:function ee(Be,k={}){const te=N.initializeApp(Be,k);if((0,h.r3)(Ze,te.name))return Ze[te.name];const De=new ke(te,Ae);return Ze[te.name]=De,De},app:ft,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function ue(Be){const k=Be.name,te=k.replace("-compat","");if(N._registerComponent(Be)&&"PUBLIC"===Be.type){const De=(st=ft())=>{if("function"!=typeof st[te])throw _e.create("invalid-app-argument",{appName:k});return st[te]()};void 0!==Be.serviceProps&&(0,h.ZB)(De,Be.serviceProps),Ae[te]=De,ke.prototype[te]=function(...st){return this._getService.bind(this,k).apply(this,Be.multipleInstances?st:[])}}return"PUBLIC"===Be.type?Ae[te]:null},removeApp:function ht(Be){delete Ze[Be]},useAsService:function Me(Be,k){return"serverAuth"===k?null:k},modularAPIs:N}};function ft(Be){if(!(0,h.r3)(Ze,Be=Be||N._DEFAULT_ENTRY_NAME))throw _e.create("no-app",{appName:Be});return Ze[Be]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function Te(){return Object.keys(Ze).map(Be=>Ze[Be])}}),ft.App=ke,Ae}(se);return ke.INTERNAL=Object.assign(Object.assign({},ke.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function Ze(Ae){(0,h.ZB)(ke,Ae)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),ke}(),q=new Y.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ke=self.firebase.SDK_VERSION;ke&&ke.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ye=V;!function Ie(ke){(0,N.registerVersion)("@firebase/app-compat","0.2.13",ke)}()},7592:(vt,be,A)=>{A.r(be),A.d(be,{FirebaseError:()=>Y.ZR,SDK_VERSION:()=>jn,_DEFAULT_ENTRY_NAME:()=>ae,_addComponent:()=>Se,_addOrOverwriteComponent:()=>Ge,_apps:()=>ce,_clearComponents:()=>bt,_components:()=>oe,_getProvider:()=>qe,_registerComponent:()=>tt,_removeServiceInstance:()=>Zt,deleteApp:()=>sr,getApp:()=>_n,getApps:()=>Rn,initializeApp:()=>Ln,onLog:()=>bn,registerVersion:()=>Vn,setLogLevel:()=>tr});var h=A(5861),U=A(4537),N=A(7879),Y=A(9058),se=A(1878);class ve{constructor(W){this.container=W}getPlatformInfoString(){return this.container.getProviders().map(Ee=>{if(function _e(me){const W=me.getComponent();return"VERSION"===W?.type}(Ee)){const He=Ee.getImmediate();return`${He.library}/${He.version}`}return null}).filter(Ee=>Ee).join(" ")}}const Oe="@firebase/app",V=new N.Yd("@firebase/app"),ae="[DEFAULT]",fe={[Oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ce=new Map,oe=new Map;function Se(me,W){try{me.container.addComponent(W)}catch(Ee){V.debug(`Component ${W.name} failed to register with FirebaseApp ${me.name}`,Ee)}}function Ge(me,W){me.container.addOrOverwriteComponent(W)}function tt(me){const W=me.name;if(oe.has(W))return V.debug(`There were multiple attempts to register component ${W}.`),!1;oe.set(W,me);for(const Ee of ce.values())Se(Ee,me);return!0}function qe(me,W){const Ee=me.container.getProvider("heartbeat").getImmediate({optional:!0});return Ee&&Ee.triggerHeartbeat(),me.container.getProvider(W)}function Zt(me,W,Ee=ae){qe(me,W).clearInstance(Ee)}function bt(){oe.clear()}const yt=new Y.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class hn{constructor(W,Ee,He){this._isDeleted=!1,this._options=Object.assign({},W),this._config=Object.assign({},Ee),this._name=Ee.name,this._automaticDataCollectionEnabled=Ee.automaticDataCollectionEnabled,this._container=He,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(W){this.checkDestroyed(),this._automaticDataCollectionEnabled=W}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(W){this._isDeleted=W}checkDestroyed(){if(this.isDeleted)throw yt.create("app-deleted",{appName:this._name})}}const jn="9.23.0";function Ln(me,W={}){let Ee=me;"object"!=typeof W&&(W={name:W});const He=Object.assign({name:ae,automaticDataCollectionEnabled:!1},W),ct=He.name;if("string"!=typeof ct||!ct)throw yt.create("bad-app-name",{appName:String(ct)});if(Ee||(Ee=(0,Y.aH)()),!Ee)throw yt.create("no-options");const Et=ce.get(ct);if(Et){if((0,Y.vZ)(Ee,Et.options)&&(0,Y.vZ)(He,Et.config))return Et;throw yt.create("duplicate-app",{appName:ct})}const gn=new U.H0(ct);for(const H of oe.values())gn.addComponent(H);const G=new hn(Ee,He,gn);return ce.set(ct,G),G}function _n(me=ae){const W=ce.get(me);if(!W&&me===ae&&(0,Y.aH)())return Ln();if(!W)throw yt.create("no-app",{appName:me});return W}function Rn(){return Array.from(ce.values())}function sr(me){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,h.Z)(function*(me){const W=me.name;ce.has(W)&&(ce.delete(W),yield Promise.all(me.container.getProviders().map(Ee=>Ee.delete())),me.isDeleted=!0)})).apply(this,arguments)}function Vn(me,W,Ee){var He;let ct=null!==(He=fe[me])&&void 0!==He?He:me;Ee&&(ct+=`-${Ee}`);const Et=ct.match(/\s|\//),gn=W.match(/\s|\//);if(Et||gn){const G=[`Unable to register library "${ct}" with version "${W}":`];return Et&&G.push(`library name "${ct}" contains illegal characters (whitespace or "/")`),Et&&gn&&G.push("and"),gn&&G.push(`version name "${W}" contains illegal characters (whitespace or "/")`),void V.warn(G.join(" "))}tt(new U.wA(`${ct}-version`,()=>({library:ct,version:W}),"VERSION"))}function bn(me,W){if(null!==me&&"function"!=typeof me)throw yt.create("invalid-log-argument");(0,N.Am)(me,W)}function tr(me){(0,N.Ub)(me)}const Gr="firebase-heartbeat-database",wt=1,Ct="firebase-heartbeat-store";let Nt=null;function Rt(){return Nt||(Nt=(0,se.X3)(Gr,wt,{upgrade:(me,W)=>{0===W&&me.createObjectStore(Ct)}}).catch(me=>{throw yt.create("idb-open",{originalErrorMessage:me.message})})),Nt}function fn(){return(fn=(0,h.Z)(function*(me){try{return yield(yield Rt()).transaction(Ct).objectStore(Ct).get(Pr(me))}catch(W){if(W instanceof Y.ZR)V.warn(W.message);else{const Ee=yt.create("idb-get",{originalErrorMessage:W?.message});V.warn(Ee.message)}}})).apply(this,arguments)}function Kt(me,W){return pn.apply(this,arguments)}function pn(){return(pn=(0,h.Z)(function*(me,W){try{const He=(yield Rt()).transaction(Ct,"readwrite");yield He.objectStore(Ct).put(W,Pr(me)),yield He.done}catch(Ee){if(Ee instanceof Y.ZR)V.warn(Ee.message);else{const He=yt.create("idb-set",{originalErrorMessage:Ee?.message});V.warn(He.message)}}})).apply(this,arguments)}function Pr(me){return`${me.name}!${me.options.appId}`}class Xt{constructor(W){this.container=W,this._heartbeatsCache=null;const Ee=this.container.getProvider("app").getImmediate();this._storage=new or(Ee),this._heartbeatsCachePromise=this._storage.read().then(He=>(this._heartbeatsCache=He,He))}triggerHeartbeat(){var W=this;return(0,h.Z)(function*(){const He=W.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ct=cn();if(null===W._heartbeatsCache&&(W._heartbeatsCache=yield W._heartbeatsCachePromise),W._heartbeatsCache.lastSentHeartbeatDate!==ct&&!W._heartbeatsCache.heartbeats.some(Et=>Et.date===ct))return W._heartbeatsCache.heartbeats.push({date:ct,agent:He}),W._heartbeatsCache.heartbeats=W._heartbeatsCache.heartbeats.filter(Et=>{const gn=new Date(Et.date).valueOf();return Date.now()-gn<=2592e6}),W._storage.overwrite(W._heartbeatsCache)})()}getHeartbeatsHeader(){var W=this;return(0,h.Z)(function*(){if(null===W._heartbeatsCache&&(yield W._heartbeatsCachePromise),null===W._heartbeatsCache||0===W._heartbeatsCache.heartbeats.length)return"";const Ee=cn(),{heartbeatsToSend:He,unsentEntries:ct}=function Dr(me,W=1024){const Ee=[];let He=me.slice();for(const ct of me){const Et=Ee.find(gn=>gn.agent===ct.agent);if(Et){if(Et.dates.push(ct.date),dr(Ee)>W){Et.dates.pop();break}}else if(Ee.push({agent:ct.agent,dates:[ct.date]}),dr(Ee)>W){Ee.pop();break}He=He.slice(1)}return{heartbeatsToSend:Ee,unsentEntries:He}}(W._heartbeatsCache.heartbeats),Et=(0,Y.L)(JSON.stringify({version:2,heartbeats:He}));return W._heartbeatsCache.lastSentHeartbeatDate=Ee,ct.length>0?(W._heartbeatsCache.heartbeats=ct,yield W._storage.overwrite(W._heartbeatsCache)):(W._heartbeatsCache.heartbeats=[],W._storage.overwrite(W._heartbeatsCache)),Et})()}}function cn(){return(new Date).toISOString().substring(0,10)}class or{constructor(W){this.app=W,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,Y.hl)()&&(0,Y.eu)().then(()=>!0).catch(()=>!1)})()}read(){var W=this;return(0,h.Z)(function*(){return(yield W._canUseIndexedDBPromise)&&(yield function mr(me){return fn.apply(this,arguments)}(W.app))||{heartbeats:[]}})()}overwrite(W){var Ee=this;return(0,h.Z)(function*(){var He;if(yield Ee._canUseIndexedDBPromise){const Et=yield Ee.read();return Kt(Ee.app,{lastSentHeartbeatDate:null!==(He=W.lastSentHeartbeatDate)&&void 0!==He?He:Et.lastSentHeartbeatDate,heartbeats:W.heartbeats})}})()}add(W){var Ee=this;return(0,h.Z)(function*(){var He;if(yield Ee._canUseIndexedDBPromise){const Et=yield Ee.read();return Kt(Ee.app,{lastSentHeartbeatDate:null!==(He=W.lastSentHeartbeatDate)&&void 0!==He?He:Et.lastSentHeartbeatDate,heartbeats:[...Et.heartbeats,...W.heartbeats]})}})()}}function dr(me){return(0,Y.L)(JSON.stringify({version:2,heartbeats:me})).length}!function Un(me){tt(new U.wA("platform-logger",W=>new ve(W),"PRIVATE")),tt(new U.wA("heartbeat",W=>new Xt(W),"PRIVATE")),Vn(Oe,"0.9.13",me),Vn(Oe,"0.9.13","esm2017"),Vn("fire-js","")}("")},4097:(vt,be,A)=>{A.d(be,{C6:()=>h.getApps,Mq:()=>h.getApp});var h=A(7592);(0,h.registerVersion)("firebase","9.23.0","app")},120:(vt,be,A)=>{A.d(be,{Z:()=>h.Z});var h=A(3399);h.Z.registerVersion("firebase","9.23.0","app-compat")},8661:(vt,be,A)=>{A.r(be);var h=A(5861),U=A(3399),N=A(6710),Y=A(9058),_e=(A(7592),A(7879),A(4537));function Oe(){return window}function q(){return q=(0,h.Z)(function*(P,R,M){var X;const{BuildInfo:Ne}=Oe();(0,N.as)(R.sessionId,"AuthEvent did not contain a session ID");const Qe=yield function Ae(P){return ht.apply(this,arguments)}(R.sessionId),xt={};return(0,N.at)()?xt.ibi=Ne.packageName:(0,N.au)()?xt.apn=Ne.packageName:(0,N.av)(P,"operation-not-supported-in-this-environment"),Ne.displayName&&(xt.appDisplayName=Ne.displayName),xt.sessionId=Qe,(0,N.aw)(P,M,R.type,void 0,null!==(X=R.eventId)&&void 0!==X?X:void 0,xt)}),q.apply(this,arguments)}function Ue(){return(Ue=(0,h.Z)(function*(P){const{BuildInfo:R}=Oe(),M={};(0,N.at)()?M.iosBundleId=R.packageName:(0,N.au)()?M.androidPackageName=R.packageName:(0,N.av)(P,"operation-not-supported-in-this-environment"),yield(0,N.ax)(P,M)})).apply(this,arguments)}function ke(){return(ke=(0,h.Z)(function*(P,R,M){const{cordova:X}=Oe();let Ne=()=>{};try{yield new Promise((Qe,xt)=>{let ot=null;function mn(){var Yt;Qe();const yr=null===(Yt=X.plugins.browsertab)||void 0===Yt?void 0:Yt.close;"function"==typeof yr&&yr(),"function"==typeof M?.close&&M.close()}function Vt(){ot||(ot=window.setTimeout(()=>{xt((0,N.az)(P,"redirect-cancelled-by-user"))},2e3))}function wn(){"visible"===document?.visibilityState&&Vt()}R.addPassiveListener(mn),document.addEventListener("resume",Vt,!1),(0,N.au)()&&document.addEventListener("visibilitychange",wn,!1),Ne=()=>{R.removePassiveListener(mn),document.removeEventListener("resume",Vt,!1),document.removeEventListener("visibilitychange",wn,!1),ot&&window.clearTimeout(ot)}})}finally{Ne()}})).apply(this,arguments)}function ht(){return(ht=(0,h.Z)(function*(P){const R=function ft(P){if((0,N.as)(/[0-9a-zA-Z]+/.test(P),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(P);const R=new ArrayBuffer(P.length),M=new Uint8Array(R);for(let X=0;X<P.length;X++)M[X]=P.charCodeAt(X);return M}(P),M=yield crypto.subtle.digest("SHA-256",R);return Array.from(new Uint8Array(M)).map(Ne=>Ne.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Te extends N.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(R=>{this.resolveInialized=R})}addPassiveListener(R){this.passiveListeners.add(R)}removePassiveListener(R){this.passiveListeners.delete(R)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(R){return this.resolveInialized(),this.passiveListeners.forEach(M=>M(R)),super.onEvent(R)}initialized(){var R=this;return(0,h.Z)(function*(){yield R.initPromise})()}}function Be(P){return k.apply(this,arguments)}function k(){return(k=(0,h.Z)(function*(P){const R=yield st()._get(Lt(P));return R&&(yield st()._remove(Lt(P))),R})).apply(this,arguments)}function De(){const P=[];for(let M=0;M<20;M++){const X=Math.floor(62*Math.random());P.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(X))}return P.join("")}function st(){return(0,N.aC)(N.b)}function Lt(P){return(0,N.aD)("authEvent",P.config.apiKey,P.name)}function dn(P){if(!P?.includes("?"))return{};const[R,...M]=P.split("?");return(0,Y.zd)(M.join("?"))}const ae=class Gn{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aE,this._overrideRedirectResult=N.aF}_initialize(R){var M=this;return(0,h.Z)(function*(){const X=R._key();let Ne=M.eventManagers.get(X);return Ne||(Ne=new Te(R),M.eventManagers.set(X,Ne),M.attachCallbackListeners(R,Ne)),Ne})()}_openPopup(R){(0,N.av)(R,"operation-not-supported-in-this-environment")}_openRedirect(R,M,X,Ne){var Qe=this;return(0,h.Z)(function*(){!function Ze(P){var R,M,X,Ne,Qe,xt,ot,mn,Vt,wn;const Yt=Oe();(0,N.aA)("function"==typeof(null===(R=Yt?.universalLinks)||void 0===R?void 0:R.subscribe),P,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.aA)(typeof(null===(M=Yt?.BuildInfo)||void 0===M?void 0:M.packageName)<"u",P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.aA)("function"==typeof(null===(Qe=null===(Ne=null===(X=Yt?.cordova)||void 0===X?void 0:X.plugins)||void 0===Ne?void 0:Ne.browsertab)||void 0===Qe?void 0:Qe.openUrl),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aA)("function"==typeof(null===(mn=null===(ot=null===(xt=Yt?.cordova)||void 0===xt?void 0:xt.plugins)||void 0===ot?void 0:ot.browsertab)||void 0===mn?void 0:mn.isAvailable),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aA)("function"==typeof(null===(wn=null===(Vt=Yt?.cordova)||void 0===Vt?void 0:Vt.InAppBrowser)||void 0===wn?void 0:wn.open),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(R);const xt=yield Qe._initialize(R);yield xt.initialized(),xt.resetRedirect(),(0,N.aG)(),yield Qe._originValidation(R);const ot=function ue(P,R,M=null){return{type:R,eventId:M,urlResponse:null,sessionId:De(),postBody:null,tenantId:P.tenantId,error:(0,N.az)(P,"no-auth-event")}}(R,X,Ne);yield function Me(P,R){return st()._set(Lt(P),R)}(R,ot);const mn=yield function V(P,R,M){return q.apply(this,arguments)}(R,ot,M),Vt=yield function Ie(P){const{cordova:R}=Oe();return new Promise(M=>{R.plugins.browsertab.isAvailable(X=>{let Ne=null;X?R.plugins.browsertab.openUrl(P):Ne=R.InAppBrowser.open(P,(0,N.ay)()?"_blank":"_system","location=yes"),M(Ne)})})}(mn);return function Ye(P,R,M){return ke.apply(this,arguments)}(R,xt,Vt)})()}_isIframeWebStorageSupported(R,M){throw new Error("Method not implemented.")}_originValidation(R){const M=R._key();return this.originValidationPromises[M]||(this.originValidationPromises[M]=function ne(P){return Ue.apply(this,arguments)}(R)),this.originValidationPromises[M]}attachCallbackListeners(R,M){const{universalLinks:X,handleOpenURL:Ne,BuildInfo:Qe}=Oe(),xt=setTimeout((0,h.Z)(function*(){yield Be(R),M.onEvent(fe())}),500),ot=function(){var wn=(0,h.Z)(function*(Yt){clearTimeout(xt);const yr=yield Be(R);let K=null;yr&&Yt?.url&&(K=function te(P,R){var M,X;const Ne=function Gt(P){const R=dn(P),M=R.link?decodeURIComponent(R.link):void 0,X=dn(M).link,Ne=R.deep_link_id?decodeURIComponent(R.deep_link_id):void 0;return dn(Ne).link||Ne||X||M||P}(R);if(Ne.includes("/__/auth/callback")){const Qe=dn(Ne),xt=Qe.firebaseError?function Ht(P){try{return JSON.parse(P)}catch{return null}}(decodeURIComponent(Qe.firebaseError)):null,ot=null===(X=null===(M=xt?.code)||void 0===M?void 0:M.split("auth/"))||void 0===X?void 0:X[1],mn=ot?(0,N.az)(ot):null;return mn?{type:P.type,eventId:P.eventId,tenantId:P.tenantId,error:mn,urlResponse:null,sessionId:null,postBody:null}:{type:P.type,eventId:P.eventId,tenantId:P.tenantId,sessionId:P.sessionId,urlResponse:Ne,postBody:null}}return null}(yr,Yt.url)),M.onEvent(K||fe())});return function(yr){return wn.apply(this,arguments)}}();typeof X<"u"&&"function"==typeof X.subscribe&&X.subscribe(null,ot);const mn=Ne,Vt=`${Qe.packageName.toLowerCase()}://`;Oe().handleOpenURL=function(){var wn=(0,h.Z)(function*(Yt){if(Yt.toLowerCase().startsWith(Vt)&&ot({url:Yt}),"function"==typeof mn)try{mn(Yt)}catch(yr){console.error(yr)}});return function(Yt){return wn.apply(this,arguments)}}()}};function fe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.az)("no-auth-event")}}function tt(){var P;return(null===(P=self?.location)||void 0===P?void 0:P.protocol)||null}function Zt(P=(0,Y.z$)()){return!("file:"!==tt()&&"ionic:"!==tt()&&"capacitor:"!==tt()||!P.toLowerCase().match(/iphone|ipad|ipod|android/))}function jn(){try{const P=self.localStorage,R=N.aL();if(P)return P.setItem(R,"1"),P.removeItem(R),!function hn(P=(0,Y.z$)()){return function nn(){return(0,Y.w1)()&&11===document?.documentMode}()||function yt(P=(0,Y.z$)()){return/Edge\/\d+/.test(P)}(P)}()||(0,Y.hl)()}catch{return Ln()&&(0,Y.hl)()}return!1}function Ln(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function _n(){return(function qe(){return"http:"===tt()||"https:"===tt()}()||(0,Y.ru)()||Zt())&&!function bt(){return(0,Y.b$)()||(0,Y.UG)()}()&&jn()&&!Ln()}function Rn(){return Zt()&&typeof document<"u"}function Zn(){return(Zn=(0,h.Z)(function*(){return!!Rn()&&new Promise(P=>{const R=setTimeout(()=>{P(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(R),P(!0)})})})).apply(this,arguments)}const bn={LOCAL:"local",NONE:"none",SESSION:"session"},tr=N.aA,Gr="persistence";function Ct(P){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,h.Z)(function*(P){yield P._initializationPromise;const R=mr(),M=N.aD(Gr,P.config.apiKey,P.name);R&&R.setItem(M,P._getPersistence())})).apply(this,arguments)}function mr(){var P;try{return(null===(P=function Vn(){return typeof window<"u"?window:null}())||void 0===P?void 0:P.sessionStorage)||null}catch{return null}}const fn=N.aA;class Kt{constructor(){this.browserResolver=N.aC(N.k),this.cordovaResolver=N.aC(ae),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aE,this._overrideRedirectResult=N.aF}_initialize(R){var M=this;return(0,h.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._initialize(R)})()}_openPopup(R,M,X,Ne){var Qe=this;return(0,h.Z)(function*(){return yield Qe.selectUnderlyingResolver(),Qe.assertedUnderlyingResolver._openPopup(R,M,X,Ne)})()}_openRedirect(R,M,X,Ne){var Qe=this;return(0,h.Z)(function*(){return yield Qe.selectUnderlyingResolver(),Qe.assertedUnderlyingResolver._openRedirect(R,M,X,Ne)})()}_isIframeWebStorageSupported(R,M){this.assertedUnderlyingResolver._isIframeWebStorageSupported(R,M)}_originValidation(R){return this.assertedUnderlyingResolver._originValidation(R)}get _shouldInitProactively(){return Rn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return fn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var R=this;return(0,h.Z)(function*(){if(R.underlyingResolver)return;const M=yield function sr(){return Zn.apply(this,arguments)}();R.underlyingResolver=M?R.cordovaResolver:R.browserResolver})()}}function pn(P){return P.unwrap()}function rn(P){return Xt(P)}function Xt(P){const{_tokenResponse:R}=P instanceof Y.ZR?P.customData:P;if(!R)return null;if(!(P instanceof Y.ZR)&&"temporaryProof"in R&&"phoneNumber"in R)return N.P.credentialFromResult(P);const M=R.providerId;if(!M||M===N.p.PASSWORD)return null;let X;switch(M){case N.p.GOOGLE:X=N.V;break;case N.p.FACEBOOK:X=N.U;break;case N.p.GITHUB:X=N.W;break;case N.p.TWITTER:X=N.Z;break;default:const{oauthIdToken:Ne,oauthAccessToken:Qe,oauthTokenSecret:xt,pendingToken:ot,nonce:mn}=R;return Qe||xt||Ne||ot?ot?M.startsWith("saml.")?N.aO._create(M,ot):N.L._fromParams({providerId:M,signInMethod:M,pendingToken:ot,idToken:Ne,accessToken:Qe}):new N.X(M).credential({idToken:Ne,accessToken:Qe,rawNonce:mn}):null}return P instanceof Y.ZR?X.credentialFromError(P):X.credentialFromResult(P)}function cn(P,R){return R.catch(M=>{throw M instanceof Y.ZR&&function pi(P,R){var M;const X=null===(M=R.customData)||void 0===M?void 0:M._tokenResponse;if("auth/multi-factor-auth-required"===R?.code)R.resolver=new dr(P,N.aq(P,R));else if(X){const Ne=Xt(R),Qe=R;Ne&&(Qe.credential=Ne,Qe.tenantId=X.tenantId||void 0,Qe.email=X.email||void 0,Qe.phoneNumber=X.phoneNumber||void 0)}}(P,M),M}).then(M=>{const Ne=M.user;return{operationType:M.operationType,credential:rn(M),additionalUserInfo:N.ao(M),user:Un.getOrCreate(Ne)}})}function Dr(P,R){return or.apply(this,arguments)}function or(){return(or=(0,h.Z)(function*(P,R){const M=yield R;return{verificationId:M.verificationId,confirm:X=>cn(P,M.confirm(X))}})).apply(this,arguments)}class dr{constructor(R,M){this.resolver=M,this.auth=function Pr(P){return P.wrapped()}(R)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(R){return cn(pn(this.auth),this.resolver.resolveSignIn(R))}}class Un{constructor(R){this._delegate=R,this.multiFactor=N.ar(R)}static getOrCreate(R){return Un.USER_MAP.has(R)||Un.USER_MAP.set(R,new Un(R)),Un.USER_MAP.get(R)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(R){return this._delegate.getIdTokenResult(R)}getIdToken(R){return this._delegate.getIdToken(R)}linkAndRetrieveDataWithCredential(R){return this.linkWithCredential(R)}linkWithCredential(R){var M=this;return(0,h.Z)(function*(){return cn(M.auth,N.a0(M._delegate,R))})()}linkWithPhoneNumber(R,M){var X=this;return(0,h.Z)(function*(){return Dr(X.auth,N.l(X._delegate,R,M))})()}linkWithPopup(R){var M=this;return(0,h.Z)(function*(){return cn(M.auth,N.d(M._delegate,R,Kt))})()}linkWithRedirect(R){var M=this;return(0,h.Z)(function*(){return yield Ct(N.aH(M.auth)),N.g(M._delegate,R,Kt)})()}reauthenticateAndRetrieveDataWithCredential(R){return this.reauthenticateWithCredential(R)}reauthenticateWithCredential(R){var M=this;return(0,h.Z)(function*(){return cn(M.auth,N.a1(M._delegate,R))})()}reauthenticateWithPhoneNumber(R,M){return Dr(this.auth,N.r(this._delegate,R,M))}reauthenticateWithPopup(R){return cn(this.auth,N.e(this._delegate,R,Kt))}reauthenticateWithRedirect(R){var M=this;return(0,h.Z)(function*(){return yield Ct(N.aH(M.auth)),N.h(M._delegate,R,Kt)})()}sendEmailVerification(R){return N.ae(this._delegate,R)}unlink(R){var M=this;return(0,h.Z)(function*(){return yield N.an(M._delegate,R),M})()}updateEmail(R){return N.aj(this._delegate,R)}updatePassword(R){return N.ak(this._delegate,R)}updatePhoneNumber(R){return N.u(this._delegate,R)}updateProfile(R){return N.ai(this._delegate,R)}verifyBeforeUpdateEmail(R,M){return N.af(this._delegate,R,M)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Un.USER_MAP=new WeakMap;const me=N.aA;let W=(()=>{class P{constructor(M,X){if(this.app=M,X.isInitialized())return this._delegate=X.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ne}=M.options;me(Ne,"invalid-api-key",{appName:M.name}),me(Ne,"invalid-api-key",{appName:M.name});const Qe=typeof window<"u"?Kt:void 0;this._delegate=X.initialize({options:{persistence:He(Ne,M.name),popupRedirectResolver:Qe}}),this._delegate._updateErrorMap(N.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Un.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(M){this._delegate.languageCode=M}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(M){this._delegate.tenantId=M}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(M,X){N.I(this._delegate,M,X)}applyActionCode(M){return N.a5(this._delegate,M)}checkActionCode(M){return N.a6(this._delegate,M)}confirmPasswordReset(M,X){return N.a4(this._delegate,M,X)}createUserWithEmailAndPassword(M,X){var Ne=this;return(0,h.Z)(function*(){return cn(Ne._delegate,N.a8(Ne._delegate,M,X))})()}fetchProvidersForEmail(M){return this.fetchSignInMethodsForEmail(M)}fetchSignInMethodsForEmail(M){return N.ad(this._delegate,M)}isSignInWithEmailLink(M){return N.ab(this._delegate,M)}getRedirectResult(){var M=this;return(0,h.Z)(function*(){me(_n(),M._delegate,"operation-not-supported-in-this-environment");const X=yield N.j(M._delegate,Kt);return X?cn(M._delegate,Promise.resolve(X)):{credential:null,user:null}})()}addFrameworkForLogging(M){!function ce(P,R){(0,N.aH)(P)._logFramework(R)}(this._delegate,M)}onAuthStateChanged(M,X,Ne){const{next:Qe,error:xt,complete:ot}=Ee(M,X,Ne);return this._delegate.onAuthStateChanged(Qe,xt,ot)}onIdTokenChanged(M,X,Ne){const{next:Qe,error:xt,complete:ot}=Ee(M,X,Ne);return this._delegate.onIdTokenChanged(Qe,xt,ot)}sendSignInLinkToEmail(M,X){return N.aa(this._delegate,M,X)}sendPasswordResetEmail(M,X){return N.a3(this._delegate,M,X||void 0)}setPersistence(M){var X=this;return(0,h.Z)(function*(){let Ne;switch(function wt(P,R){tr(Object.values(bn).includes(R),P,"invalid-persistence-type"),(0,Y.b$)()?tr(R!==bn.SESSION,P,"unsupported-persistence-type"):(0,Y.UG)()?tr(R===bn.NONE,P,"unsupported-persistence-type"):Ln()?tr(R===bn.NONE||R===bn.LOCAL&&(0,Y.hl)(),P,"unsupported-persistence-type"):tr(R===bn.NONE||jn(),P,"unsupported-persistence-type")}(X._delegate,M),M){case bn.SESSION:Ne=N.a;break;case bn.LOCAL:Ne=(yield N.aC(N.i)._isAvailable())?N.i:N.b;break;case bn.NONE:Ne=N.N;break;default:return N.av("argument-error",{appName:X._delegate.name})}return X._delegate.setPersistence(Ne)})()}signInAndRetrieveDataWithCredential(M){return this.signInWithCredential(M)}signInAnonymously(){return cn(this._delegate,N._(this._delegate))}signInWithCredential(M){return cn(this._delegate,N.$(this._delegate,M))}signInWithCustomToken(M){return cn(this._delegate,N.a2(this._delegate,M))}signInWithEmailAndPassword(M,X){return cn(this._delegate,N.a9(this._delegate,M,X))}signInWithEmailLink(M,X){return cn(this._delegate,N.ac(this._delegate,M,X))}signInWithPhoneNumber(M,X){return Dr(this._delegate,N.s(this._delegate,M,X))}signInWithPopup(M){var X=this;return(0,h.Z)(function*(){return me(_n(),X._delegate,"operation-not-supported-in-this-environment"),cn(X._delegate,N.c(X._delegate,M,Kt))})()}signInWithRedirect(M){var X=this;return(0,h.Z)(function*(){return me(_n(),X._delegate,"operation-not-supported-in-this-environment"),yield Ct(X._delegate),N.f(X._delegate,M,Kt)})()}updateCurrentUser(M){return this._delegate.updateCurrentUser(M)}verifyPasswordResetCode(M){return N.a7(this._delegate,M)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return P.Persistence=bn,P})();function Ee(P,R,M){let X=P;"function"!=typeof P&&({next:X,error:R,complete:M}=P);const Ne=X;return{next:xt=>Ne(xt&&Un.getOrCreate(xt)),error:R,complete:M}}function He(P,R){const M=function Rt(P,R){const M=mr();if(!M)return[];const X=N.aD(Gr,P,R);switch(M.getItem(X)){case bn.NONE:return[N.N];case bn.LOCAL:return[N.i,N.a];case bn.SESSION:return[N.a];default:return[]}}(P,R);if(typeof self<"u"&&!M.includes(N.i)&&M.push(N.i),typeof window<"u")for(const X of[N.b,N.a])M.includes(X)||M.push(X);return M.includes(N.N)||M.push(N.N),M}class ct{constructor(){this.providerId="phone",this._delegate=new N.P(pn(U.Z.auth()))}static credential(R,M){return N.P.credential(R,M)}verifyPhoneNumber(R,M){return this._delegate.verifyPhoneNumber(R,M)}unwrap(){return this._delegate}}ct.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,ct.PROVIDER_ID=N.P.PROVIDER_ID;const Et=N.aA;class gn{constructor(R,M,X=U.Z.app()){var Ne;Et(null===(Ne=X.options)||void 0===Ne?void 0:Ne.apiKey,"invalid-api-key",{appName:X.name}),this._delegate=new N.R(R,M,X.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function H(P){P.INTERNAL.registerComponent(new _e.wA("auth-compat",R=>{const M=R.getProvider("app-compat").getImmediate(),X=R.getProvider("auth");return new W(M,X)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.Q,FacebookAuthProvider:N.U,GithubAuthProvider:N.W,GoogleAuthProvider:N.V,OAuthProvider:N.X,SAMLAuthProvider:N.Y,PhoneAuthProvider:ct,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:gn,TwitterAuthProvider:N.Z,Auth:W,AuthCredential:N.J,Error:Y.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),P.registerVersion("@firebase/auth-compat","0.4.2")}(U.Z)},9519:(vt,be,A)=>{A.d(be,{Gb:()=>h.Gb});var h=A(2650)},4303:(vt,be,A)=>{A.r(be),A.d(be,{FirebaseError:()=>Y.ZR,SDK_VERSION:()=>jn,_DEFAULT_ENTRY_NAME:()=>ae,_addComponent:()=>Se,_addOrOverwriteComponent:()=>Ge,_apps:()=>ce,_clearComponents:()=>bt,_components:()=>oe,_getProvider:()=>qe,_registerComponent:()=>tt,_removeServiceInstance:()=>Zt,deleteApp:()=>sr,getApp:()=>_n,getApps:()=>Rn,initializeApp:()=>Ln,onLog:()=>bn,registerVersion:()=>Vn,setLogLevel:()=>tr});var h=A(5861),U=A(4537),N=A(7879),Y=A(9058),se=A(1878);class ve{constructor(W){this.container=W}getPlatformInfoString(){return this.container.getProviders().map(Ee=>{if(function _e(me){const W=me.getComponent();return"VERSION"===W?.type}(Ee)){const He=Ee.getImmediate();return`${He.library}/${He.version}`}return null}).filter(Ee=>Ee).join(" ")}}const Oe="@firebase/app",V=new N.Yd("@firebase/app"),ae="[DEFAULT]",fe={[Oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ce=new Map,oe=new Map;function Se(me,W){try{me.container.addComponent(W)}catch(Ee){V.debug(`Component ${W.name} failed to register with FirebaseApp ${me.name}`,Ee)}}function Ge(me,W){me.container.addOrOverwriteComponent(W)}function tt(me){const W=me.name;if(oe.has(W))return V.debug(`There were multiple attempts to register component ${W}.`),!1;oe.set(W,me);for(const Ee of ce.values())Se(Ee,me);return!0}function qe(me,W){const Ee=me.container.getProvider("heartbeat").getImmediate({optional:!0});return Ee&&Ee.triggerHeartbeat(),me.container.getProvider(W)}function Zt(me,W,Ee=ae){qe(me,W).clearInstance(Ee)}function bt(){oe.clear()}const yt=new Y.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class hn{constructor(W,Ee,He){this._isDeleted=!1,this._options=Object.assign({},W),this._config=Object.assign({},Ee),this._name=Ee.name,this._automaticDataCollectionEnabled=Ee.automaticDataCollectionEnabled,this._container=He,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(W){this.checkDestroyed(),this._automaticDataCollectionEnabled=W}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(W){this._isDeleted=W}checkDestroyed(){if(this.isDeleted)throw yt.create("app-deleted",{appName:this._name})}}const jn="10.4.0";function Ln(me,W={}){let Ee=me;"object"!=typeof W&&(W={name:W});const He=Object.assign({name:ae,automaticDataCollectionEnabled:!1},W),ct=He.name;if("string"!=typeof ct||!ct)throw yt.create("bad-app-name",{appName:String(ct)});if(Ee||(Ee=(0,Y.aH)()),!Ee)throw yt.create("no-options");const Et=ce.get(ct);if(Et){if((0,Y.vZ)(Ee,Et.options)&&(0,Y.vZ)(He,Et.config))return Et;throw yt.create("duplicate-app",{appName:ct})}const gn=new U.H0(ct);for(const H of oe.values())gn.addComponent(H);const G=new hn(Ee,He,gn);return ce.set(ct,G),G}function _n(me=ae){const W=ce.get(me);if(!W&&me===ae&&(0,Y.aH)())return Ln();if(!W)throw yt.create("no-app",{appName:me});return W}function Rn(){return Array.from(ce.values())}function sr(me){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,h.Z)(function*(me){const W=me.name;ce.has(W)&&(ce.delete(W),yield Promise.all(me.container.getProviders().map(Ee=>Ee.delete())),me.isDeleted=!0)})).apply(this,arguments)}function Vn(me,W,Ee){var He;let ct=null!==(He=fe[me])&&void 0!==He?He:me;Ee&&(ct+=`-${Ee}`);const Et=ct.match(/\s|\//),gn=W.match(/\s|\//);if(Et||gn){const G=[`Unable to register library "${ct}" with version "${W}":`];return Et&&G.push(`library name "${ct}" contains illegal characters (whitespace or "/")`),Et&&gn&&G.push("and"),gn&&G.push(`version name "${W}" contains illegal characters (whitespace or "/")`),void V.warn(G.join(" "))}tt(new U.wA(`${ct}-version`,()=>({library:ct,version:W}),"VERSION"))}function bn(me,W){if(null!==me&&"function"!=typeof me)throw yt.create("invalid-log-argument");(0,N.Am)(me,W)}function tr(me){(0,N.Ub)(me)}const Gr="firebase-heartbeat-database",wt=1,Ct="firebase-heartbeat-store";let Nt=null;function Rt(){return Nt||(Nt=(0,se.X3)(Gr,wt,{upgrade:(me,W)=>{0===W&&me.createObjectStore(Ct)}}).catch(me=>{throw yt.create("idb-open",{originalErrorMessage:me.message})})),Nt}function fn(){return(fn=(0,h.Z)(function*(me){try{return yield(yield Rt()).transaction(Ct).objectStore(Ct).get(Pr(me))}catch(W){if(W instanceof Y.ZR)V.warn(W.message);else{const Ee=yt.create("idb-get",{originalErrorMessage:W?.message});V.warn(Ee.message)}}})).apply(this,arguments)}function Kt(me,W){return pn.apply(this,arguments)}function pn(){return(pn=(0,h.Z)(function*(me,W){try{const He=(yield Rt()).transaction(Ct,"readwrite");yield He.objectStore(Ct).put(W,Pr(me)),yield He.done}catch(Ee){if(Ee instanceof Y.ZR)V.warn(Ee.message);else{const He=yt.create("idb-set",{originalErrorMessage:Ee?.message});V.warn(He.message)}}})).apply(this,arguments)}function Pr(me){return`${me.name}!${me.options.appId}`}class Xt{constructor(W){this.container=W,this._heartbeatsCache=null;const Ee=this.container.getProvider("app").getImmediate();this._storage=new or(Ee),this._heartbeatsCachePromise=this._storage.read().then(He=>(this._heartbeatsCache=He,He))}triggerHeartbeat(){var W=this;return(0,h.Z)(function*(){const He=W.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ct=cn();if(null===W._heartbeatsCache&&(W._heartbeatsCache=yield W._heartbeatsCachePromise),W._heartbeatsCache.lastSentHeartbeatDate!==ct&&!W._heartbeatsCache.heartbeats.some(Et=>Et.date===ct))return W._heartbeatsCache.heartbeats.push({date:ct,agent:He}),W._heartbeatsCache.heartbeats=W._heartbeatsCache.heartbeats.filter(Et=>{const gn=new Date(Et.date).valueOf();return Date.now()-gn<=2592e6}),W._storage.overwrite(W._heartbeatsCache)})()}getHeartbeatsHeader(){var W=this;return(0,h.Z)(function*(){if(null===W._heartbeatsCache&&(yield W._heartbeatsCachePromise),null===W._heartbeatsCache||0===W._heartbeatsCache.heartbeats.length)return"";const Ee=cn(),{heartbeatsToSend:He,unsentEntries:ct}=function Dr(me,W=1024){const Ee=[];let He=me.slice();for(const ct of me){const Et=Ee.find(gn=>gn.agent===ct.agent);if(Et){if(Et.dates.push(ct.date),dr(Ee)>W){Et.dates.pop();break}}else if(Ee.push({agent:ct.agent,dates:[ct.date]}),dr(Ee)>W){Ee.pop();break}He=He.slice(1)}return{heartbeatsToSend:Ee,unsentEntries:He}}(W._heartbeatsCache.heartbeats),Et=(0,Y.L)(JSON.stringify({version:2,heartbeats:He}));return W._heartbeatsCache.lastSentHeartbeatDate=Ee,ct.length>0?(W._heartbeatsCache.heartbeats=ct,yield W._storage.overwrite(W._heartbeatsCache)):(W._heartbeatsCache.heartbeats=[],W._storage.overwrite(W._heartbeatsCache)),Et})()}}function cn(){return(new Date).toISOString().substring(0,10)}class or{constructor(W){this.app=W,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,Y.hl)()&&(0,Y.eu)().then(()=>!0).catch(()=>!1)})()}read(){var W=this;return(0,h.Z)(function*(){return(yield W._canUseIndexedDBPromise)&&(yield function mr(me){return fn.apply(this,arguments)}(W.app))||{heartbeats:[]}})()}overwrite(W){var Ee=this;return(0,h.Z)(function*(){var He;if(yield Ee._canUseIndexedDBPromise){const Et=yield Ee.read();return Kt(Ee.app,{lastSentHeartbeatDate:null!==(He=W.lastSentHeartbeatDate)&&void 0!==He?He:Et.lastSentHeartbeatDate,heartbeats:W.heartbeats})}})()}add(W){var Ee=this;return(0,h.Z)(function*(){var He;if(yield Ee._canUseIndexedDBPromise){const Et=yield Ee.read();return Kt(Ee.app,{lastSentHeartbeatDate:null!==(He=W.lastSentHeartbeatDate)&&void 0!==He?He:Et.lastSentHeartbeatDate,heartbeats:[...Et.heartbeats,...W.heartbeats]})}})()}}function dr(me){return(0,Y.L)(JSON.stringify({version:2,heartbeats:me})).length}!function Un(me){tt(new U.wA("platform-logger",W=>new ve(W),"PRIVATE")),tt(new U.wA("heartbeat",W=>new Xt(W),"PRIVATE")),Vn(Oe,"0.9.19",me),Vn(Oe,"0.9.19","esm2017"),Vn("fire-js","")}("")},4537:(vt,be,A)=>{A.d(be,{H0:()=>Oe,wA:()=>N});var h=A(5861),U=A(9058);class N{constructor(V,q,ne){this.name=V,this.instanceFactory=q,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}const Y="[DEFAULT]";class se{constructor(V,q){this.name=V,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(V){const q=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(q)){const ne=new U.BH;if(this.instancesDeferred.set(q,ne),this.isInitialized(q)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:q});Ue&&ne.resolve(Ue)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(V){var q;const ne=this.normalizeInstanceIdentifier(V?.identifier),Ue=null!==(q=V?.optional)&&void 0!==q&&q;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(Ie){if(Ue)return null;throw Ie}}getComponent(){return this.component}setComponent(V){if(V.name!==this.name)throw Error(`Mismatching Component ${V.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=V,this.shouldAutoInitialize()){if(function _e(he){return"EAGER"===he.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:Y})}catch{}for(const[q,ne]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(q);try{const Ie=this.getOrInitializeService({instanceIdentifier:Ue});ne.resolve(Ie)}catch{}}}}clearInstance(V=Y){this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)}delete(){var V=this;return(0,h.Z)(function*(){const q=Array.from(V.instances.values());yield Promise.all([...q.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...q.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(V=Y){return this.instances.has(V)}getOptions(V=Y){return this.instancesOptions.get(V)||{}}initialize(V={}){const{options:q={}}=V,ne=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:ne,options:q});for(const[Ie,Ye]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(Ie)&&Ye.resolve(Ue);return Ue}onInit(V,q){var ne;const Ue=this.normalizeInstanceIdentifier(q),Ie=null!==(ne=this.onInitCallbacks.get(Ue))&&void 0!==ne?ne:new Set;Ie.add(V),this.onInitCallbacks.set(Ue,Ie);const Ye=this.instances.get(Ue);return Ye&&V(Ye,Ue),()=>{Ie.delete(V)}}invokeOnInitCallbacks(V,q){const ne=this.onInitCallbacks.get(q);if(ne)for(const Ue of ne)try{Ue(V,q)}catch{}}getOrInitializeService({instanceIdentifier:V,options:q={}}){let ne=this.instances.get(V);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(he=V,he===Y?void 0:he),options:q}),this.instances.set(V,ne),this.instancesOptions.set(V,q),this.invokeOnInitCallbacks(ne,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,ne)}catch{}var he;return ne||null}normalizeInstanceIdentifier(V=Y){return this.component?this.component.multipleInstances?V:Y:V}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Oe{constructor(V){this.name=V,this.providers=new Map}addComponent(V){const q=this.getProvider(V.name);if(q.isComponentSet())throw new Error(`Component ${V.name} has already been registered with ${this.name}`);q.setComponent(V)}addOrOverwriteComponent(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)}getProvider(V){if(this.providers.has(V))return this.providers.get(V);const q=new se(V,this);return this.providers.set(V,q),q}getProviders(){return Array.from(this.providers.values())}}},2591:(vt,be,A)=>{var h=A(5861),U=A(4303),N=A(4537),Y=A(9058);const se=($,re)=>re.some(xe=>$ instanceof xe);let ve,_e;const V=new WeakMap,q=new WeakMap,ne=new WeakMap,Ue=new WeakMap,Ie=new WeakMap;let Ze={get($,re,xe){if($ instanceof IDBTransaction){if("done"===re)return q.get($);if("objectStoreNames"===re)return $.objectStoreNames||ne.get($);if("store"===re)return xe.objectStoreNames[1]?void 0:xe.objectStore(xe.objectStoreNames[0])}return ee($[re])},set:($,re,xe)=>($[re]=xe,!0),has:($,re)=>$ instanceof IDBTransaction&&("done"===re||"store"===re)||re in $};function ft($){return"function"==typeof $?function ht($){return $!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return _e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes($)?function(...re){return $.apply(Te(this),re),ee(V.get(this))}:function(...re){return ee($.apply(Te(this),re))}:function(re,...xe){const gt=$.call(Te(this),re,...xe);return ne.set(gt,re.sort?re.sort():[re]),ee(gt)}}($):($ instanceof IDBTransaction&&function ke($){if(q.has($))return;const re=new Promise((xe,gt)=>{const En=()=>{$.removeEventListener("complete",In),$.removeEventListener("error",en),$.removeEventListener("abort",en)},In=()=>{xe(),En()},en=()=>{gt($.error||new DOMException("AbortError","AbortError")),En()};$.addEventListener("complete",In),$.addEventListener("error",en),$.addEventListener("abort",en)});q.set($,re)}($),se($,function Oe(){return ve||(ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy($,Ze):$)}function ee($){if($ instanceof IDBRequest)return function Ye($){const re=new Promise((xe,gt)=>{const En=()=>{$.removeEventListener("success",In),$.removeEventListener("error",en)},In=()=>{xe(ee($.result)),En()},en=()=>{gt($.error),En()};$.addEventListener("success",In),$.addEventListener("error",en)});return re.then(xe=>{xe instanceof IDBCursor&&V.set(xe,$)}).catch(()=>{}),Ie.set(re,$),re}($);if(Ue.has($))return Ue.get($);const re=ft($);return re!==$&&(Ue.set($,re),Ie.set(re,$)),re}const Te=$=>Ie.get($),Be=["get","getKey","getAll","getAllKeys","count"],k=["put","add","delete","clear"],te=new Map;function De($,re){if(!($ instanceof IDBDatabase)||re in $||"string"!=typeof re)return;if(te.get(re))return te.get(re);const xe=re.replace(/FromIndex$/,""),gt=re!==xe,En=k.includes(xe);if(!(xe in(gt?IDBIndex:IDBObjectStore).prototype)||!En&&!Be.includes(xe))return;const In=function(){var en=(0,h.Z)(function*(nr,...hr){const Rr=this.transaction(nr,En?"readwrite":"readonly");let us=Rr.store;return gt&&(us=us.index(hr.shift())),(yield Promise.all([us[xe](...hr),En&&Rr.done]))[0]});return function(hr){return en.apply(this,arguments)}}();return te.set(re,In),In}!function Ae($){Ze=$(Ze)}($=>({...$,get:(re,xe,gt)=>De(re,xe)||$.get(re,xe,gt),has:(re,xe)=>!!De(re,xe)||$.has(re,xe)}));const st="@firebase/installations",Lt="0.6.4",Ht=1e4,Gt=`w:${Lt}`,dn="FIS_v2",Jt="https://firebaseinstallations.googleapis.com/v1",Gn=36e5,oe=new Y.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Se($){return $ instanceof Y.ZR&&$.code.includes("request-failed")}function Ge({projectId:$}){return`${Jt}/projects/${$}/installations`}function tt($){return{token:$.token,requestStatus:2,expiresIn:jn($.expiresIn),creationTime:Date.now()}}function qe($,re){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,h.Z)(function*($,re){const gt=(yield re.json()).error;return oe.create("request-failed",{requestName:$,serverCode:gt.code,serverMessage:gt.message,serverStatus:gt.status})})).apply(this,arguments)}function bt({apiKey:$}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":$})}function yt($){return hn.apply(this,arguments)}function hn(){return(hn=(0,h.Z)(function*($){const re=yield $();return re.status>=500&&re.status<600?$():re})).apply(this,arguments)}function jn($){return Number($.replace("s","000"))}function Rn(){return(Rn=(0,h.Z)(function*({appConfig:$,heartbeatServiceProvider:re},{fid:xe}){const gt=Ge($),En=bt($),In=re.getImmediate({optional:!0});if(In){const Rr=yield In.getHeartbeatsHeader();Rr&&En.append("x-firebase-client",Rr)}const nr={method:"POST",headers:En,body:JSON.stringify({fid:xe,authVersion:dn,appId:$.appId,sdkVersion:Gt})},hr=yield yt(()=>fetch(gt,nr));if(hr.ok){const Rr=yield hr.json();return{fid:Rr.fid||xe,registrationStatus:2,refreshToken:Rr.refreshToken,authToken:tt(Rr.authToken)}}throw yield qe("Create Installation",hr)})).apply(this,arguments)}function sr($){return new Promise(re=>{setTimeout(re,$)})}const Vn=/^[cdef][\w-]{21}$/,bn="";function tr(){try{const $=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues($),$[0]=112+$[0]%16;const xe=function Gr($){return function Zn($){return btoa(String.fromCharCode(...$)).replace(/\+/g,"-").replace(/\//g,"_")}($).substr(0,22)}($);return Vn.test(xe)?xe:bn}catch{return bn}}function wt($){return`${$.appName}!${$.appId}`}const Ct=new Map;function Nt($,re){const xe=wt($);fn(xe,re),function Kt($,re){const xe=function Pr(){return!pn&&"BroadcastChannel"in self&&(pn=new BroadcastChannel("[Firebase] FID Change"),pn.onmessage=$=>{fn($.data.key,$.data.fid)}),pn}();xe&&xe.postMessage({key:$,fid:re}),function rn(){0===Ct.size&&pn&&(pn.close(),pn=null)}()}(xe,re)}function fn($,re){const xe=Ct.get($);if(xe)for(const gt of xe)gt(re)}let pn=null;const pi="firebase-installations-database",Xt=1,cn="firebase-installations-store";let Dr=null;function or(){return Dr||(Dr=function ue($,re,{blocked:xe,upgrade:gt,blocking:En,terminated:In}={}){const en=indexedDB.open($,re),nr=ee(en);return gt&&en.addEventListener("upgradeneeded",hr=>{gt(ee(en.result),hr.oldVersion,hr.newVersion,ee(en.transaction))}),xe&&en.addEventListener("blocked",()=>xe()),nr.then(hr=>{In&&hr.addEventListener("close",()=>In()),En&&hr.addEventListener("versionchange",()=>En())}).catch(()=>{}),nr}(pi,Xt,{upgrade:($,re)=>{0===re&&$.createObjectStore(cn)}})),Dr}function dr($,re){return Un.apply(this,arguments)}function Un(){return(Un=(0,h.Z)(function*($,re){const xe=wt($),En=(yield or()).transaction(cn,"readwrite"),In=En.objectStore(cn),en=yield In.get(xe);return yield In.put(re,xe),yield En.done,(!en||en.fid!==re.fid)&&Nt($,re.fid),re})).apply(this,arguments)}function me($){return W.apply(this,arguments)}function W(){return(W=(0,h.Z)(function*($){const re=wt($),gt=(yield or()).transaction(cn,"readwrite");yield gt.objectStore(cn).delete(re),yield gt.done})).apply(this,arguments)}function Ee($,re){return He.apply(this,arguments)}function He(){return(He=(0,h.Z)(function*($,re){const xe=wt($),En=(yield or()).transaction(cn,"readwrite"),In=En.objectStore(cn),en=yield In.get(xe),nr=re(en);return void 0===nr?yield In.delete(xe):yield In.put(nr,xe),yield En.done,nr&&(!en||en.fid!==nr.fid)&&Nt($,nr.fid),nr})).apply(this,arguments)}function ct($){return Et.apply(this,arguments)}function Et(){return Et=(0,h.Z)(function*($){let re;const xe=yield Ee($.appConfig,gt=>{const En=function gn($){return Ne($||{fid:tr(),registrationStatus:0})}(gt),In=function G($,re){if(0===re.registrationStatus){if(!navigator.onLine)return{installationEntry:re,registrationPromise:Promise.reject(oe.create("app-offline"))};const xe={fid:re.fid,registrationStatus:1,registrationTime:Date.now()},gt=function H($,re){return P.apply(this,arguments)}($,xe);return{installationEntry:xe,registrationPromise:gt}}return 1===re.registrationStatus?{installationEntry:re,registrationPromise:R($)}:{installationEntry:re}}($,En);return re=In.registrationPromise,In.installationEntry});return xe.fid===bn?{installationEntry:yield re}:{installationEntry:xe,registrationPromise:re}}),Et.apply(this,arguments)}function P(){return P=(0,h.Z)(function*($,re){try{const xe=yield function _n($,re){return Rn.apply(this,arguments)}($,re);return dr($.appConfig,xe)}catch(xe){throw Se(xe)&&409===xe.customData.serverCode?yield me($.appConfig):yield dr($.appConfig,{fid:re.fid,registrationStatus:0}),xe}}),P.apply(this,arguments)}function R($){return M.apply(this,arguments)}function M(){return(M=(0,h.Z)(function*($){let re=yield X($.appConfig);for(;1===re.registrationStatus;)yield sr(100),re=yield X($.appConfig);if(0===re.registrationStatus){const{installationEntry:xe,registrationPromise:gt}=yield ct($);return gt||xe}return re})).apply(this,arguments)}function X($){return Ee($,re=>{if(!re)throw oe.create("installation-not-found");return Ne(re)})}function Ne($){return function Qe($){return 1===$.registrationStatus&&$.registrationTime+Ht<Date.now()}($)?{fid:$.fid,registrationStatus:0}:$}function ot(){return(ot=(0,h.Z)(function*({appConfig:$,heartbeatServiceProvider:re},xe){const gt=function mn($,{fid:re}){return`${Ge($)}/${re}/authTokens:generate`}($,xe),En=function nn($,{refreshToken:re}){const xe=bt($);return xe.append("Authorization",function Ln($){return`${dn} ${$}`}(re)),xe}($,xe),In=re.getImmediate({optional:!0});if(In){const Rr=yield In.getHeartbeatsHeader();Rr&&En.append("x-firebase-client",Rr)}const nr={method:"POST",headers:En,body:JSON.stringify({installation:{sdkVersion:Gt,appId:$.appId}})},hr=yield yt(()=>fetch(gt,nr));if(hr.ok)return tt(yield hr.json());throw yield qe("Generate Auth Token",hr)})).apply(this,arguments)}function Vt($){return wn.apply(this,arguments)}function wn(){return wn=(0,h.Z)(function*($,re=!1){let xe;const gt=yield Ee($.appConfig,In=>{if(!at(In))throw oe.create("not-registered");const en=In.authToken;if(!re&&function Ot($){return 2===$.requestStatus&&!function lt($){const re=Date.now();return re<$.creationTime||$.creationTime+$.expiresIn<re+Gn}($)}(en))return In;if(1===en.requestStatus)return xe=function Yt($,re){return yr.apply(this,arguments)}($,re),In;{if(!navigator.onLine)throw oe.create("app-offline");const nr=function Tn($){const re={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},$),{authToken:re})}(In);return xe=function de($,re){return nt.apply(this,arguments)}($,nr),nr}});return xe?yield xe:gt.authToken}),wn.apply(this,arguments)}function yr(){return(yr=(0,h.Z)(function*($,re){let xe=yield K($.appConfig);for(;1===xe.authToken.requestStatus;)yield sr(100),xe=yield K($.appConfig);const gt=xe.authToken;return 0===gt.requestStatus?Vt($,re):gt})).apply(this,arguments)}function K($){return Ee($,re=>{if(!at(re))throw oe.create("not-registered");return function ti($){return 1===$.requestStatus&&$.requestTime+Ht<Date.now()}(re.authToken)?Object.assign(Object.assign({},re),{authToken:{requestStatus:0}}):re})}function nt(){return nt=(0,h.Z)(function*($,re){try{const xe=yield function xt($,re){return ot.apply(this,arguments)}($,re),gt=Object.assign(Object.assign({},re),{authToken:xe});return yield dr($.appConfig,gt),xe}catch(xe){if(!Se(xe)||401!==xe.customData.serverCode&&404!==xe.customData.serverCode){const gt=Object.assign(Object.assign({},re),{authToken:{requestStatus:0}});yield dr($.appConfig,gt)}else yield me($.appConfig);throw xe}}),nt.apply(this,arguments)}function at($){return void 0!==$&&2===$.registrationStatus}function Ki(){return(Ki=(0,h.Z)(function*($){const re=$,{installationEntry:xe,registrationPromise:gt}=yield ct(re);return gt?gt.catch(console.error):Vt(re).catch(console.error),xe.fid})).apply(this,arguments)}function ln(){return ln=(0,h.Z)(function*($,re=!1){const xe=$;return yield function Fs($){return Ks.apply(this,arguments)}(xe),(yield Vt(xe,re)).token}),ln.apply(this,arguments)}function Ks(){return(Ks=(0,h.Z)(function*($){const{registrationPromise:re}=yield ct($);re&&(yield re)})).apply(this,arguments)}function Va($){return oe.create("missing-app-config-values",{valueName:$})}const Co="installations",Ua=$=>{const re=$.getProvider("app").getImmediate(),xe=function Ui($){if(!$||!$.options)throw Va("App Configuration");if(!$.name)throw Va("App Name");const re=["projectId","apiKey","appId"];for(const xe of re)if(!$.options[xe])throw Va(xe);return{appName:$.name,projectId:$.options.projectId,apiKey:$.options.apiKey,appId:$.options.appId}}(re);return{app:re,appConfig:xe,heartbeatServiceProvider:(0,U._getProvider)(re,"heartbeat"),_delete:()=>Promise.resolve()}},ua=$=>{const re=$.getProvider("app").getImmediate(),xe=(0,U._getProvider)(re,Co).getImmediate();return{getId:()=>function ni($){return Ki.apply(this,arguments)}(xe),getToken:En=>function Nr($){return ln.apply(this,arguments)}(xe,En)}};(function zu(){(0,U._registerComponent)(new N.wA(Co,Ua,"PUBLIC")),(0,U._registerComponent)(new N.wA("installations-internal",ua,"PRIVATE"))})(),(0,U.registerVersion)(st,Lt),(0,U.registerVersion)(st,Lt,"esm2017")},7879:(vt,be,A)=>{A.d(be,{Am:()=>he,Ub:()=>Oe,Yd:()=>_e,in:()=>U});const h=[];var U=function(V){return V[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT",V}(U||{});const N={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},Y=U.INFO,se={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},ve=(V,q,...ne)=>{if(q<V.logLevel)return;const Ue=(new Date).toISOString(),Ie=se[q];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Ie](`[${Ue}]  ${V.name}:`,...ne)};class _e{constructor(q){this.name=q,this._logLevel=Y,this._logHandler=ve,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in U))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?N[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...q),this._logHandler(this,U.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...q),this._logHandler(this,U.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,U.INFO,...q),this._logHandler(this,U.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,U.WARN,...q),this._logHandler(this,U.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...q),this._logHandler(this,U.ERROR,...q)}}function Oe(V){h.forEach(q=>{q.setLogLevel(V)})}function he(V,q){for(const ne of h){let Ue=null;q&&q.level&&(Ue=N[q.level]),ne.userLogHandler=null===V?null:(Ie,Ye,...ke)=>{const Ze=ke.map(Ae=>{if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch{return null}}).filter(Ae=>Ae).join(" ");Ye>=(Ue??Ie.logLevel)&&V({level:U[Ye].toLowerCase(),message:Ze,args:ke,type:Ie.name})}}}},2650:(vt,be,A)=>{A.d(be,{Gb:()=>X,LP:()=>Vt,pQ:()=>Yt,ps:()=>yr});var h=A(5861),N=(A(2591),A(4537)),Y=A(9240),se=A(9058),ve=A(4303);const _e="/firebase-messaging-sw.js",Oe="/firebase-cloud-messaging-push-scope",he="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",V="https://fcmregistrations.googleapis.com/v1",q="google.c.a.c_id",ne="google.c.a.c_l",Ue="google.c.a.ts";var ke=function(K){return K.PUSH_RECEIVED="push-received",K.NOTIFICATION_CLICKED="notification-clicked",K}(ke||{});function Ze(K){const de=new Uint8Array(K);return btoa(String.fromCharCode(...de)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ae(K){const nt=(K+"=".repeat((4-K.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),at=atob(nt),Ot=new Uint8Array(at.length);for(let lt=0;lt<at.length;++lt)Ot[lt]=at.charCodeAt(lt);return Ot}const ht="fcm_token_details_db",ft=5,ee="fcm_token_object_Store";function ue(){return ue=(0,h.Z)(function*(K){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(lt=>lt.name).includes(ht))return null;let de=null;return(yield(0,Y.X3)(ht,ft,{upgrade:(at=(0,h.Z)(function*(Ot,lt,Tn,ti){var ni;if(lt<2||!Ot.objectStoreNames.contains(ee))return;const Ki=ti.objectStore(ee),Nr=yield Ki.index("fcmSenderId").get(K);if(yield Ki.clear(),Nr)if(2===lt){const ln=Nr;if(!ln.auth||!ln.p256dh||!ln.endpoint)return;de={token:ln.fcmToken,createTime:null!==(ni=ln.createTime)&&void 0!==ni?ni:Date.now(),subscriptionOptions:{auth:ln.auth,p256dh:ln.p256dh,endpoint:ln.endpoint,swScope:ln.swScope,vapidKey:"string"==typeof ln.vapidKey?ln.vapidKey:Ze(ln.vapidKey)}}}else if(3===lt){const ln=Nr;de={token:ln.fcmToken,createTime:ln.createTime,subscriptionOptions:{auth:Ze(ln.auth),p256dh:Ze(ln.p256dh),endpoint:ln.endpoint,swScope:ln.swScope,vapidKey:Ze(ln.vapidKey)}}}else if(4===lt){const ln=Nr;de={token:ln.fcmToken,createTime:ln.createTime,subscriptionOptions:{auth:Ze(ln.auth),p256dh:Ze(ln.p256dh),endpoint:ln.endpoint,swScope:ln.swScope,vapidKey:Ze(ln.vapidKey)}}}}),function(lt,Tn,ti,ni){return at.apply(this,arguments)})})).close(),yield(0,Y.Lj)(ht),yield(0,Y.Lj)("fcm_vapid_details_db"),yield(0,Y.Lj)("undefined"),function Me(K){if(!K||!K.subscriptionOptions)return!1;const{subscriptionOptions:de}=K;return"number"==typeof K.createTime&&K.createTime>0&&"string"==typeof K.token&&K.token.length>0&&"string"==typeof de.auth&&de.auth.length>0&&"string"==typeof de.p256dh&&de.p256dh.length>0&&"string"==typeof de.endpoint&&de.endpoint.length>0&&"string"==typeof de.swScope&&de.swScope.length>0&&"string"==typeof de.vapidKey&&de.vapidKey.length>0}(de)?de:null;var at}),ue.apply(this,arguments)}const Be="firebase-messaging-database",k=1,te="firebase-messaging-store";let De=null;function st(){return De||(De=(0,Y.X3)(Be,k,{upgrade:(K,de)=>{0===de&&K.createObjectStore(te)}})),De}function Lt(K){return Ht.apply(this,arguments)}function Ht(){return Ht=(0,h.Z)(function*(K){const de=ae(K),at=yield(yield st()).transaction(te).objectStore(te).get(de);if(at)return at;{const Ot=yield function Te(K){return ue.apply(this,arguments)}(K.appConfig.senderId);if(Ot)return yield Gt(K,Ot),Ot}}),Ht.apply(this,arguments)}function Gt(K,de){return dn.apply(this,arguments)}function dn(){return(dn=(0,h.Z)(function*(K,de){const nt=ae(K),Ot=(yield st()).transaction(te,"readwrite");return yield Ot.objectStore(te).put(de,nt),yield Ot.done,de})).apply(this,arguments)}function Gn(){return(Gn=(0,h.Z)(function*(K){const de=ae(K),at=(yield st()).transaction(te,"readwrite");yield at.objectStore(te).delete(de),yield at.done})).apply(this,arguments)}function ae({appConfig:K}){return K.appId}const ce=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function oe(K,de){return Se.apply(this,arguments)}function Se(){return(Se=(0,h.Z)(function*(K,de){const nt=yield nn(K),at=hn(de),Ot={method:"POST",headers:nt,body:JSON.stringify(at)};let lt;try{lt=yield(yield fetch(bt(K.appConfig),Ot)).json()}catch(Tn){throw ce.create("token-subscribe-failed",{errorInfo:Tn?.toString()})}if(lt.error)throw ce.create("token-subscribe-failed",{errorInfo:lt.error.message});if(!lt.token)throw ce.create("token-subscribe-no-token");return lt.token})).apply(this,arguments)}function tt(){return(tt=(0,h.Z)(function*(K,de){const nt=yield nn(K),at=hn(de.subscriptionOptions),Ot={method:"PATCH",headers:nt,body:JSON.stringify(at)};let lt;try{lt=yield(yield fetch(`${bt(K.appConfig)}/${de.token}`,Ot)).json()}catch(Tn){throw ce.create("token-update-failed",{errorInfo:Tn?.toString()})}if(lt.error)throw ce.create("token-update-failed",{errorInfo:lt.error.message});if(!lt.token)throw ce.create("token-update-no-token");return lt.token})).apply(this,arguments)}function qe(K,de){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,h.Z)(function*(K,de){const at={method:"DELETE",headers:yield nn(K)};try{const lt=yield(yield fetch(`${bt(K.appConfig)}/${de}`,at)).json();if(lt.error)throw ce.create("token-unsubscribe-failed",{errorInfo:lt.error.message})}catch(Ot){throw ce.create("token-unsubscribe-failed",{errorInfo:Ot?.toString()})}})).apply(this,arguments)}function bt({projectId:K}){return`${V}/projects/${K}/registrations`}function nn(K){return yt.apply(this,arguments)}function yt(){return(yt=(0,h.Z)(function*({appConfig:K,installations:de}){const nt=yield de.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":K.apiKey,"x-goog-firebase-installations-auth":`FIS ${nt}`})})).apply(this,arguments)}function hn({p256dh:K,auth:de,endpoint:nt,vapidKey:at}){const Ot={web:{endpoint:nt,auth:de,p256dh:K}};return at!==he&&(Ot.web.applicationPubKey=at),Ot}const jn=6048e5;function _n(){return _n=(0,h.Z)(function*(K){const de=yield function Gr(K,de){return wt.apply(this,arguments)}(K.swRegistration,K.vapidKey),nt={vapidKey:K.vapidKey,swScope:K.swRegistration.scope,endpoint:de.endpoint,auth:Ze(de.getKey("auth")),p256dh:Ze(de.getKey("p256dh"))},at=yield Lt(K.firebaseDependencies);if(at){if(function Ct(K,de){return de.vapidKey===K.vapidKey&&de.endpoint===K.endpoint&&de.auth===K.auth&&de.p256dh===K.p256dh}(at.subscriptionOptions,nt))return Date.now()>=at.createTime+jn?function Zn(K,de){return Vn.apply(this,arguments)}(K,{token:at.token,createTime:Date.now(),subscriptionOptions:nt}):at.token;try{yield qe(K.firebaseDependencies,at.token)}catch(Ot){console.warn(Ot)}return bn(K.firebaseDependencies,nt)}return bn(K.firebaseDependencies,nt)}),_n.apply(this,arguments)}function Rn(K){return sr.apply(this,arguments)}function sr(){return sr=(0,h.Z)(function*(K){const de=yield Lt(K.firebaseDependencies);de&&(yield qe(K.firebaseDependencies,de.token),yield function Jt(K){return Gn.apply(this,arguments)}(K.firebaseDependencies));const nt=yield K.swRegistration.pushManager.getSubscription();return!nt||nt.unsubscribe()}),sr.apply(this,arguments)}function Vn(){return Vn=(0,h.Z)(function*(K,de){try{const nt=yield function Ge(K,de){return tt.apply(this,arguments)}(K.firebaseDependencies,de),at=Object.assign(Object.assign({},de),{token:nt,createTime:Date.now()});return yield Gt(K.firebaseDependencies,at),nt}catch(nt){throw yield Rn(K),nt}}),Vn.apply(this,arguments)}function bn(K,de){return tr.apply(this,arguments)}function tr(){return(tr=(0,h.Z)(function*(K,de){const at={token:yield oe(K,de),createTime:Date.now(),subscriptionOptions:de};return yield Gt(K,at),at.token})).apply(this,arguments)}function wt(){return(wt=(0,h.Z)(function*(K,de){return(yield K.pushManager.getSubscription())||K.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ae(de)})})).apply(this,arguments)}function Nt(K){const de={from:K.from,collapseKey:K.collapse_key,messageId:K.fcmMessageId};return function Rt(K,de){if(!de.notification)return;K.notification={};const nt=de.notification.title;nt&&(K.notification.title=nt);const at=de.notification.body;at&&(K.notification.body=at);const Ot=de.notification.image;Ot&&(K.notification.image=Ot);const lt=de.notification.icon;lt&&(K.notification.icon=lt)}(de,K),function mr(K,de){de.data&&(K.data=de.data)}(de,K),function fn(K,de){var nt,at,Ot,lt,Tn;if(!(de.fcmOptions||null!==(nt=de.notification)&&void 0!==nt&&nt.click_action))return;K.fcmOptions={};const ti=null!==(Ot=null===(at=de.fcmOptions)||void 0===at?void 0:at.link)&&void 0!==Ot?Ot:null===(lt=de.notification)||void 0===lt?void 0:lt.click_action;ti&&(K.fcmOptions.link=ti);const ni=null===(Tn=de.fcmOptions)||void 0===Tn?void 0:Tn.analytics_label;ni&&(K.fcmOptions.analyticsLabel=ni)}(de,K),de}function pn(K,de){const nt=[];for(let at=0;at<K.length;at++)nt.push(K.charAt(at)),at<de.length&&nt.push(de.charAt(at));return nt.join("")}function rn(K){return ce.create("missing-app-config-values",{valueName:K})}pn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),pn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class pi{constructor(de,nt,at){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ot=function Pr(K){if(!K||!K.options)throw rn("App Configuration Object");if(!K.name)throw rn("App Name");const de=["projectId","apiKey","appId","messagingSenderId"],{options:nt}=K;for(const at of de)if(!nt[at])throw rn(at);return{appName:K.name,projectId:nt.projectId,apiKey:nt.apiKey,appId:nt.appId,senderId:nt.messagingSenderId}}(de);this.firebaseDependencies={app:de,appConfig:Ot,installations:nt,analyticsProvider:at}}_delete(){return Promise.resolve()}}function Xt(K){return cn.apply(this,arguments)}function cn(){return(cn=(0,h.Z)(function*(K){try{K.swRegistration=yield navigator.serviceWorker.register(_e,{scope:Oe}),K.swRegistration.update().catch(()=>{})}catch(de){throw ce.create("failed-service-worker-registration",{browserErrorMessage:de?.message})}})).apply(this,arguments)}function or(){return(or=(0,h.Z)(function*(K,de){if(!de&&!K.swRegistration&&(yield Xt(K)),de||!K.swRegistration){if(!(de instanceof ServiceWorkerRegistration))throw ce.create("invalid-sw-registration");K.swRegistration=de}})).apply(this,arguments)}function Un(){return(Un=(0,h.Z)(function*(K,de){de?K.vapidKey=de:K.vapidKey||(K.vapidKey=he)})).apply(this,arguments)}function me(K,de){return W.apply(this,arguments)}function W(){return W=(0,h.Z)(function*(K,de){if(!navigator)throw ce.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ce.create("permission-blocked");return yield function dr(K,de){return Un.apply(this,arguments)}(K,de?.vapidKey),yield function Dr(K,de){return or.apply(this,arguments)}(K,de?.serviceWorkerRegistration),function Ln(K){return _n.apply(this,arguments)}(K)}),W.apply(this,arguments)}function He(){return(He=(0,h.Z)(function*(K,de,nt){const at=function ct(K){switch(K){case ke.NOTIFICATION_CLICKED:return"notification_open";case ke.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(de);(yield K.firebaseDependencies.analyticsProvider.get()).logEvent(at,{message_id:nt[q],message_name:nt[ne],message_time:nt[Ue],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function gn(){return gn=(0,h.Z)(function*(K,de){const nt=de.data;if(!nt.isFirebaseMessaging)return;K.onMessageHandler&&nt.messageType===ke.PUSH_RECEIVED&&("function"==typeof K.onMessageHandler?K.onMessageHandler(Nt(nt)):K.onMessageHandler.next(Nt(nt)));const at=nt.data;(function Kt(K){return"object"==typeof K&&!!K&&q in K})(at)&&"1"===at["google.c.a.e"]&&(yield function Ee(K,de,nt){return He.apply(this,arguments)}(K,nt.messageType,at))}),gn.apply(this,arguments)}const G="@firebase/messaging",H="0.12.4",P=K=>{const de=new pi(K.getProvider("app").getImmediate(),K.getProvider("installations-internal").getImmediate(),K.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",nt=>function Et(K,de){return gn.apply(this,arguments)}(de,nt)),de},R=K=>{const de=K.getProvider("messaging").getImmediate();return{getToken:at=>me(de,at)}};function X(){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,h.Z)(function*(){try{yield(0,se.eu)()}catch{return!1}return typeof window<"u"&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function xt(){return(xt=(0,h.Z)(function*(K){if(!navigator)throw ce.create("only-available-in-window");return K.swRegistration||(yield Xt(K)),Rn(K)})).apply(this,arguments)}function Vt(K,de){return wn.apply(this,arguments)}function wn(){return(wn=(0,h.Z)(function*(K,de){return me(K=(0,se.m9)(K),de)})).apply(this,arguments)}function Yt(K){return function Qe(K){return xt.apply(this,arguments)}(K=(0,se.m9)(K))}function yr(K,de){return function ot(K,de){if(!navigator)throw ce.create("only-available-in-window");return K.onMessageHandler=de,()=>{K.onMessageHandler=null}}(K=(0,se.m9)(K),de)}!function M(){(0,ve._registerComponent)(new N.wA("messaging",P,"PUBLIC")),(0,ve._registerComponent)(new N.wA("messaging-internal",R,"PRIVATE")),(0,ve.registerVersion)(G,H),(0,ve.registerVersion)(G,H,"esm2017")}()},9240:(vt,be,A)=>{A.d(be,{Lj:()=>ee,X3:()=>ft});var h=A(5861);const U=(k,te)=>te.some(De=>k instanceof De);let N,Y;const _e=new WeakMap,Oe=new WeakMap,he=new WeakMap,V=new WeakMap,q=new WeakMap;let Ie={get(k,te,De){if(k instanceof IDBTransaction){if("done"===te)return Oe.get(k);if("objectStoreNames"===te)return k.objectStoreNames||he.get(k);if("store"===te)return De.objectStoreNames[1]?void 0:De.objectStore(De.objectStoreNames[0])}return Ae(k[te])},set:(k,te,De)=>(k[te]=De,!0),has:(k,te)=>k instanceof IDBTransaction&&("done"===te||"store"===te)||te in k};function Ze(k){return"function"==typeof k?function ke(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return Y||(Y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...te){return k.apply(ht(this),te),Ae(_e.get(this))}:function(...te){return Ae(k.apply(ht(this),te))}:function(te,...De){const st=k.call(ht(this),te,...De);return he.set(st,te.sort?te.sort():[te]),Ae(st)}}(k):(k instanceof IDBTransaction&&function Ue(k){if(Oe.has(k))return;const te=new Promise((De,st)=>{const Lt=()=>{k.removeEventListener("complete",Ht),k.removeEventListener("error",Gt),k.removeEventListener("abort",Gt)},Ht=()=>{De(),Lt()},Gt=()=>{st(k.error||new DOMException("AbortError","AbortError")),Lt()};k.addEventListener("complete",Ht),k.addEventListener("error",Gt),k.addEventListener("abort",Gt)});Oe.set(k,te)}(k),U(k,function se(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,Ie):k)}function Ae(k){if(k instanceof IDBRequest)return function ne(k){const te=new Promise((De,st)=>{const Lt=()=>{k.removeEventListener("success",Ht),k.removeEventListener("error",Gt)},Ht=()=>{De(Ae(k.result)),Lt()},Gt=()=>{st(k.error),Lt()};k.addEventListener("success",Ht),k.addEventListener("error",Gt)});return te.then(De=>{De instanceof IDBCursor&&_e.set(De,k)}).catch(()=>{}),q.set(te,k),te}(k);if(V.has(k))return V.get(k);const te=Ze(k);return te!==k&&(V.set(k,te),q.set(te,k)),te}const ht=k=>q.get(k);function ft(k,te,{blocked:De,upgrade:st,blocking:Lt,terminated:Ht}={}){const Gt=indexedDB.open(k,te),dn=Ae(Gt);return st&&Gt.addEventListener("upgradeneeded",Jt=>{st(Ae(Gt.result),Jt.oldVersion,Jt.newVersion,Ae(Gt.transaction))}),De&&Gt.addEventListener("blocked",()=>De()),dn.then(Jt=>{Ht&&Jt.addEventListener("close",()=>Ht()),Lt&&Jt.addEventListener("versionchange",()=>Lt())}).catch(()=>{}),dn}function ee(k,{blocked:te}={}){const De=indexedDB.deleteDatabase(k);return te&&De.addEventListener("blocked",()=>te()),Ae(De).then(()=>{})}const Te=["get","getKey","getAll","getAllKeys","count"],ue=["put","add","delete","clear"],Me=new Map;function Be(k,te){if(!(k instanceof IDBDatabase)||te in k||"string"!=typeof te)return;if(Me.get(te))return Me.get(te);const De=te.replace(/FromIndex$/,""),st=te!==De,Lt=ue.includes(De);if(!(De in(st?IDBIndex:IDBObjectStore).prototype)||!Lt&&!Te.includes(De))return;const Ht=function(){var Gt=(0,h.Z)(function*(dn,...Jt){const Gn=this.transaction(dn,Lt?"readwrite":"readonly");let ae=Gn.store;return st&&(ae=ae.index(Jt.shift())),(yield Promise.all([ae[De](...Jt),Lt&&Gn.done]))[0]});return function(Jt){return Gt.apply(this,arguments)}}();return Me.set(te,Ht),Ht}!function Ye(k){Ie=k(Ie)}(k=>({...k,get:(te,De,st)=>Be(te,De)||k.get(te,De,st),has:(te,De)=>!!Be(te,De)||k.has(te,De)}))},1878:(vt,be,A)=>{A.d(be,{X3:()=>ft});var h=A(5861);const U=(k,te)=>te.some(De=>k instanceof De);let N,Y;const _e=new WeakMap,Oe=new WeakMap,he=new WeakMap,V=new WeakMap,q=new WeakMap;let Ie={get(k,te,De){if(k instanceof IDBTransaction){if("done"===te)return Oe.get(k);if("objectStoreNames"===te)return k.objectStoreNames||he.get(k);if("store"===te)return De.objectStoreNames[1]?void 0:De.objectStore(De.objectStoreNames[0])}return Ae(k[te])},set:(k,te,De)=>(k[te]=De,!0),has:(k,te)=>k instanceof IDBTransaction&&("done"===te||"store"===te)||te in k};function Ze(k){return"function"==typeof k?function ke(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return Y||(Y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...te){return k.apply(ht(this),te),Ae(_e.get(this))}:function(...te){return Ae(k.apply(ht(this),te))}:function(te,...De){const st=k.call(ht(this),te,...De);return he.set(st,te.sort?te.sort():[te]),Ae(st)}}(k):(k instanceof IDBTransaction&&function Ue(k){if(Oe.has(k))return;const te=new Promise((De,st)=>{const Lt=()=>{k.removeEventListener("complete",Ht),k.removeEventListener("error",Gt),k.removeEventListener("abort",Gt)},Ht=()=>{De(),Lt()},Gt=()=>{st(k.error||new DOMException("AbortError","AbortError")),Lt()};k.addEventListener("complete",Ht),k.addEventListener("error",Gt),k.addEventListener("abort",Gt)});Oe.set(k,te)}(k),U(k,function se(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,Ie):k)}function Ae(k){if(k instanceof IDBRequest)return function ne(k){const te=new Promise((De,st)=>{const Lt=()=>{k.removeEventListener("success",Ht),k.removeEventListener("error",Gt)},Ht=()=>{De(Ae(k.result)),Lt()},Gt=()=>{st(k.error),Lt()};k.addEventListener("success",Ht),k.addEventListener("error",Gt)});return te.then(De=>{De instanceof IDBCursor&&_e.set(De,k)}).catch(()=>{}),q.set(te,k),te}(k);if(V.has(k))return V.get(k);const te=Ze(k);return te!==k&&(V.set(k,te),q.set(te,k)),te}const ht=k=>q.get(k);function ft(k,te,{blocked:De,upgrade:st,blocking:Lt,terminated:Ht}={}){const Gt=indexedDB.open(k,te),dn=Ae(Gt);return st&&Gt.addEventListener("upgradeneeded",Jt=>{st(Ae(Gt.result),Jt.oldVersion,Jt.newVersion,Ae(Gt.transaction),Jt)}),De&&Gt.addEventListener("blocked",Jt=>De(Jt.oldVersion,Jt.newVersion,Jt)),dn.then(Jt=>{Ht&&Jt.addEventListener("close",()=>Ht()),Lt&&Jt.addEventListener("versionchange",Gn=>Lt(Gn.oldVersion,Gn.newVersion,Gn))}).catch(()=>{}),dn}const Te=["get","getKey","getAll","getAllKeys","count"],ue=["put","add","delete","clear"],Me=new Map;function Be(k,te){if(!(k instanceof IDBDatabase)||te in k||"string"!=typeof te)return;if(Me.get(te))return Me.get(te);const De=te.replace(/FromIndex$/,""),st=te!==De,Lt=ue.includes(De);if(!(De in(st?IDBIndex:IDBObjectStore).prototype)||!Lt&&!Te.includes(De))return;const Ht=function(){var Gt=(0,h.Z)(function*(dn,...Jt){const Gn=this.transaction(dn,Lt?"readwrite":"readonly");let ae=Gn.store;return st&&(ae=ae.index(Jt.shift())),(yield Promise.all([ae[De](...Jt),Lt&&Gn.done]))[0]});return function(Jt){return Gt.apply(this,arguments)}}();return Me.set(te,Ht),Ht}!function Ye(k){Ie=k(Ie)}(k=>({...k,get:(te,De,st)=>Be(te,De)||k.get(te,De,st),has:(te,De)=>!!Be(te,De)||k.has(te,De)}))},5861:(vt,be,A)=>{function h(N,Y,se,ve,_e,Oe,he){try{var V=N[Oe](he),q=V.value}catch(ne){return void se(ne)}V.done?Y(q):Promise.resolve(q).then(ve,_e)}function U(N){return function(){var Y=this,se=arguments;return new Promise(function(ve,_e){var Oe=N.apply(Y,se);function he(q){h(Oe,ve,_e,he,V,"next",q)}function V(q){h(Oe,ve,_e,he,V,"throw",q)}he(void 0)})}}A.d(be,{Z:()=>U})},7582:(vt,be,A)=>{function Y(ae,fe){var ce={};for(var oe in ae)Object.prototype.hasOwnProperty.call(ae,oe)&&fe.indexOf(oe)<0&&(ce[oe]=ae[oe]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var Se=0;for(oe=Object.getOwnPropertySymbols(ae);Se<oe.length;Se++)fe.indexOf(oe[Se])<0&&Object.prototype.propertyIsEnumerable.call(ae,oe[Se])&&(ce[oe[Se]]=ae[oe[Se]])}return ce}function ne(ae,fe,ce,oe){return new(ce||(ce=Promise))(function(Ge,tt){function qe(nn){try{bt(oe.next(nn))}catch(yt){tt(yt)}}function Zt(nn){try{bt(oe.throw(nn))}catch(yt){tt(yt)}}function bt(nn){nn.done?Ge(nn.value):function Se(Ge){return Ge instanceof ce?Ge:new ce(function(tt){tt(Ge)})}(nn.value).then(qe,Zt)}bt((oe=oe.apply(ae,fe||[])).next())})}function ee(ae){return this instanceof ee?(this.v=ae,this):new ee(ae)}function Te(ae,fe,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,oe=ce.apply(ae,fe||[]),Ge=[];return Se={},tt("next"),tt("throw"),tt("return"),Se[Symbol.asyncIterator]=function(){return this},Se;function tt(hn){oe[hn]&&(Se[hn]=function(jn){return new Promise(function(Ln,_n){Ge.push([hn,jn,Ln,_n])>1||qe(hn,jn)})})}function qe(hn,jn){try{!function Zt(hn){hn.value instanceof ee?Promise.resolve(hn.value.v).then(bt,nn):yt(Ge[0][2],hn)}(oe[hn](jn))}catch(Ln){yt(Ge[0][3],Ln)}}function bt(hn){qe("next",hn)}function nn(hn){qe("throw",hn)}function yt(hn,jn){hn(jn),Ge.shift(),Ge.length&&qe(Ge[0][0],Ge[0][1])}}function Me(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,fe=ae[Symbol.asyncIterator];return fe?fe.call(ae):(ae=function ke(ae){var fe="function"==typeof Symbol&&Symbol.iterator,ce=fe&&ae[fe],oe=0;if(ce)return ce.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&oe>=ae.length&&(ae=void 0),{value:ae&&ae[oe++],done:!ae}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),ce={},oe("next"),oe("throw"),oe("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function oe(Ge){ce[Ge]=ae[Ge]&&function(tt){return new Promise(function(qe,Zt){!function Se(Ge,tt,qe,Zt){Promise.resolve(Zt).then(function(bt){Ge({value:bt,done:qe})},tt)}(qe,Zt,(tt=ae[Ge](tt)).done,tt.value)})}}}A.d(be,{FC:()=>Te,KL:()=>Me,_T:()=>Y,mG:()=>ne,qq:()=>ee}),"function"==typeof SuppressedError&&SuppressedError}},vt=>{vt(vt.s=2128)}]);