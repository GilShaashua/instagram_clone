(self.webpackChunkinstagram_clone=self.webpackChunkinstagram_clone||[]).push([[179],{6304:(Tt,Fe,N)=>{"use strict";N.d(Fe,{Dh:()=>He,GT:()=>Ce,cc:()=>Oe,hO:()=>Qe,on:()=>q,pX:()=>ye,xv:()=>Ae});var h=N(5879),M=N(120),B=N(4556);Tt=N.hmd(Tt);const se=["ngOnDestroy"],ye=(je,wt,bt,ae={})=>new Proxy(je,{get:(ke,me)=>bt.runOutsideAngular(()=>{var Ue;if(je[me])return!(null===(Ue=ae?.spy)||void 0===Ue)&&Ue.get&&ae.spy.get(me,je[me]),je[me];if(se.indexOf(me)>-1)return()=>{};const Xe=wt.toPromise().then(H=>{const he=H&&H[me];return"function"==typeof he?he.bind(H):he&&he.then?he.then(Ve=>bt.run(()=>Ve)):bt.run(()=>he)});return new Proxy(()=>{},{get:(H,he)=>Xe[he],apply:(H,he,Ve)=>Xe.then(It=>{var tn;const ln=It&&It(...Ve);return!(null===(tn=ae?.spy)||void 0===tn)&&tn.apply&&ae.spy.apply(me,Ve,ln),ln})})})}),Ce=(je,wt)=>{wt.forEach(bt=>{Object.getOwnPropertyNames(bt.prototype||bt).forEach(ae=>{Object.defineProperty(je.prototype,ae,Object.getOwnPropertyDescriptor(bt.prototype||bt,ae))})})};class Pe{constructor(wt){return wt}}const He=new h.OlP("angularfire2.app.options"),Ae=new h.OlP("angularfire2.app.name");function q(je,wt,bt){const ke="object"==typeof bt&&bt||{};ke.name=ke.name||"string"==typeof bt&&bt||"[DEFAULT]";const Ue=M.Z.apps.filter(Xe=>Xe&&Xe.name===ke.name)[0]||wt.runOutsideAngular(()=>M.Z.initializeApp(je,ke));try{JSON.stringify(je)!==JSON.stringify(Ue.options)&&Y("error",`${Ue.name} Firebase App already initialized with different options${Tt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Pe(Ue)}const Y=(je,...wt)=>{(0,h.X6Q)()&&typeof console<"u"&&console[je](...wt)},de={provide:Pe,useFactory:q,deps:[He,h.R0b,[new h.FiY,Ae]]};let Qe=(()=>{class je{constructor(bt){M.Z.registerVersion("angularfire",B.q4.full,"core"),M.Z.registerVersion("angularfire",B.q4.full,"app-compat"),M.Z.registerVersion("angular",h.q4F.full,bt.toString())}static initializeApp(bt,ae){return{ngModule:je,providers:[{provide:He,useValue:bt},{provide:Ae,useValue:ae}]}}}return je.\u0275fac=function(bt){return new(bt||je)(h.LFG(h.Lbi))},je.\u0275mod=h.oAB({type:je}),je.\u0275inj=h.cJS({providers:[de]}),je})();function Oe(je,wt,bt,ae,ke){const[,me,Ue]=globalThis.\u0275AngularfireInstanceCache.find(Xe=>Xe[0]===je)||[];if(me)return function ht(je,wt){try{return je.toString()===wt.toString()}catch{return je===wt}}(ke,Ue)||(ut("error",`${wt} was already initialized on the ${bt} Firebase App with different settings.${Be?" You may need to reload as Firebase is not HMR aware.":""}`),ut("warn",{is:ke,was:Ue})),me;{const Xe=ae();return globalThis.\u0275AngularfireInstanceCache.push([je,Xe,ke]),Xe}}const Be=!!Tt.hot,ut=(je,...wt)=>{(0,h.X6Q)()&&typeof console<"u"&&console[je](...wt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4556:(Tt,Fe,N)=>{"use strict";N.d(Fe,{q4:()=>ea,iC:()=>oi,HU:()=>Dh,vb:()=>ko,JM:()=>si});var h=N(5879),M=N(4097),B=N(5861),se=N(4303),ye=N(9058),Ce=N(4537),Pe=N(7879);N(2591);const Ae="@firebase/remote-config",q="0.4.4",Oe=new ye.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class an{constructor(G,Z,Ee,qe){this.client=G,this.storage=Z,this.storageCache=Ee,this.logger=qe}isCachedDataFresh(G,Z){if(!Z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ee=Date.now()-Z,qe=Ee<=G;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ee}. Cache max age millis (minimumFetchIntervalMillis setting): ${G}. Is cache hit: ${qe}.`),qe}fetch(G){var Z=this;return(0,B.Z)(function*(){const[Ee,qe]=yield Promise.all([Z.storage.getLastSuccessfulFetchTimestampMillis(),Z.storage.getLastSuccessfulFetchResponse()]);if(qe&&Z.isCachedDataFresh(G.cacheMaxAgeMillis,Ee))return qe;G.eTag=qe&&qe.eTag;const nt=yield Z.client.fetch(G),yt=[Z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===nt.status&&yt.push(Z.storage.setLastSuccessfulFetchResponse(nt)),yield Promise.all(yt),nt})()}}function xr(W=navigator){return W.languages&&W.languages[0]||W.language}class _e{constructor(G,Z,Ee,qe,nt,yt){this.firebaseInstallations=G,this.sdkVersion=Z,this.namespace=Ee,this.projectId=qe,this.apiKey=nt,this.appId=yt}fetch(G){var Z=this;return(0,B.Z)(function*(){const[Ee,qe]=yield Promise.all([Z.firebaseInstallations.getId(),Z.firebaseInstallations.getToken()]),yt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Z.projectId}/namespaces/${Z.namespace}:fetch?key=${Z.apiKey}`,Ht={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":G.eTag||"*"},Gt={sdk_version:Z.sdkVersion,app_instance_id:Ee,app_instance_id_token:qe,app_id:Z.appId,language_code:xr()},fn={method:"POST",headers:Ht,body:JSON.stringify(Gt)},sn=fetch(yt,fn),Fn=new Promise((ei,Rs)=>{G.signal.addEventListener(()=>{const Nu=new Error("The operation was aborted.");Nu.name="AbortError",Rs(Nu)})});let hr;try{yield Promise.race([sn,Fn]),hr=yield sn}catch(ei){let Rs="fetch-client-network";throw"AbortError"===ei?.name&&(Rs="fetch-timeout"),Oe.create(Rs,{originalErrorMessage:ei?.message})}let ar=hr.status;const $a=hr.headers.get("ETag")||void 0;let Ps,Lo;if(200===hr.status){let ei;try{ei=yield hr.json()}catch(Rs){throw Oe.create("fetch-client-parse",{originalErrorMessage:Rs?.message})}Ps=ei.entries,Lo=ei.state}if("INSTANCE_STATE_UNSPECIFIED"===Lo?ar=500:"NO_CHANGE"===Lo?ar=304:("NO_TEMPLATE"===Lo||"EMPTY_CONFIG"===Lo)&&(Ps={}),304!==ar&&200!==ar)throw Oe.create("fetch-status",{httpStatus:ar});return{status:ar,eTag:$a,config:Ps}})()}}class ve{constructor(G,Z){this.client=G,this.storage=Z}fetch(G){var Z=this;return(0,B.Z)(function*(){const Ee=(yield Z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Z.attemptFetch(G,Ee)})()}attemptFetch(G,{throttleEndTimeMillis:Z,backoffCount:Ee}){var qe=this;return(0,B.Z)(function*(){yield function Ie(W,G){return new Promise((Z,Ee)=>{const qe=Math.max(G-Date.now(),0),nt=setTimeout(Z,qe);W.addEventListener(()=>{clearTimeout(nt),Ee(Oe.create("fetch-throttle",{throttleEndTimeMillis:G}))})})}(G.signal,Z);try{const nt=yield qe.client.fetch(G);return yield qe.storage.deleteThrottleMetadata(),nt}catch(nt){if(!function we(W){if(!(W instanceof ye.ZR&&W.customData))return!1;const G=Number(W.customData.httpStatus);return 429===G||500===G||503===G||504===G}(nt))throw nt;const yt={throttleEndTimeMillis:Date.now()+(0,ye.$s)(Ee),backoffCount:Ee+1};return yield qe.storage.setThrottleMetadata(yt),qe.attemptFetch(G,yt)}})()}}class gt{constructor(G,Z,Ee,qe,nt){this.app=G,this._client=Z,this._storageCache=Ee,this._storage=qe,this._logger=nt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function lt(W,G){const Z=W.target.error||void 0;return Oe.create(G,{originalErrorMessage:Z&&Z?.message})}const hn="app_namespace_store";class Pn{constructor(G,Z,Ee,qe=function Pt(){return new Promise((W,G)=>{try{const Z=indexedDB.open("firebase_remote_config",1);Z.onerror=Ee=>{G(lt(Ee,"storage-open"))},Z.onsuccess=Ee=>{W(Ee.target.result)},Z.onupgradeneeded=Ee=>{0===Ee.oldVersion&&Ee.target.result.createObjectStore(hn,{keyPath:"compositeKey"})}}catch(Z){G(Oe.create("storage-open",{originalErrorMessage:Z?.message}))}})}()){this.appId=G,this.appName=Z,this.namespace=Ee,this.openDbPromise=qe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(G){return this.set("last_fetch_status",G)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(G){return this.set("last_successful_fetch_timestamp_millis",G)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(G){return this.set("last_successful_fetch_response",G)}getActiveConfig(){return this.get("active_config")}setActiveConfig(G){return this.set("active_config",G)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(G){return this.set("active_config_etag",G)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(G){return this.set("throttle_metadata",G)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(G){var Z=this;return(0,B.Z)(function*(){const Ee=yield Z.openDbPromise;return new Promise((qe,nt)=>{const Ht=Ee.transaction([hn],"readonly").objectStore(hn),Gt=Z.createCompositeKey(G);try{const fn=Ht.get(Gt);fn.onerror=sn=>{nt(lt(sn,"storage-get"))},fn.onsuccess=sn=>{const Fn=sn.target.result;qe(Fn?Fn.value:void 0)}}catch(fn){nt(Oe.create("storage-get",{originalErrorMessage:fn?.message}))}})})()}set(G,Z){var Ee=this;return(0,B.Z)(function*(){const qe=yield Ee.openDbPromise;return new Promise((nt,yt)=>{const Gt=qe.transaction([hn],"readwrite").objectStore(hn),fn=Ee.createCompositeKey(G);try{const sn=Gt.put({compositeKey:fn,value:Z});sn.onerror=Fn=>{yt(lt(Fn,"storage-set"))},sn.onsuccess=()=>{nt()}}catch(sn){yt(Oe.create("storage-set",{originalErrorMessage:sn?.message}))}})})()}delete(G){var Z=this;return(0,B.Z)(function*(){const Ee=yield Z.openDbPromise;return new Promise((qe,nt)=>{const Ht=Ee.transaction([hn],"readwrite").objectStore(hn),Gt=Z.createCompositeKey(G);try{const fn=Ht.delete(Gt);fn.onerror=sn=>{nt(lt(sn,"storage-delete"))},fn.onsuccess=()=>{qe()}}catch(fn){nt(Oe.create("storage-delete",{originalErrorMessage:fn?.message}))}})})()}createCompositeKey(G){return[this.appId,this.appName,this.namespace,G].join()}}class Dr{constructor(G){this.storage=G}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var G=this;return(0,B.Z)(function*(){const Z=G.storage.getLastFetchStatus(),Ee=G.storage.getLastSuccessfulFetchTimestampMillis(),qe=G.storage.getActiveConfig(),nt=yield Z;nt&&(G.lastFetchStatus=nt);const yt=yield Ee;yt&&(G.lastSuccessfulFetchTimestampMillis=yt);const Ht=yield qe;Ht&&(G.activeConfig=Ht)})()}setLastFetchStatus(G){return this.lastFetchStatus=G,this.storage.setLastFetchStatus(G)}setLastSuccessfulFetchTimestampMillis(G){return this.lastSuccessfulFetchTimestampMillis=G,this.storage.setLastSuccessfulFetchTimestampMillis(G)}setActiveConfig(G){return this.activeConfig=G,this.storage.setActiveConfig(G)}}function vr(){return Or.apply(this,arguments)}function Or(){return(Or=(0,B.Z)(function*(){if(!(0,ye.hl)())return!1;try{return yield(0,ye.eu)()}catch{return!1}})).apply(this,arguments)}!function $n(){(0,se._registerComponent)(new Ce.wA("remote-config",function W(G,{instanceIdentifier:Z}){const Ee=G.getProvider("app").getImmediate(),qe=G.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Oe.create("registration-window");if(!(0,ye.hl)())throw Oe.create("indexed-db-unavailable");const{projectId:nt,apiKey:yt,appId:Ht}=Ee.options;if(!nt)throw Oe.create("registration-project-id");if(!yt)throw Oe.create("registration-api-key");if(!Ht)throw Oe.create("registration-app-id");const Gt=new Pn(Ht,Ee.name,Z=Z||"firebase"),fn=new Dr(Gt),sn=new Pe.Yd(Ae);sn.logLevel=Pe.in.ERROR;const Fn=new _e(qe,se.SDK_VERSION,Z,nt,yt,Ht),hr=new ve(Fn,Gt),ar=new an(hr,Gt,fn,sn),$a=new gt(Ee,ar,fn,Gt,sn);return function Ue(W){const G=(0,ye.m9)(W);G._initializePromise||(G._initializePromise=G._storageCache.loadFromStorage().then(()=>{G._isInitializationComplete=!0}))}($a),$a},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(Ae,q),(0,se.registerVersion)(Ae,q,"esm2017")}();var Ir=N(9519);const qn="analytics",ur="firebase_id",ui="origin",kt=6e4,jt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zt="https://www.googletagmanager.com/gtag/js",en=new Pe.Yd("@firebase/analytics"),Sn=new ye.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function mn(W){if(!W.startsWith(zt)){const G=Sn.create("invalid-gtag-resource",{gtagURL:W});return en.warn(G.message),""}return W}function Ln(W){return Promise.all(W.map(G=>G.catch(Z=>Z)))}function Rn(){return(Rn=(0,B.Z)(function*(W,G,Z,Ee,qe,nt){const yt=Ee[qe];try{if(yt)yield G[yt];else{const Gt=(yield Ln(Z)).find(fn=>fn.measurementId===qe);Gt&&(yield G[Gt.appId])}}catch(Ht){en.error(Ht)}W("config",qe,nt)})).apply(this,arguments)}function Br(){return(Br=(0,B.Z)(function*(W,G,Z,Ee,qe){try{let nt=[];if(qe&&qe.send_to){let yt=qe.send_to;Array.isArray(yt)||(yt=[yt]);const Ht=yield Ln(Z);for(const Gt of yt){const fn=Ht.find(Fn=>Fn.measurementId===Gt),sn=fn&&G[fn.appId];if(!sn){nt=[];break}nt.push(sn)}}0===nt.length&&(nt=Object.values(G)),yield Promise.all(nt),W("event",Ee,qe||{})}catch(nt){en.error(nt)}})).apply(this,arguments)}const te=30,At=new class ot{constructor(G={},Z=1e3){this.throttleMetadata=G,this.intervalMillis=Z}getThrottleMetadata(G){return this.throttleMetadata[G]}setThrottleMetadata(G,Z){this.throttleMetadata[G]=Z}deleteThrottleMetadata(G){delete this.throttleMetadata[G]}};function Lt(W){return new Headers({Accept:"application/json","x-goog-api-key":W})}function J(){return(J=(0,B.Z)(function*(W){var G;const{appId:Z,apiKey:Ee}=W,qe={method:"GET",headers:Lt(Ee)},nt=jt.replace("{app-id}",Z),yt=yield fetch(nt,qe);if(200!==yt.status&&304!==yt.status){let Ht="";try{const Gt=yield yt.json();null!==(G=Gt.error)&&void 0!==G&&G.message&&(Ht=Gt.error.message)}catch{}throw Sn.create("config-fetch-failed",{httpStatus:yt.status,responseMessage:Ht})}return yt.json()})).apply(this,arguments)}function V(){return(V=(0,B.Z)(function*(W,G=At,Z){const{appId:Ee,apiKey:qe,measurementId:nt}=W.options;if(!Ee)throw Sn.create("no-app-id");if(!qe){if(nt)return{measurementId:nt,appId:Ee};throw Sn.create("no-api-key")}const yt=G.getThrottleMetadata(Ee)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ht=new pt;return setTimeout((0,B.Z)(function*(){Ht.abort()}),void 0!==Z?Z:kt),j({appId:Ee,apiKey:qe,measurementId:nt},yt,Ht,G)})).apply(this,arguments)}function j(W,G,Z){return k.apply(this,arguments)}function k(){return k=(0,B.Z)(function*(W,{throttleEndTimeMillis:G,backoffCount:Z},Ee,qe=At){var nt;const{appId:yt,measurementId:Ht}=W;try{yield function ce(W,G){return new Promise((Z,Ee)=>{const qe=Math.max(G-Date.now(),0),nt=setTimeout(Z,qe);W.addEventListener(()=>{clearTimeout(nt),Ee(Sn.create("fetch-throttle",{throttleEndTimeMillis:G}))})})}(Ee,G)}catch(Gt){if(Ht)return en.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ht} provided in the "measurementId" field in the local Firebase config. [${Gt?.message}]`),{appId:yt,measurementId:Ht};throw Gt}try{const Gt=yield function Wn(W){return J.apply(this,arguments)}(W);return qe.deleteThrottleMetadata(yt),Gt}catch(Gt){const fn=Gt;if(!function ze(W){if(!(W instanceof ye.ZR&&W.customData))return!1;const G=Number(W.customData.httpStatus);return 429===G||500===G||503===G||504===G}(fn)){if(qe.deleteThrottleMetadata(yt),Ht)return en.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ht} provided in the "measurementId" field in the local Firebase config. [${fn?.message}]`),{appId:yt,measurementId:Ht};throw Gt}const sn=503===Number(null===(nt=fn?.customData)||void 0===nt?void 0:nt.httpStatus)?(0,ye.$s)(Z,qe.intervalMillis,te):(0,ye.$s)(Z,qe.intervalMillis),Fn={throttleEndTimeMillis:Date.now()+sn,backoffCount:Z+1};return qe.setThrottleMetadata(yt,Fn),en.debug(`Calling attemptFetch again in ${sn} millis`),j(W,Fn,Ee,qe)}}),k.apply(this,arguments)}class pt{constructor(){this.listeners=[]}addEventListener(G){this.listeners.push(G)}abort(){this.listeners.forEach(G=>G())}}let Qt,cr;function Zn(){return(Zn=(0,B.Z)(function*(W,G,Z,Ee,qe){if(qe&&qe.global)W("event",Z,Ee);else{const nt=yield G;W("event",Z,Object.assign(Object.assign({},Ee),{send_to:nt}))}})).apply(this,arguments)}function Di(){return(Di=(0,B.Z)(function*(){if(!(0,ye.hl)())return en.warn(Sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ye.eu)()}catch(W){return en.warn(Sn.create("indexeddb-unavailable",{errorInfo:W?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ko(){return Ko=(0,B.Z)(function*(W,G,Z,Ee,qe,nt,yt){var Ht;const Gt=function X(W){return V.apply(this,arguments)}(W);Gt.then(ar=>{Z[ar.measurementId]=ar.appId,W.options.measurementId&&ar.measurementId!==W.options.measurementId&&en.warn(`The measurement ID in the local Firebase config (${W.options.measurementId}) does not match the measurement ID fetched from the server (${ar.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ar=>en.error(ar)),G.push(Gt);const fn=function gs(){return Di.apply(this,arguments)}().then(ar=>{if(ar)return Ee.getId()}),[sn,Fn]=yield Promise.all([Gt,fn]);(function Me(W){const G=window.document.getElementsByTagName("script");for(const Z of Object.values(G))if(Z.src&&Z.src.includes(zt)&&Z.src.includes(W))return Z;return null})(nt)||function Mn(W,G){const Z=function ci(W,G){let Z;return window.trustedTypes&&(Z=window.trustedTypes.createPolicy(W,G)),Z}("firebase-js-sdk-policy",{createScriptURL:mn}),Ee=document.createElement("script"),qe=`${zt}?l=${W}&id=${G}`;Ee.src=Z?Z?.createScriptURL(qe):qe,Ee.async=!0,document.head.appendChild(Ee)}(nt,sn.measurementId),cr&&(qe("consent","default",cr),function bi(W){cr=W}(void 0)),qe("js",new Date);const hr=null!==(Ht=yt?.config)&&void 0!==Ht?Ht:{};return hr[ui]="firebase",hr.update=!0,null!=Fn&&(hr[ur]=Fn),qe("config",sn.measurementId,hr),Qt&&(qe("set",Qt),function Xi(W){Qt=W}(void 0)),sn.measurementId}),Ko.apply(this,arguments)}class Yo{constructor(G){this.app=G}_delete(){return delete Vi[this.app.options.appId],Promise.resolve()}}let Vi={},es=[];const Qo={};let jr,zs,Ro="dataLayer",Ss=!1;function Bi(W,G,Z){!function Jo(){const W=[];if((0,ye.ru)()&&W.push("This is a browser extension environment."),(0,ye.zI)()||W.push("Cookies are not available."),W.length>0){const G=W.map((Ee,qe)=>`(${qe+1}) ${Ee}`).join(" "),Z=Sn.create("invalid-analytics-context",{errorInfo:G});en.warn(Z.message)}}();const Ee=W.options.appId;if(!Ee)throw Sn.create("no-app-id");if(!W.options.apiKey){if(!W.options.measurementId)throw Sn.create("no-api-key");en.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${W.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Vi[Ee])throw Sn.create("already-exists",{id:Ee});if(!Ss){!function Ui(W){let G=[];Array.isArray(window[W])?G=window[W]:window[W]=G}(Ro);const{wrappedGtag:nt,gtagCore:yt}=function Tr(W,G,Z,Ee,qe){let nt=function(...yt){window[Ee].push(arguments)};return window[qe]&&"function"==typeof window[qe]&&(nt=window[qe]),window[qe]=function ii(W,G,Z,Ee){function nt(){return nt=(0,B.Z)(function*(yt,...Ht){try{if("event"===yt){const[Gt,fn]=Ht;yield function ri(W,G,Z,Ee,qe){return Br.apply(this,arguments)}(W,G,Z,Gt,fn)}else if("config"===yt){const[Gt,fn]=Ht;yield function In(W,G,Z,Ee,qe,nt){return Rn.apply(this,arguments)}(W,G,Z,Ee,Gt,fn)}else if("consent"===yt){const[Gt]=Ht;W("consent","update",Gt)}else if("get"===yt){const[Gt,fn,sn]=Ht;W("get",Gt,fn,sn)}else if("set"===yt){const[Gt]=Ht;W("set",Gt)}else W(yt,...Ht)}catch(Gt){en.error(Gt)}}),nt.apply(this,arguments)}return function qe(yt){return nt.apply(this,arguments)}}(nt,W,G,Z),{gtagCore:nt,wrappedGtag:window[qe]}}(Vi,es,Qo,Ro,"gtag");zs=nt,jr=yt,Ss=!0}return Vi[Ee]=function Hn(W,G,Z,Ee,qe,nt,yt){return Ko.apply(this,arguments)}(W,es,Qo,G,jr,Ro,Z),new Yo(W)}function mc(){return K.apply(this,arguments)}function K(){return(K=(0,B.Z)(function*(){if((0,ye.ru)()||!(0,ye.zI)()||!(0,ye.hl)())return!1;try{return yield(0,ye.eu)()}catch{return!1}})).apply(this,arguments)}const Js="@firebase/analytics";!function yc(){(0,se._registerComponent)(new Ce.wA(qn,(G,{options:Z})=>Bi(G.getProvider("app").getImmediate(),G.getProvider("installations-internal").getImmediate(),Z),"PUBLIC")),(0,se._registerComponent)(new Ce.wA("analytics-internal",function W(G){try{const Z=G.getProvider(qn).getImmediate();return{logEvent:(Ee,qe,nt)=>function Pr(W,G,Z,Ee){W=(0,ye.m9)(W),function Ct(W,G,Z,Ee,qe){return Zn.apply(this,arguments)}(zs,Vi[W.app.options.appId],G,Z,Ee).catch(qe=>en.error(qe))}(Z,Ee,qe,nt)}}catch(Z){throw Sn.create("interop-component-reg-failed",{reason:Z})}},"PRIVATE")),(0,se.registerVersion)(Js,"0.10.0"),(0,se.registerVersion)(Js,"0.10.0","esm2017")}();var xu=N(1954),Pu=N(2631);const Oi=new class er extends Pu.v{}(class Ou extends xu.o{constructor(G,Z){super(G,Z),this.scheduler=G,this.work=Z}schedule(G,Z=0){return Z>0?super.schedule(G,Z):(this.delay=Z,this.state=G,this.scheduler.flush(this),this)}execute(G,Z){return Z>0||this.closed?super.execute(G,Z):this._execute(G,Z)}requestAsyncId(G,Z,Ee=0){return null!=Ee&&Ee>0||null==Ee&&this.delay>0?super.requestAsyncId(G,Z,Ee):(G.flush(this),0)}});var ga=N(6321),ts=N(9397),cd=N(5137),_c=N(3093);const ea=new h.GfV("7.6.1"),Ms="__angularfire_symbol__analyticsIsSupportedValue",Ru="__angularfire_symbol__analyticsIsSupported",kr="__angularfire_symbol__remoteConfigIsSupportedValue",mt="__angularfire_symbol__remoteConfigIsSupported",vn="__angularfire_symbol__messagingIsSupportedValue",Ar="__angularfire_symbol__messagingIsSupported";function si(W,G,Z){if(G){if(1===G.length)return G[0];const nt=G.filter(yt=>yt.app===Z);if(1===nt.length)return nt[0]}return Z.container.getProvider(W).getImmediate({optional:!0})}globalThis[Ru]||(globalThis[Ru]=mc().then(W=>globalThis[Ms]=W).catch(()=>globalThis[Ms]=!1)),globalThis[Ar]||(globalThis[Ar]=(0,Ir.Gb)().then(W=>globalThis[vn]=W).catch(()=>globalThis[vn]=!1)),globalThis[mt]||(globalThis[mt]=vr().then(W=>globalThis[kr]=W).catch(()=>globalThis[kr]=!1));const ko=(W,G)=>{const Z=G?[G]:(0,M.C6)(),Ee=[];return Z.forEach(qe=>{qe.container.getProvider(W).instances.forEach(yt=>{Ee.includes(yt)||Ee.push(yt)})}),Ee};function xs(){}class nn{constructor(G,Z=Oi){this.zone=G,this.delegate=Z}now(){return this.delegate.now()}schedule(G,Z,Ee){const qe=this.zone;return this.delegate.schedule(function(yt){qe.runGuarded(()=>{G.apply(this,[yt])})},Z,Ee)}}class ja{constructor(G){this.zone=G,this.task=null}call(G,Z){const Ee=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xs,{},xs,xs)),Z.pipe((0,ts.b)({next:Ee,complete:Ee,error:Ee})).subscribe(G).add(Ee)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Dh=(()=>{class W{constructor(Z){this.ngZone=Z,this.outsideAngular=Z.runOutsideAngular(()=>new nn(Zone.current)),this.insideAngular=Z.run(()=>new nn(Zone.current,ga.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return W.\u0275fac=function(Z){return new(Z||W)(h.LFG(h.R0b))},W.\u0275prov=h.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();function ir(){const W=globalThis.\u0275AngularFireScheduler;if(!W)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return W}function oi(W){return ir(),function ll(W){return function(Z){return(Z=Z.lift(new ja(W.ngZone))).pipe((0,cd.R)(W.outsideAngular),(0,_c.Q)(W.insideAngular))}}(ir())(W)}},6710:(Tt,Fe,N)=>{"use strict";N.d(Fe,{$:()=>dd,A:()=>Y,D:()=>Oe,I:()=>Jo,J:()=>K,L:()=>mt,N:()=>Lt,P:()=>Hr,Q:()=>Hi,R:()=>Ka,U:()=>ll,V:()=>ta,W:()=>go,X:()=>oi,Y:()=>Ee,Z:()=>qe,_:()=>fn,a:()=>vd,a0:()=>pp,a1:()=>hi,a2:()=>q_,a3:()=>jw,a4:()=>Im,a5:()=>Ha,a6:()=>gl,a7:()=>ml,a8:()=>na,a9:()=>Cm,aA:()=>H,aB:()=>zu,aC:()=>ot,aD:()=>Wn,aE:()=>nu,aF:()=>Pc,aG:()=>qi,aH:()=>jr,aL:()=>Il,aO:()=>G,aa:()=>mp,ab:()=>Ic,ac:()=>mo,ad:()=>Dm,ae:()=>fd,af:()=>le,ai:()=>Nn,aj:()=>ns,ak:()=>Lr,an:()=>$a,ao:()=>El,aq:()=>Dc,ar:()=>Bu,as:()=>Ve,at:()=>Ct,au:()=>ze,av:()=>ae,aw:()=>io,ax:()=>Cd,ay:()=>Zn,az:()=>ke,b:()=>vi,c:()=>Gr,d:()=>Ja,e:()=>Qa,f:()=>xl,g:()=>us,h:()=>pi,i:()=>ys,j:()=>Mp,k:()=>wo,l:()=>Tp,m:()=>Zu,p:()=>He,r:()=>Xt,s:()=>Kr,u:()=>ks});var h=N(5861),M=N(9058),B=N(7592),se=N(7582),ye=N(7879),Ce=N(4537);const He={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Y={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Oe=function de(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ht=function Qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Be=new M.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),je=new ye.Yd("@firebase/auth");function bt(C,...m){je.logLevel<=ye.in.ERROR&&je.error(`Auth (${B.SDK_VERSION}): ${C}`,...m)}function ae(C,...m){throw Xe(C,...m)}function ke(C,...m){return Xe(C,...m)}function me(C,m,y){const b=Object.assign(Object.assign({},ht()),{[m]:y});return new M.LL("auth","Firebase",b).create(m,{appName:C.name})}function Ue(C,m,y){if(!(m instanceof y))throw y.name!==m.constructor.name&&ae(C,"argument-error"),me(C,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xe(C,...m){if("string"!=typeof C){const y=m[0],b=[...m.slice(1)];return b[0]&&(b[0].appName=C.name),C._errorFactory.create(y,...b)}return Be.create(C,...m)}function H(C,m,...y){if(!C)throw Xe(m,...y)}function he(C){const m="INTERNAL ASSERTION FAILED: "+C;throw bt(m),new Error(m)}function Ve(C,m){C||he(m)}function It(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function tn(){return"http:"===ln()||"https:"===ln()}function ln(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class an{constructor(m,y){this.shortDelay=m,this.longDelay=y,Ve(y>m,"Short delay should be less than long delay!"),this.isMobile=(0,M.uI)()||(0,M.b$)()}get(){return function dn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(tn()||(0,M.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xr(C,m){Ve(C.emulator,"Emulator should always be set here");const{url:y}=C.emulator;return m?`${y}${m.startsWith("/")?m.slice(1):m}`:y}class _e{static initialize(m,y,b){this.fetchImpl=m,y&&(this.headersImpl=y),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void he("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void he("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void he("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},we=new an(3e4,6e4);function ve(C,m){return C.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:C.tenantId}):m}function $e(C,m,y,b){return tt.apply(this,arguments)}function tt(){return(tt=(0,h.Z)(function*(C,m,y,b,O={}){return gt(C,O,(0,h.Z)(function*(){let F={},oe={};b&&("GET"===m?oe=b:F={body:JSON.stringify(b)});const Te=(0,M.xO)(Object.assign({key:C.config.apiKey},oe)).slice(1),ft=yield C._getAdditionalHeaders();return ft["Content-Type"]="application/json",C.languageCode&&(ft["X-Firebase-Locale"]=C.languageCode),_e.fetch()(On(C,C.config.apiHost,y,Te),Object.assign({method:m,headers:ft,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function gt(C,m,y){return lt.apply(this,arguments)}function lt(){return(lt=(0,h.Z)(function*(C,m,y){C._canInitEmulator=!1;const b=Object.assign(Object.assign({},Ie),m);try{const O=new Pt(C),F=yield Promise.race([y(),O.promise]);O.clearNetworkTimeout();const oe=yield F.json();if("needConfirmation"in oe)throw Pn(C,"account-exists-with-different-credential",oe);if(F.ok&&!("errorMessage"in oe))return oe;{const Te=F.ok?oe.errorMessage:oe.error.message,[ft,Et]=Te.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ft)throw Pn(C,"credential-already-in-use",oe);if("EMAIL_EXISTS"===ft)throw Pn(C,"email-already-in-use",oe);if("USER_DISABLED"===ft)throw Pn(C,"user-disabled",oe);const qt=b[ft]||ft.toLowerCase().replace(/[_\s]+/g,"-");if(Et)throw me(C,qt,Et);ae(C,qt)}}catch(O){if(O instanceof M.ZR)throw O;ae(C,"network-request-failed",{message:String(O)})}})).apply(this,arguments)}function hn(C,m,y,b){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,h.Z)(function*(C,m,y,b,O={}){const F=yield $e(C,m,y,b,O);return"mfaPendingCredential"in F&&ae(C,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function On(C,m,y,b){const O=`${m}${y}?${b}`;return C.config.emulator?xr(C.config,O):`${C.config.apiScheme}://${O}`}class Pt{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((y,b)=>{this.timer=setTimeout(()=>b(ke(this.auth,"network-request-failed")),we.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pn(C,m,y){const b={appName:C.name};y.email&&(b.email=y.email),y.phoneNumber&&(b.phoneNumber=y.phoneNumber);const O=ke(C,m,b);return O.customData._tokenResponse=y,O}function $n(){return($n=(0,h.Z)(function*(C,m){return $e(C,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function fr(){return(fr=(0,h.Z)(function*(C,m){return $e(C,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Or(){return(Or=(0,h.Z)(function*(C,m){return $e(C,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Ir(C){if(C)try{const m=new Date(Number(C));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function ui(){return(ui=(0,h.Z)(function*(C,m=!1){const y=(0,M.m9)(C),b=yield y.getIdToken(m),O=jt(b);H(O&&O.exp&&O.auth_time&&O.iat,y.auth,"internal-error");const F="object"==typeof O.firebase?O.firebase:void 0,oe=F?.sign_in_provider;return{claims:O,token:b,authTime:Ir(kt(O.auth_time)),issuedAtTime:Ir(kt(O.iat)),expirationTime:Ir(kt(O.exp)),signInProvider:oe||null,signInSecondFactor:F?.sign_in_second_factor||null}})).apply(this,arguments)}function kt(C){return 1e3*Number(C)}function jt(C){const[m,y,b]=C.split(".");if(void 0===m||void 0===y||void 0===b)return bt("JWT malformed, contained fewer than 3 sections"),null;try{const O=(0,M.tV)(y);return O?JSON.parse(O):(bt("Failed to decode base64 JWT payload"),null)}catch(O){return bt("Caught error parsing JWT payload as JSON",O?.toString()),null}}function en(C,m){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,h.Z)(function*(C,m,y=!1){if(y)return m;try{return yield m}catch(b){throw b instanceof M.ZR&&function Sn({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(b)&&C.auth.currentUser===C&&(yield C.auth.signOut()),b}})).apply(this,arguments)}class mn{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var y;if(m){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const O=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,O)}}schedule(m=!1){var y=this;if(!this.isRunning)return;const b=this.getInterval(m);this.timerId=setTimeout((0,h.Z)(function*(){yield y.iteration()}),b)}iteration(){var m=this;return(0,h.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&m.schedule(!0))}m.schedule()})()}}class Ln{constructor(m,y){this.createdAt=m,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ir(this.lastLoginAt),this.creationTime=Ir(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ci(C){return Mn.apply(this,arguments)}function Mn(){return Mn=(0,h.Z)(function*(C){var m;const y=C.auth,b=yield C.getIdToken(),O=yield en(C,function vr(C,m){return Or.apply(this,arguments)}(y,{idToken:b}));H(O?.users.length,y,"internal-error");const F=O.users[0];C._notifyReloadListener(F);const oe=null!==(m=F.providerUserInfo)&&void 0!==m&&m.length?function ri(C){return C.map(m=>{var{providerId:y}=m,b=(0,se._T)(m,["providerId"]);return{providerId:y,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}(F.providerUserInfo):[],Te=function Rn(C,m){return[...C.filter(b=>!m.some(O=>O.providerId===b.providerId)),...m]}(C.providerData,oe),qt=!!C.isAnonymous&&!(C.email&&F.passwordHash||Te?.length),Yn={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:Te,metadata:new Ln(F.createdAt,F.lastLoginAt),isAnonymous:qt};Object.assign(C,Yn)}),Mn.apply(this,arguments)}function In(){return(In=(0,h.Z)(function*(C){const m=(0,M.m9)(C);yield ci(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function ii(){return(ii=(0,h.Z)(function*(C,m){const y=yield gt(C,{},(0,h.Z)(function*(){const b=(0,M.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:O,apiKey:F}=C.config,oe=On(C,O,"/v1/token",`key=${F}`),Te=yield C._getAdditionalHeaders();return Te["Content-Type"]="application/x-www-form-urlencoded",_e.fetch()(oe,{method:"POST",headers:Te,body:b})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class Tr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){H(m.idToken,"internal-error"),H(typeof m.idToken<"u","internal-error"),H(typeof m.refreshToken<"u","internal-error");const y="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function zt(C){const m=jt(C);return H(m,"internal-error"),H(typeof m.exp<"u","internal-error"),H(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,y)}getToken(m,y=!1){var b=this;return(0,h.Z)(function*(){return H(!b.accessToken||b.refreshToken,m,"user-token-expired"),y||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(m,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,y){var b=this;return(0,h.Z)(function*(){const{accessToken:O,refreshToken:F,expiresIn:oe}=yield function Br(C,m){return ii.apply(this,arguments)}(m,y);b.updateTokensAndExpiration(O,F,Number(oe))})()}updateTokensAndExpiration(m,y,b){this.refreshToken=y||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(m,y){const{refreshToken:b,accessToken:O,expirationTime:F}=y,oe=new Tr;return b&&(H("string"==typeof b,"internal-error",{appName:m}),oe.refreshToken=b),O&&(H("string"==typeof O,"internal-error",{appName:m}),oe.accessToken=O),F&&(H("number"==typeof F,"internal-error",{appName:m}),oe.expirationTime=F),oe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Tr,this.toJSON())}_performRefresh(){return he("not implemented")}}function Me(C,m){H("string"==typeof C||typeof C>"u","internal-error",{appName:m})}class te{constructor(m){var{uid:y,auth:b,stsTokenManager:O}=m,F=(0,se._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=b,this.stsTokenManager=O,this.accessToken=O.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new Ln(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(m){var y=this;return(0,h.Z)(function*(){const b=yield en(y,y.stsTokenManager.getToken(y.auth,m));return H(b,y.auth,"internal-error"),y.accessToken!==b&&(y.accessToken=b,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),b})()}getIdTokenResult(m){return function ur(C){return ui.apply(this,arguments)}(this,m)}reload(){return function Ui(C){return In.apply(this,arguments)}(this)}_assign(m){this!==m&&(H(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(y=>Object.assign({},y)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const y=new te(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(m){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,y=!1){var b=this;return(0,h.Z)(function*(){let O=!1;m.idToken&&m.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(m),O=!0),y&&(yield ci(b)),yield b.auth._persistUserIfCurrent(b),O&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var m=this;return(0,h.Z)(function*(){const y=yield m.getIdToken();return yield en(m,function Dr(C,m){return $n.apply(this,arguments)}(m.auth,{idToken:y})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,y){var b,O,F,oe,Te,ft,Et,qt;const Yn=null!==(b=y.displayName)&&void 0!==b?b:void 0,wi=null!==(O=y.email)&&void 0!==O?O:void 0,vs=null!==(F=y.phoneNumber)&&void 0!==F?F:void 0,Da=null!==(oe=y.photoURL)&&void 0!==oe?oe:void 0,Hh=null!==(Te=y.tenantId)&&void 0!==Te?Te:void 0,Bc=null!==(ft=y._redirectEventId)&&void 0!==ft?ft:void 0,ua=null!==(Et=y.createdAt)&&void 0!==Et?Et:void 0,uu=null!==(qt=y.lastLoginAt)&&void 0!==qt?qt:void 0,{uid:Ku,emailVerified:Yu,isAnonymous:Bs,providerData:jc,stsTokenManager:ca}=y;H(Ku&&ca,m,"internal-error");const cu=Tr.fromJSON(this.name,ca);H("string"==typeof Ku,m,"internal-error"),Me(Yn,m.name),Me(wi,m.name),H("boolean"==typeof Yu,m,"internal-error"),H("boolean"==typeof Bs,m,"internal-error"),Me(vs,m.name),Me(Da,m.name),Me(Hh,m.name),Me(Bc,m.name),Me(ua,m.name),Me(uu,m.name);const Ta=new te({uid:Ku,auth:m,email:wi,emailVerified:Yu,displayName:Yn,isAnonymous:Bs,photoURL:Da,phoneNumber:vs,tenantId:Hh,stsTokenManager:cu,createdAt:ua,lastLoginAt:uu});return jc&&Array.isArray(jc)&&(Ta.providerData=jc.map($c=>Object.assign({},$c))),Bc&&(Ta._redirectEventId=Bc),Ta}static _fromIdTokenResponse(m,y,b=!1){return(0,h.Z)(function*(){const O=new Tr;O.updateFromServerResponse(y);const F=new te({uid:y.localId,auth:m,stsTokenManager:O,isAnonymous:b});return yield ci(F),F})()}}const Re=new Map;function ot(C){Ve(C instanceof Function,"Expected a class definition");let m=Re.get(C);return m?(Ve(m instanceof C,"Instance stored in cache mismatched with class"),m):(m=new C,Re.set(C,m),m)}const Lt=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(y,b){var O=this;return(0,h.Z)(function*(){O.storage[y]=b})()}_get(y){var b=this;return(0,h.Z)(function*(){const O=b.storage[y];return void 0===O?null:O})()}_remove(y){var b=this;return(0,h.Z)(function*(){delete b.storage[y]})()}_addListener(y,b){}_removeListener(y,b){}}return C.type="NONE",C})();function Wn(C,m,y){return`firebase:${C}:${m}:${y}`}class J{constructor(m,y,b){this.persistence=m,this.auth=y,this.userKey=b;const{config:O,name:F}=this.auth;this.fullUserKey=Wn(this.userKey,O.apiKey,F),this.fullPersistenceKey=Wn("persistence",O.apiKey,F),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,h.Z)(function*(){const y=yield m.persistence._get(m.fullUserKey);return y?te._fromJSON(m.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var y=this;return(0,h.Z)(function*(){if(y.persistence===m)return;const b=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=m,b?y.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,y,b="authUser"){return(0,h.Z)(function*(){if(!y.length)return new J(ot(Lt),m,b);const O=(yield Promise.all(y.map(function(){var Et=(0,h.Z)(function*(qt){if(yield qt._isAvailable())return qt});return function(qt){return Et.apply(this,arguments)}}()))).filter(Et=>Et);let F=O[0]||ot(Lt);const oe=Wn(b,m.config.apiKey,m.name);let Te=null;for(const Et of y)try{const qt=yield Et._get(oe);if(qt){const Yn=te._fromJSON(m,qt);Et!==F&&(Te=Yn),F=Et;break}}catch{}const ft=O.filter(Et=>Et._shouldAllowMigration);return F._shouldAllowMigration&&ft.length?(F=ft[0],Te&&(yield F._set(oe,Te.toJSON())),yield Promise.all(y.map(function(){var Et=(0,h.Z)(function*(qt){if(qt!==F)try{yield qt._remove(oe)}catch{}});return function(qt){return Et.apply(this,arguments)}}())),new J(F,m,b)):new J(F,m,b)})()}}function X(C){const m=C.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(ce(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(V(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(pt(m))return"Blackberry";if(Qt(m))return"Webos";if(j(m))return"Safari";if((m.includes("chrome/")||k(m))&&!m.includes("edge/"))return"Chrome";if(ze(m))return"Android";{const b=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function V(C=(0,M.z$)()){return/firefox\//i.test(C)}function j(C=(0,M.z$)()){const m=C.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function k(C=(0,M.z$)()){return/crios\//i.test(C)}function ce(C=(0,M.z$)()){return/iemobile/i.test(C)}function ze(C=(0,M.z$)()){return/android/i.test(C)}function pt(C=(0,M.z$)()){return/blackberry/i.test(C)}function Qt(C=(0,M.z$)()){return/webos/i.test(C)}function Ct(C=(0,M.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function Zn(C=(0,M.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function Cn(C=(0,M.z$)()){return Ct(C)||ze(C)||Qt(C)||pt(C)||/windows phone/i.test(C)||ce(C)}function re(C,m=[]){let y;switch(C){case"Browser":y=X((0,M.z$)());break;case"Worker":y=`${X((0,M.z$)())}-${C}`;break;default:y=C}const b=m.length?m.join(","):"FirebaseCore-web";return`${y}/JsCore/${B.SDK_VERSION}/${b}`}function vt(){return(vt=(0,h.Z)(function*(C){return(yield $e(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Dt(C,m){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,h.Z)(function*(C,m){return $e(C,"GET","/v2/recaptchaConfig",ve(C,m))})).apply(this,arguments)}function St(C){return void 0!==C&&void 0!==C.getResponse}function cr(C){return void 0!==C&&void 0!==C.enterprise}class bi{constructor(m){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.emailPasswordEnabled=m.recaptchaEnforcementState.some(y=>"EMAIL_PASSWORD_PROVIDER"===y.provider&&"OFF"!==y.enforcementState)}}function gs(C){return new Promise((m,y)=>{const b=document.createElement("script");b.setAttribute("src",C),b.onload=m,b.onerror=O=>{const F=ke("internal-error");F.customData=O,y(F)},b.type="text/javascript",b.charset="UTF-8",function Xi(){var C,m;return null!==(m=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==m?m:document}().appendChild(b)})}function Di(C){return`__${C}${Math.floor(1e6*Math.random())}`}class Vi{constructor(m){this.type="recaptcha-enterprise",this.auth=jr(m)}verify(m="verify",y=!1){var b=this;return(0,h.Z)(function*(){function F(){return F=(0,h.Z)(function*(Te){if(!y){if(null==Te.tenantId&&null!=Te._agentRecaptchaConfig)return Te._agentRecaptchaConfig.siteKey;if(null!=Te.tenantId&&void 0!==Te._tenantRecaptchaConfigs[Te.tenantId])return Te._tenantRecaptchaConfigs[Te.tenantId].siteKey}return new Promise(function(){var ft=(0,h.Z)(function*(Et,qt){Dt(Te,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Yn=>{if(void 0!==Yn.recaptchaKey){const wi=new bi(Yn);return null==Te.tenantId?Te._agentRecaptchaConfig=wi:Te._tenantRecaptchaConfigs[Te.tenantId]=wi,Et(wi.siteKey)}qt(new Error("recaptcha Enterprise site key undefined"))}).catch(Yn=>{qt(Yn)})});return function(Et,qt){return ft.apply(this,arguments)}}())}),F.apply(this,arguments)}function oe(Te,ft,Et){const qt=window.grecaptcha;cr(qt)?qt.enterprise.ready(()=>{qt.enterprise.execute(Te,{action:m}).then(Yn=>{ft(Yn)}).catch(()=>{ft("NO_RECAPTCHA")})}):Et(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Te,ft)=>{(function O(Te){return F.apply(this,arguments)})(b.auth).then(Et=>{if(!y&&cr(window.grecaptcha))oe(Et,Te,ft);else{if(typeof window>"u")return void ft(new Error("RecaptchaVerifier is only supported in browser"));gs("https://www.google.com/recaptcha/enterprise.js?render="+Et).then(()=>{oe(Et,Te,ft)}).catch(qt=>{ft(qt)})}}).catch(Et=>{ft(Et)})})})()}}function es(C,m,y){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,h.Z)(function*(C,m,y,b=!1){const O=new Vi(C);let F;try{F=yield O.verify(y)}catch{F=yield O.verify(y,!0)}const oe=Object.assign({},m);return Object.assign(oe,b?{captchaResp:F}:{captchaResponse:F}),Object.assign(oe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(oe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),oe})).apply(this,arguments)}class Ro{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,y){const b=F=>new Promise((oe,Te)=>{try{oe(m(F))}catch(ft){Te(ft)}});b.onAbort=y,this.queue.push(b);const O=this.queue.length-1;return()=>{this.queue[O]=()=>Promise.resolve()}}runMiddleware(m){var y=this;return(0,h.Z)(function*(){if(y.auth.currentUser===m)return;const b=[];try{for(const O of y.queue)yield O(m),O.onAbort&&b.push(O.onAbort)}catch(O){b.reverse();for(const F of b)try{F()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:O?.message})}})()}}class No{constructor(m,y,b,O){this.app=m,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=b,this.config=O,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zs(this),this.idTokenSubscription=new zs(this),this.beforeStateQueue=new Ro(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Be,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=O.sdkClientVersion}_initializeWithPersistence(m,y){var b=this;return y&&(this._popupRedirectResolver=ot(y)),this._initializationPromise=this.queue((0,h.Z)(function*(){var O,F;if(!b._deleted&&(b.persistenceManager=yield J.create(b,m),!b._deleted)){if(null!==(O=b._popupRedirectResolver)&&void 0!==O&&O._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(y),b.lastNotifiedUid=(null===(F=b.currentUser)||void 0===F?void 0:F.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,h.Z)(function*(){if(m._deleted)return;const y=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||y){if(m.currentUser&&y&&m.currentUser.uid===y.uid)return m._currentUser._assign(y),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(y,!0)}})()}initializeCurrentUser(m){var y=this;return(0,h.Z)(function*(){var b;const O=yield y.assertedPersistence.getCurrentUser();let F=O,oe=!1;if(m&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Te=null===(b=y.redirectUser)||void 0===b?void 0:b._redirectEventId,ft=F?._redirectEventId,Et=yield y.tryRedirectSignIn(m);(!Te||Te===ft)&&Et?.user&&(F=Et.user,oe=!0)}if(!F)return y.directlySetCurrentUser(null);if(!F._redirectEventId){if(oe)try{yield y.beforeStateQueue.runMiddleware(F)}catch(Te){F=O,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Te))}return F?y.reloadAndSetCurrentUserOrClear(F):y.directlySetCurrentUser(null)}return H(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===F._redirectEventId?y.directlySetCurrentUser(F):y.reloadAndSetCurrentUserOrClear(F)})()}tryRedirectSignIn(m){var y=this;return(0,h.Z)(function*(){let b=null;try{b=yield y._popupRedirectResolver._completeRedirectFn(y,m,!0)}catch{yield y._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(m){var y=this;return(0,h.Z)(function*(){try{yield ci(m)}catch(b){if("auth/network-request-failed"!==b?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function En(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var m=this;return(0,h.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var y=this;return(0,h.Z)(function*(){const b=m?(0,M.m9)(m):null;return b&&H(b.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(b&&b._clone(y))})()}_updateCurrentUser(m,y=!1){var b=this;return(0,h.Z)(function*(){if(!b._deleted)return m&&H(b.tenantId===m.tenantId,b,"tenant-id-mismatch"),y||(yield b.beforeStateQueue.runMiddleware(m)),b.queue((0,h.Z)(function*(){yield b.directlySetCurrentUser(m),b.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,h.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var y=this;return this.queue((0,h.Z)(function*(){yield y.assertedPersistence.setPersistence(ot(m))}))}initializeRecaptchaConfig(){var m=this;return(0,h.Z)(function*(){const y=yield Dt(m,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),b=new bi(y);null==m.tenantId?m._agentRecaptchaConfig=b:m._tenantRecaptchaConfigs[m.tenantId]=b,b.emailPasswordEnabled&&new Vi(m).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new M.LL("auth","Firebase",m())}onAuthStateChanged(m,y,b){return this.registerStateListener(this.authStateSubscription,m,y,b)}beforeAuthStateChanged(m,y){return this.beforeStateQueue.pushCallback(m,y)}onIdTokenChanged(m,y,b){return this.registerStateListener(this.idTokenSubscription,m,y,b)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,y){var b=this;return(0,h.Z)(function*(){const O=yield b.getOrInitRedirectPersistenceManager(y);return null===m?O.removeCurrentUser():O.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var y=this;return(0,h.Z)(function*(){if(!y.redirectPersistenceManager){const b=m&&ot(m)||y._popupRedirectResolver;H(b,y,"argument-error"),y.redirectPersistenceManager=yield J.create(y,[ot(b._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(m){var y=this;return(0,h.Z)(function*(){var b,O;return y._isInitialized&&(yield y.queue((0,h.Z)(function*(){}))),(null===(b=y._currentUser)||void 0===b?void 0:b._redirectEventId)===m?y._currentUser:(null===(O=y.redirectUser)||void 0===O?void 0:O._redirectEventId)===m?y.redirectUser:null})()}_persistUserIfCurrent(m){var y=this;return(0,h.Z)(function*(){if(m===y.currentUser)return y.queue((0,h.Z)(function*(){return y.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(y=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,y,b,O){if(this._deleted)return()=>{};const F="function"==typeof y?y:y.next.bind(y),oe=this._isInitialized?Promise.resolve():this._initializationPromise;return H(oe,this,"internal-error"),oe.then(()=>F(this.currentUser)),"function"==typeof y?m.addObserver(y,b,O):m.addObserver(y)}directlySetCurrentUser(m){var y=this;return(0,h.Z)(function*(){y.currentUser&&y.currentUser!==m&&y._currentUser._stopProactiveRefresh(),m&&y.isProactiveRefreshEnabled&&m._startProactiveRefresh(),y.currentUser=m,m?yield y.assertedPersistence.setCurrentUser(m):yield y.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=re(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,h.Z)(function*(){var y;const b={"X-Client-Version":m.clientVersion};m.app.options.appId&&(b["X-Firebase-gmpid"]=m.app.options.appId);const O=yield null===(y=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();O&&(b["X-Firebase-Client"]=O);const F=yield m._getAppCheckToken();return F&&(b["X-Firebase-AppCheck"]=F),b})()}_getAppCheckToken(){var m=this;return(0,h.Z)(function*(){var y;const b=yield null===(y=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return b?.error&&function wt(C,...m){je.logLevel<=ye.in.WARN&&je.warn(`Auth (${B.SDK_VERSION}): ${C}`,...m)}(`Error while retrieving App Check token: ${b.error}`),b?.token})()}}function jr(C){return(0,M.m9)(C)}class zs{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,M.ne)(y=>this.observer=y)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Jo(C,m,y){const b=jr(C);H(b._canInitEmulator,b,"emulator-config-failed"),H(/^https?:\/\//.test(m),b,"invalid-emulator-scheme");const O=!!y?.disableWarnings,F=Bi(m),{host:oe,port:Te}=function Su(C){const m=Bi(C),y=/(\/\/)?([^?#/]+)/.exec(C.substr(m.length));if(!y)return{host:"",port:null};const b=y[2].split("@").pop()||"",O=/^(\[[^\]]+\])(:|$)/.exec(b);if(O){const F=O[1];return{host:F,port:Xo(b.substr(F.length+1))}}{const[F,oe]=b.split(":");return{host:F,port:Xo(oe)}}}(m);b.config.emulator={url:`${F}//${oe}${null===Te?"":`:${Te}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:oe,port:Te,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:O})}),O||function mc(){function C(){const m=document.createElement("p"),y=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function Bi(C){const m=C.indexOf(":");return m<0?"":C.substr(0,m+1)}function Xo(C){if(!C)return null;const m=Number(C);return isNaN(m)?null:m}class K{constructor(m,y){this.providerId=m,this.signInMethod=y}toJSON(){return he("not implemented")}_getIdTokenResponse(m){return he("not implemented")}_linkToIdToken(m,y){return he("not implemented")}_getReauthenticationResolver(m){return he("not implemented")}}function fe(C,m){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,h.Z)(function*(C,m){return $e(C,"POST","/v1/accounts:resetPassword",ve(C,m))})).apply(this,arguments)}function xt(C,m){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,h.Z)(function*(C,m){return $e(C,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function bn(){return(bn=(0,h.Z)(function*(C,m){return $e(C,"POST","/v1/accounts:update",ve(C,m))})).apply(this,arguments)}function Nr(C,m){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,h.Z)(function*(C,m){return hn(C,"POST","/v1/accounts:signInWithPassword",ve(C,m))})).apply(this,arguments)}function _i(C,m){return Js.apply(this,arguments)}function Js(){return(Js=(0,h.Z)(function*(C,m){return $e(C,"POST","/v1/accounts:sendOobCode",ve(C,m))})).apply(this,arguments)}function yc(){return(yc=(0,h.Z)(function*(C,m){return _i(C,m)})).apply(this,arguments)}function xu(C,m){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,h.Z)(function*(C,m){return _i(C,m)})).apply(this,arguments)}function Pu(C,m){return er.apply(this,arguments)}function er(){return(er=(0,h.Z)(function*(C,m){return _i(C,m)})).apply(this,arguments)}function ji(){return(ji=(0,h.Z)(function*(C,m){return _i(C,m)})).apply(this,arguments)}function ts(){return(ts=(0,h.Z)(function*(C,m){return hn(C,"POST","/v1/accounts:signInWithEmailLink",ve(C,m))})).apply(this,arguments)}function _c(){return(_c=(0,h.Z)(function*(C,m){return hn(C,"POST","/v1/accounts:signInWithEmailLink",ve(C,m))})).apply(this,arguments)}class ea extends K{constructor(m,y,b,O=null){super("password",b),this._email=m,this._password=y,this._tenantId=O}static _fromEmailAndPassword(m,y){return new ea(m,y,"password")}static _fromEmailAndCode(m,y,b=null){return new ea(m,y,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(m){var y=this;return(0,h.Z)(function*(){var b;switch(y.signInMethod){case"password":const O={returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=m._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const F=yield es(m,O,"signInWithPassword");return Nr(m,F)}return Nr(m,O).catch(function(){var F=(0,h.Z)(function*(oe){if("auth/missing-recaptcha-token"===oe.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Te=yield es(m,O,"signInWithPassword");return Nr(m,Te)}return Promise.reject(oe)});return function(oe){return F.apply(this,arguments)}}());case"emailLink":return function ga(C,m){return ts.apply(this,arguments)}(m,{email:y._email,oobCode:y._password});default:ae(m,"internal-error")}})()}_linkToIdToken(m,y){var b=this;return(0,h.Z)(function*(){switch(b.signInMethod){case"password":return xt(m,{idToken:y,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function cd(C,m){return _c.apply(this,arguments)}(m,{idToken:y,email:b._email,oobCode:b._password});default:ae(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Ms(C,m){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,h.Z)(function*(C,m){return hn(C,"POST","/v1/accounts:signInWithIdp",ve(C,m))})).apply(this,arguments)}class mt extends K{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const y=new mt(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(y.idToken=m.idToken),m.accessToken&&(y.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(y.nonce=m.nonce),m.pendingToken&&(y.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(y.accessToken=m.oauthToken,y.secret=m.oauthTokenSecret):ae("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:b,signInMethod:O}=y,F=(0,se._T)(y,["providerId","signInMethod"]);if(!b||!O)return null;const oe=new mt(b,O);return oe.idToken=F.idToken||void 0,oe.accessToken=F.accessToken||void 0,oe.secret=F.secret,oe.nonce=F.nonce,oe.pendingToken=F.pendingToken||null,oe}_getIdTokenResponse(m){return Ms(m,this.buildRequest())}_linkToIdToken(m,y){const b=this.buildRequest();return b.idToken=y,Ms(m,b)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,Ms(m,y)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),m.postBody=(0,M.xO)(y)}return m}}function Ar(){return(Ar=(0,h.Z)(function*(C,m){return $e(C,"POST","/v1/accounts:sendVerificationCode",ve(C,m))})).apply(this,arguments)}function lr(){return(lr=(0,h.Z)(function*(C,m){return hn(C,"POST","/v1/accounts:signInWithPhoneNumber",ve(C,m))})).apply(this,arguments)}function Ba(){return(Ba=(0,h.Z)(function*(C,m){const y=yield hn(C,"POST","/v1/accounts:signInWithPhoneNumber",ve(C,m));if(y.temporaryProof)throw Pn(C,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const si={USER_NOT_FOUND:"user-not-found"};function xs(){return(xs=(0,h.Z)(function*(C,m){return hn(C,"POST","/v1/accounts:signInWithPhoneNumber",ve(C,Object.assign(Object.assign({},m),{operation:"REAUTH"})),si)})).apply(this,arguments)}class nn extends K{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,y){return new nn({verificationId:m,verificationCode:y})}static _fromTokenResponse(m,y){return new nn({phoneNumber:m,temporaryProof:y})}_getIdTokenResponse(m){return function Gn(C,m){return lr.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,y){return function $i(C,m){return Ba.apply(this,arguments)}(m,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function ko(C,m){return xs.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:y,verificationId:b,verificationCode:O}=this.params;return m&&y?{temporaryProof:m,phoneNumber:y}:{sessionInfo:b,code:O}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:y,verificationCode:b,phoneNumber:O,temporaryProof:F}=m;return b||y||O||F?new nn({verificationId:y,verificationCode:b,phoneNumber:O,temporaryProof:F}):null}}class ir{constructor(m){var y,b,O,F,oe,Te;const ft=(0,M.zd)((0,M.pd)(m)),Et=null!==(y=ft.apiKey)&&void 0!==y?y:null,qt=null!==(b=ft.oobCode)&&void 0!==b?b:null,Yn=function ja(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(O=ft.mode)&&void 0!==O?O:null);H(Et&&qt&&Yn,"argument-error"),this.apiKey=Et,this.operation=Yn,this.code=qt,this.continueUrl=null!==(F=ft.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(oe=ft.languageCode)&&void 0!==oe?oe:null,this.tenantId=null!==(Te=ft.tenantId)&&void 0!==Te?Te:null}static parseLink(m){const y=function Dh(C){const m=(0,M.zd)((0,M.pd)(C)).link,y=m?(0,M.zd)((0,M.pd)(m)).deep_link_id:null,b=(0,M.zd)((0,M.pd)(C)).deep_link_id;return(b?(0,M.zd)((0,M.pd)(b)).link:null)||b||y||m||C}(m);try{return new ir(y)}catch{return null}}}let Hi=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(y,b){return ea._fromEmailAndPassword(y,b)}static credentialWithLink(y,b){const O=ir.parseLink(b);return H(O,"argument-error"),ea._fromEmailAndCode(y,O.code,O.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class Os{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Gi extends Os{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class oi extends Gi{static credentialFromJSON(m){const y="string"==typeof m?JSON.parse(m):m;return H("providerId"in y&&"signInMethod"in y,"argument-error"),mt._fromParams(y)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return H(m.idToken||m.accessToken,"argument-error"),mt._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return oi.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return oi.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:y,oauthAccessToken:b,oauthTokenSecret:O,pendingToken:F,nonce:oe,providerId:Te}=m;if(!b&&!O&&!y&&!F||!Te)return null;try{return new oi(Te)._credential({idToken:y,accessToken:b,nonce:oe,pendingToken:F})}catch{return null}}}let ll=(()=>{class C extends Gi{constructor(){super("facebook.com")}static credential(y){return mt._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return C.credential(y.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),ta=(()=>{class C extends Gi{constructor(){super("google.com"),this.addScope("profile")}static credential(y,b){return mt._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:b})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:b,oauthAccessToken:O}=y;if(!b&&!O)return null;try{return C.credential(b,O)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),go=(()=>{class C extends Gi{constructor(){super("github.com")}static credential(y){return mt._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return C.credential(y.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class G extends K{constructor(m,y){super(m,m),this.pendingToken=y}_getIdTokenResponse(m){return Ms(m,this.buildRequest())}_linkToIdToken(m,y){const b=this.buildRequest();return b.idToken=y,Ms(m,b)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,Ms(m,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:b,signInMethod:O,pendingToken:F}=y;return b&&O&&F&&b===O?new G(b,F):null}static _create(m,y){return new G(m,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ee extends Os{constructor(m){H(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Ee.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Ee.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const y=G.fromJSON(m);return H(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:y,providerId:b}=m;if(!y||!b)return null;try{return G._create(b,y)}catch{return null}}}let qe=(()=>{class C extends Gi{constructor(){super("twitter.com")}static credential(y,b){return mt._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:b})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:b,oauthTokenSecret:O}=y;if(!b||!O)return null;try{return C.credential(b,O)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function nt(C,m){return yt.apply(this,arguments)}function yt(){return(yt=(0,h.Z)(function*(C,m){return hn(C,"POST","/v1/accounts:signUp",ve(C,m))})).apply(this,arguments)}class Ht{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,y,b,O=!1){return(0,h.Z)(function*(){const F=yield te._fromIdTokenResponse(m,b,O),oe=Gt(b);return new Ht({user:F,providerId:oe,_tokenResponse:b,operationType:y})})()}static _forOperation(m,y,b){return(0,h.Z)(function*(){yield m._updateTokensIfNecessary(b,!0);const O=Gt(b);return new Ht({user:m,providerId:O,_tokenResponse:b,operationType:y})})()}}function Gt(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function fn(C){return sn.apply(this,arguments)}function sn(){return(sn=(0,h.Z)(function*(C){var m;const y=jr(C);if(yield y._initializationPromise,null!==(m=y.currentUser)&&void 0!==m&&m.isAnonymous)return new Ht({user:y.currentUser,providerId:null,operationType:"signIn"});const b=yield nt(y,{returnSecureToken:!0}),O=yield Ht._fromIdTokenResponse(y,"signIn",b,!0);return yield y._updateCurrentUser(O.user),O})).apply(this,arguments)}class Fn extends M.ZR{constructor(m,y,b,O){var F;super(y.code,y.message),this.operationType=b,this.user=O,Object.setPrototypeOf(this,Fn.prototype),this.customData={appName:m.name,tenantId:null!==(F=m.tenantId)&&void 0!==F?F:void 0,_serverResponse:y.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(m,y,b,O){return new Fn(m,y,b,O)}}function hr(C,m,y,b){return("reauthenticate"===m?y._getReauthenticationResolver(C):y._getIdTokenResponse(C)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?Fn._fromErrorAndOperation(C,F,m,b):F})}function ar(C){return new Set(C.map(({providerId:m})=>m).filter(m=>!!m))}function $a(C,m){return Ps.apply(this,arguments)}function Ps(){return Ps=(0,h.Z)(function*(C,m){const y=(0,M.m9)(C);yield Rs(!0,y,m);const{providerUserInfo:b}=yield function kn(C,m){return fr.apply(this,arguments)}(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[m]}),O=ar(b||[]);return y.providerData=y.providerData.filter(F=>O.has(F.providerId)),O.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y}),Ps.apply(this,arguments)}function Lo(C,m){return ei.apply(this,arguments)}function ei(){return(ei=(0,h.Z)(function*(C,m,y=!1){const b=yield en(C,m._linkToIdToken(C.auth,yield C.getIdToken()),y);return Ht._forOperation(C,"link",b)})).apply(this,arguments)}function Rs(C,m,y){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,h.Z)(function*(C,m,y){yield ci(m);const O=!1===C?"provider-already-linked":"no-such-provider";H(ar(m.providerData).has(y)===C,m.auth,O)})).apply(this,arguments)}function dl(C,m){return vc.apply(this,arguments)}function vc(){return(vc=(0,h.Z)(function*(C,m,y=!1){const{auth:b}=C,O="reauthenticate";try{const F=yield en(C,hr(b,O,m,C),y);H(F.idToken,b,"internal-error");const oe=jt(F.idToken);H(oe,b,"internal-error");const{sub:Te}=oe;return H(C.uid===Te,b,"user-mismatch"),Ht._forOperation(C,O,F)}catch(F){throw"auth/user-not-found"===F?.code&&ae(b,"user-mismatch"),F}})).apply(this,arguments)}function _m(C,m){return ld.apply(this,arguments)}function ld(){return(ld=(0,h.Z)(function*(C,m,y=!1){const b="signIn",O=yield hr(C,b,m),F=yield Ht._fromIdTokenResponse(C,b,O);return y||(yield C._updateCurrentUser(F.user)),F})).apply(this,arguments)}function dd(C,m){return hd.apply(this,arguments)}function hd(){return(hd=(0,h.Z)(function*(C,m){return _m(jr(C),m)})).apply(this,arguments)}function pp(C,m){return gp.apply(this,arguments)}function gp(){return(gp=(0,h.Z)(function*(C,m){const y=(0,M.m9)(C);return yield Rs(!1,y,m.providerId),Lo(y,m)})).apply(this,arguments)}function hi(C,m){return Th.apply(this,arguments)}function Th(){return(Th=(0,h.Z)(function*(C,m){return dl((0,M.m9)(C),m)})).apply(this,arguments)}function wm(){return(wm=(0,h.Z)(function*(C,m){return hn(C,"POST","/v1/accounts:signInWithCustomToken",ve(C,m))})).apply(this,arguments)}function q_(C,m){return Xs.apply(this,arguments)}function Xs(){return Xs=(0,h.Z)(function*(C,m){const y=jr(C),b=yield function vm(C,m){return wm.apply(this,arguments)}(y,{token:m,returnSecureToken:!0}),O=yield Ht._fromIdTokenResponse(y,"signIn",b);return yield y._updateCurrentUser(O.user),O}),Xs.apply(this,arguments)}class hl{constructor(m,y){this.factorId=m,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(m,y){return"phoneInfo"in y?fl._fromServerResponse(m,y):"totpInfo"in y?pl._fromServerResponse(m,y):ae(m,"internal-error")}}class fl extends hl{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,y){return new fl(y)}}class pl extends hl{constructor(m){super("totp",m)}static _fromServerResponse(m,y){return new pl(y)}}function ku(C,m,y){var b;H((null===(b=y.url)||void 0===b?void 0:b.length)>0,C,"invalid-continue-uri"),H(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),m.continueUrl=y.url,m.dynamicLinkDomain=y.dynamicLinkDomain,m.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(H(y.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),m.iOSBundleId=y.iOS.bundleId),y.android&&(H(y.android.packageName.length>0,C,"missing-android-pkg-name"),m.androidInstallApp=y.android.installApp,m.androidMinimumVersionCode=y.android.minimumVersion,m.androidPackageName=y.android.packageName)}function jw(C,m,y){return Em.apply(this,arguments)}function Em(){return Em=(0,h.Z)(function*(C,m,y){var b;const O=jr(C),F={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=O._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const oe=yield es(O,F,"getOobCode",!0);y&&ku(O,oe,y),yield xu(O,oe)}else y&&ku(O,F,y),yield xu(O,F).catch(function(){var oe=(0,h.Z)(function*(Te){if("auth/missing-recaptcha-token"!==Te.code)return Promise.reject(Te);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const ft=yield es(O,F,"getOobCode",!0);y&&ku(O,ft,y),yield xu(O,ft)}});return function(Te){return oe.apply(this,arguments)}}())}),Em.apply(this,arguments)}function Im(C,m,y){return ma.apply(this,arguments)}function ma(){return(ma=(0,h.Z)(function*(C,m,y){yield fe((0,M.m9)(C),{oobCode:m,newPassword:y})})).apply(this,arguments)}function Ha(C,m){return ya.apply(this,arguments)}function ya(){return ya=(0,h.Z)(function*(C,m){yield function Kn(C,m){return bn.apply(this,arguments)}((0,M.m9)(C),{oobCode:m})}),ya.apply(this,arguments)}function gl(C,m){return zi.apply(this,arguments)}function zi(){return(zi=(0,h.Z)(function*(C,m){const y=(0,M.m9)(C),b=yield fe(y,{oobCode:m}),O=b.requestType;switch(H(O,y,"internal-error"),O){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":H(b.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":H(b.mfaInfo,y,"internal-error");default:H(b.email,y,"internal-error")}let F=null;return b.mfaInfo&&(F=hl._fromServerResponse(jr(y),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:F},operation:O}})).apply(this,arguments)}function ml(C,m){return ms.apply(this,arguments)}function ms(){return(ms=(0,h.Z)(function*(C,m){const{data:y}=yield gl((0,M.m9)(C),m);return y.email})).apply(this,arguments)}function na(C,m,y){return wc.apply(this,arguments)}function wc(){return wc=(0,h.Z)(function*(C,m,y){var b;const O=jr(C),F={returnSecureToken:!0,email:m,password:y,clientType:"CLIENT_TYPE_WEB"};let oe;if(null!==(b=O._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const Et=yield es(O,F,"signUpPassword");oe=nt(O,Et)}else oe=nt(O,F).catch(function(){var Et=(0,h.Z)(function*(qt){if("auth/missing-recaptcha-token"===qt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Yn=yield es(O,F,"signUpPassword");return nt(O,Yn)}return Promise.reject(qt)});return function(qt){return Et.apply(this,arguments)}}());const Te=yield oe.catch(Et=>Promise.reject(Et)),ft=yield Ht._fromIdTokenResponse(O,"signIn",Te);return yield O._updateCurrentUser(ft.user),ft}),wc.apply(this,arguments)}function Cm(C,m,y){return dd((0,M.m9)(C),Hi.credential(m,y))}function mp(C,m,y){return Ec.apply(this,arguments)}function Ec(){return Ec=(0,h.Z)(function*(C,m,y){var b;const O=jr(C),F={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};function oe(Te,ft){H(ft.handleCodeInApp,O,"argument-error"),ft&&ku(O,Te,ft)}if(null!==(b=O._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const Te=yield es(O,F,"getOobCode",!0);oe(Te,y),yield Pu(O,Te)}else oe(F,y),yield Pu(O,F).catch(function(){var Te=(0,h.Z)(function*(ft){if("auth/missing-recaptcha-token"!==ft.code)return Promise.reject(ft);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Et=yield es(O,F,"getOobCode",!0);oe(Et,y),yield Pu(O,Et)}});return function(ft){return Te.apply(this,arguments)}}())}),Ec.apply(this,arguments)}function Ic(C,m){const y=ir.parseLink(m);return"EMAIL_SIGNIN"===y?.operation}function mo(C,m,y){return yl.apply(this,arguments)}function yl(){return(yl=(0,h.Z)(function*(C,m,y){const b=(0,M.m9)(C),O=Hi.credentialWithLink(m,y||It());return H(O._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),dd(b,O)})).apply(this,arguments)}function Ah(){return(Ah=(0,h.Z)(function*(C,m){return $e(C,"POST","/v1/accounts:createAuthUri",ve(C,m))})).apply(this,arguments)}function Dm(C,m){return _l.apply(this,arguments)}function _l(){return _l=(0,h.Z)(function*(C,m){const b={identifier:m,continueUri:tn()?It():"http://localhost"},{signinMethods:O}=yield function bm(C,m){return Ah.apply(this,arguments)}((0,M.m9)(C),b);return O||[]}),_l.apply(this,arguments)}function fd(C,m){return Fo.apply(this,arguments)}function Fo(){return Fo=(0,h.Z)(function*(C,m){const y=(0,M.m9)(C),O={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};m&&ku(y.auth,O,m);const{email:F}=yield function Mu(C,m){return yc.apply(this,arguments)}(y.auth,O);F!==C.email&&(yield C.reload())}),Fo.apply(this,arguments)}function le(C,m,y){return We.apply(this,arguments)}function We(){return We=(0,h.Z)(function*(C,m,y){const b=(0,M.m9)(C),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:m};y&&ku(b.auth,F,y);const{email:oe}=yield function Oi(C,m){return ji.apply(this,arguments)}(b.auth,F);oe!==C.email&&(yield C.reload())}),We.apply(this,arguments)}function Ft(){return(Ft=(0,h.Z)(function*(C,m){return $e(C,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Nn(C,m){return wr.apply(this,arguments)}function wr(){return wr=(0,h.Z)(function*(C,{displayName:m,photoURL:y}){if(void 0===m&&void 0===y)return;const b=(0,M.m9)(C),F={idToken:yield b.getIdToken(),displayName:m,photoUrl:y,returnSecureToken:!0},oe=yield en(b,function Ne(C,m){return Ft.apply(this,arguments)}(b.auth,F));b.displayName=oe.displayName||null,b.photoURL=oe.photoUrl||null;const Te=b.providerData.find(({providerId:ft})=>"password"===ft);Te&&(Te.displayName=b.displayName,Te.photoURL=b.photoURL),yield b._updateTokensIfNecessary(oe)}),wr.apply(this,arguments)}function ns(C,m){return vl((0,M.m9)(C),m,null)}function Lr(C,m){return vl((0,M.m9)(C),null,m)}function vl(C,m,y){return yp.apply(this,arguments)}function yp(){return(yp=(0,h.Z)(function*(C,m,y){const{auth:b}=C,F={idToken:yield C.getIdToken(),returnSecureToken:!0};m&&(F.email=m),y&&(F.password=y);const oe=yield en(C,xt(b,F));yield C._updateTokensIfNecessary(oe,!0)})).apply(this,arguments)}class Lu{constructor(m,y,b={}){this.isNewUser=m,this.providerId=y,this.profile=b}}class W_ extends Lu{constructor(m,y,b,O){super(m,y,b),this.username=O}}class _a extends Lu{constructor(m,y){super(m,"facebook.com",y)}}class pd extends W_{constructor(m,y){super(m,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class wl extends Lu{constructor(m,y){super(m,"google.com",y)}}class Cr extends W_{constructor(m,y,b){super(m,"twitter.com",y,b)}}function El(C){const{user:m,_tokenResponse:y}=C;return m.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function eo(C){var m,y;if(!C)return null;const{providerId:b}=C,O=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},F=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!b&&C?.idToken){const oe=null===(y=null===(m=jt(C.idToken))||void 0===m?void 0:m.firebase)||void 0===y?void 0:y.sign_in_provider;if(oe)return new Lu(F,"anonymous"!==oe&&"custom"!==oe?oe:null)}if(!b)return null;switch(b){case"facebook.com":return new _a(F,O);case"github.com":return new pd(F,O);case"google.com":return new wl(F,O);case"twitter.com":return new Cr(F,O,C.screenName||null);case"custom":case"anonymous":return new Lu(F,null);default:return new Lu(F,b,O)}}(y)}class ra{constructor(m,y,b){this.type=m,this.credential=y,this.auth=b}static _fromIdtoken(m,y){return new ra("enroll",m,y)}static _fromMfaPendingCredential(m){return new ra("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var y,b;if(m?.multiFactorSession){if(null!==(y=m.multiFactorSession)&&void 0!==y&&y.pendingCredential)return ra._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(b=m.multiFactorSession)&&void 0!==b&&b.idToken)return ra._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Uu{constructor(m,y,b){this.session=m,this.hints=y,this.signInResolver=b}static _fromError(m,y){const b=jr(m),O=y.customData._serverResponse,F=(O.mfaInfo||[]).map(Te=>hl._fromServerResponse(b,Te));H(O.mfaPendingCredential,b,"internal-error");const oe=ra._fromMfaPendingCredential(O.mfaPendingCredential);return new Uu(oe,F,function(){var Te=(0,h.Z)(function*(ft){const Et=yield ft._process(b,oe);delete O.mfaInfo,delete O.mfaPendingCredential;const qt=Object.assign(Object.assign({},O),{idToken:Et.idToken,refreshToken:Et.refreshToken});switch(y.operationType){case"signIn":const Yn=yield Ht._fromIdTokenResponse(b,y.operationType,qt);return yield b._updateCurrentUser(Yn.user),Yn;case"reauthenticate":return H(y.user,b,"internal-error"),Ht._forOperation(y.user,y.operationType,qt);default:ae(b,"internal-error")}});return function(ft){return Te.apply(this,arguments)}}())}resolveSignIn(m){var y=this;return(0,h.Z)(function*(){return y.signInResolver(m)})()}}function Dc(C,m){var y;const b=(0,M.m9)(C),O=m;return H(m.customData.operationType,b,"argument-error"),H(null===(y=O.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,b,"argument-error"),Uu._fromError(b,O)}class yd{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(b=>hl._fromServerResponse(m.auth,b)))})}static _fromUser(m){return new yd(m)}getSession(){var m=this;return(0,h.Z)(function*(){return ra._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,y){var b=this;return(0,h.Z)(function*(){const O=m,F=yield b.getSession(),oe=yield en(b.user,O._process(b.user.auth,F,y));return yield b.user._updateTokensIfNecessary(oe),b.user.reload()})()}unenroll(m){var y=this;return(0,h.Z)(function*(){const b="string"==typeof m?m:m.uid,O=yield y.user.getIdToken();try{const F=yield en(y.user,function wp(C,m){return $e(C,"POST","/v2/accounts/mfaEnrollment:withdraw",ve(C,m))}(y.user.auth,{idToken:O,mfaEnrollmentId:b}));y.enrolledFactors=y.enrolledFactors.filter(({uid:oe})=>oe!==b),yield y.user._updateTokensIfNecessary(F),yield y.user.reload()}catch(F){throw F}})()}}const Mr=new WeakMap;function Bu(C){const m=(0,M.m9)(C);return Mr.has(m)||Mr.set(m,yd._fromUser(m)),Mr.get(m)}const yo="__sak";class rs{constructor(m,y){this.storageRetriever=m,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(yo,"1"),this.storage.removeItem(yo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,y){return this.storage.setItem(m,JSON.stringify(y)),Promise.resolve()}_get(m){const y=this.storage.getItem(m);return Promise.resolve(y?JSON.parse(y):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const vi=(()=>{class C extends rs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,b)=>this.onStorageEvent(y,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function K_(){const C=(0,M.z$)();return j(C)||Ct(C)}()&&function li(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Cn(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const b of Object.keys(this.listeners)){const O=this.storage.getItem(b),F=this.localCache[b];O!==F&&y(b,F,O)}}onStorageEvent(y,b=!1){if(!y.key)return void this.forAllChangedKeys((Te,ft,Et)=>{this.notifyListeners(Te,Et)});const O=y.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Te=this.storage.getItem(O);if(y.newValue!==Te)null!==y.newValue?this.storage.setItem(O,y.newValue):this.storage.removeItem(O);else if(this.localCache[O]===y.newValue&&!b)return}const F=()=>{const Te=this.storage.getItem(O);!b&&this.localCache[O]===Te||this.notifyListeners(O,Te)},oe=this.storage.getItem(O);!function Jn(){return(0,M.w1)()&&10===document.documentMode}()||oe===y.newValue||y.newValue===y.oldValue?F():setTimeout(F,10)}notifyListeners(y,b){this.localCache[y]=b;const O=this.listeners[y];if(O)for(const F of Array.from(O))F(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,b,O)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:b,newValue:O}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(b)}_removeListener(y,b){this.listeners[y]&&(this.listeners[y].delete(b),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,b){var O=()=>super._set,F=this;return(0,h.Z)(function*(){yield O().call(F,y,b),F.localCache[y]=JSON.stringify(b)})()}_get(y){var b=()=>super._get,O=this;return(0,h.Z)(function*(){const F=yield b().call(O,y);return O.localCache[y]=JSON.stringify(F),F})()}_remove(y){var b=()=>super._remove,O=this;return(0,h.Z)(function*(){yield b().call(O,y),delete O.localCache[y]})()}}return C.type="LOCAL",C})(),vd=(()=>{class C extends rs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,b){}_removeListener(y,b){}}return C.type="SESSION",C})();let Sh=(()=>{class C{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const b=this.receivers.find(F=>F.isListeningto(y));if(b)return b;const O=new C(y);return this.receivers.push(O),O}isListeningto(y){return this.eventTarget===y}handleEvent(y){var b=this;return(0,h.Z)(function*(){const O=y,{eventId:F,eventType:oe,data:Te}=O.data,ft=b.handlersMap[oe];if(!ft?.size)return;O.ports[0].postMessage({status:"ack",eventId:F,eventType:oe});const Et=Array.from(ft).map(function(){var Yn=(0,h.Z)(function*(wi){return wi(O.origin,Te)});return function(wi){return Yn.apply(this,arguments)}}()),qt=yield function za(C){return Promise.all(C.map(function(){var m=(0,h.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(b){return{fulfilled:!1,reason:b}}});return function(y){return m.apply(this,arguments)}}()))}(Et);O.ports[0].postMessage({status:"done",eventId:F,eventType:oe,response:qt})})()}_subscribe(y,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(b)}_unsubscribe(y,b){this.handlersMap[y]&&b&&this.handlersMap[y].delete(b),(!b||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function Il(C="",m=10){let y="";for(let b=0;b<m;b++)y+=Math.floor(10*Math.random());return C+y}class Mh{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,y,b=50){var O=this;return(0,h.Z)(function*(){const F=typeof MessageChannel<"u"?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let oe,Te;return new Promise((ft,Et)=>{const qt=Il("",20);F.port1.start();const Yn=setTimeout(()=>{Et(new Error("unsupported_event"))},b);Te={messageChannel:F,onMessage(wi){const vs=wi;if(vs.data.eventId===qt)switch(vs.data.status){case"ack":clearTimeout(Yn),oe=setTimeout(()=>{Et(new Error("timeout"))},3e3);break;case"done":clearTimeout(oe),ft(vs.data.response);break;default:clearTimeout(Yn),clearTimeout(oe),Et(new Error("invalid_response"))}}},O.handlers.add(Te),F.port1.addEventListener("message",Te.onMessage),O.target.postMessage({eventType:m,eventId:qt,data:y},[F.port2])}).finally(()=>{Te&&O.removeMessageHandler(Te)})})()}}function ti(){return window}function ju(){return typeof ti().WorkerGlobalScope<"u"&&"function"==typeof ti().importScripts}function qa(){return(qa=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ep="firebaseLocalStorageDb",Sc="firebaseLocalStorage",Wa="fbase_key";class bl{constructor(m){this.request=m}toPromise(){return new Promise((m,y)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Mc(C,m){return C.transaction([Sc],m?"readwrite":"readonly").objectStore(Sc)}function Oh(){const C=indexedDB.open(Ep,1);return new Promise((m,y)=>{C.addEventListener("error",()=>{y(C.error)}),C.addEventListener("upgradeneeded",()=>{const b=C.result;try{b.createObjectStore(Sc,{keyPath:Wa})}catch(O){y(O)}}),C.addEventListener("success",(0,h.Z)(function*(){const b=C.result;b.objectStoreNames.contains(Sc)?m(b):(b.close(),yield function Dl(){const C=indexedDB.deleteDatabase(Ep);return new bl(C).toPromise()}(),m(yield Oh()))}))})}function U(C,m,y){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,h.Z)(function*(C,m,y){const b=Mc(C,!0).put({[Wa]:m,value:y});return new bl(b).toPromise()})).apply(this,arguments)}function fi(){return(fi=(0,h.Z)(function*(C,m){const y=Mc(C,!1).get(m),b=yield new bl(y).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function nr(C,m){const y=Mc(C,!0).delete(m);return new bl(y).toPromise()}const ys=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,h.Z)(function*(){return y.db||(y.db=yield Oh()),y.db})()}_withRetries(y){var b=this;return(0,h.Z)(function*(){let O=0;for(;;)try{const F=yield b._openDb();return yield y(F)}catch(F){if(O++>3)throw F;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,h.Z)(function*(){return ju()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,h.Z)(function*(){y.receiver=Sh._getInstance(function $u(){return ju()?self:null}()),y.receiver._subscribe("keyChanged",function(){var b=(0,h.Z)(function*(O,F){return{keyProcessed:(yield y._poll()).includes(F.key)}});return function(O,F){return b.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var b=(0,h.Z)(function*(O,F){return["keyChanged"]});return function(O,F){return b.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,h.Z)(function*(){var b,O;if(y.activeServiceWorker=yield function on(){return qa.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Mh(y.activeServiceWorker);const F=yield y.sender._send("ping",{},800);F&&null!==(b=F[0])&&void 0!==b&&b.fulfilled&&null!==(O=F[0])&&void 0!==O&&O.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var b=this;return(0,h.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function xh(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:y},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Oh();return yield U(y,yo,"1"),yield nr(y,yo),!0}catch{}return!1})()}_withPendingWrite(y){var b=this;return(0,h.Z)(function*(){b.pendingWrites++;try{yield y()}finally{b.pendingWrites--}})()}_set(y,b){var O=this;return(0,h.Z)(function*(){return O._withPendingWrite((0,h.Z)(function*(){return yield O._withRetries(F=>U(F,y,b)),O.localCache[y]=b,O.notifyServiceWorker(y)}))})()}_get(y){var b=this;return(0,h.Z)(function*(){const O=yield b._withRetries(F=>function tr(C,m){return fi.apply(this,arguments)}(F,y));return b.localCache[y]=O,O})()}_remove(y){var b=this;return(0,h.Z)(function*(){return b._withPendingWrite((0,h.Z)(function*(){return yield b._withRetries(O=>nr(O,y)),delete b.localCache[y],b.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,h.Z)(function*(){const b=yield y._withRetries(oe=>{const Te=Mc(oe,!1).getAll();return new bl(Te).toPromise()});if(!b)return[];if(0!==y.pendingWrites)return[];const O=[],F=new Set;for(const{fbase_key:oe,value:Te}of b)F.add(oe),JSON.stringify(y.localCache[oe])!==JSON.stringify(Te)&&(y.notifyListeners(oe,Te),O.push(oe));for(const oe of Object.keys(y.localCache))y.localCache[oe]&&!F.has(oe)&&(y.notifyListeners(oe,null),O.push(oe));return O})()}notifyListeners(y,b){this.localCache[y]=b;const O=this.listeners[y];if(O)for(const F of Array.from(O))F(b)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(b)}_removeListener(y,b){this.listeners[y]&&(this.listeners[y].delete(b),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})(),Zr=1e12;class Za{constructor(m){this.auth=m,this.counter=Zr,this._widgets=new Map}render(m,y){const b=this.counter;return this._widgets.set(b,new Om(m,this.auth.name,y||{})),this.counter++,b}reset(m){var y;const b=m||Zr;null===(y=this._widgets.get(b))||void 0===y||y.delete(),this._widgets.delete(b)}getResponse(m){var y;return(null===(y=this._widgets.get(m||Zr))||void 0===y?void 0:y.getResponse())||""}execute(m){var y=this;return(0,h.Z)(function*(){var b;return null===(b=y._widgets.get(m||Zr))||void 0===b||b.execute(),""})()}}class Om{constructor(m,y,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const O="string"==typeof m?document.getElementById(m):m;H(O,"argument-error",{appName:y}),this.container=O,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Al(C){const m=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<C;b++)m.push(y.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":y}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ia=Di("rcb"),Y_=new an(3e4,6e4);class bp{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=ti().grecaptcha)||void 0===m||!m.render)}load(m,y=""){return H(function Q_(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(y),m,"argument-error"),this.shouldResolveImmediately(y)&&St(ti().grecaptcha)?Promise.resolve(ti().grecaptcha):new Promise((b,O)=>{const F=ti().setTimeout(()=>{O(ke(m,"network-request-failed"))},Y_.get());ti()[ia]=()=>{ti().clearTimeout(F),delete ti()[ia];const Te=ti().grecaptcha;if(!Te||!St(Te))return void O(ke(m,"internal-error"));const ft=Te.render;Te.render=(Et,qt)=>{const Yn=ft(Et,qt);return this.counter++,Yn},this.hostLanguage=y,b(Te)},gs(`https://www.google.com/recaptcha/api.js??${(0,M.xO)({onload:ia,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(F),O(ke(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var y;return!(null===(y=ti().grecaptcha)||void 0===y||!y.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Dp{load(m){return(0,h.Z)(function*(){return new Za(m)})()}clearedOneInstance(){}}const Ph="recaptcha",Pm={theme:"light",type:"image"};class Ka{constructor(m,y=Object.assign({},Pm),b){this.parameters=y,this.type=Ph,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=jr(b),this.isInvisible="invisible"===this.parameters.size,H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const O="string"==typeof m?document.getElementById(m):m;H(O,this.auth,"argument-error"),this.container=O,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Dp:new bp,this.validateStartingState()}verify(){var m=this;return(0,h.Z)(function*(){m.assertNotDestroyed();const y=yield m.render(),b=m.getAssertedRecaptcha();return b.getResponse(y)||new Promise(F=>{const oe=Te=>{Te&&(m.tokenChangeListeners.delete(oe),F(Te))};m.tokenChangeListeners.add(oe),m.isInvisible&&b.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){H(!this.parameters.sitekey,this.auth,"argument-error"),H(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return y=>{if(this.tokenChangeListeners.forEach(b=>b(y)),"function"==typeof m)m(y);else if("string"==typeof m){const b=ti()[m];"function"==typeof b&&b(y)}}}assertNotDestroyed(){H(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,h.Z)(function*(){if(yield m.init(),!m.widgetId){let y=m.container;if(!m.isInvisible){const b=document.createElement("div");y.appendChild(b),y=b}m.widgetId=m.getAssertedRecaptcha().render(y,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,h.Z)(function*(){H(tn()&&!ju(),m.auth,"internal-error"),yield function J_(){let C=null;return new Promise(m=>{"complete"!==document.readyState?(C=()=>m(),window.addEventListener("load",C)):m()}).catch(m=>{throw C&&window.removeEventListener("load",C),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const y=yield function De(C){return vt.apply(this,arguments)}(m.auth);H(y,m.auth,"internal-error"),m.parameters.sitekey=y})()}getAssertedRecaptcha(){return H(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Rh{constructor(m,y){this.verificationId=m,this.onConfirmation=y}confirm(m){const y=nn._fromVerification(this.verificationId,m);return this.onConfirmation(y)}}function Kr(C,m,y){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,h.Z)(function*(C,m,y){const b=jr(C),O=yield Sl(b,m,(0,M.m9)(y));return new Rh(O,F=>dd(b,F))})).apply(this,arguments)}function Tp(C,m,y){return $r.apply(this,arguments)}function $r(){return($r=(0,h.Z)(function*(C,m,y){const b=(0,M.m9)(C);yield Rs(!1,b,"phone");const O=yield Sl(b.auth,m,(0,M.m9)(y));return new Rh(O,F=>pp(b,F))})).apply(this,arguments)}function Xt(C,m,y){return ss.apply(this,arguments)}function ss(){return(ss=(0,h.Z)(function*(C,m,y){const b=(0,M.m9)(C),O=yield Sl(b.auth,m,(0,M.m9)(y));return new Rh(O,F=>hi(b,F))})).apply(this,arguments)}function Sl(C,m,y){return Ed.apply(this,arguments)}function Ed(){return Ed=(0,h.Z)(function*(C,m,y){var b;const O=yield y.verify();try{let F;if(H("string"==typeof O,C,"argument-error"),H(y.type===Ph,C,"argument-error"),F="string"==typeof m?{phoneNumber:m}:m,"session"in F){const oe=F.session;if("phoneNumber"in F)return H("enroll"===oe.type,C,"internal-error"),(yield function vp(C,m){return $e(C,"POST","/v2/accounts/mfaEnrollment:start",ve(C,m))}(C,{idToken:oe.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:O}})).phoneSessionInfo.sessionInfo;{H("signin"===oe.type,C,"internal-error");const Te=(null===(b=F.multiFactorHint)||void 0===b?void 0:b.uid)||F.multiFactorUid;return H(Te,C,"missing-multi-factor-info"),(yield function Ip(C,m){return $e(C,"POST","/v2/accounts/mfaSignIn:start",ve(C,m))}(C,{mfaPendingCredential:oe.credential,mfaEnrollmentId:Te,phoneSignInInfo:{recaptchaToken:O}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:oe}=yield function vn(C,m){return Ar.apply(this,arguments)}(C,{phoneNumber:F.phoneNumber,recaptchaToken:O});return oe}}finally{y._reset()}}),Ed.apply(this,arguments)}function ks(C,m){return va.apply(this,arguments)}function va(){return(va=(0,h.Z)(function*(C,m){yield Lo((0,M.m9)(C),m)})).apply(this,arguments)}let Hr=(()=>{class C{constructor(y){this.providerId=C.PROVIDER_ID,this.auth=jr(y)}verifyPhoneNumber(y,b){return Sl(this.auth,y,(0,M.m9)(b))}static credential(y,b){return nn._fromVerification(y,b)}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:b,temporaryProof:O}=y;return b&&O?nn._fromTokenResponse(b,O):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function _o(C,m){return m?ot(m):(H(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class oa extends K{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Ms(m,this._buildIdpRequest())}_linkToIdToken(m,y){return Ms(m,this._buildIdpRequest(y))}_getReauthenticationResolver(m){return Ms(m,this._buildIdpRequest())}_buildIdpRequest(m){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(y.idToken=m),y}}function Dn(C){return _m(C.auth,new oa(C),C.bypassAuthState)}function Ap(C){const{auth:m,user:y}=C;return H(y,m,"internal-error"),dl(y,new oa(C),C.bypassAuthState)}function Sp(C){return no.apply(this,arguments)}function no(){return(no=(0,h.Z)(function*(C){const{auth:m,user:y}=C;return H(y,m,"internal-error"),Lo(y,new oa(C),C.bypassAuthState)})).apply(this,arguments)}class Uo{constructor(m,y,b,O,F=!1){this.auth=m,this.resolver=b,this.user=O,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var m=this;return new Promise(function(){var y=(0,h.Z)(function*(b,O){m.pendingPromise={resolve:b,reject:O};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(F){m.reject(F)}});return function(b,O){return y.apply(this,arguments)}}())}onAuthEvent(m){var y=this;return(0,h.Z)(function*(){const{urlResponse:b,sessionId:O,postBody:F,tenantId:oe,error:Te,type:ft}=m;if(Te)return void y.reject(Te);const Et={auth:y.auth,requestUri:b,sessionId:O,tenantId:oe||void 0,postBody:F||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(ft)(Et))}catch(qt){y.reject(qt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Dn;case"linkViaPopup":case"linkViaRedirect":return Sp;case"reauthViaPopup":case"reauthViaRedirect":return Ap;default:ae(this.auth,"internal-error")}}resolve(m){Ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ls=new an(2e3,1e4);function Gr(C,m,y){return xc.apply(this,arguments)}function xc(){return(xc=(0,h.Z)(function*(C,m,y){const b=jr(C);Ue(C,m,Os);const O=_o(b,y);return new Xa(b,"signInViaPopup",m,O).executeNotNull()})).apply(this,arguments)}function Qa(C,m,y){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,h.Z)(function*(C,m,y){const b=(0,M.m9)(C);Ue(b.auth,m,Os);const O=_o(b.auth,y);return new Xa(b.auth,"reauthViaPopup",m,O,b).executeNotNull()})).apply(this,arguments)}function Ja(C,m,y){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,h.Z)(function*(C,m,y){const b=(0,M.m9)(C);Ue(b.auth,m,Os);const O=_o(b.auth,y);return new Xa(b.auth,"linkViaPopup",m,O,b).executeNotNull()})).apply(this,arguments)}let Xa=(()=>{class C extends Uo{constructor(y,b,O,F,oe){super(y,b,F,oe),this.provider=O,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var y=this;return(0,h.Z)(function*(){const b=yield y.execute();return H(b,y.auth,"internal-error"),b})()}onExecution(){var y=this;return(0,h.Z)(function*(){Ve(1===y.filter.length,"Popup operations only handle one event");const b=Il();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],b),y.authWindow.associatedEvent=b,y.resolver._originValidation(y.auth).catch(O=>{y.reject(O)}),y.resolver._isIframeWebStorageSupported(y.auth,O=>{O||y.reject(ke(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const y=()=>{var b,O;this.pollId=null!==(O=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==O&&O.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ke(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,Ls.get())};y()}}return C.currentPopupAction=null,C})();const Ml="pendingRedirect",ro=new Map;class eu extends Uo{constructor(m,y,b=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,b),this.eventId=null}execute(){var m=()=>super.execute,y=this;return(0,h.Z)(function*(){let b=ro.get(y.auth._key());if(!b){try{const F=(yield function Oc(C,m){return Pi.apply(this,arguments)}(y.resolver,y.auth))?yield m().call(y):null;b=()=>Promise.resolve(F)}catch(O){b=()=>Promise.reject(O)}ro.set(y.auth._key(),b)}return y.bypassAuthState||ro.set(y.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(m){var y=()=>super.onAuthEvent,b=this;return(0,h.Z)(function*(){if("signInViaRedirect"===m.type)return y().call(b,m);if("unknown"!==m.type){if(m.eventId){const O=yield b.auth._redirectUserForId(m.eventId);if(O)return b.user=O,y().call(b,m);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function Pi(){return(Pi=(0,h.Z)(function*(C,m){const y=wa(m),b=os(C);if(!(yield b._isAvailable()))return!1;const O="true"===(yield b._get(y));return yield b._remove(y),O})).apply(this,arguments)}function Gu(C,m){return tu.apply(this,arguments)}function tu(){return(tu=(0,h.Z)(function*(C,m){return os(C)._set(wa(m),"true")})).apply(this,arguments)}function qi(){ro.clear()}function Pc(C,m){ro.set(C._key(),m)}function os(C){return ot(C._redirectPersistence)}function wa(C){return Wn(Ml,C.config.apiKey,C.name)}function xl(C,m,y){return function Fr(C,m,y){return Er.apply(this,arguments)}(C,m,y)}function Er(){return(Er=(0,h.Z)(function*(C,m,y){const b=jr(C);Ue(C,m,Os),yield b._initializationPromise;const O=_o(b,y);return yield Gu(O,b),O._openRedirect(b,m,"signInViaRedirect")})).apply(this,arguments)}function pi(C,m,y){return function Rc(C,m,y){return as.apply(this,arguments)}(C,m,y)}function as(){return(as=(0,h.Z)(function*(C,m,y){const b=(0,M.m9)(C);Ue(b.auth,m,Os),yield b.auth._initializationPromise;const O=_o(b.auth,y);yield Gu(O,b.auth);const F=yield vo(b);return O._openRedirect(b.auth,m,"reauthViaRedirect",F)})).apply(this,arguments)}function us(C,m,y){return function Nc(C,m,y){return Ea.apply(this,arguments)}(C,m,y)}function Ea(){return(Ea=(0,h.Z)(function*(C,m,y){const b=(0,M.m9)(C);Ue(b.auth,m,Os),yield b.auth._initializationPromise;const O=_o(b.auth,y);yield Rs(!1,b,m.providerId),yield Gu(O,b.auth);const F=yield vo(b);return O._openRedirect(b.auth,m,"linkViaRedirect",F)})).apply(this,arguments)}function Mp(C,m){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,h.Z)(function*(C,m){return yield jr(C)._initializationPromise,nu(C,m,!1)})).apply(this,arguments)}function nu(C,m){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,h.Z)(function*(C,m,y=!1){const b=jr(C),O=_o(b,m),oe=yield new eu(b,O,y).execute();return oe&&!y&&(delete oe.user._redirectEventId,yield b._persistUserIfCurrent(oe.user),yield b._setRedirectUser(null,m)),oe})).apply(this,arguments)}function vo(C){return Id.apply(this,arguments)}function Id(){return(Id=(0,h.Z)(function*(C){const m=Il(`${C.uid}:::`);return C._redirectEventId=m,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),m})).apply(this,arguments)}class zu{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let y=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(m,b)&&(y=!0,this.sendToConsumer(m,b),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function qu(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nh(C);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=m,y=!0)),y}sendToConsumer(m,y){var b;if(m.error&&!Nh(m)){const O=(null===(b=m.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";y.onError(ke(this.auth,O))}else y.onAuthEvent(m)}isEventForConsumer(m,y){const b=null===y.eventId||!!m.eventId&&m.eventId===y.eventId;return y.filter.includes(m.type)&&b}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xp(m))}saveEventToCache(m){this.cachedEventUids.add(xp(m)),this.lastProcessedEventTime=Date.now()}}function xp(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(m=>m).join("-")}function Nh({type:C,error:m}){return"unknown"===C&&"auth/no-auth-event"===m?.code}function Cd(C){return kc.apply(this,arguments)}function kc(){return(kc=(0,h.Z)(function*(C,m={}){return $e(C,"GET","/v1/projects",m)})).apply(this,arguments)}const Un=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aa=/^https?/;function Ca(){return(Ca=(0,h.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:m}=yield Cd(C);for(const y of m)try{if(kh(y))return}catch{}ae(C,"unauthorized-domain")})).apply(this,arguments)}function kh(C){const m=It(),{protocol:y,hostname:b}=new URL(m);if(C.startsWith("chrome-extension://")){const oe=new URL(C);return""===oe.hostname&&""===b?"chrome-extension:"===y&&C.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===y&&oe.hostname===b}if(!aa.test(y))return!1;if(Un.test(C))return b===C;const O=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+O+"|"+O+")$","i").test(b)}const Ol=new an(3e4,6e4);function Fs(){const C=ti().___jsl;if(C?.H)for(const m of Object.keys(C.H))if(C.H[m].r=C.H[m].r||[],C.H[m].L=C.H[m].L||[],C.H[m].r=[...C.H[m].L],C.CP)for(let y=0;y<C.CP.length;y++)C.CP[y]=null}let Ti=null;const Fh=new an(5e3,15e3),bd="__/auth/iframe",Dd="emulator/auth/iframe",Uh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fc(C){const m=C.config;H(m.authDomain,C,"auth-domain-config-required");const y=m.emulator?xr(m,Dd):`https://${C.config.authDomain}/${bd}`,b={apiKey:m.apiKey,appName:C.name,v:B.SDK_VERSION},O=Lc.get(C.config.apiHost);O&&(b.eid=O);const F=C._getFrameworks();return F.length&&(b.fw=F.join(",")),`${y}?${(0,M.xO)(b).slice(1)}`}function wn(){return wn=(0,h.Z)(function*(C){const m=yield function iu(C){return Ti=Ti||function Lh(C){return new Promise((m,y)=>{var b,O,F;function oe(){Fs(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Fs(),y(ke(C,"network-request-failed"))},timeout:Ol.get()})}if(null!==(O=null===(b=ti().gapi)||void 0===b?void 0:b.iframes)&&void 0!==O&&O.Iframe)m(gapi.iframes.getContext());else{if(null===(F=ti().gapi)||void 0===F||!F.load){const Te=Di("iframefcb");return ti()[Te]=()=>{gapi.load?oe():y(ke(C,"network-request-failed"))},gs(`https://apis.google.com/js/api.js?onload=${Te}`).catch(ft=>y(ft))}oe()}}).catch(m=>{throw Ti=null,m})}(C),Ti}(C),y=ti().gapi;return H(y,C,"internal-error"),m.open({where:document.body,url:Fc(C),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Uh,dontclear:!0},b=>new Promise(function(){var O=(0,h.Z)(function*(F,oe){yield b.restyle({setHideOnLeave:!1});const Te=ke(C,"network-request-failed"),ft=ti().setTimeout(()=>{oe(Te)},Fh.get());function Et(){ti().clearTimeout(ft),F(b)}b.ping(Et).then(Et,()=>{oe(Te)})});return function(F,oe){return O.apply(this,arguments)}}()))}),wn.apply(this,arguments)}const Pl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wu{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Nl="__/auth/handler",Op="emulator/auth/handler",Ad=encodeURIComponent("fac");function io(C,m,y,b,O,F){return _s.apply(this,arguments)}function _s(){return(_s=(0,h.Z)(function*(C,m,y,b,O,F){H(C.config.authDomain,C,"auth-domain-config-required"),H(C.config.apiKey,C,"invalid-api-key");const oe={apiKey:C.config.apiKey,appName:C.name,authType:y,redirectUrl:b,v:B.SDK_VERSION,eventId:O};if(m instanceof Os){m.setDefaultLanguage(C.languageCode),oe.providerId=m.providerId||"",(0,M.xb)(m.getCustomParameters())||(oe.customParameters=JSON.stringify(m.getCustomParameters()));for(const[qt,Yn]of Object.entries(F||{}))oe[qt]=Yn}if(m instanceof Gi){const qt=m.getScopes().filter(Yn=>""!==Yn);qt.length>0&&(oe.scopes=qt.join(","))}C.tenantId&&(oe.tid=C.tenantId);const Te=oe;for(const qt of Object.keys(Te))void 0===Te[qt]&&delete Te[qt];const ft=yield C._getAppCheckToken(),Et=ft?`#${Ad}=${encodeURIComponent(ft)}`:"";return`${function jo({config:C}){return C.emulator?xr(C,Op):`https://${C.authDomain}/${Nl}`}(C)}?${(0,M.xO)(Te).slice(1)}${Et}`})).apply(this,arguments)}const ai="webStorageSupport",wo=class Sd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vd,this._completeRedirectFn=nu,this._overrideRedirectResult=Pc}_openPopup(m,y,b,O){var F=this;return(0,h.Z)(function*(){var oe;Ve(null===(oe=F.eventManagers[m._key()])||void 0===oe?void 0:oe.manager,"_initialize() not called before _openPopup()");const Te=yield io(m,y,b,It(),O);return function Bo(C,m,y,b=500,O=600){const F=Math.max((window.screen.availHeight-O)/2,0).toString(),oe=Math.max((window.screen.availWidth-b)/2,0).toString();let Te="";const ft=Object.assign(Object.assign({},Pl),{width:b.toString(),height:O.toString(),top:F,left:oe}),Et=(0,M.z$)().toLowerCase();y&&(Te=k(Et)?"_blank":y),V(Et)&&(m=m||"http://localhost",ft.scrollbars="yes");const qt=Object.entries(ft).reduce((wi,[vs,Da])=>`${wi}${vs}=${Da},`,"");if(function rn(C=(0,M.z$)()){var m;return Ct(C)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Et)&&"_self"!==Te)return function Td(C,m){const y=document.createElement("a");y.href=C,y.target=m;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(b)}(m||"",Te),new Wu(null);const Yn=window.open(m||"",Te,qt);H(Yn,C,"popup-blocked");try{Yn.focus()}catch{}return new Wu(Yn)}(m,Te,Il())})()}_openRedirect(m,y,b,O){var F=this;return(0,h.Z)(function*(){return yield F._originValidation(m),function Cl(C){ti().location.href=C}(yield io(m,y,b,It(),O)),new Promise(()=>{})})()}_initialize(m){const y=m._key();if(this.eventManagers[y]){const{manager:O,promise:F}=this.eventManagers[y];return O?Promise.resolve(O):(Ve(F,"If manager is not set, promise should be"),F)}const b=this.initAndGetManager(m);return this.eventManagers[y]={promise:b},b.catch(()=>{delete this.eventManagers[y]}),b}initAndGetManager(m){var y=this;return(0,h.Z)(function*(){const b=yield function ba(C){return wn.apply(this,arguments)}(m),O=new zu(m);return b.register("authEvent",F=>(H(F?.authEvent,m,"invalid-auth-event"),{status:O.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[m._key()]={manager:O},y.iframes[m._key()]=b,O})()}_isIframeWebStorageSupported(m,y){this.iframes[m._key()].send(ai,{type:ai},O=>{var F;const oe=null===(F=O?.[0])||void 0===F?void 0:F[ai];void 0!==oe&&y(!!oe),ae(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const y=m._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function ru(C){return Ca.apply(this,arguments)}(m)),this.originValidationPromises[y]}get _shouldInitProactively(){return Cn()||j()||Ct()}};class Vh{constructor(m){this.factorId=m}_process(m,y,b){switch(y.type){case"enroll":return this._finalizeEnroll(m,y.credential,b);case"signin":return this._finalizeSignIn(m,y.credential);default:return he("unexpected MultiFactorSessionType")}}}class cs extends Vh{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new cs(m)}_finalizeEnroll(m,y,b){return function Vu(C,m){return $e(C,"POST","/v2/accounts/mfaEnrollment:finalize",ve(C,m))}(m,{idToken:y,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,y){return function Cp(C,m){return $e(C,"POST","/v2/accounts/mfaSignIn:finalize",ve(C,m))}(m,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Zu=(()=>{class C{constructor(){}static assertion(y){return cs._fromCredential(y)}}return C.FACTOR_ID="phone",C})();var au="@firebase/auth";class Nm{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var y=this;return(0,h.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const y=this.auth.onIdTokenChanged(b=>{m(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,y),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const y=this.internalListeners.get(m);y&&(this.internalListeners.delete(m),y(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,M.Pz)("authIdTokenMaxAge"),function $h(C){(0,B._registerComponent)(new Ce.wA("auth",(m,{options:y})=>{const b=m.getProvider("app").getImmediate(),O=m.getProvider("heartbeat"),F=m.getProvider("app-check-internal"),{apiKey:oe,authDomain:Te}=b.options;H(oe&&!oe.includes(":"),"invalid-api-key",{appName:b.name});const ft={apiKey:oe,authDomain:Te,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:re(C)},Et=new No(b,O,F,ft);return function Au(C,m){const y=m?.persistence||[],b=(Array.isArray(y)?y:[y]).map(ot);m?.errorMap&&C._updateErrorMap(m.errorMap),C._initializeWithPersistence(b,m?.popupRedirectResolver)}(Et,y),Et},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,y,b)=>{m.getProvider("auth-internal").initialize()})),(0,B._registerComponent)(new Ce.wA("auth-internal",m=>{const y=jr(m.getProvider("auth").getImmediate());return new Nm(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,B.registerVersion)(au,"0.23.2",function Vs(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,B.registerVersion)(au,"0.23.2","esm2017")}("Browser")},9058:(Tt,Fe,N)=>{"use strict";N.d(Fe,{$s:()=>ot,BH:()=>me,G6:()=>xr,L:()=>Ae,LL:()=>tt,Pz:()=>ke,Sg:()=>Ue,UG:()=>he,US:()=>Ce,ZB:()=>de,ZR:()=>$e,aH:()=>ae,b$:()=>tn,eu:()=>Ie,hl:()=>_e,jU:()=>Ve,m9:()=>Wn,ne:()=>en,pd:()=>jt,r3:()=>kn,ru:()=>It,tV:()=>q,uI:()=>H,vZ:()=>Ir,w1:()=>dn,xO:()=>ui,xb:()=>vr,z$:()=>Xe,zI:()=>we,zd:()=>kt});const se=function(J){const X=[];let V=0;for(let j=0;j<J.length;j++){let k=J.charCodeAt(j);k<128?X[V++]=k:k<2048?(X[V++]=k>>6|192,X[V++]=63&k|128):55296==(64512&k)&&j+1<J.length&&56320==(64512&J.charCodeAt(j+1))?(k=65536+((1023&k)<<10)+(1023&J.charCodeAt(++j)),X[V++]=k>>18|240,X[V++]=k>>12&63|128,X[V++]=k>>6&63|128,X[V++]=63&k|128):(X[V++]=k>>12|224,X[V++]=k>>6&63|128,X[V++]=63&k|128)}return X},Ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(J,X){if(!Array.isArray(J))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=X?this.byteToCharMapWebSafe_:this.byteToCharMap_,j=[];for(let k=0;k<J.length;k+=3){const ce=J[k],ze=k+1<J.length,pt=ze?J[k+1]:0,Qt=k+2<J.length,Ct=Qt?J[k+2]:0;let Jn=(15&pt)<<2|Ct>>6,Cn=63&Ct;Qt||(Cn=64,ze||(Jn=64)),j.push(V[ce>>2],V[(3&ce)<<4|pt>>4],V[Jn],V[Cn])}return j.join("")},encodeString(J,X){return this.HAS_NATIVE_SUPPORT&&!X?btoa(J):this.encodeByteArray(se(J),X)},decodeString(J,X){return this.HAS_NATIVE_SUPPORT&&!X?atob(J):function(J){const X=[];let V=0,j=0;for(;V<J.length;){const k=J[V++];if(k<128)X[j++]=String.fromCharCode(k);else if(k>191&&k<224){const ce=J[V++];X[j++]=String.fromCharCode((31&k)<<6|63&ce)}else if(k>239&&k<365){const Qt=((7&k)<<18|(63&J[V++])<<12|(63&J[V++])<<6|63&J[V++])-65536;X[j++]=String.fromCharCode(55296+(Qt>>10)),X[j++]=String.fromCharCode(56320+(1023&Qt))}else{const ce=J[V++],ze=J[V++];X[j++]=String.fromCharCode((15&k)<<12|(63&ce)<<6|63&ze)}}return X.join("")}(this.decodeStringToByteArray(J,X))},decodeStringToByteArray(J,X){this.init_();const V=X?this.charToByteMapWebSafe_:this.charToByteMap_,j=[];for(let k=0;k<J.length;){const ce=V[J.charAt(k++)],pt=k<J.length?V[J.charAt(k)]:0;++k;const Ct=k<J.length?V[J.charAt(k)]:64;++k;const rn=k<J.length?V[J.charAt(k)]:64;if(++k,null==ce||null==pt||null==Ct||null==rn)throw new Pe;j.push(ce<<2|pt>>4),64!==Ct&&(j.push(pt<<4&240|Ct>>2),64!==rn&&j.push(Ct<<6&192|rn))}return j},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let J=0;J<this.ENCODED_VALS.length;J++)this.byteToCharMap_[J]=this.ENCODED_VALS.charAt(J),this.charToByteMap_[this.byteToCharMap_[J]]=J,this.byteToCharMapWebSafe_[J]=this.ENCODED_VALS_WEBSAFE.charAt(J),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[J]]=J,J>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(J)]=J,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(J)]=J)}}};class Pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ae=function(J){return function(J){const X=se(J);return Ce.encodeByteArray(X,!0)}(J).replace(/\./g,"")},q=function(J){try{return Ce.decodeString(J,!0)}catch(X){console.error("base64Decode failed: ",X)}return null};function de(J,X){if(!(X instanceof Object))return X;switch(X.constructor){case Date:return new Date(X.getTime());case Object:void 0===J&&(J={});break;case Array:J=[];break;default:return X}for(const V in X)!X.hasOwnProperty(V)||!Qe(V)||(J[V]=de(J[V],X[V]));return J}function Qe(J){return"__proto__"!==J}const je=()=>{try{return function Oe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const J=process.env.__FIREBASE_DEFAULTS__;return J?JSON.parse(J):void 0})()||(()=>{if(typeof document>"u")return;let J;try{J=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const X=J&&q(J[1]);return X&&JSON.parse(X)})()}catch(J){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${J}`)}},ae=()=>{var J;return null===(J=je())||void 0===J?void 0:J.config},ke=J=>{var X;return null===(X=je())||void 0===X?void 0:X[`_${J}`]};class me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((X,V)=>{this.resolve=X,this.reject=V})}wrapCallback(X){return(V,j)=>{V?this.reject(V):this.resolve(j),"function"==typeof X&&(this.promise.catch(()=>{}),1===X.length?X(V):X(V,j))}}}function Ue(J,X){if(J.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const j=X||"demo-project",k=J.iat||0,ce=J.sub||J.user_id;if(!ce)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ze=Object.assign({iss:`https://securetoken.google.com/${j}`,aud:j,iat:k,exp:k+3600,auth_time:k,sub:ce,user_id:ce,firebase:{sign_in_provider:"custom",identities:{}}},J);return[Ae(JSON.stringify({alg:"none",type:"JWT"})),Ae(JSON.stringify(ze)),""].join(".")}function Xe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function H(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function he(){var J;const X=null===(J=je())||void 0===J?void 0:J.forceEnvironment;if("node"===X)return!0;if("browser"===X)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ve(){return"object"==typeof self&&self.self===self}function It(){const J="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof J&&void 0!==J.id}function tn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function dn(){const J=Xe();return J.indexOf("MSIE ")>=0||J.indexOf("Trident/")>=0}function xr(){return!he()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _e(){try{return"object"==typeof indexedDB}catch{return!1}}function Ie(){return new Promise((J,X)=>{try{let V=!0;const j="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(j);k.onsuccess=()=>{k.result.close(),V||self.indexedDB.deleteDatabase(j),J(!0)},k.onupgradeneeded=()=>{V=!1},k.onerror=()=>{var ce;X((null===(ce=k.error)||void 0===ce?void 0:ce.message)||"")}}catch(V){X(V)}})}function we(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class $e extends Error{constructor(X,V,j){super(V),this.code=X,this.customData=j,this.name="FirebaseError",Object.setPrototypeOf(this,$e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tt.prototype.create)}}class tt{constructor(X,V,j){this.service=X,this.serviceName=V,this.errors=j}create(X,...V){const j=V[0]||{},k=`${this.service}/${X}`,ce=this.errors[X],ze=ce?function gt(J,X){return J.replace(lt,(V,j)=>{const k=X[j];return null!=k?String(k):`<${j}?>`})}(ce,j):"Error";return new $e(k,`${this.serviceName}: ${ze} (${k}).`,j)}}const lt=/\{\$([^}]+)}/g;function kn(J,X){return Object.prototype.hasOwnProperty.call(J,X)}function vr(J){for(const X in J)if(Object.prototype.hasOwnProperty.call(J,X))return!1;return!0}function Ir(J,X){if(J===X)return!0;const V=Object.keys(J),j=Object.keys(X);for(const k of V){if(!j.includes(k))return!1;const ce=J[k],ze=X[k];if(qn(ce)&&qn(ze)){if(!Ir(ce,ze))return!1}else if(ce!==ze)return!1}for(const k of j)if(!V.includes(k))return!1;return!0}function qn(J){return null!==J&&"object"==typeof J}function ui(J){const X=[];for(const[V,j]of Object.entries(J))Array.isArray(j)?j.forEach(k=>{X.push(encodeURIComponent(V)+"="+encodeURIComponent(k))}):X.push(encodeURIComponent(V)+"="+encodeURIComponent(j));return X.length?"&"+X.join("&"):""}function kt(J){const X={};return J.replace(/^\?/,"").split("&").forEach(j=>{if(j){const[k,ce]=j.split("=");X[decodeURIComponent(k)]=decodeURIComponent(ce)}}),X}function jt(J){const X=J.indexOf("?");if(!X)return"";const V=J.indexOf("#",X);return J.substring(X,V>0?V:void 0)}function en(J,X){const V=new Vr(J,X);return V.subscribe.bind(V)}class Vr{constructor(X,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{X(this)}).catch(j=>{this.error(j)})}next(X){this.forEachObserver(V=>{V.next(X)})}error(X){this.forEachObserver(V=>{V.error(X)}),this.close(X)}complete(){this.forEachObserver(X=>{X.complete()}),this.close()}subscribe(X,V,j){let k;if(void 0===X&&void 0===V&&void 0===j)throw new Error("Missing Observer.");k=function mn(J,X){if("object"!=typeof J||null===J)return!1;for(const V of X)if(V in J&&"function"==typeof J[V])return!0;return!1}(X,["next","error","complete"])?X:{next:X,error:V,complete:j},void 0===k.next&&(k.next=Ln),void 0===k.error&&(k.error=Ln),void 0===k.complete&&(k.complete=Ln);const ce=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch{}}),this.observers.push(k),ce}unsubscribeOne(X){void 0===this.observers||void 0===this.observers[X]||(delete this.observers[X],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(X){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,X)}sendOne(X,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[X])try{V(this.observers[X])}catch(j){typeof console<"u"&&console.error&&console.error(j)}})}close(X){this.finalized||(this.finalized=!0,void 0!==X&&(this.finalError=X),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ln(){}const Tr=1e3,Me=2,te=144e5,Re=.5;function ot(J,X=Tr,V=Me){const j=X*Math.pow(V,J),k=Math.round(Re*j*(Math.random()-.5)*2);return Math.min(te,j+k)}function Wn(J){return J&&J._delegate?J._delegate:J}},2128:(Tt,Fe,N)=>{"use strict";var h=N(5879);let M=null;function B(){return M}class ye{}const Ce=new h.OlP("DocumentToken");let Pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Ae)},providedIn:"platform"})}return n})();const He=new h.OlP("Location Initialized");let Ae=(()=>{class n extends Pe{constructor(){super(),this._doc=(0,h.f3M)(Ce),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(t){const r=B().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=B().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,s){this._history.pushState(t,r,s)}replaceState(t,r,s){this._history.replaceState(t,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function q(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Y(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function de(n){return n&&"?"!==n[0]?"?"+n:n}let Qe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(ht)},providedIn:"root"})}return n})();const Oe=new h.OlP("appBaseHref");let ht=(()=>{class n extends Qe{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(Ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return q(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+de(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,u){const d=this.prepareExternalUrl(s+de(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,s,u){const d=this.prepareExternalUrl(s+de(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Pe),h.LFG(Oe,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Be=(()=>{class n extends Qe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=q(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,u){let d=this.prepareExternalUrl(s+de(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,s,u){let d=this.prepareExternalUrl(s+de(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Pe),h.LFG(Oe,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})(),ut=(()=>{class n{constructor(t){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function ae(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Y(bt(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+de(r))}normalize(t){return n.stripTrailingSlash(function wt(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,bt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._locationStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+de(r)),s)}replaceState(t,r="",s=null){this._locationStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+de(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}static#e=this.normalizeQueryParams=de;static#t=this.joinWithSlash=q;static#n=this.stripTrailingSlash=Y;static#r=this.\u0275fac=function(r){return new(r||n)(h.LFG(Qe))};static#i=this.\u0275prov=h.Yz7({token:n,factory:function(){return function je(){return new ut((0,h.LFG)(Qe))}()},providedIn:"root"})}return n})();function bt(n){return n.replace(/\/index.html$/,"")}var me=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(me||{}),Ve=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Ve||{});function $e(n,e){const t=(0,h.cg1)(n),r=t[h.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===Ve.CurrencyDecimal)return t[h.wAp.NumberSymbols][Ve.Decimal];if(e===Ve.CurrencyGroup)return t[h.wAp.NumberSymbols][Ve.Group]}return r}const k=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function cr(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function Hn(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(u)}return null}class Ro{constructor(e,t,r,s){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let No=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,s){this._viewContainer=t,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((s,u,d)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new Ro(s.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===u?void 0:u);else if(null!==u){const _=r.get(u);r.move(_,d),jr(_,s)}});for(let s=0,u=r.length;s<u;s++){const _=r.get(s).context;_.index=s,_.count=u,_.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{jr(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function jr(n,e){n.context.$implicit=e.item}let Ss=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Au,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Jo("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Jo("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.s_b),h.Y36(h.Rgc))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Au{constructor(){this.$implicit=null,this.ngIf=null}}function Jo(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}function bn(n,e){return new h.vHH(2100,!1)}class Nr{createSubscription(e,t){return(0,h.rg0)(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){(0,h.rg0)(()=>e.unsubscribe())}}class Pr{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const _i=new Pr,Js=new Nr;let Mu=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,h.QGY)(t))return _i;if((0,h.F4k)(t))return Js;throw bn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.sBO,16))};static#t=this.\u0275pipe=h.Yjl({name:"async",type:n,pure:!1,standalone:!0})}return n})(),mt=(()=>{class n{constructor(t){this._locale=t}transform(t,r,s){if(!function Gn(n){return!(null==n||""===n||n!=n)}(t))return null;s=s||this._locale;try{return function De(n,e,t){return function Cn(n,e,t,r,s,u,d=!1){let _="",E=!1;if(isFinite(n)){let T=function Jt(n){let r,s,u,d,_,e=Math.abs(n)+"",t=0;for((s=e.indexOf("."))>-1&&(e=e.replace(".","")),(u=e.search(/e/i))>0?(s<0&&(s=u),s+=+e.slice(u+1),e=e.substring(0,u)):s<0&&(s=e.length),u=0;"0"===e.charAt(u);u++);if(u===(_=e.length))r=[0],s=1;else{for(_--;"0"===e.charAt(_);)_--;for(s-=u,r=[],d=0;u<=_;u++,d++)r[d]=Number(e.charAt(u))}return s>22&&(r=r.splice(0,21),t=s-1,s=1),{digits:r,exponent:t,integerLen:s}}(n);d&&(T=function Dt(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(T));let x=e.minInt,L=e.minFrac,Q=e.maxFrac;if(u){const cn=u.match(k);if(null===cn)throw new Error(`${u} is not a valid digit info`);const Vt=cn[1],gn=cn[3],zn=cn[5];null!=Vt&&(x=cr(Vt)),null!=gn&&(L=cr(gn)),null!=zn?Q=cr(zn):null!=gn&&L>Q&&(Q=L)}!function St(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,s=r.length-n.integerLen;const u=Math.min(Math.max(e,s),t);let d=u+n.integerLen,_=r[d];if(d>0){r.splice(Math.max(n.integerLen,d));for(let L=d;L<r.length;L++)r[L]=0}else{s=Math.max(0,s),n.integerLen=1,r.length=Math.max(1,d=u+1),r[0]=0;for(let L=1;L<d;L++)r[L]=0}if(_>=5)if(d-1<0){for(let L=0;L>d;L--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[d-1]++;for(;s<Math.max(0,u);s++)r.push(0);let E=0!==u;const T=e+n.integerLen,x=r.reduceRight(function(L,Q,ue,Le){return Le[ue]=(Q+=L)<10?Q:Q-10,E&&(0===Le[ue]&&ue>=T?Le.pop():E=!1),Q>=10?1:0},0);x&&(r.unshift(x),n.integerLen++)}(T,L,Q);let ue=T.digits,Le=T.integerLen;const Ye=T.exponent;let rt=[];for(E=ue.every(cn=>!cn);Le<x;Le++)ue.unshift(0);for(;Le<0;Le++)ue.unshift(0);Le>0?rt=ue.splice(Le,ue.length):(rt=ue,ue=[0]);const $t=[];for(ue.length>=e.lgSize&&$t.unshift(ue.splice(-e.lgSize,ue.length).join(""));ue.length>e.gSize;)$t.unshift(ue.splice(-e.gSize,ue.length).join(""));ue.length&&$t.unshift(ue.join("")),_=$t.join($e(t,r)),rt.length&&(_+=$e(t,s)+rt.join("")),Ye&&(_+=$e(t,Ve.Exponential)+"+"+Ye)}else _=$e(t,Ve.Infinity);return _=n<0&&!E?e.negPre+_+e.negSuf:e.posPre+_+e.posSuf,_}(n,function vt(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),s=r[0],u=r[1],d=-1!==s.indexOf(".")?s.split("."):[s.substring(0,s.lastIndexOf("0")+1),s.substring(s.lastIndexOf("0")+1)],_=d[0],E=d[1]||"";t.posPre=_.substring(0,_.indexOf("#"));for(let x=0;x<E.length;x++){const L=E.charAt(x);"0"===L?t.minFrac=t.maxFrac=x+1:"#"===L?t.maxFrac=x+1:t.posSuf+=L}const T=_.split(",");if(t.gSize=T[1]?T[1].length:0,t.lgSize=T[2]||T[1]?(T[2]||T[1]).length:0,u){const x=s.length-t.posPre.length-t.posSuf.length,L=u.indexOf("#");t.negPre=u.substring(0,L).replace(/'/g,""),t.negSuf=u.slice(L+x).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function tt(n,e){return(0,h.cg1)(n)[h.wAp.NumberFormats][e]}(e,me.Decimal),$e(e,Ve.MinusSign)),e,Ve.Group,Ve.Decimal,t)}(function lr(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),s,r)}catch(u){throw bn()}}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.soG,16))};static#t=this.\u0275pipe=h.Yjl({name:"number",type:n,pure:!0,standalone:!0})}return n})();let $i=(()=>{class n{transform(t,r,s){if(null==t)return null;if(!this.supports(t))throw bn();return t.slice(r,s)}supports(t){return"string"==typeof t||Array.isArray(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=h.Yjl({name:"slice",type:n,pure:!1,standalone:!0})}return n})(),si=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({})}return n})();function ir(n){return"server"===n}let Gi=(()=>{class n{static#e=this.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new oi((0,h.LFG)(Ce),window)})}return n})();class oi{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ll(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const u=s.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],s-u[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class go{}class wl extends ye{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Cr extends wl{static makeCurrent(){!function se(n){M||(M=n)}(new Cr)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Tm(){return El=El||document.querySelector("base"),El?El.getAttribute("href"):null}();return null==t?null:function Am(n){Cc=Cc||document.createElement("a"),Cc.setAttribute("href",n);const e=Cc.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){El=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Hn(document.cookie,e)}}let Cc,El=null,Z_=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const gd=new h.OlP("EventManagerPlugins");let Ga=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(u=>u.supports(t)),!r)throw new h.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(gd),h.LFG(h.R0b))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();class bc{constructor(e){this._doc=e}}const md="ng-app-id";let Fu=(()=>{class n{constructor(t,r,s,u={}){this.doc=t,this.appId=r,this.nonce=s,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ir(u),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(s=>s.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${md}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(s=>{null!=s.textContent&&r.set(s.textContent,s)}),r}return null}changeUsageCount(t,r){const s=this.styleRef;if(s.has(t)){const u=s.get(t);return u.usage+=r,u.usage}return s.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const s=this.styleNodesInDOM,u=s?.get(r);if(u?.parentNode===t)return s.delete(r),u.removeAttribute(md),u;{const d=this.doc.createElement("style");return this.nonce&&d.setAttribute("nonce",this.nonce),d.textContent=r,this.platformIsServer&&d.setAttribute(md,this.appId),d}}addStyleToHost(t,r){const s=this.getStyleElement(t,r);t.appendChild(s);const u=this.styleRef,d=u.get(r)?.elements;d?d.push(s):u.set(r,{elements:[s],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Ce),h.LFG(h.AFp),h.LFG(h.Ojb,8),h.LFG(h.Lbi))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const ra={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Uu=/%COMP%/g,to=new h.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Mr(n,e){return e.map(t=>t.replace(Uu,n))}let Bu=(()=>{class n{constructor(t,r,s,u,d,_,E,T=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=u,this.doc=d,this.platformId=_,this.ngZone=E,this.nonce=T,this.rendererByCompId=new Map,this.platformIsServer=ir(_),this.defaultRenderer=new yo(t,d,E,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===h.ifc.ShadowDom&&(r={...r,encapsulation:h.ifc.Emulated});const s=this.getOrCreateRenderer(t,r);return s instanceof vi?s.applyToHost(t):s instanceof qs&&s.applyStyles(),s}getOrCreateRenderer(t,r){const s=this.rendererByCompId;let u=s.get(r.id);if(!u){const d=this.doc,_=this.ngZone,E=this.eventManager,T=this.sharedStylesHost,x=this.removeStylesOnCompDestroy,L=this.platformIsServer;switch(r.encapsulation){case h.ifc.Emulated:u=new vi(E,T,r,this.appId,x,d,_,L);break;case h.ifc.ShadowDom:return new Ac(E,T,t,r,d,_,this.nonce,L);default:u=new qs(E,T,r,x,d,_,L)}s.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Ga),h.LFG(Fu),h.LFG(h.AFp),h.LFG(to),h.LFG(Ce),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(h.Ojb))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();class yo{constructor(e,t,r,s){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=s,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(ra[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(_d(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(_d(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new h.vHH(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const u=ra[s];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=ra[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,s&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=B().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function _d(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ac extends yo{constructor(e,t,r,s,u,d,_,E){super(e,u,d,E),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const T=Mr(s.id,s.styles);for(const x of T){const L=document.createElement("style");_&&L.setAttribute("nonce",_),L.textContent=x,this.shadowRoot.appendChild(L)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class qs extends yo{constructor(e,t,r,s,u,d,_,E){super(e,u,d,_),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=s,this.styles=E?Mr(E,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class vi extends qs{constructor(e,t,r,s,u,d,_,E){const T=s+"-"+r.id;super(e,t,r,u,d,_,E,T),this.contentAttr=function wp(n){return"_ngcontent-%COMP%".replace(Uu,n)}(T),this.hostAttr=function yd(n){return"_nghost-%COMP%".replace(Uu,n)}(T)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Ns=(()=>{class n extends bc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Ce))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const vd=["alt","control","meta","shift"],za={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sh={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Il=(()=>{class n extends bc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const u=n._normalizeKey(r.pop());let d="",_=r.indexOf("code");if(_>-1&&(r.splice(_,1),d="code."),vd.forEach(T=>{const x=r.indexOf(T);x>-1&&(r.splice(x,1),d+=T+".")}),d+=u,0!=r.length||0===u.length)return null;const E={};return E.domEventName=s,E.fullKey=d,E}static matchEventFullKeyCode(t,r){let s=za[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(s=t.code,u="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),vd.forEach(d=>{d!==s&&(0,Sh[d])(t)&&(u+=d+".")}),u+=s,u===r)}static eventCallback(t,r,s){return u=>{n.matchEventFullKeyCode(u,t)&&s.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Ce))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const Ep=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function on(){Cr.makeCurrent()},multi:!0},{provide:Ce,useFactory:function xh(){return(0,h.RDi)(document),document},deps:[]}]),Sm=new h.OlP(""),Sc=[{provide:h.rWj,useClass:class _p{addToWindow(e){h.dqk.getAngularTestability=(r,s=!0)=>{const u=e.findTestabilityInTree(r,s);if(null==u)throw new h.vHH(5103,!1);return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const s=h.dqk.getAllAngularTestabilities();let u=s.length,d=!1;const _=function(E){d=d||E,u--,0==u&&r(d)};s.forEach(E=>{E.whenStable(_)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?B().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],Wa=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function qa(){return new h.qLn},deps:[]},{provide:gd,useClass:Ns,multi:!0,deps:[Ce,h.R0b,h.Lbi]},{provide:gd,useClass:Il,multi:!0,deps:[Ce]},Bu,Fu,Ga,{provide:h.FYo,useExisting:Bu},{provide:go,useClass:Z_,deps:[]},[]];let bl=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Sm,12))};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({providers:[...Wa,...Sc],imports:[si,h.hGG]})}return n})(),Ke=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Ce))};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(r){let s=null;return s=r?new r:function U(){return new Ke((0,h.LFG)(Ce))}(),s},providedIn:"root"})}return n})();typeof window<"u"&&window;var Kr=N(5592),Ya=N(4674),$r=N(2459),Xt=N(2096),ss=N(5619);const{isArray:Sl}=Array,{getPrototypeOf:Ed,prototype:ks,keys:va}=Object;function Hr(n){if(1===n.length){const e=n[0];if(Sl(e))return{args:e,keys:null};if(function _o(n){return n&&"object"==typeof n&&Ed(n)===ks}(e)){const t=va(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var oa=N(2737),Dn=N(7398);const{isArray:Ap}=Array;function no(n){return(0,Dn.U)(e=>function Sp(n,e){return Ap(e)?n(...e):n(e)}(n,e))}var Uo=N(9940);function Ls(n,e){return n.reduce((t,r,s)=>(t[r]=e[s],t),{})}var Gr=N(8251),xc=N(7103);function Qa(...n){const e=(0,Uo.yG)(n),t=(0,Uo.jO)(n),{args:r,keys:s}=Hr(n);if(0===r.length)return(0,$r.D)([],e);const u=new Kr.y(function Hu(n,e,t=oa.y){return r=>{Ja(e,()=>{const{length:s}=n,u=new Array(s);let d=s,_=s;for(let E=0;E<s;E++)Ja(e,()=>{const T=(0,$r.D)(n[E],e);let x=!1;T.subscribe((0,Gr.x)(r,L=>{u[E]=L,x||(x=!0,_--),_||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,s?d=>Ls(s,d):oa.y));return t?u.pipe(no(t)):u}function Ja(n,e,t){n?(0,xc.f)(t,n,e):e()}const Xa=(0,N(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ml=N(7537);function eu(...n){return function ro(){return(0,Ml.J)(1)}()((0,$r.D)(n,(0,Uo.yG)(n)))}var Oc=N(4829);function Pi(n){return new Kr.y(e=>{(0,Oc.Xf)(n()).subscribe(e)})}var Gu=N(8407);function tu(n,e){const t=(0,Ya.m)(n)?n:()=>n,r=s=>s.error(t());return new Kr.y(e?s=>e.schedule(r,0,s):r)}var qi=N(6232),Pc=N(7394),os=N(9360);function wa(){return(0,os.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Gr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,u=t;t=null,s&&(!u||s===u)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class xl extends Kr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,os.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pc.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Gr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pc.w0.EMPTY)}return e}refCount(){return wa()(this)}}var Fr=N(8645),Er=N(4664);function pi(n){return n<=0?()=>qi.E:(0,os.e)((e,t)=>{let r=0;e.subscribe((0,Gr.x)(t,s=>{++r<=n&&(t.next(s),n<=r&&t.complete())}))})}function Rc(...n){const e=(0,Uo.yG)(n);return(0,os.e)((t,r)=>{(e?eu(n,t,e):eu(n,t)).subscribe(r)})}function as(n,e){return(0,os.e)((t,r)=>{let s=0;t.subscribe((0,Gr.x)(r,u=>n.call(e,u,s++)&&r.next(u)))})}var us=N(1631);function Nc(n){return(0,os.e)((e,t)=>{let r=!1;e.subscribe((0,Gr.x)(t,s=>{r=!0,t.next(s)},()=>{r||t.next(n),t.complete()}))})}function Ea(n=Mp){return(0,os.e)((e,t)=>{let r=!1;e.subscribe((0,Gr.x)(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(n())))})}function Mp(){return new Xa}function Ri(n,e){const t=arguments.length>=2;return r=>r.pipe(n?as((s,u)=>n(s,u,r)):oa.y,pi(1),t?Nc(e):Ea(()=>new Xa))}function nu(n,e){return(0,Ya.m)(e)?(0,us.z)(n,e,1):(0,us.z)(n,1)}var Yr=N(9397);function vo(n){return(0,os.e)((e,t)=>{let u,r=null,s=!1;r=e.subscribe((0,Gr.x)(t,void 0,void 0,d=>{u=(0,Oc.Xf)(n(d,vo(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,u.subscribe(t))})}function Ia(n,e){return(0,os.e)(function Id(n,e,t,r,s){return(u,d)=>{let _=t,E=e,T=0;u.subscribe((0,Gr.x)(d,x=>{const L=T++;E=_?n(E,x,L):(_=!0,x),r&&d.next(E)},s&&(()=>{_&&d.next(E),d.complete()})))}}(n,e,arguments.length>=2,!0))}function zu(n){return n<=0?()=>qi.E:(0,os.e)((e,t)=>{let r=[];e.subscribe((0,Gr.x)(t,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function qu(n){return(0,os.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var Cd=N(2420);const Un="primary",aa=Symbol("RouteTitle");class ru{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ca(n){return new ru(n)}function kh(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let u=0;u<r.length;u++){const d=r[u],_=n[u];if(d.startsWith(":"))s[d.substring(1)]=_;else if(d!==_.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function Fs(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let u=0;u<t.length;u++)if(s=t[u],!Lh(n[s],e[s]))return!1;return!0}function Lh(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,u)=>r[u]===s)}return n===e}function Ti(n){return n.length>0?n[n.length-1]:null}function iu(n){return function Tp(n){return!!n&&(n instanceof Kr.y||(0,Ya.m)(n.lift)&&(0,Ya.m)(n.subscribe))}(n)?n:(0,h.QGY)(n)?(0,$r.D)(Promise.resolve(n)):(0,Xt.of)(n)}const Fh={exact:function Lc(n,e,t){if(!Wu(n.segments,e.segments)||!Pl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Lc(n.children[r],e.children[r],t))return!1;return!0},subset:ba},bd={exact:function Uh(n,e){return Fs(n,e)},subset:function Fc(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Lh(n[t],e[t]))},ignored:()=>!0};function Dd(n,e,t){return Fh[t.paths](n.root,e.root,t.matrixParams)&&bd[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ba(n,e,t){return wn(n,e,e.segments,t)}function wn(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!Wu(s,t)||e.hasChildren()||!Pl(s,t,r))}if(n.segments.length===t.length){if(!Wu(n.segments,t)||!Pl(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!ba(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Wu(n.segments,s)&&Pl(n.segments,s,r)&&n.children[Un])&&wn(n.children[Un],e,u,r)}}function Pl(n,e,t){return e.every((r,s)=>bd[t](n[s].parameters,r.parameters))}class su{constructor(e=new rr([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ca(this.queryParams)),this._queryParamMap}toString(){return Op.serialize(this)}}class rr{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ad(this)}}class Rl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ca(this.parameters)),this._parameterMap}toString(){return cs(this)}}function Wu(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Td=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(){return new Nl},providedIn:"root"})}return n})();class Nl{parse(e){const t=new Uc(e);return new su(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${io(e.root,!0)}`,r=function Bh(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(s=>`${jo(t)}=${jo(s)}`).join("&"):`${jo(t)}=${jo(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function ai(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Op=new Nl;function Ad(n){return n.segments.map(e=>cs(e)).join("/")}function io(n,e){if(!n.hasChildren())return Ad(n);if(e){const t=n.children[Un]?io(n.children[Un],!1):"",r=[];return Object.entries(n.children).forEach(([s,u])=>{s!==Un&&r.push(`${s}:${io(u,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Bo(n,e){let t=[];return Object.entries(n.children).forEach(([r,s])=>{r===Un&&(t=t.concat(e(s,r)))}),Object.entries(n.children).forEach(([r,s])=>{r!==Un&&(t=t.concat(e(s,r)))}),t}(n,(r,s)=>s===Un?[io(n.children[Un],!1)]:[`${s}:${io(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Un]?`${Ad(n)}/${t[0]}`:`${Ad(n)}/(${t.join("//")})`}}function _s(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jo(n){return _s(n).replace(/%3B/gi,";")}function Sd(n){return _s(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wo(n){return decodeURIComponent(n)}function Vh(n){return wo(n.replace(/\+/g,"%20"))}function cs(n){return`${Sd(n.path)}${function Zu(n){return Object.keys(n).map(e=>`;${Sd(e)}=${Sd(n[e])}`).join("")}(n.parameters)}`}const ou=/^[^\/()?;#]+/;function Us(n){const e=n.match(ou);return e?e[0]:""}const Md=/^[^\/()?;=#]+/,jh=/^[^=?&#]+/,Vs=/^[^&#]+/;class Uc{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rr([],{}):new rr([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Un]=new rr(e,t)),r}parseSegment(){const e=Us(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,!1);return this.capture(e),new Rl(wo(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function au(n){const e=n.match(Md);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=Us(this.remaining);s&&(r=s,this.capture(r))}e[wo(t)]=wo(r)}parseQueryParam(e){const t=function Nm(n){const e=n.match(jh);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function $h(n){const e=n.match(Vs);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const s=Vh(t),u=Vh(r);if(e.hasOwnProperty(s)){let d=e[s];Array.isArray(d)||(d=[d],e[s]=d),d.push(u)}else e[s]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Us(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new h.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Un);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[Un]:new rr([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,!1)}}function km(n){return n.segments.length>0?new rr([],{[Un]:n}):n}function kl(n){const e={};for(const r of Object.keys(n.children)){const u=kl(n.children[r]);if(r===Un&&0===u.segments.length&&u.hasChildren())for(const[d,_]of Object.entries(u.children))e[d]=_;else(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Pp(n){if(1===n.numberOfChildren&&n.children[Un]){const e=n.children[Un];return new rr(n.segments.concat(e.segments),e.children)}return n}(new rr(n.segments,e))}function Vc(n){return n instanceof su}function m(n){let e;const s=km(function t(u){const d={};for(const E of u.children){const T=t(E);d[E.outlet]=T}const _=new rr(u.url,d);return u===n&&(e=_),_}(n.root));return e??s}function y(n,e,t,r){let s=n;for(;s.parent;)s=s.parent;if(0===e.length)return F(s,s,s,t,r);const u=function ft(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Te(!0,0,n);let e=0,t=!1;const r=n.reduce((s,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const _={};return Object.entries(u.outlets).forEach(([E,T])=>{_[E]="string"==typeof T?T.split("/"):T}),[...s,{outlets:_}]}if(u.segmentPath)return[...s,u.segmentPath]}return"string"!=typeof u?[...s,u]:0===d?(u.split("/").forEach((_,E)=>{0==E&&"."===_||(0==E&&""===_?t=!0:".."===_?e++:""!=_&&s.push(_))}),s):[...s,u]},[]);return new Te(t,e,r)}(e);if(u.toRoot())return F(s,s,new rr([],{}),t,r);const d=function qt(n,e,t){if(n.isAbsolute)return new Et(e,!0,0);if(!t)return new Et(e,!1,NaN);if(null===t.parent)return new Et(t,!0,0);const r=b(n.commands[0])?0:1;return function Yn(n,e,t){let r=n,s=e,u=t;for(;u>s;){if(u-=s,r=r.parent,!r)throw new h.vHH(4005,!1);s=r.segments.length}return new Et(r,!1,s-u)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(u,s,n),_=d.processChildren?Da(d.segmentGroup,d.index,u.commands):vs(d.segmentGroup,d.index,u.commands);return F(s,d.segmentGroup,_,t,r)}function b(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function O(n){return"object"==typeof n&&null!=n&&n.outlets}function F(n,e,t,r,s){let d,u={};r&&Object.entries(r).forEach(([E,T])=>{u[E]=Array.isArray(T)?T.map(x=>`${x}`):`${T}`}),d=n===e?t:oe(n,e,t);const _=km(kl(d));return new su(_,u,s)}function oe(n,e,t){const r={};return Object.entries(n.children).forEach(([s,u])=>{r[s]=u===e?t:oe(u,e,t)}),new rr(n.segments,r)}class Te{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&b(r[0]))throw new h.vHH(4003,!1);const s=r.find(O);if(s&&s!==Ti(r))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Et{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function vs(n,e,t){if(n||(n=new rr([],{})),0===n.segments.length&&n.hasChildren())return Da(n,e,t);const r=function Hh(n,e,t){let r=0,s=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return u;const d=n.segments[s],_=t[r];if(O(_))break;const E=`${_}`,T=r<t.length-1?t[r+1]:null;if(s>0&&void 0===E)break;if(E&&T&&"object"==typeof T&&void 0===T.outlets){if(!Ku(E,T,d))return u;r+=2}else{if(!Ku(E,{},d))return u;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new rr(n.segments.slice(0,r.pathIndex),{});return u.children[Un]=new rr(n.segments.slice(r.pathIndex),n.children),Da(u,0,s)}return r.match&&0===s.length?new rr(n.segments,{}):r.match&&!n.hasChildren()?Bc(n,e,t):r.match?Da(n,0,s):Bc(n,e,t)}function Da(n,e,t){if(0===t.length)return new rr(n.segments,{});{const r=function wi(n){return O(n[0])?n[0].outlets:{[Un]:n}}(t),s={};if(Object.keys(r).some(u=>u!==Un)&&n.children[Un]&&1===n.numberOfChildren&&0===n.children[Un].segments.length){const u=Da(n.children[Un],e,t);return new rr(n.segments,u.children)}return Object.entries(r).forEach(([u,d])=>{"string"==typeof d&&(d=[d]),null!==d&&(s[u]=vs(n.children[u],e,d))}),Object.entries(n.children).forEach(([u,d])=>{void 0===r[u]&&(s[u]=d)}),new rr(n.segments,s)}}function Bc(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const u=t[s];if(O(u)){const E=ua(u.outlets);return new rr(r,E)}if(0===s&&b(t[0])){r.push(new Rl(n.segments[e].path,uu(t[0]))),s++;continue}const d=O(u)?u.outlets[Un]:`${u}`,_=s<t.length-1?t[s+1]:null;d&&_&&b(_)?(r.push(new Rl(d,uu(_))),s+=2):(r.push(new Rl(d,{})),s++)}return new rr(r,{})}function ua(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=Bc(new rr([],{}),0,r))}),e}function uu(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Ku(n,e,t){return n==t.path&&Fs(e,t.parameters)}const Yu="imperative";class Bs{constructor(e,t){this.id=e,this.url=t}}class jc extends Bs{constructor(e,t,r="imperative",s=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ca extends Bs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cu extends Bs{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ta extends Bs{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=16}}class $c extends Bs{constructor(e,t,r,s){super(e,t),this.error=r,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gh extends Bs{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lm extends Bs{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qu extends Bs{constructor(e,t,r,s,u){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fm extends Bs{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hw extends Bs{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X_{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gw{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zw{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qw{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Aa{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ev{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Um{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ll{}class zh{constructor(e){this.url=e}}class yn{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Fl,this.attachRef=null}}let Fl=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const s=this.getOrCreateContext(t);s.outlet=r,this.contexts.set(t,s)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new yn,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Vm{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ju(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Ju(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=xd(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return xd(e,this._root).map(t=>t.value)}}function Ju(n,e){if(n===e.value)return e;for(const t of e.children){const r=Ju(n,t);if(r)return r}return null}function xd(n,e){if(n===e.value)return[e];for(const t of e.children){const r=xd(n,t);if(r.length)return r.unshift(e),r}return[]}class Eo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Hc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ws extends Vm{constructor(e,t){super(e),this.snapshot=t,$m(this,e)}toString(){return this.snapshot.toString()}}function Bm(n,e){const t=function Od(n,e){const d=new Ul([],{},{},"",{},Un,e,null,{});return new Wh("",new Eo(d,[]))}(0,e),r=new ss.X([new Rl("",{})]),s=new ss.X({}),u=new ss.X({}),d=new ss.X({}),_=new ss.X(""),E=new Gc(r,s,d,_,u,Un,e,t.root);return E.snapshot=t.root,new ws(new Eo(E,[]),t)}class Gc{constructor(e,t,r,s,u,d,_,E){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=s,this.dataSubject=u,this.outlet=d,this.component=_,this._futureSnapshot=E,this.title=this.dataSubject?.pipe((0,Dn.U)(T=>T[aa]))??(0,Xt.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Dn.U)(e=>Ca(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Dn.U)(e=>Ca(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jm(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const s=t[r],u=t[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(u.component)break;r--}}return function qh(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ul{get title(){return this.data?.[aa]}constructor(e,t,r,s,u,d,_,E,T){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=d,this.component=_,this.routeConfig=E,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ca(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ca(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Wh extends Vm{constructor(e,t){super(t),this.url=e,$m(this,t)}toString(){return lu(this._root)}}function $m(n,e){e.value._routerState=n,e.children.forEach(t=>$m(n,t))}function lu(n){const e=n.children.length>0?` { ${n.children.map(lu).join(", ")} } `:"";return`${n.value}${e}`}function js(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Fs(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Fs(e.params,t.params)||n.paramsSubject.next(t.params),function Ol(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Fs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Fs(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Pd(n,e){const t=Fs(n.params,e.params)&&function Rm(n,e){return Wu(n,e)&&n.every((t,r)=>Fs(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Pd(n.parent,e.parent))}let Zh=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Un,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(Fl),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb),this.inputBinder=(0,h.f3M)(Np,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:s}=t.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new h.vHH(4013,!1);this._activatedRoute=t;const s=this.location,d=t.snapshot.component,_=this.parentContexts.getOrCreateContext(this.name).children,E=new Hm(t,_,s.injector);this.activated=s.createComponent(d,{index:s.length,injector:E,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]})}return n})();class Hm{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Gc?this.route:e===Fl?this.childContexts:this.parent.get(e,t)}}const Np=new h.OlP("");let tv=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,s=Qa([r.queryParams,r.params,r.data]).pipe((0,Er.w)(([u,d,_],E)=>(_={...u,...d,..._},0===E?(0,Xt.of)(_):Promise.resolve(_)))).subscribe(u=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const d=(0,h.qFp)(r.component);if(d)for(const{templateName:_}of d.inputs)t.activatedComponentRef.setInput(_,u[_]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,s)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();function Nd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function nv(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return Nd(n,r,s);return Nd(n,r)})}(n,e,t);return new Eo(r,s)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(_=>Nd(n,_)),d}}const r=function Io(n){return new Gc(new ss.X(n.url),new ss.X(n.params),new ss.X(n.queryParams),new ss.X(n.fragment),new ss.X(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(u=>Nd(n,u));return new Eo(r,s)}}const Kh="ngNavigationCancelingError";function Gm(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Vc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=kp(!1,0,e);return s.url=t,s.navigationBehaviorOptions=r,s}function kp(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Kh]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Vl(n){return n&&n[Kh]}let zm=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(r,s){1&r&&h._UZ(0,"router-outlet")},dependencies:[Zh],encapsulation:2})}return n})();function Sa(n){const e=n.children&&n.children.map(Sa),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Un&&(t.component=zm),t}function $o(n){return n.outlet||Un}function Xu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class uv{constructor(e,t,r,s,u){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s,this.inputBindingEnabled=u}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),js(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=Hc(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,s[d],r),delete s[d]}),Object.values(s).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(s===u)if(s.component){const d=r.getContext(s.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=Hc(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],s);if(r&&r.outlet){const d=r.outlet.detach(),_=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:_})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=Hc(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],s);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const s=Hc(t);e.children.forEach(u=>{this.activateRoutes(u,s[u.value.outlet],r),this.forwardEvent(new ev(u.value.snapshot))}),e.children.length&&this.forwardEvent(new qw(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(js(s),s===u)if(s.component){const d=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const d=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const _=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),d.children.onOutletReAttached(_.contexts),d.attachRef=_.componentRef,d.route=_.route.value,d.outlet&&d.outlet.attach(_.componentRef,_.route.value),js(_.route.value),this.activateChildRoutes(e,null,d.children)}else{const _=Xu(s.snapshot);d.attachRef=null,d.route=s,d.injector=_,d.outlet&&d.outlet.activateWith(s,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class qm{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Qh{constructor(e,t){this.component=e,this.route=t}}function kd(n,e,t){const r=n._root;return jl(r,e?e._root:null,t,[r.value])}function Bl(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,h.Z0I)(n)?e.get(n):n:r}function jl(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=Hc(e);return n.children.forEach(d=>{(function Vp(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,_=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const E=function cv(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Wu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Wu(n.url,e.url)||!Fs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Pd(n,e)||!Fs(n.queryParams,e.queryParams);default:return!Pd(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);E?s.canActivateChecks.push(new qm(r)):(u.data=d.data,u._resolvedData=d._resolvedData),jl(n,e,u.component?_?_.children:null:t,r,s),E&&_&&_.outlet&&_.outlet.isActivated&&s.canDeactivateChecks.push(new Qh(_.outlet.component,d))}else d&&Ld(e,_,s),s.canActivateChecks.push(new qm(r)),jl(n,null,u.component?_?_.children:null:t,r,s)})(d,u[d.value.outlet],t,r.concat([d.value]),s),delete u[d.value.outlet]}),Object.entries(u).forEach(([d,_])=>Ld(_,t.getContext(d),s)),s}function Ld(n,e,t){const r=Hc(n),s=n.value;Object.entries(r).forEach(([u,d])=>{Ld(d,s.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Qh(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function Fd(n){return"function"==typeof n}function dv(n){return n instanceof Xa||"EmptyError"===n?.name}const Ud=Symbol("INITIAL_VALUE");function Es(){return(0,Er.w)(n=>Qa(n.map(e=>e.pipe(pi(1),Rc(Ud)))).pipe((0,Dn.U)(e=>{for(const t of e)if(!0!==t){if(t===Ud)return Ud;if(!1===t||t instanceof su)return t}return!0}),as(e=>e!==Ud),pi(1)))}function Km(n){return(0,Gu.z)((0,Yr.b)(e=>{if(Vc(e))throw Gm(0,e)}),(0,Dn.U)(e=>!0===e))}class Jh{constructor(e){this.segmentGroup=e||null}}class Xh{constructor(e){this.urlTree=e}}function hu(n){return tu(new Jh(n))}function Qm(n){return tu(new Xh(n))}class mv{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new h.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return(0,Xt.of)(r);if(s.numberOfChildren>1||!s.children[Un])return tu(new h.vHH(4e3,!1));s=s.children[Un]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,s){const u=this.createSegmentGroup(e,t.root,r,s);return new su(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([s,u])=>{if("string"==typeof u&&u.startsWith(":")){const _=u.substring(1);r[s]=t[_]}else r[s]=u}),r}createSegmentGroup(e,t,r,s){const u=this.createSegments(e,t.segments,r,s);let d={};return Object.entries(t.children).forEach(([_,E])=>{d[_]=this.createSegmentGroup(e,E,r,s)}),new rr(u,d)}createSegments(e,t,r,s){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,s):this.findOrReturn(u,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new h.vHH(4001,!1);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}const ef={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tf(n,e,t,r,s){const u=Xm(n,e,t);return u.matched?(r=function Lp(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function Ym(n,e,t,r){const s=e.canMatch;if(!s||0===s.length)return(0,Xt.of)(!0);const u=s.map(d=>{const _=Bl(d,n);return iu(function Zm(n){return n&&Fd(n.canMatch)}(_)?_.canMatch(e,t):n.runInContext(()=>_(e,t)))});return(0,Xt.of)(u).pipe(Es(),Km())}(r,e,t).pipe((0,Dn.U)(d=>!0===d?u:{...ef}))):(0,Xt.of)(u)}function Xm(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...ef}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||kh)(t,n,e);if(!s)return{...ef};const u={};Object.entries(s.posParams??{}).forEach(([_,E])=>{u[_]=E.path});const d=s.consumed.length>0?{...u,...s.consumed[s.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:d,positionalParamSegments:s.posParams??{}}}function ey(n,e,t,r){return t.length>0&&function nE(n,e,t){return t.some(r=>nf(n,e,r)&&$o(r)!==Un)}(n,t,r)?{segmentGroup:new rr(e,tE(r,new rr(t,n.children))),slicedSegments:[]}:0===t.length&&function yv(n,e,t){return t.some(r=>nf(n,e,r))}(n,t,r)?{segmentGroup:new rr(n.segments,eE(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new rr(n.segments,n.children),slicedSegments:t}}function eE(n,e,t,r,s){const u={};for(const d of r)if(nf(n,t,d)&&!s[$o(d)]){const _=new rr([],{});u[$o(d)]=_}return{...s,...u}}function tE(n,e){const t={};t[Un]=e;for(const r of n)if(""===r.path&&$o(r)!==Un){const s=new rr([],{});t[$o(r)]=s}return t}function nf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class _v{constructor(e,t,r,s,u,d,_){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=s,this.urlTree=u,this.paramsInheritanceStrategy=d,this.urlSerializer=_,this.allowRedirects=!0,this.applyRedirects=new mv(this.urlSerializer,this.urlTree)}noMatchError(e){return new h.vHH(4002,!1)}recognize(){const e=ey(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Un).pipe(vo(t=>{if(t instanceof Xh)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Jh?this.noMatchError(t):t}),(0,Dn.U)(t=>{const r=new Ul([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Un,this.rootComponentType,null,{}),s=new Eo(r,t),u=new Wh("",s),d=function C(n,e,t=null,r=null){return y(m(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return d.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(d),this.inheritParamsAndData(u._root),{state:u,tree:d}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Un).pipe(vo(r=>{throw r instanceof Jh?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=jm(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,s,!0)}processChildren(e,t,r){const s=[];for(const u of Object.keys(r.children))"primary"===u?s.unshift(u):s.push(u);return(0,$r.D)(s).pipe(nu(u=>{const d=r.children[u],_=function av(n,e){const t=n.filter(r=>$o(r)===e);return t.push(...n.filter(r=>$o(r)!==e)),t}(t,u);return this.processSegmentGroup(e,_,d,u)}),Ia((u,d)=>(u.push(...d),u)),Nc(null),function xp(n,e){const t=arguments.length>=2;return r=>r.pipe(n?as((s,u)=>n(s,u,r)):oa.y,zu(1),t?Nc(e):Ea(()=>new Xa))}(),(0,us.z)(u=>{if(null===u)return hu(r);const d=vv(u);return function rE(n){n.sort((e,t)=>e.value.outlet===Un?-1:t.value.outlet===Un?1:e.value.outlet.localeCompare(t.value.outlet))}(d),(0,Xt.of)(d)}))}processSegment(e,t,r,s,u,d){return(0,$r.D)(t).pipe(nu(_=>this.processSegmentAgainstRoute(_._injector??e,t,_,r,s,u,d).pipe(vo(E=>{if(E instanceof Jh)return(0,Xt.of)(null);throw E}))),Ri(_=>!!_),vo(_=>{if(dv(_))return function ty(n,e,t){return 0===e.length&&!n.children[t]}(r,s,u)?(0,Xt.of)([]):hu(r);throw _}))}processSegmentAgainstRoute(e,t,r,s,u,d,_){return function Gp(n,e,t,r){return!!($o(n)===r||r!==Un&&nf(e,t,n))&&("**"===n.path||Xm(e,n,t).matched)}(r,s,u,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,s,r,u,d,_):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,s,t,r,u,d):hu(s):hu(s)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,d){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,s){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Qm(u):this.applyRedirects.lineralizeSegments(r,u).pipe((0,us.z)(d=>{const _=new rr(d,{});return this.processSegment(e,t,_,d,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,d){const{matched:_,consumedSegments:E,remainingSegments:T,positionalParamSegments:x}=Xm(t,s,u);if(!_)return hu(t);const L=this.applyRedirects.applyRedirectCommands(E,s.redirectTo,x);return s.redirectTo.startsWith("/")?Qm(L):this.applyRedirects.lineralizeSegments(s,L).pipe((0,us.z)(Q=>this.processSegment(e,r,t,Q.concat(T),d,!1)))}matchSegmentAgainstRoute(e,t,r,s,u,d){let _;if("**"===r.path){const E=s.length>0?Ti(s).parameters:{},T=new Ul(s,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ev(r),$o(r),r.component??r._loadedComponent??null,r,Hl(r));_=(0,Xt.of)({snapshot:T,consumedSegments:[],remainingSegments:[]}),t.children={}}else _=tf(t,r,s,e).pipe((0,Dn.U)(({matched:E,consumedSegments:T,remainingSegments:x,parameters:L})=>E?{snapshot:new Ul(T,L,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ev(r),$o(r),r.component??r._loadedComponent??null,r,Hl(r)),consumedSegments:T,remainingSegments:x}:null));return _.pipe((0,Er.w)(E=>null===E?hu(t):this.getChildConfig(e=r._injector??e,r,s).pipe((0,Er.w)(({routes:T})=>{const x=r._loadedInjector??e,{snapshot:L,consumedSegments:Q,remainingSegments:ue}=E,{segmentGroup:Le,slicedSegments:Ye}=ey(t,Q,ue,T);if(0===Ye.length&&Le.hasChildren())return this.processChildren(x,T,Le).pipe((0,Dn.U)($t=>null===$t?null:[new Eo(L,$t)]));if(0===T.length&&0===Ye.length)return(0,Xt.of)([new Eo(L,[])]);const rt=$o(r)===u;return this.processSegment(x,T,Le,Ye,rt?Un:u,!0).pipe((0,Dn.U)($t=>[new Eo(L,$t)]))}))))}getChildConfig(e,t,r){return t.children?(0,Xt.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,Xt.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function $p(n,e,t,r){const s=e.canLoad;if(void 0===s||0===s.length)return(0,Xt.of)(!0);const u=s.map(d=>{const _=Bl(d,n);return iu(function Yw(n){return n&&Fd(n.canLoad)}(_)?_.canLoad(e,t):n.runInContext(()=>_(e,t)))});return(0,Xt.of)(u).pipe(Es(),Km())}(e,t,r).pipe((0,us.z)(s=>s?this.configLoader.loadChildren(e,t).pipe((0,Yr.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function Hp(n){return tu(kp(!1,3))}())):(0,Xt.of)({routes:[],injector:e})}}function Tb(n){const e=n.value.routeConfig;return e&&""===e.path}function vv(n){const e=[],t=new Set;for(const r of n){if(!Tb(r)){e.push(r);continue}const s=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=vv(r.children);e.push(new Eo(r.value,s))}return e.filter(r=>!t.has(r))}function Ev(n){return n.data||{}}function Hl(n){return n.resolve||{}}function bv(n){return"string"==typeof n.title||null===n.title}function iy(n){return(0,Er.w)(e=>{const t=n(e);return t?(0,$r.D)(t).pipe((0,Dn.U)(()=>e)):(0,Xt.of)(e)})}const Vd=new h.OlP("ROUTES");let sy=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.f3M)(h.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,Xt.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=iu(t.loadComponent()).pipe((0,Dn.U)(Bd),(0,Yr.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),qu(()=>{this.componentLoaders.delete(t)})),s=new xl(r,()=>new Fr.x).pipe(wa());return this.componentLoaders.set(t,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,Xt.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=function iE(n,e,t,r){return iu(n.loadChildren()).pipe((0,Dn.U)(Bd),(0,us.z)(s=>s instanceof h.YKP||Array.isArray(s)?(0,Xt.of)(s):(0,$r.D)(e.compileModuleAsync(s))),(0,Dn.U)(s=>{r&&r(n);let u,d,_=!1;return Array.isArray(s)?(d=s,!0):(u=s.create(t).injector,d=u.get(Vd,[],{optional:!0,self:!0}).flat()),{routes:d.map(Sa),injector:u}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(qu(()=>{this.childrenLoaders.delete(r)})),d=new xl(u,()=>new Fr.x).pipe(wa());return this.childrenLoaders.set(r,d),d}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Bd(n){return function qc(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let qp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Fr.x,this.transitionAbortSubject=new Fr.x,this.configLoader=(0,h.f3M)(sy),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(Td),this.rootContexts=(0,h.f3M)(Fl),this.inputBindingEnabled=null!==(0,h.f3M)(Np,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Xt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new Gw(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new X_(s))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,s){return this.transitions=new ss.X({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Yu,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(as(u=>0!==u.id),(0,Dn.U)(u=>({...u,extractedUrl:t.urlHandlingStrategy.extract(u.rawUrl)})),(0,Er.w)(u=>{this.currentTransition=u;let d=!1,_=!1;return(0,Xt.of)(u).pipe((0,Yr.b)(E=>{this.currentNavigation={id:E.id,initialUrl:E.rawUrl,extractedUrl:E.extractedUrl,trigger:E.source,extras:E.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Er.w)(E=>{const T=E.currentBrowserUrl.toString(),x=!t.navigated||E.extractedUrl.toString()!==T||T!==E.currentUrlTree.toString();if(!x&&"reload"!==(E.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const Q="";return this.events.next(new Ta(E.id,this.urlSerializer.serialize(E.rawUrl),Q,0)),E.resolve(null),qi.E}if(t.urlHandlingStrategy.shouldProcessUrl(E.rawUrl))return(0,Xt.of)(E).pipe((0,Er.w)(Q=>{const ue=this.transitions?.getValue();return this.events.next(new jc(Q.id,this.urlSerializer.serialize(Q.extractedUrl),Q.source,Q.restoredState)),ue!==this.transitions?.getValue()?qi.E:Promise.resolve(Q)}),function zp(n,e,t,r,s,u){return(0,us.z)(d=>function zc(n,e,t,r,s,u,d="emptyOnly"){return new _v(n,e,t,r,s,d,u).recognize()}(n,e,t,r,d.extractedUrl,s,u).pipe((0,Dn.U)(({state:_,tree:E})=>({...d,targetSnapshot:_,urlAfterRedirects:E}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Yr.b)(Q=>{u.targetSnapshot=Q.targetSnapshot,u.urlAfterRedirects=Q.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Q.urlAfterRedirects};const ue=new Gh(Q.id,this.urlSerializer.serialize(Q.extractedUrl),this.urlSerializer.serialize(Q.urlAfterRedirects),Q.targetSnapshot);this.events.next(ue)}));if(x&&t.urlHandlingStrategy.shouldProcessUrl(E.currentRawUrl)){const{id:Q,extractedUrl:ue,source:Le,restoredState:Ye,extras:rt}=E,$t=new jc(Q,this.urlSerializer.serialize(ue),Le,Ye);this.events.next($t);const cn=Bm(0,this.rootComponentType).snapshot;return this.currentTransition=u={...E,targetSnapshot:cn,urlAfterRedirects:ue,extras:{...rt,skipLocationChange:!1,replaceUrl:!1}},(0,Xt.of)(u)}{const Q="";return this.events.next(new Ta(E.id,this.urlSerializer.serialize(E.extractedUrl),Q,1)),E.resolve(null),qi.E}}),(0,Yr.b)(E=>{const T=new Lm(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(T)}),(0,Dn.U)(E=>(this.currentTransition=u={...E,guards:kd(E.targetSnapshot,E.currentSnapshot,this.rootContexts)},u)),function $l(n,e){return(0,us.z)(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?(0,Xt.of)({...t,guardsResult:!0}):function hv(n,e,t,r){return(0,$r.D)(n).pipe((0,us.z)(s=>function gv(n,e,t,r,s){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,Xt.of)(!0);const d=u.map(_=>{const E=Xu(e)??s,T=Bl(_,E);return iu(function Bp(n){return n&&Fd(n.canDeactivate)}(T)?T.canDeactivate(n,e,t,r):E.runInContext(()=>T(n,e,t,r))).pipe(Ri())});return(0,Xt.of)(d).pipe(Es())}(s.component,s.route,t,e,r)),Ri(s=>!0!==s,!0))}(d,r,s,n).pipe((0,us.z)(_=>_&&function Kw(n){return"boolean"==typeof n}(_)?function fv(n,e,t,r){return(0,$r.D)(e).pipe(nu(s=>eu(function Db(n,e){return null!==n&&e&&e(new zw(n)),(0,Xt.of)(!0)}(s.route.parent,r),function pv(n,e){return null!==n&&e&&e(new Aa(n)),(0,Xt.of)(!0)}(s.route,r),function Xw(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function Up(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Pi(()=>{const _=d.guards.map(E=>{const T=Xu(d.node)??t,x=Bl(E,T);return iu(function Wm(n){return n&&Fd(n.canActivateChild)}(x)?x.canActivateChild(r,n):T.runInContext(()=>x(r,n))).pipe(Ri())});return(0,Xt.of)(_).pipe(Es())}));return(0,Xt.of)(u).pipe(Es())}(n,s.path,t),function jp(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Xt.of)(!0);const s=r.map(u=>Pi(()=>{const d=Xu(e)??t,_=Bl(u,d);return iu(function Qw(n){return n&&Fd(n.canActivate)}(_)?_.canActivate(e,n):d.runInContext(()=>_(e,n))).pipe(Ri())}));return(0,Xt.of)(s).pipe(Es())}(n,s.route,t))),Ri(s=>!0!==s,!0))}(r,u,n,e):(0,Xt.of)(_)),(0,Dn.U)(_=>({...t,guardsResult:_})))})}(this.environmentInjector,E=>this.events.next(E)),(0,Yr.b)(E=>{if(u.guardsResult=E.guardsResult,Vc(E.guardsResult))throw Gm(0,E.guardsResult);const T=new Qu(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot,!!E.guardsResult);this.events.next(T)}),as(E=>!!E.guardsResult||(this.cancelNavigationTransition(E,"",3),!1)),iy(E=>{if(E.guards.canActivateChecks.length)return(0,Xt.of)(E).pipe((0,Yr.b)(T=>{const x=new Fm(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(x)}),(0,Er.w)(T=>{let x=!1;return(0,Xt.of)(T).pipe(function ny(n,e){return(0,us.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return(0,Xt.of)(t);let u=0;return(0,$r.D)(s).pipe(nu(d=>function ry(n,e,t,r){const s=n.routeConfig,u=n._resolve;return void 0!==s?.title&&!bv(s)&&(u[aa]=s.title),function Iv(n,e,t,r){const s=function rf(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===s.length)return(0,Xt.of)({});const u={};return(0,$r.D)(s).pipe((0,us.z)(d=>function Cv(n,e,t,r){const s=Xu(e)??r,u=Bl(n,s);return iu(u.resolve?u.resolve(e,t):s.runInContext(()=>u(e,t)))}(n[d],e,t,r).pipe(Ri(),(0,Yr.b)(_=>{u[d]=_}))),zu(1),function Nh(n){return(0,Dn.U)(()=>n)}(u),vo(d=>dv(d)?qi.E:tu(d)))}(u,n,e,r).pipe((0,Dn.U)(d=>(n._resolvedData=d,n.data=jm(n,t).resolve,s&&bv(s)&&(n.data[aa]=s.title),null)))}(d.route,r,n,e)),(0,Yr.b)(()=>u++),zu(1),(0,us.z)(d=>u===s.length?(0,Xt.of)(t):qi.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Yr.b)({next:()=>x=!0,complete:()=>{x||this.cancelNavigationTransition(T,"",2)}}))}),(0,Yr.b)(T=>{const x=new Hw(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(x)}))}),iy(E=>{const T=x=>{const L=[];x.routeConfig?.loadComponent&&!x.routeConfig._loadedComponent&&L.push(this.configLoader.loadComponent(x.routeConfig).pipe((0,Yr.b)(Q=>{x.component=Q}),(0,Dn.U)(()=>{})));for(const Q of x.children)L.push(...T(Q));return L};return Qa(T(E.targetSnapshot.root)).pipe(Nc(),pi(1))}),iy(()=>this.afterPreactivation()),(0,Dn.U)(E=>{const T=function Rd(n,e,t){const r=Nd(n,e._root,t?t._root:void 0);return new ws(r,e)}(t.routeReuseStrategy,E.targetSnapshot,E.currentRouterState);return this.currentTransition=u={...E,targetRouterState:T},u}),(0,Yr.b)(()=>{this.events.next(new Ll)}),((n,e,t,r)=>(0,Dn.U)(s=>(new uv(e,s.targetRouterState,s.currentRouterState,t,r).activate(n),s)))(this.rootContexts,t.routeReuseStrategy,E=>this.events.next(E),this.inputBindingEnabled),pi(1),(0,Yr.b)({next:E=>{d=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ca(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects))),t.titleStrategy?.updateTitle(E.targetRouterState.snapshot),E.resolve(!0)},complete:()=>{d=!0}}),function kc(n){return(0,os.e)((e,t)=>{(0,Oc.Xf)(n).subscribe((0,Gr.x)(t,()=>t.complete(),Cd.Z)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe((0,Yr.b)(E=>{throw E}))),qu(()=>{d||_||this.cancelNavigationTransition(u,"",1),this.currentNavigation?.id===u.id&&(this.currentNavigation=null)}),vo(E=>{if(_=!0,Vl(E))this.events.next(new cu(u.id,this.urlSerializer.serialize(u.extractedUrl),E.message,E.cancellationCode)),function $s(n){return Vl(n)&&Vc(n.url)}(E)?this.events.next(new zh(E.url)):u.resolve(!1);else{this.events.next(new $c(u.id,this.urlSerializer.serialize(u.extractedUrl),E,u.targetSnapshot??void 0));try{u.resolve(t.errorHandler(E))}catch(T){u.reject(T)}}return qi.E}))}))}cancelNavigationTransition(t,r,s){const u=new cu(t.id,this.urlSerializer.serialize(t.extractedUrl),r,s);this.events.next(u),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sE(n){return n!==Yu}let oE=(()=>{class n{buildTitle(t){let r,s=t.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(u=>u.outlet===Un);return r}getResolvedTitleForRoute(t){return t.data[aa]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Ab)},providedIn:"root"})}return n})(),Ab=(()=>{class n extends oE{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Ke))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sb=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Dv)},providedIn:"root"})}return n})();class Mb{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Dv=(()=>{class n extends Mb{static#e=this.\u0275fac=function(){let t;return function(s){return(t||(t=h.n5z(n)))(s||n)}}();static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Wp=new h.OlP("",{providedIn:"root",factory:()=>({})});let Tv=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Av)},providedIn:"root"})}return n})(),Av=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var sf=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(sf||{});function Zp(n,e){n.events.pipe(as(t=>t instanceof ca||t instanceof cu||t instanceof $c||t instanceof Ta),(0,Dn.U)(t=>t instanceof ca||t instanceof Ta?sf.COMPLETE:t instanceof cu&&(0===t.code||1===t.code)?sf.REDIRECTING:sf.FAILED),as(t=>t!==sf.REDIRECTING),pi(1)).subscribe(()=>{e()})}function ec(n){throw n}function af(n,e,t){return e.parse("/")}const uf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Sv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this._events=new Fr.x,this.options=(0,h.f3M)(Wp,{optional:!0})||{},this.pendingTasks=(0,h.f3M)(h.HDt),this.errorHandler=this.options.errorHandler||ec,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||af,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(Tv),this.routeReuseStrategy=(0,h.f3M)(Sb),this.titleStrategy=(0,h.f3M)(oE),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,h.f3M)(Vd,{optional:!0})?.flat()??[],this.navigationTransitions=(0,h.f3M)(qp),this.urlSerializer=(0,h.f3M)(Td),this.location=(0,h.f3M)(ut),this.componentInputBindingEnabled=!!(0,h.f3M)(Np,{optional:!0}),this.eventsSubscription=new Pc.w0,this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new su,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Bm(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(aE(r)&&this._events.next(r));if(r instanceof jc)sE(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(r instanceof Ta)this.rawUrlTree=s.rawUrl;else if(r instanceof Gh){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const u=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(u,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(r instanceof Ll)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(r instanceof cu)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(s);else if(r instanceof zh){const u=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),d={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||sE(s.source)};this.scheduleNavigation(u,Yu,null,d,{resolve:s.resolve,reject:s.reject,promise:s.promise})}r instanceof $c&&this.restoreHistory(s,!0),r instanceof ca&&(this.navigated=!0),aE(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Yu,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,s){const u={replaceUrl:!0},d=s?.navigationId?s:null;if(s){const E={...s};delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(u.state=E)}const _=this.parseUrl(t);this.scheduleNavigation(_,r,d,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Sa),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:s,queryParams:u,fragment:d,queryParamsHandling:_,preserveFragment:E}=r,T=E?this.currentUrlTree.fragment:d;let L,x=null;switch(_){case"merge":x={...this.currentUrlTree.queryParams,...u};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=u||null}null!==x&&(x=this.removeEmptyProps(x));try{L=m(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),L=this.currentUrlTree.root}return y(L,t,x,T??null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=Vc(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(u,Yu,null,r)}navigate(t,r={skipLocationChange:!1}){return function xb(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new h.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?{...uf}:!1===r?{...Sv}:r,Vc(t))return Dd(this.currentUrlTree,t,s);const u=this.parseUrl(t);return Dd(this.currentUrlTree,u,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const u=t[s];return null!=u&&(r[s]=u),r},{})}scheduleNavigation(t,r,s,u,d){if(this.disposed)return Promise.resolve(!1);let _,E,T;d?(_=d.resolve,E=d.reject,T=d.promise):T=new Promise((L,Q)=>{_=L,E=Q});const x=this.pendingTasks.add();return Zp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(x))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:u,resolve:_,reject:E,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch(L=>Promise.reject(L))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){const d={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(s,"",d)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(s,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-this.browserPageId;0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function aE(n){return!(n instanceof Ll||n instanceof zh)}let Kp=(()=>{class n{constructor(t,r,s,u,d,_){this.router=t,this.route=r,this.tabIndexAttribute=s,this.renderer=u,this.el=d,this.locationStrategy=_,this.href=null,this.commands=null,this.onChanges=new Fr.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const E=d.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===E||"area"===E,this.isAnchorElement?this.subscription=t.events.subscribe(T=>{T instanceof ca&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,s,u,d){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||s||u||d||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,h.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const s=this.renderer,u=this.el.nativeElement;null!==r?s.setAttribute(u,t,r):s.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(Wi),h.Y36(Gc),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Qe))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){1&r&&h.NdJ("click",function(d){return s.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&r&&h.uIk("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",h.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",h.VuI],replaceUrl:["replaceUrl","replaceUrl",h.VuI],routerLink:"routerLink"},standalone:!0,features:[h.Xq5,h.TTD]})}return n})(),cf=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,s,u,d){this.router=t,this.element=r,this.renderer=s,this.cdr=u,this.link=d,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new h.vpe,this.routerEventsSubscription=t.events.subscribe(_=>{_ instanceof ca&&this.update()})}ngAfterContentInit(){(0,Xt.of)(this.links.changes,(0,Xt.of)(null)).pipe((0,Ml.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,$r.D)(t).pipe((0,Ml.J)()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function oy(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>!!s.urlTree&&t.isActive(s.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(Wi),h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO),h.Y36(Kp,8))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,s,u){if(1&r&&h.Suo(u,Kp,5),2&r){let d;h.iGM(d=h.CRH())&&(s.links=d)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[h.TTD]})}return n})();class uE{}let lE=(()=>{class n{constructor(t,r,s,u,d){this.router=t,this.injector=s,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(as(t=>t instanceof ca),nu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,h.MMx)(u.providers,t,`Route: ${u.path}`));const d=u._injector??t,_=u._loadedInjector??d;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&s.push(this.preloadConfig(d,u)),(u.children||u._loadedRoutes)&&s.push(this.processRoutes(_,u.children??u._loadedRoutes))}return(0,$r.D)(s).pipe((0,Ml.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let s;s=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,Xt.of)(null);const u=s.pipe((0,us.z)(d=>null===d?(0,Xt.of)(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,$r.D)([u,d]).pipe((0,Ml.J)())}return u})}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Wi),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(uE),h.LFG(sy))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const jd=new h.OlP("");let Mv=(()=>{class n{constructor(t,r,s,u,d={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=s,this.zone=u,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof jc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ca?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Ta&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Um&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Um(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){h.$Z()};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();function Co(n,e){return{\u0275kind:n,\u0275providers:e}}function Ov(){const n=(0,h.f3M)(h.zs3);return e=>{const t=n.get(h.z2F);if(e!==t.components[0])return;const r=n.get(Wi),s=n.get(Pv);1===n.get(lf)&&r.initialNavigation(),n.get(Rv,null,h.XFs.Optional)?.setUpPreloading(),n.get(jd,null,h.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const Pv=new h.OlP("",{factory:()=>new Fr.x}),lf=new h.OlP("",{providedIn:"root",factory:()=>1}),Rv=new h.OlP("");function uy(n){return Co(0,[{provide:Rv,useExisting:lE},{provide:uE,useExisting:n}])}const Hd=new h.OlP("ROUTER_FORROOT_GUARD"),kv=[ut,{provide:Td,useClass:Nl},Wi,Fl,{provide:Gc,useFactory:function Yp(n){return n.routerState.root},deps:[Wi]},sy,[]];function Lv(){return new h.PXZ("Router",Wi)}let Jp=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[kv,[],{provide:Vd,multi:!0,useValue:t},{provide:Hd,useFactory:Uv,deps:[[Wi,new h.FiY,new h.tp0]]},{provide:Wp,useValue:r||{}},r?.useHash?{provide:Qe,useClass:Be}:{provide:Qe,useClass:ht},{provide:jd,useFactory:()=>{const n=(0,h.f3M)(Gi),e=(0,h.f3M)(h.R0b),t=(0,h.f3M)(Wp),r=(0,h.f3M)(qp),s=(0,h.f3M)(Td);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Mv(s,r,n,e,t)}},r?.preloadingStrategy?uy(r.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:Lv},r?.initialNavigation?bo(r):[],r?.bindToComponentInputs?Co(8,[tv,{provide:Np,useExisting:tv}]).\u0275providers:[],[{provide:pE,useFactory:Ov},{provide:h.tb,multi:!0,useExisting:pE}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Vd,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Hd,8))};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({})}return n})();function Uv(n){return"guarded"}function bo(n){return["disabled"===n.initialNavigation?Co(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(Wi);return()=>{e.setUpLocationChangeListener()}}},{provide:lf,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Co(2,[{provide:lf,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const t=e.get(He,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const s=e.get(Wi),u=e.get(Pv);Zp(s,()=>{r(!0)}),e.get(qp).afterPreactivation=()=>(r(!0),u.closed?(0,Xt.of)(void 0):u),s.initialNavigation()}))}}]).\u0275providers:[]]}const pE=new h.OlP("");var Se=N(5861),ff=N(6321),mE=N(671);var Wc=N(6990),Ai=N(4556);function Ma(){return(0,os.e)((n,e)=>{let t,r=!1;n.subscribe((0,Gr.x)(e,s=>{const u=t;t=s,r&&e.next([u,s]),r=!0}))})}var Ot,Vv=N(3997),Ni=N(6304),Si=(N(8661),N(3399)),pf=N(7592),eg=N(4537),pu=N(7879),br=N(9058),yE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},la={},hy=hy||{},Tn=yE||self;function zd(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function gf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var mf="closure_uid_"+(1e9*Math.random()>>>0),Ws=0;function qd(n,e,t){return n.call.apply(n.bind,arguments)}function fy(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function Is(n,e,t){return(Is=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qd:fy).apply(null,arguments)}function tc(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Zi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,s,u){for(var d=Array(arguments.length-2),_=2;_<arguments.length;_++)d[_-2]=arguments[_];return e.prototype[s].apply(r,d)}}function gu(){this.s=this.s,this.o=this.o}gu.prototype.s=!1,gu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function _E(n){Object.prototype.hasOwnProperty.call(n,mf)&&n[mf]||(n[mf]=++Ws)}(this)},gu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ho=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function An(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function yf(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(zd(r)){const s=n.length||0,u=r.length||0;n.length=s+u;for(let d=0;d<u;d++)n[s+d]=r[d]}else n.push(r)}}function Ur(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ur.prototype.h=function(){this.defaultPrevented=!0};var _f=function(){if(!Tn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Tn.addEventListener("test",()=>{},e),Tn.removeEventListener("test",()=>{},e)}catch{}return n}();function tg(n){return/^[\s\xa0]*$/.test(n)}function pr(){var n=Tn.navigator;return n&&(n=n.userAgent)?n:""}function To(n){return-1!=pr().indexOf(n)}function ng(n){return ng[" "](n),n}ng[" "]=function(){};var py,n,vE=To("Opera"),Zd=To("Trident")||To("MSIE"),rg=To("Edge"),ig=rg||Zd,Bv=To("Gecko")&&!(-1!=pr().toLowerCase().indexOf("webkit")&&!To("Edge"))&&!(To("Trident")||To("MSIE"))&&!To("Edge"),wE=-1!=pr().toLowerCase().indexOf("webkit")&&!To("Edge");function EE(){var n=Tn.document;return n?n.documentMode:void 0}e:{var Kd="",wf=(n=pr(),Bv?/rv:([^\);]+)(\)|;)/.exec(n):rg?/Edge\/([\d\.]+)/.exec(n):Zd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):wE?/WebKit\/(\S+)/.exec(n):vE?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(wf&&(Kd=wf?wf[1]:""),Zd){var gy=EE();if(null!=gy&&gy>parseFloat(Kd)){py=String(gy);break e}}py=Kd}var Yd=Tn.document&&Zd&&(EE()||parseInt(py,10))||void 0;function Ef(n,e){if(Ur.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Bv){e:{try{ng(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ag[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ef.$.h.call(this)}}Zi(Ef,Ur);var ag={2:"touch",3:"pen",4:"mouse"};Ef.prototype.h=function(){Ef.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var If="closure_listenable_"+(1e6*Math.random()|0),jv=0;function Rb(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=s,this.key=++jv,this.fa=this.ia=!1}function ki(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function ls(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Gl(n){const e={};for(const t in n)e[t]=n[t];return e}const Qd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function my(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let u=0;u<Qd.length;u++)t=Qd[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Cf(n){this.src=n,this.g={},this.h=0}function yy(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],s=Ho(r,e);(u=0<=s)&&Array.prototype.splice.call(r,s,1),u&&(ki(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function _y(n,e,t,r){for(var s=0;s<n.length;++s){var u=n[s];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return s}return-1}Cf.prototype.add=function(n,e,t,r,s){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=_y(n,e,r,s);return-1<d?(e=n[d],t||(e.ia=!1)):((e=new Rb(e,this.src,u,!!r,s)).ia=t,n.push(e)),e};var ug="closure_lm_"+(1e6*Math.random()|0),cg={};function vy(n,e,t,r,s){if(r&&r.once)return bf(n,e,t,r,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)vy(n,e[u],t,r,s);return null}return t=Iy(t),n&&n[If]?n.O(e,t,gf(r)?!!r.capture:!!r,s):lg(n,e,t,!1,r,s)}function lg(n,e,t,r,s,u){if(!e)throw Error("Invalid event type");var d=gf(s)?!!s.capture:!!s,_=Zc(n);if(_||(n[ug]=_=new Cf(n)),(t=_.add(e,t,r,d,u)).proxy)return t;if(r=function CE(){const e=Hv;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)_f||(s=d),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent($v(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function bf(n,e,t,r,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)bf(n,e[u],t,r,s);return null}return t=Iy(t),n&&n[If]?n.P(e,t,gf(r)?!!r.capture:!!r,s):lg(n,e,t,!0,r,s)}function wy(n,e,t,r,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)wy(n,e[u],t,r,s);else r=gf(r)?!!r.capture:!!r,t=Iy(t),n&&n[If]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=_y(u=n.g[e],t,r,s))&&(ki(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Zc(n))&&(e=n.g[e.toString()],n=-1,e&&(n=_y(e,t,r,s)),(t=-1<n?e[n]:null)&&Ey(t))}function Ey(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[If])yy(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent($v(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Zc(e))?(yy(t,n),0==t.h&&(t.src=null,e[ug]=null)):ki(n)}}}function $v(n){return n in cg?cg[n]:cg[n]="on"+n}function Hv(n,e){if(n.fa)n=!0;else{e=new Ef(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Ey(n),n=t.call(r,e)}return n}function Zc(n){return(n=n[ug])instanceof Cf?n:null}var dg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Iy(n){return"function"==typeof n?n:(n[dg]||(n[dg]=function(e){return n.handleEvent(e)}),n[dg])}function Cs(){gu.call(this),this.i=new Cf(this),this.S=this,this.J=null}function Zs(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Ur(e,n);else if(e instanceof Ur)e.target=e.target||n;else{var s=e;my(e=new Ur(r,n),s)}if(s=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];s=Df(d,r,!0,e)&&s}if(s=Df(d=e.g=n,r,!0,e)&&s,s=Df(d,r,!1,e)&&s,t)for(u=0;u<t.length;u++)s=Df(d=e.g=t[u],r,!1,e)&&s}function Df(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.fa&&d.capture==t){var _=d.listener,E=d.la||d.src;d.ia&&yy(n.i,d),s=!1!==_.call(E,r)&&s}}return s&&!r.defaultPrevented}Zi(Cs,gu),Cs.prototype[If]=!0,Cs.prototype.removeEventListener=function(n,e,t,r){wy(this,n,e,t,r)},Cs.prototype.N=function(){if(Cs.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)ki(t[r]);delete n.g[e],n.h--}}this.J=null},Cs.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Cs.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Tf=Tn.JSON.stringify;function Gv(){var n=Sf;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var hg=new class da{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Kc,n=>n.reset());class Kc{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Cy(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function bE(n){Tn.setTimeout(()=>{throw n},0)}let fg,Af=!1,Sf=new class Nb{constructor(){this.h=this.g=null}add(e,t){const r=hg.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},xa=()=>{const n=Tn.Promise.resolve(void 0);fg=()=>{n.then(zv)}};var zv=()=>{for(var n;n=Gv();){try{n.h.call(n.g)}catch(t){bE(t)}var e=hg;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Af=!1};function pg(n,e){Cs.call(this),this.h=n||1,this.g=e||Tn,this.j=Is(this.qb,this),this.l=Date.now()}function qv(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Ki(n,e,t){if("function"==typeof n)t&&(n=Is(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Is(n.handleEvent,n)}return 2147483647<Number(e)?-1:Tn.setTimeout(n,e||0)}function Wv(n){n.g=Ki(()=>{n.g=null,n.i&&(n.i=!1,Wv(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Zi(pg,Cs),(Ot=pg.prototype).ga=!1,Ot.T=null,Ot.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Zs(this,"tick"),this.ga&&(qv(this),this.start()))}},Ot.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ot.N=function(){pg.$.N.call(this),qv(this),delete this.g};class by extends gu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Wv(this)}N(){super.N(),this.g&&(Tn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mf(n){gu.call(this),this.h=n,this.g={}}Zi(Mf,gu);var Zv=[];function gg(n,e,t,r){Array.isArray(t)||(t&&(Zv[0]=t.toString()),t=Zv);for(var s=0;s<t.length;s++){var u=vy(e,t[s],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function Dy(n){ls(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ey(e)},n),n.g={}}function xf(){this.g=!0}function zl(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ty(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<s.length;d++)s[d]=""}}}return Tf(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Mf.prototype.N=function(){Mf.$.N.call(this),Dy(this)},Mf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xf.prototype.Ea=function(){this.g=!1},xf.prototype.info=function(){};var Yc={},mg=null;function nc(){return mg=mg||new Cs}function mu(n){Ur.call(this,Yc.Ta,n)}function yu(n){const e=nc();Zs(e,new mu(e))}function yg(n,e){Ur.call(this,Yc.STAT_EVENT,n),this.stat=e}function so(n){const e=nc();Zs(e,new yg(e,n))}function Ay(n,e){Ur.call(this,Yc.Ua,n),this.size=e}function Jd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Tn.setTimeout(function(){n()},e)}Yc.Ta="serverreachability",Zi(mu,Ur),Yc.STAT_EVENT="statevent",Zi(yg,Ur),Yc.Ua="timingevent",Zi(Ay,Ur);var ds={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Qc={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Xd(){}function My(){}Xd.prototype.h=null;var Rf,Of={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Pf(){Ur.call(this,"d")}function xy(){Ur.call(this,"c")}function Nf(){}function _g(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Mf(this),this.P=kb,this.V=new pg(n=ig?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Yv}function Yv(){this.i=null,this.g="",this.h=!1}Zi(Pf,Ur),Zi(xy,Ur),Zi(Nf,Xd),Nf.prototype.g=function(){return new XMLHttpRequest},Nf.prototype.i=function(){return{}},Rf=new Nf;var kb=45e3,Oy={},kf={};function vg(n,e,t){n.L=1,n.v=rh(Oa(e)),n.s=t,n.S=!0,AE(n,null)}function AE(n,e){n.G=Date.now(),eh(n),n.A=Oa(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),et(t.i,"t",r),n.C=0,t=n.l.J,n.h=new Yv,n.g=jb(n.l,t?e:null,!n.s),0<n.O&&(n.M=new by(Is(n.Pa,n,n.g),n.O)),gg(n.U,n.g,"readystatechange",n.nb),e=n.I?Gl(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),yu(),function DE(n,e,t,r,s,u){n.info(function(){if(n.g)if(u)for(var d="",_=u.split("&"),E=0;E<_.length;E++){var T=_[E].split("=");if(1<T.length){var x=T[0];T=T[1];var L=x.split("_");d=2<=L.length&&"type"==L[1]?d+(x+"=")+T+"&":d+(x+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.W,n.s)}function ql(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Py(n,e,t){let s,r=!0;for(;!n.J&&n.C<t.length;){if(s=Qv(n,t),s==kf){4==e&&(n.o=4,so(14),r=!1),zl(n.j,n.m,null,"[Incomplete Response]");break}if(s==Oy){n.o=4,so(15),zl(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}zl(n.j,n.m,s,null),wg(n,s)}ql(n)&&s!=kf&&s!=Oy&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,so(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),VE(e),e.M=!0,so(11))):(zl(n.j,n.m,t,"[Invalid Chunked Response]"),_n(n),th(n))}function Qv(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?kf:(t=Number(e.substring(t,r)),isNaN(t)?Oy:(r+=1)+t>e.length?kf:(e=e.slice(r,r+t),n.C=r+t,e))}function eh(n){n.Y=Date.now()+n.P,Jv(n,n.P)}function Jv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Jd(Is(n.lb,n),e)}function Lf(n){n.B&&(Tn.clearTimeout(n.B),n.B=null)}function th(n){0==n.l.H||n.J||bg(n.l,n)}function _n(n){Lf(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,qv(n.V),Dy(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function wg(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||dr(t.i,n)))if(!n.K&&dr(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;jy(t),Vf(t)}UE(t),so(18)}}else t.Fa=s[1],0<t.Fa-t.V&&37500>s[2]&&t.G&&0==t.A&&!t.v&&(t.v=Jd(Is(t.ib,t),6e3));if(1>=or(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else sh(t,11)}else if((n.K||t.g==n)&&jy(t),!tg(e))for(s=t.Ja.g.parse(e),e=0;e<s.length;e++){let T=s[e];if(t.V=T[0],T=T[1],2==t.H)if("c"==T[0]){t.K=T[1],t.pa=T[2];const x=T[3];null!=x&&(t.ra=x,t.l.info("VER="+t.ra));const L=T[4];null!=L&&(t.Ga=L,t.l.info("SVER="+t.Ga));const Q=T[5];null!=Q&&"number"==typeof Q&&0<Q&&(t.L=r=1.5*Q,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const ue=n.g;if(ue){const Le=ue.g?ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Le){var u=r.i;u.g||-1==Le.indexOf("spdy")&&-1==Le.indexOf("quic")&&-1==Le.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(oo(u,u.h),u.h=null))}if(r.F){const Ye=ue.g?ue.g.getResponseHeader("X-HTTP-Session-Id"):null;Ye&&(r.Da=Ye,Jr(r.I,r.F,Ye))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var d=n;if((r=t).wa=Bb(r,r.J?r.pa:null,r.Y),d.K){Ks(r.i,d);var _=d,E=r.L;E&&_.setTimeout(E),_.B&&(Lf(_),eh(_)),r.g=d}else FE(r);0<t.j.length&&Vy(t)}else"stop"!=T[0]&&"close"!=T[0]||sh(t,7);else 3==t.H&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?sh(t,7):kE(t):"noop"!=T[0]&&t.h&&t.h.Aa(T),t.A=0)}yu()}catch{}}function Ry(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(zd(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function nh(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(zd(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Xv(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(zd(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length,u=0;u<s;u++)e.call(void 0,r[u],t&&t[u],n)}(Ot=_g.prototype).setTimeout=function(n){this.P=n},Ot.nb=function(n){n=n.target;const e=this.M;e&&3==_u(n)?e.l():this.Pa(n)},Ot.Pa=function(n){try{if(n==this.g)e:{const x=_u(this.g);var e=this.g.Ia();if(this.g.da(),!(3>x)&&(3!=x||ig||this.g&&(this.h.h||this.g.ja()||Xc(this.g)))){this.J||4!=x||7==e||yu(),Lf(this);var t=this.g.da();this.ca=t;t:if(ql(this)){var r=Xc(this.g);n="";var s=r.length,u=4==_u(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){_n(this),th(this);var d="";break t}this.h.i=new Tn.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ja();if(this.i=200==t,function Kv(n,e,t,r,s,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.W,x,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var _,E=this.g;if((_=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tg(_)){var T=_;break t}}T=null}if(!(t=T)){this.i=!1,this.o=3,so(12),_n(this),th(this);break e}zl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wg(this,t)}this.S?(Py(this,x,d),ig&&this.i&&3==x&&(gg(this.U,this.V,"tick",this.mb),this.V.start())):(zl(this.j,this.m,d,null),wg(this,d)),4==x&&_n(this),this.i&&!this.J&&(4==x?bg(this.l,this):(this.i=!1,eh(this)))}else(function sA(n){const e={};n=(n.g&&2<=_u(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(tg(n[r]))continue;var t=Cy(n[r]);const s=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[s]||[];e[s]=u,u.push(t)}!function IE(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<d.indexOf("Unknown SID")?(this.o=3,so(12)):(this.o=0,so(13)),_n(this),th(this)}}}catch{}},Ot.mb=function(){if(this.g){var n=_u(this.g),e=this.g.ja();this.C<e.length&&(Lf(this),Py(this,n,e),this.i&&4!=n&&eh(this))}},Ot.cancel=function(){this.J=!0,_n(this)},Ot.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function TE(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(yu(),so(17)),_n(this),this.o=2,th(this)):Jv(this,this.Y-n)};var e0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ha(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ha){this.h=n.h,Jc(this,n.j),this.s=n.s,this.g=n.g,Ff(this,n.m),this.l=n.l;var e=n.i,t=new ee;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ig(this,t),this.o=n.o}else n&&(e=String(n).match(e0))?(this.h=!1,Jc(this,e[1]||"",!0),this.s=ih(e[2]||""),this.g=ih(e[3]||"",!0),Ff(this,e[4]),this.l=ih(e[5]||"",!0),Ig(this,e[6]||"",!0),this.o=ih(e[7]||"")):(this.h=!1,this.i=new ee(null,this.h))}function Oa(n){return new ha(n)}function Jc(n,e,t){n.j=t?ih(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ff(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Ig(n,e,t){e instanceof ee?(n.i=e,function _t(n,e){e&&!n.j&&(ne(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(pe(this,r),et(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Wl(e,P)),n.i=new ee(e,n.h))}function Jr(n,e,t){n.i.set(e,t)}function rh(n){return Jr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ih(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Wl(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,l),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function l(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ha.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Wl(e,p,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Wl(e,p,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Wl(t,"/"==t.charAt(0)?A:w,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Wl(t,$)),n.join("")};var p=/[#\/\?@]/g,w=/[#\?:]/g,A=/[#\?]/g,P=/[#\?@]/g,$=/#/g;function ee(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ne(n){n.g||(n.g=new Map,n.h=0,n.i&&function Eg(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var u=n[t].substring(0,r);s=n[t].substring(r+1)}else u=n[t];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function pe(n,e){ne(n),e=at(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Je(n,e){return ne(n),e=at(n,e),n.g.has(e)}function et(n,e,t){pe(n,e),0<t.length&&(n.i=null,n.g.set(at(n,e),An(t)),n.h+=t.length)}function at(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function pn(n){this.l=n||sr,n=Tn.PerformanceNavigationTiming?0<(n=Tn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Tn.g&&Tn.g.Ka&&Tn.g.Ka()&&Tn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ot=ee.prototype).add=function(n,e){ne(this),this.i=null,n=at(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ot.forEach=function(n,e){ne(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)},Ot.ta=function(){ne(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let u=0;u<s.length;u++)t.push(e[r])}return t},Ot.Z=function(n){ne(this);let e=[];if("string"==typeof n)Je(this,n)&&(e=e.concat(this.g.get(at(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Ot.set=function(n,e){return ne(this),this.i=null,Je(this,n=at(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ot.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Ot.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),d=this.Z(r);for(r=0;r<d.length;r++){var s=u;""!==d[r]&&(s+="="+encodeURIComponent(String(d[r]))),n.push(s)}}return this.i=n.join("&")};var sr=10;function un(n){return!!n.h||!!n.g&&n.g.size>=n.j}function or(n){return n.h?1:n.g?n.g.size:0}function dr(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function oo(n,e){n.g?n.g.add(e):n.h=e}function Ks(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function ao(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return An(n.i)}pn.prototype.cancel=function(){if(this.i=ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Li=class{stringify(n){return Tn.JSON.stringify(n,void 0)}parse(n){return Tn.JSON.parse(n,void 0)}};function Pa(){this.g=new Li}function Ra(n,e,t){const r=t||"";try{Ry(n,function(s,u){let d=s;gf(s)&&(d=Tf(s)),e.push(r+u+"="+encodeURIComponent(d))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function n0(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Ny(n){this.l=n.fc||null,this.j=n.ob||!1}function r0(n,e){Cs.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=SE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zi(Ny,Xd),Ny.prototype.g=function(){return new r0(this.l,this.j)},Ny.prototype.i=function(n){return function(){return n}}({}),Zi(r0,Cs);var SE=0;function rc(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Uf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ky(n)}function ky(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ot=r0.prototype).open=function(n,e){if(this.readyState!=SE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ky(this)},Ot.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Tn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ot.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Uf(this)),this.readyState=SE},Ot.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ky(this)),this.g&&(this.readyState=3,ky(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Tn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rc(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Ot.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Uf(this):ky(this),3==this.readyState&&rc(this)}},Ot.Za=function(n){this.g&&(this.response=this.responseText=n,Uf(this))},Ot.Ya=function(n){this.g&&(this.response=n,Uf(this))},Ot.ka=function(){this.g&&Uf(this)},Ot.setRequestHeader=function(n,e){this.v.append(n,e)},Ot.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ot.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(r0.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Lb=Tn.JSON.parse;function Yi(n){Cs.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ME,this.L=this.M=!1}Zi(Yi,Cs);var ME="",Fb=/^https?$/i,s0=["POST","PUT"];function iA(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,OE(n),Ly(n)}function OE(n){n.F||(n.F=!0,Zs(n,"complete"),Zs(n,"error"))}function PE(n){if(n.h&&typeof hy<"u"&&(!n.C[1]||4!=_u(n)||2!=n.da()))if(n.v&&4==_u(n))Ki(n.La,0,n);else if(Zs(n,"readystatechange"),4==_u(n)){n.h=!1;try{const d=n.da();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===d){var s=String(n.I).match(e0)[1]||null;!s&&Tn.self&&Tn.self.location&&(s=Tn.self.location.protocol.slice(0,-1)),r=!Fb.test(s?s.toLowerCase():"")}t=r}if(t)Zs(n,"complete"),Zs(n,"success");else{n.m=6;try{var u=2<_u(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",OE(n)}}finally{Ly(n)}}}function Ly(n,e){if(n.g){RE(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Zs(n,"ready");try{t.onreadystatechange=r}catch{}}}function RE(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Tn.clearTimeout(n.A),n.A=null)}function _u(n){return n.g?n.g.readyState:0}function Xc(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case ME:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Ub(n){let e="";return ls(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Fy(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Ub(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Jr(n,e,t))}function Uy(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function NE(n){this.Ga=0,this.j=[],this.l=new xf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Uy("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Uy("baseRetryDelayMs",5e3,n),this.hb=Uy("retryDelaySeedMs",1e4,n),this.eb=Uy("forwardChannelMaxRetries",2,n),this.xa=Uy("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new pn(n&&n.concurrentRequestLimit),this.Ja=new Pa,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function kE(n){if(Cg(n),3==n.H){var e=n.W++,t=Oa(n.I);if(Jr(t,"SID",n.K),Jr(t,"RID",e),Jr(t,"TYPE","terminate"),By(n,t),(e=new _g(n,n.l,e)).L=2,e.v=rh(Oa(t)),t=!1,Tn.navigator&&Tn.navigator.sendBeacon)try{t=Tn.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Tn.Image&&((new Image).src=e.v,t=!0),t||(e.g=jb(e.l,null),e.g.ha(e.v)),e.G=Date.now(),eh(e)}jE(n)}function Vf(n){n.g&&(VE(n),n.g.cancel(),n.g=null)}function Cg(n){Vf(n),n.u&&(Tn.clearTimeout(n.u),n.u=null),jy(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Tn.clearTimeout(n.m),n.m=null)}function Vy(n){if(!un(n.i)&&!n.m){n.m=!0;var e=n.Na;fg||xa(),Af||(fg(),Af=!0),Sf.add(e,n),n.C=0}}function oA(n,e){var t;t=e?e.m:n.W++;const r=Oa(n.I);Jr(r,"SID",n.K),Jr(r,"RID",t),Jr(r,"AID",n.V),By(n,r),n.o&&n.s&&Fy(r,n.o,n.s),t=new _g(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=LE(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),oo(n.i,t),vg(t,r,e)}function By(n,e){n.na&&ls(n.na,function(t,r){Jr(e,r,t)}),n.h&&Ry({},function(t,r){Jr(e,r,t)})}function LE(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Is(n.h.Va,n.h,n):null;e:{var s=n.j;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=s[0].g,d.push("ofs="+u)):u=0:d.push("ofs="+u);let _=!0;for(let E=0;E<t;E++){let T=s[E].g;const x=s[E].map;if(T-=u,0>T)u=Math.max(0,s[E].g-100),_=!1;else try{Ra(x,d,"req"+T+"_")}catch{r&&r(x)}}if(_){r=d.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function FE(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;fg||xa(),Af||(fg(),Af=!0),Sf.add(e,n),n.A=0}}function UE(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Jd(Is(n.Ma,n),Vb(n,n.A)),n.A++,0))}function VE(n){null!=n.B&&(Tn.clearTimeout(n.B),n.B=null)}function BE(n){n.g=new _g(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Oa(n.wa);Jr(e,"RID","rpc"),Jr(e,"SID",n.K),Jr(e,"AID",n.V),Jr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Jr(e,"TO",n.qa),Jr(e,"TYPE","xmlhttp"),By(n,e),n.o&&n.s&&Fy(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=rh(Oa(e)),t.s=null,t.S=!0,AE(t,n)}function jy(n){null!=n.v&&(Tn.clearTimeout(n.v),n.v=null)}function bg(n,e){var t=null;if(n.g==e){jy(n),VE(n),n.g=null;var r=2}else{if(!dr(n.i,e))return;t=e.F,Ks(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var s=n.C;Zs(r=nc(),new Ay(r,t)),Vy(n)}else FE(n);else if(3==(s=e.o)||0==s&&0<e.ca||!(1==r&&function o0(n,e){return!(or(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Jd(Is(n.Na,n,e),Vb(n,n.C)),n.C++,0)))}(n,e)||2==r&&UE(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:sh(n,5);break;case 4:sh(n,10);break;case 3:sh(n,6);break;default:sh(n,2)}}function Vb(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function sh(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Is(n.pb,n);t||(t=new ha("//www.google.com/images/cleardot.gif"),Tn.location&&"http"==Tn.location.protocol||Jc(t,"https"),rh(t)),function t0(n,e){const t=new xf;if(Tn.Image){const r=new Image;r.onload=tc(n0,t,r,"TestLoadImage: loaded",!0,e),r.onerror=tc(n0,t,r,"TestLoadImage: error",!1,e),r.onabort=tc(n0,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=tc(n0,t,r,"TestLoadImage: timeout",!1,e),Tn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else so(2);n.H=0,n.h&&n.h.za(e),jE(n),Cg(n)}function jE(n){if(n.H=0,n.ma=[],n.h){const e=ao(n.i);(0!=e.length||0!=n.j.length)&&(yf(n.ma,e),yf(n.ma,n.j),n.i.i.length=0,An(n.j),n.j.length=0),n.h.ya()}}function Bb(n,e,t){var r=t instanceof ha?Oa(t):new ha(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Ff(r,r.m);else{var s=Tn.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var u=new ha(null);r&&Jc(u,r),e&&(u.g=e),s&&Ff(u,s),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&Jr(r,t,e),Jr(r,"VER",n.ra),By(n,r),r}function jb(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Yi(t&&n.Ha&&!n.va?new Ny({ob:!0}):n.va)).Oa(n.J),e}function Dg(){}function a0(){if(Zd&&!(10<=Number(Yd)))throw Error("Environmental error: no available transport.")}function Na(n,e){Cs.call(this),this.g=new NE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!tg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!tg(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Tg(this)}function $b(n){Pf.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Hb(){xy.call(this),this.status=1}function Tg(n){this.g=n}function ic(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function $E(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)r[s]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(s=0;16>s;++s)r[s]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],d=(e=n.g[0])+(u^(t=n.g[1])&((s=n.g[2])^u))+r[0]+3614090360&4294967295;d=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=t+(d<<7&4294967295|d>>>25))+((d=u+(s^e&(t^s))+r[1]+3905402710&4294967295)<<12&4294967295|d>>>20))+((d=s+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^s&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|d>>>10))+((d=e+(u^t&(s^u))+r[4]+4118548399&4294967295)<<7&4294967295|d>>>25))+((d=u+(s^e&(t^s))+r[5]+1200080426&4294967295)<<12&4294967295|d>>>20))+((d=s+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^s&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|d>>>10))+((d=e+(u^t&(s^u))+r[8]+1770035416&4294967295)<<7&4294967295|d>>>25))+((d=u+(s^e&(t^s))+r[9]+2336552879&4294967295)<<12&4294967295|d>>>20))+((d=s+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^s&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|d>>>10))+((d=e+(u^t&(s^u))+r[12]+1804603682&4294967295)<<7&4294967295|d>>>25))+((d=u+(s^e&(t^s))+r[13]+4254626195&4294967295)<<12&4294967295|d>>>20))+((d=s+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^s&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|d>>>10))+((d=e+(s^u&(t^s))+r[1]+4129170786&4294967295)<<5&4294967295|d>>>27))+((d=u+(t^s&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|d>>>23))+((d=s+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|d>>>18))+((d=t+(u^e&(s^u))+r[0]+3921069994&4294967295)<<20&4294967295|d>>>12))+((d=e+(s^u&(t^s))+r[5]+3593408605&4294967295)<<5&4294967295|d>>>27))+((d=u+(t^s&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|d>>>23))+((d=s+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|d>>>18))+((d=t+(u^e&(s^u))+r[4]+3889429448&4294967295)<<20&4294967295|d>>>12))+((d=e+(s^u&(t^s))+r[9]+568446438&4294967295)<<5&4294967295|d>>>27))+((d=u+(t^s&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|d>>>23))+((d=s+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|d>>>18))+((d=t+(u^e&(s^u))+r[8]+1163531501&4294967295)<<20&4294967295|d>>>12))+((d=e+(s^u&(t^s))+r[13]+2850285829&4294967295)<<5&4294967295|d>>>27))+((d=u+(t^s&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|d>>>23))+((d=s+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|d>>>18))+((d=t+(u^e&(s^u))+r[12]+2368359562&4294967295)<<20&4294967295|d>>>12))+((d=e+(t^s^u)+r[5]+4294588738&4294967295)<<4&4294967295|d>>>28))+((d=u+(e^t^s)+r[8]+2272392833&4294967295)<<11&4294967295|d>>>21))+((d=s+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|d>>>16))+((d=t+(s^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^s^u)+r[1]+2763975236&4294967295)<<4&4294967295|d>>>28))+((d=u+(e^t^s)+r[4]+1272893353&4294967295)<<11&4294967295|d>>>21))+((d=s+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|d>>>16))+((d=t+(s^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^s^u)+r[13]+681279174&4294967295)<<4&4294967295|d>>>28))+((d=u+(e^t^s)+r[0]+3936430074&4294967295)<<11&4294967295|d>>>21))+((d=s+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|d>>>16))+((d=t+(s^u^e)+r[6]+76029189&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^s^u)+r[9]+3654602809&4294967295)<<4&4294967295|d>>>28))+((d=u+(e^t^s)+r[12]+3873151461&4294967295)<<11&4294967295|d>>>21))+((d=s+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|d>>>16))+((d=t+(s^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|d>>>9))+((d=e+(s^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|d>>>26))+((d=u+(t^(e|~s))+r[7]+1126891415&4294967295)<<10&4294967295|d>>>22))+((d=s+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|d>>>17))+((d=t+(u^(s|~e))+r[5]+4237533241&4294967295)<<21&4294967295|d>>>11))+((d=e+(s^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|d>>>26))+((d=u+(t^(e|~s))+r[3]+2399980690&4294967295)<<10&4294967295|d>>>22))+((d=s+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|d>>>17))+((d=t+(u^(s|~e))+r[1]+2240044497&4294967295)<<21&4294967295|d>>>11))+((d=e+(s^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|d>>>26))+((d=u+(t^(e|~s))+r[15]+4264355552&4294967295)<<10&4294967295|d>>>22))+((d=s+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|d>>>17))+((d=t+(u^(s|~e))+r[13]+1309151649&4294967295)<<21&4294967295|d>>>11))+((u=(e=t+((d=e+(s^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|d>>>26))+((d=u+(t^(e|~s))+r[11]+3174756917&4294967295)<<10&4294967295|d>>>22))^((s=u+((d=s+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|d>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(s+(d<<21&4294967295|d>>>11))&4294967295,n.g[2]=n.g[2]+s&4294967295,n.g[3]=n.g[3]+u&4294967295}function zr(n,e){this.h=e;for(var t=[],r=!0,s=n.length-1;0<=s;s--){var u=0|n[s];r&&u==e||(t[s]=u,r=!1)}this.g=t}(Ot=Yi.prototype).Oa=function(n){this.M=n},Ot.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Rf.g(),this.C=function Sy(n){return n.h||(n.h=n.i())}(this.u?this.u:Rf),this.g.onreadystatechange=Is(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void iA(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),s=Tn.FormData&&n instanceof Tn.FormData,!(0<=Ho(s0,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,d]of t)this.g.setRequestHeader(u,d);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{RE(this),0<this.B&&((this.L=function xE(n){return Zd&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Is(this.ua,this)):this.A=Ki(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){iA(this,u)}},Ot.ua=function(){typeof hy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zs(this,"timeout"),this.abort(8))},Ot.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Zs(this,"complete"),Zs(this,"abort"),Ly(this))},Ot.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ly(this,!0)),Yi.$.N.call(this)},Ot.La=function(){this.s||(this.G||this.v||this.l?PE(this):this.kb())},Ot.kb=function(){PE(this)},Ot.isActive=function(){return!!this.g},Ot.da=function(){try{return 2<_u(this)?this.g.status:-1}catch{return-1}},Ot.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ot.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Lb(e)}},Ot.Ia=function(){return this.m},Ot.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ot=NE.prototype).ra=8,Ot.H=1,Ot.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const s=new _g(this,this.l,n);let u=this.s;if(this.U&&(u?(u=Gl(u),my(u,this.U)):u=this.U),null!==this.o||this.O||(s.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=LE(this,s,e),Jr(t=Oa(this.I),"RID",n),Jr(t,"CVER",22),this.F&&Jr(t,"X-HTTP-Session-Id",this.F),By(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(Ub(u)))+"&"+e:this.o&&Fy(t,this.o,u)),oo(this.i,s),this.bb&&Jr(t,"TYPE","init"),this.P?(Jr(t,"$req",e),Jr(t,"SID","null"),s.aa=!0,vg(s,t,null)):vg(s,t,e),this.H=2}}else 3==this.H&&(n?oA(this,n):0==this.j.length||un(this.i)||oA(this))},Ot.Ma=function(){if(this.u=null,BE(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Jd(Is(this.jb,this),n)}},Ot.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,so(10),Vf(this),BE(this))},Ot.ib=function(){null!=this.v&&(this.v=null,Vf(this),UE(this),so(19))},Ot.pb=function(n){n?(this.l.info("Successfully pinged google.com"),so(2)):(this.l.info("Failed to ping google.com"),so(1))},Ot.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ot=Dg.prototype).Ba=function(){},Ot.Aa=function(){},Ot.za=function(){},Ot.ya=function(){},Ot.isActive=function(){return!0},Ot.Va=function(){},a0.prototype.g=function(n,e){return new Na(n,e)},Zi(Na,Cs),Na.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;so(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Bb(n,null,n.Y),Vy(n)},Na.prototype.close=function(){kE(this.g)},Na.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Tf(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Vy(e)},Na.prototype.N=function(){this.g.h=null,delete this.j,kE(this.g),delete this.g,Na.$.N.call(this)},Zi($b,Pf),Zi(Hb,xy),Zi(Tg,Dg),Tg.prototype.Ba=function(){Zs(this.g,"a")},Tg.prototype.Aa=function(n){Zs(this.g,new $b(n))},Tg.prototype.za=function(n){Zs(this.g,new Hb)},Tg.prototype.ya=function(){Zs(this.g,"b")},Zi(ic,function aA(){this.blockSize=-1}),ic.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ic.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,s=this.h,u=0;u<e;){if(0==s)for(;u<=t;)$E(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[s++]=n.charCodeAt(u++),s==this.blockSize){$E(this,r),s=0;break}}else for(;u<e;)if(r[s++]=n[u++],s==this.blockSize){$E(this,r),s=0;break}}this.h=s,this.i+=e},ic.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var HE={};function GE(n){return-128<=n&&128>n?function vf(n,e){var t=HE;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new zr([0|e],0>e?-1:0)}):new zr([0|n],0>n?-1:0)}function ka(n){if(isNaN(n)||!isFinite(n))return Ag;if(0>n)return Ys(ka(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=zE;return new zr(e,0)}var zE=4294967296,Ag=GE(0),qE=GE(1),zb=GE(16777216);function Zl(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function vu(n){return-1==n.h}function Ys(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new zr(t,~n.h).add(qE)}function $y(n,e){return n.add(Ys(e))}function u0(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function c0(n,e){this.g=n,this.h=e}function Hy(n,e){if(Zl(e))throw Error("division by zero");if(Zl(n))return new c0(Ag,Ag);if(vu(n))return e=Hy(Ys(n),e),new c0(Ys(e.g),Ys(e.h));if(vu(e))return e=Hy(n,Ys(e)),new c0(Ys(e.g),e.h);if(30<n.g.length){if(vu(n)||vu(e))throw Error("slowDivide_ only works with positive integers.");for(var t=qE,r=e;0>=r.X(n);)t=WE(t),r=WE(r);var s=Gy(t,1),u=Gy(r,1);for(r=Gy(r,2),t=Gy(t,2);!Zl(r);){var d=u.add(r);0>=d.X(n)&&(s=s.add(t),u=d),r=Gy(r,1),t=Gy(t,1)}return e=$y(n,s.R(e)),new c0(s,e)}for(s=Ag;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),d=(u=ka(t)).R(e);vu(d)||0<d.X(n);)d=(u=ka(t-=r)).R(e);Zl(u)&&(u=qE),s=s.add(u),n=$y(n,d)}return new c0(s,n)}function WE(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new zr(t,n.h)}function Gy(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,s=[],u=0;u<r;u++)s[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new zr(s,n.h)}(Ot=zr.prototype).ea=function(){if(vu(this))return-Ys(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:zE+r)*e,e*=zE}return n},Ot.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Zl(this))return"0";if(vu(this))return"-"+Ys(this).toString(n);for(var e=ka(Math.pow(n,6)),t=this,r="";;){var s=Hy(t,e).g,u=((0<(t=$y(t,s.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Zl(t=s))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},Ot.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Ot.X=function(n){return vu(n=$y(this,n))?-1:Zl(n)?0:1},Ot.abs=function(){return vu(this)?Ys(this):this},Ot.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,s=0;s<=e;s++){var u=r+(65535&this.D(s))+(65535&n.D(s)),d=(u>>>16)+(this.D(s)>>>16)+(n.D(s)>>>16);r=d>>>16,t[s]=(d&=65535)<<16|(u&=65535)}return new zr(t,-2147483648&t[t.length-1]?-1:0)},Ot.R=function(n){if(Zl(this)||Zl(n))return Ag;if(vu(this))return vu(n)?Ys(this).R(Ys(n)):Ys(Ys(this).R(n));if(vu(n))return Ys(this.R(Ys(n)));if(0>this.X(zb)&&0>n.X(zb))return ka(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<n.g.length;s++){var u=this.D(r)>>>16,d=65535&this.D(r),_=n.D(s)>>>16,E=65535&n.D(s);t[2*r+2*s]+=d*E,u0(t,2*r+2*s),t[2*r+2*s+1]+=u*E,u0(t,2*r+2*s+1),t[2*r+2*s+1]+=d*_,u0(t,2*r+2*s+1),t[2*r+2*s+2]+=u*_,u0(t,2*r+2*s+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new zr(t,0)},Ot.gb=function(n){return Hy(this,n).h},Ot.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new zr(t,this.h&n.h)},Ot.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new zr(t,this.h|n.h)},Ot.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new zr(t,this.h^n.h)},a0.prototype.createWebChannel=a0.prototype.g,Na.prototype.send=Na.prototype.u,Na.prototype.open=Na.prototype.m,Na.prototype.close=Na.prototype.close,ds.NO_ERROR=0,ds.TIMEOUT=8,ds.HTTP_ERROR=6,Qc.COMPLETE="complete",My.EventType=Of,Of.OPEN="a",Of.CLOSE="b",Of.ERROR="c",Of.MESSAGE="d",Cs.prototype.listen=Cs.prototype.O,Yi.prototype.listenOnce=Yi.prototype.P,Yi.prototype.getLastError=Yi.prototype.Sa,Yi.prototype.getLastErrorCode=Yi.prototype.Ia,Yi.prototype.getStatus=Yi.prototype.da,Yi.prototype.getResponseJson=Yi.prototype.Wa,Yi.prototype.getResponseText=Yi.prototype.ja,Yi.prototype.send=Yi.prototype.ha,Yi.prototype.setWithCredentials=Yi.prototype.Oa,ic.prototype.digest=ic.prototype.l,ic.prototype.reset=ic.prototype.reset,ic.prototype.update=ic.prototype.j,zr.prototype.add=zr.prototype.add,zr.prototype.multiply=zr.prototype.R,zr.prototype.modulo=zr.prototype.gb,zr.prototype.compare=zr.prototype.X,zr.prototype.toNumber=zr.prototype.ea,zr.prototype.toString=zr.prototype.toString,zr.prototype.getBits=zr.prototype.D,zr.fromNumber=ka,zr.fromString=function Gb(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ys(Gb(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ka(Math.pow(e,8)),r=Ag,s=0;s<n.length;s+=8){var u=Math.min(8,n.length-s),d=parseInt(n.substring(s,s+u),e);8>u?(u=ka(Math.pow(e,u)),r=r.R(u).add(ka(d))):r=(r=r.R(t)).add(ka(d))}return r};var l0=la.createWebChannelTransport=function(){return new a0},uA=la.getStatEventTarget=function(){return nc()},ZE=la.ErrorCode=ds,KE=la.EventType=Qc,cA=la.Event=Yc,sc=la.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},zy=la.FetchXmlHttpFactory=Ny,Hs=la.WebChannel=My,Bf=la.XhrIo=Yi,d0=la.Md5=ic,uo=la.Integer=zr;const h0="@firebase/firestore";class Fi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fi.UNAUTHENTICATED=new Fi(null),Fi.GOOGLE_CREDENTIALS=new Fi("google-credentials-uid"),Fi.FIRST_PARTY=new Fi("first-party-uid"),Fi.MOCK_USER=new Fi("mock-user");let oc="9.23.0";const La=new pu.Yd("@firebase/firestore");function oh(){return La.logLevel}function ct(n,...e){if(La.logLevel<=pu.in.DEBUG){const t=e.map(ah);La.debug(`Firestore (${oc}): ${n}`,...t)}}function gi(n,...e){if(La.logLevel<=pu.in.ERROR){const t=e.map(ah);La.error(`Firestore (${oc}): ${n}`,...t)}}function co(n,...e){if(La.logLevel<=pu.in.WARN){const t=e.map(ah);La.warn(`Firestore (${oc}): ${n}`,...t)}}function ah(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ut(n="Unexpected state"){const e=`FIRESTORE (${oc}) INTERNAL ASSERTION FAILED: `+n;throw gi(e),new Error(e)}function Kt(n,e){n||Ut()}function Rt(n,e){return n}const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends br.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class YE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Fi.UNAUTHENTICATED))}shutdown(){}}class QE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class lA{constructor(e){this.t=e,this.currentUser=Fi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const u=T=>this.i!==s?(s=this.i,t(T)):Promise.resolve();let d=new bs;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new bs,e.enqueueRetryable(()=>u(this.currentUser))};const _=()=>{const T=d;e.enqueueRetryable((0,Se.Z)(function*(){yield T.promise,yield u(r.currentUser)}))},E=T=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),_()};this.t.onInit(T=>E(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?E(T):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new bs)}},0),_()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt("string"==typeof r.accessToken),new YE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Kt(null===e||"string"==typeof e),new Fi(e)}}class ZM{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Fi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class KM{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new ZM(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Fi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dA{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.T;return this.T=u.token,ct("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const s=u=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>s(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?s(u):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Kt("string"==typeof t.token),this.T=t.token,new Zb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function hA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class fA{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const s=hA(40);for(let u=0;u<s.length;++u)r.length<20&&s[u]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(s[u]%62))}return r}}function Bn(n,e){return n<e?-1:n>e?1:0}function Mg(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}function Kb(n){return n+"\0"}class mi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new it(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new it(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new it(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mi.fromMillis(Date.now())}static fromDate(e){return mi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new mi(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bn(this.nanoseconds,e.nanoseconds):Bn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Wt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Wt(e)}static min(){return new Wt(new mi(0,0))}static max(){return new Wt(new mi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class jf{constructor(e,t,r){void 0===t?t=0:t>e.length&&Ut(),void 0===r?r=e.length-t:r>e.length-t&&Ut(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===jf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const u=e.get(s),d=t.get(s);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class gr extends jf{construct(e,t,r){return new gr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new it(xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new gr(t)}static emptyPath(){return new gr([])}}const Yb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yi extends jf{construct(e,t,r){return new yi(e,t,r)}static isValidIdentifier(e){return Yb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new yi(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const u=()=>{if(0===r.length)throw new it(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;s<e.length;){const _=e[s];if("\\"===_){if(s+1===e.length)throw new it(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[s+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new it(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,s+=2}else"`"===_?(d=!d,s++):"."!==_||d?(r+=_,s++):(u(),s++)}if(u(),d)throw new it(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yi(t)}static emptyPath(){return new yi([])}}class Mt{constructor(e){this.path=e}static fromPath(e){return new Mt(gr.fromString(e))}static fromName(e){return new Mt(gr.fromString(e).popFirst(5))}static empty(){return new Mt(gr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===gr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return gr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Mt(new gr(e.slice()))}}class f0{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function $f(n){return n.fields.find(e=>2===e.kind)}function Hf(n){return n.fields.filter(e=>2!==e.kind)}f0.UNKNOWN_ID=-1;class p0{constructor(e,t){this.fieldPath=e,this.kind=t}}class Gf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Gf(0,wu.min())}}function qy(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Wt.fromTimestamp(1e9===r?new mi(t+1,0):new mi(t,r));return new wu(s,Mt.empty(),e)}function Wy(n){return new wu(n.readTime,n.key,-1)}class wu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new wu(Wt.min(),Mt.empty(),-1)}static max(){return new wu(Wt.max(),Mt.empty(),-1)}}function JE(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Mt.comparator(n.documentKey,e.documentKey),0!==t?t:Bn(n.largestBatchId,e.largestBatchId))}const Qb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class g0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function uh(n){return m0.apply(this,arguments)}function m0(){return m0=(0,Se.Z)(function*(n){if(n.code!==xe.FAILED_PRECONDITION||n.message!==Qb)throw n;ct("LocalStore","Unexpectedly lost primary lease")}),m0.apply(this,arguments)}class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new be((r,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,s)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof be?t:be.resolve(t)}catch(t){return be.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):be.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):be.reject(t)}static resolve(e){return new be((t,r)=>{t(e)})}static reject(e){return new be((t,r)=>{r(e)})}static waitFor(e){return new be((t,r)=>{let s=0,u=0,d=!1;e.forEach(_=>{++s,_.next(()=>{++u,d&&u===s&&t()},E=>r(E))}),d=!0,u===s&&t()})}static or(e){let t=be.resolve(!1);for(const r of e)t=t.next(s=>s?be.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,u)=>{r.push(t.call(this,s,u))}),this.waitFor(r)}static mapArray(e,t){return new be((r,s)=>{const u=e.length,d=new Array(u);let _=0;for(let E=0;E<u;E++){const T=E;t(e[T]).next(x=>{d[T]=x,++_,_===u&&r(d)},x=>s(x))}})}static doWhile(e,t){return new be((r,s)=>{const u=()=>{!0===e()?t().next(()=>{u()},s):r()};u()})}}class y0{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new bs,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new xg(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const s=Zy(r.target.error);this.v.reject(new xg(e,s))}}static open(e,t,r,s){try{return new y0(t,e.transaction(s,r))}catch(u){throw new xg(t,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(ct("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new mA(t)}}class Eu{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Eu.S((0,br.z$)())&&gi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ct("SimpleDb","Removing database:",e),zf(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,br.hl)())return!1;if(Eu.C())return!0;const e=(0,br.z$)(),t=Eu.S(e),r=0<t&&t<10,s=Eu.N(e),u=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,Se.Z)(function*(){return t.db||(ct("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,s)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{s(new xg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const _=d.target.error;s("VersionError"===_.name?new it(xe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===_.name?new it(xe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+_):new xg(e,_))},u.onupgradeneeded=d=>{ct("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.V.O(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{ct("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,s){var u=this;return(0,Se.Z)(function*(){const d="readonly"===t;let _=0;for(;;){++_;try{u.db=yield u.$(e);const E=y0.open(u.db,e,d?"readonly":"readwrite",r),T=s(E).next(x=>(E.P(),x)).catch(x=>(E.abort(x),be.reject(x))).toPromise();return T.catch(()=>{}),yield E.R,T}catch(E){const T=E,x="FirebaseError"!==T.name&&_<3;if(ct("SimpleDb","Transaction failed with error:",T.message,"Retrying:",x),u.close(),!x)return Promise.reject(T)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Jb{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return zf(this.L.delete())}}class xg extends it{constructor(e,t){super(xe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ch(n){return"IndexedDbTransactionError"===n.name}class mA{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ct("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ct("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),zf(r)}add(e){return ct("SimpleDb","ADD",this.store.name,e,e),zf(this.store.add(e))}get(e){return zf(this.store.get(e)).next(t=>(void 0===t&&(t=null),ct("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ct("SimpleDb","DELETE",this.store.name,e),zf(this.store.delete(e))}count(){return ct("SimpleDb","COUNT",this.store.name),zf(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const s=this.cursor(r),u=[];return this.W(s,(d,_)=>{u.push(_)}).next(()=>u)}{const s=this.store.getAll(r.range);return new be((u,d)=>{s.onerror=_=>{d(_.target.error)},s.onsuccess=_=>{u(_.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new be((s,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}J(e,t){ct("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const s=this.cursor(r);return this.W(s,(u,d,_)=>_.delete())}X(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.W(s,t)}Z(e){const t=this.cursor({});return new be((r,s)=>{t.onerror=u=>{const d=Zy(u.target.error);s(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(_=>{_?d.continue():r()}):r()}})}W(e,t){const r=[];return new be((s,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const _=d.target.result;if(!_)return void s();const E=new Jb(_),T=t(_.primaryKey,_.value,E);if(T instanceof be){const x=T.catch(L=>(E.done(),be.reject(L)));r.push(x)}E.isDone?s():null===E.K?_.continue():_.continue(E.K)}}).next(()=>be.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function zf(n){return new be((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const s=Zy(r.target.error);t(s)}})}let XE=!1;function Zy(n){const e=Eu.S((0,br.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new it("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return XE||(XE=!0,setTimeout(()=>{throw r},0)),r}}return n}class eI{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;ct("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Se.Z)(function*(){t.task=null;try{ct("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){ch(r)?ct("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield uh(r)}yield t.et(6e4)}))}}class yA{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Se.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let s=t,u=!0;return be.doWhile(()=>!0===u&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return ct("IndexBackiller",`Processing collection: ${d}`),this.it(e,d,s).next(_=>{s-=_,r.add(d)});u=!1})).next(()=>t-s)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next(u=>{const d=u.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.rt(s,u)).next(_=>(ct("IndexBackiller",`Updating offset: ${_}`),this.localStore.indexManager.updateCollectionGroup(e,t,_))).next(()=>d.size)}))}rt(e,t){let r=e;return t.changes.forEach((s,u)=>{const d=Wy(u);JE(d,r)>0&&(r=d)}),new wu(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ao=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>r.writeSequenceNumber(s))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function lh(n){return null==n}function qf(n){return 0===n&&1/n==-1/0}function tI(n){return"number"==typeof n&&Number.isInteger(n)&&!qf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function So(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Xb(e)),e=_A(n.get(t),e);return Xb(e)}function _A(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const u=n.charAt(s);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Xb(n){return n+"\x01\x01"}function Iu(n){const e=n.length;if(Kt(e>=2),2===e)return Kt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),gr.emptyPath();const t=e-2,r=[];let s="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&Ut(),n.charAt(d+1)){case"\x01":const _=n.substring(u,d);let E;0===s.length?E=_:(s+=_,E=s,s=""),r.push(E);break;case"\x10":s+=n.substring(u,d),s+="\0";break;case"\x11":s+=n.substring(u,d+1);break;default:Ut()}u=d+2}return new gr(r)}const _0=["userId","batchId"];function Ky(n,e){return[n,So(e)]}function nI(n,e,t){return[n,So(e),t]}const vA={},wA=["prefixPath","collectionGroup","readTime","documentId"],eD=["prefixPath","collectionGroup","documentId"],rI=["collectionGroup","readTime","prefixPath","documentId"],tD=["canonicalId","targetId"],iI=["targetId","path"],nD=["path","targetId"],EA=["collectionId","parent"],rD=["indexId","uid"],iD=["uid","sequenceNumber"],sD=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],oD=["indexId","uid","orderedDocumentKey"],IA=["userId","collectionPath","documentId"],CA=["userId","collectionPath","largestBatchId"],bA=["userId","collectionGroup","largestBatchId"],sI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],oI=[...sI,"documentOverlays"],aI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],uI=aI,aD=[...uI,"indexConfiguration","indexState","indexEntries"];class v0 extends g0{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Gs(n,e){const t=Rt(n);return Eu.M(t.ht,e)}function cI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Kl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function lI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Xr{constructor(e,t){this.comparator=e,this.root=t||lo.EMPTY}insert(e,t){return new Xr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,lo.BLACK,null,null))}remove(e){return new Xr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ac(this.root,e,this.comparator,!0)}}class ac{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lo{constructor(e,t,r,s,u){this.key=e,this.value=t,this.color=r??lo.RED,this.left=s??lo.EMPTY,this.right=u??lo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,u){return new lo(e??this.key,t??this.value,r??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const u=r(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===u?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return lo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return lo.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ut();const e=this.left.check();if(e!==this.right.check())throw Ut();return e+(this.isRed()?0:1)}}lo.EMPTY=null,lo.RED=!0,lo.BLACK=!1,lo.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut()}get value(){throw Ut()}get color(){throw Ut()}get left(){throw Ut()}get right(){throw Ut()}copy(n,e,t,r,s){return this}insert(n,e,t){return new lo(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ei{constructor(e){this.comparator=e,this.data=new Xr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new w0(this.data.getIterator())}getIteratorFrom(e){return new w0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ei)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(s,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ei(this.comparator);return t.data=e,t}}class w0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Cu(n){return n.hasNext()?n.getNext():void 0}class Mo{constructor(e){this.fields=e,e.sort(yi.comparator)}static empty(){return new Mo([])}unionWith(e){let t=new Ei(yi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Mo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Mg(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class uD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new uD("Invalid base64 string: "+s):s}}(e);return new Qs(t)}static fromUint8Array(e){const t=function(r){let s="";for(let u=0;u<r.length;++u)s+=String.fromCharCode(r[u]);return s}(e);return new Qs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qs.EMPTY_BYTE_STRING=new Qs("");const YM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dh(n){if(Kt(!!n),"string"==typeof n){let e=0;const t=YM.exec(n);if(Kt(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qi(n.seconds),nanos:Qi(n.nanos)}}function Qi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function el(n){return"string"==typeof n?Qs.fromBase64String(n):Qs.fromUint8Array(n)}function E0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ji(n){const e=n.mapValue.fields.__previous_value__;return E0(e)?Ji(e):e}function Og(n){const e=dh(n.mapValue.fields.__local_write_time__.timestampValue);return new mi(e.seconds,e.nanos)}class DA{constructor(e,t,r,s,u,d,_,E,T){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=_,this.longPollingOptions=E,this.useFetchStreams=T}}class hh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new hh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof hh&&e.projectId===this.projectId&&e.database===this.database}}const Yl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},I0={nullValue:"NULL_VALUE"};function Ql(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?E0(n)?4:bu(n)?9007199254740991:10:Ut()}function uc(n,e){if(n===e)return!0;const t=Ql(n);if(t!==Ql(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Og(n).isEqual(Og(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const u=dh(r.timestampValue),d=dh(s.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,el(n.bytesValue).isEqual(el(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Qi(r.geoPointValue.latitude)===Qi(s.geoPointValue.latitude)&&Qi(r.geoPointValue.longitude)===Qi(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Qi(r.integerValue)===Qi(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const u=Qi(r.doubleValue),d=Qi(s.doubleValue);return u===d?qf(u)===qf(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return Mg(n.arrayValue.values||[],e.arrayValue.values||[],uc);case 10:return function(r,s){const u=r.mapValue.fields||{},d=s.mapValue.fields||{};if(cI(u)!==cI(d))return!1;for(const _ in u)if(u.hasOwnProperty(_)&&(void 0===d[_]||!uc(u[_],d[_])))return!1;return!0}(n,e);default:return Ut()}var s}function tl(n,e){return void 0!==(n.values||[]).find(t=>uc(t,e))}function fh(n,e){if(n===e)return 0;const t=Ql(n),r=Ql(e);if(t!==r)return Bn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Bn(n.booleanValue,e.booleanValue);case 2:return function(s,u){const d=Qi(s.integerValue||s.doubleValue),_=Qi(u.integerValue||u.doubleValue);return d<_?-1:d>_?1:d===_?0:isNaN(d)?isNaN(_)?0:-1:1}(n,e);case 3:return cD(n.timestampValue,e.timestampValue);case 4:return cD(Og(n),Og(e));case 5:return Bn(n.stringValue,e.stringValue);case 6:return function(s,u){const d=el(s),_=el(u);return d.compareTo(_)}(n.bytesValue,e.bytesValue);case 7:return function(s,u){const d=s.split("/"),_=u.split("/");for(let E=0;E<d.length&&E<_.length;E++){const T=Bn(d[E],_[E]);if(0!==T)return T}return Bn(d.length,_.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,u){const d=Bn(Qi(s.latitude),Qi(u.latitude));return 0!==d?d:Bn(Qi(s.longitude),Qi(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,u){const d=s.values||[],_=u.values||[];for(let E=0;E<d.length&&E<_.length;++E){const T=fh(d[E],_[E]);if(T)return T}return Bn(d.length,_.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,u){if(s===Yl.mapValue&&u===Yl.mapValue)return 0;if(s===Yl.mapValue)return 1;if(u===Yl.mapValue)return-1;const d=s.fields||{},_=Object.keys(d),E=u.fields||{},T=Object.keys(E);_.sort(),T.sort();for(let x=0;x<_.length&&x<T.length;++x){const L=Bn(_[x],T[x]);if(0!==L)return L;const Q=fh(d[_[x]],E[T[x]]);if(0!==Q)return Q}return Bn(_.length,T.length)}(n.mapValue,e.mapValue);default:throw Ut()}}function cD(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Bn(n,e);const t=dh(n),r=dh(e),s=Bn(t.seconds,r.seconds);return 0!==s?s:Bn(t.nanos,r.nanos)}function Wf(n){return hI(n)}function hI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=dh(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?el(n.bytesValue).toBase64():"referenceValue"in n?Mt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",u=!0;for(const d of r.values||[])u?u=!1:s+=",",s+=hI(d);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const _ of s)d?d=!1:u+=",",u+=`${_}:${hI(r.fields[_])}`;return u+"}"}(n.mapValue):Ut();var e}function Pg(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function C0(n){return!!n&&"integerValue"in n}function Zf(n){return!!n&&"arrayValue"in n}function cc(n){return!!n&&"nullValue"in n}function lD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qy(n){return!!n&&"mapValue"in n}function fa(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Kl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=fa(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fa(n.arrayValue.values[t]);return e}return Object.assign({},n)}function bu(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function lc(n){return"nullValue"in n?I0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Pg(hh.empty(),Mt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ut()}function dD(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Pg(hh.empty(),Mt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Yl:Ut()}function fI(n,e){const t=fh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function hD(n,e){const t=fh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ho{constructor(e){this.value=e}static empty(){return new ho({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Qy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fa(t)}setAll(e){let t=yi.emptyPath(),r={},s=[];e.forEach((d,_)=>{if(!t.isImmediateParentOf(_)){const E=this.getFieldsMap(t);this.applyChanges(E,r,s),r={},s=[],t=_.popLast()}d?r[_.lastSegment()]=fa(d):s.push(_.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,s)}delete(e){const t=this.field(e.popLast());Qy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return uc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Qy(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Kl(t,(s,u)=>e[s]=u);for(const s of r)delete e[s]}clone(){return new ho(fa(this.value))}}function fD(n){const e=[];return Kl(n.fields,(t,r)=>{const s=new yi([t]);if(Qy(r)){const u=fD(r.mapValue).fields;if(0===u.length)e.push(s);else for(const d of u)e.push(s.child(d))}else e.push(s)}),new Mo(e)}class Ii{constructor(e,t,r,s,u,d,_){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=u,this.data=d,this.documentState=_}static newInvalidDocument(e){return new Ii(e,0,Wt.min(),Wt.min(),Wt.min(),ho.empty(),0)}static newFoundDocument(e,t,r,s){return new Ii(e,1,t,Wt.min(),r,s,0)}static newNoDocument(e,t){return new Ii(e,2,t,Wt.min(),Wt.min(),ho.empty(),0)}static newUnknownDocument(e,t){return new Ii(e,3,t,Wt.min(),Wt.min(),ho.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Wt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ho.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ho.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ii&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ii(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nl{constructor(e,t){this.position=e,this.inclusive=t}}function Rg(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const u=e[s],d=n.position[s];if(r=u.field.isKeyField()?Mt.comparator(Mt.fromName(d.referenceValue),t.key):fh(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function pD(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!uc(n.position[t],e.position[t]))return!1;return!0}class Kf{constructor(e,t="asc"){this.field=e,this.dir=t}}function TA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class gD{}class mr extends gD{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new A0(e,t,r):"array-contains"===t?new vD(e,r):"in"===t?new _I(e,r):"not-in"===t?new wD(e,r):"array-contains-any"===t?new ED(e,r):new mr(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new mI(e,r):new _D(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(fh(t,this.value)):null!==t&&Ql(this.value)===Ql(t)&&this.matchesComparison(fh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ut()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class qr extends gD{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new qr(e,t)}matches(e){return Jl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Jl(n){return"and"===n.op}function pI(n){return"or"===n.op}function b0(n){return gI(n)&&Jl(n)}function gI(n){for(const e of n.filters)if(e instanceof qr)return!1;return!0}function D0(n){if(n instanceof mr)return n.field.canonicalString()+n.op.toString()+Wf(n.value);if(b0(n))return n.filters.map(e=>D0(e)).join(",");{const e=n.filters.map(t=>D0(t)).join(",");return`${n.op}(${e})`}}function mD(n,e){return n instanceof mr?(t=n,(r=e)instanceof mr&&t.op===r.op&&t.field.isEqual(r.field)&&uc(t.value,r.value)):n instanceof qr?function(t,r){return r instanceof qr&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((s,u,d)=>s&&mD(u,r.filters[d]),!0)}(n,e):void Ut();var t,r}function yD(n,e){const t=n.filters.concat(e);return qr.create(t,n.op)}function T0(n){return n instanceof mr?`${(e=n).field.canonicalString()} ${e.op} ${Wf(e.value)}`:n instanceof qr?function(e){return e.op.toString()+" {"+e.getFilters().map(T0).join(" ,")+"}"}(n):"Filter";var e}class A0 extends mr{constructor(e,t,r){super(e,t,r),this.key=Mt.fromName(r.referenceValue)}matches(e){const t=Mt.comparator(e.key,this.key);return this.matchesComparison(t)}}class mI extends mr{constructor(e,t){super(e,"in",t),this.keys=yI(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _D extends mr{constructor(e,t){super(e,"not-in",t),this.keys=yI(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function yI(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Mt.fromName(r.referenceValue))}class vD extends mr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Zf(t)&&tl(t.arrayValue,this.value)}}class _I extends mr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&tl(this.value.arrayValue,t)}}class wD extends mr{constructor(e,t){super(e,"not-in",t)}matches(e){if(tl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!tl(this.value.arrayValue,t)}}class ED extends mr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Zf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>tl(this.value.arrayValue,r))}}class ID{constructor(e,t=null,r=[],s=[],u=null,d=null,_=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=u,this.startAt=d,this.endAt=_,this.dt=null}}function vI(n,e=null,t=[],r=[],s=null,u=null,d=null){return new ID(n,e,t,r,s,u,d)}function Yf(n){const e=Rt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>D0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),lh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Wf(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Wf(r)).join(",")),e.dt=t}return e.dt}function Jy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!TA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!mD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!pD(n.startAt,e.startAt)&&pD(n.endAt,e.endAt)}function S0(n){return Mt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function M0(n,e){return n.filters.filter(t=>t instanceof mr&&t.field.isEqual(e))}function CD(n,e,t){let r=I0,s=!0;for(const u of M0(n,e)){let d=I0,_=!0;switch(u.op){case"<":case"<=":d=lc(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,_=!1;break;case"!=":case"not-in":d=I0}fI({value:r,inclusive:s},{value:d,inclusive:_})<0&&(r=d,s=_)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];fI({value:r,inclusive:s},{value:d,inclusive:t.inclusive})<0&&(r=d,s=t.inclusive);break}return{value:r,inclusive:s}}function bD(n,e,t){let r=Yl,s=!0;for(const u of M0(n,e)){let d=Yl,_=!0;switch(u.op){case">=":case">":d=dD(u.value),_=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,_=!1;break;case"!=":case"not-in":d=Yl}hD({value:r,inclusive:s},{value:d,inclusive:_})>0&&(r=d,s=_)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];hD({value:r,inclusive:s},{value:d,inclusive:t.inclusive})>0&&(r=d,s=t.inclusive);break}return{value:r,inclusive:s}}class Xl{constructor(e,t=null,r=[],s=[],u=null,d="F",_=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=u,this.limitType=d,this.startAt=_,this.endAt=E,this.wt=null,this._t=null}}function DD(n,e,t,r,s,u,d,_){return new Xl(n,e,t,r,s,u,d,_)}function Ng(n){return new Xl(n)}function TD(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function wI(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function x0(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function EI(n){return null!==n.collectionGroup}function Qf(n){const e=Rt(n);if(null===e.wt){e.wt=[];const t=x0(e),r=wI(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Kf(t)),e.wt.push(new Kf(yi.keyField(),"asc"));else{let s=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(s=!0);if(!s){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Kf(yi.keyField(),u))}}}return e.wt}function Go(n){const e=Rt(n);if(!e._t)if("F"===e.limitType)e._t=vI(e.path,e.collectionGroup,Qf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Qf(e))t.push(new Kf(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new nl(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new nl(e.startAt.position,e.startAt.inclusive):null;e._t=vI(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e._t}function II(n,e){e.getFirstInequalityField(),x0(n);const t=n.filters.concat([e]);return new Xl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function O0(n,e,t){return new Xl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function kg(n,e){return Jy(Go(n),Go(e))&&n.limitType===e.limitType}function CI(n){return`${Yf(Go(n))}|lt:${n.limitType}`}function P0(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>T0(r)).join(", ")}]`),lh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Wf(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Wf(r)).join(",")),`Target(${t})`}(Go(n))}; limitType=${n.limitType})`}function Lg(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):Mt.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of Qf(t))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,u,d){const _=Rg(s,u,d);return s.inclusive?_<=0:_<0}(t.startAt,Qf(t),r)||t.endAt&&!function(s,u,d){const _=Rg(s,u,d);return s.inclusive?_>=0:_>0}(t.endAt,Qf(t),r)));var t,r}function bI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function DI(n){return(e,t)=>{let r=!1;for(const s of Qf(n)){const u=AD(s,e,t);if(0!==u)return u;r=r||s.field.isKeyField()}return 0}}function AD(n,e,t){const r=n.field.isKeyField()?Mt.comparator(e.key,t.key):function(s,u,d){const _=u.data.field(s),E=d.data.field(s);return null!==_&&null!==E?fh(_,E):Ut()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ut()}}class rl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,u]of r)if(this.equalsFn(s,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Kl(this.inner,(t,r)=>{for(const[s,u]of r)e(s,u)})}isEmpty(){return lI(this.inner)}size(){return this.innerSize}}const SD=new Xr(Mt.comparator);function zo(){return SD}const TI=new Xr(Mt.comparator);function dc(...n){let e=TI;for(const t of n)e=e.insert(t.key,t);return e}function MD(n){let e=TI;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function il(){return R0()}function Jf(){return R0()}function R0(){return new rl(n=>n.toString(),(n,e)=>n.isEqual(e))}const AI=new Xr(Mt.comparator),QM=new Ei(Mt.comparator);function Qn(...n){let e=QM;for(const t of n)e=e.add(t);return e}const xD=new Ei(Bn);function OD(){return xD}function Xf(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qf(e)?"-0":e}}function PD(n){return{integerValue:""+n}}function RD(n,e){return tI(e)?PD(e):Xf(n,e)}class N0{constructor(){this._=void 0}}function Fg(n,e,t){return n instanceof ed?function(r,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&E0(s)&&(s=Ji(s)),s&&(u.fields.__previous_value__=s),{mapValue:u}}(t,e):n instanceof Ds?SA(n,e):n instanceof ph?SI(n,e):function(r,s){const u=Xy(r,s),d=MI(u)+MI(r.gt);return C0(u)&&C0(r.gt)?PD(d):Xf(r.serializer,d)}(n,e)}function AA(n,e,t){return n instanceof Ds?SA(n,e):n instanceof ph?SI(n,e):t}function Xy(n,e){return n instanceof Ug?C0(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ed extends N0{}class Ds extends N0{constructor(e){super(),this.elements=e}}function SA(n,e){const t=xI(e);for(const r of n.elements)t.some(s=>uc(s,r))||t.push(r);return{arrayValue:{values:t}}}class ph extends N0{constructor(e){super(),this.elements=e}}function SI(n,e){let t=xI(e);for(const r of n.elements)t=t.filter(s=>!uc(s,r));return{arrayValue:{values:t}}}class Ug extends N0{constructor(e,t){super(),this.serializer=e,this.gt=t}}function MI(n){return Qi(n.integerValue||n.doubleValue)}function xI(n){return Zf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Vg{constructor(e,t){this.field=e,this.transform=t}}class MA{constructor(e,t){this.version=e,this.transformResults=t}}class Mi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mi}static exists(e){return new Mi(void 0,e)}static updateTime(e){return new Mi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function k0(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class gh{}function kD(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new $g(n.key,Mi.none()):new ep(n.key,n.data,Mi.none());{const t=n.data,r=ho.empty();let s=new Ei(yi.comparator);for(let u of e.fields)if(!s.has(u)){let d=t.field(u);null===d&&u.length>1&&(u=u.popLast(),d=t.field(u)),null===d?r.delete(u):r.set(u,d),s=s.add(u)}return new sl(n.key,r,new Mo(s.toArray()),Mi.none())}}function xA(n,e,t){n instanceof ep?function(r,s,u){const d=r.value.clone(),_=Bg(r.fieldTransforms,s,u.transformResults);d.setAll(_),s.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof sl?function(r,s,u){if(!k0(r.precondition,s))return void s.convertToUnknownDocument(u.version);const d=Bg(r.fieldTransforms,s,u.transformResults),_=s.data;_.setAll(LD(r)),_.setAll(d),s.convertToFoundDocument(u.version,_).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function e_(n,e,t,r){return n instanceof ep?function(s,u,d,_){if(!k0(s.precondition,u))return d;const E=s.value.clone(),T=jg(s.fieldTransforms,_,u);return E.setAll(T),u.convertToFoundDocument(u.version,E).setHasLocalMutations(),null}(n,e,t,r):n instanceof sl?function(s,u,d,_){if(!k0(s.precondition,u))return d;const E=jg(s.fieldTransforms,_,u),T=u.data;return T.setAll(LD(s)),T.setAll(E),u.convertToFoundDocument(u.version,T).setHasLocalMutations(),null===d?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(x=>x.field))}(n,e,t,r):(d=t,k0(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d);var u,d}function L0(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),u=Xy(r.transform,s||null);null!=u&&(null===t&&(t=ho.empty()),t.set(r.field,u))}return t||null}function OI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Mg(t,r,(s,u)=>function ND(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ds&&r instanceof Ds||t instanceof ph&&r instanceof ph?Mg(t.elements,r.elements,uc):t instanceof Ug&&r instanceof Ug?uc(t.gt,r.gt):t instanceof ed&&r instanceof ed);var t,r}(s,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class ep extends gh{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class sl extends gh{constructor(e,t,r,s,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function LD(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Bg(n,e,t){const r=new Map;Kt(n.length===t.length);for(let s=0;s<t.length;s++){const u=n[s],d=u.transform,_=e.data.field(u.field);r.set(u.field,AA(d,_,t[s]))}return r}function jg(n,e,t){const r=new Map;for(const s of n){const u=s.transform,d=t.data.field(s.field);r.set(s.field,Fg(u,d,e))}return r}class $g extends gh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PI extends gh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class RI{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&xA(u,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=e_(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=e_(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Jf();return this.mutations.forEach(s=>{const u=e.get(s.key),d=u.overlayedDocument;let _=this.applyToLocalView(d,u.mutatedFields);_=t.has(s.key)?null:_;const E=kD(d,_);null!==E&&r.set(s.key,E),d.isValidDocument()||d.convertToNoDocument(Wt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Qn())}isEqual(e){return this.batchId===e.batchId&&Mg(this.mutations,e.mutations,(t,r)=>OI(t,r))&&Mg(this.baseMutations,e.baseMutations,(t,r)=>OI(t,r))}}class F0{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Kt(e.mutations.length===r.length);let s=AI;const u=e.mutations;for(let d=0;d<u.length;d++)s=s.insert(u[d].key,r[d].version);return new F0(e,t,r,s)}}class U0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class OA{constructor(e,t){this.count=e,this.unchangedNames=t}}var hs,Sr;function UD(n){switch(n){default:return Ut();case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0}}function PA(n){if(void 0===n)return gi("GRPC error has no .code"),xe.UNKNOWN;switch(n){case hs.OK:return xe.OK;case hs.CANCELLED:return xe.CANCELLED;case hs.UNKNOWN:return xe.UNKNOWN;case hs.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case hs.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case hs.INTERNAL:return xe.INTERNAL;case hs.UNAVAILABLE:return xe.UNAVAILABLE;case hs.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case hs.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case hs.NOT_FOUND:return xe.NOT_FOUND;case hs.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case hs.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case hs.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case hs.ABORTED:return xe.ABORTED;case hs.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case hs.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case hs.DATA_LOSS:return xe.DATA_LOSS;default:return Ut()}}(Sr=hs||(hs={}))[Sr.OK=0]="OK",Sr[Sr.CANCELLED=1]="CANCELLED",Sr[Sr.UNKNOWN=2]="UNKNOWN",Sr[Sr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sr[Sr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sr[Sr.NOT_FOUND=5]="NOT_FOUND",Sr[Sr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sr[Sr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sr[Sr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sr[Sr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sr[Sr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sr[Sr.ABORTED=10]="ABORTED",Sr[Sr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sr[Sr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sr[Sr.INTERNAL=13]="INTERNAL",Sr[Sr.UNAVAILABLE=14]="UNAVAILABLE",Sr[Sr.DATA_LOSS=15]="DATA_LOSS";class VD{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return NI}static getOrCreateInstance(){return null===NI&&(NI=new VD),NI}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let NI=null;function RA(){return new TextEncoder}const BD=new uo([4294967295,4294967295],0);function t_(n){const e=RA().encode(n),t=new d0;return t.update(e),new Uint8Array(t.digest())}function jD(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new uo([t,r],0),new uo([s,u],0)]}class kI{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Hg(`Invalid padding: ${t}`);if(r<0)throw new Hg(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Hg(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Hg(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=uo.fromNumber(this.It)}Et(e,t,r){let s=e.add(t.multiply(uo.fromNumber(r)));return 1===s.compare(BD)&&(s=new uo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=t_(e),[r,s]=jD(t);for(let u=0;u<this.hashCount;u++){const d=this.Et(r,s,u);if(!this.At(d))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new kI(u,s,t);return r.forEach(_=>d.insert(_)),d}insert(e){if(0===this.It)return;const t=t_(e),[r,s]=jD(t);for(let u=0;u<this.hashCount;u++){const d=this.Et(r,s,u);this.Rt(d)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Hg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class td{constructor(e,t,r,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,n_.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new td(Wt.min(),s,new Xr(Bn),zo(),Qn())}}class n_{constructor(e,t,r,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n_(r,t,Qn(),Qn(),Qn())}}class V0{constructor(e,t,r,s){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=s}}class $D{constructor(e,t){this.targetId=e,this.Vt=t}}class HD{constructor(e,t,r=Qs.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class NA{constructor(){this.St=0,this.Dt=GD(),this.Ct=Qs.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Qn(),t=Qn(),r=Qn();return this.Dt.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ut()}}),new n_(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=GD()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class kA{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=zo(),this.zt=LI(),this.Wt=new Xr(Bn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:Ut()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,s)=>{this.te(s)&&t(s)})}ne(e){var t;const r=e.targetId,s=e.Vt.count,u=this.se(r);if(u){const d=u.target;if(S0(d))if(0===s){const _=new Mt(d.path);this.Yt(r,_,Ii.newNoDocument(_,Wt.min()))}else Kt(1===s);else{const _=this.ie(r);if(_!==s){const E=this.re(e,_);0!==E&&(this.ee(r),this.Wt=this.Wt.insert(r,2===E?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=VD.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(T,x,L){var Q,ue,Le,Ye,rt,$t;const cn={localCacheCount:x,existenceFilterCount:L.count},Vt=L.unchangedNames;return Vt&&(cn.bloomFilter={applied:0===T,hashCount:null!==(Q=Vt?.hashCount)&&void 0!==Q?Q:0,bitmapLength:null!==(Ye=null===(Le=null===(ue=Vt?.bits)||void 0===ue?void 0:ue.bitmap)||void 0===Le?void 0:Le.length)&&void 0!==Ye?Ye:0,padding:null!==($t=null===(rt=Vt?.bits)||void 0===rt?void 0:rt.padding)&&void 0!==$t?$t:0}),cn}(E,_,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:d=0},hashCount:_=0}=r;let E,T;try{E=el(u).toUint8Array()}catch(x){if(x instanceof uD)return co("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw x}try{T=new kI(E,d,_)}catch(x){return co(x instanceof Hg?"BloomFilter error: ":"Applying bloom filter failed: ",x),1}return 0===T.It?1:s!==t-this.oe(e.targetId,T)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(u=>{const d=this.Gt.ue(),_=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.vt(_)||(this.Yt(e,u,null),s++)}),s}ce(e){const t=new Map;this.Qt.forEach((u,d)=>{const _=this.se(d);if(_){if(u.current&&S0(_.target)){const E=new Mt(_.target.path);null!==this.jt.get(E)||this.ae(d,E)||this.Yt(d,E,Ii.newNoDocument(E,e))}u.Mt&&(t.set(d,u.Ot()),u.Ft())}});let r=Qn();this.zt.forEach((u,d)=>{let _=!0;d.forEachWhile(E=>{const T=this.se(E);return!T||"TargetPurposeLimboResolution"===T.purpose||(_=!1,!1)}),_&&(r=r.add(u))}),this.jt.forEach((u,d)=>d.setReadTime(e));const s=new td(e,t,this.Wt,this.jt,r);return this.jt=zo(),this.zt=LI(),this.Wt=new Xr(Bn),s}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,t)?s.Bt(t,1):s.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new NA,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ei(Bn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||ct("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new NA),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function LI(){return new Xr(Mt.comparator)}function GD(){return new Xr(Mt.comparator)}const LA={asc:"ASCENDING",desc:"DESCENDING"},r_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FA={and:"AND",or:"OR"};class zD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function FI(n,e){return n.useProto3Json||lh(e)?e:{value:e}}function tp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function WD(n,e){return tp(n,e.toTimestamp())}function fs(n){return Kt(!!n),Wt.fromTimestamp(function(e){const t=dh(e);return new mi(t.seconds,t.nanos)}(n))}function i_(n,e){return(t=n,new gr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ZD(n){const e=gr.fromString(n);return Kt(j0(e)),e}function Gg(n,e){return i_(n.databaseId,e.path)}function hc(n,e){const t=ZD(e);if(t.get(1)!==n.databaseId.projectId)throw new it(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new it(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Mt(B0(t))}function UI(n,e){return i_(n.databaseId,e)}function KD(n){const e=ZD(n);return 4===e.length?gr.emptyPath():B0(e)}function s_(n){return new gr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function B0(n){return Kt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function YD(n,e,t){return{name:Gg(n,e),fields:t.value.mapValue.fields}}function VI(n,e,t){const r=hc(n,e.name),s=fs(e.updateTime),u=e.createTime?fs(e.createTime):Wt.min(),d=new ho({mapValue:{fields:e.fields}}),_=Ii.newFoundDocument(r,s,u,d);return t&&_.setHasCommittedMutations(),t?_.setHasCommittedMutations():_}function o_(n,e){let t;if(e instanceof ep)t={update:YD(n,e.key,e.value)};else if(e instanceof $g)t={delete:Gg(n,e.key)};else if(e instanceof sl)t={update:YD(n,e.key,e.data),updateMask:HA(e.fieldMask)};else{if(!(e instanceof PI))return Ut();t={verify:Gg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const d=u.transform;if(d instanceof ed)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ds)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ph)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ug)return{fieldPath:u.field.canonicalString(),increment:d.gt};throw Ut()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:WD(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Ut()),t;var s}function BI(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?Mi.updateTime(fs(s.updateTime)):void 0!==s.exists?Mi.exists(s.exists):Mi.none():Mi.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(u,d){let _=null;"setToServerValue"in d?(Kt("REQUEST_TIME"===d.setToServerValue),_=new ed):"appendMissingElements"in d?_=new Ds(d.appendMissingElements.values||[]):"removeAllFromArray"in d?_=new ph(d.removeAllFromArray.values||[]):"increment"in d?_=new Ug(u,d.increment):Ut();const E=yi.fromServerFormat(d.fieldPath);return new Vg(E,_)}(n,s)):[];var s;if(e.update){const s=hc(n,e.update.name),u=new ho({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new Mo((e.updateMask.fieldPaths||[]).map(T=>yi.fromServerFormat(T)));return new sl(s,u,d,t,r)}return new ep(s,u,t,r)}if(e.delete){const s=hc(n,e.delete);return new $g(s,t)}if(e.verify){const s=hc(n,e.verify);return new PI(s,t)}return Ut()}function QD(n,e){return{documents:[UI(n,e.path)]}}function jI(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=UI(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=UI(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(E){if(0!==E.length)return t1(qr.create(E,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const u=function(E){if(0!==E.length)return E.map(T=>{return{field:mh((x=T).field),direction:jA(x.dir)};var x})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=FI(n,e.limit);var _,E;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(_=e.startAt).inclusive,values:_.position}),e.endAt&&(t.structuredQuery.endAt={before:!(E=e.endAt).inclusive,values:E.position}),t}function JD(n){let e=KD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Kt(1===r);const x=t.from[0];x.allDescendants?s=x.collectionId:e=e.child(x.collectionId)}let u=[];t.where&&(u=function(x){const L=$I(x);return L instanceof qr&&b0(L)?L.getFilters():[L]}(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(x=>{return new Kf(zg((L=x).field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction));var L}));let _=null;t.limit&&(_=function(x){let L;return L="object"==typeof x?x.value:x,lh(L)?null:L}(t.limit));let E=null;var x;t.startAt&&(E=new nl((x=t.startAt).values||[],!!x.before));let T=null;return t.endAt&&(T=function(x){return new nl(x.values||[],!x.before)}(t.endAt)),DD(e,s,d,u,_,"F",E,T)}function $I(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=zg(e.unaryFilter.field);return mr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=zg(e.unaryFilter.field);return mr.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=zg(e.unaryFilter.field);return mr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=zg(e.unaryFilter.field);return mr.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ut()}}(n):void 0!==n.fieldFilter?mr.create(zg((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ut()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return qr.create(e.compositeFilter.filters.map(t=>$I(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Ut()}}(e.compositeFilter.op))}(n):Ut();var e}function jA(n){return LA[n]}function $A(n){return r_[n]}function e1(n){return FA[n]}function mh(n){return{fieldPath:n.canonicalString()}}function zg(n){return yi.fromServerFormat(n.fieldPath)}function t1(n){return n instanceof mr?function(e){if("=="===e.op){if(lD(e.value))return{unaryFilter:{field:mh(e.field),op:"IS_NAN"}};if(cc(e.value))return{unaryFilter:{field:mh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(lD(e.value))return{unaryFilter:{field:mh(e.field),op:"IS_NOT_NAN"}};if(cc(e.value))return{unaryFilter:{field:mh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mh(e.field),op:$A(e.op),value:e.value}}}(n):n instanceof qr?function(e){const t=e.getFilters().map(r=>t1(r));return 1===t.length?t[0]:{compositeFilter:{op:e1(e.op),filters:t}}}(n):Ut()}function HA(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function j0(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class fc{constructor(e,t,r,s,u=Wt.min(),d=Wt.min(),_=Qs.EMPTY_BYTE_STRING,E=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=_,this.expectedCount=E}withSequenceNumber(e){return new fc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new fc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class HI{constructor(e){this.fe=e}}function n1(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:$0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Gg(s=n.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:tp(s,u.version.toTimestamp()),createTime:tp(s,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:nd(e.version)};else{if(!e.isUnknownDocument())return Ut();r.unknownDocument={path:t.path.toArray(),version:nd(e.version)}}var s,u;return r}function $0(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function nd(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function np(n){const e=new mi(n.seconds,n.nanoseconds);return Wt.fromTimestamp(e)}function yh(n,e){const t=(e.baseMutations||[]).map(u=>BI(n.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const r=e.mutations.map(u=>BI(n.fe,u)),s=mi.fromMillis(e.localWriteTimeMs);return new RI(e.batchId,s,t,r)}function pc(n){const e=np(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?np(n.lastLimboFreeSnapshotVersion):Wt.min();let r;var s;return void 0!==n.query.documents?(Kt(1===(s=n.query).documents.length),r=Go(Ng(KD(s.documents[0])))):r=Go(JD(n.query)),new fc(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Qs.fromBase64String(n.resumeToken))}function zI(n,e){const t=nd(e.snapshotVersion),r=nd(e.lastLimboFreeSnapshotVersion);let s;s=S0(e.target)?QD(n.fe,e.target):jI(n.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Yf(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function qI(n){const e=JD({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?O0(e,e.limit,"L"):e}function r1(n,e){return new U0(e.largestBatchId,BI(n.fe,e.overlayMutation))}function H0(n,e){const t=e.path.lastSegment();return[n,So(e.path.popLast()),t]}function G0(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:nd(r.readTime),documentKey:So(r.documentKey.path),largestBatchId:r.largestBatchId}}class GA{getBundleMetadata(e,t){return WI(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:np(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return WI(e).put({bundleId:(r=t).id,createTime:nd(fs(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return ZI(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:qI(s.bundledQuery),readTime:np(s.readTime)};var s})}saveNamedQuery(e,t){return ZI(e).put({name:(r=t).name,readTime:nd(fs(r.readTime)),bundledQuery:r.bundledQuery});var r}}function WI(n){return Gs(n,"bundles")}function ZI(n){return Gs(n,"namedQueries")}class z0{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new z0(e,t.uid||"")}getOverlay(e,t){return qg(e).get(H0(this.userId,t)).next(r=>r?r1(this.serializer,r):null)}getOverlays(e,t){const r=il();return be.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){const s=[];return r.forEach((u,d)=>{const _=new U0(t,d);s.push(this.we(e,_))}),be.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach(d=>s.add(So(d.getCollectionPath())));const u=[];return s.forEach(d=>{const _=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(qg(e).J("collectionPathOverlayIndex",_))}),be.waitFor(u)}getOverlaysForCollection(e,t,r){const s=il(),u=So(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return qg(e).j("collectionPathOverlayIndex",d).next(_=>{for(const E of _){const T=r1(this.serializer,E);s.set(T.getKey(),T)}return s})}getOverlaysForCollectionGroup(e,t,r,s){const u=il();let d;const _=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return qg(e).X({index:"collectionGroupOverlayIndex",range:_},(E,T,x)=>{const L=r1(this.serializer,T);u.size()<s||L.largestBatchId===d?(u.set(L.getKey(),L),d=L.largestBatchId):x.done()}).next(()=>u)}we(e,t){return qg(e).put(function(r,s,u){const[d,_,E]=H0(s,u.mutation.key);return{userId:s,collectionPath:_,documentId:E,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:o_(r.fe,u.mutation)}}(this.serializer,this.userId,t))}}function qg(n){return Gs(n,"documentOverlays")}class rd{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Qi(e.integerValue));else if("doubleValue"in e){const r=Qi(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),qf(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(el(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?bu(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Ut()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const s of Object.keys(r))this.Te(s,t),this.me(r[s],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const s of r)this.me(s,t)}ve(e,t){this.ye(t,37),Mt.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function i1(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function KI(n){const e=64-function(t){let r=0;for(let s=0;s<8;++s){const u=i1(255&t[s]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}rd.Ve=new rd;class s1{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const s=t.codePointAt(0);this.De(240|s>>>18),this.De(128|63&s>>>12),this.De(128|63&s>>>6),this.De(128|63&s)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const s=t.codePointAt(0);this.Ne(240|s>>>18),this.Ne(128|63&s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s)}}this.ke()}Oe(e){const t=this.Fe(e),r=KI(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}Le(e){const t=this.Fe(e),r=KI(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(s){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,s,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class o1{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class zA{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class a_{constructor(){this.je=new s1,this.ze=new o1(this.je),this.We=new zA(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class rp{constructor(e,t,r,s){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=s}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new rp(this.indexId,this.documentKey,this.arrayValue,r)}}function _h(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=YI(n.arrayValue,e.arrayValue),0!==t?t:(t=YI(n.directionalValue,e.directionalValue),0!==t?t:Mt.comparator(n.documentKey,e.documentKey)))}function YI(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class JM{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){Kt(e.collectionGroup===this.collectionId);const t=$f(e);if(void 0!==t&&!this.en(t))return!1;const r=Hf(e);let s=new Set,u=0,d=0;for(;u<r.length&&this.en(r[u]);++u)s=s.add(r[u].fieldPath.canonicalString());if(u===r.length)return!0;if(void 0!==this.Ze){if(!s.has(this.Ze.field.canonicalString())){const _=r[u];if(!this.nn(this.Ze,_)||!this.sn(this.Ye[d++],_))return!1}++u}for(;u<r.length;++u)if(d>=this.Ye.length||!this.sn(this.Ye[d++],r[u]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function QI(n){var e,t;if(Kt(n instanceof mr||n instanceof qr),n instanceof mr){if(n instanceof _I){const s=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>mr.create(n.field,"==",u)))||[];return qr.create(s,"or")}return n}const r=n.filters.map(s=>QI(s));return qr.create(r,n.op)}function qA(n){if(0===n.getFilters().length)return[];const e=XI(QI(n));return Kt(u1(e)),JI(e)||a1(e)?[e]:e.getFilters()}function JI(n){return n instanceof mr}function a1(n){return n instanceof qr&&b0(n)}function u1(n){return JI(n)||a1(n)||function(e){if(e instanceof qr&&pI(e)){for(const t of e.getFilters())if(!JI(t)&&!a1(t))return!1;return!0}return!1}(n)}function XI(n){if(Kt(n instanceof mr||n instanceof qr),n instanceof mr)return n;if(1===n.filters.length)return XI(n.filters[0]);const e=n.filters.map(r=>XI(r));let t=qr.create(e,n.op);return t=W0(t),u1(t)?t:(Kt(t instanceof qr),Kt(Jl(t)),Kt(t.filters.length>1),t.filters.reduce((r,s)=>q0(r,s)))}function q0(n,e){let t;return Kt(n instanceof mr||n instanceof qr),Kt(e instanceof mr||e instanceof qr),t=n instanceof mr?e instanceof mr?qr.create([n,e],"and"):c1(n,e):e instanceof mr?c1(e,n):function(r,s){if(Kt(r.filters.length>0&&s.filters.length>0),Jl(r)&&Jl(s))return yD(r,s.getFilters());const u=pI(r)?r:s,d=pI(r)?s:r,_=u.filters.map(E=>q0(E,d));return qr.create(_,"or")}(n,e),W0(t)}function c1(n,e){if(Jl(e))return yD(e,n.getFilters());{const t=e.filters.map(r=>q0(n,r));return qr.create(t,"or")}}function W0(n){if(Kt(n instanceof mr||n instanceof qr),n instanceof mr)return n;const e=n.getFilters();if(1===e.length)return W0(e[0]);if(gI(n))return n;const t=e.map(s=>W0(s)),r=[];return t.forEach(s=>{s instanceof mr?r.push(s):s instanceof qr&&(s.op===n.op?r.push(...s.filters):r.push(s))}),1===r.length?r[0]:qr.create(r,n.op)}class WA{constructor(){this.rn=new eC}addToCollectionParentIndex(e,t){return this.rn.add(t),be.resolve()}getCollectionParents(e,t){return be.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return be.resolve()}deleteFieldIndex(e,t){return be.resolve()}getDocumentsMatchingTarget(e,t){return be.resolve(null)}getIndexType(e,t){return be.resolve(0)}getFieldIndexes(e,t){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,t){return be.resolve(wu.min())}getMinOffsetFromCollectionGroup(e,t){return be.resolve(wu.min())}updateCollectionGroup(e,t,r){return be.resolve()}updateIndexEntries(e,t){return be.resolve()}}class eC{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Ei(gr.comparator),u=!s.has(r);return this.index[t]=s.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ei(gr.comparator)).toArray()}}const Z0=new Uint8Array(0);class ZA{constructor(e,t){this.user=e,this.databaseId=t,this.on=new eC,this.un=new rl(r=>Yf(r),(r,s)=>Jy(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const u={collectionId:r,parent:So(s)};return l1(e).put(u)}return be.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[Kb(t),""],!1,!0);return l1(e).j(s).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(Iu(d.parent))}return r})}addFieldIndex(e,t){const r=K0(e),s={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(_=>[_.fieldPath.canonicalString(),_.kind])};var d;delete s.indexId;const u=r.add(s);if(t.indexState){const d=id(e);return u.next(_=>{d.put(G0(_,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=K0(e),s=id(e),u=u_(e);return r.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=u_(e);let s=!0;const u=new Map;return be.forEach(this.cn(t),d=>this.an(e,d).next(_=>{s&&(s=!!_),u.set(d,_)})).next(()=>{if(s){let d=Qn();const _=[];return be.forEach(u,(E,T)=>{var x;ct("IndexedDbIndexManager",`Using index ${x=E,`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(Vt=>`${Vt.fieldPath}:${Vt.kind}`).join(",")}`} to execute ${Yf(t)}`);const L=function(Vt,gn){const zn=$f(gn);if(void 0===zn)return null;for(const _r of M0(Vt,zn.fieldPath))switch(_r.op){case"array-contains-any":return _r.value.arrayValue.values||[];case"array-contains":return[_r.value]}return null}(T,E),Q=function(Vt,gn){const zn=new Map;for(const _r of Hf(gn))for(const Zo of M0(Vt,_r.fieldPath))switch(Zo.op){case"==":case"in":zn.set(_r.fieldPath.canonicalString(),Zo.value);break;case"not-in":case"!=":return zn.set(_r.fieldPath.canonicalString(),Zo.value),Array.from(zn.values())}return null}(T,E),ue=function(Vt,gn){const zn=[];let _r=!0;for(const Zo of Hf(gn)){const ym=0===Zo.kind?CD(Vt,Zo.fieldPath,Vt.startAt):bD(Vt,Zo.fieldPath,Vt.startAt);zn.push(ym.value),_r&&(_r=ym.inclusive)}return new nl(zn,_r)}(T,E),Le=function(Vt,gn){const zn=[];let _r=!0;for(const Zo of Hf(gn)){const ym=0===Zo.kind?bD(Vt,Zo.fieldPath,Vt.endAt):CD(Vt,Zo.fieldPath,Vt.endAt);zn.push(ym.value),_r&&(_r=ym.inclusive)}return new nl(zn,_r)}(T,E),Ye=this.hn(E,T,ue),rt=this.hn(E,T,Le),$t=this.ln(E,T,Q),cn=this.fn(E.indexId,L,Ye,ue.inclusive,rt,Le.inclusive,$t);return be.forEach(cn,Vt=>r.H(Vt,t.limit).next(gn=>{gn.forEach(zn=>{const _r=Mt.fromSegments(zn.documentKey);d.has(_r)||(d=d.add(_r),_.push(_r))})}))}).next(()=>_)}return be.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:qA(qr.create(e.filters,"and")).map(r=>vI(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,s,u,d,_){const E=(null!=t?t.length:1)*Math.max(r.length,u.length),T=E/(null!=t?t.length:1),x=[];for(let L=0;L<E;++L){const Q=t?this.dn(t[L/T]):Z0,ue=this.wn(e,Q,r[L%T],s),Le=this._n(e,Q,u[L%T],d),Ye=_.map(rt=>this.wn(e,Q,rt,!0));x.push(...this.createRange(ue,Le,Ye))}return x}wn(e,t,r,s){const u=new rp(e,Mt.empty(),t,r);return s?u:u.Je()}_n(e,t,r,s){const u=new rp(e,Mt.empty(),t,r);return s?u.Je():u}an(e,t){const r=new JM(t),s=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(u=>{let d=null;for(const _ of u)r.tn(_)&&(!d||_.fields.length>d.fields.length)&&(d=_);return d})}getIndexType(e,t){let r=2;const s=this.cn(t);return be.forEach(s,u=>this.an(e,u).next(d=>{d?0!==r&&d.fields.length<function(_){let E=new Ei(yi.comparator),T=!1;for(const x of _.filters)for(const L of x.getFlattenedFilters())L.field.isKeyField()||("array-contains"===L.op||"array-contains-any"===L.op?T=!0:E=E.add(L.field));for(const x of _.orderBy)x.field.isKeyField()||(E=E.add(x.field));return E.size+(T?1:0)}(u)&&(r=1):r=0})).next(()=>null!==t.limit&&s.length>1&&2===r?1:r)}mn(e,t){const r=new a_;for(const s of Hf(e)){const u=t.data.field(s.fieldPath);if(null==u)return null;const d=r.He(s.kind);rd.Ve._e(u,d)}return r.Qe()}dn(e){const t=new a_;return rd.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new a_;return rd.Ve._e(Pg(this.databaseId,t),r.He(function(s){const u=Hf(s);return 0===u.length?0:u[u.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let s=[];s.push(new a_);let u=0;for(const d of Hf(e)){const _=r[u++];for(const E of s)if(this.yn(t,d.fieldPath)&&Zf(_))s=this.pn(s,d,_);else{const T=E.He(d.kind);rd.Ve._e(_,T)}}return this.In(s)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const s=[...e],u=[];for(const d of r.arrayValue.values||[])for(const _ of s){const E=new a_;E.seed(_.Qe()),rd.Ve._e(d,E.He(t.kind)),u.push(E)}return u}yn(e,t){return!!e.filters.find(r=>r instanceof mr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=K0(e),s=id(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(u=>{const d=[];return be.forEach(u,_=>s.get([_.indexId,this.uid]).next(E=>{d.push(function(T,x){const L=x?new Gf(x.sequenceNumber,new wu(np(x.readTime),new Mt(Iu(x.documentKey)),x.largestBatchId)):Gf.empty(),Q=T.fields.map(([ue,Le])=>new p0(yi.fromServerFormat(ue),Le));return new f0(T.indexId,T.collectionGroup,Q,L)}(_,E))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,s)=>{const u=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==u?u:Bn(r.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const s=K0(e),u=id(e);return this.Tn(e).next(d=>s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(_=>be.forEach(_,E=>u.put(G0(E.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return be.forEach(t,(s,u)=>{const d=r.get(s.collectionGroup);return(d?be.resolve(d):this.getFieldIndexes(e,s.collectionGroup)).next(_=>(r.set(s.collectionGroup,_),be.forEach(_,E=>this.En(e,s,E).next(T=>{const x=this.An(u,E);return T.isEqual(x)?be.resolve():this.vn(e,u,E,T,x)}))))})}Rn(e,t,r,s){return u_(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,s){return u_(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const s=u_(e);let u=new Ei(_h);return s.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(d,_)=>{u=u.add(new rp(r.indexId,t,_.arrayValue,_.directionalValue))}).next(()=>u)}An(e,t){let r=new Ei(_h);const s=this.mn(t,e);if(null==s)return r;const u=$f(t);if(null!=u){const d=e.data.field(u.fieldPath);if(Zf(d))for(const _ of d.arrayValue.values||[])r=r.add(new rp(t.indexId,e.key,this.dn(_),s))}else r=r.add(new rp(t.indexId,e.key,Z0,s));return r}vn(e,t,r,s,u){ct("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(_,E,T,x,L){const Q=_.getIterator(),ue=E.getIterator();let Le=Cu(Q),Ye=Cu(ue);for(;Le||Ye;){let rt=!1,$t=!1;if(Le&&Ye){const cn=T(Le,Ye);cn<0?$t=!0:cn>0&&(rt=!0)}else null!=Le?$t=!0:rt=!0;rt?(x(Ye),Ye=Cu(ue)):$t?(L(Le),Le=Cu(Q)):(Le=Cu(Q),Ye=Cu(ue))}}(s,u,_h,_=>{d.push(this.Rn(e,t,r,_))},_=>{d.push(this.Pn(e,t,r,_))}),be.waitFor(d)}Tn(e){let t=1;return id(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,u)=>{u.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,_)=>_h(d,_)).filter((d,_,E)=>!_||0!==_h(d,E[_-1]));const s=[];s.push(e);for(const d of r){const _=_h(d,e),E=_h(d,t);if(0===_)s[0]=e.Je();else if(_>0&&E<0)s.push(d),s.push(d.Je());else if(E>0)break}s.push(t);const u=[];for(let d=0;d<s.length;d+=2){if(this.bn(s[d],s[d+1]))return[];u.push(IDBKeyRange.bound([s[d].indexId,this.uid,s[d].arrayValue,s[d].directionalValue,Z0,[]],[s[d+1].indexId,this.uid,s[d+1].arrayValue,s[d+1].directionalValue,Z0,[]]))}return u}bn(e,t){return _h(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(tC)}getMinOffset(e,t){return be.mapArray(this.cn(t),r=>this.an(e,r).next(s=>s||Ut())).next(tC)}}function l1(n){return Gs(n,"collectionParents")}function u_(n){return Gs(n,"indexEntries")}function K0(n){return Gs(n,"indexConfiguration")}function id(n){return Gs(n,"indexState")}function tC(n){Kt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;JE(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new wu(e.readTime,e.documentKey,t)}const nC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new fo(e,fo.DEFAULT_COLLECTION_PERCENTILE,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function rC(n,e,t){const r=n.store("mutations"),s=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let _=0;const E=r.X({range:d},(x,L,Q)=>(_++,Q.delete()));u.push(E.next(()=>{Kt(1===_)}));const T=[];for(const x of t.mutations){const L=nI(e,x.key.path,t.batchId);u.push(s.delete(L)),T.push(x.key)}return be.waitFor(u).next(()=>T)}function c_(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ut();e=n.noDocument}return JSON.stringify(e).length}fo.DEFAULT_COLLECTION_PERCENTILE=10,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fo.DEFAULT=new fo(41943040,fo.DEFAULT_COLLECTION_PERCENTILE,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fo.DISABLED=new fo(-1,0,0);class l_{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.Vn={}}static de(e,t,r,s){Kt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new l_(u,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ip(e).X({index:"userMutationsIndex",range:r},(s,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,s){const u=d_(e),d=ip(e);return d.add({}).next(_=>{Kt("number"==typeof _);const E=new RI(_,t,r,s),T=function(Q,ue,Le){const Ye=Le.baseMutations.map($t=>o_(Q.fe,$t)),rt=Le.mutations.map($t=>o_(Q.fe,$t));return{userId:ue,batchId:Le.batchId,localWriteTimeMs:Le.localWriteTime.toMillis(),baseMutations:Ye,mutations:rt}}(this.serializer,this.userId,E),x=[];let L=new Ei((Q,ue)=>Bn(Q.canonicalString(),ue.canonicalString()));for(const Q of s){const ue=nI(this.userId,Q.key.path,_);L=L.add(Q.key.path.popLast()),x.push(d.put(T)),x.push(u.put(ue,vA))}return L.forEach(Q=>{x.push(this.indexManager.addToCollectionParentIndex(e,Q))}),e.addOnCommittedListener(()=>{this.Vn[_]=E.keys()}),be.waitFor(x).next(()=>E)})}lookupMutationBatch(e,t){return ip(e).get(t).next(r=>r?(Kt(r.userId===this.userId),yh(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?be.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const s=r.keys();return this.Vn[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return ip(e).X({index:"userMutationsIndex",range:s},(d,_,E)=>{_.userId===this.userId&&(Kt(_.batchId>=r),u=yh(this.serializer,_)),E.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return ip(e).X({index:"userMutationsIndex",range:t,reverse:!0},(s,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ip(e).j("userMutationsIndex",t).next(r=>r.map(s=>yh(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Ky(this.userId,t.path),s=IDBKeyRange.lowerBound(r),u=[];return d_(e).X({range:s},(d,_,E)=>{const[T,x,L]=d,Q=Iu(x);if(T===this.userId&&t.path.isEqual(Q))return ip(e).get(L).next(ue=>{if(!ue)throw Ut();Kt(ue.userId===this.userId),u.push(yh(this.serializer,ue))});E.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ei(Bn);const s=[];return t.forEach(u=>{const d=Ky(this.userId,u.path),_=IDBKeyRange.lowerBound(d),E=d_(e).X({range:_},(T,x,L)=>{const[Q,ue,Le]=T,Ye=Iu(ue);Q===this.userId&&u.path.isEqual(Ye)?r=r.add(Le):L.done()});s.push(E)}),be.waitFor(s).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,u=Ky(this.userId,r),d=IDBKeyRange.lowerBound(u);let _=new Ei(Bn);return d_(e).X({range:d},(E,T,x)=>{const[L,Q,ue]=E,Le=Iu(Q);L===this.userId&&r.isPrefixOf(Le)?Le.length===s&&(_=_.add(ue)):x.done()}).next(()=>this.Dn(e,_))}Dn(e,t){const r=[],s=[];return t.forEach(u=>{s.push(ip(e).get(u).next(d=>{if(null===d)throw Ut();Kt(d.userId===this.userId),r.push(yh(this.serializer,d))}))}),be.waitFor(s).next(()=>r)}removeMutationBatch(e,t){return rC(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),be.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return be.resolve();const r=IDBKeyRange.lowerBound([this.userId]),s=[];return d_(e).X({range:r},(u,d,_)=>{if(u[0]===this.userId){const E=Iu(u[1]);s.push(E)}else _.done()}).next(()=>{Kt(0===s.length)})})}containsKey(e,t){return d1(e,this.userId,t)}xn(e){return iC(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function d1(n,e,t){const r=Ky(e,t.path),s=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return d_(n).X({range:u,Y:!0},(_,E,T)=>{const[x,L,Q]=_;x===e&&L===s&&(d=!0),T.done()}).next(()=>d)}function ip(n){return Gs(n,"mutations")}function d_(n){return Gs(n,"documentMutations")}function iC(n){return Gs(n,"mutationQueues")}class sp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new sp(0)}static Mn(){return new sp(-1)}}class h1{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new sp(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Wt.fromTimestamp(new mi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.On(e,s)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Wg(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(Kt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let s=0;const u=[];return Wg(e).X((d,_)=>{const E=pc(_);E.sequenceNumber<=t&&null===r.get(E.targetId)&&(s++,u.push(this.removeTargetData(e,E)))}).next(()=>be.waitFor(u)).next(()=>s)}forEachTarget(e,t){return Wg(e).X((r,s)=>{const u=pc(s);t(u)})}$n(e){return f1(e).get("targetGlobalKey").next(t=>(Kt(null!==t),t))}On(e,t){return f1(e).put("targetGlobalKey",t)}Fn(e,t){return Wg(e).put(zI(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Yf(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Wg(e).X({range:s,index:"queryTargetsIndex"},(d,_,E)=>{const T=pc(_);Jy(t,T.target)&&(u=T,E.done())}).next(()=>u)}addMatchingKeys(e,t,r){const s=[],u=Du(e);return t.forEach(d=>{const _=So(d.path);s.push(u.put({targetId:r,path:_})),s.push(this.referenceDelegate.addReference(e,r,d))}),be.waitFor(s)}removeMatchingKeys(e,t,r){const s=Du(e);return be.forEach(t,u=>{const d=So(u.path);return be.waitFor([s.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Du(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=Du(e);let u=Qn();return s.X({range:r,Y:!0},(d,_,E)=>{const T=Iu(d[1]),x=new Mt(T);u=u.add(x)}).next(()=>u)}containsKey(e,t){const r=So(t.path),s=IDBKeyRange.bound([r],[Kb(r)],!1,!0);let u=0;return Du(e).X({index:"documentTargetsIndex",Y:!0,range:s},([d,_],E,T)=>{0!==d&&(u++,T.done())}).next(()=>u>0)}le(e,t){return Wg(e).get(t).next(r=>r?pc(r):null)}}function Wg(n){return Gs(n,"targets")}function f1(n){return Gs(n,"targetGlobal")}function Du(n){return Gs(n,"targetDocuments")}function p1([n,e],[t,r]){const s=Bn(n,t);return 0===s?Bn(e,r):s}class sC{constructor(e){this.Ln=e,this.buffer=new Ei(p1),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();p1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class g1{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;ct("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Se.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){ch(r)?ct("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield uh(r)}yield t.Qn(3e5)}))}}class XM{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return be.resolve(Ao.ct);const r=new sC(t);return this.jn.forEachTarget(e,s=>r.Kn(s.sequenceNumber)).next(()=>this.jn.Wn(e,s=>r.Kn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(nC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nC):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,s,u,d,_,E,T;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(L=>(L>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${L}`),s=this.params.maximumSequenceNumbersToCollect):s=L,d=Date.now(),this.nthSequenceNumber(e,s))).next(L=>(r=L,_=Date.now(),this.removeTargets(e,r,t))).next(L=>(u=L,E=Date.now(),this.removeOrphanedDocuments(e,r))).next(L=>(T=Date.now(),oh()<=pu.in.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-x}ms\n\tDetermined least recently used ${s} in `+(_-d)+`ms\n\tRemoved ${u} targets in `+(E-_)+`ms\n\tRemoved ${L} documents in `+(T-E)+`ms\nTotal Duration: ${T-x}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:u,documentsRemoved:L})))}}class ex{constructor(e,t){this.db=e,this.garbageCollector=function m1(n,e){return new XM(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,s)=>t(s))}addReference(e,t,r){return vh(e,r)}removeReference(e,t,r){return vh(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return vh(e,t)}Xn(e,t){return function(r,s){let u=!1;return iC(r).Z(d=>d1(r,d,s).next(_=>(_&&(u=!0),be.resolve(!_)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let u=0;return this.Yn(e,(d,_)=>{if(_<=t){const E=this.Xn(e,d).next(T=>{if(!T)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Wt.min()),Du(e).delete([0,So(d.path)])))});s.push(E)}}).next(()=>be.waitFor(s)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return vh(e,t)}Yn(e,t){const r=Du(e);let s,u=Ao.ct;return r.X({index:"documentTargetsIndex"},([d,_],{path:E,sequenceNumber:T})=>{0===d?(u!==Ao.ct&&t(new Mt(Iu(s)),u),u=T,s=E):u=Ao.ct}).next(()=>{u!==Ao.ct&&t(new Mt(Iu(s)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function vh(n,e){return Du(n).put((r=n.currentSequenceNumber,{targetId:0,path:So(e.path),sequenceNumber:r}));var r}class y1{constructor(){this.changes=new rl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ii.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?be.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class KA{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return op(e).put(r)}removeEntry(e,t,r){return op(e).delete(function(s,u){const d=s.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],$0(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=Ii.newInvalidDocument(t);return op(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Zg(t))},(s,u)=>{r=this.ts(t,u)}).next(()=>r)}es(e,t){let r={size:0,document:Ii.newInvalidDocument(t)};return op(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Zg(t))},(s,u)=>{r={document:this.ts(t,u),size:c_(u)}}).next(()=>r)}getEntries(e,t){let r=zo();return this.ns(e,t,(s,u)=>{const d=this.ts(s,u);r=r.insert(s,d)}).next(()=>r)}ss(e,t){let r=zo(),s=new Xr(Mt.comparator);return this.ns(e,t,(u,d)=>{const _=this.ts(u,d);r=r.insert(u,_),s=s.insert(u,c_(d))}).next(()=>({documents:r,rs:s}))}ns(e,t,r){if(t.isEmpty())return be.resolve();let s=new Ei(v1);t.forEach(E=>s=s.add(E));const u=IDBKeyRange.bound(Zg(s.first()),Zg(s.last())),d=s.getIterator();let _=d.getNext();return op(e).X({index:"documentKeyIndex",range:u},(E,T,x)=>{const L=Mt.fromSegments([...T.prefixPath,T.collectionGroup,T.documentId]);for(;_&&v1(_,L)<0;)r(_,null),_=d.getNext();_&&_.isEqual(L)&&(r(_,T),_=d.hasNext()?d.getNext():null),_?x.G(Zg(_)):x.done()}).next(()=>{for(;_;)r(_,null),_=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(e,t,r,s){const u=t.path,d=[u.popLast().toArray(),u.lastSegment(),$0(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],_=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return op(e).j(IDBKeyRange.bound(d,_,!0)).next(E=>{let T=zo();for(const x of E){const L=this.ts(Mt.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);L.isFoundDocument()&&(Lg(t,L)||s.has(L.key))&&(T=T.insert(L.key,L))}return T})}getAllFromCollectionGroup(e,t,r,s){let u=zo();const d=h_(t,r),_=h_(t,wu.max());return op(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,_,!0)},(E,T,x)=>{const L=this.ts(Mt.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);u=u.insert(L.key,L),u.size===s&&x.done()}).next(()=>u)}newChangeBuffer(e){return new Y0(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return oC(e).get("remoteDocumentGlobalKey").next(t=>(Kt(!!t),t))}Zn(e,t){return oC(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function GI(n,e){let t;if(e.document)t=VI(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Mt.fromSegments(e.noDocument.path),s=np(e.noDocument.readTime);t=Ii.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ut();{const r=Mt.fromSegments(e.unknownDocument.path),s=np(e.unknownDocument.version);t=Ii.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime(function(r){const s=new mi(r[0],r[1]);return Wt.fromTimestamp(s)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Wt.min()))return r}return Ii.newInvalidDocument(e)}}function _1(n){return new KA(n)}class Y0 extends y1{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new rl(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const t=[];let r=0,s=new Ei((u,d)=>Bn(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const _=this.us.get(u);if(t.push(this.os.removeEntry(e,u,_.readTime)),d.isValidDocument()){const E=n1(this.os.serializer,d);s=s.add(u.path.popLast());const T=c_(E);r+=T-_.size,t.push(this.os.addEntry(e,u,E))}else if(r-=_.size,this.trackRemovals){const E=n1(this.os.serializer,d.convertToNoDocument(Wt.min()));t.push(this.os.addEntry(e,u,E))}}),s.forEach(u=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.os.updateMetadata(e,r)),be.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:s})=>(s.forEach((u,d)=>{this.us.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function oC(n){return Gs(n,"remoteDocumentGlobal")}function op(n){return Gs(n,"remoteDocumentsV14")}function Zg(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function h_(n,e){const t=e.documentKey.path.toArray();return[n,$0(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function v1(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(s=Bn(t[u],r[u]),s)return s;return s=Bn(t.length,r.length),s||(s=Bn(t[t.length-2],r[r.length-2]),s||Bn(t[t.length-1],r[r.length-1]))}class YA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class aC{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(null!==r&&e_(r.mutation,s,Mo.empty(),mi.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Qn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Qn()){const s=il();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(u=>{let d=dc();return u.forEach((_,E)=>{d=d.insert(_,E.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=il();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Qn()))}populateOverlays(e,t,r){const s=[];return r.forEach(u=>{t.has(u)||s.push(u)}),this.documentOverlayCache.getOverlays(e,s).next(u=>{u.forEach((d,_)=>{t.set(d,_)})})}computeViews(e,t,r,s){let u=zo();const d=R0(),_=R0();return t.forEach((E,T)=>{const x=r.get(T.key);s.has(T.key)&&(void 0===x||x.mutation instanceof sl)?u=u.insert(T.key,T):void 0!==x?(d.set(T.key,x.mutation.getFieldMask()),e_(x.mutation,T,x.mutation.getFieldMask(),mi.now())):d.set(T.key,Mo.empty())}),this.recalculateAndSaveOverlays(e,u).next(E=>(E.forEach((T,x)=>d.set(T,x)),t.forEach((T,x)=>{var L;return _.set(T,new YA(x,null!==(L=d.get(T))&&void 0!==L?L:null))}),_))}recalculateAndSaveOverlays(e,t){const r=R0();let s=new Xr((d,_)=>d-_),u=Qn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const _ of d)_.keys().forEach(E=>{const T=t.get(E);if(null===T)return;let x=r.get(E)||Mo.empty();x=_.applyToLocalView(T,x),r.set(E,x);const L=(s.get(_.batchId)||Qn()).add(E);s=s.insert(_.batchId,L)})}).next(()=>{const d=[],_=s.getReverseIterator();for(;_.hasNext();){const E=_.getNext(),T=E.key,x=E.value,L=Jf();x.forEach(Q=>{if(!u.has(Q)){const ue=kD(t.get(Q),r.get(Q));null!==ue&&L.set(Q,ue),u=u.add(Q)}}),d.push(this.documentOverlayCache.saveOverlays(e,T,L))}return be.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Mt.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):EI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var s}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(u=>{const d=s-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-u.size):be.resolve(il());let _=-1,E=u;return d.next(T=>be.forEach(T,(x,L)=>(_<L.largestBatchId&&(_=L.largestBatchId),u.get(x)?be.resolve():this.remoteDocumentCache.getEntry(e,x).next(Q=>{E=E.insert(x,Q)}))).next(()=>this.populateOverlays(e,T,u)).next(()=>this.computeViews(e,E,T,Qn())).next(x=>({batchId:_,changes:MD(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Mt(t)).next(r=>{let s=dc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const s=t.collectionGroup;let u=dc();return this.indexManager.getCollectionParents(e,s).next(d=>be.forEach(d,_=>{const E=(T=t,x=_.child(s),new Xl(x,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,x;return this.getDocumentsMatchingCollectionQuery(e,E,r).next(T=>{T.forEach((x,L)=>{u=u.insert(x,L)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(s=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s))).next(u=>{s.forEach((_,E)=>{const T=E.getKey();null===u.get(T)&&(u=u.insert(T,Ii.newInvalidDocument(T)))});let d=dc();return u.forEach((_,E)=>{const T=s.get(_);void 0!==T&&e_(T.mutation,E,Mo.empty(),mi.now()),Lg(t,E)&&(d=d.insert(_,E))}),d})}}class QA{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return be.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:fs(r.createTime)}),be.resolve()}getNamedQuery(e,t){return be.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:qI(r.bundledQuery),readTime:fs(r.readTime)}),be.resolve();var r}}class JA{constructor(){this.overlays=new Xr(Mt.comparator),this.ls=new Map}getOverlay(e,t){return be.resolve(this.overlays.get(t))}getOverlays(e,t){const r=il();return be.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,u)=>{this.we(e,t,u)}),be.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.ls.get(r);return void 0!==s&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),be.resolve()}getOverlaysForCollection(e,t,r){const s=il(),u=t.length+1,d=new Mt(t.child("")),_=this.overlays.getIteratorFrom(d);for(;_.hasNext();){const E=_.getNext().value,T=E.getKey();if(!t.isPrefixOf(T.path))break;T.path.length===u&&E.largestBatchId>r&&s.set(E.getKey(),E)}return be.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let u=new Xr((T,x)=>T-x);const d=this.overlays.getIterator();for(;d.hasNext();){const T=d.getNext().value;if(T.getKey().getCollectionGroup()===t&&T.largestBatchId>r){let x=u.get(T.largestBatchId);null===x&&(x=il(),u=u.insert(T.largestBatchId,x)),x.set(T.getKey(),T)}}const _=il(),E=u.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((T,x)=>_.set(T,x)),!(_.size()>=s)););return be.resolve(_)}we(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const d=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new U0(t,r));let u=this.ls.get(t);void 0===u&&(u=Qn(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class Q0{constructor(){this.fs=new Ei(ps.ds),this.ws=new Ei(ps._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new ps(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new ps(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Mt(new gr([])),r=new ps(t,e),s=new ps(t,e+1),u=[];return this.ws.forEachInRange([r,s],d=>{this.ys(d),u.push(d.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Mt(new gr([])),r=new ps(t,e),s=new ps(t,e+1);let u=Qn();return this.ws.forEachInRange([r,s],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new ps(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ps{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Mt.comparator(e.key,t.key)||Bn(e.As,t.As)}static _s(e,t){return Bn(e.As,t.As)||Mt.comparator(e.key,t.key)}}class XA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ei(ps.ds)}checkEmpty(e){return be.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const u=this.vs;this.vs++;const d=new RI(u,t,r,s);this.mutationQueue.push(d);for(const _ of s)this.Rs=this.Rs.add(new ps(_.key,u)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return be.resolve(d)}lookupMutationBatch(e,t){return be.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.bs(t+1),u=s<0?0:s;return be.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ps(t,0),s=new ps(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,s],d=>{const _=this.Ps(d.As);u.push(_)}),be.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ei(Bn);return t.forEach(s=>{const u=new ps(s,0),d=new ps(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,d],_=>{r=r.add(_.As)})}),be.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let u=r;Mt.isDocumentKey(u)||(u=u.child(""));const d=new ps(new Mt(u),0);let _=new Ei(Bn);return this.Rs.forEachWhile(E=>{const T=E.key.path;return!!r.isPrefixOf(T)&&(T.length===s&&(_=_.add(E.As)),!0)},d),be.resolve(this.Vs(_))}Vs(e){const t=[];return e.forEach(r=>{const s=this.Ps(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){Kt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return be.forEach(t.mutations,s=>{const u=new ps(s.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new ps(t,0),s=this.Rs.firstAfterOrEqual(r);return be.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return be.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class eS{constructor(e){this.Ds=e,this.docs=new Xr(Mt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),u=s?s.size:0,d=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return be.resolve(r?r.document.mutableCopy():Ii.newInvalidDocument(t))}getEntries(e,t){let r=zo();return t.forEach(s=>{const u=this.docs.get(s);r=r.insert(s,u?u.document.mutableCopy():Ii.newInvalidDocument(s))}),be.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let u=zo();const d=t.path,_=new Mt(d.child("")),E=this.docs.getIteratorFrom(_);for(;E.hasNext();){const{key:T,value:{document:x}}=E.getNext();if(!d.isPrefixOf(T.path))break;T.path.length>d.length+1||JE(Wy(x),r)<=0||(s.has(x.key)||Lg(t,x))&&(u=u.insert(x.key,x.mutableCopy()))}return be.resolve(u)}getAllFromCollectionGroup(e,t,r,s){Ut()}Cs(e,t){return be.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new w1(this)}getSize(e){return be.resolve(this.size)}}class w1 extends y1{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),be.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class E1{constructor(e){this.persistence=e,this.xs=new rl(t=>Yf(t),Jy),this.lastRemoteSnapshotVersion=Wt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Q0,this.targetCount=0,this.Ms=sp.kn()}forEachTarget(e,t){return this.xs.forEach((r,s)=>t(s)),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),be.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new sp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,be.resolve()}updateTargetData(e,t){return this.Fn(t),be.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,t,r){let s=0;const u=[];return this.xs.forEach((d,_)=>{_.sequenceNumber<=t&&null===r.get(_.targetId)&&(this.xs.delete(d),u.push(this.removeMatchingKeysForTargetId(e,_.targetId)),s++)}),be.waitFor(u).next(()=>s)}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return be.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),be.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(d=>{u.push(s.markPotentiallyOrphaned(e,d))}),be.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),be.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return be.resolve(r)}containsKey(e,t){return be.resolve(this.ks.containsKey(t))}}class f_{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ao(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new E1(this),this.indexManager=new WA,this.remoteDocumentCache=new eS(r=>this.referenceDelegate.Ls(r)),this.serializer=new HI(t),this.qs=new QA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new JA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new XA(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){ct("MemoryPersistence","Starting transaction:",e);const s=new I1(this.Os.next());return this.referenceDelegate.Us(),r(s).next(u=>this.referenceDelegate.Ks(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Gs(e,t){return be.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class I1 extends g0{constructor(e){super(),this.currentSequenceNumber=e}}class J0{constructor(e){this.persistence=e,this.Qs=new Q0,this.js=null}static zs(e){return new J0(e)}get Ws(){if(this.js)return this.js;throw Ut()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),be.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),be.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),be.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.Ws,r=>{const s=Mt.fromPath(r);return this.Hs(e,s).next(u=>{u||t.removeEntry(s,Wt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return be.or([()=>be.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class C1{constructor(e){this.serializer=e}O(e,t,r,s){const u=new y0("createOrUpgrade",t);var _;r<1&&s>=1&&(e.createObjectStore("owner"),(_=e).createObjectStore("mutationQueues",{keyPath:"userId"}),_.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",_0,{unique:!0}),_.createObjectStore("documentMutations"),b1(e),function(_){_.createObjectStore("remoteDocuments")}(e));let d=be.resolve();return r<3&&s>=3&&(0!==r&&(function(_){_.deleteObjectStore("targetDocuments"),_.deleteObjectStore("targets"),_.deleteObjectStore("targetGlobal")}(e),b1(e)),d=d.next(()=>function(_){const E=_.store("targetGlobal"),T={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Wt.min().toTimestamp(),targetCount:0};return E.put("targetGlobalKey",T)}(u))),r<4&&s>=4&&(0!==r&&(d=d.next(()=>function(_,E){return E.store("mutations").j().next(T=>{_.deleteObjectStore("mutations"),_.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",_0,{unique:!0});const x=E.store("mutations"),L=T.map(Q=>x.put(Q));return be.waitFor(L)})}(e,u))),d=d.next(()=>{!function(_){_.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&s>=5&&(d=d.next(()=>this.Ys(u))),r<6&&s>=6&&(d=d.next(()=>(function(_){_.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),r<7&&s>=7&&(d=d.next(()=>this.Zs(u))),r<8&&s>=8&&(d=d.next(()=>this.ti(e,u))),r<9&&s>=9&&(d=d.next(()=>{!function(_){_.objectStoreNames.contains("remoteDocumentChanges")&&_.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&s>=10&&(d=d.next(()=>this.ei(u))),r<11&&s>=11&&(d=d.next(()=>{(function(_){_.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(_){_.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(d=d.next(()=>{!function(_){const E=_.createObjectStore("documentOverlays",{keyPath:IA});E.createIndex("collectionPathOverlayIndex",CA,{unique:!1}),E.createIndex("collectionGroupOverlayIndex",bA,{unique:!1})}(e)})),r<13&&s>=13&&(d=d.next(()=>function(_){const E=_.createObjectStore("remoteDocumentsV14",{keyPath:wA});E.createIndex("documentKeyIndex",eD),E.createIndex("collectionGroupIndex",rI)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(d=d.next(()=>this.si(e,u))),r<15&&s>=15&&(d=d.next(()=>function(_){_.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),_.createObjectStore("indexState",{keyPath:rD}).createIndex("sequenceNumberIndex",iD,{unique:!1}),_.createObjectStore("indexEntries",{keyPath:sD}).createIndex("documentKeyIndex",oD,{unique:!1})}(e))),d}Xs(e){let t=0;return e.store("remoteDocuments").X((r,s)=>{t+=c_(s)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(s=>be.forEach(s,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",d).next(_=>be.forEach(_,E=>{Kt(E.userId===u.userId);const T=yh(this.serializer,E);return rC(e,u.userId,T).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const u=[];return r.X((d,_)=>{const E=new gr(d),T=[0,So(E)];u.push(t.get(T).next(x=>x?be.resolve():t.put({targetId:0,path:So(E),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>be.waitFor(u))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:EA});const r=t.store("collectionParents"),s=new eC,u=d=>{if(s.add(d)){const _=d.lastSegment(),E=d.popLast();return r.put({collectionId:_,parent:So(E)})}};return t.store("remoteDocuments").X({Y:!0},(d,_)=>{const E=new gr(d);return u(E.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([d,_,E],T)=>{const x=Iu(_);return u(x.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,s)=>{const u=pc(s),d=zI(this.serializer,u);return t.put(d)})}ni(e,t){const r=t.store("remoteDocuments"),s=[];return r.X((u,d)=>{const _=t.store("remoteDocumentsV14"),E=(T=d,T.document?new Mt(gr.fromString(T.document.name).popFirst(5)):T.noDocument?Mt.fromSegments(T.noDocument.path):T.unknownDocument?Mt.fromSegments(T.unknownDocument.path):Ut()).path.toArray();var T;const x={prefixPath:E.slice(0,E.length-2),collectionGroup:E[E.length-2],documentId:E[E.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};s.push(_.put(x))}).next(()=>be.waitFor(s))}si(e,t){const r=t.store("mutations"),s=_1(this.serializer),u=new f_(J0.zs,this.serializer.fe);return r.j().next(d=>{const _=new Map;return d.forEach(E=>{var T;let x=null!==(T=_.get(E.userId))&&void 0!==T?T:Qn();yh(this.serializer,E).keys().forEach(L=>x=x.add(L)),_.set(E.userId,x)}),be.forEach(_,(E,T)=>{const x=new Fi(T),L=z0.de(this.serializer,x),Q=u.getIndexManager(x),ue=l_.de(x,this.serializer,Q,u.referenceDelegate);return new aC(s,ue,L,Q).recalculateAndSaveOverlaysForDocumentKeys(new v0(t,Ao.ct),E).next()})})}}function b1(n){n.createObjectStore("targetDocuments",{keyPath:iI}).createIndex("documentTargetsIndex",nD,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",tD,{unique:!0}),n.createObjectStore("targetGlobal")}const uC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class g_{constructor(e,t,r,s,u,d,_,E,T,x,L=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=u,this.window=d,this.document=_,this.ri=T,this.oi=x,this.ui=L,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=Q=>Promise.resolve(),!g_.D())throw new it(xe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ex(this,s),this.di=t+"main",this.serializer=new HI(E),this.wi=new Eu(this.di,this.ui,new C1(this.serializer)),this.Bs=new h1(this.referenceDelegate,this.serializer),this.remoteDocumentCache=_1(this.serializer),this.qs=new GA,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===x&&gi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new it(xe.FAILED_PRECONDITION,uC);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Ao(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,Se.Z)(function*(s){if(t.started)return e(s)});return function(s){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Se.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Se.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>m_(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(ch(e))return ct("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ct("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return ap(e).get("owner").next(t=>be.resolve(this.Ri(t)))}Pi(e){return m_(e).delete(this.clientId)}bi(){var e=this;return(0,Se.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const s=Gs(r,"clientMetadata");return s.j().next(u=>{const d=e.Si(u,18e5),_=u.filter(E=>-1===d.indexOf(E));return be.forEach(_,E=>s.delete(E.clientId)).next(()=>_)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?be.resolve(!0):ap(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new it(xe.FAILED_PRECONDITION,uC);return!1}}return!(!this.networkEnabled||!this.inForeground)||m_(e).j().next(r=>void 0===this.Si(r,5e3).find(s=>!(this.clientId===s.clientId||!(!this.networkEnabled&&s.networkEnabled||!this.inForeground&&s.inForeground&&this.networkEnabled===s.networkEnabled))))}).next(t=>(this.isPrimary!==t&&ct("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Se.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new v0(t,Ao.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>m_(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return l_.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ZA(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return z0.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){ct("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===t?"readonly":"readwrite",u=15===(d=this.ui)?aD:14===d?uI:13===d?aI:12===d?oI:11===d?sI:void Ut();var d;let _;return this.wi.runTransaction(e,s,u,E=>(_=new v0(E,this.Os?this.Os.next():Ao.ct),"readwrite-primary"===t?this.Ti(_).next(T=>!!T||this.Ei(_)).next(T=>{if(!T)throw gi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new it(xe.FAILED_PRECONDITION,Qb);return r(_)}).next(T=>this.vi(_).next(()=>T)):this.Oi(_).next(()=>r(_)))).then(E=>(_.raiseOnCommittedEvent(),E))}Oi(e){return ap(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new it(xe.FAILED_PRECONDITION,uC)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ap(e).put("owner",t)}static D(){return Eu.D()}Ai(e){const t=ap(e);return t.get("owner").next(r=>this.Ri(r)?(ct("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):be.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(gi(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,br.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return ct("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return gi("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){gi("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ap(n){return Gs(n,"owner")}function m_(n){return Gs(n,"clientMetadata")}function y_(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class __{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=s}static Li(e,t){let r=Qn(),s=Qn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new __(e,t.fromCache,r,s)}}class D1{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,s){return this.Ki(e,t).next(u=>u||this.Gi(e,t,s,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(TD(t))return be.resolve(null);let r=Go(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=O0(t,null,"F"),r=Go(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const d=Qn(...u);return this.Ui.getDocuments(e,d).next(_=>this.indexManager.getMinOffset(e,r).next(E=>{const T=this.ji(t,_);return this.zi(t,T,d,E.readTime)?this.Ki(e,O0(t,null,"F")):this.Wi(e,T,t,E)}))})))}Gi(e,t,r,s){return TD(t)||s.isEqual(Wt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const d=this.ji(t,u);return this.zi(t,d,r,s)?this.Qi(e,t):(oh()<=pu.in.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),P0(t)),this.Wi(e,d,t,qy(s,-1)))})}ji(e,t){let r=new Ei(DI(e));return t.forEach((s,u)=>{Lg(e,u)&&(r=r.add(u))}),r}zi(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}Qi(e,t){return oh()<=pu.in.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",P0(t)),this.Ui.getDocumentsMatchingQuery(e,t,wu.min())}Wi(e,t,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class tS{constructor(e,t,r,s){this.persistence=e,this.Hi=t,this.serializer=s,this.Ji=new Xr(Bn),this.Yi=new rl(u=>Yf(u),Jy),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aC(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function T1(n,e,t,r){return new tS(n,e,t,r)}function A1(n,e){return X0.apply(this,arguments)}function X0(){return X0=(0,Se.Z)(function*(n,e){const t=Rt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(u=>(s=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const d=[],_=[];let E=Qn();for(const T of s){d.push(T.batchId);for(const x of T.mutations)E=E.add(x.key)}for(const T of u){_.push(T.batchId);for(const x of T.mutations)E=E.add(x.key)}return t.localDocuments.getDocuments(r,E).next(T=>({er:T,removedBatchIds:d,addedBatchIds:_}))})})}),X0.apply(this,arguments)}function lC(n){const e=Rt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function dC(n,e,t){let r=Qn(),s=Qn();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let d=zo();return t.forEach((_,E)=>{const T=u.get(_);E.isFoundDocument()!==T.isFoundDocument()&&(s=s.add(_)),E.isNoDocument()&&E.version.isEqual(Wt.min())?(e.removeEntry(_,E.readTime),d=d.insert(_,E)):!T.isValidDocument()||E.version.compareTo(T.version)>0||0===E.version.compareTo(T.version)&&T.hasPendingWrites?(e.addEntry(E),d=d.insert(_,E)):ct("LocalStore","Ignoring outdated watch update for ",_,". Current version:",T.version," Watch version:",E.version)}),{nr:d,sr:s}})}function S1(n,e){const t=Rt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Kg(n,e){const t=Rt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Bs.getTargetData(r,e).next(u=>u?(s=u,be.resolve(s)):t.Bs.allocateTargetId(r).next(d=>(s=new fc(e,d,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ji.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function up(n,e,t){return ew.apply(this,arguments)}function ew(){return ew=(0,Se.Z)(function*(n,e,t){const r=Rt(n),s=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,s)))}catch(d){if(!ch(d))throw d;ct("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}),ew.apply(this,arguments)}function tw(n,e,t){const r=Rt(n);let s=Wt.min(),u=Qn();return r.persistence.runTransaction("Execute query","readonly",d=>function(_,E,T){const x=Rt(_),L=x.Yi.get(T);return void 0!==L?be.resolve(x.Ji.get(L)):x.Bs.getTargetData(E,T)}(r,d,Go(e)).next(_=>{if(_)return s=_.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(d,_.targetId).next(E=>{u=E})}).next(()=>r.Hi.getDocumentsMatchingQuery(d,e,t?s:Wt.min(),t?u:Qn())).next(_=>(xo(r,bI(e),_),{documents:_,ir:u})))}function hC(n,e){const t=Rt(n),r=Rt(t.Bs),s=t.Ji.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",u=>r.le(u,e).next(d=>d?d.target:null))}function fC(n,e){const t=Rt(n),r=t.Xi.get(e)||Wt.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.Zi.getAllFromCollectionGroup(s,e,qy(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(xo(t,e,s),s))}function xo(n,e,t){let r=n.Xi.get(e)||Wt.min();t.forEach((s,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}function pC(){return pC=(0,Se.Z)(function*(n,e,t,r){const s=Rt(n);let u=Qn(),d=zo();for(const T of t){const x=e.rr(T.metadata.name);T.document&&(u=u.add(x));const L=e.ur(T);L.setReadTime(e.cr(T.metadata.readTime)),d=d.insert(x,L)}const _=s.Zi.newChangeBuffer({trackRemovals:!0}),E=yield Kg(s,(T=r,Go(Ng(gr.fromString(`__bundle__/docs/${T}`)))));var T;return s.persistence.runTransaction("Apply bundle documents","readwrite",T=>dC(T,_,d).next(x=>(_.apply(T),x)).next(x=>s.Bs.removeMatchingKeysForTargetId(T,E.targetId).next(()=>s.Bs.addMatchingKeys(T,u,E.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(T,x.nr,x.sr)).next(()=>x.nr)))}),pC.apply(this,arguments)}function rS(n,e){return M1.apply(this,arguments)}function M1(){return M1=(0,Se.Z)(function*(n,e,t=Qn()){const r=yield Kg(n,Go(qI(e.bundledQuery))),s=Rt(n);return s.persistence.runTransaction("Save named query","readwrite",u=>{const d=fs(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return s.qs.saveNamedQuery(u,e);const _=r.withResumeToken(Qs.EMPTY_BYTE_STRING,d);return s.Ji=s.Ji.insert(_.targetId,_),s.Bs.updateTargetData(u,_).next(()=>s.Bs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>s.Bs.addMatchingKeys(u,t,r.targetId)).next(()=>s.qs.saveNamedQuery(u,e))})}),M1.apply(this,arguments)}function iS(n,e){return`firestore_clients_${n}_${e}`}function gC(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function v_(n,e){return`firestore_targets_${n}_${e}`}class mC{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static ar(e,t,r){const s=JSON.parse(r);let u,d="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(u=new it(s.error.code,s.error.message))),d?new mC(e,t,s.state,u):(gi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let s,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new it(r.error.code,r.error.message))),u?new nw(e,r.state,s):(gi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let s="object"==typeof r&&r.activeTargetIds instanceof Array,u=OD();for(let d=0;s&&d<r.activeTargetIds.length;++d)s=tI(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return s?new yC(e,u):(gi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class cp{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new cp(t.clientId,t.onlineState):(gi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class _C{constructor(){this.activeTargetIds=OD()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class w_{constructor(e,t,r,s,u){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Xr(Bn),this.started=!1,this.yr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=iS(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new _C),this.Tr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(_){return`firestore_bundle_loaded_v2_${_}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Se.Z)(function*(){const t=yield e.syncEngine.$i();for(const s of t){if(s===e.wr)continue;const u=e.getItem(iS(e.persistenceKey,s));if(u){const d=yC.ar(s,u);d&&(e.gr=e.gr.insert(d.clientId,d))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const s=e.br(r);s&&e.Vr(s)}for(const s of e.yr)e.mr(s);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(v_(this.persistenceKey,e));if(r){const s=nw.ar(e,r);s&&(t=s.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(v_(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(s=>{this.Cr(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ct("SharedClientState","READ",e,t),t}setItem(e,t){ct("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ct("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ct("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void gi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Se.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const s=t.Or(r.key);return t.Fr(s,null)}{const s=t.Br(r.key,r.newValue);if(s)return t.Fr(s.clientId,s)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const s=t.Lr(r.key,r.newValue);if(s)return t.qr(s)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const s=t.Ur(r.key,r.newValue);if(s)return t.Kr(s)}}else if(r.key===t.vr){if(null!==r.newValue){const s=t.br(r.newValue);if(s)return t.Vr(s)}}else if(r.key===t.Ir){const s=function(u){let d=Ao.ct;if(null!=u)try{const _=JSON.parse(u);Kt("number"==typeof _),d=_}catch(_){gi("SharedClientState","Failed to read sequence number from WebStorage",_)}return d}(r.newValue);s!==Ao.ct&&t.sequenceNumberHandler(s)}else if(r.key===t.Rr){const s=t.Gr(r.newValue);yield Promise.all(s.map(u=>t.syncEngine.Qr(u)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const s=new mC(this.currentUser,e,t,r),u=gC(this.persistenceKey,this.currentUser,e);this.setItem(u,s.hr())}Cr(e){const t=gC(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const s=v_(this.persistenceKey,e),u=new nw(e,t,r);this.setItem(s,u.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return yC.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),s=Number(r[1]);return mC.ar(new Fi(void 0!==r[2]?r[2]:null),s,t)}Ur(e,t){const r=this.Ar.exec(e),s=Number(r[1]);return nw.ar(s,t)}br(e){return cp.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Se.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);ct("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),s=this.Sr(this.gr),u=this.Sr(r),d=[],_=[];return u.forEach(E=>{s.has(E)||d.push(E)}),s.forEach(E=>{u.has(E)||_.push(E)}),this.syncEngine.Wr(d,_).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=OD();return e.forEach((r,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class x1{constructor(){this.Hr=new _C,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new _C,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class O1{Yr(e){}shutdown(){}}class P1{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ct("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ct("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let rw=null;function vC(){return null===rw?rw=268435456+Math.round(2147483648*Math.random()):rw++,"0x"+rw.toString(16)}const wC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class R1{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Oo="WebChannelConnection";class iw extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,s,u){const d=vC(),_=this.To(e,t);ct("RestConnection",`Sending RPC '${e}' ${d}:`,_,r);const E={};return this.Eo(E,s,u),this.Ao(e,_,E,r).then(T=>(ct("RestConnection",`Received RPC '${e}' ${d}: `,T),T),T=>{throw co("RestConnection",`RPC '${e}' ${d} failed with error: `,T,"url: ",_,"request:",r),T})}vo(e,t,r,s,u,d){return this.Io(e,t,r,s,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+oc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,u)=>e[u]=s),r&&r.headers.forEach((s,u)=>e[u]=s)}To(e,t){return`${this.mo}/v1/${t}:${wC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,s){const u=vC();return new Promise((d,_)=>{const E=new Bf;E.setWithCredentials(!0),E.listenOnce(KE.COMPLETE,()=>{try{switch(E.getLastErrorCode()){case ZE.NO_ERROR:const x=E.getResponseJson();ct(Oo,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(x)),d(x);break;case ZE.TIMEOUT:ct(Oo,`RPC '${e}' ${u} timed out`),_(new it(xe.DEADLINE_EXCEEDED,"Request time out"));break;case ZE.HTTP_ERROR:const L=E.getStatus();if(ct(Oo,`RPC '${e}' ${u} failed with status:`,L,"response text:",E.getResponseText()),L>0){let Q=E.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const ue=Q?.error;if(ue&&ue.status&&ue.message){const Le=function(Ye){const rt=Ye.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(rt)>=0?rt:xe.UNKNOWN}(ue.status);_(new it(Le,ue.message))}else _(new it(xe.UNKNOWN,"Server responded with status "+E.getStatus()))}else _(new it(xe.UNAVAILABLE,"Connection failed."));break;default:Ut()}}finally{ct(Oo,`RPC '${e}' ${u} completed.`)}});const T=JSON.stringify(s);ct(Oo,`RPC '${e}' ${u} sending request:`,s),E.send(t,"POST",T,r,15)})}Ro(e,t,r){const s=vC(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=l0(),_=uA(),E={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},T=this.longPollingOptions.timeoutSeconds;void 0!==T&&(E.longPollingTimeout=Math.round(1e3*T)),this.useFetchStreams&&(E.xmlHttpFactory=new zy({})),this.Eo(E.initMessageHeaders,t,r),E.encodeInitMessageHeaders=!0;const x=u.join("");ct(Oo,`Creating RPC '${e}' stream ${s}: ${x}`,E);const L=d.createWebChannel(x,E);let Q=!1,ue=!1;const Le=new R1({ro:rt=>{ue?ct(Oo,`Not sending because RPC '${e}' stream ${s} is closed:`,rt):(Q||(ct(Oo,`Opening RPC '${e}' stream ${s} transport.`),L.open(),Q=!0),ct(Oo,`RPC '${e}' stream ${s} sending:`,rt),L.send(rt))},oo:()=>L.close()}),Ye=(rt,$t,cn)=>{rt.listen($t,Vt=>{try{cn(Vt)}catch(gn){setTimeout(()=>{throw gn},0)}})};return Ye(L,Hs.EventType.OPEN,()=>{ue||ct(Oo,`RPC '${e}' stream ${s} transport opened.`)}),Ye(L,Hs.EventType.CLOSE,()=>{ue||(ue=!0,ct(Oo,`RPC '${e}' stream ${s} transport closed`),Le.wo())}),Ye(L,Hs.EventType.ERROR,rt=>{ue||(ue=!0,co(Oo,`RPC '${e}' stream ${s} transport errored:`,rt),Le.wo(new it(xe.UNAVAILABLE,"The operation could not be completed")))}),Ye(L,Hs.EventType.MESSAGE,rt=>{var $t;if(!ue){const cn=rt.data[0];Kt(!!cn);const gn=cn.error||(null===($t=cn[0])||void 0===$t?void 0:$t.error);if(gn){ct(Oo,`RPC '${e}' stream ${s} received error:`,gn);const zn=gn.status;let _r=function(ym){const KP=hs[ym];if(void 0!==KP)return PA(KP)}(zn),Zo=gn.message;void 0===_r&&(_r=xe.INTERNAL,Zo="Unknown error status: "+zn+" with message "+gn.message),ue=!0,Le.wo(new it(_r,Zo)),L.close()}else ct(Oo,`RPC '${e}' stream ${s} received:`,cn),Le._o(cn)}}),Ye(_,cA.STAT_EVENT,rt=>{rt.stat===sc.PROXY?ct(Oo,`RPC '${e}' stream ${s} detected buffering proxy`):rt.stat===sc.NOPROXY&&ct(Oo,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{Le.fo()},0),Le}}function sw(){return typeof window<"u"?window:null}function EC(){return typeof document<"u"?document:null}function Qg(n){return new zD(n,!0)}class IC{constructor(e,t,r=1e3,s=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=s,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,t-r);s>0&&ct("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class CC{constructor(e,t,r,s,u,d,_,E){this.ii=e,this.$o=r,this.Oo=s,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=_,this.listener=E,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new IC(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Se.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Se.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,Se.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===xe.RESOURCE_EXHAUSTED?(gi(t.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===xe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===t&&this.Zo(r,s)},r=>{e(()=>{const s=new it(xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){var e=this;this.state=5,this.qo.No((0,Se.Z)(function*(){e.state=0,e.start()}))}tu(e){return ct("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(ct("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jg extends CC{constructor(e,t,r,s,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,d),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function VA(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:Ut(),s=e.targetChange.targetIds||[],u=function(E,T){return E.useProto3Json?(Kt(void 0===T||"string"==typeof T),Qs.fromBase64String(T||"")):(Kt(void 0===T||T instanceof Uint8Array),Qs.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,_=d&&function(E){const T=void 0===E.code?xe.UNKNOWN:PA(E.code);return new it(T,E.message||"")}(d);t=new HD(r,s,u,_||null)}else if("documentChange"in e){const r=e.documentChange,s=hc(n,r.document.name),u=fs(r.document.updateTime),d=r.document.createTime?fs(r.document.createTime):Wt.min(),_=new ho({mapValue:{fields:r.document.fields}}),E=Ii.newFoundDocument(s,u,d,_);t=new V0(r.targetIds||[],r.removedTargetIds||[],E.key,E)}else if("documentDelete"in e){const r=e.documentDelete,s=hc(n,r.document),u=r.readTime?fs(r.readTime):Wt.min(),d=Ii.newNoDocument(s,u);t=new V0([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,s=hc(n,r.document);t=new V0([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return Ut();{const r=e.filter,{count:s=0,unchangedNames:u}=r,d=new OA(s,u);t=new $D(r.targetId,d)}}var E;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return Wt.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?Wt.min():u.readTime?fs(u.readTime):Wt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=s_(this.serializer),t.addTarget=function(s,u){let d;const _=u.target;if(d=S0(_)?{documents:QD(s,_)}:{query:jI(s,_)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=qD(s,u.resumeToken);const E=FI(s,u.expectedCount);null!==E&&(d.expectedCount=E)}else if(u.snapshotVersion.compareTo(Wt.min())>0){d.readTime=tp(s,u.snapshotVersion.toTimestamp());const E=FI(s,u.expectedCount);null!==E&&(d.expectedCount=E)}return d}(this.serializer,e);const r=function XD(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ut()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=s_(this.serializer),t.removeTarget=e,this.Wo(t)}}class sS extends CC{constructor(e,t,r,s,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,d),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function BA(n,e){return n&&n.length>0?(Kt(void 0!==e),n.map(t=>function(r,s){let u=fs(r.updateTime?r.updateTime:s);return u.isEqual(Wt.min())&&(u=fs(s)),new MA(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=fs(e.commitTime);return this.listener.cu(r,t)}return Kt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=s_(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>o_(this.serializer,r))};this.Wo(t)}}class N1 extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new it(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Io(e,t,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new it(xe.UNKNOWN,s.toString())})}vo(e,t,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.vo(e,t,r,u,d,s)).catch(u=>{throw"FirebaseError"===u.name?(u.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new it(xe.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class oS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(gi(t),this.mu=!1):ct("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class tx{constructor(e,t,r,s,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(_=>{r.enqueueAndForget((0,Se.Z)(function*(){var E;sd(d)&&(ct("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,Se.Z)(function*(T){const x=Rt(T);x.vu.add(4),yield Xg(x),x.bu.set("Unknown"),x.vu.delete(4),yield E_(x)}),function(T){return E.apply(this,arguments)})(d))}))}),this.bu=new oS(r,s)}}function E_(n){return DC.apply(this,arguments)}function DC(){return DC=(0,Se.Z)(function*(n){if(sd(n))for(const e of n.Ru)yield e(!0)}),DC.apply(this,arguments)}function Xg(n){return ow.apply(this,arguments)}function ow(){return ow=(0,Se.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),ow.apply(this,arguments)}function I_(n,e){const t=Rt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),SC(t)?AC(t):em(t).Ko()&&aw(t,e))}function C_(n,e){const t=Rt(n),r=em(t);t.Au.delete(e),r.Ko()&&TC(t,e),0===t.Au.size&&(r.Ko()?r.jo():sd(t)&&t.bu.set("Unknown"))}function aw(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Wt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}em(n).su(e)}function TC(n,e){n.Vu.qt(e),em(n).iu(e)}function AC(n){n.Vu=new kA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),em(n).start(),n.bu.gu()}function SC(n){return sd(n)&&!em(n).Uo()&&n.Au.size>0}function sd(n){return 0===Rt(n).vu.size}function L1(n){n.Vu=void 0}function F1(n){return uw.apply(this,arguments)}function uw(){return uw=(0,Se.Z)(function*(n){n.Au.forEach((e,t)=>{aw(n,e)})}),uw.apply(this,arguments)}function U1(n,e){return cw.apply(this,arguments)}function cw(){return cw=(0,Se.Z)(function*(n,e){L1(n),SC(n)?(n.bu.Iu(e),AC(n)):n.bu.set("Unknown")}),cw.apply(this,arguments)}function aS(n,e,t){return MC.apply(this,arguments)}function MC(){return MC=(0,Se.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof HD&&2===e.state&&e.cause)try{yield(r=(0,Se.Z)(function*(s,u){const d=u.cause;for(const _ of u.targetIds)s.Au.has(_)&&(yield s.remoteSyncer.rejectListen(_,d),s.Au.delete(_),s.Vu.removeTarget(_))}),function(s,u){return r.apply(this,arguments)})(n,e)}catch(r){ct("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield xC(n,r)}else if(e instanceof V0?n.Vu.Ht(e):e instanceof $D?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Wt.min()))try{const r=yield lC(n.localStore);t.compareTo(r)>=0&&(yield function(s,u){const d=s.Vu.ce(u);return d.targetChanges.forEach((_,E)=>{if(_.resumeToken.approximateByteSize()>0){const T=s.Au.get(E);T&&s.Au.set(E,T.withResumeToken(_.resumeToken,u))}}),d.targetMismatches.forEach((_,E)=>{const T=s.Au.get(_);if(!T)return;s.Au.set(_,T.withResumeToken(Qs.EMPTY_BYTE_STRING,T.snapshotVersion)),TC(s,_);const x=new fc(T.target,_,E,T.sequenceNumber);aw(s,x)}),s.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){ct("RemoteStore","Failed to raise snapshot:",r),yield xC(n,r)}var r}),MC.apply(this,arguments)}function xC(n,e,t){return lw.apply(this,arguments)}function lw(){return lw=(0,Se.Z)(function*(n,e,t){if(!ch(e))throw e;n.vu.add(1),yield Xg(n),n.bu.set("Offline"),t||(t=()=>lC(n.localStore)),n.asyncQueue.enqueueRetryable((0,Se.Z)(function*(){ct("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield E_(n)}))}),lw.apply(this,arguments)}function uS(n,e){return e().catch(t=>xC(n,t,e))}function b_(n){return V1.apply(this,arguments)}function V1(){return V1=(0,Se.Z)(function*(n){const e=Rt(n),t=wh(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;nx(e);)try{const s=yield S1(e.localStore,r);if(null===s){0===e.Eu.length&&t.jo();break}r=s.batchId,rx(e,s)}catch(s){yield xC(e,s)}cS(e)&&lS(e)}),V1.apply(this,arguments)}function nx(n){return sd(n)&&n.Eu.length<10}function rx(n,e){n.Eu.push(e);const t=wh(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function cS(n){return sd(n)&&!wh(n).Uo()&&n.Eu.length>0}function lS(n){wh(n).start()}function ix(n){return B1.apply(this,arguments)}function B1(){return B1=(0,Se.Z)(function*(n){wh(n).hu()}),B1.apply(this,arguments)}function j1(n){return D_.apply(this,arguments)}function D_(){return D_=(0,Se.Z)(function*(n){const e=wh(n);for(const t of n.Eu)e.uu(t.mutations)}),D_.apply(this,arguments)}function $1(n,e,t){return OC.apply(this,arguments)}function OC(){return OC=(0,Se.Z)(function*(n,e,t){const r=n.Eu.shift(),s=F0.from(r,e,t);yield uS(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield b_(n)}),OC.apply(this,arguments)}function dw(n,e){return PC.apply(this,arguments)}function PC(){return PC=(0,Se.Z)(function*(n,e){var t;e&&wh(n).ou&&(yield(t=(0,Se.Z)(function*(r,s){if(UD(u=s.code)&&u!==xe.ABORTED){const d=r.Eu.shift();wh(r).Qo(),yield uS(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,s)),yield b_(r)}var u}),function(r,s){return t.apply(this,arguments)})(n,e)),cS(n)&&lS(n)}),PC.apply(this,arguments)}function dS(n,e){return H1.apply(this,arguments)}function H1(){return H1=(0,Se.Z)(function*(n,e){const t=Rt(n);t.asyncQueue.verifyOperationInProgress(),ct("RemoteStore","RemoteStore received new credentials");const r=sd(t);t.vu.add(3),yield Xg(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield E_(t)}),H1.apply(this,arguments)}function RC(n,e){return hw.apply(this,arguments)}function hw(){return hw=(0,Se.Z)(function*(n,e){const t=Rt(n);e?(t.vu.delete(2),yield E_(t)):e||(t.vu.add(2),yield Xg(t),t.bu.set("Unknown"))}),hw.apply(this,arguments)}function em(n){return n.Su||(n.Su=function(e,t,r){const s=Rt(e);return s.fu(),new Jg(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:F1.bind(null,n),ao:U1.bind(null,n),nu:aS.bind(null,n)}),n.Ru.push(function(){var e=(0,Se.Z)(function*(t){t?(n.Su.Qo(),SC(n)?AC(n):n.bu.set("Unknown")):(yield n.Su.stop(),L1(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function wh(n){return n.Du||(n.Du=function(e,t,r){const s=Rt(e);return s.fu(),new sS(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:ix.bind(null,n),ao:dw.bind(null,n),au:j1.bind(null,n),cu:$1.bind(null,n)}),n.Ru.push(function(){var e=(0,Se.Z)(function*(t){t?(n.Du.Qo(),yield b_(n)):(yield n.Du.stop(),n.Eu.length>0&&(ct("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class NC{constructor(e,t,r,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=u,this.deferred=new bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,s,u){const d=Date.now()+r,_=new NC(e,t,d,s,u);return _.start(r),_}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new it(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function T_(n,e){if(gi("AsyncQueue",`${e}: ${n}`),ch(n))return new it(xe.UNAVAILABLE,`${e}: ${n}`);throw n}class tm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Mt.comparator(t.key,r.key):(t,r)=>Mt.comparator(t.key,r.key),this.keyedMap=dc(),this.sortedSet=new Xr(this.comparator)}static emptySet(e){return new tm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new tm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class nm{constructor(){this.Cu=new Xr(Mt.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Ut():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class od{constructor(e,t,r,s,u,d,_,E,T){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=_,this.excludesMetadataChanges=E,this.hasCachedResults=T}static fromInitialDocuments(e,t,r,s,u){const d=[];return t.forEach(_=>{d.push({type:0,doc:_})}),new od(e,t,tm.emptySet(t),d,r,s,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class hS{constructor(){this.Nu=void 0,this.listeners=[]}}class fS{constructor(){this.queries=new rl(e=>CI(e),kg),this.onlineState="Unknown",this.ku=new Set}}function kC(n,e){return LC.apply(this,arguments)}function LC(){return LC=(0,Se.Z)(function*(n,e){const t=Rt(n),r=e.query;let s=!1,u=t.queries.get(r);if(u||(s=!0,u=new hS),s)try{u.Nu=yield t.onListen(r)}catch(d){const _=T_(d,`Initialization of query '${P0(e.query)}' failed`);return void e.onError(_)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&BC(t)}),LC.apply(this,arguments)}function FC(n,e){return UC.apply(this,arguments)}function UC(){return UC=(0,Se.Z)(function*(n,e){const t=Rt(n),r=e.query;let s=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),s=0===u.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),UC.apply(this,arguments)}function VC(n,e){const t=Rt(n);let r=!1;for(const s of e){const d=t.queries.get(s.query);if(d){for(const _ of d.listeners)_.$u(s)&&(r=!0);d.Nu=s}}r&&BC(t)}function pS(n,e,t){const r=Rt(n),s=r.queries.get(e);if(s)for(const u of s.listeners)u.onError(t);r.queries.delete(e)}function BC(n){n.ku.forEach(e=>{e.next()})}class jC{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new od(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=od.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class gS{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class G1{constructor(e){this.serializer=e}rr(e){return hc(this.serializer,e)}ur(e){return e.metadata.exists?VI(this.serializer,e.document,!1):Ii.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return fs(e)}}class mS{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=z1(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=gr.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new G1(this.serializer);for(const s of e)if(s.metadata.queries){const u=r.rr(s.metadata.name);for(const d of s.metadata.queries){const _=(t.get(d)||Qn()).add(u);t.set(d,_)}}return t}complete(){var e=this;return(0,Se.Z)(function*(){const t=yield function Yg(n,e,t,r){return pC.apply(this,arguments)}(e.localStore,new G1(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const s of e.queries)yield rS(e.localStore,s,r.get(s.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function z1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class q1{constructor(e){this.key=e}}class W1{constructor(e){this.key=e}}class $C{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Qn(),this.mutatedKeys=Qn(),this.tc=DI(e),this.ec=new tm(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new nm,s=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,d=s,_=!1;const E="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,T="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((x,L)=>{const Q=s.get(x),ue=Lg(this.query,L)?L:null,Le=!!Q&&this.mutatedKeys.has(Q.key),Ye=!!ue&&(ue.hasLocalMutations||this.mutatedKeys.has(ue.key)&&ue.hasCommittedMutations);let rt=!1;Q&&ue?Q.data.isEqual(ue.data)?Le!==Ye&&(r.track({type:3,doc:ue}),rt=!0):this.rc(Q,ue)||(r.track({type:2,doc:ue}),rt=!0,(E&&this.tc(ue,E)>0||T&&this.tc(ue,T)<0)&&(_=!0)):!Q&&ue?(r.track({type:0,doc:ue}),rt=!0):Q&&!ue&&(r.track({type:1,doc:Q}),rt=!0,(E||T)&&(_=!0)),rt&&(ue?(d=d.add(ue),u=Ye?u.add(x):u.delete(x)):(d=d.delete(x),u=u.delete(x)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const x="F"===this.query.limitType?d.last():d.first();d=d.delete(x.key),u=u.delete(x.key),r.track({type:1,doc:x})}return{ec:d,ic:r,zi:_,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((T,x)=>function(L,Q){const ue=Le=>{switch(Le){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ut()}};return ue(L)-ue(Q)}(T.type,x.type)||this.tc(T.doc,x.doc)),this.oc(r);const d=t?this.uc():[],_=0===this.Zu.size&&this.current?1:0,E=_!==this.Xu;return this.Xu=_,0!==u.length||E?{snapshot:new od(this.query,e.ec,s,u,e.mutatedKeys,0===_,E,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:d}:{cc:d}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new nm,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Qn(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new W1(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new q1(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Qn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return od.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class HC{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class yS{constructor(e){this.key=e,this.fc=!1}}class _S{constructor(e,t,r,s,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.dc={},this.wc=new rl(_=>CI(_),kg),this._c=new Map,this.mc=new Set,this.gc=new Xr(Mt.comparator),this.yc=new Map,this.Ic=new Q0,this.Tc={},this.Ec=new Map,this.Ac=sp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Z1(n,e){return fw.apply(this,arguments)}function fw(){return fw=(0,Se.Z)(function*(n,e){const t=YC(n);let r,s;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),s=u.view.lc();else{const d=yield Kg(t.localStore,Go(e)),_=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,s=yield K1(t,e,r,"current"===_,d.resumeToken),t.isPrimaryClient&&I_(t.remoteStore,d)}return s}),fw.apply(this,arguments)}function K1(n,e,t,r,s){return Po.apply(this,arguments)}function Po(){return Po=(0,Se.Z)(function*(n,e,t,r,s){n.Rc=(L,Q,ue)=>{return(Le=(0,Se.Z)(function*(Ye,rt,$t,cn){let Vt=rt.view.sc($t);Vt.zi&&(Vt=yield tw(Ye.localStore,rt.query,!1).then(({documents:_r})=>rt.view.sc(_r,Vt)));const gn=cn&&cn.targetChanges.get(rt.targetId),zn=rt.view.applyChanges(Vt,Ye.isPrimaryClient,gn);return yw(Ye,rt.targetId,zn.cc),zn.snapshot}),function(Ye,rt,$t,cn){return Le.apply(this,arguments)})(n,L,Q,ue);var Le};const u=yield tw(n.localStore,e,!0),d=new $C(e,u.ir),_=d.sc(u.documents),E=n_.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,s),T=d.applyChanges(_,n.isPrimaryClient,E);yw(n,t,T.cc);const x=new HC(e,t,d);return n.wc.set(e,x),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),T.snapshot}),Po.apply(this,arguments)}function Y1(n,e){return pw.apply(this,arguments)}function pw(){return pw=(0,Se.Z)(function*(n,e){const t=Rt(n),r=t.wc.get(e),s=t._c.get(r.targetId);if(s.length>1)return t._c.set(r.targetId,s.filter(u=>!kg(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield up(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),C_(t.remoteStore,r.targetId),lp(t,r.targetId)}).catch(uh))):(lp(t,r.targetId),yield up(t.localStore,r.targetId,!0))}),pw.apply(this,arguments)}function gw(){return gw=(0,Se.Z)(function*(n,e,t){const r=QC(n);try{const s=yield function(u,d){const _=Rt(u),E=mi.now(),T=d.reduce((Q,ue)=>Q.add(ue.key),Qn());let x,L;return _.persistence.runTransaction("Locally write mutations","readwrite",Q=>{let ue=zo(),Le=Qn();return _.Zi.getEntries(Q,T).next(Ye=>{ue=Ye,ue.forEach((rt,$t)=>{$t.isValidDocument()||(Le=Le.add(rt))})}).next(()=>_.localDocuments.getOverlayedDocuments(Q,ue)).next(Ye=>{x=Ye;const rt=[];for(const $t of d){const cn=L0($t,x.get($t.key).overlayedDocument);null!=cn&&rt.push(new sl($t.key,cn,fD(cn.value.mapValue),Mi.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,E,rt,d)}).next(Ye=>{L=Ye;const rt=Ye.applyToLocalDocumentSet(x,Le);return _.documentOverlayCache.saveOverlays(Q,Ye.batchId,rt)})}).then(()=>({batchId:L.batchId,changes:MD(x)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,d,_){let E=u.Tc[u.currentUser.toKey()];E||(E=new Xr(Bn)),E=E.insert(d,_),u.Tc[u.currentUser.toKey()]=E}(r,s.batchId,t),yield Eh(r,s.changes),yield b_(r.remoteStore)}catch(s){const u=T_(s,"Failed to persist write");t.reject(u)}}),gw.apply(this,arguments)}function Q1(n,e){return A_.apply(this,arguments)}function A_(){return A_=(0,Se.Z)(function*(n,e){const t=Rt(n);try{const r=yield function nS(n,e){const t=Rt(n),r=e.snapshotVersion;let s=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.Zi.newChangeBuffer({trackRemovals:!0});s=t.Ji;const _=[];e.targetChanges.forEach((x,L)=>{const Q=s.get(L);if(!Q)return;_.push(t.Bs.removeMatchingKeys(u,x.removedDocuments,L).next(()=>t.Bs.addMatchingKeys(u,x.addedDocuments,L)));let ue=Q.withSequenceNumber(u.currentSequenceNumber);var Le,Ye,rt;null!==e.targetMismatches.get(L)?ue=ue.withResumeToken(Qs.EMPTY_BYTE_STRING,Wt.min()).withLastLimboFreeSnapshotVersion(Wt.min()):x.resumeToken.approximateByteSize()>0&&(ue=ue.withResumeToken(x.resumeToken,r)),s=s.insert(L,ue),Ye=ue,rt=x,(0===(Le=Q).resumeToken.approximateByteSize()||Ye.snapshotVersion.toMicroseconds()-Le.snapshotVersion.toMicroseconds()>=3e8||rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0)&&_.push(t.Bs.updateTargetData(u,ue))});let E=zo(),T=Qn();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&_.push(t.persistence.referenceDelegate.updateLimboDocument(u,x))}),_.push(dC(u,d,e.documentUpdates).next(x=>{E=x.nr,T=x.sr})),!r.isEqual(Wt.min())){const x=t.Bs.getLastRemoteSnapshotVersion(u).next(L=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));_.push(x)}return be.waitFor(_).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,E,T)).next(()=>E)}).then(u=>(t.Ji=s,u))}(t.localStore,e);e.targetChanges.forEach((s,u)=>{const d=t.yc.get(u);d&&(Kt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?d.fc=!0:s.modifiedDocuments.size>0?Kt(d.fc):s.removedDocuments.size>0&&(Kt(d.fc),d.fc=!1))}),yield Eh(t,r,e)}catch(r){yield uh(r)}}),A_.apply(this,arguments)}function ad(n,e,t){const r=Rt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.wc.forEach((u,d)=>{const _=d.view.Mu(e);_.snapshot&&s.push(_.snapshot)}),function(u,d){const _=Rt(u);_.onlineState=d;let E=!1;_.queries.forEach((T,x)=>{for(const L of x.listeners)L.Mu(d)&&(E=!0)}),E&&BC(_)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function J1(n,e,t){return S_.apply(this,arguments)}function S_(){return S_=(0,Se.Z)(function*(n,e,t){const r=Rt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.yc.get(e),u=s&&s.key;if(u){let d=new Xr(Mt.comparator);d=d.insert(u,Ii.newNoDocument(u,Wt.min()));const _=Qn().add(u),E=new td(Wt.min(),new Map,new Xr(Bn),d,_);yield Q1(r,E),r.gc=r.gc.remove(u),r.yc.delete(e),_w(r)}else yield up(r.localStore,e,!1).then(()=>lp(r,e,t)).catch(uh)}),S_.apply(this,arguments)}function GC(n,e){return zC.apply(this,arguments)}function zC(){return zC=(0,Se.Z)(function*(n,e){const t=Rt(n),r=e.batch.batchId;try{const s=yield function cC(n,e){const t=Rt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(d,_,E,T){const x=E.batch,L=x.keys();let Q=be.resolve();return L.forEach(ue=>{Q=Q.next(()=>T.getEntry(_,ue)).next(Le=>{const Ye=E.docVersions.get(ue);Kt(null!==Ye),Le.version.compareTo(Ye)<0&&(x.applyToRemoteDocument(Le,E),Le.isValidDocument()&&(Le.setReadTime(E.commitVersion),T.addEntry(Le)))})}),Q.next(()=>d.mutationQueue.removeMutationBatch(_,x))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let _=Qn();for(let E=0;E<d.mutationResults.length;++E)d.mutationResults[E].transformResults.length>0&&(_=_.add(d.batch.mutations[E].key));return _}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}(t.localStore,e);ZC(t,r,null),WC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Eh(t,s)}catch(s){yield uh(s)}}),zC.apply(this,arguments)}function sx(n,e,t){return mw.apply(this,arguments)}function mw(){return mw=(0,Se.Z)(function*(n,e,t){const r=Rt(n);try{const s=yield function(u,d){const _=Rt(u);return _.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let T;return _.mutationQueue.lookupMutationBatch(E,d).next(x=>(Kt(null!==x),T=x.keys(),_.mutationQueue.removeMutationBatch(E,x))).next(()=>_.mutationQueue.performConsistencyCheck(E)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(E,T,d)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,T)).next(()=>_.localDocuments.getDocuments(E,T))})}(r.localStore,e);ZC(r,e,t),WC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Eh(r,s)}catch(s){yield uh(s)}}),mw.apply(this,arguments)}function qC(){return qC=(0,Se.Z)(function*(n,e){const t=Rt(n);sd(t.remoteStore)||ct("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=Rt(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",_=>d.mutationQueue.getHighestUnacknowledgedBatchId(_))}(t.localStore);if(-1===r)return void e.resolve();const s=t.Ec.get(r)||[];s.push(e),t.Ec.set(r,s)}catch(r){const s=T_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),qC.apply(this,arguments)}function WC(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function ZC(n,e,t){const r=Rt(n);let s=r.Tc[r.currentUser.toKey()];if(s){const u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function lp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||ES(n,r)})}function ES(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(C_(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),_w(n))}function yw(n,e,t){for(const r of t)r instanceof q1?(n.Ic.addReference(r.key,e),IS(n,r)):r instanceof W1?(ct("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||ES(n,r.key)):Ut()}function IS(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(ct("SyncEngine","New document in limbo: "+t),n.mc.add(r),_w(n))}function _w(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Mt(gr.fromString(e)),r=n.Ac.next();n.yc.set(r,new yS(t)),n.gc=n.gc.insert(t,r),I_(n.remoteStore,new fc(Go(Ng(t.path)),r,"TargetPurposeLimboResolution",Ao.ct))}}function Eh(n,e,t){return M_.apply(this,arguments)}function M_(){return M_=(0,Se.Z)(function*(n,e,t){const r=Rt(n),s=[],u=[],d=[];var _;r.wc.isEmpty()||(r.wc.forEach((_,E)=>{d.push(r.Rc(E,e,t).then(T=>{if((T||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,T?.fromCache?"not-current":"current"),T){s.push(T);const x=__.Li(E.targetId,T);u.push(x)}}))}),yield Promise.all(d),r.dc.nu(s),yield(_=(0,Se.Z)(function*(E,T){const x=Rt(E);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",L=>be.forEach(T,Q=>be.forEach(Q.Fi,ue=>x.persistence.referenceDelegate.addReference(L,Q.targetId,ue)).next(()=>be.forEach(Q.Bi,ue=>x.persistence.referenceDelegate.removeReference(L,Q.targetId,ue)))))}catch(L){if(!ch(L))throw L;ct("LocalStore","Failed to update sequence numbers: "+L)}for(const L of T){const Q=L.targetId;if(!L.fromCache){const ue=x.Ji.get(Q),Ye=ue.withLastLimboFreeSnapshotVersion(ue.snapshotVersion);x.Ji=x.Ji.insert(Q,Ye)}}}),function(E,T){return _.apply(this,arguments)})(r.localStore,u))}),M_.apply(this,arguments)}function X1(n,e){return vw.apply(this,arguments)}function vw(){return vw=(0,Se.Z)(function*(n,e){const t=Rt(n);if(!t.currentUser.isEqual(e)){ct("SyncEngine","User change. New user:",e.toKey());const r=yield A1(t.localStore,e);t.currentUser=e,(s=t).Ec.forEach(d=>{d.forEach(_=>{_.reject(new it(xe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Eh(t,r.er)}var s}),vw.apply(this,arguments)}function CS(n,e){const t=Rt(n),r=t.yc.get(e);if(r&&r.fc)return Qn().add(r.key);{let s=Qn();const u=t._c.get(e);if(!u)return s;for(const d of u){const _=t.wc.get(d);s=s.unionWith(_.view.nc)}return s}}function eT(n,e){return ww.apply(this,arguments)}function ww(){return ww=(0,Se.Z)(function*(n,e){const t=Rt(n),r=yield tw(t.localStore,e.query,!0),s=e.view.hc(r);return t.isPrimaryClient&&yw(t,e.targetId,s.cc),s}),ww.apply(this,arguments)}function rm(n,e){return im.apply(this,arguments)}function im(){return im=(0,Se.Z)(function*(n,e){const t=Rt(n);return fC(t.localStore,e).then(r=>Eh(t,r))}),im.apply(this,arguments)}function tT(n,e,t,r){return Ew.apply(this,arguments)}function Ew(){return Ew=(0,Se.Z)(function*(n,e,t,r){const s=Rt(n),u=yield function(d,_){const E=Rt(d),T=Rt(E.mutationQueue);return E.persistence.runTransaction("Lookup mutation documents","readonly",x=>T.Sn(x,_).next(L=>L?E.localDocuments.getDocuments(x,L):be.resolve(null)))}(s.localStore,e);var _;null!==u?("pending"===t?yield b_(s.remoteStore):"acknowledged"===t||"rejected"===t?(ZC(s,e,r||null),WC(s,e),_=e,Rt(Rt(s.localStore).mutationQueue).Cn(_)):Ut(),yield Eh(s,u)):ct("SyncEngine","Cannot apply mutation batch with id: "+e)}),Ew.apply(this,arguments)}function KC(){return KC=(0,Se.Z)(function*(n,e){const t=Rt(n);if(YC(t),QC(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),s=yield DS(t,r.toArray());t.vc=!0,yield RC(t.remoteStore,!0);for(const u of s)I_(t.remoteStore,u)}else if(!1===e&&!1!==t.vc){const r=[];let s=Promise.resolve();t._c.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):s=s.then(()=>(lp(t,d),up(t.localStore,d,!0))),C_(t.remoteStore,d)}),yield s,yield DS(t,r),function(u){const d=Rt(u);d.yc.forEach((_,E)=>{C_(d.remoteStore,E)}),d.Ic.Ts(),d.yc=new Map,d.gc=new Xr(Mt.comparator)}(t),t.vc=!1,yield RC(t.remoteStore,!1)}}),KC.apply(this,arguments)}function DS(n,e,t){return Iw.apply(this,arguments)}function Iw(){return Iw=(0,Se.Z)(function*(n,e,t){const r=Rt(n),s=[],u=[];for(const d of e){let _;const E=r._c.get(d);if(E&&0!==E.length){_=yield Kg(r.localStore,Go(E[0]));for(const T of E){const x=r.wc.get(T),L=yield eT(r,x);L.snapshot&&u.push(L.snapshot)}}else{const T=yield hC(r.localStore,d);_=yield Kg(r.localStore,T),yield K1(r,nT(T),d,!1,_.resumeToken)}s.push(_)}return r.dc.nu(u),s}),Iw.apply(this,arguments)}function nT(n){return DD(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function TS(n){const e=Rt(n);return Rt(Rt(e.localStore).persistence).$i()}function ox(n,e,t,r){return rT.apply(this,arguments)}function rT(){return rT=(0,Se.Z)(function*(n,e,t,r){const s=Rt(n);if(s.vc)return void ct("SyncEngine","Ignoring unexpected query state notification.");const u=s._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield fC(s.localStore,bI(u[0])),_=td.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Qs.EMPTY_BYTE_STRING);yield Eh(s,d,_);break}case"rejected":yield up(s.localStore,e,!0),lp(s,e,r);break;default:Ut()}}),rT.apply(this,arguments)}function ax(n,e,t){return Cw.apply(this,arguments)}function Cw(){return Cw=(0,Se.Z)(function*(n,e,t){const r=YC(n);if(r.vc){for(const s of e){if(r._c.has(s)){ct("SyncEngine","Adding an already active target "+s);continue}const u=yield hC(r.localStore,s),d=yield Kg(r.localStore,u);yield K1(r,nT(u),d.targetId,!1,d.resumeToken),I_(r.remoteStore,d)}for(const s of t)r._c.has(s)&&(yield up(r.localStore,s,!1).then(()=>{C_(r.remoteStore,s),lp(r,s)}).catch(uh))}}),Cw.apply(this,arguments)}function YC(n){const e=Rt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Q1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=J1.bind(null,e),e.dc.nu=VC.bind(null,e.eventManager),e.dc.Pc=pS.bind(null,e.eventManager),e}function QC(n){const e=Rt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sx.bind(null,e),e}class bw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Se.Z)(function*(){t.serializer=Qg(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return T1(this.persistence,new D1,e.initialUser,this.serializer)}createPersistence(e){return new f_(J0.zs,this.serializer)}createSharedClientState(e){return new x1}terminate(){var e=this;return(0,Se.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class iT extends bw{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Se.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield QC(r.Vc.syncEngine),yield b_(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return T1(this.persistence,new D1,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new g1(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new yA(t,this.persistence);return new eI(e.asyncQueue,r)}createPersistence(e){const t=y_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?fo.withCacheSize(this.cacheSizeBytes):fo.DEFAULT;return new g_(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,sw(),EC(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new x1}}class SS extends iT{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Se.Z)(function*(){yield t().call(r,e);const s=r.Vc.syncEngine;r.sharedClientState instanceof w_&&(r.sharedClientState.syncEngine={jr:tT.bind(null,s),zr:ox.bind(null,s),Wr:ax.bind(null,s),$i:TS.bind(null,s),Qr:rm.bind(null,s)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var u=(0,Se.Z)(function*(d){yield function bS(n,e){return KC.apply(this,arguments)}(r.Vc.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=sw();if(!w_.D(t))throw new it(xe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=y_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new w_(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class x_{initialize(e,t){var r=this;return(0,Se.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>ad(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=X1.bind(null,r.syncEngine),yield RC(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new fS}createDatastore(e){const t=Qg(e.databaseInfo.databaseId),r=new iw(e.databaseInfo);return new N1(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,u=_=>ad(this.syncEngine,_,0),d=P1.D()?new P1:new O1,new tx(t,r,s,u,d);var t,r,s,u,d}createSyncEngine(e,t){return function(r,s,u,d,_,E,T){const x=new _S(r,s,u,d,_,E);return T&&(x.vc=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Se.Z)(function*(t){const r=Rt(t);ct("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Xg(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function sT(n,e=10240){let t=0;return{read:()=>(0,Se.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Se.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class dp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):gi("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class MS{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new bs,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Se.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Se.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Se.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),s=Number(r);isNaN(s)&&e.Mc(`length string (${r}) is not valid number`);const u=yield e.$c(s);return new gS(JSON.parse(u),t.length+s)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Se.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,Se.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Se.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class xS{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Se.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new it(xe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(s=(0,Se.Z)(function*(u,d){const _=Rt(u),E=s_(_.serializer)+"/documents",T={documents:d.map(ue=>Gg(_.serializer,ue))},x=yield _.vo("BatchGetDocuments",E,T,d.length),L=new Map;x.forEach(ue=>{const Le=function UA(n,e){return"found"in e?function(t,r){Kt(!!r.found);const s=hc(t,r.found.name),u=fs(r.found.updateTime),d=r.found.createTime?fs(r.found.createTime):Wt.min(),_=new ho({mapValue:{fields:r.found.fields}});return Ii.newFoundDocument(s,u,d,_)}(n,e):"missing"in e?function(t,r){Kt(!!r.missing),Kt(!!r.readTime);const s=hc(t,r.missing),u=fs(r.readTime);return Ii.newNoDocument(s,u)}(n,e):Ut()}(_.serializer,ue);L.set(Le.key.toString(),Le)});const Q=[];return d.forEach(ue=>{const Le=L.get(ue.toString());Kt(!!Le),Q.push(Le)}),Q}),function(u,d){return s.apply(this,arguments)})(t.datastore,e);var s;return r.forEach(s=>t.recordVersion(s)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new $g(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Se.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,s)=>{const u=Mt.fromPath(s);e.mutations.push(new PI(u,e.precondition(u)))}),yield(r=(0,Se.Z)(function*(s,u){const d=Rt(s),_=s_(d.serializer)+"/documents",E={writes:u.map(T=>o_(d.serializer,T))};yield d.Io("Commit",_,E)}),function(s,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ut();t=Wt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new it(xe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Wt.min())?Mi.exists(!1):Mi.updateTime(t):Mi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Wt.min()))throw new it(xe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mi.updateTime(t)}return Mi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class oT{constructor(e,t,r,s,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=u,this.Bc=r.maxAttempts,this.qo=new IC(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Se.Z)(function*(){const t=new xS(e.datastore),r=e.qc(t);r&&r.then(s=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(s)}).catch(u=>{e.Uc(u)}))}).catch(s=>{e.Uc(s)})}))}qc(e){try{const t=this.updateFunction(e);return!lh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!UD(t)}return!1}}class hp{constructor(e,t,r,s){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Fi.UNAUTHENTICATED,this.clientId=fA.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Se.Z)(function*(_){ct("FirestoreClient","Received user=",_.uid),yield u.authCredentialListener(_),u.user=_});return function(_){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(ct("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Se.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new it(xe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=T_(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function O_(n,e){return P_.apply(this,arguments)}function P_(){return P_=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ct("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,Se.Z)(function*(u){r.isEqual(u)||(yield A1(e.localStore,u),r=u)});return function(u){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),P_.apply(this,arguments)}function R_(n,e){return JC.apply(this,arguments)}function JC(){return JC=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield N_(n);ct("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>dS(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,u)=>dS(e.remoteStore,u)),n._onlineComponents=e}),JC.apply(this,arguments)}function Dw(n){return"FirebaseError"===n.name?n.code===xe.FAILED_PRECONDITION||n.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function N_(n){return sm.apply(this,arguments)}function sm(){return sm=(0,Se.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ct("FirestoreClient","Using user provided OfflineComponentProvider");try{yield O_(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Dw(t))throw t;co("Error using user provided cache. Falling back to memory cache: "+t),yield O_(n,new bw)}}else ct("FirestoreClient","Using default OfflineComponentProvider"),yield O_(n,new bw);return n._offlineComponents}),sm.apply(this,arguments)}function XC(n){return aT.apply(this,arguments)}function aT(){return aT=(0,Se.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ct("FirestoreClient","Using user provided OnlineComponentProvider"),yield R_(n,n._uninitializedComponentsProvider._online)):(ct("FirestoreClient","Using default OnlineComponentProvider"),yield R_(n,new x_))),n._onlineComponents}),aT.apply(this,arguments)}function OS(n){return N_(n).then(e=>e.persistence)}function k_(n){return N_(n).then(e=>e.localStore)}function uT(n){return XC(n).then(e=>e.remoteStore)}function eb(n){return XC(n).then(e=>e.syncEngine)}function om(n){return Tw.apply(this,arguments)}function Tw(){return Tw=(0,Se.Z)(function*(n){const e=yield XC(n),t=e.eventManager;return t.onListen=Z1.bind(null,e.syncEngine),t.onUnlisten=Y1.bind(null,e.syncEngine),t}),Tw.apply(this,arguments)}function hT(n,e,t={}){const r=new bs;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(s,u,d,_,E){const T=new dp({next:L=>{u.enqueueAndForget(()=>FC(s,x));const Q=L.docs.has(d);!Q&&L.fromCache?E.reject(new it(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&L.fromCache&&_&&"server"===_.source?E.reject(new it(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(L)},error:L=>E.reject(L)}),x=new jC(Ng(d.path),T,{includeMetadataChanges:!0,Ku:!0});return kC(s,x)}(yield om(n),n.asyncQueue,e,t,r)})),r.promise}function Aw(n,e,t={}){const r=new bs;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(s,u,d,_,E){const T=new dp({next:L=>{u.enqueueAndForget(()=>FC(s,x)),L.fromCache&&"server"===_.source?E.reject(new it(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(L)},error:L=>E.reject(L)}),x=new jC(d,T,{includeMetadataChanges:!0,Ku:!0});return kC(s,x)}(yield om(n),n.asyncQueue,e,t,r)})),r.promise}function gT(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const NS=new Map;function mT(n,e,t){if(!t)throw new it(xe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function yT(n,e,t,r){if(!0===e&&!0===r)throw new it(xe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function _T(n){if(!Mt.isDocumentKey(n))throw new it(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function vT(n){if(Mt.isDocumentKey(n))throw new it(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Sw(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Ut()}function yr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new it(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Sw(n);throw new it(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function nb(n,e){if(e<=0)throw new it(xe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class wT{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new it(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new it(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=gT(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new it(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new it(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new it(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class am{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new it(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new it(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wT(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Wb;switch(t.type){case"firstParty":return new KM(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new it(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=NS.get(e);t&&(ct("ComponentProvider","Removing Datastore"),NS.delete(e),t.terminate())}(this),Promise.resolve()}}class xi{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xi(this.firestore,e,this._key)}}class po{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new po(this.firestore,e,this._query)}}class Tu extends po{constructor(e,t,r){super(e,t,Ng(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xi(this.firestore,null,new Mt(e))}withConverter(e){return new Tu(this.firestore,e,this._path)}}function ib(n,e,...t){if(n=(0,br.m9)(n),mT("collection","path",e),n instanceof am){const r=gr.fromString(e,...t);return vT(r),new Tu(n,null,r)}{if(!(n instanceof xi||n instanceof Tu))throw new it(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gr.fromString(e,...t));return vT(r),new Tu(n.firestore,null,r)}}function Mw(n,e,...t){if(n=(0,br.m9)(n),1===arguments.length&&(e=fA.A()),mT("doc","path",e),n instanceof am){const r=gr.fromString(e,...t);return _T(r),new xi(n,null,new Mt(r))}{if(!(n instanceof xi||n instanceof Tu))throw new it(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gr.fromString(e,...t));return _T(r),new xi(n.firestore,n instanceof Tu?n.converter:null,new Mt(r))}}function L_(n,e){return n=(0,br.m9)(n),e=(0,br.m9)(e),(n instanceof xi||n instanceof Tu)&&(e instanceof xi||e instanceof Tu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function sb(n,e){return n=(0,br.m9)(n),e=(0,br.m9)(e),n instanceof po&&e instanceof po&&n.firestore===e.firestore&&kg(n._query,e._query)&&n.converter===e.converter}class kS{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new IC(this,"async_queue_retry"),this.Xc=()=>{const t=EC();t&&ct("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=EC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=EC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new bs;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Se.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!ch(t))throw t;ct("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,gi("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const s=NC.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(s),s}Zc(){this.Wc&&Ut()}verifyOperationInProgress(){}sa(){var e=this;return(0,Se.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function xw(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class IT{constructor(){this._progressObserver={},this._taskCompletionResolver=new bs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ci extends am{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new kS,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||LS(this),this._firestoreClient.terminate()}}function Ts(n){return n._firestoreClient||LS(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function LS(n){var e,t,r;const s=n._freezeSettings(),u=(_=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new DA(n._databaseId,_,n._persistenceKey,(T=s).host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,gT(T.experimentalLongPollingOptions),T.useFetchStreams));var _,T;n._firestoreClient=new hp(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=s.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=s.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}function VS(n,e,t){const r=new bs;return n.asyncQueue.enqueue((0,Se.Z)(function*(){try{yield O_(n,t),yield R_(n,e),r.resolve()}catch(s){const u=s;if(!Dw(u))throw u;co("Error enabling indexeddb cache. Falling back to memory cache: "+u),r.reject(u)}})).then(()=>r.promise)}function BS(n){if(n._initialized||n._terminated)throw new it(xe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ol{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ol(Qs.fromBase64String(e))}catch(t){throw new it(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ol(Qs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ih{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new it(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class o{constructor(e){this._methodName=e}}class a{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new it(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new it(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bn(this._lat,e._lat)||Bn(this._long,e._long)}}const c=/^__.*__$/;class f{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new sl(e,this.data,this.fieldMask,t,this.fieldTransforms):new ep(e,this.data,t,this.fieldTransforms)}}class g{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new sl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function v(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ut()}}class I{constructor(e,t,r,s,u,d){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new I(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Rw(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(v(this.ca)&&c.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class D{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Qg(e)}ya(e,t,r,s=!1){return new I({ca:e,methodName:t,ga:r,path:yi.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function S(n){const e=n._freezeSettings(),t=Qg(n._databaseId);return new D(n._databaseId,!!e.ignoreUndefinedProperties,t)}function R(n,e,t,r,s,u={}){const d=n.ya(u.merge||u.mergeFields?2:0,e,t,s);gc("Data must be an object, but it was:",d,r);const _=Wr(r,d);let E,T;if(u.merge)E=new Mo(d.fieldMask),T=d.fieldTransforms;else if(u.mergeFields){const x=[];for(const L of u.mergeFields){const Q=al(e,L,t);if(!d.contains(Q))throw new it(xe.INVALID_ARGUMENT,`Field '${Q}' is specified in your field mask but missing from your input data.`);wx(x,Q)||x.push(Q)}E=new Mo(x),T=d.fieldTransforms.filter(L=>E.covers(L.field))}else E=null,T=d.fieldTransforms;return new f(new ho(_),E,T)}class z extends o{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof z}}function ie(n,e,t){return new I({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ge extends o{_toFieldTransform(e){return new Vg(e.path,new ed)}isEqual(e){return e instanceof ge}}class Ze extends o{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=ie(this,e,!0),r=this.pa.map(u=>jn(u,t)),s=new Ds(r);return new Vg(e.path,s)}isEqual(e){return this===e}}class dt extends o{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=ie(this,e,!0),r=this.pa.map(u=>jn(u,t)),s=new ph(r);return new Vg(e.path,s)}isEqual(e){return this===e}}class Nt extends o{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Ug(e.serializer,RD(e.serializer,this.Ia));return new Vg(e.path,t)}isEqual(e){return this===e}}function Yt(n,e,t,r){const s=n.ya(1,e,t);gc("Data must be an object, but it was:",s,r);const u=[],d=ho.empty();Kl(r,(E,T)=>{const x=Pw(e,E,t);T=(0,br.m9)(T);const L=s.da(x);if(T instanceof z)u.push(x);else{const Q=jn(T,L);null!=Q&&(u.push(x),d.set(x,Q))}});const _=new Mo(u);return new g(d,_,s.fieldTransforms)}function st(n,e,t,r,s,u){const d=n.ya(1,e,t),_=[al(e,r,t)],E=[s];if(u.length%2!=0)throw new it(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Q=0;Q<u.length;Q+=2)_.push(al(e,u[Q])),E.push(u[Q+1]);const T=[],x=ho.empty();for(let Q=_.length-1;Q>=0;--Q)if(!wx(T,_[Q])){const ue=_[Q];let Le=E[Q];Le=(0,br.m9)(Le);const Ye=d.da(ue);if(Le instanceof z)T.push(ue);else{const rt=jn(Le,Ye);null!=rt&&(T.push(ue),x.set(ue,rt))}}const L=new Mo(T);return new g(x,L,d.fieldTransforms)}function xn(n,e,t,r=!1){return jn(t,n.ya(r?4:3,e))}function jn(n,e){if(qo(n=(0,br.m9)(n)))return gc("Unsupported field value:",e,n),Wr(n,e);if(n instanceof o)return function(t,r){if(!v(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const s=[];let u=0;for(const d of t){let _=jn(d,r.wa(u));null==_&&(_={nullValue:"NULL_VALUE"}),s.push(_),u++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,br.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return RD(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=mi.fromDate(t);return{timestampValue:tp(r.serializer,s)}}if(t instanceof mi){const s=new mi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:tp(r.serializer,s)}}if(t instanceof a)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ol)return{bytesValue:qD(r.serializer,t._byteString)};if(t instanceof xi){const s=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(s))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:i_(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${Sw(t)}`)}(n,e)}function Wr(n,e){const t={};return lI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kl(n,(r,s)=>{const u=jn(s,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function qo(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof mi||n instanceof a||n instanceof ol||n instanceof xi||n instanceof o)}function gc(n,e,t){if(!qo(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Sw(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function al(n,e,t){if((e=(0,br.m9)(e))instanceof Ih)return e._internalPath;if("string"==typeof e)return Pw(n,e);throw Rw("Field path arguments must be of type string or ",n,!1,void 0,t)}const ob=new RegExp("[~\\*/\\[\\]]");function Pw(n,e,t){if(e.search(ob)>=0)throw Rw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ih(...e.split("."))._internalPath}catch{throw Rw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rw(n,e,t,r,s){const u=r&&!r.isEmpty(),d=void 0!==s;let _=`Function ${e}() called with invalid data`;t&&(_+=" (via `toFirestore()`)"),_+=". ";let E="";return(u||d)&&(E+=" (found",u&&(E+=` in field ${r}`),d&&(E+=` in document ${s}`),E+=")"),new it(xe.INVALID_ARGUMENT,_+n+E)}function wx(n,e){return n.some(t=>t.isEqual(e))}class ab{constructor(e,t,r,s,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new xi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new JP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(CT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class JP extends ab{data(){return super.data()}}function CT(n,e){return"string"==typeof e?Pw(n,e):e instanceof Ih?e._internalPath:e._delegate._internalPath}function Ex(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new it(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jS{}class ub extends jS{}function um(n,e,...t){let r=[];e instanceof jS&&r.push(e),r=r.concat(t),function(s){const u=s.filter(_=>_ instanceof Nw).length,d=s.filter(_=>_ instanceof cb).length;if(u>1||u>0&&d>0)throw new it(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class cb extends ub{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new cb(e,t,r)}_apply(e){const t=this._parse(e);return Dx(e._query,t),new po(e.firestore,e.converter,II(e._query,t))}_parse(e){const t=S(e.firestore);return function(s,u,d,_,E,T,x){let L;if(E.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new it(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if("in"===T||"not-in"===T){bx(x,T);const Q=[];for(const ue of x)Q.push(Cx(_,s,ue));L={arrayValue:{values:Q}}}else L=Cx(_,s,x)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||bx(x,T),L=xn(d,"where",x,"in"===T||"not-in"===T);return mr.create(E,T,L)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Nw extends jS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Nw(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:qr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,s){let u=r;const d=s.getFlattenedFilters();for(const _ of d)Dx(u,_),u=II(u,_)}(e._query,t),new po(e.firestore,e.converter,II(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class $S extends ub{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new $S(e,t)}_apply(e){const t=function(r,s,u){if(null!==r.startAt)throw new it(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new it(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Kf(s,u);return function(_,E){if(null===wI(_)){const T=x0(_);null!==T&&Tx(0,T,E.field)}}(r,d),d}(e._query,this._field,this._direction);return new po(e.firestore,e.converter,function(r,s){const u=r.explicitOrderBy.concat([s]);return new Xl(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class bT extends ub{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new bT(e,t,r)}_apply(e){return new po(e.firestore,e.converter,O0(e._query,this._limit,this._limitType))}}class DT extends ub{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new DT(e,t,r)}_apply(e){const t=Ix(e,this.type,this._docOrFields,this._inclusive);return new po(e.firestore,e.converter,(s=t,new Xl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class TT extends ub{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new TT(e,t,r)}_apply(e){const t=Ix(e,this.type,this._docOrFields,this._inclusive);return new po(e.firestore,e.converter,(s=t,new Xl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function Ix(n,e,t,r){if(t[0]=(0,br.m9)(t[0]),t[0]instanceof ab)return function(s,u,d,_,E){if(!_)throw new it(xe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const T=[];for(const x of Qf(s))if(x.field.isKeyField())T.push(Pg(u,_.key));else{const L=_.data.field(x.field);if(E0(L))throw new it(xe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===L){const Q=x.field.canonicalString();throw new it(xe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Q}' (used as the orderBy) does not exist.`)}T.push(L)}return new nl(T,E)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=S(n.firestore);return function(u,d,_,E,T,x){const L=u.explicitOrderBy;if(T.length>L.length)throw new it(xe.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Q=[];for(let ue=0;ue<T.length;ue++){const Le=T[ue];if(L[ue].field.isKeyField()){if("string"!=typeof Le)throw new it(xe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof Le}`);if(!EI(u)&&-1!==Le.indexOf("/"))throw new it(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${E}() must be a plain document ID, but '${Le}' contains a slash.`);const Ye=u.path.child(gr.fromString(Le));if(!Mt.isDocumentKey(Ye))throw new it(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${E}() must result in a valid document path, but '${Ye}' is not because it contains an odd number of segments.`);const rt=new Mt(Ye);Q.push(Pg(d,rt))}else{const Ye=xn(_,E,Le);Q.push(Ye)}}return new nl(Q,x)}(n._query,n.firestore._databaseId,s,e,t,r)}}function Cx(n,e,t){if("string"==typeof(t=(0,br.m9)(t))){if(""===t)throw new it(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EI(e)&&-1!==t.indexOf("/"))throw new it(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(gr.fromString(t));if(!Mt.isDocumentKey(r))throw new it(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Pg(n,new Mt(r))}if(t instanceof xi)return Pg(n,t._key);throw new it(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sw(t)}.`)}function bx(n,e){if(!Array.isArray(n)||0===n.length)throw new it(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Dx(n,e){if(e.isInequality()){const r=x0(n),s=e.field;if(null!==r&&!r.isEqual(s))throw new it(xe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const u=wI(n);null!==u&&Tx(0,s,u)}const t=function(r,s){for(const u of r)for(const d of u.getFlattenedFilters())if(s.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new it(xe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Tx(n,e,t){if(!t.isEqual(e))throw new it(xe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class HS{convertValue(e,t="none"){switch(Ql(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(el(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ut()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Kl(e,(s,u)=>{r[s]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new a(Qi(e.latitude),Qi(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Ji(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Og(e));default:return null}}convertTimestamp(e){const t=dh(e);return new mi(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=gr.fromString(e);Kt(j0(r));const s=new hh(r.get(1),r.get(3)),u=new Mt(r.popFirst(5));return s.isEqual(t)||gi(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function AT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class a2 extends HS{constructor(e){super(),this.firestore=e}convertBytes(e){return new ol(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xi(this.firestore,null,t)}}class F_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fp extends ab{constructor(e,t,r,s,u,d){super(e,t,r,s,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new lb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(CT("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class lb extends fp{data(e={}){return super.data(e)}}class cm{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new F_(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new lb(this._firestore,this._userDataWriter,r.key,r,new F_(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new it(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new lb(r._firestore,r._userDataWriter,d.doc.key,d.doc,new F_(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>s||3!==d.type).map(d=>{const _=new lb(r._firestore,r._userDataWriter,d.doc.key,d.doc,new F_(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,T=-1;return 0!==d.type&&(E=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),T=u.indexOf(d.doc.key)),{type:c2(d.type),doc:_,oldIndex:E,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function c2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ut()}}function Sx(n,e){return n instanceof fp&&e instanceof fp?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof cm&&e instanceof cm&&n._firestore===e._firestore&&sb(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class lm extends HS{constructor(e){super(),this.firestore=e}convertBytes(e){return new ol(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xi(this.firestore,null,t)}}function Mx(n,e,t){n=yr(n,xi);const r=yr(n.firestore,Ci),s=AT(n.converter,e,t);return kw(r,[R(S(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,Mi.none())])}function xx(n,e,t,...r){n=yr(n,xi);const s=yr(n.firestore,Ci),u=S(s);let d;return d="string"==typeof(e=(0,br.m9)(e))||e instanceof Ih?st(u,"updateDoc",n._key,e,t,r):Yt(u,"updateDoc",n._key,e),kw(s,[d.toMutation(n._key,Mi.exists(!0))])}function Ox(n,...e){var t,r,s;n=(0,br.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||xw(e[d])||(u=e[d],d++);const _={includeMetadataChanges:u.includeMetadataChanges};if(xw(e[d])){const L=e[d];e[d]=null===(t=L.next)||void 0===t?void 0:t.bind(L),e[d+1]=null===(r=L.error)||void 0===r?void 0:r.bind(L),e[d+2]=null===(s=L.complete)||void 0===s?void 0:s.bind(L)}let E,T,x;if(n instanceof xi)T=yr(n.firestore,Ci),x=Ng(n._key.path),E={next:L=>{e[d]&&e[d](GS(T,n,L))},error:e[d+1],complete:e[d+2]};else{const L=yr(n,po);T=yr(L.firestore,Ci),x=L._query;const Q=new lm(T);E={next:ue=>{e[d]&&e[d](new cm(T,Q,L,ue))},error:e[d+1],complete:e[d+2]},Ex(n._query)}return function(L,Q,ue,Le){const Ye=new dp(Le),rt=new jC(Q,Ye,ue);return L.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return kC(yield om(L),rt)})),()=>{Ye.Dc(),L.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return FC(yield om(L),rt)}))}}(Ts(T),x,_,E)}function kw(n,e){return function(t,r){const s=new bs;return t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function vS(n,e,t){return gw.apply(this,arguments)}(yield eb(t),r,s)})),s.promise}(Ts(n),e)}function GS(n,e,t){const r=t.docs.get(e._key),s=new lm(n);return new fp(n,s,e._key,r,new F_(t.hasPendingWrites,t.fromCache),e.converter)}const A2={maxAttempts:5};class Px{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=S(e)}set(e,t,r){this._verifyNotCommitted();const s=dm(e,this._firestore),u=AT(s.converter,t,r),d=R(this._dataReader,"WriteBatch.set",s._key,u,null!==s.converter,r);return this._mutations.push(d.toMutation(s._key,Mi.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const u=dm(e,this._firestore);let d;return d="string"==typeof(t=(0,br.m9)(t))||t instanceof Ih?st(this._dataReader,"WriteBatch.update",u._key,t,r,s):Yt(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,Mi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=dm(e,this._firestore);return this._mutations=this._mutations.concat(new $g(t._key,Mi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new it(xe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function dm(n,e){if((n=(0,br.m9)(n)).firestore!==e)throw new it(xe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class S2 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=S(e)}get(e){const t=dm(e,this._firestore),r=new a2(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||1!==s.length)return Ut();const u=s[0];if(u.isFoundDocument())return new ab(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new ab(this._firestore,r,t._key,null,t.converter);throw Ut()})}set(e,t,r){const s=dm(e,this._firestore),u=AT(s.converter,t,r),d=R(this._dataReader,"Transaction.set",s._key,u,null!==s.converter,r);return this._transaction.set(s._key,d),this}update(e,t,r,...s){const u=dm(e,this._firestore);let d;return d="string"==typeof(t=(0,br.m9)(t))||t instanceof Ih?st(this._dataReader,"Transaction.update",u._key,t,r,s):Yt(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=dm(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=dm(e,this._firestore),r=new lm(this._firestore);return super.get(e).then(s=>new fp(this._firestore,r,t._key,s._document,new F_(!1,!1),t.converter))}}function zS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new it("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Nx(){if(typeof Uint8Array>"u")throw new it("unimplemented","Uint8Arrays are not available in this environment.")}function kx(){if(!function dI(){return typeof atob<"u"}())throw new it("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){oc=pf.SDK_VERSION,(0,pf._registerComponent)(new eg.wA("firestore",(t,{instanceIdentifier:r,options:s})=>{const u=t.getProvider("app").getImmediate(),d=new Ci(new lA(t.getProvider("auth-internal")),new dA(t.getProvider("app-check-internal")),function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new it(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hh(_.options.projectId,E)}(u,r),u);return s=Object.assign({useFetchStreams:e},s),d._setSettings(s),d},"PUBLIC").setMultipleInstances(!0)),(0,pf.registerVersion)(h0,"3.13.0",n),(0,pf.registerVersion)(h0,"3.13.0","esm2017")}();class db{constructor(e){this._delegate=e}static fromBase64String(e){return kx(),new db(ol.fromBase64String(e))}static fromUint8Array(e){return Nx(),new db(ol.fromUint8Array(e))}toBase64(){return kx(),this._delegate.toBase64()}toUint8Array(){return Nx(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function qS(n){return function F2(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class U2{enableIndexedDbPersistence(e,t){return function FS(n,e){BS(n=yr(n,Ci));const t=Ts(n);if(t._uninitializedComponentsProvider)throw new it(xe.FAILED_PRECONDITION,"SDK cache is already specified.");co("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),s=new x_;return VS(t,s,new iT(s,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function US(n){BS(n=yr(n,Ci));const e=Ts(n);if(e._uninitializedComponentsProvider)throw new it(xe.FAILED_PRECONDITION,"SDK cache is already specified.");co("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new x_;return VS(e,r,new SS(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function hx(n){if(n._initialized&&!n._terminated)throw new it(xe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new bs;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{yield(t=(0,Se.Z)(function*(r){if(!Eu.D())return Promise.resolve();const s=r+"main";yield Eu.delete(s)}),function(r){return t.apply(this,arguments)})(y_(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Lx{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof hh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&co("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function rb(n,e,t,r={}){var s;const u=(n=yr(n,am))._getSettings(),d=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==d&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:d,ssl:!1})),r.mockUserToken){let _,E;if("string"==typeof r.mockUserToken)_=r.mockUserToken,E=Fi.MOCK_USER;else{_=(0,br.Sg)(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new it(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Fi(T)}n._authCredentials=new QE(new YE(_,E))}}(this._delegate,e,t,r)}enableNetwork(){return function px(n){return function lT(n){return n.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield OS(n),t=yield uT(n);return e.setNetworkEnabled(!0),function(r){const s=Rt(r);return s.vu.delete(0),E_(s)}(t)}))}(Ts(n=yr(n,Ci)))}(this._delegate)}disableNetwork(){return function gx(n){return function dT(n){return n.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield OS(n),t=yield uT(n);return e.setNetworkEnabled(!1),(r=(0,Se.Z)(function*(s){const u=Rt(s);u.vu.add(0),yield Xg(u),u.bu.set("Offline")}),function(s){return r.apply(this,arguments)})(t);var r}))}(Ts(n=yr(n,Ci)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,yT("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function fx(n){return function(e){const t=new bs;return e.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function wS(n,e){return qC.apply(this,arguments)}(yield eb(e),t)})),t.promise}(Ts(n=yr(n,Ci)))}(this._delegate)}onSnapshotsInSync(e){return function _2(n,e){return function cx(n,e){const t=new dp(e);return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return r=yield om(n),s=t,Rt(r).ku.add(s),void s.next();var r,s})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return r=yield om(n),s=t,void Rt(r).ku.delete(s);var r,s}))}}(Ts(n=yr(n,Ci)),xw(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new it("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Lw(this,ib(this._delegate,e))}catch(t){throw Fa(t,"collection()","Firestore.collection()")}}doc(e){try{return new ul(this,Mw(this._delegate,e))}catch(t){throw Fa(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ua(this,function ET(n,e){if(n=yr(n,am),mT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new it(xe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new po(n,null,(t=e,new Xl(gr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Fa(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function M2(n,e,t){n=yr(n,Ci);const r=Object.assign(Object.assign({},A2),t);return function(s){if(s.maxAttempts<1)throw new it(xe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,u,d){const _=new bs;return s.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){const E=yield function cT(n){return XC(n).then(e=>e.datastore)}(s);new oT(s.asyncQueue,E,d,u,_).run()})),_.promise}(Ts(n),s=>e(new S2(n,s)),r)}(this._delegate,t=>e(new Fx(this,t)))}batch(){return Ts(this._delegate),new Ux(new Px(this._delegate,e=>kw(this._delegate,e)))}loadBundle(e){return function yx(n,e){const t=Ts(n=yr(n,Ci)),r=new IT;return function pT(n,e,t,r){const s=function(u,d){let _;return _="string"==typeof u?RA().encode(u):u,E=function(E,T){if(E instanceof Uint8Array)return sT(E,T);if(E instanceof ArrayBuffer)return sT(new Uint8Array(E),T);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(_),new MS(E,d);var E}(t,Qg(e));n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){!function AS(n,e,t){const r=Rt(n);var s;(s=(0,Se.Z)(function*(u,d,_){try{const E=yield d.getMetadata();if(yield function(Q,ue){const Le=Rt(Q),Ye=fs(ue.createTime);return Le.persistence.runTransaction("hasNewerBundle","readonly",rt=>Le.qs.getBundleMetadata(rt,ue.id)).then(rt=>!!rt&&rt.createTime.compareTo(Ye)>=0)}(u.localStore,E))return yield d.close(),_._completeWith({taskState:"Success",documentsLoaded:(Q=E).totalDocuments,bytesLoaded:Q.totalBytes,totalDocuments:Q.totalDocuments,totalBytes:Q.totalBytes}),Promise.resolve(new Set);_._updateProgress(z1(E));const T=new mS(E,u.localStore,d.serializer);let x=yield d.bc();for(;x;){const Q=yield T.zu(x);Q&&_._updateProgress(Q),x=yield d.bc()}const L=yield T.complete();return yield Eh(u,L.Ju,void 0),yield function(Q,ue){const Le=Rt(Q);return Le.persistence.runTransaction("Save bundle","readwrite",Ye=>Le.qs.saveBundleMetadata(Ye,ue))}(u.localStore,E),_._completeWith(L.progress),Promise.resolve(L.Hu)}catch(E){return co("SyncEngine",`Loading bundle failed with ${E}`),_._failWith(E),Promise.resolve(new Set)}var Q}),function(u,d,_){return s.apply(this,arguments)})(r,e,t).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}(yield eb(n),s,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function _x(n,e){return function tb(n,e){return n.asyncQueue.enqueue((0,Se.Z)(function*(){return function(t,r){const s=Rt(t);return s.persistence.runTransaction("Get named query","readonly",u=>s.qs.getNamedQuery(u,r))}(yield k_(n),e)}))}(Ts(n=yr(n,Ci)),e).then(t=>t?new po(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ua(this,t):null)}}class ST extends HS{constructor(e){super(),this.firestore=e}convertBytes(e){return new db(new ol(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ul.forKey(t,this.firestore,null)}}class Fx{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ST(e)}get(e){const t=V_(e);return this._delegate.get(t).then(r=>new hb(this._firestore,new fp(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=V_(e);return r?(zS("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=V_(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=V_(e);return this._delegate.delete(t),this}}class Ux{constructor(e){this._delegate=e}set(e,t,r){const s=V_(e);return r?(zS("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=V_(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=V_(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class U_{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new lb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new fb(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=U_.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let u=s.get(t);return u||(u=new U_(e,new ST(e),t),s.set(t,u)),u}}U_.INSTANCES=new WeakMap;class ul{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ST(e)}static forPath(e,t,r){if(e.length%2!=0)throw new it("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ul(t,new xi(t._delegate,r,new Mt(e)))}static forKey(e,t,r){return new ul(t,new xi(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Lw(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Lw(this.firestore,ib(this._delegate,e))}catch(t){throw Fa(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,br.m9)(e))instanceof xi&&L_(this._delegate,e)}set(e,t){t=zS("DocumentReference.set",t);try{return t?Mx(this._delegate,e,t):Mx(this._delegate,e)}catch(r){throw Fa(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?xx(this._delegate,e):xx(this._delegate,e,t,...r)}catch(s){throw Fa(s,"updateDoc()","DocumentReference.update()")}}delete(){return function m2(n){return kw(yr(n.firestore,Ci),[new $g(n._key,Mi.none())])}(this._delegate)}onSnapshot(...e){const t=Vx(e),r=Bx(e,s=>new hb(this.firestore,new fp(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return Ox(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function d2(n){n=yr(n,xi);const e=yr(n.firestore,Ci),t=Ts(e),r=new lm(e);return function PS(n,e){const t=new bs;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(r=(0,Se.Z)(function*(s,u,d){try{const _=yield function(E,T){const x=Rt(E);return x.persistence.runTransaction("read document","readonly",L=>x.localDocuments.getDocument(L,T))}(s,u);_.isFoundDocument()?d.resolve(_):_.isNoDocument()?d.resolve(null):d.reject(new it(xe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(_){const E=T_(_,`Failed to get document '${u} from cache`);d.reject(E)}}),function(s,u,d){return r.apply(this,arguments)})(yield k_(n),e,t);var r})),t.promise}(t,n._key).then(s=>new fp(e,r,n._key,s,new F_(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function h2(n){n=yr(n,xi);const e=yr(n.firestore,Ci);return hT(Ts(e),n._key,{source:"server"}).then(t=>GS(e,n,t))}(this._delegate):function l2(n){n=yr(n,xi);const e=yr(n.firestore,Ci);return hT(Ts(e),n._key).then(t=>GS(e,n,t))}(this._delegate),t.then(r=>new hb(this.firestore,new fp(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ul(this.firestore,this._delegate.withConverter(e?U_.getInstance(this.firestore,e):null))}}function Fa(n,e,t){return n.message=n.message.replace(e,t),n}function Vx(n){for(const e of n)if("object"==typeof e&&!qS(e))return e;return{}}function Bx(n,e){var t,r;let s;return s=qS(n[0])?n[0]:qS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{s.next&&s.next(e(u))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class hb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ul(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Sx(this._delegate,e._delegate)}}class fb extends hb{data(e){const t=this._delegate.data(e);return function qb(n,e){n||Ut()}(void 0!==t),t}}class Ua{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ST(e)}where(e,t,r){try{return new Ua(this.firestore,um(this._delegate,function XP(n,e,t){const r=e,s=CT("where",n);return cb._create(s,r,t)}(e,t,r)))}catch(s){throw Fa(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ua(this.firestore,um(this._delegate,function e2(n,e="asc"){const t=e,r=CT("orderBy",n);return $S._create(r,t)}(e,t)))}catch(r){throw Fa(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ua(this.firestore,um(this._delegate,function t2(n){return nb("limit",n),bT._create("limit",n,"F")}(e)))}catch(t){throw Fa(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ua(this.firestore,um(this._delegate,function n2(n){return nb("limitToLast",n),bT._create("limitToLast",n,"L")}(e)))}catch(t){throw Fa(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ua(this.firestore,um(this._delegate,function r2(...n){return DT._create("startAt",n,!0)}(...e)))}catch(t){throw Fa(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ua(this.firestore,um(this._delegate,function i2(...n){return DT._create("startAfter",n,!1)}(...e)))}catch(t){throw Fa(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ua(this.firestore,um(this._delegate,function s2(...n){return TT._create("endBefore",n,!1)}(...e)))}catch(t){throw Fa(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ua(this.firestore,um(this._delegate,function o2(...n){return TT._create("endAt",n,!0)}(...e)))}catch(t){throw Fa(t,"endAt()","Query.endAt()")}}isEqual(e){return sb(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function p2(n){n=yr(n,po);const e=yr(n.firestore,Ci),t=Ts(e),r=new lm(e);return function fT(n,e){const t=new bs;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(r=(0,Se.Z)(function*(s,u,d){try{const _=yield tw(s,u,!0),E=new $C(u,_.ir),T=E.sc(_.documents),x=E.applyChanges(T,!1);d.resolve(x.snapshot)}catch(_){const E=T_(_,`Failed to execute query '${u} against cache`);d.reject(E)}}),function(s,u,d){return r.apply(this,arguments)})(yield k_(n),e,t);var r})),t.promise}(t,n._query).then(s=>new cm(e,r,n,s))}(this._delegate):"server"===e?.source?function g2(n){n=yr(n,po);const e=yr(n.firestore,Ci),t=Ts(e),r=new lm(e);return Aw(t,n._query,{source:"server"}).then(s=>new cm(e,r,n,s))}(this._delegate):function f2(n){n=yr(n,po);const e=yr(n.firestore,Ci),t=Ts(e),r=new lm(e);return Ex(n._query),Aw(t,n._query).then(s=>new cm(e,r,n,s))}(this._delegate),t.then(r=>new WS(this.firestore,new cm(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Vx(e),r=Bx(e,s=>new WS(this.firestore,new cm(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return Ox(this._delegate,t,r)}withConverter(e){return new Ua(this.firestore,this._delegate.withConverter(e?U_.getInstance(this.firestore,e):null))}}class B2{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new fb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class WS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ua(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new fb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new B2(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new fb(this._firestore,r))})}isEqual(e){return Sx(this._delegate,e._delegate)}}class Lw extends Ua{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ul(this.firestore,e):null}doc(e){try{return new ul(this.firestore,void 0===e?Mw(this._delegate):Mw(this._delegate,e))}catch(t){throw Fa(t,"doc()","CollectionReference.doc()")}}add(e){return function y2(n,e){const t=yr(n.firestore,Ci),r=Mw(n),s=AT(n.converter,e);return kw(t,[R(S(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,Mi.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ul(this.firestore,t))}isEqual(e){return L_(this._delegate,e._delegate)}withConverter(e){return new Lw(this.firestore,this._delegate.withConverter(e?U_.getInstance(this.firestore,e):null))}}function V_(n){return yr(n,xi)}class ZS{constructor(...e){this._delegate=new Ih(...e)}static documentId(){return new ZS(yi.keyField().canonicalString())}isEqual(e){return(e=(0,br.m9)(e))instanceof Ih&&this._delegate._internalPath.isEqual(e._internalPath)}}class B_{constructor(e){this._delegate=e}static serverTimestamp(){const e=function O2(){return new ge("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new B_(e)}static delete(){const e=function x2(){return new z("deleteField")}();return e._methodName="FieldValue.delete",new B_(e)}static arrayUnion(...e){const t=function P2(...n){return new Ze("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new B_(t)}static arrayRemove(...e){const t=function R2(...n){return new dt("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new B_(t)}static increment(e){const t=function N2(n){return new Nt("increment",n)}(e);return t._methodName="FieldValue.increment",new B_(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const j2={Firestore:Lx,GeoPoint:a,Timestamp:mi,Blob:db,Transaction:Fx,WriteBatch:Ux,DocumentReference:ul,DocumentSnapshot:hb,Query:Ua,QueryDocumentSnapshot:fb,QuerySnapshot:WS,CollectionReference:Lw,FieldPath:ZS,FieldValue:B_,setLogLevel:function V2(n){!function Sg(n){La.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function H2(n){(function $2(n,e){n.INTERNAL.registerComponent(new eg.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},j2)))})(n,(e,t)=>new Lx(e,t,new U2)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(Si.Z);var G2=N(3019),cl=N(3093),z2=N(4552);class q2 extends Fr.x{constructor(e=1/0,t=1/0,r=z2.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!s&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,u=s.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,u=(s?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!s){const d=t.now();let _=0;for(let E=1;E<r.length&&r[E]<=d;E+=2)_=E;_&&r.splice(0,_+1)}}}var W2=N(3020);function KS(n,e,t){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):r=n??1/0,(0,W2.B)({connector:()=>new q2(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function MT(n,e){return(0,Ya.m)(e)?(0,Er.w)(()=>n,e):(0,Er.w)(()=>n)}var ud=N(5137);N(4097);var QS=N(4303);const JS=new Map,$x={activated:!1,tokenObservers:[]},J2={initialized:!1,enabled:!1};function As(n){return JS.get(n)||Object.assign({},$x)}function OT(){return J2}const XS="https://content-firebaseappcheck.googleapis.com/v1",nR="exchangeDebugToken",Hx={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class iR{constructor(e,t,r,s,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=s,s>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Se.Z)(function*(){t.stop();try{t.pending=new br.BH,yield function sR(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new br.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Wo=new br.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function eM(n){if(!As(n).activated)throw Wo.create("use-before-activation",{appName:n.name})}function NT(n,e){return nM.apply(this,arguments)}function nM(){return nM=(0,Se.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){const L=yield s.getHeartbeatsHeader();L&&(r["X-Firebase-Client"]=L)}const u={method:"POST",body:JSON.stringify(e),headers:r};let d,_;try{d=yield fetch(n,u)}catch(L){throw Wo.create("fetch-network-error",{originalErrorMessage:L?.message})}if(200!==d.status)throw Wo.create("fetch-status-error",{httpStatus:d.status});try{_=yield d.json()}catch(L){throw Wo.create("fetch-parse-error",{originalErrorMessage:L?.message})}const E=_.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw Wo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const T=1e3*Number(E[1]),x=Date.now();return{token:_.token,expireTimeMillis:x+T,issuedAtTimeMillis:x}}),nM.apply(this,arguments)}function Gx(n,e){const{projectId:t,appId:r,apiKey:s}=n.options;return{url:`${XS}/projects/${t}/apps/${r}:${nR}?key=${s}`,body:{debug_token:e}}}const cR="firebase-app-check-database",lR=1,pb="firebase-app-check-store";let kT=null;function rM(){return rM=(0,Se.Z)(function*(n,e){const r=(yield function qx(){return kT||(kT=new Promise((n,e)=>{try{const t=indexedDB.open(cR,lR);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var s;e(Wo.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(pb,{keyPath:"compositeKey"})}}catch(t){e(Wo.create("storage-open",{originalErrorMessage:t?.message}))}}),kT)}()).transaction(pb,"readwrite"),u=r.objectStore(pb).put({compositeKey:n,value:e});return new Promise((d,_)=>{u.onsuccess=E=>{d()},r.onerror=E=>{var T;_(Wo.create("storage-set",{originalErrorMessage:null===(T=E.target.error)||void 0===T?void 0:T.message}))}})}),rM.apply(this,arguments)}const gb=new pu.Yd("@firebase/app-check");function oM(n,e){return(0,br.hl)()?function hR(n,e){return function Wx(n,e){return rM.apply(this,arguments)}(function Kx(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{gb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function uM(){return OT().enabled}function cM(){return lM.apply(this,arguments)}function lM(){return lM=(0,Se.Z)(function*(){const n=OT();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),lM.apply(this,arguments)}const _R={error:"UNKNOWN_ERROR"};function vR(n){return br.US.encodeString(JSON.stringify(n),!1)}function LT(n){return dM.apply(this,arguments)}function dM(){return dM=(0,Se.Z)(function*(n,e=!1){const t=n.app;eM(t);const r=As(t);let u,s=r.token;if(s&&!Fw(s)&&(r.token=void 0,s=void 0),!s){const E=yield r.cachedTokenPromise;E&&(Fw(E)?s=E:yield oM(t,void 0))}if(!e&&s&&Fw(s))return{token:s.token};let _,d=!1;if(uM()){r.exchangeTokenPromise||(r.exchangeTokenPromise=NT(Gx(t,yield cM()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const E=yield r.exchangeTokenPromise;return yield oM(t,E),r.token=E,{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),s=yield As(t).exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?gb.warn(E.message):gb.error(E),u=E}return s?u?_=Fw(s)?{token:s.token,internalError:u}:Xx(u):(_={token:s.token},r.token=s,yield oM(t,s)):_=Xx(u),d&&function Jx(n,e){const t=As(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,_),_}),dM.apply(this,arguments)}function hM(){return hM=(0,Se.Z)(function*(n){const e=n.app;eM(e);const{provider:t}=As(e);if(uM()){const r=yield cM(),{token:s}=yield NT(Gx(e,r),n.heartbeatServiceProvider);return{token:s}}{const{token:r}=yield t.getToken();return{token:r}}}),hM.apply(this,arguments)}function pM(n,e){const t=As(n),r=t.tokenObservers.filter(s=>s.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Qx(n){const{app:e}=n,t=As(e);let r=t.tokenRefresher;r||(r=function wR(n){const{app:e}=n;return new iR((0,Se.Z)(function*(){let r;if(r=As(e).token?yield LT(n,!0):yield LT(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=As(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Hx.RETRIAL_MIN_WAIT,Hx.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Fw(n){return n.expireTimeMillis-Date.now()>0}function Xx(n){return{token:vR(_R),error:n}}class ER{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=As(this.app);for(const t of e)pM(this.app,t.next);return Promise.resolve()}}const aO="app-check-internal";!function kR(){(0,QS._registerComponent)(new eg.wA("app-check",n=>function IR(n,e){return new ER(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(aO).initialize()})),(0,QS._registerComponent)(new eg.wA(aO,n=>function CR(n){return{getToken:e=>LT(n,e),getLimitedUseToken:()=>function Yx(n){return hM.apply(this,arguments)}(n),addTokenListener:e=>function fM(n,e,t,r){const{app:s}=n,u=As(s);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&Fw(u.token)){const _=u.token;Promise.resolve().then(()=>{t({token:_.token}),Qx(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>Qx(n))}(n,"INTERNAL",e),removeTokenListener:e=>pM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,QS.registerVersion)("@firebase/app-check","0.8.0")}();class _M{constructor(){return(0,Ai.vb)("app-check")}}typeof window<"u"&&window;var wM=N(120);const cO=new h.OlP("angularfire2.auth.use-emulator"),lO=new h.OlP("angularfire2.auth.settings"),dO=new h.OlP("angularfire2.auth.tenant-id"),hO=new h.OlP("angularfire2.auth.langugage-code"),fO=new h.OlP("angularfire2.auth.use-device-language"),pO=new h.OlP("angularfire.auth.persistence"),gO=(n,e,t,r,s,u,d,_)=>(0,Ni.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),r&&(E.tenantId=r),E.languageCode=s,u&&E.useDeviceLanguage(),d)for(const[T,x]of Object.entries(d))E.settings[T]=x;return _&&E.setPersistence(_),E},[t,r,s,u,d,_]);let UT=(()=>{class n{constructor(t,r,s,u,d,_,E,T,x,L,Q,ue){const Le=new Fr.x,Ye=(0,Xt.of)(void 0).pipe((0,cl.Q)(d.outsideAngular),(0,Er.w)(()=>u.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,8661)))),(0,Dn.U)(()=>(0,Ni.on)(t,u,r)),(0,Dn.U)(rt=>gO(rt,u,_,T,x,L,E,Q)),KS({bufferSize:1,refCount:!1}));if(ir(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Xt.of)(null);else{Ye.pipe(Ri()).subscribe();const $t=Ye.pipe((0,Er.w)(gn=>gn.getRedirectResult().then(zn=>zn,()=>null)),Ai.iC,KS({bufferSize:1,refCount:!1})),cn=Ye.pipe((0,Er.w)(gn=>new Kr.y(zn=>({unsubscribe:u.runOutsideAngular(()=>gn.onAuthStateChanged(_r=>zn.next(_r),_r=>zn.error(_r),()=>zn.complete()))})))),Vt=Ye.pipe((0,Er.w)(gn=>new Kr.y(zn=>({unsubscribe:u.runOutsideAngular(()=>gn.onIdTokenChanged(_r=>zn.next(_r),_r=>zn.error(_r),()=>zn.complete()))}))));this.authState=$t.pipe(MT(cn),(0,ud.R)(d.outsideAngular),(0,cl.Q)(d.insideAngular)),this.user=$t.pipe(MT(Vt),(0,ud.R)(d.outsideAngular),(0,cl.Q)(d.insideAngular)),this.idToken=this.user.pipe((0,Er.w)(gn=>gn?(0,$r.D)(gn.getIdToken()):(0,Xt.of)(null))),this.idTokenResult=this.user.pipe((0,Er.w)(gn=>gn?(0,$r.D)(gn.getIdTokenResult()):(0,Xt.of)(null))),this.credential=(0,G2.T)($t,Le,this.authState.pipe(as(gn=>!gn))).pipe((0,Dn.U)(gn=>gn?.user?gn:null),(0,ud.R)(d.outsideAngular),(0,cl.Q)(d.insideAngular))}return(0,Ni.pX)(this,Ye,u,{spy:{apply:(rt,$t,cn)=>{(rt.startsWith("signIn")||rt.startsWith("createUser"))&&cn.then(Vt=>Le.next(Vt))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ni.Dh),h.LFG(Ni.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Ai.HU),h.LFG(cO,8),h.LFG(lO,8),h.LFG(dO,8),h.LFG(hO,8),h.LFG(fO,8),h.LFG(pO,8),h.LFG(_M,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),jR=(()=>{class n{constructor(){wM.Z.registerVersion("angularfire",Ai.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[UT]}),n})();function mO(n,e){return function $R(n,e=ff.z){return new Kr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function EM(n,e){return mO(n,e).pipe((0,Dn.U)(t=>({payload:t,type:"query"})))}function VT(n,e){return EM(n,e).pipe(Rc(void 0),Ma(),(0,Dn.U)(([t,r])=>{const s=r.payload.docChanges(),u=s.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,_)=>{const E=s.find(x=>x.doc.ref.isEqual(d.ref)),T=t?.payload.docs.find(x=>x.ref.isEqual(d.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(d.metadata)||!E&&T&&JSON.stringify(T.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:_,newIndex:_,type:"modified",doc:d}})}),u}))}function yO(n,e,t){return VT(n,t).pipe(Ia((r,s)=>function GR(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function zR(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return IM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return IM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return IM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(u=>u.payload),e),[]),(0,Vv.x)(),(0,Dn.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function IM(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function _O(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class vO{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=VT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Dn.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(Rc(void 0),Ma(),as(([r,s])=>s.length>0||!r),(0,Dn.U)(([r,s])=>s),Ai.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ia((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=_O(e);return yO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ai.iC)}valueChanges(e={}){return EM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dn.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Ai.iC)}get(e){return(0,$r.D)(this.query.get(e)).pipe(Ai.iC)}add(e){return this.ref.add(e)}doc(e){return new wO(this.ref.doc(e),this.afs)}}class wO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:u}=CO(r,t);return new vO(s,u,this.afs)}snapshotChanges(){return function HR(n,e){return mO(n,e).pipe(Rc(void 0),Ma(),(0,Dn.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ai.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Dn.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,$r.D)(this.ref.get(e)).pipe(Ai.iC)}}class qR{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?VT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dn.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),as(t=>t.length>0),Ai.iC):VT(this.query,this.afs.schedulers.outsideAngular).pipe(Ai.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ia((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=_O(e);return yO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ai.iC)}valueChanges(e={}){return EM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dn.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),Ai.iC)}get(e){return(0,$r.D)(this.query.get(e)).pipe(Ai.iC)}}const EO=new h.OlP("angularfire2.enableFirestorePersistence"),IO=new h.OlP("angularfire2.firestore.persistenceSettings"),WR=new h.OlP("angularfire2.firestore.settings"),ZR=new h.OlP("angularfire2.firestore.use-emulator");function CO(n,e=(t=>t)){return{query:e(n),ref:n}}let CM=(()=>{class n{constructor(t,r,s,u,d,_,E,T,x,L,Q,ue,Le,Ye,rt,$t,cn){this.schedulers=E;const Vt=(0,Ni.on)(t,_,r),gn=x;L&&gO(Vt,_,Q,Le,Ye,rt,ue,$t),[this.firestore,this.persistenceEnabled$]=(0,Ni.cc)(`${Vt.name}.firestore`,"AngularFirestore",Vt.name,()=>{const zn=_.runOutsideAngular(()=>Vt.firestore());if(u&&zn.settings(u),gn&&zn.useEmulator(...gn),s&&!ir(d)){const _r=()=>{try{return(0,$r.D)(zn.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(Zo){return typeof console<"u"&&console.warn(Zo),(0,Xt.of)(!1)}};return[zn,_.runOutsideAngular(_r)]}return[zn,(0,Xt.of)(!1)]},[u,gn,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=CO(s,r),_=this.schedulers.ngZone.run(()=>u);return new vO(_,d,this)}collectionGroup(t,r){const s=r||(d=>d),u=this.firestore.collectionGroup(t);return new qR(s(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new wO(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ni.Dh),h.LFG(Ni.xv,8),h.LFG(EO,8),h.LFG(WR,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Ai.HU),h.LFG(IO,8),h.LFG(ZR,8),h.LFG(UT,8),h.LFG(cO,8),h.LFG(lO,8),h.LFG(dO,8),h.LFG(hO,8),h.LFG(fO,8),h.LFG(pO,8),h.LFG(_M,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),KR=(()=>{class n{constructor(){wM.Z.registerVersion("angularfire",Ai.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:EO,useValue:!0},{provide:IO,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[CM]}),n})();var YR=N(6710);let j_=(()=>{class n{constructor(t,r){this.afs=t,this.db=r,this._loggedInUser$=new ss.X(JSON.parse(sessionStorage.getItem("loggedInUser"))||null),this.loggedInUser$=this._loggedInUser$.asObservable()}logInWithGoogle(){var t=this;return(0,Se.Z)(function*(){try{const r=yield t.afs.signInWithPopup(new YR.V);return yield t.createOrUpdateUserOnDB(r),sessionStorage.setItem("loggedInUser",JSON.stringify(r)),t._loggedInUser$.next(r),r}catch(r){throw console.error(r.message),r.message}})()}logInWithEmailAndPassword(t){var r=this;return(0,Se.Z)(function*(){try{const s=yield r.afs.signInWithEmailAndPassword(t.email,t.password);return yield r.createOrUpdateUserOnDB(s,t),sessionStorage.setItem("loggedInUser",JSON.stringify(s)),r._loggedInUser$.next(s),s}catch(s){throw console.error(s.message),s.message}})()}registerWithEmailAndPassword(t){var r=this;return(0,Se.Z)(function*(){try{const s=yield r.afs.createUserWithEmailAndPassword(t.email,t.password);return yield r.createOrUpdateUserOnDB(s,t),sessionStorage.setItem("loggedInUser",JSON.stringify(s)),r._loggedInUser$.next(s),s}catch(s){throw console.error(s.message),s.message}})()}logOut(){var t=this;return(0,Se.Z)(function*(){try{yield t.afs.signOut(),sessionStorage.removeItem("loggedInUser"),t._loggedInUser$.next(null)}catch(r){throw console.error(r.message),r.message}})()}createOrUpdateUserOnDB(t,r=null){var s=this;return(0,Se.Z)(function*(){var u;s.db.collection("users").doc(t.user.uid).get().pipe(pi(1)).subscribe({next:(u=(0,Se.Z)(function*(d){if(d.exists){const _=d.data();console.log("userData",_),_._id||(yield s.db.collection("users").doc(t.user.uid).update({_id:t.user.uid})),_.fullName||(yield s.db.collection("users").doc(t.user.uid).update({fullName:r?.fullName||t.additionalUserInfo?.profile?.name})),_.imgUrl||(yield s.db.collection("users").doc(t.user.uid).update({imgUrl:t.user.photoURL||"https://res.cloudinary.com/dpbcaizq9/image/upload/v1686066256/user_jsqpzw.png"})),_.followedByUsers||(yield s.db.collection("users").doc(t.user.uid).update({followedByUsers:[]})),_.followingUsers||(yield s.db.collection("users").doc(t.user.uid).update({followingUsers:[]}))}else yield s.db.collection("users").doc(t.user.uid).set({_id:t.user.uid,fullName:r?.fullName||t.additionalUserInfo?.profile?.name,imgUrl:t.user.photoURL||"https://res.cloudinary.com/dpbcaizq9/image/upload/v1686066256/user_jsqpzw.png",followedByUsers:[],followingUsers:[]})}),function(_){return u.apply(this,arguments)}),error:u=>{console.error(u)}})})()}getUserById(t){return this.db.collection("users").doc(t).valueChanges()}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(UT),h.LFG(CM))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bO=(()=>{class n{constructor(t,r){this.db=t,this.authService=r,this._posts$=new ss.X([]),this.posts$=this._posts$.asObservable()}getPosts(){return this.db.collection("posts").valueChanges().pipe((0,Er.w)(t=>{let r=t.reduce((u,d)=>u.concat(d.likedByUsers||[]),[]);return Qa(Array.from(new Set(r)).map(u=>this.authService.getUserById(u))).pipe((0,Dn.U)(u=>t.map(d=>(console.log("hi"),d.likedByUsers=d.likedByUsers?d.likedByUsers.map(_=>u.find(E=>E._id===_)):[],d))),qu(()=>{console.log("posts",t),this._posts$.next([...t])}),function fu(n=1/0){let e;e=n&&"object"==typeof n?n:{count:n};const{count:t=1/0,delay:r,resetOnSuccess:s=!1}=e;return t<=0?oa.y:(0,os.e)((u,d)=>{let E,_=0;const T=()=>{let x=!1;E=u.subscribe((0,Gr.x)(d,L=>{s&&(_=0),d.next(L)},void 0,L=>{if(_++<t){const Q=()=>{E?(E.unsubscribe(),E=null,T()):x=!0};if(null!=r){const ue="number"==typeof r?function Xp(n=0,e,t=ff.P){let r=-1;return null!=e&&((0,mE.K)(e)?t=e:r=e),new Kr.y(s=>{let u=function dy(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;u<0&&(u=0);let d=0;return t.schedule(function(){s.closed||(s.next(d++),0<=r?this.schedule(void 0,r):s.complete())},u)})}(r):(0,Oc.Xf)(r(L,_)),Le=(0,Gr.x)(d,()=>{Le.unsubscribe(),Q()},()=>{d.complete()});ue.subscribe(Le)}else Q()}else d.error(L)})),x&&(E.unsubscribe(),E=null,T())};T()})}(1),vo(this._handleError))}))}toggleLike(t,r){var s=this;return(0,Se.Z)(function*(){t?yield s.addLike(r):yield s.removeLike(r)})()}addLike(t){var r=this;return(0,Se.Z)(function*(){const s=(0,Wc.cloneDeep)(t);r.authService.loggedInUser$.pipe(pi(1)).subscribe({next:u=>{const d=u.user.uid;var _;r.db.collection("users").doc(d).valueChanges().pipe(pi(1)).subscribe({next:(_=(0,Se.Z)(function*(E){const T=E,x=s.likedByUsers.slice();x.push(T),s.likedByUsers=s.likedByUsers.map(Le=>Le._id),s.likedByUsers.push(d),yield r.db.collection("posts").doc(t._id).update({likedByUsers:[...s.likedByUsers]});const L=r._posts$.value,Q=L.findIndex(Le=>Le._id===t._id),ue={...s,likedByUsers:[...x]};L.splice(Q,1,ue),r._posts$.next([...L])}),function(T){return _.apply(this,arguments)})})}})})()}removeLike(t){var r=this;return(0,Se.Z)(function*(){const s=(0,Wc.cloneDeep)(t);var u;r.authService.loggedInUser$.pipe(pi(1)).subscribe({next:(u=(0,Se.Z)(function*(d){const _=d.user.uid,E=s.likedByUsers.findIndex(Q=>Q._id===_);s.likedByUsers.splice(E,1),s.likedByUsers=s.likedByUsers.map(Q=>Q._id),yield r.db.collection("posts").doc(s._id).update({likedByUsers:[...s.likedByUsers]});const T=r._posts$.value,x=T.findIndex(Q=>Q._id===t._id);t.likedByUsers.splice(E,1);const L={...t,likedByUsers:[...t.likedByUsers]};T.splice(x,1,L),r._posts$.next([...T])}),function(_){return u.apply(this,arguments)})})})()}_handleError(t){return console.log("err:",t),tu(()=>t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(CM),h.LFG(j_))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),QR=(()=>{class n{transform(t){const s=Math.floor(Date.now()/1e3)-t;return s<60?"just now":s<3600?`${Math.floor(s/60)}m`:s<86400?`${Math.floor(s/3600)}h`:`${Math.floor(s/86400)}d`}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=h.Yjl({name:"timeAgo",type:n,pure:!0})}return n})();function JR(n,e){if(1&n&&(h.TgZ(0,"div",20),h._UZ(1,"img",21),h.TgZ(2,"h5"),h._uU(3),h.TgZ(4,"span"),h._uU(5),h.ALo(6,"timeAgo"),h.qZA()()()),2&n){const t=h.oxw();h.xp6(1),h.Q6J("src",t.creator.imgUrl,h.LSH),h.xp6(2),h.hij(" ",t.creator.fullName," "),h.xp6(2),h.hij("\u2022 ",h.lcZ(6,3,t.post.createdAt),"")}}function XR(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",22),h.NdJ("click",function(){h.CHM(t);const s=h.oxw();return h.KtG(s.toggleLike())}),h.O4$(),h.TgZ(1,"svg",23)(2,"title"),h._uU(3,"Like"),h.qZA(),h._UZ(4,"path",24),h.qZA()()}}function eN(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",22),h.NdJ("click",function(){h.CHM(t);const s=h.oxw();return h.KtG(s.toggleLike())}),h.O4$(),h.TgZ(1,"svg",25)(2,"title"),h._uU(3,"Unlike"),h.qZA(),h._UZ(4,"path",26),h.qZA()()}}function tN(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"span"),h._uU(1," and "),h.TgZ(2,"span",31),h.NdJ("click",function(){h.CHM(t);const s=h.oxw(2);return h.KtG(s.isLikedByUsersModalShown=!s.isLikedByUsersModalShown)}),h._uU(3),h.ALo(4,"number"),h.qZA()()}if(2&n){const t=h.oxw(2);h.xp6(3),h.AsE("",h.lcZ(4,2,t.post.likedByUsers.length-1)," ",t.post.likedByUsers.length>2?"others":"other","")}}function nN(n,e){if(1&n&&(h.TgZ(0,"li"),h._UZ(1,"img",28),h.TgZ(2,"h5"),h._uU(3),h.qZA(),h.TgZ(4,"button",39),h._uU(5,"Follow"),h.qZA()()),2&n){const t=e.$implicit;h.xp6(1),h.Q6J("src",t.imgUrl,h.LSH),h.xp6(2),h.Oqu(t.fullName)}}function rN(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"article",32)(1,"div",33)(2,"h3"),h._uU(3,"Likes"),h.qZA(),h.TgZ(4,"button",34),h.NdJ("click",function(){h.CHM(t);const s=h.oxw(2);return h.KtG(s.isLikedByUsersModalShown=!s.isLikedByUsersModalShown)}),h.O4$(),h.TgZ(5,"svg",35)(6,"title"),h._uU(7,"Close"),h.qZA(),h._UZ(8,"polyline",36)(9,"line",37),h.qZA()()(),h.kcU(),h.TgZ(10,"ul"),h.YNc(11,nN,6,2,"li",38),h.qZA()()}if(2&n){const t=h.oxw(2);h.xp6(11),h.Q6J("ngForOf",t.post.likedByUsers)}}function iN(n,e){if(1&n&&(h.O4$(),h.kcU(),h.TgZ(0,"div",27),h._UZ(1,"img",28),h.TgZ(2,"p"),h._uU(3," Liked by "),h.TgZ(4,"span",29),h._uU(5),h.qZA(),h.YNc(6,tN,5,4,"span",19),h.qZA(),h.YNc(7,rN,12,1,"article",30),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Q6J("src",t.post.likedByUsers[0].imgUrl,h.LSH),h.xp6(4),h.Oqu(t.post.likedByUsers[0].fullName),h.xp6(1),h.Q6J("ngIf",t.post.likedByUsers.length>1),h.xp6(1),h.Q6J("ngIf",t.isLikedByUsersModalShown)}}function sN(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",42),h.NdJ("click",function(){h.CHM(t);const s=h.oxw(2);return h.KtG(s.isMoreClicked=!s.isMoreClicked)}),h._uU(1," more "),h.qZA()}}function oN(n,e){if(1&n&&(h.TgZ(0,"p")(1,"span",40),h._uU(2),h.qZA(),h._uU(3),h.ALo(4,"slice"),h.YNc(5,sN,2,0,"button",41),h.qZA()),2&n){const t=h.oxw();h.xp6(2),h.Oqu(t.post.creatorFullName),h.xp6(1),h.AsE(" ",h.Dn7(4,4,t.post.content,0,120)," ",t.post.content.length>=120&&"..."," "),h.xp6(2),h.Q6J("ngIf",t.post.content.length>=120)}}function aN(n,e){if(1&n&&(h.TgZ(0,"p")(1,"span",40),h._uU(2),h.qZA(),h._uU(3),h.qZA()),2&n){const t=h.oxw();h.xp6(2),h.Oqu(t.post.creatorFullName),h.xp6(1),h.hij(" ",t.post.content," ")}}let uN=(()=>{class n{constructor(t){this.authService=t,this.onToggleLike=new h.vpe,this.isMoreClicked=!1,this.isLikedByUsersModalShown=!1,this.isLikeClicked=!1,this.isToggleLikeProcessing=!1}ngOnInit(){this.authService.getUserById(this.post.creatorId).pipe(pi(1)).subscribe({next:r=>{r.exists&&(this.creator=r.data())}}),this.authService.loggedInUser$.pipe(pi(1)).subscribe({next:r=>{this.loggedInUser=r}}),this.post.likedByUsers.find(r=>r._id===this.loggedInUser.user.uid)&&(this.isLikeClicked=!0)}toggleLike(){this.isToggleLikeProcessing||(this.isToggleLikeProcessing=!0,setTimeout(()=>{this.isToggleLikeProcessing=!1},2e3),this.isLikeClicked=!this.isLikeClicked,this.onToggleLike.emit({post:(0,Wc.cloneDeep)(this.post),isLikeClicked:this.isLikeClicked}))}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(j_))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["post-card"]],inputs:{post:"post"},outputs:{onToggleLike:"onToggleLike"},decls:28,vars:7,consts:[[1,"post-card"],["class","post-header",4,"ngIf"],["alt","post",3,"src"],[1,"post-card-inner-container"],[1,"actions"],[1,"like-comment-share"],["class","btn-like",3,"click",4,"ngIf"],[1,"btn-comment"],["aria-label","Comment","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"x1lliihq","x1n2onr6"],["d","M20.656 17.008a9.993 9.993 0 1 0-3.59 3.615L22 22Z","fill","none","stroke","currentColor","stroke-linejoin","round","stroke-width","2"],[1,"btn-share"],["aria-label","Share","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"x1lliihq","x1n2onr6"],["fill","none","stroke","currentColor","stroke-linejoin","round","stroke-width","2","x1","22","x2","9.218","y1","3","y2","10.083"],["fill","none","points","11.698 20.334 22 3.001 2 3.001 9.218 10.084 11.698 20.334","stroke","currentColor","stroke-linejoin","round","stroke-width","2"],[1,"save"],["aria-label","Save","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"x1lliihq","x1n2onr6"],["fill","none","points","20 21 12 13.44 4 21 4 3 20 3 20 21","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["class","liked-by-users",4,"ngIf"],[1,"content"],[4,"ngIf"],[1,"post-header"],["alt","creator",3,"src"],[1,"btn-like",3,"click"],["aria-label","Like","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"x1lliihq","x1n2onr6"],["d","M16.792 3.904A4.989 4.989 0 0 1 21.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 0 1 4.708-5.218 4.21 4.21 0 0 1 3.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 0 1 3.679-1.938m0-2a6.04 6.04 0 0 0-4.797 2.127 6.052 6.052 0 0 0-4.787-2.127A6.985 6.985 0 0 0 .5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 0 0 3.518 3.018 2 2 0 0 0 2.174 0 45.263 45.263 0 0 0 3.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 0 0-6.708-7.218Z"],["aria-label","Unlike","color","rgb(255, 48, 64)","fill","rgb(255, 48, 64)","height","24","role","img","viewBox","0 0 48 48","width","24",1,"x1lliihq","x1n2onr6"],["d","M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"],[1,"liked-by-users"],["alt","user",3,"src"],[1,"username"],["class","liked-by-users-list",4,"ngIf"],[1,"other-users",3,"click"],[1,"liked-by-users-list"],[1,"header"],[1,"btn-close-liked-by-users-list",3,"click"],["aria-label","Close","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","18","role","img","viewBox","0 0 24 24","width","18",1,"x1lliihq","x1n2onr6"],["fill","none","points","20.643 3.357 12 12 3.353 20.647","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","3"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","3","x1","20.649","x2","3.354","y1","20.649","y2","3.354"],[4,"ngFor","ngForOf"],[1,"btn-follow"],[1,"creatorFullName"],["class","btn-more",3,"click",4,"ngIf"],[1,"btn-more",3,"click"]],template:function(r,s){1&r&&(h.TgZ(0,"li",0),h.YNc(1,JR,7,5,"div",1),h._UZ(2,"img",2),h.TgZ(3,"div",3)(4,"div",4)(5,"div",5),h.YNc(6,XR,5,0,"button",6),h.YNc(7,eN,5,0,"button",6),h.TgZ(8,"button",7),h.O4$(),h.TgZ(9,"svg",8)(10,"title"),h._uU(11,"Comment"),h.qZA(),h._UZ(12,"path",9),h.qZA()(),h.kcU(),h.TgZ(13,"button",10),h.O4$(),h.TgZ(14,"svg",11)(15,"title"),h._uU(16,"Share PostModel"),h.qZA(),h._UZ(17,"line",12)(18,"polygon",13),h.qZA()()(),h.kcU(),h.TgZ(19,"button",14),h.O4$(),h.TgZ(20,"svg",15)(21,"title"),h._uU(22,"Save"),h.qZA(),h._UZ(23,"polygon",16),h.qZA()()(),h.YNc(24,iN,8,4,"div",17),h.kcU(),h.TgZ(25,"div",18),h.YNc(26,oN,6,8,"p",19),h.YNc(27,aN,4,2,"p",19),h.qZA()()()),2&r&&(h.xp6(1),h.Q6J("ngIf",s.creator),h.xp6(1),h.Q6J("src",s.post.imgUrl,h.LSH),h.xp6(4),h.Q6J("ngIf",!s.isLikeClicked),h.xp6(1),h.Q6J("ngIf",s.isLikeClicked),h.xp6(17),h.Q6J("ngIf",s.post.likedByUsers.length),h.xp6(2),h.Q6J("ngIf",!s.isMoreClicked),h.xp6(1),h.Q6J("ngIf",s.isMoreClicked))},dependencies:[No,Ss,$i,mt,QR],styles:["[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;gap:1em}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5em;color:#f5f5f5;padding-inline:1.5em}@media (min-width: 600px){[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]{padding-inline:unset}}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:40px;border:none}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4em}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#919191;font-weight:400}@media (min-width: 600px){[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:.2em;border:1px solid rgba(245,245,245,.44)}}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]{padding-inline:1.5em;display:flex;flex-direction:column;gap:.8em}@media (min-width: 600px){[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]{padding-inline:unset}}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .like-comment-share[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5em}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .like-comment-share[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]{cursor:pointer;background-color:transparent;border:none;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .like-comment-share[_ngcontent-%COMP%]   .btn-comment[_ngcontent-%COMP%]{cursor:pointer;background-color:transparent;border:none;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .like-comment-share[_ngcontent-%COMP%]   .btn-share[_ngcontent-%COMP%]{cursor:pointer;background-color:transparent;border:none;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]{cursor:pointer;background-color:transparent;border:none;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .liked-by-users[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5em;font-size:14px}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .liked-by-users[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;border-radius:50%;border:none}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .liked-by-users[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{cursor:pointer;font-weight:bolder}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .liked-by-users[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .other-users[_ngcontent-%COMP%]{cursor:pointer;font-weight:bolder}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .liked-by-users[_ngcontent-%COMP%]   .liked-by-users-list[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1;background-color:#262626;border-radius:1em;width:20em;display:flex;flex-direction:column;gap:1em}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .liked-by-users[_ngcontent-%COMP%]   .liked-by-users-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-block-end:1px solid rgba(252,252,252,.11);height:3em}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .liked-by-users[_ngcontent-%COMP%]   .liked-by-users-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .btn-close-liked-by-users-list[_ngcontent-%COMP%]{position:absolute;right:1em;top:.9em;cursor:pointer;background-color:transparent;border:none}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .liked-by-users[_ngcontent-%COMP%]   .liked-by-users-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em;padding-inline:1em;padding-block-end:1em}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .liked-by-users[_ngcontent-%COMP%]   .liked-by-users-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .liked-by-users[_ngcontent-%COMP%]   .liked-by-users-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:45px}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .liked-by-users[_ngcontent-%COMP%]   .liked-by-users-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .liked-by-users[_ngcontent-%COMP%]   .liked-by-users-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn-follow[_ngcontent-%COMP%]{cursor:pointer;border:none;background-color:#0095f6;color:#f5f5f5;border-radius:.5em;padding-inline:1.5em;height:2.5em;font-size:14px;font-weight:bolder}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .liked-by-users[_ngcontent-%COMP%]   .liked-by-users-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn-follow[_ngcontent-%COMP%]:hover{background-color:#0284d5}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .creatorFullName[_ngcontent-%COMP%]{font-weight:700;font-size:13px;color:#f5f5f5;cursor:pointer}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .btn-more[_ngcontent-%COMP%]{border:none;background-color:transparent;color:#919191;font-size:14px;cursor:pointer}"]})}return n})();function cN(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"post-card",2),h.NdJ("onToggleLike",function(s){h.CHM(t);const u=h.oxw();return h.KtG(u.onToggleLike.emit(s))}),h.qZA()}2&n&&h.Q6J("post",e.$implicit)}let lN=(()=>{class n{constructor(){this.onToggleLike=new h.vpe}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["post-list"]],inputs:{posts:"posts"},outputs:{onToggleLike:"onToggleLike"},decls:3,vars:1,consts:[[1,"post-list"],[3,"post","onToggleLike",4,"ngFor","ngForOf"],[3,"post","onToggleLike"]],template:function(r,s){1&r&&(h.TgZ(0,"section",0)(1,"ul"),h.YNc(2,cN,1,1,"post-card",1),h.qZA()()),2&r&&(h.xp6(2),h.Q6J("ngForOf",s.posts))},dependencies:[No,uN]})}return n})();function dN(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"section",1)(1,"post-list",2),h.NdJ("onToggleLike",function(s){h.CHM(t);const u=h.oxw();return h.KtG(u.onToggleLike(s))}),h.qZA()()}if(2&n){const t=e.ngIf;h.xp6(1),h.Q6J("posts",t)}}let hN=(()=>{class n{constructor(t){this.postService=t}ngOnInit(){this.posts$=this.postService.posts$}onToggleLike(t){var r=this;return(0,Se.Z)(function*(){yield r.postService.toggleLike(t.isLikeClicked,t.post)})()}ngOnDestroy(){}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(bO))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["home-page-page"]],decls:2,vars:3,consts:[["class","home-page",4,"ngIf"],[1,"home-page"],[3,"posts","onToggleLike"]],template:function(r,s){1&r&&(h.YNc(0,dN,2,1,"section",0),h.ALo(1,"async")),2&r&&h.Q6J("ngIf",h.lcZ(1,1,s.posts$))},dependencies:[Ss,lN,Mu]})}return n})(),DO=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.Qsj),h.Y36(h.SBq))};static#t=this.\u0275dir=h.lG2({type:n})}return n})(),$_=(()=>{class n extends DO{static#e=this.\u0275fac=function(){let t;return function(s){return(t||(t=h.n5z(n)))(s||n)}}();static#t=this.\u0275dir=h.lG2({type:n,features:[h.qOj]})}return n})();const Ch=new h.OlP("NgValueAccessor"),gN={provide:Ch,useExisting:(0,h.Gpc)(()=>BT),multi:!0},yN=new h.OlP("CompositionEventMode");let BT=(()=>{class n extends DO{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function mN(){const n=B()?B().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(yN,8))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){1&r&&h.NdJ("input",function(d){return s._handleInput(d.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(d){return s._compositionEnd(d.target.value)})},features:[h._Bn([gN]),h.qOj]})}return n})();const pa=new h.OlP("NgValidators"),fm=new h.OlP("NgAsyncValidators");function LO(n){return null!=n}function FO(n){return(0,h.QGY)(n)?(0,$r.D)(n):n}function UO(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function VO(n,e){return e.map(t=>t(n))}function BO(n){return n.map(e=>function vN(n){return!n.validate}(e)?e:t=>e.validate(t))}function bM(n){return null!=n?function jO(n){if(!n)return null;const e=n.filter(LO);return 0==e.length?null:function(t){return UO(VO(t,e))}}(BO(n)):null}function DM(n){return null!=n?function $O(n){if(!n)return null;const e=n.filter(LO);return 0==e.length?null:function(t){return function fN(...n){const e=(0,Uo.jO)(n),{args:t,keys:r}=Hr(n),s=new Kr.y(u=>{const{length:d}=t;if(!d)return void u.complete();const _=new Array(d);let E=d,T=d;for(let x=0;x<d;x++){let L=!1;(0,Oc.Xf)(t[x]).subscribe((0,Gr.x)(u,Q=>{L||(L=!0,T--),_[x]=Q},()=>E--,void 0,()=>{(!E||!L)&&(T||u.next(r?Ls(r,_):_),u.complete())}))}});return e?s.pipe(no(e)):s}(VO(t,e).map(FO)).pipe((0,Dn.U)(UO))}}(BO(n)):null}function HO(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function TM(n){return n?Array.isArray(n)?n:[n]:[]}function $T(n,e){return Array.isArray(n)?n.includes(e):n===e}function qO(n,e){const t=TM(e);return TM(n).forEach(s=>{$T(t,s)||t.push(s)}),t}function WO(n,e){return TM(e).filter(t=>!$T(n,t))}class ZO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=bM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=DM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Va extends ZO{get formDirective(){return null}get path(){return null}}class pm extends ZO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class KO{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let YO=(()=>{class n extends KO{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(pm,2))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){2&r&&h.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[h.qOj]})}return n})(),QO=(()=>{class n extends KO{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(Va,10))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){2&r&&h.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[h.qOj]})}return n})();const mb="VALID",GT="INVALID",Uw="PENDING",yb="DISABLED";function MM(n){return(zT(n)?n.validators:n)||null}function xM(n,e){return(zT(e)?e.asyncValidators:n)||null}function zT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class tP{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===mb}get invalid(){return this.status===GT}get pending(){return this.status==Uw}get disabled(){return this.status===yb}get enabled(){return this.status!==yb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(qO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(qO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(WO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(WO(e,this._rawAsyncValidators))}hasValidator(e){return $T(this._rawValidators,e)}hasAsyncValidator(e){return $T(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Uw,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=yb,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=mb,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mb||this.status===Uw)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yb:mb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Uw,this._hasOwnPendingAsyncValidator=!0;const t=FO(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,s)=>r&&r._find(s),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?yb:this.errors?GT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Uw)?Uw:this._anyControlsHaveStatus(GT)?GT:mb}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zT(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function CN(n){return Array.isArray(n)?bM(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function bN(n){return Array.isArray(n)?DM(n):n||null}(this._rawAsyncValidators)}}class OM extends tP{constructor(e,t,r){super(MM(t),xM(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function eP(n,e,t){n._forEachChild((r,s)=>{if(void 0===t[s])throw new h.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function XO(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[t])throw new h.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const s=this.controls[r];s&&s.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,s)=>((r.enabled||this.disabled)&&(t[s]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((s,u)=>{r=t(r,s,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const H_=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>_b}),_b="always";function vb(n,e,t=_b){PM(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function AN(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&nP(n,e)})}(n,e),function MN(n,e){const t=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function SN(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&nP(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function TN(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ZT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function PM(n,e){const t=function GO(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(HO(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function zO(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(HO(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();ZT(e._rawValidators,s),ZT(e._rawAsyncValidators,s)}function nP(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const NN={provide:Va,useExisting:(0,h.Gpc)(()=>YT)},wb=(()=>Promise.resolve())();let YT=(()=>{class n extends Va{constructor(t,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new OM({},bM(t),DM(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){wb.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),vb(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){wb.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){wb.then(()=>{const r=this._findContainer(t.path),s=new OM({});(function rP(n,e){PM(n,e)})(s,t),r.registerControl(t.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){wb.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){wb.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function iP(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(pa,10),h.Y36(fm,10),h.Y36(H_,8))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,s){1&r&&h.NdJ("submit",function(d){return s.onSubmit(d)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([NN]),h.qOj]})}return n})();function sP(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function oP(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const aP=class extends tP{constructor(e=null,t,r){super(MM(t),xM(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zT(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=oP(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){sP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){sP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){oP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},FN={provide:pm,useExisting:(0,h.Gpc)(()=>LM)},lP=(()=>Promise.resolve())();let LM=(()=>{class n extends pm{constructor(t,r,s,u,d,_){super(),this._changeDetectorRef=d,this.callSetDisabledState=_,this.control=new aP,this._registered=!1,this.name="",this.update=new h.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function kM(n,e){if(!e)return null;let t,r,s;return Array.isArray(e),e.forEach(u=>{u.constructor===BT?t=u:function PN(n){return Object.getPrototypeOf(n.constructor)===$_}(u)?r=u:s=u}),s||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function NM(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){vb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){lP.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,s=0!==r&&(0,h.VuI)(r);lP.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function qT(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(Va,9),h.Y36(pa,10),h.Y36(fm,10),h.Y36(Ch,10),h.Y36(h.sBO,8),h.Y36(H_,8))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([FN]),h.qOj,h.TTD]})}return n})(),dP=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),fP=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({})}return n})();const FM=new h.OlP("NgModelWithFormControlWarning");let xP=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({imports:[fP]})}return n})(),uk=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:H_,useValue:t.callSetDisabledState??_b}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({imports:[xP]})}return n})(),ck=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:FM,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:H_,useValue:t.callSetDisabledState??_b}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({imports:[xP]})}return n})();function lk(n,e){if(1&n){const t=h.EpF();h.O4$(),h.kcU(),h.TgZ(0,"form",12),h.NdJ("ngSubmit",function(){h.CHM(t);const s=h.oxw();return h.KtG(s.onLogInWithEmailAndPassword())}),h.TgZ(1,"input",13),h.NdJ("ngModelChange",function(s){h.CHM(t);const u=h.oxw();return h.KtG(u.userCred.email=s)}),h.qZA(),h.TgZ(2,"input",14),h.NdJ("ngModelChange",function(s){h.CHM(t);const u=h.oxw();return h.KtG(u.userCred.password=s)}),h.qZA(),h.TgZ(3,"button",15),h._uU(4,"Log in"),h.qZA()()}if(2&n){const t=h.oxw();h.xp6(1),h.Q6J("ngModel",t.userCred.email),h.xp6(1),h.Q6J("ngModel",t.userCred.password)}}function dk(n,e){if(1&n){const t=h.EpF();h.O4$(),h.kcU(),h.TgZ(0,"form",12),h.NdJ("ngSubmit",function(){h.CHM(t);const s=h.oxw();return h.KtG(s.onRegisterWithEmailAndPassword())}),h.TgZ(1,"input",16),h.NdJ("ngModelChange",function(s){h.CHM(t);const u=h.oxw();return h.KtG(u.userCred.fullName=s)}),h.qZA(),h.TgZ(2,"input",13),h.NdJ("ngModelChange",function(s){h.CHM(t);const u=h.oxw();return h.KtG(u.userCred.email=s)}),h.qZA(),h.TgZ(3,"input",14),h.NdJ("ngModelChange",function(s){h.CHM(t);const u=h.oxw();return h.KtG(u.userCred.password=s)}),h.qZA(),h.TgZ(4,"button",17),h._uU(5,"Register"),h.qZA()()}if(2&n){const t=h.oxw();h.xp6(1),h.Q6J("ngModel",t.userCred.fullName),h.xp6(1),h.Q6J("ngModel",t.userCred.email),h.xp6(1),h.Q6J("ngModel",t.userCred.password)}}let hk=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.userCred={fullName:"",email:"",password:""},this.isLogInFormShown=!0}ngOnInit(){}onLogInWithGoogle(){var t=this;return(0,Se.Z)(function*(){try{yield t.authService.logInWithGoogle(),t.authService.loggedInUser$.pipe(pi(1)).subscribe({next:s=>{s&&t.router.navigateByUrl("/")},error:s=>{console.error(s)}})}catch(r){console.error(r)}})()}onLogInWithEmailAndPassword(){var t=this;return(0,Se.Z)(function*(){try{yield t.authService.logInWithEmailAndPassword(t.userCred),t.authService.loggedInUser$.pipe(pi(1)).subscribe({next:r=>{r&&t.router.navigateByUrl("/")},error:r=>{console.error(r)}})}catch(r){console.error(r.message)}})()}onRegisterWithEmailAndPassword(){var t=this;return(0,Se.Z)(function*(){try{yield t.authService.registerWithEmailAndPassword(t.userCred),t.authService.loggedInUser$.pipe(pi(1)).subscribe({next:r=>{r&&t.router.navigateByUrl("/")},error:r=>{console.error(r)}})}catch(r){console.error(r.message)}})()}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(j_),h.Y36(Wi))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["login-page"]],decls:16,vars:2,consts:[[1,"login"],[1,"logo"],["aria-label","Instagram","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","29","role","img","viewBox","32 4 113 32","width","103",1,"_ab6-"],["clip-rule","evenodd","d","M37.82 4.11c-2.32.97-4.86 3.7-5.66 7.13-1.02 4.34 3.21 6.17 3.56 5.57.4-.7-.76-.94-1-3.2-.3-2.9 1.05-6.16 2.75-7.58.32-.27.3.1.3.78l-.06 14.46c0 3.1-.13 4.07-.36 5.04-.23.98-.6 1.64-.33 1.9.32.28 1.68-.4 2.46-1.5a8.13 8.13 0 0 0 1.33-4.58c.07-2.06.06-5.33.07-7.19 0-1.7.03-6.71-.03-9.72-.02-.74-2.07-1.51-3.03-1.1Zm82.13 14.48a9.42 9.42 0 0 1-.88 3.75c-.85 1.72-2.63 2.25-3.39-.22-.4-1.34-.43-3.59-.13-5.47.3-1.9 1.14-3.35 2.53-3.22 1.38.13 2.02 1.9 1.87 5.16ZM96.8 28.57c-.02 2.67-.44 5.01-1.34 5.7-1.29.96-3 .23-2.65-1.72.31-1.72 1.8-3.48 4-5.64l-.01 1.66Zm-.35-10a10.56 10.56 0 0 1-.88 3.77c-.85 1.72-2.64 2.25-3.39-.22-.5-1.69-.38-3.87-.13-5.25.33-1.78 1.12-3.44 2.53-3.44 1.38 0 2.06 1.5 1.87 5.14Zm-13.41-.02a9.54 9.54 0 0 1-.87 3.8c-.88 1.7-2.63 2.24-3.4-.23-.55-1.77-.36-4.2-.13-5.5.34-1.95 1.2-3.32 2.53-3.2 1.38.14 2.04 1.9 1.87 5.13Zm61.45 1.81c-.33 0-.49.35-.61.93-.44 2.02-.9 2.48-1.5 2.48-.66 0-1.26-1-1.42-3-.12-1.58-.1-4.48.06-7.37.03-.59-.14-1.17-1.73-1.75-.68-.25-1.68-.62-2.17.58a29.65 29.65 0 0 0-2.08 7.14c0 .06-.08.07-.1-.06-.07-.87-.26-2.46-.28-5.79 0-.65-.14-1.2-.86-1.65-.47-.3-1.88-.81-2.4-.2-.43.5-.94 1.87-1.47 3.48l-.74 2.2.01-4.88c0-.5-.34-.67-.45-.7a9.54 9.54 0 0 0-1.8-.37c-.48 0-.6.27-.6.67 0 .05-.08 4.65-.08 7.87v.46c-.27 1.48-1.14 3.49-2.09 3.49s-1.4-.84-1.4-4.68c0-2.24.07-3.21.1-4.83.02-.94.06-1.65.06-1.81-.01-.5-.87-.75-1.27-.85-.4-.09-.76-.13-1.03-.11-.4.02-.67.27-.67.62v.55a3.71 3.71 0 0 0-1.83-1.49c-1.44-.43-2.94-.05-4.07 1.53a9.31 9.31 0 0 0-1.66 4.73c-.16 1.5-.1 3.01.17 4.3-.33 1.44-.96 2.04-1.64 2.04-.99 0-1.7-1.62-1.62-4.4.06-1.84.42-3.13.82-4.99.17-.8.04-1.2-.31-1.6-.32-.37-1-.56-1.99-.33-.7.16-1.7.34-2.6.47 0 0 .05-.21.1-.6.23-2.03-1.98-1.87-2.69-1.22-.42.39-.7.84-.82 1.67-.17 1.3.9 1.91.9 1.91a22.22 22.22 0 0 1-3.4 7.23v-.7c-.01-3.36.03-6 .05-6.95.02-.94.06-1.63.06-1.8 0-.36-.22-.5-.66-.67-.4-.16-.86-.26-1.34-.3-.6-.05-.97.27-.96.65v.52a3.7 3.7 0 0 0-1.84-1.49c-1.44-.43-2.94-.05-4.07 1.53a10.1 10.1 0 0 0-1.66 4.72c-.15 1.57-.13 2.9.09 4.04-.23 1.13-.89 2.3-1.63 2.3-.95 0-1.5-.83-1.5-4.67 0-2.24.07-3.21.1-4.83.02-.94.06-1.65.06-1.81 0-.5-.87-.75-1.27-.85-.42-.1-.79-.13-1.06-.1-.37.02-.63.35-.63.6v.56a3.7 3.7 0 0 0-1.84-1.49c-1.44-.43-2.93-.04-4.07 1.53-.75 1.03-1.35 2.17-1.66 4.7a15.8 15.8 0 0 0-.12 2.04c-.3 1.81-1.61 3.9-2.68 3.9-.63 0-1.23-1.21-1.23-3.8 0-3.45.22-8.36.25-8.83l1.62-.03c.68 0 1.29.01 2.19-.04.45-.02.88-1.64.42-1.84-.21-.09-1.7-.17-2.3-.18-.5-.01-1.88-.11-1.88-.11s.13-3.26.16-3.6c.02-.3-.35-.44-.57-.53a7.77 7.77 0 0 0-1.53-.44c-.76-.15-1.1 0-1.17.64-.1.97-.15 3.82-.15 3.82-.56 0-2.47-.11-3.02-.11-.52 0-1.08 2.22-.36 2.25l3.2.09-.03 6.53v.47c-.53 2.73-2.37 4.2-2.37 4.2.4-1.8-.42-3.15-1.87-4.3-.54-.42-1.6-1.22-2.79-2.1 0 0 .69-.68 1.3-2.04.43-.96.45-2.06-.61-2.3-1.75-.41-3.2.87-3.63 2.25a2.61 2.61 0 0 0 .5 2.66l.15.19c-.4.76-.94 1.78-1.4 2.58-1.27 2.2-2.24 3.95-2.97 3.95-.58 0-.57-1.77-.57-3.43 0-1.43.1-3.58.19-5.8.03-.74-.34-1.16-.96-1.54a4.33 4.33 0 0 0-1.64-.69c-.7 0-2.7.1-4.6 5.57-.23.69-.7 1.94-.7 1.94l.04-6.57c0-.16-.08-.3-.27-.4a4.68 4.68 0 0 0-1.93-.54c-.36 0-.54.17-.54.5l-.07 10.3c0 .78.02 1.69.1 2.09.08.4.2.72.36.91.15.2.33.34.62.4.28.06 1.78.25 1.86-.32.1-.69.1-1.43.89-4.2 1.22-4.31 2.82-6.42 3.58-7.16.13-.14.28-.14.27.07l-.22 5.32c-.2 5.37.78 6.36 2.17 6.36 1.07 0 2.58-1.06 4.2-3.74l2.7-4.5 1.58 1.46c1.28 1.2 1.7 2.36 1.42 3.45-.21.83-1.02 1.7-2.44.86-.42-.25-.6-.44-1.01-.71-.23-.15-.57-.2-.78-.04-.53.4-.84.92-1.01 1.55-.17.61.45.94 1.09 1.22.55.25 1.74.47 2.5.5 2.94.1 5.3-1.42 6.94-5.34.3 3.38 1.55 5.3 3.72 5.3 1.45 0 2.91-1.88 3.55-3.72.18.75.45 1.4.8 1.96 1.68 2.65 4.93 2.07 6.56-.18.5-.69.58-.94.58-.94a3.07 3.07 0 0 0 2.94 2.87c1.1 0 2.23-.52 3.03-2.31.09.2.2.38.3.56 1.68 2.65 4.93 2.07 6.56-.18l.2-.28.05 1.4-1.5 1.37c-2.52 2.3-4.44 4.05-4.58 6.09-.18 2.6 1.93 3.56 3.53 3.69a4.5 4.5 0 0 0 4.04-2.11c.78-1.15 1.3-3.63 1.26-6.08l-.06-3.56a28.55 28.55 0 0 0 5.42-9.44s.93.01 1.92-.05c.32-.02.41.04.35.27-.07.28-1.25 4.84-.17 7.88.74 2.08 2.4 2.75 3.4 2.75 1.15 0 2.26-.87 2.85-2.17l.23.42c1.68 2.65 4.92 2.07 6.56-.18.37-.5.58-.94.58-.94.36 2.2 2.07 2.88 3.05 2.88 1.02 0 2-.42 2.78-2.28.03.82.08 1.49.16 1.7.05.13.34.3.56.37.93.34 1.88.18 2.24.11.24-.05.43-.25.46-.75.07-1.33.03-3.56.43-5.21.67-2.79 1.3-3.87 1.6-4.4.17-.3.36-.35.37-.03.01.64.04 2.52.3 5.05.2 1.86.46 2.96.65 3.3.57 1 1.27 1.05 1.83 1.05.36 0 1.12-.1 1.05-.73-.03-.31.02-2.22.7-4.96.43-1.79 1.15-3.4 1.41-4 .1-.21.15-.04.15 0-.06 1.22-.18 5.25.32 7.46.68 2.98 2.65 3.32 3.34 3.32 1.47 0 2.67-1.12 3.07-4.05.1-.7-.05-1.25-.48-1.25Z","fill","currentColor","fill-rule","evenodd"],[3,"ngSubmit",4,"ngIf"],[3,"click"],[1,"btn-google-login",3,"click"],["height","35px","viewBox","0 0 48 48","width","35px","xmlns","http://www.w3.org/2000/svg"],["d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z","fill","#FFC107"],["d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z","fill","#FF3D00"],["d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z","fill","#4CAF50"],["d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z","fill","#1976D2"],[3,"ngSubmit"],["name","email","placeholder","Enter email","type","email",3,"ngModel","ngModelChange"],["name","password","placeholder","Enter password","type","password",3,"ngModel","ngModelChange"],[1,"btn-login-with-email-password"],["name","fullName","placeholder","Enter full name","type","text",3,"ngModel","ngModelChange"],[1,"btn-register-with-email-password"]],template:function(r,s){1&r&&(h.TgZ(0,"section",0)(1,"div",1),h.O4$(),h.TgZ(2,"svg",2),h._UZ(3,"path",3),h.qZA()(),h.YNc(4,lk,5,2,"form",4),h.YNc(5,dk,6,3,"form",4),h.kcU(),h.TgZ(6,"p",5),h.NdJ("click",function(){return s.isLogInFormShown=!s.isLogInFormShown}),h._uU(7," Don't you have a user? Register here "),h.qZA(),h.TgZ(8,"button",6),h.NdJ("click",function(){return s.onLogInWithGoogle()}),h.O4$(),h.TgZ(9,"svg",7),h._UZ(10,"path",8)(11,"path",9)(12,"path",10)(13,"path",11),h.qZA(),h.kcU(),h.TgZ(14,"span"),h._uU(15,"Log in with Google"),h.qZA()()()),2&r&&(h.xp6(4),h.Q6J("ngIf",s.isLogInFormShown),h.xp6(1),h.Q6J("ngIf",!s.isLogInFormShown))},dependencies:[Ss,dP,BT,YO,QO,LM,YT],styles:["[_nghost-%COMP%]   .login[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5em}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-inline:.6em;height:3em;border:none;border-radius:.3em}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:placeholder-shown{font-style:italic}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn-login-with-email-password[_ngcontent-%COMP%]{height:2.5em;cursor:pointer;border:none;border-radius:.3em;font-size:16px;color:#222;margin-block-start:.5em}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn-login-with-email-password[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn-register-with-email-password[_ngcontent-%COMP%]{height:2.5em;cursor:pointer;border:none;border-radius:.3em;font-size:16px;color:#222;margin-block-start:.8em}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn-register-with-email-password[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{color:#b2b2b2}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   .btn-google-login[_ngcontent-%COMP%]{background-color:#f5f5f5;display:flex;align-items:center;gap:.5em;padding-inline:.8em;height:3.5em;border-radius:.4em;border:none;cursor:pointer;color:#222;margin-block-start:1.5em;font-size:16px}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   .btn-google-login[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}"]})}return n})(),fk=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["message-page"]],hostAttrs:[1,"page-cmp-layout"],decls:2,vars:0,template:function(r,s){1&r&&(h.TgZ(0,"p"),h._uU(1,"message-page works!"),h.qZA())}})}return n})(),pk=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["notification-page"]],hostAttrs:[1,"page-cmp-layout"],decls:2,vars:0,template:function(r,s){1&r&&(h.TgZ(0,"p"),h._uU(1,"notification-page works!"),h.qZA())}})}return n})(),gk=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["create-post-page"]],hostAttrs:[1,"page-cmp-layout"],decls:2,vars:0,template:function(r,s){1&r&&(h.TgZ(0,"p"),h._uU(1,"create-post-page works!"),h.qZA())}})}return n})();const Eb=()=>{let n=null;return(0,h.f3M)(j_).loggedInUser$.pipe(pi(1)).subscribe({next:e=>{n=e}}),!!n||((0,h.f3M)(Wi).navigateByUrl("/login"),!1)},mk=[{path:"",component:hN,canActivate:[Eb]},{path:"login",component:hk,canActivate:[()=>{let n=null;return(0,h.f3M)(j_).loggedInUser$.pipe(pi(1)).subscribe({next:e=>{n=e}}),!n||((0,h.f3M)(Wi).navigateByUrl("/"),!1)}]},{path:"message",component:fk,canActivate:[Eb]},{path:"notification",component:pk,canActivate:[Eb]},{path:"create-post",component:gk,canActivate:[Eb]},{path:"profile",component:(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["profile"]],hostAttrs:[1,"page-cmp-layout"],decls:2,vars:0,template:function(r,s){1&r&&(h.TgZ(0,"p"),h._uU(1,"profile works!"),h.qZA())}})}return n})(),canActivate:[Eb]}];let yk=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({imports:[Jp.forRoot(mk,{useHash:!0}),Jp]})}return n})();function _k(n,e){1&n&&(h.O4$(),h.TgZ(0,"svg",30),h._UZ(1,"path",31),h.qZA())}function vk(n,e){1&n&&(h.O4$(),h.TgZ(0,"svg",30),h._UZ(1,"path",32),h.qZA())}function wk(n,e){if(1&n&&h._UZ(0,"img",33),2&n){const t=h.oxw(2);h.Q6J("src",t.user.user.photoURL,h.LSH)}}function Ek(n,e){1&n&&(h.O4$(),h.TgZ(0,"svg",34),h._UZ(1,"path",35)(2,"circle",36),h.qZA())}function Ik(n,e){if(1&n){const t=h.EpF();h.O4$(),h.kcU(),h.TgZ(0,"div",37)(1,"ul")(2,"li",38),h.NdJ("click",function(){h.CHM(t);const s=h.oxw(2);return h.KtG(s.onLogOut())}),h._uU(3,"Log out"),h.qZA()()()}}const Ck=function(){return{exact:!0}};function bk(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"section",1)(1,"div",2)(2,"div",3),h.O4$(),h.TgZ(3,"svg",4),h._UZ(4,"path",5),h.qZA()(),h.kcU(),h.TgZ(5,"nav")(6,"ul")(7,"li",6),h.O4$(),h.TgZ(8,"svg",7),h._UZ(9,"path",8),h.qZA()(),h.kcU(),h.TgZ(10,"li",9),h.O4$(),h.TgZ(11,"svg",10),h._UZ(12,"path",11)(13,"path",12),h.qZA()(),h.kcU(),h.TgZ(14,"li",13,14),h.YNc(16,_k,2,0,"svg",15),h.YNc(17,vk,2,0,"svg",15),h.qZA(),h.TgZ(18,"li",16),h.O4$(),h.TgZ(19,"svg",17),h._UZ(20,"path",18)(21,"line",19)(22,"line",20),h.qZA()(),h.kcU(),h.TgZ(23,"li",21),h.YNc(24,wk,1,1,"img",22),h.YNc(25,Ek,3,0,"ng-template",null,23,h.W1O),h.qZA()()()(),h.TgZ(27,"div",24),h.NdJ("click",function(){h.CHM(t);const s=h.oxw();return h.KtG(s.isExtraMenuOpen=!s.isExtraMenuOpen)}),h.O4$(),h.TgZ(28,"svg",25),h._UZ(29,"line",26)(30,"line",27)(31,"line",28),h.qZA(),h.YNc(32,Ik,4,0,"div",29),h.qZA()()}if(2&n){const t=h.MAs(15),r=h.MAs(26),s=h.oxw();h.xp6(7),h.Q6J("routerLinkActiveOptions",h.DdM(6,Ck)),h.xp6(9),h.Q6J("ngIf",!t.classList.contains("active")),h.xp6(1),h.Q6J("ngIf",t.classList.contains("active")),h.xp6(7),h.Q6J("ngIf",s.user.user.photoURL)("ngIfElse",r),h.xp6(8),h.Q6J("ngIf",s.isExtraMenuOpen)}}let Dk=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.isExtraMenuOpen=!1}ngOnInit(){this.userSubscription=this.authService.loggedInUser$.subscribe({next:t=>{t?this.user=t:(this.user=t,this.router.navigateByUrl("login"))}})}onLogOut(){var t=this;return(0,Se.Z)(function*(){try{yield t.authService.logOut()}catch(r){console.error(r.message)}})()}ngOnDestroy(){this.userSubscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(j_),h.Y36(Wi))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["aside-menu"]],decls:1,vars:1,consts:[["class","aside-menu",4,"ngIf"],[1,"aside-menu"],[1,"aside-menu-inner-container"],["routerLink","/","title","instagram",1,"logo"],["aria-label","Instagram","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"x1lliihq","x1n2onr6"],["d","M12 2.982c2.937 0 3.285.011 4.445.064a6.087 6.087 0 0 1 2.042.379 3.408 3.408 0 0 1 1.265.823 3.408 3.408 0 0 1 .823 1.265 6.087 6.087 0 0 1 .379 2.042c.053 1.16.064 1.508.064 4.445s-.011 3.285-.064 4.445a6.087 6.087 0 0 1-.379 2.042 3.643 3.643 0 0 1-2.088 2.088 6.087 6.087 0 0 1-2.042.379c-1.16.053-1.508.064-4.445.064s-3.285-.011-4.445-.064a6.087 6.087 0 0 1-2.043-.379 3.408 3.408 0 0 1-1.264-.823 3.408 3.408 0 0 1-.823-1.265 6.087 6.087 0 0 1-.379-2.042c-.053-1.16-.064-1.508-.064-4.445s.011-3.285.064-4.445a6.087 6.087 0 0 1 .379-2.042 3.408 3.408 0 0 1 .823-1.265 3.408 3.408 0 0 1 1.265-.823 6.087 6.087 0 0 1 2.042-.379c1.16-.053 1.508-.064 4.445-.064M12 1c-2.987 0-3.362.013-4.535.066a8.074 8.074 0 0 0-2.67.511 5.392 5.392 0 0 0-1.949 1.27 5.392 5.392 0 0 0-1.269 1.948 8.074 8.074 0 0 0-.51 2.67C1.012 8.638 1 9.013 1 12s.013 3.362.066 4.535a8.074 8.074 0 0 0 .511 2.67 5.392 5.392 0 0 0 1.27 1.949 5.392 5.392 0 0 0 1.948 1.269 8.074 8.074 0 0 0 2.67.51C8.638 22.988 9.013 23 12 23s3.362-.013 4.535-.066a8.074 8.074 0 0 0 2.67-.511 5.625 5.625 0 0 0 3.218-3.218 8.074 8.074 0 0 0 .51-2.67C22.988 15.362 23 14.987 23 12s-.013-3.362-.066-4.535a8.074 8.074 0 0 0-.511-2.67 5.392 5.392 0 0 0-1.27-1.949 5.392 5.392 0 0 0-1.948-1.269 8.074 8.074 0 0 0-2.67-.51C15.362 1.012 14.987 1 12 1Zm0 5.351A5.649 5.649 0 1 0 17.649 12 5.649 5.649 0 0 0 12 6.351Zm0 9.316A3.667 3.667 0 1 1 15.667 12 3.667 3.667 0 0 1 12 15.667Zm5.872-10.859a1.32 1.32 0 1 0 1.32 1.32 1.32 1.32 0 0 0-1.32-1.32Z"],["routerLink","/","routerLinkActive","active","title","Home",1,"home",3,"routerLinkActiveOptions"],["aria-label","Home","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_ab6-"],["d","M9.005 16.545a2.997 2.997 0 0 1 2.997-2.997A2.997 2.997 0 0 1 15 16.545V22h7V11.543L12 2 2 11.543V22h7.005Z","fill","none","stroke","currentColor","stroke-linejoin","round","stroke-width","2"],["routerLink","/message","routerLinkActive","active","title","Messages",1,"messages"],["aria-label","Messenger","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_ab6-"],["d","M12.003 2.001a9.705 9.705 0 1 1 0 19.4 10.876 10.876 0 0 1-2.895-.384.798.798 0 0 0-.533.04l-1.984.876a.801.801 0 0 1-1.123-.708l-.054-1.78a.806.806 0 0 0-.27-.569 9.49 9.49 0 0 1-3.14-7.175 9.65 9.65 0 0 1 10-9.7Z","fill","none","stroke","currentColor","stroke-miterlimit","10","stroke-width","1.739"],["d","M17.79 10.132a.659.659 0 0 0-.962-.873l-2.556 2.05a.63.63 0 0 1-.758.002L11.06 9.47a1.576 1.576 0 0 0-2.277.42l-2.567 3.98a.659.659 0 0 0 .961.875l2.556-2.049a.63.63 0 0 1 .759-.002l2.452 1.84a1.576 1.576 0 0 0 2.278-.42Z","fill-rule","evenodd"],["routerLink","/notification","routerLinkActive","active","title","Notifications",1,"notifications"],["notifications",""],["aria-label","Notifications","class","x1lliihq x1n2onr6","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",4,"ngIf"],["routerLink","/create-post","routerLinkActive","active","title","Create",1,"create-post"],["aria-label","New post","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_ab6-"],["d","M2 12v3.45c0 2.849.698 4.005 1.606 4.944.94.909 2.098 1.608 4.946 1.608h6.896c2.848 0 4.006-.7 4.946-1.608C21.302 19.455 22 18.3 22 15.45V8.552c0-2.849-.698-4.006-1.606-4.945C19.454 2.7 18.296 2 15.448 2H8.552c-2.848 0-4.006.699-4.946 1.607C2.698 4.547 2 5.703 2 8.552Z","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","6.545","x2","17.455","y1","12.001","y2","12.001"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","12.003","x2","12.003","y1","6.545","y2","17.455"],["routerLink","/profile","routerLinkActive","active","title","Profile",1,"profile"],["alt","user",3,"src",4,"ngIf","ngIfElse"],["profile",""],["title","More",1,"extra-menu",3,"click"],["aria-label","Settings","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_ab6-"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","3","x2","21","y1","4","y2","4"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","3","x2","21","y1","12","y2","12"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","3","x2","21","y1","20","y2","20"],["class","extra-menu-modal",4,"ngIf"],["aria-label","Notifications","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"x1lliihq","x1n2onr6"],["d","M16.792 3.904A4.989 4.989 0 0 1 21.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 0 1 4.708-5.218 4.21 4.21 0 0 1 3.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 0 1 3.679-1.938m0-2a6.04 6.04 0 0 0-4.797 2.127 6.052 6.052 0 0 0-4.787-2.127A6.985 6.985 0 0 0 .5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 0 0 3.518 3.018 2 2 0 0 0 2.174 0 45.263 45.263 0 0 0 3.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 0 0-6.708-7.218Z"],["d","M17.075 1.987a5.852 5.852 0 0 0-5.07 2.66l-.008.012-.01-.014a5.878 5.878 0 0 0-5.062-2.658A6.719 6.719 0 0 0 .5 8.952c0 3.514 2.581 5.757 5.077 7.927.302.262.607.527.91.797l1.089.973c2.112 1.89 3.149 2.813 3.642 3.133a1.438 1.438 0 0 0 1.564 0c.472-.306 1.334-1.07 3.755-3.234l.978-.874c.314-.28.631-.555.945-.827 2.478-2.15 5.04-4.372 5.04-7.895a6.719 6.719 0 0 0-6.425-6.965Z"],["alt","user",3,"src"],["color","white","fill","none","height","24px","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","viewBox","0 0 24 24","width","24px","xmlns","http://www.w3.org/2000/svg",1,"feather","feather-user"],["d","M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],[1,"extra-menu-modal"],[1,"log-out",3,"click"]],template:function(r,s){1&r&&h.YNc(0,bk,33,7,"section",0),2&r&&h.Q6J("ngIf",s.user&&s.user.user)},dependencies:[Ss,Kp,cf],styles:["[_nghost-%COMP%]{position:relative;grid-column:1;width:75px;display:none}@media (min-width: 600px){[_nghost-%COMP%]{display:block}}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]{height:100vh;position:sticky;top:0;left:0;display:flex;flex-direction:column;justify-content:space-between;align-items:center;border-inline-end:1px solid rgba(245,245,245,.19);padding-block:1.5em;width:100%}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:3.5em;width:100%}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:center;align-items:center;padding:.8em;border-radius:.4em}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]:hover{background-color:#e5e5e51c}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1em;width:100%}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;padding:.8em;display:flex;border-radius:.4em;justify-content:center;align-items:center;width:70%}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-child(1){fill:#f5f5f5}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-child(2){fill:#000}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   line[_ngcontent-%COMP%]{stroke:#000}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.profile.active[_ngcontent-%COMP%]{border:1px solid rgba(245,245,245,.46)}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e5e5e51c}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .extra-menu[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:center;align-items:center;padding:.8em;border-radius:.4em;position:relative}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .extra-menu[_ngcontent-%COMP%]:hover{background-color:#e5e5e51c}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .extra-menu[_ngcontent-%COMP%]   .extra-menu-modal[_ngcontent-%COMP%]{background-color:#343434;color:#f5f5f5;padding:.5em;border-radius:1em;position:absolute;bottom:0;left:55px;width:250px}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .extra-menu[_ngcontent-%COMP%]   .extra-menu-modal[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.4em;border-radius:.4em}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .extra-menu[_ngcontent-%COMP%]   .extra-menu-modal[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e5e5e51c}"]})}return n})();function Tk(n,e){1&n&&(h.O4$(),h.TgZ(0,"svg",27),h._UZ(1,"path",28),h.qZA())}function Ak(n,e){1&n&&(h.O4$(),h.TgZ(0,"svg",27),h._UZ(1,"path",29),h.qZA())}function Sk(n,e){if(1&n&&h._UZ(0,"img",30),2&n){const t=h.oxw(2);h.Q6J("src",t.user.user.photoURL,h.LSH)}}function Mk(n,e){1&n&&(h.O4$(),h.TgZ(0,"svg",31),h._UZ(1,"path",32)(2,"circle",33),h.qZA())}function xk(n,e){if(1&n){const t=h.EpF();h.O4$(),h.kcU(),h.TgZ(0,"div",34)(1,"ul")(2,"li",35),h.NdJ("click",function(){h.CHM(t);const s=h.oxw(2);return h.KtG(s.onLogOut())}),h._uU(3,"Log out"),h.qZA()()()}}const Ok=function(){return{exact:!0}};function Pk(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"section",1)(1,"div",2)(2,"nav")(3,"ul")(4,"li",3),h.O4$(),h.TgZ(5,"svg",4),h._UZ(6,"path",5),h.qZA()(),h.kcU(),h.TgZ(7,"li",6),h.O4$(),h.TgZ(8,"svg",7),h._UZ(9,"path",8)(10,"path",9),h.qZA()(),h.kcU(),h.TgZ(11,"li",10,11),h.YNc(13,Tk,2,0,"svg",12),h.YNc(14,Ak,2,0,"svg",12),h.qZA(),h.TgZ(15,"li",13),h.O4$(),h.TgZ(16,"svg",14),h._UZ(17,"path",15)(18,"line",16)(19,"line",17),h.qZA()(),h.kcU(),h.TgZ(20,"li",18),h.YNc(21,Sk,1,1,"img",19),h.YNc(22,Mk,3,0,"ng-template",null,20,h.W1O),h.qZA(),h.TgZ(24,"li",21),h.NdJ("click",function(){h.CHM(t);const s=h.oxw();return h.KtG(s.isExtraMenuOpen=!s.isExtraMenuOpen)}),h.O4$(),h.TgZ(25,"svg",22),h._UZ(26,"line",23)(27,"line",24)(28,"line",25),h.qZA(),h.YNc(29,xk,4,0,"div",26),h.qZA()()()()()}if(2&n){const t=h.MAs(12),r=h.MAs(23),s=h.oxw();h.xp6(4),h.Q6J("routerLinkActiveOptions",h.DdM(6,Ok)),h.xp6(9),h.Q6J("ngIf",!t.classList.contains("active")),h.xp6(1),h.Q6J("ngIf",t.classList.contains("active")),h.xp6(7),h.Q6J("ngIf",s.user.user.photoURL)("ngIfElse",r),h.xp6(8),h.Q6J("ngIf",s.isExtraMenuOpen)}}let Rk=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.isExtraMenuOpen=!1}ngOnInit(){this.userSubscription=this.authService.loggedInUser$.subscribe({next:t=>{t?this.user=t:(this.user=t,this.router.navigateByUrl("login"))}})}onLogOut(){var t=this;return(0,Se.Z)(function*(){try{yield t.authService.logOut()}catch(r){console.error(r.message)}})()}ngOnDestroy(){this.userSubscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(j_),h.Y36(Wi))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["menu-mobile"]],decls:1,vars:1,consts:[["class","menu-mobile",4,"ngIf"],[1,"menu-mobile"],[1,"menu-mobile-inner-container"],["routerLink","/","routerLinkActive","active","title","Home",1,"home",3,"routerLinkActiveOptions"],["aria-label","Home","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_ab6-"],["d","M9.005 16.545a2.997 2.997 0 0 1 2.997-2.997A2.997 2.997 0 0 1 15 16.545V22h7V11.543L12 2 2 11.543V22h7.005Z","fill","none","stroke","currentColor","stroke-linejoin","round","stroke-width","2"],["routerLink","/message","routerLinkActive","active","title","Messages",1,"messages"],["aria-label","Messenger","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_ab6-"],["d","M12.003 2.001a9.705 9.705 0 1 1 0 19.4 10.876 10.876 0 0 1-2.895-.384.798.798 0 0 0-.533.04l-1.984.876a.801.801 0 0 1-1.123-.708l-.054-1.78a.806.806 0 0 0-.27-.569 9.49 9.49 0 0 1-3.14-7.175 9.65 9.65 0 0 1 10-9.7Z","fill","none","stroke","currentColor","stroke-miterlimit","10","stroke-width","1.739"],["d","M17.79 10.132a.659.659 0 0 0-.962-.873l-2.556 2.05a.63.63 0 0 1-.758.002L11.06 9.47a1.576 1.576 0 0 0-2.277.42l-2.567 3.98a.659.659 0 0 0 .961.875l2.556-2.049a.63.63 0 0 1 .759-.002l2.452 1.84a1.576 1.576 0 0 0 2.278-.42Z","fill-rule","evenodd"],["routerLink","/notification","routerLinkActive","active","title","Notifications",1,"notifications"],["notifications",""],["aria-label","Notifications","class","x1lliihq x1n2onr6","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",4,"ngIf"],["routerLink","/create-post","routerLinkActive","active","title","Create",1,"create-post"],["aria-label","New post","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_ab6-"],["d","M2 12v3.45c0 2.849.698 4.005 1.606 4.944.94.909 2.098 1.608 4.946 1.608h6.896c2.848 0 4.006-.7 4.946-1.608C21.302 19.455 22 18.3 22 15.45V8.552c0-2.849-.698-4.006-1.606-4.945C19.454 2.7 18.296 2 15.448 2H8.552c-2.848 0-4.006.699-4.946 1.607C2.698 4.547 2 5.703 2 8.552Z","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","6.545","x2","17.455","y1","12.001","y2","12.001"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","12.003","x2","12.003","y1","6.545","y2","17.455"],["routerLink","/profile","routerLinkActive","active","title","Profile",1,"profile"],["alt","user",3,"src",4,"ngIf","ngIfElse"],["profile",""],["title","More",1,"extra-menu",3,"click"],["aria-label","Settings","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_ab6-"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","3","x2","21","y1","4","y2","4"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","3","x2","21","y1","12","y2","12"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","3","x2","21","y1","20","y2","20"],["class","extra-menu-modal",4,"ngIf"],["aria-label","Notifications","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"x1lliihq","x1n2onr6"],["d","M16.792 3.904A4.989 4.989 0 0 1 21.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 0 1 4.708-5.218 4.21 4.21 0 0 1 3.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 0 1 3.679-1.938m0-2a6.04 6.04 0 0 0-4.797 2.127 6.052 6.052 0 0 0-4.787-2.127A6.985 6.985 0 0 0 .5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 0 0 3.518 3.018 2 2 0 0 0 2.174 0 45.263 45.263 0 0 0 3.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 0 0-6.708-7.218Z"],["d","M17.075 1.987a5.852 5.852 0 0 0-5.07 2.66l-.008.012-.01-.014a5.878 5.878 0 0 0-5.062-2.658A6.719 6.719 0 0 0 .5 8.952c0 3.514 2.581 5.757 5.077 7.927.302.262.607.527.91.797l1.089.973c2.112 1.89 3.149 2.813 3.642 3.133a1.438 1.438 0 0 0 1.564 0c.472-.306 1.334-1.07 3.755-3.234l.978-.874c.314-.28.631-.555.945-.827 2.478-2.15 5.04-4.372 5.04-7.895a6.719 6.719 0 0 0-6.425-6.965Z"],["alt","user",3,"src"],["color","white","fill","none","height","24px","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","viewBox","0 0 24 24","width","24px","xmlns","http://www.w3.org/2000/svg",1,"feather","feather-user"],["d","M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],[1,"extra-menu-modal"],[1,"log-out",3,"click"]],template:function(r,s){1&r&&h.YNc(0,Pk,30,7,"section",0),2&r&&h.Q6J("ngIf",s.user&&s.user.user)},dependencies:[Ss,Kp,cf],styles:["[_nghost-%COMP%]{position:sticky;bottom:0;z-index:99;grid-column:1/-1;height:60px;width:100%;background-color:#000;display:grid;grid-template-columns:25px 1fr 25px;align-items:center;border-block-start:1px solid rgba(255,255,255,.24)}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{grid-column:2}@media (min-width: 600px){[_nghost-%COMP%]{display:none}}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;width:30px;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-child(1){fill:#fff}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-child(2){fill:#000}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   line[_ngcontent-%COMP%]{stroke:#000}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.profile.active[_ngcontent-%COMP%]{border:2px solid rgba(255,255,255,.66);border-radius:50%}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.extra-menu[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.extra-menu[_ngcontent-%COMP%]   .extra-menu-modal[_ngcontent-%COMP%]{position:absolute;bottom:50px;right:10px;z-index:98;background-color:#5b5b5b;width:200px;border-radius:.4em;padding-block:.5em;color:#f5f5f5;font-size:18px;font-weight:400}[_nghost-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   .menu-mobile-inner-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.extra-menu[_ngcontent-%COMP%]   .extra-menu-modal[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;flex-direction:column;gap:1em}"]})}return n})(),Nk=(()=>{class n{constructor(t){this.router=t}onClickLogo(){this.router.navigateByUrl("/")}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(Wi))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-header-mobile"]],decls:4,vars:0,consts:[[1,"app-header-mobile"],[1,"logo",3,"click"],["aria-label","Instagram","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","29","role","img","viewBox","32 4 113 32","width","103",1,"_ab6-"],["clip-rule","evenodd","d","M37.82 4.11c-2.32.97-4.86 3.7-5.66 7.13-1.02 4.34 3.21 6.17 3.56 5.57.4-.7-.76-.94-1-3.2-.3-2.9 1.05-6.16 2.75-7.58.32-.27.3.1.3.78l-.06 14.46c0 3.1-.13 4.07-.36 5.04-.23.98-.6 1.64-.33 1.9.32.28 1.68-.4 2.46-1.5a8.13 8.13 0 0 0 1.33-4.58c.07-2.06.06-5.33.07-7.19 0-1.7.03-6.71-.03-9.72-.02-.74-2.07-1.51-3.03-1.1Zm82.13 14.48a9.42 9.42 0 0 1-.88 3.75c-.85 1.72-2.63 2.25-3.39-.22-.4-1.34-.43-3.59-.13-5.47.3-1.9 1.14-3.35 2.53-3.22 1.38.13 2.02 1.9 1.87 5.16ZM96.8 28.57c-.02 2.67-.44 5.01-1.34 5.7-1.29.96-3 .23-2.65-1.72.31-1.72 1.8-3.48 4-5.64l-.01 1.66Zm-.35-10a10.56 10.56 0 0 1-.88 3.77c-.85 1.72-2.64 2.25-3.39-.22-.5-1.69-.38-3.87-.13-5.25.33-1.78 1.12-3.44 2.53-3.44 1.38 0 2.06 1.5 1.87 5.14Zm-13.41-.02a9.54 9.54 0 0 1-.87 3.8c-.88 1.7-2.63 2.24-3.4-.23-.55-1.77-.36-4.2-.13-5.5.34-1.95 1.2-3.32 2.53-3.2 1.38.14 2.04 1.9 1.87 5.13Zm61.45 1.81c-.33 0-.49.35-.61.93-.44 2.02-.9 2.48-1.5 2.48-.66 0-1.26-1-1.42-3-.12-1.58-.1-4.48.06-7.37.03-.59-.14-1.17-1.73-1.75-.68-.25-1.68-.62-2.17.58a29.65 29.65 0 0 0-2.08 7.14c0 .06-.08.07-.1-.06-.07-.87-.26-2.46-.28-5.79 0-.65-.14-1.2-.86-1.65-.47-.3-1.88-.81-2.4-.2-.43.5-.94 1.87-1.47 3.48l-.74 2.2.01-4.88c0-.5-.34-.67-.45-.7a9.54 9.54 0 0 0-1.8-.37c-.48 0-.6.27-.6.67 0 .05-.08 4.65-.08 7.87v.46c-.27 1.48-1.14 3.49-2.09 3.49s-1.4-.84-1.4-4.68c0-2.24.07-3.21.1-4.83.02-.94.06-1.65.06-1.81-.01-.5-.87-.75-1.27-.85-.4-.09-.76-.13-1.03-.11-.4.02-.67.27-.67.62v.55a3.71 3.71 0 0 0-1.83-1.49c-1.44-.43-2.94-.05-4.07 1.53a9.31 9.31 0 0 0-1.66 4.73c-.16 1.5-.1 3.01.17 4.3-.33 1.44-.96 2.04-1.64 2.04-.99 0-1.7-1.62-1.62-4.4.06-1.84.42-3.13.82-4.99.17-.8.04-1.2-.31-1.6-.32-.37-1-.56-1.99-.33-.7.16-1.7.34-2.6.47 0 0 .05-.21.1-.6.23-2.03-1.98-1.87-2.69-1.22-.42.39-.7.84-.82 1.67-.17 1.3.9 1.91.9 1.91a22.22 22.22 0 0 1-3.4 7.23v-.7c-.01-3.36.03-6 .05-6.95.02-.94.06-1.63.06-1.8 0-.36-.22-.5-.66-.67-.4-.16-.86-.26-1.34-.3-.6-.05-.97.27-.96.65v.52a3.7 3.7 0 0 0-1.84-1.49c-1.44-.43-2.94-.05-4.07 1.53a10.1 10.1 0 0 0-1.66 4.72c-.15 1.57-.13 2.9.09 4.04-.23 1.13-.89 2.3-1.63 2.3-.95 0-1.5-.83-1.5-4.67 0-2.24.07-3.21.1-4.83.02-.94.06-1.65.06-1.81 0-.5-.87-.75-1.27-.85-.42-.1-.79-.13-1.06-.1-.37.02-.63.35-.63.6v.56a3.7 3.7 0 0 0-1.84-1.49c-1.44-.43-2.93-.04-4.07 1.53-.75 1.03-1.35 2.17-1.66 4.7a15.8 15.8 0 0 0-.12 2.04c-.3 1.81-1.61 3.9-2.68 3.9-.63 0-1.23-1.21-1.23-3.8 0-3.45.22-8.36.25-8.83l1.62-.03c.68 0 1.29.01 2.19-.04.45-.02.88-1.64.42-1.84-.21-.09-1.7-.17-2.3-.18-.5-.01-1.88-.11-1.88-.11s.13-3.26.16-3.6c.02-.3-.35-.44-.57-.53a7.77 7.77 0 0 0-1.53-.44c-.76-.15-1.1 0-1.17.64-.1.97-.15 3.82-.15 3.82-.56 0-2.47-.11-3.02-.11-.52 0-1.08 2.22-.36 2.25l3.2.09-.03 6.53v.47c-.53 2.73-2.37 4.2-2.37 4.2.4-1.8-.42-3.15-1.87-4.3-.54-.42-1.6-1.22-2.79-2.1 0 0 .69-.68 1.3-2.04.43-.96.45-2.06-.61-2.3-1.75-.41-3.2.87-3.63 2.25a2.61 2.61 0 0 0 .5 2.66l.15.19c-.4.76-.94 1.78-1.4 2.58-1.27 2.2-2.24 3.95-2.97 3.95-.58 0-.57-1.77-.57-3.43 0-1.43.1-3.58.19-5.8.03-.74-.34-1.16-.96-1.54a4.33 4.33 0 0 0-1.64-.69c-.7 0-2.7.1-4.6 5.57-.23.69-.7 1.94-.7 1.94l.04-6.57c0-.16-.08-.3-.27-.4a4.68 4.68 0 0 0-1.93-.54c-.36 0-.54.17-.54.5l-.07 10.3c0 .78.02 1.69.1 2.09.08.4.2.72.36.91.15.2.33.34.62.4.28.06 1.78.25 1.86-.32.1-.69.1-1.43.89-4.2 1.22-4.31 2.82-6.42 3.58-7.16.13-.14.28-.14.27.07l-.22 5.32c-.2 5.37.78 6.36 2.17 6.36 1.07 0 2.58-1.06 4.2-3.74l2.7-4.5 1.58 1.46c1.28 1.2 1.7 2.36 1.42 3.45-.21.83-1.02 1.7-2.44.86-.42-.25-.6-.44-1.01-.71-.23-.15-.57-.2-.78-.04-.53.4-.84.92-1.01 1.55-.17.61.45.94 1.09 1.22.55.25 1.74.47 2.5.5 2.94.1 5.3-1.42 6.94-5.34.3 3.38 1.55 5.3 3.72 5.3 1.45 0 2.91-1.88 3.55-3.72.18.75.45 1.4.8 1.96 1.68 2.65 4.93 2.07 6.56-.18.5-.69.58-.94.58-.94a3.07 3.07 0 0 0 2.94 2.87c1.1 0 2.23-.52 3.03-2.31.09.2.2.38.3.56 1.68 2.65 4.93 2.07 6.56-.18l.2-.28.05 1.4-1.5 1.37c-2.52 2.3-4.44 4.05-4.58 6.09-.18 2.6 1.93 3.56 3.53 3.69a4.5 4.5 0 0 0 4.04-2.11c.78-1.15 1.3-3.63 1.26-6.08l-.06-3.56a28.55 28.55 0 0 0 5.42-9.44s.93.01 1.92-.05c.32-.02.41.04.35.27-.07.28-1.25 4.84-.17 7.88.74 2.08 2.4 2.75 3.4 2.75 1.15 0 2.26-.87 2.85-2.17l.23.42c1.68 2.65 4.92 2.07 6.56-.18.37-.5.58-.94.58-.94.36 2.2 2.07 2.88 3.05 2.88 1.02 0 2-.42 2.78-2.28.03.82.08 1.49.16 1.7.05.13.34.3.56.37.93.34 1.88.18 2.24.11.24-.05.43-.25.46-.75.07-1.33.03-3.56.43-5.21.67-2.79 1.3-3.87 1.6-4.4.17-.3.36-.35.37-.03.01.64.04 2.52.3 5.05.2 1.86.46 2.96.65 3.3.57 1 1.27 1.05 1.83 1.05.36 0 1.12-.1 1.05-.73-.03-.31.02-2.22.7-4.96.43-1.79 1.15-3.4 1.41-4 .1-.21.15-.04.15 0-.06 1.22-.18 5.25.32 7.46.68 2.98 2.65 3.32 3.34 3.32 1.47 0 2.67-1.12 3.07-4.05.1-.7-.05-1.25-.48-1.25Z","fill","currentColor","fill-rule","evenodd"]],template:function(r,s){1&r&&(h.TgZ(0,"header",0)(1,"div",1),h.NdJ("click",function(){return s.onClickLogo()}),h.O4$(),h.TgZ(2,"svg",2),h._UZ(3,"path",3),h.qZA()()())},styles:["[_nghost-%COMP%]{grid-column:1/-1;display:grid;grid-template-columns:25px 1fr 25px;position:sticky;z-index:99;top:0;border-block-end:1px solid rgba(255,255,255,.27);background-color:#000}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{grid-column:2}@media (min-width: 600px){[_nghost-%COMP%]{display:none}}[_nghost-%COMP%]   .app-header-mobile[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:60px}[_nghost-%COMP%]   .app-header-mobile[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}"]})}return n})();function kk(n,e){1&n&&h._UZ(0,"router-outlet")}function Lk(n,e){1&n&&h._UZ(0,"app-header-mobile")}function Fk(n,e){1&n&&h._UZ(0,"aside-menu")}function Uk(n,e){1&n&&(h.TgZ(0,"main",2),h._UZ(1,"router-outlet"),h.qZA())}function Vk(n,e){1&n&&h._UZ(0,"menu-mobile")}let Bk=(()=>{class n{constructor(t,r){this.router=t,this.postService=r,this.routerUrl=this.router.url}ngOnInit(){var t=this;return(0,Se.Z)(function*(){t.routerUrlSubscription=t.router.events.subscribe(r=>{r instanceof ca&&(t.routerUrl=t.router.url)}),t.postService.getPosts().pipe(pi(1)).subscribe({error:r=>{console.error(r)}})})()}ngOnDestroy(){this.routerUrlSubscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(Wi),h.Y36(bO))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:6,vars:7,consts:[[4,"ngIf"],["class","main-layout",4,"ngIf"],[1,"main-layout"]],template:function(r,s){1&r&&(h.TgZ(0,"section"),h.YNc(1,kk,1,0,"router-outlet",0),h.YNc(2,Lk,1,0,"app-header-mobile",0),h.YNc(3,Fk,1,0,"aside-menu",0),h.YNc(4,Uk,2,0,"main",1),h.YNc(5,Vk,1,0,"menu-mobile",0),h.qZA()),2&r&&(h.Tol("/login"===s.routerUrl?"main-app login-layout":"main-app app-layout"),h.xp6(1),h.Q6J("ngIf","/login"===s.routerUrl),h.xp6(1),h.Q6J("ngIf","/login"!==s.routerUrl),h.xp6(1),h.Q6J("ngIf","/login"!==s.routerUrl),h.xp6(1),h.Q6J("ngIf","/login"!==s.routerUrl),h.xp6(1),h.Q6J("ngIf","/login"!==s.routerUrl))},dependencies:[Ss,Zh,Dk,Rk,Nk]})}return n})();class QT{}class JT{}class bh{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const s=t.slice(0,r),u=s.toLowerCase(),d=t.slice(r+1).trim();this.maybeSetNormalizedName(s,u),this.headers.has(u)?this.headers.get(u).push(d):this.headers.set(u,[d])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof bh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new bh;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof bh?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const s=("a"===e.op?this.headers.get(t):void 0)||[];s.push(...r),this.headers.set(t,s);break;case"d":const u=e.value;if(u){let d=this.headers.get(t);if(!d)return;d=d.filter(_=>-1===u.indexOf(_)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(u=>u.toString()),s=e.toLowerCase();this.headers.set(s,r),this.maybeSetNormalizedName(e,s)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class jk{encodeKey(e){return OP(e)}encodeValue(e){return OP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Hk=/%(\d[a-f0-9])/gi,Gk={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function OP(n){return encodeURIComponent(n).replace(Hk,(e,t)=>Gk[t]??e)}function XT(n){return`${n}`}class gm{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new jk,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function $k(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const u=s.indexOf("="),[d,_]=-1==u?[e.decodeKey(s),""]:[e.decodeKey(s.slice(0,u)),e.decodeValue(s.slice(u+1))],E=t.get(d)||[];E.push(_),t.set(d,E)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],s=Array.isArray(r)?r.map(XT):[XT(r)];this.map.set(t,s)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const s=e[r];Array.isArray(s)?s.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:s,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new gm({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(XT(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const s=r.indexOf(XT(e.value));-1!==s&&r.splice(s,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class zk{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function PP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function RP(n){return typeof Blob<"u"&&n instanceof Blob}function NP(n){return typeof FormData<"u"&&n instanceof FormData}class Ib{constructor(e,t,r,s){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function qk(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==r?r:null,u=s):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new bh),this.context||(this.context=new zk),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const _=t.indexOf("?");this.urlWithParams=t+(-1===_?"?":_<t.length-1?"&":"")+d}}else this.params=new gm,this.urlWithParams=t}serializeBody(){return null===this.body?null:PP(this.body)||RP(this.body)||NP(this.body)||function Wk(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof gm?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||NP(this.body)?null:RP(this.body)?this.body.type||null:PP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof gm?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,d=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,_=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let E=e.headers||this.headers,T=e.params||this.params;const x=e.context??this.context;return void 0!==e.setHeaders&&(E=Object.keys(e.setHeaders).reduce((L,Q)=>L.set(Q,e.setHeaders[Q]),E)),e.setParams&&(T=Object.keys(e.setParams).reduce((L,Q)=>L.set(Q,e.setParams[Q]),T)),new Ib(t,r,u,{params:T,headers:E,context:x,reportProgress:_,responseType:s,withCredentials:d})}}var Vw=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Vw||{});class GM{constructor(e,t=200,r="OK"){this.headers=e.headers||new bh,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class zM extends GM{constructor(e={}){super(e),this.type=Vw.ResponseHeader}clone(e={}){return new zM({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Bw extends GM{constructor(e={}){super(e),this.type=Vw.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Bw({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class kP extends GM{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function qM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Zk=(()=>{class n{constructor(t){this.handler=t}request(t,r,s={}){let u;if(t instanceof Ib)u=t;else{let E,T;E=s.headers instanceof bh?s.headers:new bh(s.headers),s.params&&(T=s.params instanceof gm?s.params:new gm({fromObject:s.params})),u=new Ib(t,r,void 0!==s.body?s.body:null,{headers:E,context:s.context,params:T,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const d=(0,Xt.of)(u).pipe(nu(E=>this.handler.handle(E)));if(t instanceof Ib||"events"===s.observe)return d;const _=d.pipe(as(E=>E instanceof Bw));switch(s.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return _.pipe((0,Dn.U)(E=>{if(null!==E.body&&!(E.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return E.body}));case"blob":return _.pipe((0,Dn.U)(E=>{if(null!==E.body&&!(E.body instanceof Blob))throw new Error("Response is not a Blob.");return E.body}));case"text":return _.pipe((0,Dn.U)(E=>{if(null!==E.body&&"string"!=typeof E.body)throw new Error("Response is not a string.");return E.body}));default:return _.pipe((0,Dn.U)(E=>E.body))}case"response":return _;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new gm).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,s={}){return this.request("PATCH",t,qM(s,r))}post(t,r,s={}){return this.request("POST",t,qM(s,r))}put(t,r,s={}){return this.request("PUT",t,qM(s,r))}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(QT))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();function UP(n,e){return e(n)}function Yk(n,e){return(t,r)=>e.intercept(t,{handle:s=>n(s,r)})}const Jk=new h.OlP(""),Cb=new h.OlP(""),VP=new h.OlP("");function Xk(){let n=null;return(e,t)=>{null===n&&(n=((0,h.f3M)(Jk,{optional:!0})??[]).reduceRight(Yk,UP));const r=(0,h.f3M)(h.HDt),s=r.add();return n(e,t).pipe(qu(()=>r.remove(s)))}}let BP=(()=>{class n extends QT{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=(0,h.f3M)(h.HDt)}handle(t){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(Cb),...this.injector.get(VP,[])]));this.chain=s.reduceRight((u,d)=>function Qk(n,e,t){return(r,s)=>t.runInContext(()=>e(r,u=>n(u,s)))}(u,d,this.injector),UP)}const r=this.pendingTasks.add();return this.chain(t,s=>this.backend.handle(s)).pipe(qu(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(JT),h.LFG(h.lqb))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const rL=/^\)\]\}',?\n/;let $P=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new h.vHH(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?(0,$r.D)(r.\u0275loadImpl()):(0,Xt.of)(null)).pipe((0,Er.w)(()=>new Kr.y(u=>{const d=r.build();if(d.open(t.method,t.urlWithParams),t.withCredentials&&(d.withCredentials=!0),t.headers.forEach((Ye,rt)=>d.setRequestHeader(Ye,rt.join(","))),t.headers.has("Accept")||d.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const Ye=t.detectContentTypeHeader();null!==Ye&&d.setRequestHeader("Content-Type",Ye)}if(t.responseType){const Ye=t.responseType.toLowerCase();d.responseType="json"!==Ye?Ye:"text"}const _=t.serializeBody();let E=null;const T=()=>{if(null!==E)return E;const Ye=d.statusText||"OK",rt=new bh(d.getAllResponseHeaders()),$t=function iL(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(d)||t.url;return E=new zM({headers:rt,status:d.status,statusText:Ye,url:$t}),E},x=()=>{let{headers:Ye,status:rt,statusText:$t,url:cn}=T(),Vt=null;204!==rt&&(Vt=typeof d.response>"u"?d.responseText:d.response),0===rt&&(rt=Vt?200:0);let gn=rt>=200&&rt<300;if("json"===t.responseType&&"string"==typeof Vt){const zn=Vt;Vt=Vt.replace(rL,"");try{Vt=""!==Vt?JSON.parse(Vt):null}catch(_r){Vt=zn,gn&&(gn=!1,Vt={error:_r,text:Vt})}}gn?(u.next(new Bw({body:Vt,headers:Ye,status:rt,statusText:$t,url:cn||void 0})),u.complete()):u.error(new kP({error:Vt,headers:Ye,status:rt,statusText:$t,url:cn||void 0}))},L=Ye=>{const{url:rt}=T(),$t=new kP({error:Ye,status:d.status||0,statusText:d.statusText||"Unknown Error",url:rt||void 0});u.error($t)};let Q=!1;const ue=Ye=>{Q||(u.next(T()),Q=!0);let rt={type:Vw.DownloadProgress,loaded:Ye.loaded};Ye.lengthComputable&&(rt.total=Ye.total),"text"===t.responseType&&d.responseText&&(rt.partialText=d.responseText),u.next(rt)},Le=Ye=>{let rt={type:Vw.UploadProgress,loaded:Ye.loaded};Ye.lengthComputable&&(rt.total=Ye.total),u.next(rt)};return d.addEventListener("load",x),d.addEventListener("error",L),d.addEventListener("timeout",L),d.addEventListener("abort",L),t.reportProgress&&(d.addEventListener("progress",ue),null!==_&&d.upload&&d.upload.addEventListener("progress",Le)),d.send(_),u.next({type:Vw.Sent}),()=>{d.removeEventListener("error",L),d.removeEventListener("abort",L),d.removeEventListener("load",x),d.removeEventListener("timeout",L),t.reportProgress&&(d.removeEventListener("progress",ue),null!==_&&d.upload&&d.upload.removeEventListener("progress",Le)),d.readyState!==d.DONE&&d.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(go))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const WM=new h.OlP("XSRF_ENABLED"),HP=new h.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),GP=new h.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class zP{}let aL=(()=>{class n{constructor(t,r,s){this.doc=t,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Hn(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Ce),h.LFG(h.Lbi),h.LFG(HP))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();function uL(n,e){const t=n.url.toLowerCase();if(!(0,h.f3M)(WM)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,h.f3M)(zP).getToken(),s=(0,h.f3M)(GP);return null!=r&&!n.headers.has(s)&&(n=n.clone({headers:n.headers.set(s,r)})),e(n)}var mm=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(mm||{});function cL(...n){const e=[Zk,$P,BP,{provide:QT,useExisting:BP},{provide:JT,useExisting:$P},{provide:Cb,useValue:uL,multi:!0},{provide:WM,useValue:!0},{provide:zP,useClass:aL}];for(const t of n)e.push(...t.\u0275providers);return(0,h.MR2)(e)}const qP=new h.OlP("LEGACY_INTERCEPTOR_FN");function lL(){return function z_(n,e){return{\u0275kind:n,\u0275providers:e}}(mm.LegacyInterceptors,[{provide:qP,useFactory:Xk},{provide:Cb,useExisting:qP,multi:!0}])}let dL=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({providers:[cL(lL())]})}return n})();const yL_firebaseConfig={projectId:"instagram-clone-gilshaashua",appId:"1:827870472031:web:e39968f5559a9f2832b8ea",storageBucket:"instagram-clone-gilshaashua.appspot.com",apiKey:"AIzaSyBzQGVn0KY8RifDoGX3L7W_oxejQG0tHhs",authDomain:"instagram-clone-gilshaashua.firebaseapp.com",messagingSenderId:"827870472031",measurementId:"G-FPQPXYYP3N"};var WP=N(7582),_L=N(9519);const wL=new h.OlP("angularfire2.messaging.vapid-key"),EL=new h.OlP("angularfire2.messaging.service-worker-registeration");let ZP=(()=>{class n{constructor(t,r,s,u,d,_,E){const T=E,x=(0,Xt.of)(void 0).pipe((0,ud.R)(d.outsideAngular),(0,cl.Q)(d.insideAngular),(0,Er.w)(_L.Gb),(0,Er.w)(ue=>ue?N.e(922).then(N.bind(N,5922)):qi.E),(0,Dn.U)(()=>(0,Ni.on)(t,u,r)),(0,Er.w)(ue=>(0,Ni.cc)(`${ue.name}.messaging`,"AngularFireMessaging",ue.name,()=>(0,WP.mG)(this,void 0,void 0,function*(){return ue.messaging()}),[])),KS({bufferSize:1,refCount:!1}));this.requestPermission=x.pipe((0,ud.R)(d.outsideAngular),(0,cl.Q)(d.insideAngular),(0,Er.w)(()=>Notification.requestPermission())),this.getToken=x.pipe((0,ud.R)(d.outsideAngular),(0,cl.Q)(d.insideAngular),(0,Er.w)(ue=>(0,WP.mG)(this,void 0,void 0,function*(){if("granted"===Notification.permission){const Le=T?yield T:null;return yield ue.getToken({vapidKey:_,serviceWorkerRegistration:Le})}return null})));const L=new Kr.y(ue=>{navigator.permissions.query({name:"notifications"}).then(Le=>{Le.onchange=()=>ue.next()})}),Q=x.pipe((0,ud.R)(d.outsideAngular),(0,cl.Q)(d.insideAngular),MT(L),MT(this.getToken));return this.tokenChanges=x.pipe((0,ud.R)(d.outsideAngular),(0,cl.Q)(d.insideAngular),(0,Er.w)(()=>eu(this.getToken,Q))),this.messages=x.pipe((0,ud.R)(d.outsideAngular),(0,cl.Q)(d.insideAngular),(0,Er.w)(ue=>new Kr.y(Le=>ue.onMessage(Le)))),this.requestToken=x.pipe((0,ud.R)(d.outsideAngular),(0,cl.Q)(d.insideAngular),(0,Er.w)(()=>this.requestPermission),vo(()=>(0,Xt.of)(null)),(0,us.z)(()=>this.tokenChanges)),this.deleteToken=()=>x.pipe((0,ud.R)(d.outsideAngular),(0,cl.Q)(d.insideAngular),(0,Er.w)(ue=>ue.deleteToken()),Nc(!1)),(0,Ni.pX)(this,x,u)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ni.Dh),h.LFG(Ni.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Ai.HU),h.LFG(wL,8),h.LFG(EL,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),IL=(()=>{class n{constructor(){wM.Z.registerVersion("angularfire",Ai.q4.full,"fcm-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[ZP]}),n})(),CL=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n,bootstrap:[Bk]});static#n=this.\u0275inj=h.cJS({imports:[bl,yk,dL,uk,ck,Ni.hO.initializeApp(yL_firebaseConfig),jR,IL,KR]})}return n})();Ep().bootstrapModule(CL).catch(n=>console.error(n))},6990:function(Tt,Fe,N){var h;Tt=N.nmd(Tt),function(){var M,Ce="Expected a function",He="__lodash_hash_undefined__",q="__lodash_placeholder__",En=1/0,an=9007199254740991,Ie=4294967295,$e=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],tt="[object Arguments]",gt="[object Array]",hn="[object Boolean]",Bt="[object Date]",Pt="[object Error]",Pn="[object Function]",Dr="[object GeneratorFunction]",$n="[object Map]",kn="[object Number]",vr="[object Object]",Or="[object Promise]",qn="[object RegExp]",ur="[object Set]",ui="[object String]",kt="[object Symbol]",zt="[object WeakMap]",Vr="[object ArrayBuffer]",Sn="[object DataView]",mn="[object Float32Array]",Ln="[object Float64Array]",ci="[object Int8Array]",Mn="[object Int16Array]",Ui="[object Int32Array]",In="[object Uint8Array]",Rn="[object Uint8ClampedArray]",ri="[object Uint16Array]",Br="[object Uint32Array]",ii=/\b__p \+= '';/g,Tr=/\b(__p \+=) '' \+/g,Me=/(__e\(.*?\)|\b__t\)) \+\n'';/g,te=/&(?:amp|lt|gt|quot|#39);/g,Re=/[&<>"']/g,ot=RegExp(te.source),At=RegExp(Re.source),Lt=/<%-([\s\S]+?)%>/g,Wn=/<%([\s\S]+?)%>/g,J=/<%=([\s\S]+?)%>/g,X=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,V=/^\w*$/,j=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,k=/[\\^$.*+?()[\]{}|]/g,ce=RegExp(k.source),ze=/^\s+/,pt=/\s/,Qt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ct=/\{\n\/\* \[wrapped with (.+)\] \*/,Zn=/,? & /,rn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Jn=/[()=,{}\[\]\/\s]/,Cn=/\\(\\)?/g,li=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,re=/\w*$/,De=/^[-+]0x[0-9a-f]+$/i,vt=/^0b[01]+$/i,Dt=/^\[object .+?Constructor\]$/,Jt=/^0o[0-7]+$/i,St=/^(?:0|[1-9]\d*)$/,cr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,bi=/($^)/,Xi=/['\n\r\u2028\u2029\\]/g,gs="\\ud800-\\udfff",Yo="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Vi="\\u2700-\\u27bf",es="a-z\\xdf-\\xf6\\xf8-\\xff",zs="A-Z\\xc0-\\xd6\\xd8-\\xde",Ss="\\ufe0e\\ufe0f",Au="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Bi="["+gs+"]",Su="["+Au+"]",Xo="["+Yo+"]",mc="\\d+",K="["+Vi+"]",fe="["+es+"]",Ge="[^"+gs+Au+mc+Vi+es+zs+"]",xt="\\ud83c[\\udffb-\\udfff]",Kn="[^"+gs+"]",bn="(?:\\ud83c[\\udde6-\\uddff]){2}",Nr="[\\ud800-\\udbff][\\udc00-\\udfff]",Pr="["+zs+"]",Js="(?:"+fe+"|"+Ge+")",Mu="(?:"+Pr+"|"+Ge+")",yc="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",xu="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ou="(?:"+Xo+"|"+xt+")?",Pu="["+Ss+"]?",ga=Pu+Ou+"(?:\\u200d(?:"+[Kn,bn,Nr].join("|")+")"+Pu+Ou+")*",ts="(?:"+[K,bn,Nr].join("|")+")"+ga,cd="(?:"+[Kn+Xo+"?",Xo,bn,Nr,Bi].join("|")+")",_c=RegExp("['\u2019]","g"),ea=RegExp(Xo,"g"),Ms=RegExp(xt+"(?="+xt+")|"+cd+ga,"g"),Ru=RegExp([Pr+"?"+fe+"+"+yc+"(?="+[Su,Pr,"$"].join("|")+")",Mu+"+"+xu+"(?="+[Su,Pr+Js,"$"].join("|")+")",Pr+"?"+Js+"+"+yc,Pr+"+"+xu,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",mc,ts].join("|"),"g"),kr=RegExp("[\\u200d"+gs+Yo+Ss+"]"),mt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,vn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ar=-1,Gn={};Gn[mn]=Gn[Ln]=Gn[ci]=Gn[Mn]=Gn[Ui]=Gn[In]=Gn[Rn]=Gn[ri]=Gn[Br]=!0,Gn[tt]=Gn[gt]=Gn[Vr]=Gn[hn]=Gn[Sn]=Gn[Bt]=Gn[Pt]=Gn[Pn]=Gn[$n]=Gn[kn]=Gn[vr]=Gn[qn]=Gn[ur]=Gn[ui]=Gn[zt]=!1;var lr={};lr[tt]=lr[gt]=lr[Vr]=lr[Sn]=lr[hn]=lr[Bt]=lr[mn]=lr[Ln]=lr[ci]=lr[Mn]=lr[Ui]=lr[$n]=lr[kn]=lr[vr]=lr[qn]=lr[ur]=lr[ui]=lr[kt]=lr[In]=lr[Rn]=lr[ri]=lr[Br]=!0,lr[Pt]=lr[Pn]=lr[zt]=!1;var ko={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},xs=parseFloat,nn=parseInt,ja="object"==typeof global&&global&&global.Object===Object&&global,Dh="object"==typeof self&&self&&self.Object===Object&&self,ir=ja||Dh||Function("return this")(),di=Fe&&!Fe.nodeType&&Fe,Hi=di&&Tt&&!Tt.nodeType&&Tt,Os=Hi&&Hi.exports===di,Gi=Os&&ja.process,oi=function(){try{return Hi&&Hi.require&&Hi.require("util").types||Gi&&Gi.binding&&Gi.binding("util")}catch{}}(),ll=oi&&oi.isArrayBuffer,ta=oi&&oi.isDate,go=oi&&oi.isMap,W=oi&&oi.isRegExp,G=oi&&oi.isSet,Z=oi&&oi.isTypedArray;function Ee(le,We,Ne){switch(Ne.length){case 0:return le.call(We);case 1:return le.call(We,Ne[0]);case 2:return le.call(We,Ne[0],Ne[1]);case 3:return le.call(We,Ne[0],Ne[1],Ne[2])}return le.apply(We,Ne)}function qe(le,We,Ne,Ft){for(var Nn=-1,wr=null==le?0:le.length;++Nn<wr;){var ns=le[Nn];We(Ft,ns,Ne(ns),le)}return Ft}function nt(le,We){for(var Ne=-1,Ft=null==le?0:le.length;++Ne<Ft&&!1!==We(le[Ne],Ne,le););return le}function yt(le,We){for(var Ne=null==le?0:le.length;Ne--&&!1!==We(le[Ne],Ne,le););return le}function Ht(le,We){for(var Ne=-1,Ft=null==le?0:le.length;++Ne<Ft;)if(!We(le[Ne],Ne,le))return!1;return!0}function Gt(le,We){for(var Ne=-1,Ft=null==le?0:le.length,Nn=0,wr=[];++Ne<Ft;){var ns=le[Ne];We(ns,Ne,le)&&(wr[Nn++]=ns)}return wr}function fn(le,We){return!(null==le||!le.length)&&vc(le,We,0)>-1}function sn(le,We,Ne){for(var Ft=-1,Nn=null==le?0:le.length;++Ft<Nn;)if(Ne(We,le[Ft]))return!0;return!1}function Fn(le,We){for(var Ne=-1,Ft=null==le?0:le.length,Nn=Array(Ft);++Ne<Ft;)Nn[Ne]=We(le[Ne],Ne,le);return Nn}function hr(le,We){for(var Ne=-1,Ft=We.length,Nn=le.length;++Ne<Ft;)le[Nn+Ne]=We[Ne];return le}function ar(le,We,Ne,Ft){var Nn=-1,wr=null==le?0:le.length;for(Ft&&wr&&(Ne=le[++Nn]);++Nn<wr;)Ne=We(Ne,le[Nn],Nn,le);return Ne}function $a(le,We,Ne,Ft){var Nn=null==le?0:le.length;for(Ft&&Nn&&(Ne=le[--Nn]);Nn--;)Ne=We(Ne,le[Nn],Nn,le);return Ne}function Ps(le,We){for(var Ne=-1,Ft=null==le?0:le.length;++Ne<Ft;)if(We(le[Ne],Ne,le))return!0;return!1}var Lo=hd("length");function Nu(le,We,Ne){var Ft;return Ne(le,function(Nn,wr,ns){if(We(Nn,wr,ns))return Ft=wr,!1}),Ft}function dl(le,We,Ne,Ft){for(var Nn=le.length,wr=Ne+(Ft?1:-1);Ft?wr--:++wr<Nn;)if(We(le[wr],wr,le))return wr;return-1}function vc(le,We,Ne){return We==We?function mp(le,We,Ne){for(var Ft=Ne-1,Nn=le.length;++Ft<Nn;)if(le[Ft]===We)return Ft;return-1}(le,We,Ne):dl(le,ld,Ne)}function _m(le,We,Ne,Ft){for(var Nn=Ne-1,wr=le.length;++Nn<wr;)if(Ft(le[Nn],We))return Nn;return-1}function ld(le){return le!=le}function dd(le,We){var Ne=null==le?0:le.length;return Ne?Th(le,We)/Ne:NaN}function hd(le){return function(We){return null==We?M:We[le]}}function pp(le){return function(We){return null==le?M:le[We]}}function gp(le,We,Ne,Ft,Nn){return Nn(le,function(wr,ns,Lr){Ne=Ft?(Ft=!1,wr):We(Ne,wr,ns,Lr)}),Ne}function Th(le,We){for(var Ne,Ft=-1,Nn=le.length;++Ft<Nn;){var wr=We(le[Ft]);wr!==M&&(Ne=Ne===M?wr:Ne+wr)}return Ne}function vm(le,We){for(var Ne=-1,Ft=Array(le);++Ne<le;)Ft[Ne]=We(Ne);return Ft}function q_(le){return le&&le.slice(0,yl(le)+1).replace(ze,"")}function Xs(le){return function(We){return le(We)}}function hl(le,We){return Fn(We,function(Ne){return le[Ne]})}function fl(le,We){return le.has(We)}function pl(le,We){for(var Ne=-1,Ft=le.length;++Ne<Ft&&vc(We,le[Ne],0)>-1;);return Ne}function ku(le,We){for(var Ne=le.length;Ne--&&vc(We,le[Ne],0)>-1;);return Ne}var Em=pp({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Im=pp({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ma(le){return"\\"+ko[le]}function ya(le){return kr.test(le)}function ml(le){var We=-1,Ne=Array(le.size);return le.forEach(function(Ft,Nn){Ne[++We]=[Nn,Ft]}),Ne}function ms(le,We){return function(Ne){return le(We(Ne))}}function na(le,We){for(var Ne=-1,Ft=le.length,Nn=0,wr=[];++Ne<Ft;){var ns=le[Ne];(ns===We||ns===q)&&(le[Ne]=q,wr[Nn++]=Ne)}return wr}function wc(le){var We=-1,Ne=Array(le.size);return le.forEach(function(Ft){Ne[++We]=Ft}),Ne}function Ic(le){return ya(le)?function Ah(le){for(var We=Ms.lastIndex=0;Ms.test(le);)++We;return We}(le):Lo(le)}function mo(le){return ya(le)?function Dm(le){return le.match(Ms)||[]}(le):function ei(le){return le.split("")}(le)}function yl(le){for(var We=le.length;We--&&pt.test(le.charAt(We)););return We}var bm=pp({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Fo=function le(We){var l,Ne=(We=null==We?ir:Fo.defaults(ir.Object(),We,Fo.pick(ir,vn))).Array,Ft=We.Date,Nn=We.Error,wr=We.Function,ns=We.Math,Lr=We.Object,vl=We.RegExp,yp=We.String,eo=We.TypeError,Lu=Ne.prototype,_a=Lr.prototype,pd=We["__core-js_shared__"],wl=wr.prototype.toString,Cr=_a.hasOwnProperty,El=0,Tm=(l=/[^.]+$/.exec(pd&&pd.keys&&pd.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",Cc=_a.toString,Am=wl.call(Lr),_p=ir._,Z_=vl("^"+wl.call(Cr).replace(k,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gd=Os?We.Buffer:M,Ga=We.Symbol,bc=We.Uint8Array,md=gd?gd.allocUnsafe:M,Fu=ms(Lr.getPrototypeOf,Lr),ra=Lr.create,Uu=_a.propertyIsEnumerable,Dc=Lu.splice,vp=Ga?Ga.isConcatSpreadable:M,Vu=Ga?Ga.iterator:M,Tc=Ga?Ga.toStringTag:M,to=function(){try{var l=Ju(Lr,"defineProperty");return l({},"",{}),l}catch{}}(),wp=We.clearTimeout!==ir.clearTimeout&&We.clearTimeout,yd=Ft&&Ft.now!==ir.Date.now&&Ft.now,Mr=We.setTimeout!==ir.setTimeout&&We.setTimeout,Bu=ns.ceil,yo=ns.floor,rs=Lr.getOwnPropertySymbols,K_=gd?gd.isBuffer:M,_d=We.isFinite,Ac=Lu.join,qs=ms(Lr.keys,Lr),vi=ns.max,Ns=ns.min,vd=Ft.now,za=We.parseInt,Sh=ns.random,Il=Lu.reverse,Mh=Ju(We,"DataView"),ti=Ju(We,"Map"),Cl=Ju(We,"Promise"),ju=Ju(We,"Set"),on=Ju(We,"WeakMap"),qa=Ju(Lr,"create"),xh=on&&new on,$u={},Ep=Sa(Mh),Sm=Sa(ti),Sc=Sa(Cl),Wa=Sa(ju),bl=Sa(on),Mc=Ga?Ga.prototype:M,Dl=Mc?Mc.valueOf:M,Oh=Mc?Mc.toString:M;function U(l){if(Si(l)&&!Vn(l)&&!(l instanceof nr)){if(l instanceof fi)return l;if(Cr.call(l,"__wrapped__"))return av(l)}return new fi(l)}var Ke=function(){function l(){}return function(p){if(!Qr(p))return{};if(ra)return ra(p);l.prototype=p;var w=new l;return l.prototype=M,w}}();function tr(){}function fi(l,p){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=M}function nr(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ie,this.__views__=[]}function ys(l){var p=-1,w=null==l?0:l.length;for(this.clear();++p<w;){var A=l[p];this.set(A[0],A[1])}}function Zr(l){var p=-1,w=null==l?0:l.length;for(this.clear();++p<w;){var A=l[p];this.set(A[0],A[1])}}function sa(l){var p=-1,w=null==l?0:l.length;for(this.clear();++p<w;){var A=l[p];this.set(A[0],A[1])}}function Ka(l){var p=-1,w=null==l?0:l.length;for(this.__data__=new sa;++p<w;)this.add(l[p])}function Kr(l){var p=this.__data__=new Zr(l);this.size=p.size}function Sl(l,p){var w=Vn(l),A=!w&&Gd(l),P=!w&&!A&&Se(l),$=!w&&!A&&!P&&qd(l),ee=w||A||P||$,ne=ee?vm(l.length,yp):[],pe=ne.length;for(var Je in l)(p||Cr.call(l,Je))&&(!ee||!("length"==Je||P&&("offset"==Je||"parent"==Je)||$&&("buffer"==Je||"byteLength"==Je||"byteOffset"==Je)||lu(Je,pe)))&&ne.push(Je);return ne}function Ed(l){var p=l.length;return p?l[Lc(0,p-1)]:M}function ks(l,p){return Fp(y(l),Ls(p,0,l.length))}function va(l){return Fp(y(l))}function Hr(l,p,w){(w!==M&&!bo(l[p],w)||w===M&&!(p in l))&&no(l,p,w)}function _o(l,p,w){var A=l[p];(!Cr.call(l,p)||!bo(A,w)||w===M&&!(p in l))&&no(l,p,w)}function oa(l,p){for(var w=l.length;w--;)if(bo(l[w][0],p))return w;return-1}function Dn(l,p,w,A){return Vo(l,function(P,$,ee){p(A,P,w(P),ee)}),A}function Ap(l,p){return l&&b(p,ki(p),l)}function no(l,p,w){"__proto__"==p&&to?to(l,p,{configurable:!0,enumerable:!0,value:w,writable:!0}):l[p]=w}function Uo(l,p){for(var w=-1,A=p.length,P=Ne(A),$=null==l;++w<A;)P[w]=$?M:Yd(l,p[w]);return P}function Ls(l,p,w){return l==l&&(w!==M&&(l=l<=w?l:w),p!==M&&(l=l>=p?l:p)),l}function Gr(l,p,w,A,P,$){var ee,ne=1&p,pe=2&p,Je=4&p;if(w&&(ee=P?w(l,A,P,$):w(l)),ee!==M)return ee;if(!Qr(l))return l;var et=Vn(l);if(et){if(ee=function jm(l){var p=l.length,w=new l.constructor(p);return p&&"string"==typeof l[0]&&Cr.call(l,"index")&&(w.index=l.index,w.input=l.input),w}(l),!ne)return y(l,ee)}else{var at=ws(l),_t=at==Pn||at==Dr;if(Se(l))return Nm(l,ne);if(at==vr||at==tt||_t&&!P){if(ee=pe||_t?{}:qh(l),!ne)return pe?function F(l,p){return b(l,Hc(l),p)}(l,function Sp(l,p){return l&&b(p,ls(p),l)}(ee,l)):function O(l,p){return b(l,Eo(l),p)}(l,Ap(ee,l))}else{if(!lr[at])return P?l:{};ee=function Ul(l,p,w){var A=l.constructor;switch(p){case Vr:return Vs(l);case hn:case Bt:return new A(+l);case Sn:return function $h(l,p){var w=p?Vs(l.buffer):l.buffer;return new l.constructor(w,l.byteOffset,l.byteLength)}(l,w);case mn:case Ln:case ci:case Mn:case Ui:case In:case Rn:case ri:case Br:return kl(l,w);case $n:return new A;case kn:case ui:return new A(l);case qn:return function Uc(l){var p=new l.constructor(l.source,re.exec(l));return p.lastIndex=l.lastIndex,p}(l);case ur:return new A;case kt:return function km(l){return Dl?Lr(Dl.call(l)):{}}(l)}}(l,at,ne)}}$||($=new Kr);var Zt=$.get(l);if(Zt)return Zt;$.set(l,ee),_E(l)?l.forEach(function(un){ee.add(Gr(un,p,w,un,l,$))}):pf(l)&&l.forEach(function(un,or){ee.set(or,Gr(un,p,w,or,l,$))});var sr=et?M:(Je?pe?Um:ev:pe?ls:ki)(l);return nt(sr||l,function(un,or){sr&&(un=l[or=un]),_o(ee,or,Gr(un,p,w,or,l,$))}),ee}function Qa(l,p,w){var A=w.length;if(null==l)return!A;for(l=Lr(l);A--;){var P=w[A],ee=l[P];if(ee===M&&!(P in l)||!(0,p[P])(ee))return!1}return!0}function Hu(l,p,w){if("function"!=typeof l)throw new eo(Ce);return Yh(function(){l.apply(M,w)},p)}function Ja(l,p,w,A){var P=-1,$=fn,ee=!0,ne=l.length,pe=[],Je=p.length;if(!ne)return pe;w&&(p=Fn(p,Xs(w))),A?($=sn,ee=!1):p.length>=200&&($=fl,ee=!1,p=new Ka(p));e:for(;++P<ne;){var et=l[P],at=null==w?et:w(et);if(et=A||0!==et?et:0,ee&&at==at){for(var _t=Je;_t--;)if(p[_t]===at)continue e;pe.push(et)}else $(p,at,A)||pe.push(et)}return pe}U.templateSettings={escape:Lt,evaluate:Wn,interpolate:J,variable:"",imports:{_:U}},(U.prototype=tr.prototype).constructor=U,(fi.prototype=Ke(tr.prototype)).constructor=fi,(nr.prototype=Ke(tr.prototype)).constructor=nr,ys.prototype.clear=function Ip(){this.__data__=qa?qa(null):{},this.size=0},ys.prototype.delete=function Cp(l){var p=this.has(l)&&delete this.__data__[l];return this.size-=p?1:0,p},ys.prototype.get=function Mm(l){var p=this.__data__;if(qa){var w=p[l];return w===He?M:w}return Cr.call(p,l)?p[l]:M},ys.prototype.has=function $w(l){var p=this.__data__;return qa?p[l]!==M:Cr.call(p,l)},ys.prototype.set=function xm(l,p){var w=this.__data__;return this.size+=this.has(l)?0:1,w[l]=qa&&p===M?He:p,this},Zr.prototype.clear=function Za(){this.__data__=[],this.size=0},Zr.prototype.delete=function Om(l){var p=this.__data__,w=oa(p,l);return!(w<0||(w==p.length-1?p.pop():Dc.call(p,w,1),--this.size,0))},Zr.prototype.get=function Al(l){var p=this.__data__,w=oa(p,l);return w<0?M:p[w][1]},Zr.prototype.has=function ia(l){return oa(this.__data__,l)>-1},Zr.prototype.set=function Y_(l,p){var w=this.__data__,A=oa(w,l);return A<0?(++this.size,w.push([l,p])):w[A][1]=p,this},sa.prototype.clear=function bp(){this.size=0,this.__data__={hash:new ys,map:new(ti||Zr),string:new ys}},sa.prototype.delete=function Q_(l){var p=Fl(this,l).delete(l);return this.size-=p?1:0,p},sa.prototype.get=function Dp(l){return Fl(this,l).get(l)},sa.prototype.has=function Ph(l){return Fl(this,l).has(l)},sa.prototype.set=function Pm(l,p){var w=Fl(this,l),A=w.size;return w.set(l,p),this.size+=w.size==A?0:1,this},Ka.prototype.add=Ka.prototype.push=function J_(l){return this.__data__.set(l,He),this},Ka.prototype.has=function Rh(l){return this.__data__.has(l)},Kr.prototype.clear=function Ya(){this.__data__=new Zr,this.size=0},Kr.prototype.delete=function Tp(l){var p=this.__data__,w=p.delete(l);return this.size=p.size,w},Kr.prototype.get=function $r(l){return this.__data__.get(l)},Kr.prototype.has=function Xt(l){return this.__data__.has(l)},Kr.prototype.set=function ss(l,p){var w=this.__data__;if(w instanceof Zr){var A=w.__data__;if(!ti||A.length<199)return A.push([l,p]),this.size=++w.size,this;w=this.__data__=new sa(A)}return w.set(l,p),this.size=w.size,this};var Vo=ft(qi),Xa=ft(Pc,!0);function Ml(l,p){var w=!0;return Vo(l,function(A,P,$){return w=!!p(A,P,$)}),w}function ro(l,p,w){for(var A=-1,P=l.length;++A<P;){var $=l[A],ee=p($);if(null!=ee&&(ne===M?ee==ee&&!Ws(ee):w(ee,ne)))var ne=ee,pe=$}return pe}function Oc(l,p){var w=[];return Vo(l,function(A,P,$){p(A,P,$)&&w.push(A)}),w}function Pi(l,p,w,A,P){var $=-1,ee=l.length;for(w||(w=$m),P||(P=[]);++$<ee;){var ne=l[$];p>0&&w(ne)?p>1?Pi(ne,p-1,w,A,P):hr(P,ne):A||(P[P.length]=ne)}return P}var Gu=Et(),tu=Et(!0);function qi(l,p){return l&&Gu(l,p,ki)}function Pc(l,p){return l&&tu(l,p,ki)}function os(l,p){return Gt(p,function(w){return Ma(l[w])})}function wa(l,p){for(var w=0,A=(p=Us(p,l)).length;null!=l&&w<A;)l=l[du(p[w++])];return w&&w==A?l:M}function xl(l,p,w){var A=p(l);return Vn(l)?A:hr(A,w(l))}function Fr(l){return null==l?l===M?"[object Undefined]":"[object Null]":Tc&&Tc in Lr(l)?function xd(l){var p=Cr.call(l,Tc),w=l[Tc];try{l[Tc]=M;var A=!0}catch{}var P=Cc.call(l);return A&&(p?l[Tc]=w:delete l[Tc]),P}(l):function kp(l){return Cc.call(l)}(l)}function Er(l,p){return l>p}function pi(l,p){return null!=l&&Cr.call(l,p)}function Rc(l,p){return null!=l&&p in Lr(l)}function us(l,p,w){for(var A=w?sn:fn,P=l[0].length,$=l.length,ee=$,ne=Ne($),pe=1/0,Je=[];ee--;){var et=l[ee];ee&&p&&(et=Fn(et,Xs(p))),pe=Ns(et.length,pe),ne[ee]=!w&&(p||P>=120&&et.length>=120)?new Ka(ee&&et):M}et=l[0];var at=-1,_t=ne[0];e:for(;++at<P&&Je.length<pe;){var Zt=et[at],pn=p?p(Zt):Zt;if(Zt=w||0!==Zt?Zt:0,!(_t?fl(_t,pn):A(Je,pn,w))){for(ee=$;--ee;){var sr=ne[ee];if(!(sr?fl(sr,pn):A(l[ee],pn,w)))continue e}_t&&_t.push(pn),Je.push(Zt)}}return Je}function Ea(l,p,w){var A=null==(l=Vl(l,p=Us(p,l)))?l:l[du(Es(p))];return null==A?M:Ee(A,l,w)}function Mp(l){return Si(l)&&Fr(l)==tt}function Yr(l,p,w,A,P){return l===p||(null==l||null==p||!Si(l)&&!Si(p)?l!=l&&p!=p:function vo(l,p,w,A,P,$){var ee=Vn(l),ne=Vn(p),pe=ee?gt:ws(l),Je=ne?gt:ws(p),et=(pe=pe==tt?vr:pe)==vr,at=(Je=Je==tt?vr:Je)==vr,_t=pe==Je;if(_t&&Se(l)){if(!Se(p))return!1;ee=!0,et=!1}if(_t&&!et)return $||($=new Kr),ee||qd(l)?Gw(l,p,w,A,P,$):function zw(l,p,w,A,P,$,ee){switch(w){case Sn:if(l.byteLength!=p.byteLength||l.byteOffset!=p.byteOffset)return!1;l=l.buffer,p=p.buffer;case Vr:return!(l.byteLength!=p.byteLength||!$(new bc(l),new bc(p)));case hn:case Bt:case kn:return bo(+l,+p);case Pt:return l.name==p.name&&l.message==p.message;case qn:case ui:return l==p+"";case $n:var ne=ml;case ur:if(ne||(ne=wc),l.size!=p.size&&!(1&A))return!1;var Je=ee.get(l);if(Je)return Je==p;A|=2,ee.set(l,p);var et=Gw(ne(l),ne(p),A,P,$,ee);return ee.delete(l),et;case kt:if(Dl)return Dl.call(l)==Dl.call(p)}return!1}(l,p,pe,w,A,P,$);if(!(1&w)){var Zt=et&&Cr.call(l,"__wrapped__"),pn=at&&Cr.call(p,"__wrapped__");if(Zt||pn){var sr=Zt?l.value():l,un=pn?p.value():p;return $||($=new Kr),P(sr,un,w,A,$)}}return!!_t&&($||($=new Kr),function qw(l,p,w,A,P,$){var ee=1&w,ne=ev(l),pe=ne.length;if(pe!=ev(p).length&&!ee)return!1;for(var at=pe;at--;){var _t=ne[at];if(!(ee?_t in p:Cr.call(p,_t)))return!1}var Zt=$.get(l),pn=$.get(p);if(Zt&&pn)return Zt==p&&pn==l;var sr=!0;$.set(l,p),$.set(p,l);for(var un=ee;++at<pe;){var or=l[_t=ne[at]],dr=p[_t];if(A)var oo=ee?A(dr,or,_t,p,l,$):A(or,dr,_t,l,p,$);if(!(oo===M?or===dr||P(or,dr,w,A,$):oo)){sr=!1;break}un||(un="constructor"==_t)}if(sr&&!un){var Ks=l.constructor,ao=p.constructor;Ks!=ao&&"constructor"in l&&"constructor"in p&&!("function"==typeof Ks&&Ks instanceof Ks&&"function"==typeof ao&&ao instanceof ao)&&(sr=!1)}return $.delete(l),$.delete(p),sr}(l,p,w,A,P,$))}(l,p,w,A,Yr,P))}function Ia(l,p,w,A){var P=w.length,$=P,ee=!A;if(null==l)return!$;for(l=Lr(l);P--;){var ne=w[P];if(ee&&ne[2]?ne[1]!==l[ne[0]]:!(ne[0]in l))return!1}for(;++P<$;){var pe=(ne=w[P])[0],Je=l[pe],et=ne[1];if(ee&&ne[2]){if(Je===M&&!(pe in l))return!1}else{var at=new Kr;if(A)var _t=A(Je,et,pe,l,p,at);if(!(_t===M?Yr(et,Je,3,A,at):_t))return!1}}return!0}function zu(l){return!(!Qr(l)||function Np(l){return!!Tm&&Tm in l}(l))&&(Ma(l)?Z_:Dt).test(Sa(l))}function Cd(l){return"function"==typeof l?l:null==l?ds:"object"==typeof l?Vn(l)?kh(l[0],l[1]):Ca(l):Oy(l)}function kc(l){if(!Rd(l))return qs(l);var p=[];for(var w in Lr(l))Cr.call(l,w)&&"constructor"!=w&&p.push(w);return p}function aa(l,p){return l<p}function ru(l,p){var w=-1,A=Do(l)?Ne(l.length):[];return Vo(l,function(P,$,ee){A[++w]=p(P,$,ee)}),A}function Ca(l){var p=Vm(l);return 1==p.length&&p[0][2]?nv(p[0][0],p[0][1]):function(w){return w===l||Ia(w,l,p)}}function kh(l,p){return Pd(l)&&Nd(p)?nv(du(l),p):function(w){var A=Yd(w,l);return A===M&&A===p?ag(w,l):Yr(p,A,3)}}function Ol(l,p,w,A,P){l!==p&&Gu(p,function($,ee){if(P||(P=new Kr),Qr($))!function Fs(l,p,w,A,P,$,ee){var ne=Lp(l,w),pe=Lp(p,w),Je=ee.get(pe);if(Je)Hr(l,w,Je);else{var et=$?$(ne,pe,w+"",l,p,ee):M,at=et===M;if(at){var _t=Vn(pe),Zt=!_t&&Se(pe),pn=!_t&&!Zt&&qd(pe);et=pe,_t||Zt||pn?Vn(ne)?et=ne:ni(ne)?et=y(ne):Zt?(at=!1,et=Nm(pe,!0)):pn?(at=!1,et=kl(pe,!0)):et=[]:Tn(pe)||Gd(pe)?(et=ne,Gd(ne)?et=_f(ne):(!Qr(ne)||Ma(ne))&&(et=qh(pe))):at=!1}at&&(ee.set(pe,et),P(et,pe,A,$,ee),ee.delete(pe)),Hr(l,w,et)}}(l,p,ee,w,Ol,A,P);else{var ne=A?A(Lp(l,ee),$,ee+"",l,p,P):M;ne===M&&(ne=$),Hr(l,ee,ne)}},ls)}function Lh(l,p){var w=l.length;if(w)return lu(p+=p<0?w:0,w)?l[p]:M}function Ti(l,p,w){p=p.length?Fn(p,function($){return Vn($)?function(ee){return wa(ee,1===$.length?$[0]:$)}:$}):[ds];var A=-1;return p=Fn(p,Xs(yn())),function hi(le,We){var Ne=le.length;for(le.sort(We);Ne--;)le[Ne]=le[Ne].value;return le}(ru(l,function($,ee,ne){return{criteria:Fn(p,function(Je){return Je($)}),index:++A,value:$}}),function($,ee){return function Vc(l,p,w){for(var A=-1,P=l.criteria,$=p.criteria,ee=P.length,ne=w.length;++A<ee;){var pe=Pp(P[A],$[A]);if(pe)return A>=ne?pe:pe*("desc"==w[A]?-1:1)}return l.index-p.index}($,ee,w)})}function Fh(l,p,w){for(var A=-1,P=p.length,$={};++A<P;){var ee=p[A],ne=wa(l,ee);w(ne,ee)&&rr($,Us(ee,l),ne)}return $}function Dd(l,p,w,A){var P=A?_m:vc,$=-1,ee=p.length,ne=l;for(l===p&&(p=y(p)),w&&(ne=Fn(l,Xs(w)));++$<ee;)for(var pe=0,Je=p[$],et=w?w(Je):Je;(pe=P(ne,et,pe,A))>-1;)ne!==l&&Dc.call(ne,pe,1),Dc.call(l,pe,1);return l}function Uh(l,p){for(var w=l?p.length:0,A=w-1;w--;){var P=p[w];if(w==A||P!==$){var $=P;lu(P)?Dc.call(l,P,1):ai(l,P)}}return l}function Lc(l,p){return l+yo(Sh()*(p-l+1))}function ba(l,p){var w="";if(!l||p<1||p>an)return w;do{p%2&&(w+=l),(p=yo(p/2))&&(l+=l)}while(p);return w}function wn(l,p){return rv($s(l,p,ds),l+"")}function Pl(l){return Ed(Zc(l))}function su(l,p){var w=Zc(l);return Fp(w,Ls(p,0,w.length))}function rr(l,p,w,A){if(!Qr(l))return l;for(var P=-1,$=(p=Us(p,l)).length,ee=$-1,ne=l;null!=ne&&++P<$;){var pe=du(p[P]),Je=w;if("__proto__"===pe||"constructor"===pe||"prototype"===pe)return l;if(P!=ee){var et=ne[pe];(Je=A?A(et,pe,ne):M)===M&&(Je=Qr(et)?et:lu(p[P+1])?[]:{})}_o(ne,pe,Je),ne=ne[pe]}return l}var Rl=xh?function(l,p){return xh.set(l,p),l}:ds,Rm=to?function(l,p){return to(l,"toString",{configurable:!0,enumerable:!1,value:yg(p),writable:!0})}:ds;function Wu(l){return Fp(Zc(l))}function Bo(l,p,w){var A=-1,P=l.length;p<0&&(p=-p>P?0:P+p),(w=w>P?P:w)<0&&(w+=P),P=p>w?0:w-p>>>0,p>>>=0;for(var $=Ne(P);++A<P;)$[A]=l[A+p];return $}function Td(l,p){var w;return Vo(l,function(A,P,$){return!(w=p(A,P,$))}),!!w}function Nl(l,p,w){var A=0,P=null==l?A:l.length;if("number"==typeof p&&p==p&&P<=2147483647){for(;A<P;){var $=A+P>>>1,ee=l[$];null!==ee&&!Ws(ee)&&(w?ee<=p:ee<p)?A=$+1:P=$}return P}return Op(l,p,ds,w)}function Op(l,p,w,A){var P=0,$=null==l?0:l.length;if(0===$)return 0;for(var ee=(p=w(p))!=p,ne=null===p,pe=Ws(p),Je=p===M;P<$;){var et=yo((P+$)/2),at=w(l[et]),_t=at!==M,Zt=null===at,pn=at==at,sr=Ws(at);if(ee)var un=A||pn;else un=Je?pn&&(A||_t):ne?pn&&_t&&(A||!Zt):pe?pn&&_t&&!Zt&&(A||!sr):!Zt&&!sr&&(A?at<=p:at<p);un?P=et+1:$=et}return Ns($,4294967294)}function Ad(l,p){for(var w=-1,A=l.length,P=0,$=[];++w<A;){var ee=l[w],ne=p?p(ee):ee;if(!w||!bo(ne,pe)){var pe=ne;$[P++]=0===ee?0:ee}}return $}function io(l){return"number"==typeof l?l:Ws(l)?NaN:+l}function _s(l){if("string"==typeof l)return l;if(Vn(l))return Fn(l,_s)+"";if(Ws(l))return Oh?Oh.call(l):"";var p=l+"";return"0"==p&&1/l==-En?"-0":p}function jo(l,p,w){var A=-1,P=fn,$=l.length,ee=!0,ne=[],pe=ne;if(w)ee=!1,P=sn;else if($>=200){var Je=p?null:Gh(l);if(Je)return wc(Je);ee=!1,P=fl,pe=new Ka}else pe=p?[]:ne;e:for(;++A<$;){var et=l[A],at=p?p(et):et;if(et=w||0!==et?et:0,ee&&at==at){for(var _t=pe.length;_t--;)if(pe[_t]===at)continue e;p&&pe.push(at),ne.push(et)}else P(pe,at,w)||(pe!==ne&&pe.push(at),ne.push(et))}return ne}function ai(l,p){return null==(l=Vl(l,p=Us(p,l)))||delete l[du(Es(p))]}function Sd(l,p,w,A){return rr(l,p,w(wa(l,p)),A)}function wo(l,p,w,A){for(var P=l.length,$=A?P:-1;(A?$--:++$<P)&&p(l[$],$,l););return w?Bo(l,A?0:$,A?$+1:P):Bo(l,A?$+1:0,A?P:$)}function Vh(l,p){var w=l;return w instanceof nr&&(w=w.value()),ar(p,function(A,P){return P.func.apply(P.thisArg,hr([A],P.args))},w)}function cs(l,p,w){var A=l.length;if(A<2)return A?jo(l[0]):[];for(var P=-1,$=Ne(A);++P<A;)for(var ee=l[P],ne=-1;++ne<A;)ne!=P&&($[P]=Ja($[P]||ee,l[ne],p,w));return jo(Pi($,1),p,w)}function Zu(l,p,w){for(var A=-1,P=l.length,$=p.length,ee={};++A<P;)w(ee,l[A],A<$?p[A]:M);return ee}function Bh(l){return ni(l)?l:[]}function ou(l){return"function"==typeof l?l:ds}function Us(l,p){return Vn(l)?l:Pd(l,p)?[l]:ov(pr(l))}var Md=wn;function au(l,p,w){var A=l.length;return w=w===M?A:w,!p&&w>=A?l:Bo(l,p,w)}var jh=wp||function(l){return ir.clearTimeout(l)};function Nm(l,p){if(p)return l.slice();var w=l.length,A=md?md(w):new l.constructor(w);return l.copy(A),A}function Vs(l){var p=new l.constructor(l.byteLength);return new bc(p).set(new bc(l)),p}function kl(l,p){var w=p?Vs(l.buffer):l.buffer;return new l.constructor(w,l.byteOffset,l.length)}function Pp(l,p){if(l!==p){var w=l!==M,A=null===l,P=l==l,$=Ws(l),ee=p!==M,ne=null===p,pe=p==p,Je=Ws(p);if(!ne&&!Je&&!$&&l>p||$&&ee&&pe&&!ne&&!Je||A&&ee&&pe||!w&&pe||!P)return 1;if(!A&&!$&&!Je&&l<p||Je&&w&&P&&!A&&!$||ne&&w&&P||!ee&&P||!pe)return-1}return 0}function C(l,p,w,A){for(var P=-1,$=l.length,ee=w.length,ne=-1,pe=p.length,Je=vi($-ee,0),et=Ne(pe+Je),at=!A;++ne<pe;)et[ne]=p[ne];for(;++P<ee;)(at||P<$)&&(et[w[P]]=l[P]);for(;Je--;)et[ne++]=l[P++];return et}function m(l,p,w,A){for(var P=-1,$=l.length,ee=-1,ne=w.length,pe=-1,Je=p.length,et=vi($-ne,0),at=Ne(et+Je),_t=!A;++P<et;)at[P]=l[P];for(var Zt=P;++pe<Je;)at[Zt+pe]=p[pe];for(;++ee<ne;)(_t||P<$)&&(at[Zt+w[ee]]=l[P++]);return at}function y(l,p){var w=-1,A=l.length;for(p||(p=Ne(A));++w<A;)p[w]=l[w];return p}function b(l,p,w,A){var P=!w;w||(w={});for(var $=-1,ee=p.length;++$<ee;){var ne=p[$],pe=A?A(w[ne],l[ne],ne,w,l):M;pe===M&&(pe=l[ne]),P?no(w,ne,pe):_o(w,ne,pe)}return w}function oe(l,p){return function(w,A){var P=Vn(w)?qe:Dn,$=p?p():{};return P(w,l,yn(A,2),$)}}function Te(l){return wn(function(p,w){var A=-1,P=w.length,$=P>1?w[P-1]:M,ee=P>2?w[2]:M;for($=l.length>3&&"function"==typeof $?(P--,$):M,ee&&js(w[0],w[1],ee)&&($=P<3?M:$,P=1),p=Lr(p);++A<P;){var ne=w[A];ne&&l(p,ne,A,$)}return p})}function ft(l,p){return function(w,A){if(null==w)return w;if(!Do(w))return l(w,A);for(var P=w.length,$=p?P:-1,ee=Lr(w);(p?$--:++$<P)&&!1!==A(ee[$],$,ee););return w}}function Et(l){return function(p,w,A){for(var P=-1,$=Lr(p),ee=A(p),ne=ee.length;ne--;){var pe=ee[l?ne:++P];if(!1===w($[pe],pe,$))break}return p}}function Yn(l){return function(p){var w=ya(p=pr(p))?mo(p):M,A=w?w[0]:p.charAt(0),P=w?au(w,1).join(""):p.slice(1);return A[l]()+P}}function wi(l){return function(p){return ar(Yc(da(p).replace(_c,"")),l,"")}}function vs(l){return function(){var p=arguments;switch(p.length){case 0:return new l;case 1:return new l(p[0]);case 2:return new l(p[0],p[1]);case 3:return new l(p[0],p[1],p[2]);case 4:return new l(p[0],p[1],p[2],p[3]);case 5:return new l(p[0],p[1],p[2],p[3],p[4]);case 6:return new l(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new l(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var w=Ke(l.prototype),A=l.apply(w,p);return Qr(A)?A:w}}function Hh(l){return function(p,w,A){var P=Lr(p);if(!Do(p)){var $=yn(w,3);p=ki(p),w=function(ne){return $(P[ne],ne,P)}}var ee=l(p,w,A);return ee>-1?P[$?p[ee]:ee]:M}}function Bc(l){return Aa(function(p){var w=p.length,A=w,P=fi.prototype.thru;for(l&&p.reverse();A--;){var $=p[A];if("function"!=typeof $)throw new eo(Ce);if(P&&!ee&&"wrapper"==zh($))var ee=new fi([],!0)}for(A=ee?A:w;++A<w;){var ne=zh($=p[A]),pe="wrapper"==ne?Ll($):M;ee=pe&&Hm(pe[0])&&424==pe[1]&&!pe[4].length&&1==pe[9]?ee[zh(pe[0])].apply(ee,pe[3]):1==$.length&&Hm($)?ee[ne]():ee.thru($)}return function(){var Je=arguments,et=Je[0];if(ee&&1==Je.length&&Vn(et))return ee.plant(et).value();for(var at=0,_t=w?p[at].apply(this,Je):et;++at<w;)_t=p[at].call(this,_t);return _t}})}function ua(l,p,w,A,P,$,ee,ne,pe,Je){var et=128&p,at=1&p,_t=2&p,Zt=24&p,pn=512&p,sr=_t?M:vs(l);return function un(){for(var or=arguments.length,dr=Ne(or),oo=or;oo--;)dr[oo]=arguments[oo];if(Zt)var Ks=Rp(un),ao=function jw(le,We){for(var Ne=le.length,Ft=0;Ne--;)le[Ne]===We&&++Ft;return Ft}(dr,Ks);if(A&&(dr=C(dr,A,P,Zt)),$&&(dr=m(dr,$,ee,Zt)),or-=ao,Zt&&or<Je){var Li=na(dr,Ks);return Ta(l,p,ua,un.placeholder,w,dr,Li,ne,pe,Je-or)}var Pa=at?w:this,Ra=_t?Pa[l]:l;return or=dr.length,ne?dr=function zm(l,p){for(var w=l.length,A=Ns(p.length,w),P=y(l);A--;){var $=p[A];l[A]=lu($,w)?P[$]:M}return l}(dr,ne):pn&&or>1&&dr.reverse(),et&&pe<or&&(dr.length=pe),this&&this!==ir&&this instanceof un&&(Ra=sr||vs(Ra)),Ra.apply(Pa,dr)}}function uu(l,p){return function(w,A){return function Nc(l,p,w,A){return qi(l,function(P,$,ee){p(A,w(P),$,ee)}),A}(w,l,p(A),{})}}function Ku(l,p){return function(w,A){var P;if(w===M&&A===M)return p;if(w!==M&&(P=w),A!==M){if(P===M)return A;"string"==typeof w||"string"==typeof A?(w=_s(w),A=_s(A)):(w=io(w),A=io(A)),P=l(w,A)}return P}}function Yu(l){return Aa(function(p){return p=Fn(p,Xs(yn())),wn(function(w){var A=this;return l(p,function(P){return Ee(P,A,w)})})})}function Bs(l,p){var w=(p=p===M?" ":_s(p)).length;if(w<2)return w?ba(p,l):p;var A=ba(p,Bu(l/Ic(p)));return ya(p)?au(mo(A),0,l).join(""):A.slice(0,l)}function ca(l){return function(p,w,A){return A&&"number"!=typeof A&&js(p,w,A)&&(w=A=M),p=Ho(p),w===M?(w=p,p=0):w=Ho(w),function Fc(l,p,w,A){for(var P=-1,$=vi(Bu((p-l)/(w||1)),0),ee=Ne($);$--;)ee[A?$:++P]=l,l+=w;return ee}(p,w,A=A===M?p<w?1:-1:Ho(A),l)}}function cu(l){return function(p,w){return"string"==typeof p&&"string"==typeof w||(p=Ur(p),w=Ur(w)),l(p,w)}}function Ta(l,p,w,A,P,$,ee,ne,pe,Je){var et=8&p;p|=et?32:64,4&(p&=~(et?64:32))||(p&=-4);var sr=[l,p,P,et?$:M,et?ee:M,et?M:$,et?M:ee,ne,pe,Je],un=w.apply(M,sr);return Hm(l)&&Ww(un,sr),un.placeholder=A,iv(un,l,p)}function $c(l){var p=ns[l];return function(w,A){if(w=Ur(w),(A=null==A?0:Ns(An(A),292))&&_d(w)){var P=(pr(w)+"e").split("e");return+((P=(pr(p(P[0]+"e"+(+P[1]+A)))+"e").split("e"))[0]+"e"+(+P[1]-A))}return p(w)}}var Gh=ju&&1/wc(new ju([,-0]))[1]==En?function(l){return new ju(l)}:Rf;function Lm(l){return function(p){var w=ws(p);return w==$n?ml(p):w==ur?function Cm(le){var We=-1,Ne=Array(le.size);return le.forEach(function(Ft){Ne[++We]=[Ft,Ft]}),Ne}(p):function wm(le,We){return Fn(We,function(Ne){return[Ne,le[Ne]]})}(p,l(p))}}function Qu(l,p,w,A,P,$,ee,ne){var pe=2&p;if(!pe&&"function"!=typeof l)throw new eo(Ce);var Je=A?A.length:0;if(Je||(p&=-97,A=P=M),ee=ee===M?ee:vi(An(ee),0),ne=ne===M?ne:An(ne),Je-=P?P.length:0,64&p){var et=A,at=P;A=P=M}var _t=pe?M:Ll(l),Zt=[l,p,w,A,P,et,at,$,ee,ne];if(_t&&function Kh(l,p){var w=l[1],A=p[1],P=w|A;if(!(P<131)&&!(128==A&&8==w||128==A&&256==w&&l[7].length<=p[8]||384==A&&p[7].length<=p[8]&&8==w))return l;1&A&&(l[2]=p[2],P|=1&w?0:4);var ne=p[3];if(ne){var pe=l[3];l[3]=pe?C(pe,ne,p[4]):ne,l[4]=pe?na(l[3],q):p[4]}(ne=p[5])&&(l[5]=(pe=l[5])?m(pe,ne,p[6]):ne,l[6]=pe?na(l[5],q):p[6]),(ne=p[7])&&(l[7]=ne),128&A&&(l[8]=null==l[8]?p[8]:Ns(l[8],p[8])),null==l[9]&&(l[9]=p[9]),l[0]=p[0],l[1]=P}(Zt,_t),l=Zt[0],p=Zt[1],w=Zt[2],A=Zt[3],P=Zt[4],!(ne=Zt[9]=Zt[9]===M?pe?0:l.length:vi(Zt[9]-Je,0))&&24&p&&(p&=-25),p&&1!=p)pn=8==p||16==p?function Da(l,p,w){var A=vs(l);return function P(){for(var $=arguments.length,ee=Ne($),ne=$,pe=Rp(P);ne--;)ee[ne]=arguments[ne];var Je=$<3&&ee[0]!==pe&&ee[$-1]!==pe?[]:na(ee,pe);return($-=Je.length)<w?Ta(l,p,ua,P.placeholder,M,ee,Je,M,M,w-$):Ee(this&&this!==ir&&this instanceof P?A:l,this,ee)}}(l,p,ne):32!=p&&33!=p||P.length?ua.apply(M,Zt):function jc(l,p,w,A){var P=1&p,$=vs(l);return function ee(){for(var ne=-1,pe=arguments.length,Je=-1,et=A.length,at=Ne(et+pe),_t=this&&this!==ir&&this instanceof ee?$:l;++Je<et;)at[Je]=A[Je];for(;pe--;)at[Je++]=arguments[++ne];return Ee(_t,P?w:this,at)}}(l,p,w,A);else var pn=function qt(l,p,w){var A=1&p,P=vs(l);return function $(){return(this&&this!==ir&&this instanceof $?P:l).apply(A?w:this,arguments)}}(l,p,w);return iv((_t?Rl:Ww)(pn,Zt),l,p)}function Fm(l,p,w,A){return l===M||bo(l,_a[w])&&!Cr.call(A,w)?p:l}function Hw(l,p,w,A,P,$){return Qr(l)&&Qr(p)&&($.set(p,l),Ol(l,p,M,Hw,$),$.delete(p)),l}function X_(l){return Tn(l)?M:l}function Gw(l,p,w,A,P,$){var ee=1&w,ne=l.length,pe=p.length;if(ne!=pe&&!(ee&&pe>ne))return!1;var Je=$.get(l),et=$.get(p);if(Je&&et)return Je==p&&et==l;var at=-1,_t=!0,Zt=2&w?new Ka:M;for($.set(l,p),$.set(p,l);++at<ne;){var pn=l[at],sr=p[at];if(A)var un=ee?A(sr,pn,at,p,l,$):A(pn,sr,at,l,p,$);if(un!==M){if(un)continue;_t=!1;break}if(Zt){if(!Ps(p,function(or,dr){if(!fl(Zt,dr)&&(pn===or||P(pn,or,w,A,$)))return Zt.push(dr)})){_t=!1;break}}else if(pn!==sr&&!P(pn,sr,w,A,$)){_t=!1;break}}return $.delete(l),$.delete(p),_t}function Aa(l){return rv($s(l,M,Fd),l+"")}function ev(l){return xl(l,ki,Eo)}function Um(l){return xl(l,ls,Hc)}var Ll=xh?function(l){return xh.get(l)}:Rf;function zh(l){for(var p=l.name+"",w=$u[p],A=Cr.call($u,p)?w.length:0;A--;){var P=w[A],$=P.func;if(null==$||$==l)return P.name}return p}function Rp(l){return(Cr.call(U,"placeholder")?U:l).placeholder}function yn(){var l=U.iteratee||Qc;return l=l===Qc?Cd:l,arguments.length?l(arguments[0],arguments[1]):l}function Fl(l,p){var w=l.__data__;return function Zh(l){var p=typeof l;return"string"==p||"number"==p||"symbol"==p||"boolean"==p?"__proto__"!==l:null===l}(p)?w["string"==typeof p?"string":"hash"]:w.map}function Vm(l){for(var p=ki(l),w=p.length;w--;){var A=p[w],P=l[A];p[w]=[A,P,Nd(P)]}return p}function Ju(l,p){var w=function Ha(le,We){return null==le?M:le[We]}(l,p);return zu(w)?w:M}var Eo=rs?function(l){return null==l?[]:(l=Lr(l),Gt(rs(l),function(p){return Uu.call(l,p)}))}:ql,Hc=rs?function(l){for(var p=[];l;)hr(p,Eo(l)),l=Fu(l);return p}:ql,ws=Fr;function Gc(l,p,w){for(var A=-1,P=(p=Us(p,l)).length,$=!1;++A<P;){var ee=du(p[A]);if(!($=null!=l&&w(l,ee)))break;l=l[ee]}return $||++A!=P?$:!!(P=null==l?0:l.length)&&Ni(P)&&lu(ee,P)&&(Vn(l)||Gd(l))}function qh(l){return"function"!=typeof l.constructor||Rd(l)?{}:Ke(Fu(l))}function $m(l){return Vn(l)||Gd(l)||!!(vp&&l&&l[vp])}function lu(l,p){var w=typeof l;return!!(p=p??an)&&("number"==w||"symbol"!=w&&St.test(l))&&l>-1&&l%1==0&&l<p}function js(l,p,w){if(!Qr(w))return!1;var A=typeof p;return!!("number"==A?Do(w)&&lu(p,w.length):"string"==A&&p in w)&&bo(w[p],l)}function Pd(l,p){if(Vn(l))return!1;var w=typeof l;return!("number"!=w&&"symbol"!=w&&"boolean"!=w&&null!=l&&!Ws(l))||V.test(l)||!X.test(l)||null!=p&&l in Lr(p)}function Hm(l){var p=zh(l),w=U[p];if("function"!=typeof w||!(p in nr.prototype))return!1;if(l===w)return!0;var A=Ll(w);return!!A&&l===A[0]}(Mh&&ws(new Mh(new ArrayBuffer(1)))!=Sn||ti&&ws(new ti)!=$n||Cl&&ws(Cl.resolve())!=Or||ju&&ws(new ju)!=ur||on&&ws(new on)!=zt)&&(ws=function(l){var p=Fr(l),w=p==vr?l.constructor:M,A=w?Sa(w):"";if(A)switch(A){case Ep:return Sn;case Sm:return $n;case Sc:return Or;case Wa:return ur;case bl:return zt}return p});var tv=pd?Ma:Py;function Rd(l){var p=l&&l.constructor;return l===("function"==typeof p&&p.prototype||_a)}function Nd(l){return l==l&&!Qr(l)}function nv(l,p){return function(w){return null!=w&&w[l]===p&&(p!==M||l in Lr(w))}}function $s(l,p,w){return p=vi(p===M?l.length-1:p,0),function(){for(var A=arguments,P=-1,$=vi(A.length-p,0),ee=Ne($);++P<$;)ee[P]=A[p+P];P=-1;for(var ne=Ne(p+1);++P<p;)ne[P]=A[P];return ne[p]=w(ee),Ee(l,this,ne)}}function Vl(l,p){return p.length<2?l:wa(l,Bo(p,0,-1))}function Lp(l,p){if(("constructor"!==p||"function"!=typeof l[p])&&"__proto__"!=p)return l[p]}var Ww=sv(Rl),Yh=Mr||function(l,p){return ir.setTimeout(l,p)},rv=sv(Rm);function iv(l,p,w){var A=p+"";return rv(l,function Wh(l,p){var w=p.length;if(!w)return l;var A=w-1;return p[A]=(w>1?"& ":"")+p[A],p=p.join(w>2?", ":" "),l.replace(Qt,"{\n/* [wrapped with "+p+"] */\n")}(A,function $o(l,p){return nt($e,function(w){var A="_."+w[0];p&w[1]&&!fn(l,A)&&l.push(A)}),l.sort()}(function Od(l){var p=l.match(Ct);return p?p[1].split(Zn):[]}(A),w)))}function sv(l){var p=0,w=0;return function(){var A=vd(),P=16-(A-w);if(w=A,P>0){if(++p>=800)return arguments[0]}else p=0;return l.apply(M,arguments)}}function Fp(l,p){var w=-1,A=l.length,P=A-1;for(p=p===M?A:p;++w<p;){var $=Lc(w,P),ee=l[$];l[$]=l[w],l[w]=ee}return l.length=p,l}var ov=function Io(l){var p=df(l,function(A){return 500===w.size&&w.clear(),A}),w=p.cache;return p}(function(l){var p=[];return 46===l.charCodeAt(0)&&p.push(""),l.replace(j,function(w,A,P,$){p.push(P?$.replace(Cn,"$1"):A||w)}),p});function du(l){if("string"==typeof l||Ws(l))return l;var p=l+"";return"0"==p&&1/l==-En?"-0":p}function Sa(l){if(null!=l){try{return wl.call(l)}catch{}try{return l+""}catch{}}return""}function av(l){if(l instanceof nr)return l.clone();var p=new fi(l.__wrapped__,l.__chain__);return p.__actions__=y(l.__actions__),p.__index__=l.__index__,p.__values__=l.__values__,p}var uv=wn(function(l,p){return ni(l)?Ja(l,Pi(p,1,ni,!0)):[]}),qm=wn(function(l,p){var w=Es(p);return ni(w)&&(w=M),ni(l)?Ja(l,Pi(p,1,ni,!0),yn(w,2)):[]}),Qh=wn(function(l,p){var w=Es(p);return ni(w)&&(w=M),ni(l)?Ja(l,Pi(p,1,ni,!0),M,w):[]});function cv(l,p,w){var A=null==l?0:l.length;if(!A)return-1;var P=null==w?0:An(w);return P<0&&(P=vi(A+P,0)),dl(l,yn(p,3),P)}function Ld(l,p,w){var A=null==l?0:l.length;if(!A)return-1;var P=A-1;return w!==M&&(P=An(w),P=w<0?vi(A+P,0):Ns(P,A-1)),dl(l,yn(p,3),P,!0)}function Fd(l){return null!=l&&l.length?Pi(l,1):[]}function Wm(l){return l&&l.length?l[0]:M}var lv=wn(function(l){var p=Fn(l,Bh);return p.length&&p[0]===l[0]?us(p):[]}),Jw=wn(function(l){var p=Es(l),w=Fn(l,Bh);return p===Es(w)?p=M:w.pop(),w.length&&w[0]===l[0]?us(w,yn(p,2)):[]}),dv=wn(function(l){var p=Es(l),w=Fn(l,Bh);return(p="function"==typeof p?p:M)&&w.pop(),w.length&&w[0]===l[0]?us(w,M,p):[]});function Es(l){var p=null==l?0:l.length;return p?l[p-1]:M}var fv=wn(pv);function pv(l,p){return l&&l.length&&p&&p.length?Dd(l,p):l}var Xw=Aa(function(l,p){var w=null==l?0:l.length,A=Uo(l,p);return Uh(l,Fn(p,function(P){return lu(P,w)?+P:P}).sort(Pp)),A});function $p(l){return null==l?l:Il.call(l)}var tE=wn(function(l){return jo(Pi(l,1,ni,!0))}),nE=wn(function(l){var p=Es(l);return ni(p)&&(p=M),jo(Pi(l,1,ni,!0),yn(p,2))}),yv=wn(function(l){var p=Es(l);return p="function"==typeof p?p:M,jo(Pi(l,1,ni,!0),M,p)});function zc(l){if(!l||!l.length)return[];var p=0;return l=Gt(l,function(w){if(ni(w))return p=vi(w.length,p),!0}),vm(p,function(w){return Fn(l,hd(w))})}function _v(l,p){if(!l||!l.length)return[];var w=zc(l);return null==p?w:Fn(w,function(A){return Ee(p,M,A)})}var rE=wn(function(l,p){return ni(l)?Ja(l,p):[]}),Tb=wn(function(l){return cs(Gt(l,ni))}),vv=wn(function(l){var p=Es(l);return ni(p)&&(p=M),cs(Gt(l,ni),yn(p,2))}),wv=wn(function(l){var p=Es(l);return p="function"==typeof p?p:M,cs(Gt(l,ni),M,p)}),Ev=wn(zc),ny=wn(function(l){var p=l.length,w=p>1?l[p-1]:M;return w="function"==typeof w?(l.pop(),w):M,_v(l,w)});function ry(l){var p=U(l);return p.__chain__=!0,p}function rf(l,p){return p(l)}var Cv=Aa(function(l){var p=l.length,w=p?l[0]:0,A=this.__wrapped__,P=function($){return Uo($,l)};return!(p>1||this.__actions__.length)&&A instanceof nr&&lu(w)?((A=A.slice(w,+w+(p?1:0))).__actions__.push({func:rf,args:[P],thisArg:M}),new fi(A,this.__chain__).thru(function($){return p&&!$.length&&$.push(M),$})):this.thru(P)}),qp=oe(function(l,p,w){Cr.call(l,w)?++l[w]:no(l,w,1)}),Ab=Hh(cv),Sb=Hh(Ld);function Tv(l,p){return(Vn(l)?nt:Vo)(l,yn(p,3))}function Av(l,p){return(Vn(l)?yt:Xa)(l,yn(p,3))}var sf=oe(function(l,p,w){Cr.call(l,w)?l[w].push(p):no(l,w,[p])}),ec=wn(function(l,p,w){var A=-1,P="function"==typeof p,$=Do(l)?Ne(l.length):[];return Vo(l,function(ee){$[++A]=P?Ee(p,ee,w):Ea(ee,p,w)}),$}),af=oe(function(l,p,w){no(l,w,p)});function uf(l,p){return(Vn(l)?Fn:ru)(l,yn(p,3))}var Wi=oe(function(l,p,w){l[w?0:1].push(p)},function(){return[[],[]]}),lE=wn(function(l,p){if(null==l)return[];var w=p.length;return w>1&&js(l,p[0],p[1])?p=[]:w>2&&js(p[0],p[1],p[2])&&(p=[p[0]]),Ti(l,Pi(p,1),[])}),jd=yd||function(){return ir.Date.now()};function dE(l,p,w){return p=w?M:p,Qu(l,128,M,M,M,M,p=l&&null==p?l.length:p)}function Yp(l,p){var w;if("function"!=typeof p)throw new eo(Ce);return l=An(l),function(){return--l>0&&(w=p.apply(this,arguments)),l<=1&&(p=M),w}}var Co=wn(function(l,p,w){var A=1;if(w.length){var P=na(w,Rp(Co));A|=32}return Qu(l,A,p,w,P)}),xv=wn(function(l,p,w){var A=3;if(w.length){var P=na(w,Rp(xv));A|=32}return Qu(p,A,l,w,P)});function $d(l,p,w){var A,P,$,ee,ne,pe,Je=0,et=!1,at=!1,_t=!0;if("function"!=typeof l)throw new eo(Ce);function Zt(Li){var Pa=A,Ra=P;return A=P=M,Je=Li,ee=l.apply(Ra,Pa)}function un(Li){var Pa=Li-pe;return pe===M||Pa>=p||Pa<0||at&&Li-Je>=$}function or(){var Li=jd();if(un(Li))return dr(Li);ne=Yh(or,function sr(Li){var t0=p-(Li-pe);return at?Ns(t0,$-(Li-Je)):t0}(Li))}function dr(Li){return ne=M,_t&&A?Zt(Li):(A=P=M,ee)}function ao(){var Li=jd(),Pa=un(Li);if(A=arguments,P=this,pe=Li,Pa){if(ne===M)return function pn(Li){return Je=Li,ne=Yh(or,p),et?Zt(Li):ee}(pe);if(at)return jh(ne),ne=Yh(or,p),Zt(pe)}return ne===M&&(ne=Yh(or,p)),ee}return p=Ur(p)||0,Qr(w)&&(et=!!w.leading,$=(at="maxWait"in w)?vi(Ur(w.maxWait)||0,p):$,_t="trailing"in w?!!w.trailing:_t),ao.cancel=function oo(){ne!==M&&jh(ne),Je=0,A=pe=P=ne=M},ao.flush=function Ks(){return ne===M?ee:dr(jd())},ao}var Ov=wn(function(l,p){return Hu(l,1,p)}),Pv=wn(function(l,p,w){return Hu(l,Ur(p)||0,w)});function df(l,p){if("function"!=typeof l||null!=p&&"function"!=typeof p)throw new eo(Ce);var w=function(){var A=arguments,P=p?p.apply(this,A):A[0],$=w.cache;if($.has(P))return $.get(P);var ee=l.apply(this,A);return w.cache=$.set(P,ee)||$,ee};return w.cache=new(df.Cache||sa),w}function Qp(l){if("function"!=typeof l)throw new eo(Ce);return function(){var p=arguments;switch(p.length){case 0:return!l.call(this);case 1:return!l.call(this,p[0]);case 2:return!l.call(this,p[0],p[1]);case 3:return!l.call(this,p[0],p[1],p[2])}return!l.apply(this,p)}}df.Cache=sa;var Rv=Md(function(l,p){var w=(p=1==p.length&&Vn(p[0])?Fn(p[0],Xs(yn())):Fn(Pi(p,1),Xs(yn()))).length;return wn(function(A){for(var P=-1,$=Ns(A.length,w);++P<$;)A[P]=p[P].call(this,A[P]);return Ee(l,this,A)})}),uy=wn(function(l,p){var w=na(p,Rp(uy));return Qu(l,32,M,p,w)}),Nv=wn(function(l,p){var w=na(p,Rp(Nv));return Qu(l,64,M,p,w)}),nA=Aa(function(l,p){return Qu(l,256,M,M,M,p)});function bo(l,p){return l===p||l!=l&&p!=p}var pE=cu(Er),ly=cu(function(l,p){return l>=p}),Gd=Mp(function(){return arguments}())?Mp:function(l){return Si(l)&&Cr.call(l,"callee")&&!Uu.call(l,"callee")},Vn=Ne.isArray,gE=ll?Xs(ll):function Ri(l){return Si(l)&&Fr(l)==Vr};function Do(l){return null!=l&&Ni(l.length)&&!Ma(l)}function ni(l){return Si(l)&&Do(l)}var Se=K_||Py,ff=ta?Xs(ta):function nu(l){return Si(l)&&Fr(l)==Bt};function Wc(l){if(!Si(l))return!1;var p=Fr(l);return p==Pt||"[object DOMException]"==p||"string"==typeof l.message&&"string"==typeof l.name&&!Tn(l)}function Ma(l){if(!Qr(l))return!1;var p=Fr(l);return p==Pn||p==Dr||"[object AsyncFunction]"==p||"[object Proxy]"==p}function Vv(l){return"number"==typeof l&&l==An(l)}function Ni(l){return"number"==typeof l&&l>-1&&l%1==0&&l<=an}function Qr(l){var p=typeof l;return null!=l&&("object"==p||"function"==p)}function Si(l){return null!=l&&"object"==typeof l}var pf=go?Xs(go):function Id(l){return Si(l)&&ws(l)==$n};function hy(l){return"number"==typeof l||Si(l)&&Fr(l)==kn}function Tn(l){if(!Si(l)||Fr(l)!=vr)return!1;var p=Fu(l);if(null===p)return!0;var w=Cr.call(p,"constructor")&&p.constructor;return"function"==typeof w&&w instanceof w&&wl.call(w)==Am}var zd=W?Xs(W):function xp(l){return Si(l)&&Fr(l)==qn},_E=G?Xs(G):function Nh(l){return Si(l)&&ws(l)==ur};function mf(l){return"string"==typeof l||!Vn(l)&&Si(l)&&Fr(l)==ui}function Ws(l){return"symbol"==typeof l||Si(l)&&Fr(l)==kt}var qd=Z?Xs(Z):function qu(l){return Si(l)&&Ni(l.length)&&!!Gn[Fr(l)]},Zi=cu(aa),gu=cu(function(l,p){return l<=p});function Wd(l){if(!l)return[];if(Do(l))return mf(l)?mo(l):y(l);if(Vu&&l[Vu])return function zi(le){for(var We,Ne=[];!(We=le.next()).done;)Ne.push(We.value);return Ne}(l[Vu]());var p=ws(l);return(p==$n?ml:p==ur?wc:Zc)(l)}function Ho(l){return l?(l=Ur(l))===En||l===-En?17976931348623157e292*(l<0?-1:1):l==l?l:0:0===l?l:0}function An(l){var p=Ho(l),w=p%1;return p==p?w?p-w:p:0}function yf(l){return l?Ls(An(l),0,Ie):0}function Ur(l){if("number"==typeof l)return l;if(Ws(l))return NaN;if(Qr(l)){var p="function"==typeof l.valueOf?l.valueOf():l;l=Qr(p)?p+"":p}if("string"!=typeof l)return 0===l?l:+l;l=q_(l);var w=vt.test(l);return w||Jt.test(l)?nn(l.slice(2),w?2:8):De.test(l)?NaN:+l}function _f(l){return b(l,ls(l))}function pr(l){return null==l?"":_s(l)}var To=Te(function(l,p){if(Rd(p)||Do(p))b(p,ki(p),l);else for(var w in p)Cr.call(p,w)&&_o(l,w,p[w])}),ng=Te(function(l,p){b(p,ls(p),l)}),vf=Te(function(l,p,w,A){b(p,ls(p),l,A)}),vE=Te(function(l,p,w,A){b(p,ki(p),l,A)}),Zd=Aa(Uo),ig=wn(function(l,p){l=Lr(l);var w=-1,A=p.length,P=A>2?p[2]:M;for(P&&js(p[0],p[1],P)&&(A=1);++w<A;)for(var $=p[w],ee=ls($),ne=-1,pe=ee.length;++ne<pe;){var Je=ee[ne],et=l[Je];(et===M||bo(et,_a[Je])&&!Cr.call(l,Je))&&(l[Je]=$[Je])}return l}),Bv=wn(function(l){return l.push(M,Hw),Ee(my,M,l)});function Yd(l,p,w){var A=null==l?M:wa(l,p);return A===M?w:A}function ag(l,p){return null!=l&&Gc(l,p,Rc)}var If=uu(function(l,p,w){null!=p&&"function"!=typeof p.toString&&(p=Cc.call(p)),l[p]=w},yg(ds)),jv=uu(function(l,p,w){null!=p&&"function"!=typeof p.toString&&(p=Cc.call(p)),Cr.call(l,p)?l[p].push(w):l[p]=[w]},yn),Rb=wn(Ea);function ki(l){return Do(l)?Sl(l):kc(l)}function ls(l){return Do(l)?Sl(l,!0):function Un(l){if(!Qr(l))return function Gm(l){var p=[];if(null!=l)for(var w in Lr(l))p.push(w);return p}(l);var p=Rd(l),w=[];for(var A in l)"constructor"==A&&(p||!Cr.call(l,A))||w.push(A);return w}(l)}var Qd=Te(function(l,p,w){Ol(l,p,w)}),my=Te(function(l,p,w,A){Ol(l,p,w,A)}),Cf=Aa(function(l,p){var w={};if(null==l)return w;var A=!1;p=Fn(p,function($){return $=Us($,l),A||(A=$.length>1),$}),b(l,Um(l),w),A&&(w=Gr(w,7,X_));for(var P=p.length;P--;)ai(w,p[P]);return w}),_y=Aa(function(l,p){return null==l?{}:function iu(l,p){return Fh(l,p,function(w,A){return ag(l,A)})}(l,p)});function ug(l,p){if(null==l)return{};var w=Fn(Um(l),function(A){return[A]});return p=yn(p),Fh(l,w,function(A,P){return p(A,P[0])})}var CE=Lm(ki),bf=Lm(ls);function Zc(l){return null==l?[]:hl(l,ki(l))}var Df=wi(function(l,p,w){return p=p.toLowerCase(),l+(w?Tf(p):p)});function Tf(l){return Ty(pr(l).toLowerCase())}function da(l){return(l=pr(l))&&l.replace(cr,Em).replace(ea,"")}var Kc=wi(function(l,p,w){return l+(w?"-":"")+p.toLowerCase()}),Cy=wi(function(l,p,w){return l+(w?" ":"")+p.toLowerCase()}),bE=Yn("toLowerCase"),qv=wi(function(l,p,w){return l+(w?"_":"")+p.toLowerCase()}),Wv=wi(function(l,p,w){return l+(w?" ":"")+Ty(p)}),TE=wi(function(l,p,w){return l+(w?" ":"")+p.toUpperCase()}),Ty=Yn("toUpperCase");function Yc(l,p,w){return l=pr(l),(p=w?M:p)===M?function gl(le){return mt.test(le)}(l)?function _l(le){return le.match(Ru)||[]}(l):function Rs(le){return le.match(rn)||[]}(l):l.match(p)||[]}var mg=wn(function(l,p){try{return Ee(l,M,p)}catch(w){return Wc(w)?w:new Nn(w)}}),nc=Aa(function(l,p){return nt(p,function(w){w=du(w),no(l,w,Co(l[w],l))}),l});function yg(l){return function(){return l}}var Ay=Bc(),Jd=Bc(!0);function ds(l){return l}function Qc(l){return Cd("function"==typeof l?l:Gr(l,1))}var My=wn(function(l,p){return function(w){return Ea(w,l,p)}}),Of=wn(function(l,p){return function(w){return Ea(l,w,p)}});function Pf(l,p,w){var A=ki(p),P=os(p,A);null==w&&(!Qr(p)||!P.length&&A.length)&&(w=p,p=l,l=this,P=os(p,ki(p)));var $=!(Qr(w)&&"chain"in w&&!w.chain),ee=Ma(l);return nt(P,function(ne){var pe=p[ne];l[ne]=pe,ee&&(l.prototype[ne]=function(){var Je=this.__chain__;if($||Je){var et=l(this.__wrapped__);return(et.__actions__=y(this.__actions__)).push({func:pe,args:arguments,thisArg:l}),et.__chain__=Je,et}return pe.apply(l,hr([this.value()],arguments))})}),l}function Rf(){}var _g=Yu(Fn),Yv=Yu(Ht),kb=Yu(Ps);function Oy(l){return Pd(l)?hd(du(l)):function bd(l){return function(p){return wa(p,l)}}(l)}var vg=ca(),AE=ca(!0);function ql(){return[]}function Py(){return!1}var wg=Ku(function(l,p){return l+p},0),Xv=$c("ceil"),nh=Ku(function(l,p){return l/p},1),Ry=$c("floor"),Ig=Ku(function(l,p){return l*p},1),Jr=$c("round"),rh=Ku(function(l,p){return l-p},0);return U.after=function Mv(l,p){if("function"!=typeof p)throw new eo(Ce);return l=An(l),function(){if(--l<1)return p.apply(this,arguments)}},U.ary=dE,U.assign=To,U.assignIn=ng,U.assignInWith=vf,U.assignWith=vE,U.at=Zd,U.before=Yp,U.bind=Co,U.bindAll=nc,U.bindKey=xv,U.castArray=function Lv(){if(!arguments.length)return[];var l=arguments[0];return Vn(l)?l:[l]},U.chain=ry,U.chunk=function Xu(l,p,w){p=(w?js(l,p,w):p===M)?1:vi(An(p),0);var A=null==l?0:l.length;if(!A||p<1)return[];for(var P=0,$=0,ee=Ne(Bu(A/p));P<A;)ee[$++]=Bo(l,P,P+=p);return ee},U.compact=function bb(l){for(var p=-1,w=null==l?0:l.length,A=0,P=[];++p<w;){var $=l[p];$&&(P[A++]=$)}return P},U.concat=function Zw(){var l=arguments.length;if(!l)return[];for(var p=Ne(l-1),w=arguments[0],A=l;A--;)p[A-1]=arguments[A];return hr(Vn(w)?y(w):[w],Pi(p,1))},U.cond=function mu(l){var p=null==l?0:l.length,w=yn();return l=p?Fn(l,function(A){if("function"!=typeof A[1])throw new eo(Ce);return[w(A[0]),A[1]]}):[],wn(function(A){for(var P=-1;++P<p;){var $=l[P];if(Ee($[0],this,A))return Ee($[1],this,A)}})},U.conforms=function yu(l){return function xc(l){var p=ki(l);return function(w){return Qa(w,l,p)}}(Gr(l,1))},U.constant=yg,U.countBy=qp,U.create=function rg(l,p){var w=Ke(l);return null==p?w:Ap(w,p)},U.curry=function ay(l,p,w){var A=Qu(l,8,M,M,M,M,M,p=w?M:p);return A.placeholder=ay.placeholder,A},U.curryRight=function hE(l,p,w){var A=Qu(l,16,M,M,M,M,M,p=w?M:p);return A.placeholder=hE.placeholder,A},U.debounce=$d,U.defaults=ig,U.defaultsDeep=Bv,U.defer=Ov,U.delay=Pv,U.difference=uv,U.differenceBy=qm,U.differenceWith=Qh,U.drop=function kd(l,p,w){var A=null==l?0:l.length;return A?Bo(l,(p=w||p===M?1:An(p))<0?0:p,A):[]},U.dropRight=function Up(l,p,w){var A=null==l?0:l.length;return A?Bo(l,0,(p=A-(p=w||p===M?1:An(p)))<0?0:p):[]},U.dropRightWhile=function Bl(l,p){return l&&l.length?wo(l,yn(p,3),!0,!0):[]},U.dropWhile=function jl(l,p){return l&&l.length?wo(l,yn(p,3),!0):[]},U.fill=function Vp(l,p,w,A){var P=null==l?0:l.length;return P?(w&&"number"!=typeof w&&js(l,p,w)&&(w=0,A=P),function eu(l,p,w,A){var P=l.length;for((w=An(w))<0&&(w=-w>P?0:P+w),(A=A===M||A>P?P:An(A))<0&&(A+=P),A=w>A?0:yf(A);w<A;)l[w++]=p;return l}(l,p,w,A)):[]},U.filter=function oE(l,p){return(Vn(l)?Gt:Oc)(l,yn(p,3))},U.flatMap=function Mb(l,p){return Pi(uf(l,p),1)},U.flatMapDeep=function Dv(l,p){return Pi(uf(l,p),En)},U.flatMapDepth=function Wp(l,p,w){return w=w===M?1:An(w),Pi(uf(l,p),w)},U.flatten=Fd,U.flattenDeep=function Kw(l){return null!=l&&l.length?Pi(l,En):[]},U.flattenDepth=function Yw(l,p){return null!=l&&l.length?Pi(l,p=p===M?1:An(p)):[]},U.flip=function lf(l){return Qu(l,512)},U.flow=Ay,U.flowRight=Jd,U.fromPairs=function Qw(l){for(var p=-1,w=null==l?0:l.length,A={};++p<w;){var P=l[p];A[P[0]]=P[1]}return A},U.functions=function sg(l){return null==l?[]:os(l,ki(l))},U.functionsIn=function og(l){return null==l?[]:os(l,ls(l))},U.groupBy=sf,U.initial=function Zm(l){return null!=l&&l.length?Bo(l,0,-1):[]},U.intersection=lv,U.intersectionBy=Jw,U.intersectionWith=dv,U.invert=If,U.invertBy=jv,U.invokeMap=ec,U.iteratee=Qc,U.keyBy=af,U.keys=ki,U.keysIn=ls,U.map=uf,U.mapKeys=function IE(l,p){var w={};return p=yn(p,3),qi(l,function(A,P,$){no(w,p(A,P,$),A)}),w},U.mapValues=function Gl(l,p){var w={};return p=yn(p,3),qi(l,function(A,P,$){no(w,P,p(A,P,$))}),w},U.matches=function Xd(l){return Ca(Gr(l,1))},U.matchesProperty=function Sy(l,p){return kh(l,Gr(p,1))},U.memoize=df,U.merge=Qd,U.mergeWith=my,U.method=My,U.methodOf=Of,U.mixin=Pf,U.negate=Qp,U.nthArg=function Nf(l){return l=An(l),wn(function(p){return Lh(p,l)})},U.omit=Cf,U.omitBy=function yy(l,p){return ug(l,Qp(yn(p)))},U.once=function Ob(l){return Yp(2,l)},U.orderBy=function Sv(l,p,w,A){return null==l?[]:(Vn(p)||(p=null==p?[]:[p]),Vn(w=A?M:w)||(w=null==w?[]:[w]),Ti(l,p,w))},U.over=_g,U.overArgs=Rv,U.overEvery=Yv,U.overSome=kb,U.partial=uy,U.partialRight=Nv,U.partition=Wi,U.pick=_y,U.pickBy=ug,U.property=Oy,U.propertyOf=function kf(l){return function(p){return null==l?M:wa(l,p)}},U.pull=fv,U.pullAll=pv,U.pullAllBy=function Db(l,p,w){return l&&l.length&&p&&p.length?Dd(l,p,yn(w,2)):l},U.pullAllWith=function jp(l,p,w){return l&&l.length&&p&&p.length?Dd(l,p,M,w):l},U.pullAt=Xw,U.range=vg,U.rangeRight=AE,U.rearg=nA,U.reject=function Kp(l,p){return(Vn(l)?Gt:Oc)(l,Qp(yn(p,3)))},U.remove=function gv(l,p){var w=[];if(!l||!l.length)return w;var A=-1,P=[],$=l.length;for(p=yn(p,3);++A<$;){var ee=l[A];p(ee,A,l)&&(w.push(ee),P.push(A))}return Uh(l,P),w},U.rest=function rA(l,p){if("function"!=typeof l)throw new eo(Ce);return wn(l,p=p===M?p:An(p))},U.reverse=$p,U.sampleSize=function oy(l,p,w){return p=(w?js(l,p,w):p===M)?1:An(p),(Vn(l)?ks:su)(l,p)},U.set=function vy(l,p,w){return null==l?l:rr(l,p,w)},U.setWith=function lg(l,p,w,A){return A="function"==typeof A?A:M,null==l?l:rr(l,p,w,A)},U.shuffle=function uE(l){return(Vn(l)?va:Wu)(l)},U.slice=function Km(l,p,w){var A=null==l?0:l.length;return A?(w&&"number"!=typeof w&&js(l,p,w)?(p=0,w=A):(p=null==p?0:An(p),w=w===M?A:An(w)),Bo(l,p,w)):[]},U.sortBy=lE,U.sortedUniq=function Hp(l){return l&&l.length?Ad(l):[]},U.sortedUniqBy=function mv(l,p){return l&&l.length?Ad(l,yn(p,2)):[]},U.split=function Ki(l,p,w){return w&&"number"!=typeof w&&js(l,p,w)&&(p=w=M),(w=w===M?Ie:w>>>0)?(l=pr(l))&&("string"==typeof p||null!=p&&!zd(p))&&!(p=_s(p))&&ya(l)?au(mo(l),0,w):l.split(p,w):[]},U.spread=function hf(l,p){if("function"!=typeof l)throw new eo(Ce);return p=null==p?0:vi(An(p),0),wn(function(w){var A=w[p],P=au(w,0,p);return A&&hr(P,A),Ee(l,this,P)})},U.tail=function ef(l){var p=null==l?0:l.length;return p?Bo(l,1,p):[]},U.take=function tf(l,p,w){return l&&l.length?Bo(l,0,(p=w||p===M?1:An(p))<0?0:p):[]},U.takeRight=function Xm(l,p,w){var A=null==l?0:l.length;return A?Bo(l,(p=A-(p=w||p===M?1:An(p)))<0?0:p,A):[]},U.takeRightWhile=function ey(l,p){return l&&l.length?wo(l,yn(p,3),!1,!0):[]},U.takeWhile=function eE(l,p){return l&&l.length?wo(l,yn(p,3)):[]},U.tap=function Iv(l,p){return p(l),l},U.throttle=function Rr(l,p,w){var A=!0,P=!0;if("function"!=typeof l)throw new eo(Ce);return Qr(w)&&(A="leading"in w?!!w.leading:A,P="trailing"in w?!!w.trailing:P),$d(l,p,{leading:A,maxWait:p,trailing:P})},U.thru=rf,U.toArray=Wd,U.toPairs=CE,U.toPairsIn=bf,U.toPath=function th(l){return Vn(l)?Fn(l,du):Ws(l)?[l]:y(ov(pr(l)))},U.toPlainObject=_f,U.transform=function wy(l,p,w){var A=Vn(l),P=A||Se(l)||qd(l);if(p=yn(p,4),null==w){var $=l&&l.constructor;w=P?A?new $:[]:Qr(l)&&Ma($)?Ke(Fu(l)):{}}return(P?nt:qi)(l,function(ee,ne,pe){return p(w,ee,ne,pe)}),w},U.unary=function Hd(l){return dE(l,1)},U.union=tE,U.unionBy=nE,U.unionWith=yv,U.uniq=function nf(l){return l&&l.length?jo(l):[]},U.uniqBy=function Gp(l,p){return l&&l.length?jo(l,yn(p,2)):[]},U.uniqWith=function ty(l,p){return p="function"==typeof p?p:M,l&&l.length?jo(l,M,p):[]},U.unset=function Ey(l,p){return null==l||ai(l,p)},U.unzip=zc,U.unzipWith=_v,U.update=function $v(l,p,w){return null==l?l:Sd(l,p,ou(w))},U.updateWith=function Hv(l,p,w,A){return A="function"==typeof A?A:M,null==l?l:Sd(l,p,ou(w),A)},U.values=Zc,U.valuesIn=function dg(l){return null==l?[]:hl(l,ls(l))},U.without=rE,U.words=Yc,U.wrap=function kv(l,p){return uy(ou(p),l)},U.xor=Tb,U.xorBy=vv,U.xorWith=wv,U.zip=Ev,U.zipObject=function Hl(l,p){return Zu(l||[],p||[],_o)},U.zipObjectDeep=function zp(l,p){return Zu(l||[],p||[],rr)},U.zipWith=ny,U.entries=CE,U.entriesIn=bf,U.extend=ng,U.extendWith=vf,Pf(U,U),U.add=wg,U.attempt=mg,U.camelCase=Df,U.capitalize=Tf,U.ceil=Xv,U.clamp=function Iy(l,p,w){return w===M&&(w=p,p=M),w!==M&&(w=(w=Ur(w))==w?w:0),p!==M&&(p=(p=Ur(p))==p?p:0),Ls(Ur(l),p,w)},U.clone=function Jp(l){return Gr(l,4)},U.cloneDeep=function fE(l){return Gr(l,5)},U.cloneDeepWith=function Fv(l,p){return Gr(l,5,p="function"==typeof p?p:M)},U.cloneWith=function cy(l,p){return Gr(l,4,p="function"==typeof p?p:M)},U.conformsTo=function Uv(l,p){return null==p||Qa(l,p,ki(p))},U.deburr=da,U.defaultTo=function so(l,p){return null==l||l!=l?p:l},U.divide=nh,U.endsWith=function Gv(l,p,w){l=pr(l),p=_s(p);var A=l.length,P=w=w===M?A:Ls(An(w),0,A);return(w-=p.length)>=0&&l.slice(w,P)==p},U.eq=bo,U.escape=function Nb(l){return(l=pr(l))&&At.test(l)?l.replace(Re,Im):l},U.escapeRegExp=function hg(l){return(l=pr(l))&&ce.test(l)?l.replace(k,"\\$&"):l},U.every=function sE(l,p,w){var A=Vn(l)?Ht:Ml;return w&&js(l,p,w)&&(p=M),A(l,yn(p,3))},U.find=Ab,U.findIndex=cv,U.findKey=function wE(l,p){return Nu(l,yn(p,3),qi)},U.findLast=Sb,U.findLastIndex=Ld,U.findLastKey=function EE(l,p){return Nu(l,yn(p,3),Pc)},U.floor=Ry,U.forEach=Tv,U.forEachRight=Av,U.forIn=function py(l,p){return null==l?l:Gu(l,yn(p,3),ls)},U.forInRight=function Kd(l,p){return null==l?l:tu(l,yn(p,3),ls)},U.forOwn=function wf(l,p){return l&&qi(l,yn(p,3))},U.forOwnRight=function gy(l,p){return l&&Pc(l,yn(p,3))},U.get=Yd,U.gt=pE,U.gte=ly,U.has=function Ef(l,p){return null!=l&&Gc(l,p,pi)},U.hasIn=ag,U.head=Wm,U.identity=ds,U.includes=function Zp(l,p,w,A){l=Do(l)?l:Zc(l),w=w&&!A?An(w):0;var P=l.length;return w<0&&(w=vi(P+w,0)),mf(l)?w<=P&&l.indexOf(p,w)>-1:!!P&&vc(l,p,w)>-1},U.indexOf=function Bp(l,p,w){var A=null==l?0:l.length;if(!A)return-1;var P=null==w?0:An(w);return P<0&&(P=vi(A+P,0)),vc(l,p,P)},U.inRange=function Cs(l,p,w){return p=Ho(p),w===M?(w=p,p=0):w=Ho(w),function as(l,p,w){return l>=Ns(p,w)&&l<vi(p,w)}(l=Ur(l),p,w)},U.invoke=Rb,U.isArguments=Gd,U.isArray=Vn,U.isArrayBuffer=gE,U.isArrayLike=Do,U.isArrayLikeObject=ni,U.isBoolean=function Pb(l){return!0===l||!1===l||Si(l)&&Fr(l)==hn},U.isBuffer=Se,U.isDate=ff,U.isElement=function mE(l){return Si(l)&&1===l.nodeType&&!Tn(l)},U.isEmpty=function dy(l){if(null==l)return!0;if(Do(l)&&(Vn(l)||"string"==typeof l||"function"==typeof l.splice||Se(l)||qd(l)||Gd(l)))return!l.length;var p=ws(l);if(p==$n||p==ur)return!l.size;if(Rd(l))return!kc(l).length;for(var w in l)if(Cr.call(l,w))return!1;return!0},U.isEqual=function Xp(l,p){return Yr(l,p)},U.isEqualWith=function fu(l,p,w){var A=(w="function"==typeof w?w:M)?w(l,p):M;return A===M?Yr(l,p,M,w):!!A},U.isError=Wc,U.isFinite=function Ai(l){return"number"==typeof l&&_d(l)},U.isFunction=Ma,U.isInteger=Vv,U.isLength=Ni,U.isMap=pf,U.isMatch=function eg(l,p){return l===p||Ia(l,p,Vm(p))},U.isMatchWith=function pu(l,p,w){return w="function"==typeof w?w:M,Ia(l,p,Vm(p),w)},U.isNaN=function br(l){return hy(l)&&l!=+l},U.isNative=function yE(l){if(tv(l))throw new Nn("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return zu(l)},U.isNil=function Ot(l){return null==l},U.isNull=function la(l){return null===l},U.isNumber=hy,U.isObject=Qr,U.isObjectLike=Si,U.isPlainObject=Tn,U.isRegExp=zd,U.isSafeInteger=function gf(l){return Vv(l)&&l>=-an&&l<=an},U.isSet=_E,U.isString=mf,U.isSymbol=Ws,U.isTypedArray=qd,U.isUndefined=function fy(l){return l===M},U.isWeakMap=function Is(l){return Si(l)&&ws(l)==zt},U.isWeakSet=function tc(l){return Si(l)&&"[object WeakSet]"==Fr(l)},U.join=function Ud(l,p){return null==l?"":Ac.call(l,p)},U.kebabCase=Kc,U.last=Es,U.lastIndexOf=function $l(l,p,w){var A=null==l?0:l.length;if(!A)return-1;var P=A;return w!==M&&(P=(P=An(w))<0?vi(A+P,0):Ns(P,A-1)),p==p?function Ec(le,We,Ne){for(var Ft=Ne+1;Ft--;)if(le[Ft]===We)return Ft;return Ft}(l,p,P):dl(l,ld,P,!0)},U.lowerCase=Cy,U.lowerFirst=bE,U.lt=Zi,U.lte=gu,U.max=function e0(l){return l&&l.length?ro(l,ds,Er):M},U.maxBy=function Eg(l,p){return l&&l.length?ro(l,yn(p,2),Er):M},U.mean=function ha(l){return dd(l,ds)},U.meanBy=function Oa(l,p){return dd(l,yn(p,2))},U.min=function Jc(l){return l&&l.length?ro(l,ds,aa):M},U.minBy=function Ff(l,p){return l&&l.length?ro(l,yn(p,2),aa):M},U.stubArray=ql,U.stubFalse=Py,U.stubObject=function Qv(){return{}},U.stubString=function eh(){return""},U.stubTrue=function Jv(){return!0},U.multiply=Ig,U.nth=function hv(l,p){return l&&l.length?Lh(l,An(p)):M},U.noConflict=function xy(){return ir._===this&&(ir._=_p),this},U.noop=Rf,U.now=jd,U.pad=function fg(l,p,w){l=pr(l);var A=(p=An(p))?Ic(l):0;if(!p||A>=p)return l;var P=(p-A)/2;return Bs(yo(P),w)+l+Bs(Bu(P),w)},U.padEnd=function Af(l,p,w){l=pr(l);var A=(p=An(p))?Ic(l):0;return p&&A<p?l+Bs(p-A,w):l},U.padStart=function Sf(l,p,w){l=pr(l);var A=(p=An(p))?Ic(l):0;return p&&A<p?Bs(p-A,w)+l:l},U.parseInt=function xa(l,p,w){return w||null==p?p=0:p&&(p=+p),za(pr(l).replace(ze,""),p||0)},U.random=function Zs(l,p,w){if(w&&"boolean"!=typeof w&&js(l,p,w)&&(p=w=M),w===M&&("boolean"==typeof p?(w=p,p=M):"boolean"==typeof l&&(w=l,l=M)),l===M&&p===M?(l=0,p=1):(l=Ho(l),p===M?(p=l,l=0):p=Ho(p)),l>p){var A=l;l=p,p=A}if(w||l%1||p%1){var P=Sh();return Ns(l+P*(p-l+xs("1e-"+((P+"").length-1))),p)}return Lc(l,p)},U.reduce=function xb(l,p,w){var A=Vn(l)?ar:gp,P=arguments.length<3;return A(l,yn(p,4),w,P,Vo)},U.reduceRight=function aE(l,p,w){var A=Vn(l)?$a:gp,P=arguments.length<3;return A(l,yn(p,4),w,P,Xa)},U.repeat=function zv(l,p,w){return p=(w?js(l,p,w):p===M)?1:An(p),ba(pr(l),p)},U.replace=function pg(){var l=arguments,p=pr(l[0]);return l.length<3?p:p.replace(l[1],l[2])},U.result=function cg(l,p,w){var A=-1,P=(p=Us(p,l)).length;for(P||(P=1,l=M);++A<P;){var $=null==l?M:l[du(p[A])];$===M&&(A=P,$=w),l=Ma($)?$.call(l):$}return l},U.round=Jr,U.runInContext=le,U.sample=function cf(l){return(Vn(l)?Ed:Pl)(l)},U.size=function tA(l){if(null==l)return 0;if(Do(l))return mf(l)?Ic(l):l.length;var p=ws(l);return p==$n||p==ur?l.size:kc(l).length},U.snakeCase=qv,U.some=function cE(l,p,w){var A=Vn(l)?Ps:Td;return w&&js(l,p,w)&&(p=M),A(l,yn(p,3))},U.sortedIndex=function Ym(l,p){return Nl(l,p)},U.sortedIndexBy=function Jh(l,p,w){return Op(l,p,yn(w,2))},U.sortedIndexOf=function Xh(l,p){var w=null==l?0:l.length;if(w){var A=Nl(l,p);if(A<w&&bo(l[A],p))return A}return-1},U.sortedLastIndex=function hu(l,p){return Nl(l,p,!0)},U.sortedLastIndexBy=function Qm(l,p,w){return Op(l,p,yn(w,2),!0)},U.sortedLastIndexOf=function Jm(l,p){if(null!=l&&l.length){var A=Nl(l,p,!0)-1;if(bo(l[A],p))return A}return-1},U.startCase=Wv,U.startsWith=function by(l,p,w){return l=pr(l),w=null==w?0:Ls(An(w),0,l.length),p=_s(p),l.slice(w,w+p.length)==p},U.subtract=rh,U.sum=function ih(l){return l&&l.length?Th(l,ds):0},U.sumBy=function Wl(l,p){return l&&l.length?Th(l,yn(p,2)):0},U.template=function Mf(l,p,w){var A=U.templateSettings;w&&js(l,p,w)&&(p=M),l=pr(l),p=vf({},p,A,Fm);var ne,pe,P=vf({},p.imports,A.imports,Fm),$=ki(P),ee=hl(P,$),Je=0,et=p.interpolate||bi,at="__p += '",_t=vl((p.escape||bi).source+"|"+et.source+"|"+(et===J?li:bi).source+"|"+(p.evaluate||bi).source+"|$","g"),Zt="//# sourceURL="+(Cr.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ar+"]")+"\n";l.replace(_t,function(un,or,dr,oo,Ks,ao){return dr||(dr=oo),at+=l.slice(Je,ao).replace(Xi,ma),or&&(ne=!0,at+="' +\n__e("+or+") +\n'"),Ks&&(pe=!0,at+="';\n"+Ks+";\n__p += '"),dr&&(at+="' +\n((__t = ("+dr+")) == null ? '' : __t) +\n'"),Je=ao+un.length,un}),at+="';\n";var pn=Cr.call(p,"variable")&&p.variable;if(pn){if(Jn.test(pn))throw new Nn("Invalid `variable` option passed into `_.template`")}else at="with (obj) {\n"+at+"\n}\n";at=(pe?at.replace(ii,""):at).replace(Tr,"$1").replace(Me,"$1;"),at="function("+(pn||"obj")+") {\n"+(pn?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(ne?", __e = _.escape":"")+(pe?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+at+"return __p\n}";var sr=mg(function(){return wr($,Zt+"return "+at).apply(M,ee)});if(sr.source=at,Wc(sr))throw sr;return sr},U.times=function Lf(l,p){if((l=An(l))<1||l>an)return[];var w=Ie,A=Ns(l,Ie);p=yn(p),l-=Ie;for(var P=vm(A,p);++w<l;)p(w);return P},U.toFinite=Ho,U.toInteger=An,U.toLength=yf,U.toLower=function Zv(l){return pr(l).toLowerCase()},U.toNumber=Ur,U.toSafeInteger=function tg(l){return l?Ls(An(l),-an,an):0===l?l:0},U.toString=pr,U.toUpper=function gg(l){return pr(l).toUpperCase()},U.trim=function Dy(l,p,w){if((l=pr(l))&&(w||p===M))return q_(l);if(!l||!(p=_s(p)))return l;var A=mo(l),P=mo(p);return au(A,pl(A,P),ku(A,P)+1).join("")},U.trimEnd=function xf(l,p,w){if((l=pr(l))&&(w||p===M))return l.slice(0,yl(l)+1);if(!l||!(p=_s(p)))return l;var A=mo(l);return au(A,0,ku(A,mo(p))+1).join("")},U.trimStart=function DE(l,p,w){if((l=pr(l))&&(w||p===M))return l.replace(ze,"");if(!l||!(p=_s(p)))return l;var A=mo(l);return au(A,pl(A,mo(p))).join("")},U.truncate=function Kv(l,p){var w=30,A="...";if(Qr(p)){var P="separator"in p?p.separator:P;w="length"in p?An(p.length):w,A="omission"in p?_s(p.omission):A}var $=(l=pr(l)).length;if(ya(l)){var ee=mo(l);$=ee.length}if(w>=$)return l;var ne=w-Ic(A);if(ne<1)return A;var pe=ee?au(ee,0,ne).join(""):l.slice(0,ne);if(P===M)return pe+A;if(ee&&(ne+=pe.length-ne),zd(P)){if(l.slice(ne).search(P)){var Je,et=pe;for(P.global||(P=vl(P.source,pr(re.exec(P))+"g")),P.lastIndex=0;Je=P.exec(et);)var at=Je.index;pe=pe.slice(0,at===M?ne:at)}}else if(l.indexOf(_s(P),ne)!=ne){var _t=pe.lastIndexOf(P);_t>-1&&(pe=pe.slice(0,_t))}return pe+A},U.unescape=function zl(l){return(l=pr(l))&&ot.test(l)?l.replace(te,bm):l},U.uniqueId=function _n(l){var p=++El;return pr(l)+p},U.upperCase=TE,U.upperFirst=Ty,U.each=Tv,U.eachRight=Av,U.first=Wm,Pf(U,function(){var l={};return qi(U,function(p,w){Cr.call(U.prototype,w)||(l[w]=p)}),l}(),{chain:!1}),U.VERSION="4.17.21",nt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){U[l].placeholder=U}),nt(["drop","take"],function(l,p){nr.prototype[l]=function(w){w=w===M?1:vi(An(w),0);var A=this.__filtered__&&!p?new nr(this):this.clone();return A.__filtered__?A.__takeCount__=Ns(w,A.__takeCount__):A.__views__.push({size:Ns(w,Ie),type:l+(A.__dir__<0?"Right":"")}),A},nr.prototype[l+"Right"]=function(w){return this.reverse()[l](w).reverse()}}),nt(["filter","map","takeWhile"],function(l,p){var w=p+1,A=1==w||3==w;nr.prototype[l]=function(P){var $=this.clone();return $.__iteratees__.push({iteratee:yn(P,3),type:w}),$.__filtered__=$.__filtered__||A,$}}),nt(["head","last"],function(l,p){var w="take"+(p?"Right":"");nr.prototype[l]=function(){return this[w](1).value()[0]}}),nt(["initial","tail"],function(l,p){var w="drop"+(p?"":"Right");nr.prototype[l]=function(){return this.__filtered__?new nr(this):this[w](1)}}),nr.prototype.compact=function(){return this.filter(ds)},nr.prototype.find=function(l){return this.filter(l).head()},nr.prototype.findLast=function(l){return this.reverse().find(l)},nr.prototype.invokeMap=wn(function(l,p){return"function"==typeof l?new nr(this):this.map(function(w){return Ea(w,l,p)})}),nr.prototype.reject=function(l){return this.filter(Qp(yn(l)))},nr.prototype.slice=function(l,p){l=An(l);var w=this;return w.__filtered__&&(l>0||p<0)?new nr(w):(l<0?w=w.takeRight(-l):l&&(w=w.drop(l)),p!==M&&(w=(p=An(p))<0?w.dropRight(-p):w.take(p-l)),w)},nr.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},nr.prototype.toArray=function(){return this.take(Ie)},qi(nr.prototype,function(l,p){var w=/^(?:filter|find|map|reject)|While$/.test(p),A=/^(?:head|last)$/.test(p),P=U[A?"take"+("last"==p?"Right":""):p],$=A||/^find/.test(p);P&&(U.prototype[p]=function(){var ee=this.__wrapped__,ne=A?[1]:arguments,pe=ee instanceof nr,Je=ne[0],et=pe||Vn(ee),at=function(or){var dr=P.apply(U,hr([or],ne));return A&&_t?dr[0]:dr};et&&w&&"function"==typeof Je&&1!=Je.length&&(pe=et=!1);var _t=this.__chain__,pn=$&&!_t,sr=pe&&!this.__actions__.length;if(!$&&et){ee=sr?ee:new nr(this);var un=l.apply(ee,ne);return un.__actions__.push({func:rf,args:[at],thisArg:M}),new fi(un,_t)}return pn&&sr?l.apply(this,ne):(un=this.thru(at),pn?A?un.value()[0]:un.value():un)})}),nt(["pop","push","shift","sort","splice","unshift"],function(l){var p=Lu[l],w=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",A=/^(?:pop|shift)$/.test(l);U.prototype[l]=function(){var P=arguments;if(A&&!this.__chain__){var $=this.value();return p.apply(Vn($)?$:[],P)}return this[w](function(ee){return p.apply(Vn(ee)?ee:[],P)})}}),qi(nr.prototype,function(l,p){var w=U[p];if(w){var A=w.name+"";Cr.call($u,A)||($u[A]=[]),$u[A].push({name:p,func:w})}}),$u[ua(M,2).name]=[{name:"wrapper",func:M}],nr.prototype.clone=function is(){var l=new nr(this.__wrapped__);return l.__actions__=y(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=y(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=y(this.__views__),l},nr.prototype.reverse=function wd(){if(this.__filtered__){var l=new nr(this);l.__dir__=-1,l.__filtered__=!0}else(l=this.clone()).__dir__*=-1;return l},nr.prototype.value=function Tl(){var l=this.__wrapped__.value(),p=this.__dir__,w=Vn(l),A=p<0,P=w?l.length:0,$=function Bm(l,p,w){for(var A=-1,P=w.length;++A<P;){var $=w[A],ee=$.size;switch($.type){case"drop":l+=ee;break;case"dropRight":p-=ee;break;case"take":p=Ns(p,l+ee);break;case"takeRight":l=vi(l,p-ee)}}return{start:l,end:p}}(0,P,this.__views__),ee=$.start,ne=$.end,pe=ne-ee,Je=A?ne:ee-1,et=this.__iteratees__,at=et.length,_t=0,Zt=Ns(pe,this.__takeCount__);if(!w||!A&&P==pe&&Zt==pe)return Vh(l,this.__actions__);var pn=[];e:for(;pe--&&_t<Zt;){for(var sr=-1,un=l[Je+=p];++sr<at;){var or=et[sr],oo=or.type,Ks=(0,or.iteratee)(un);if(2==oo)un=Ks;else if(!Ks){if(1==oo)continue e;break e}}pn[_t++]=un}return pn},U.prototype.at=Cv,U.prototype.chain=function bv(){return ry(this)},U.prototype.commit=function iy(){return new fi(this.value(),this.__chain__)},U.prototype.next=function Vd(){this.__values__===M&&(this.__values__=Wd(this.value()));var l=this.__index__>=this.__values__.length;return{done:l,value:l?M:this.__values__[this.__index__++]}},U.prototype.plant=function iE(l){for(var p,w=this;w instanceof tr;){var A=av(w);A.__index__=0,A.__values__=M,p?P.__wrapped__=A:p=A;var P=A;w=w.__wrapped__}return P.__wrapped__=l,p},U.prototype.reverse=function qc(){var l=this.__wrapped__;if(l instanceof nr){var p=l;return this.__actions__.length&&(p=new nr(this)),(p=p.reverse()).__actions__.push({func:rf,args:[$p],thisArg:M}),new fi(p,this.__chain__)}return this.thru($p)},U.prototype.toJSON=U.prototype.valueOf=U.prototype.value=function Bd(){return Vh(this.__wrapped__,this.__actions__)},U.prototype.first=U.prototype.head,Vu&&(U.prototype[Vu]=function sy(){return this}),U}();ir._=Fo,(h=function(){return Fo}.call(Fe,N,Fe,Tt))!==M&&(Tt.exports=h)}.call(this)},5619:(Tt,Fe,N)=>{"use strict";N.d(Fe,{X:()=>M});var h=N(8645);class M extends h.x{constructor(se){super(),this._value=se}get value(){return this.getValue()}_subscribe(se){const ye=super._subscribe(se);return!ye.closed&&se.next(this._value),ye}getValue(){const{hasError:se,thrownError:ye,_value:Ce}=this;if(se)throw ye;return this._throwIfClosed(),Ce}next(se){super.next(this._value=se)}}},5592:(Tt,Fe,N)=>{"use strict";N.d(Fe,{y:()=>He});var h=N(305),M=N(7394),B=N(4850),se=N(8407),ye=N(2653),Ce=N(4674),Pe=N(1441);let He=(()=>{class de{constructor(Oe){Oe&&(this._subscribe=Oe)}lift(Oe){const ht=new de;return ht.source=this,ht.operator=Oe,ht}subscribe(Oe,ht,Be){const ut=function Y(de){return de&&de instanceof h.Lv||function q(de){return de&&(0,Ce.m)(de.next)&&(0,Ce.m)(de.error)&&(0,Ce.m)(de.complete)}(de)&&(0,M.Nn)(de)}(Oe)?Oe:new h.Hp(Oe,ht,Be);return(0,Pe.x)(()=>{const{operator:je,source:wt}=this;ut.add(je?je.call(ut,wt):wt?this._subscribe(ut):this._trySubscribe(ut))}),ut}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(ht){Oe.error(ht)}}forEach(Oe,ht){return new(ht=Ae(ht))((Be,ut)=>{const je=new h.Hp({next:wt=>{try{Oe(wt)}catch(bt){ut(bt),je.unsubscribe()}},error:ut,complete:Be});this.subscribe(je)})}_subscribe(Oe){var ht;return null===(ht=this.source)||void 0===ht?void 0:ht.subscribe(Oe)}[B.L](){return this}pipe(...Oe){return(0,se.U)(Oe)(this)}toPromise(Oe){return new(Oe=Ae(Oe))((ht,Be)=>{let ut;this.subscribe(je=>ut=je,je=>Be(je),()=>ht(ut))})}}return de.create=Qe=>new de(Qe),de})();function Ae(de){var Qe;return null!==(Qe=de??ye.config.Promise)&&void 0!==Qe?Qe:Promise}},8645:(Tt,Fe,N)=>{"use strict";N.d(Fe,{x:()=>Pe});var h=N(5592),M=N(7394);const se=(0,N(2306).d)(Ae=>function(){Ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=N(9039),Ce=N(1441);let Pe=(()=>{class Ae extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const de=new He(this,this);return de.operator=Y,de}_throwIfClosed(){if(this.closed)throw new se}next(Y){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const de of this.currentObservers)de.next(Y)}})}error(Y){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:de}=this;for(;de.length;)de.shift().error(Y)}})}complete(){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:de,isStopped:Qe,observers:Oe}=this;return de||Qe?M.Lc:(this.currentObservers=null,Oe.push(Y),new M.w0(()=>{this.currentObservers=null,(0,ye.P)(Oe,Y)}))}_checkFinalizedStatuses(Y){const{hasError:de,thrownError:Qe,isStopped:Oe}=this;de?Y.error(Qe):Oe&&Y.complete()}asObservable(){const Y=new h.y;return Y.source=this,Y}}return Ae.create=(q,Y)=>new He(q,Y),Ae})();class He extends Pe{constructor(q,Y){super(),this.destination=q,this.source=Y}next(q){var Y,de;null===(de=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===de||de.call(Y,q)}error(q){var Y,de;null===(de=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===de||de.call(Y,q)}complete(){var q,Y;null===(Y=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===Y||Y.call(q)}_subscribe(q){var Y,de;return null!==(de=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(q))&&void 0!==de?de:M.Lc}}},305:(Tt,Fe,N)=>{"use strict";N.d(Fe,{Hp:()=>Be,Lv:()=>de});var h=N(4674),M=N(7394),B=N(2653),se=N(3894),ye=N(2420);const Ce=Ae("C",void 0,void 0);function Ae(ae,ke,me){return{kind:ae,value:ke,error:me}}var q=N(7599),Y=N(1441);class de extends M.w0{constructor(ke){super(),this.isStopped=!1,ke?(this.destination=ke,(0,M.Nn)(ke)&&ke.add(this)):this.destination=bt}static create(ke,me,Ue){return new Be(ke,me,Ue)}next(ke){this.isStopped?wt(function He(ae){return Ae("N",ae,void 0)}(ke),this):this._next(ke)}error(ke){this.isStopped?wt(function Pe(ae){return Ae("E",void 0,ae)}(ke),this):(this.isStopped=!0,this._error(ke))}complete(){this.isStopped?wt(Ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ke){this.destination.next(ke)}_error(ke){try{this.destination.error(ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Qe=Function.prototype.bind;function Oe(ae,ke){return Qe.call(ae,ke)}class ht{constructor(ke){this.partialObserver=ke}next(ke){const{partialObserver:me}=this;if(me.next)try{me.next(ke)}catch(Ue){ut(Ue)}}error(ke){const{partialObserver:me}=this;if(me.error)try{me.error(ke)}catch(Ue){ut(Ue)}else ut(ke)}complete(){const{partialObserver:ke}=this;if(ke.complete)try{ke.complete()}catch(me){ut(me)}}}class Be extends de{constructor(ke,me,Ue){let Xe;if(super(),(0,h.m)(ke)||!ke)Xe={next:ke??void 0,error:me??void 0,complete:Ue??void 0};else{let H;this&&B.config.useDeprecatedNextContext?(H=Object.create(ke),H.unsubscribe=()=>this.unsubscribe(),Xe={next:ke.next&&Oe(ke.next,H),error:ke.error&&Oe(ke.error,H),complete:ke.complete&&Oe(ke.complete,H)}):Xe=ke}this.destination=new ht(Xe)}}function ut(ae){B.config.useDeprecatedSynchronousErrorHandling?(0,Y.O)(ae):(0,se.h)(ae)}function wt(ae,ke){const{onStoppedNotification:me}=B.config;me&&q.z.setTimeout(()=>me(ae,ke))}const bt={closed:!0,next:ye.Z,error:function je(ae){throw ae},complete:ye.Z}},7394:(Tt,Fe,N)=>{"use strict";N.d(Fe,{Lc:()=>Ce,w0:()=>ye,Nn:()=>Pe});var h=N(4674);const B=(0,N(2306).d)(Ae=>function(Y){Ae(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((de,Qe)=>`${Qe+1}) ${de.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var se=N(9039);class ye{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const Oe of Y)Oe.remove(this);else Y.remove(this);const{initialTeardown:de}=this;if((0,h.m)(de))try{de()}catch(Oe){q=Oe instanceof B?Oe.errors:[Oe]}const{_finalizers:Qe}=this;if(Qe){this._finalizers=null;for(const Oe of Qe)try{He(Oe)}catch(ht){q=q??[],ht instanceof B?q=[...q,...ht.errors]:q.push(ht)}}if(q)throw new B(q)}}add(q){var Y;if(q&&q!==this)if(this.closed)He(q);else{if(q instanceof ye){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(q)}}_hasParent(q){const{_parentage:Y}=this;return Y===q||Array.isArray(Y)&&Y.includes(q)}_addParent(q){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(q),Y):Y?[Y,q]:q}_removeParent(q){const{_parentage:Y}=this;Y===q?this._parentage=null:Array.isArray(Y)&&(0,se.P)(Y,q)}remove(q){const{_finalizers:Y}=this;Y&&(0,se.P)(Y,q),q instanceof ye&&q._removeParent(this)}}ye.EMPTY=(()=>{const Ae=new ye;return Ae.closed=!0,Ae})();const Ce=ye.EMPTY;function Pe(Ae){return Ae instanceof ye||Ae&&"closed"in Ae&&(0,h.m)(Ae.remove)&&(0,h.m)(Ae.add)&&(0,h.m)(Ae.unsubscribe)}function He(Ae){(0,h.m)(Ae)?Ae():Ae.unsubscribe()}},2653:(Tt,Fe,N)=>{"use strict";N.d(Fe,{config:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(Tt,Fe,N)=>{"use strict";N.d(Fe,{E:()=>M});const M=new(N(5592).y)(ye=>ye.complete())},2459:(Tt,Fe,N)=>{"use strict";N.d(Fe,{D:()=>ke});var h=N(4829),M=N(3093),B=N(5137),Ce=N(5592),He=N(4971),Ae=N(4674),q=N(7103);function de(me,Ue){if(!me)throw new Error("Iterable cannot be null");return new Ce.y(Xe=>{(0,q.f)(Xe,Ue,()=>{const H=me[Symbol.asyncIterator]();(0,q.f)(Xe,Ue,()=>{H.next().then(he=>{he.done?Xe.complete():Xe.next(he.value)})},0,!0)})})}var Qe=N(8382),Oe=N(4026),ht=N(4266),Be=N(3664),ut=N(5726),je=N(9853),wt=N(541);function ke(me,Ue){return Ue?function ae(me,Ue){if(null!=me){if((0,Qe.c)(me))return function se(me,Ue){return(0,h.Xf)(me).pipe((0,B.R)(Ue),(0,M.Q)(Ue))}(me,Ue);if((0,ht.z)(me))return function Pe(me,Ue){return new Ce.y(Xe=>{let H=0;return Ue.schedule(function(){H===me.length?Xe.complete():(Xe.next(me[H++]),Xe.closed||this.schedule())})})}(me,Ue);if((0,Oe.t)(me))return function ye(me,Ue){return(0,h.Xf)(me).pipe((0,B.R)(Ue),(0,M.Q)(Ue))}(me,Ue);if((0,ut.D)(me))return de(me,Ue);if((0,Be.T)(me))return function Y(me,Ue){return new Ce.y(Xe=>{let H;return(0,q.f)(Xe,Ue,()=>{H=me[He.h](),(0,q.f)(Xe,Ue,()=>{let he,Ve;try{({value:he,done:Ve}=H.next())}catch(It){return void Xe.error(It)}Ve?Xe.complete():Xe.next(he)},0,!0)}),()=>(0,Ae.m)(H?.return)&&H.return()})}(me,Ue);if((0,wt.L)(me))return function bt(me,Ue){return de((0,wt.Q)(me),Ue)}(me,Ue)}throw(0,je.z)(me)}(me,Ue):(0,h.Xf)(me)}},4829:(Tt,Fe,N)=>{"use strict";N.d(Fe,{Xf:()=>Qe});var h=N(7582),M=N(4266),B=N(4026),se=N(5592),ye=N(8382),Ce=N(5726),Pe=N(9853),He=N(3664),Ae=N(541),q=N(4674),Y=N(3894),de=N(4850);function Qe(ae){if(ae instanceof se.y)return ae;if(null!=ae){if((0,ye.c)(ae))return function Oe(ae){return new se.y(ke=>{const me=ae[de.L]();if((0,q.m)(me.subscribe))return me.subscribe(ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ae);if((0,M.z)(ae))return function ht(ae){return new se.y(ke=>{for(let me=0;me<ae.length&&!ke.closed;me++)ke.next(ae[me]);ke.complete()})}(ae);if((0,B.t)(ae))return function Be(ae){return new se.y(ke=>{ae.then(me=>{ke.closed||(ke.next(me),ke.complete())},me=>ke.error(me)).then(null,Y.h)})}(ae);if((0,Ce.D)(ae))return je(ae);if((0,He.T)(ae))return function ut(ae){return new se.y(ke=>{for(const me of ae)if(ke.next(me),ke.closed)return;ke.complete()})}(ae);if((0,Ae.L)(ae))return function wt(ae){return je((0,Ae.Q)(ae))}(ae)}throw(0,Pe.z)(ae)}function je(ae){return new se.y(ke=>{(function bt(ae,ke){var me,Ue,Xe,H;return(0,h.mG)(this,void 0,void 0,function*(){try{for(me=(0,h.KL)(ae);!(Ue=yield me.next()).done;)if(ke.next(Ue.value),ke.closed)return}catch(he){Xe={error:he}}finally{try{Ue&&!Ue.done&&(H=me.return)&&(yield H.call(me))}finally{if(Xe)throw Xe.error}}ke.complete()})})(ae,ke).catch(me=>ke.error(me))})}},3019:(Tt,Fe,N)=>{"use strict";N.d(Fe,{T:()=>Ce});var h=N(7537),M=N(4829),B=N(6232),se=N(9940),ye=N(2459);function Ce(...Pe){const He=(0,se.yG)(Pe),Ae=(0,se._6)(Pe,1/0),q=Pe;return q.length?1===q.length?(0,M.Xf)(q[0]):(0,h.J)(Ae)((0,ye.D)(q,He)):B.E}},2096:(Tt,Fe,N)=>{"use strict";N.d(Fe,{of:()=>B});var h=N(9940),M=N(2459);function B(...se){const ye=(0,h.yG)(se);return(0,M.D)(se,ye)}},8251:(Tt,Fe,N)=>{"use strict";N.d(Fe,{x:()=>M});var h=N(305);function M(se,ye,Ce,Pe,He){return new B(se,ye,Ce,Pe,He)}class B extends h.Lv{constructor(ye,Ce,Pe,He,Ae,q){super(ye),this.onFinalize=Ae,this.shouldUnsubscribe=q,this._next=Ce?function(Y){try{Ce(Y)}catch(de){ye.error(de)}}:super._next,this._error=He?function(Y){try{He(Y)}catch(de){ye.error(de)}finally{this.unsubscribe()}}:super._error,this._complete=Pe?function(){try{Pe()}catch(Y){ye.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ye;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ce}=this;super.unsubscribe(),!Ce&&(null===(ye=this.onFinalize)||void 0===ye||ye.call(this))}}}},3997:(Tt,Fe,N)=>{"use strict";N.d(Fe,{x:()=>se});var h=N(2737),M=N(9360),B=N(8251);function se(Ce,Pe=h.y){return Ce=Ce??ye,(0,M.e)((He,Ae)=>{let q,Y=!0;He.subscribe((0,B.x)(Ae,de=>{const Qe=Pe(de);(Y||!Ce(q,Qe))&&(Y=!1,q=Qe,Ae.next(de))}))})}function ye(Ce,Pe){return Ce===Pe}},7398:(Tt,Fe,N)=>{"use strict";N.d(Fe,{U:()=>B});var h=N(9360),M=N(8251);function B(se,ye){return(0,h.e)((Ce,Pe)=>{let He=0;Ce.subscribe((0,M.x)(Pe,Ae=>{Pe.next(se.call(ye,Ae,He++))}))})}},7537:(Tt,Fe,N)=>{"use strict";N.d(Fe,{J:()=>B});var h=N(1631),M=N(2737);function B(se=1/0){return(0,h.z)(M.y,se)}},1631:(Tt,Fe,N)=>{"use strict";N.d(Fe,{z:()=>He});var h=N(7398),M=N(4829),B=N(9360),se=N(7103),ye=N(8251),Pe=N(4674);function He(Ae,q,Y=1/0){return(0,Pe.m)(q)?He((de,Qe)=>(0,h.U)((Oe,ht)=>q(de,Oe,Qe,ht))((0,M.Xf)(Ae(de,Qe))),Y):("number"==typeof q&&(Y=q),(0,B.e)((de,Qe)=>function Ce(Ae,q,Y,de,Qe,Oe,ht,Be){const ut=[];let je=0,wt=0,bt=!1;const ae=()=>{bt&&!ut.length&&!je&&q.complete()},ke=Ue=>je<de?me(Ue):ut.push(Ue),me=Ue=>{Oe&&q.next(Ue),je++;let Xe=!1;(0,M.Xf)(Y(Ue,wt++)).subscribe((0,ye.x)(q,H=>{Qe?.(H),Oe?ke(H):q.next(H)},()=>{Xe=!0},void 0,()=>{if(Xe)try{for(je--;ut.length&&je<de;){const H=ut.shift();ht?(0,se.f)(q,ht,()=>me(H)):me(H)}ae()}catch(H){q.error(H)}}))};return Ae.subscribe((0,ye.x)(q,ke,()=>{bt=!0,ae()})),()=>{Be?.()}}(de,Qe,Ae,Y)))}},3093:(Tt,Fe,N)=>{"use strict";N.d(Fe,{Q:()=>se});var h=N(7103),M=N(9360),B=N(8251);function se(ye,Ce=0){return(0,M.e)((Pe,He)=>{Pe.subscribe((0,B.x)(He,Ae=>(0,h.f)(He,ye,()=>He.next(Ae),Ce),()=>(0,h.f)(He,ye,()=>He.complete(),Ce),Ae=>(0,h.f)(He,ye,()=>He.error(Ae),Ce)))})}},3020:(Tt,Fe,N)=>{"use strict";N.d(Fe,{B:()=>ye});var h=N(4829),M=N(8645),B=N(305),se=N(9360);function ye(Pe={}){const{connector:He=(()=>new M.x),resetOnError:Ae=!0,resetOnComplete:q=!0,resetOnRefCountZero:Y=!0}=Pe;return de=>{let Qe,Oe,ht,Be=0,ut=!1,je=!1;const wt=()=>{Oe?.unsubscribe(),Oe=void 0},bt=()=>{wt(),Qe=ht=void 0,ut=je=!1},ae=()=>{const ke=Qe;bt(),ke?.unsubscribe()};return(0,se.e)((ke,me)=>{Be++,!je&&!ut&&wt();const Ue=ht=ht??He();me.add(()=>{Be--,0===Be&&!je&&!ut&&(Oe=Ce(ae,Y))}),Ue.subscribe(me),!Qe&&Be>0&&(Qe=new B.Hp({next:Xe=>Ue.next(Xe),error:Xe=>{je=!0,wt(),Oe=Ce(bt,Ae,Xe),Ue.error(Xe)},complete:()=>{ut=!0,wt(),Oe=Ce(bt,q),Ue.complete()}}),(0,h.Xf)(ke).subscribe(Qe))})(de)}}function Ce(Pe,He,...Ae){if(!0===He)return void Pe();if(!1===He)return;const q=new B.Hp({next:()=>{q.unsubscribe(),Pe()}});return(0,h.Xf)(He(...Ae)).subscribe(q)}},5137:(Tt,Fe,N)=>{"use strict";N.d(Fe,{R:()=>M});var h=N(9360);function M(B,se=0){return(0,h.e)((ye,Ce)=>{Ce.add(B.schedule(()=>ye.subscribe(Ce),se))})}},4664:(Tt,Fe,N)=>{"use strict";N.d(Fe,{w:()=>se});var h=N(4829),M=N(9360),B=N(8251);function se(ye,Ce){return(0,M.e)((Pe,He)=>{let Ae=null,q=0,Y=!1;const de=()=>Y&&!Ae&&He.complete();Pe.subscribe((0,B.x)(He,Qe=>{Ae?.unsubscribe();let Oe=0;const ht=q++;(0,h.Xf)(ye(Qe,ht)).subscribe(Ae=(0,B.x)(He,Be=>He.next(Ce?Ce(Qe,Be,ht,Oe++):Be),()=>{Ae=null,de()}))},()=>{Y=!0,de()}))})}},9397:(Tt,Fe,N)=>{"use strict";N.d(Fe,{b:()=>ye});var h=N(4674),M=N(9360),B=N(8251),se=N(2737);function ye(Ce,Pe,He){const Ae=(0,h.m)(Ce)||Pe||He?{next:Ce,error:Pe,complete:He}:Ce;return Ae?(0,M.e)((q,Y)=>{var de;null===(de=Ae.subscribe)||void 0===de||de.call(Ae);let Qe=!0;q.subscribe((0,B.x)(Y,Oe=>{var ht;null===(ht=Ae.next)||void 0===ht||ht.call(Ae,Oe),Y.next(Oe)},()=>{var Oe;Qe=!1,null===(Oe=Ae.complete)||void 0===Oe||Oe.call(Ae),Y.complete()},Oe=>{var ht;Qe=!1,null===(ht=Ae.error)||void 0===ht||ht.call(Ae,Oe),Y.error(Oe)},()=>{var Oe,ht;Qe&&(null===(Oe=Ae.unsubscribe)||void 0===Oe||Oe.call(Ae)),null===(ht=Ae.finalize)||void 0===ht||ht.call(Ae)}))}):se.y}},1954:(Tt,Fe,N)=>{"use strict";N.d(Fe,{o:()=>ye});var h=N(7394);class M extends h.w0{constructor(Pe,He){super()}schedule(Pe,He=0){return this}}const B={setInterval(Ce,Pe,...He){const{delegate:Ae}=B;return Ae?.setInterval?Ae.setInterval(Ce,Pe,...He):setInterval(Ce,Pe,...He)},clearInterval(Ce){const{delegate:Pe}=B;return(Pe?.clearInterval||clearInterval)(Ce)},delegate:void 0};var se=N(9039);class ye extends M{constructor(Pe,He){super(Pe,He),this.scheduler=Pe,this.work=He,this.pending=!1}schedule(Pe,He=0){var Ae;if(this.closed)return this;this.state=Pe;const q=this.id,Y=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(Y,q,He)),this.pending=!0,this.delay=He,this.id=null!==(Ae=this.id)&&void 0!==Ae?Ae:this.requestAsyncId(Y,this.id,He),this}requestAsyncId(Pe,He,Ae=0){return B.setInterval(Pe.flush.bind(Pe,this),Ae)}recycleAsyncId(Pe,He,Ae=0){if(null!=Ae&&this.delay===Ae&&!1===this.pending)return He;null!=He&&B.clearInterval(He)}execute(Pe,He){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ae=this._execute(Pe,He);if(Ae)return Ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Pe,He){let q,Ae=!1;try{this.work(Pe)}catch(Y){Ae=!0,q=Y||new Error("Scheduled action threw falsy error")}if(Ae)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:Pe,scheduler:He}=this,{actions:Ae}=He;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(Ae,this),null!=Pe&&(this.id=this.recycleAsyncId(He,Pe,null)),this.delay=null,super.unsubscribe()}}}},2631:(Tt,Fe,N)=>{"use strict";N.d(Fe,{v:()=>B});var h=N(4552);class M{constructor(ye,Ce=M.now){this.schedulerActionCtor=ye,this.now=Ce}schedule(ye,Ce=0,Pe){return new this.schedulerActionCtor(this,ye).schedule(Pe,Ce)}}M.now=h.l.now;class B extends M{constructor(ye,Ce=M.now){super(ye,Ce),this.actions=[],this._active=!1}flush(ye){const{actions:Ce}=this;if(this._active)return void Ce.push(ye);let Pe;this._active=!0;do{if(Pe=ye.execute(ye.state,ye.delay))break}while(ye=Ce.shift());if(this._active=!1,Pe){for(;ye=Ce.shift();)ye.unsubscribe();throw Pe}}}},6321:(Tt,Fe,N)=>{"use strict";N.d(Fe,{P:()=>se,z:()=>B});var h=N(1954);const B=new(N(2631).v)(h.o),se=B},4552:(Tt,Fe,N)=>{"use strict";N.d(Fe,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},7599:(Tt,Fe,N)=>{"use strict";N.d(Fe,{z:()=>h});const h={setTimeout(M,B,...se){const{delegate:ye}=h;return ye?.setTimeout?ye.setTimeout(M,B,...se):setTimeout(M,B,...se)},clearTimeout(M){const{delegate:B}=h;return(B?.clearTimeout||clearTimeout)(M)},delegate:void 0}},4971:(Tt,Fe,N)=>{"use strict";N.d(Fe,{h:()=>M});const M=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Tt,Fe,N)=>{"use strict";N.d(Fe,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(Tt,Fe,N)=>{"use strict";N.d(Fe,{_6:()=>Ce,jO:()=>se,yG:()=>ye});var h=N(4674),M=N(671);function B(Pe){return Pe[Pe.length-1]}function se(Pe){return(0,h.m)(B(Pe))?Pe.pop():void 0}function ye(Pe){return(0,M.K)(B(Pe))?Pe.pop():void 0}function Ce(Pe,He){return"number"==typeof B(Pe)?Pe.pop():He}},9039:(Tt,Fe,N)=>{"use strict";function h(M,B){if(M){const se=M.indexOf(B);0<=se&&M.splice(se,1)}}N.d(Fe,{P:()=>h})},2306:(Tt,Fe,N)=>{"use strict";function h(M){const se=M(ye=>{Error.call(ye),ye.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}N.d(Fe,{d:()=>h})},1441:(Tt,Fe,N)=>{"use strict";N.d(Fe,{O:()=>se,x:()=>B});var h=N(2653);let M=null;function B(ye){if(h.config.useDeprecatedSynchronousErrorHandling){const Ce=!M;if(Ce&&(M={errorThrown:!1,error:null}),ye(),Ce){const{errorThrown:Pe,error:He}=M;if(M=null,Pe)throw He}}else ye()}function se(ye){h.config.useDeprecatedSynchronousErrorHandling&&M&&(M.errorThrown=!0,M.error=ye)}},7103:(Tt,Fe,N)=>{"use strict";function h(M,B,se,ye=0,Ce=!1){const Pe=B.schedule(function(){se(),Ce?M.add(this.schedule(null,ye)):this.unsubscribe()},ye);if(M.add(Pe),!Ce)return Pe}N.d(Fe,{f:()=>h})},2737:(Tt,Fe,N)=>{"use strict";function h(M){return M}N.d(Fe,{y:()=>h})},4266:(Tt,Fe,N)=>{"use strict";N.d(Fe,{z:()=>h});const h=M=>M&&"number"==typeof M.length&&"function"!=typeof M},5726:(Tt,Fe,N)=>{"use strict";N.d(Fe,{D:()=>M});var h=N(4674);function M(B){return Symbol.asyncIterator&&(0,h.m)(B?.[Symbol.asyncIterator])}},4674:(Tt,Fe,N)=>{"use strict";function h(M){return"function"==typeof M}N.d(Fe,{m:()=>h})},8382:(Tt,Fe,N)=>{"use strict";N.d(Fe,{c:()=>B});var h=N(4850),M=N(4674);function B(se){return(0,M.m)(se[h.L])}},3664:(Tt,Fe,N)=>{"use strict";N.d(Fe,{T:()=>B});var h=N(4971),M=N(4674);function B(se){return(0,M.m)(se?.[h.h])}},4026:(Tt,Fe,N)=>{"use strict";N.d(Fe,{t:()=>M});var h=N(4674);function M(B){return(0,h.m)(B?.then)}},541:(Tt,Fe,N)=>{"use strict";N.d(Fe,{L:()=>se,Q:()=>B});var h=N(7582),M=N(4674);function B(ye){return(0,h.FC)(this,arguments,function*(){const Pe=ye.getReader();try{for(;;){const{value:He,done:Ae}=yield(0,h.qq)(Pe.read());if(Ae)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(He)}}finally{Pe.releaseLock()}})}function se(ye){return(0,M.m)(ye?.getReader)}},671:(Tt,Fe,N)=>{"use strict";N.d(Fe,{K:()=>M});var h=N(4674);function M(B){return B&&(0,h.m)(B.schedule)}},9360:(Tt,Fe,N)=>{"use strict";N.d(Fe,{A:()=>M,e:()=>B});var h=N(4674);function M(se){return(0,h.m)(se?.lift)}function B(se){return ye=>{if(M(ye))return ye.lift(function(Ce){try{return se(Ce,this)}catch(Pe){this.error(Pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(Tt,Fe,N)=>{"use strict";function h(){}N.d(Fe,{Z:()=>h})},8407:(Tt,Fe,N)=>{"use strict";N.d(Fe,{U:()=>B,z:()=>M});var h=N(2737);function M(...se){return B(se)}function B(se){return 0===se.length?h.y:1===se.length?se[0]:function(Ce){return se.reduce((Pe,He)=>He(Pe),Ce)}}},3894:(Tt,Fe,N)=>{"use strict";N.d(Fe,{h:()=>B});var h=N(2653),M=N(7599);function B(se){M.z.setTimeout(()=>{const{onUnhandledError:ye}=h.config;if(!ye)throw se;ye(se)})}},9853:(Tt,Fe,N)=>{"use strict";function h(M){return new TypeError(`You provided ${null!==M&&"object"==typeof M?"an invalid object":`'${M}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(Fe,{z:()=>h})},5879:(Tt,Fe,N)=>{"use strict";N.d(Fe,{$8M:()=>Lc,$WT:()=>ga,$Z:()=>Ry,AFp:()=>br,ALo:()=>l_,AaK:()=>de,AsE:()=>mI,CHM:()=>fi,CRH:()=>S1,DdM:()=>q0,Dn7:()=>h1,EJc:()=>PC,EpF:()=>eD,F4k:()=>tD,FYo:()=>Cf,FiY:()=>Te,GfV:()=>cg,Gpc:()=>ht,HDt:()=>hw,JOm:()=>Wh,KtG:()=>nr,LFG:()=>pt,LSH:()=>lf,Lbi:()=>Ot,Lck:()=>qI,MAs:()=>XE,MMx:()=>ZI,MR2:()=>cy,NdJ:()=>iI,O4$:()=>_o,Ojb:()=>zd,OlP:()=>Rr,Oqu:()=>T0,P3R:()=>Nv,PXZ:()=>qC,Q6J:()=>Zy,QGY:()=>rI,Qsj:()=>yy,R0b:()=>Ki,RDi:()=>Ev,Rgc:()=>vh,SBq:()=>Qd,Sil:()=>wh,Suo:()=>dC,TTD:()=>bc,TgZ:()=>Ao,Tol:()=>Qy,VuI:()=>US,W1O:()=>fC,X6Q:()=>TS,XFs:()=>kt,Xpm:()=>Nr,Xq5:()=>WE,Xts:()=>Hd,Y36:()=>nh,YKP:()=>zI,YNc:()=>Eu,Yjl:()=>Pu,Yz7:()=>Pt,Z0I:()=>kn,ZZ4:()=>Aw,_Bn:()=>yh,_UZ:()=>qf,_c5:()=>yT,_uU:()=>gI,aQg:()=>tb,c2e:()=>$1,cJS:()=>Dr,cg1:()=>AI,dDg:()=>vS,dqk:()=>mn,eFA:()=>yw,eJc:()=>v_,ekj:()=>Zf,eoX:()=>gw,f3M:()=>Ct,g9A:()=>la,h0i:()=>pc,hGG:()=>_T,hij:()=>A0,iGM:()=>lC,ifc:()=>Dt,ip1:()=>j1,jDz:()=>qg,kL8:()=>Qn,kcU:()=>Dn,lG2:()=>Ou,lcZ:()=>iC,lqb:()=>fu,lri:()=>Y1,n5z:()=>Fh,oAB:()=>Mu,oxw:()=>oD,q4F:()=>vy,qFp:()=>ol,qLn:()=>Kc,qOj:()=>HE,qZA:()=>lh,rWj:()=>pw,rg0:()=>Cc,sBO:()=>YC,s_b:()=>ps,soG:()=>dw,tb:()=>GC,tp0:()=>Et,uIk:()=>h0,vHH:()=>ae,vpe:()=>xa,wAp:()=>Xf,xp6:()=>wg,z2F:()=>rm,zSh:()=>Se,zs3:()=>da});var h=N(8645),M=N(7394),B=N(5592),se=N(3019),ye=N(5619),Ce=N(2096),Pe=N(3020),He=N(4664),Ae=N(3997);function q(i){for(let o in i)if(i[o]===q)return o;throw Error("Could not find renamed property on target object.")}function Y(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function de(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(de).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function Qe(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const Oe=q({__forward_ref__:q});function ht(i){return i.__forward_ref__=ht,i.toString=function(){return de(this())},i}function Be(i){return ut(i)?i():i}function ut(i){return"function"==typeof i&&i.hasOwnProperty(Oe)&&i.__forward_ref__===ht}function je(i){return i&&!!i.\u0275providers}const bt="https://g.co/ng/security#xss";class ae extends Error{constructor(o,a){super(function ke(i,o){return`NG0${Math.abs(i)}${o?": "+o:""}`}(o,a)),this.code=o}}function me(i){return"string"==typeof i?i:null==i?"":String(i)}function Ve(i,o){throw new ae(-201,!1)}function gt(i,o){null==i&&function lt(i,o,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,i,null,"!=")}function Pt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Dr(i){return{providers:i.providers||[],imports:i.imports||[]}}function $n(i){return fr(i,Ir)||fr(i,ur)}function kn(i){return null!==$n(i)}function fr(i,o){return i.hasOwnProperty(o)?i[o]:null}function Or(i){return i&&(i.hasOwnProperty(qn)||i.hasOwnProperty(ui))?i[qn]:null}const Ir=q({\u0275prov:q}),qn=q({\u0275inj:q}),ur=q({ngInjectableDef:q}),ui=q({ngInjectorDef:q});var kt=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(kt||{});let jt;function en(i){const o=jt;return jt=i,o}function Vr(i,o,a){const c=$n(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&kt.Optional?null:void 0!==o?o:void Ve(de(i))}const mn=globalThis,ot={},At="__NG_DI_FLAG__",Lt="ngTempTokenPath",J=/\n/gm,V="__source";let j;function ce(i){const o=j;return j=i,o}function ze(i,o=kt.Default){if(void 0===j)throw new ae(-203,!1);return null===j?Vr(i,void 0,o):j.get(i,o&kt.Optional?null:void 0,o)}function pt(i,o=kt.Default){return(function zt(){return jt}()||ze)(Be(i),o)}function Ct(i,o=kt.Default){return pt(i,Zn(o))}function Zn(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function rn(i){const o=[];for(let a=0;a<i.length;a++){const c=Be(i[a]);if(Array.isArray(c)){if(0===c.length)throw new ae(900,!1);let f,g=kt.Default;for(let v=0;v<c.length;v++){const I=c[v],D=Cn(I);"number"==typeof D?-1===D?f=I.token:g|=D:f=I}o.push(pt(f,g))}else o.push(pt(c))}return o}function Jn(i,o){return i[At]=o,i.prototype[At]=o,i}function Cn(i){return i[At]}function De(i){return{toString:i}.toString()}var vt=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(vt||{}),Dt=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(Dt||{});const Jt={},St=[],cr=q({\u0275cmp:q}),bi=q({\u0275dir:q}),Xi=q({\u0275pipe:q}),gs=q({\u0275mod:q}),Di=q({\u0275fac:q}),Hn=q({__NG_ELEMENT_ID__:q}),Ko=q({__NG_ENV_ID__:q});function Yo(i,o,a){let c=i.length;for(;;){const f=i.indexOf(o,a);if(-1===f)return f;if(0===f||i.charCodeAt(f-1)<=32){const g=o.length;if(f+g===c||i.charCodeAt(f+g)<=32)return f}a=f+1}}function Vi(i,o,a){let c=0;for(;c<a.length;){const f=a[c];if("number"==typeof f){if(0!==f)break;c++;const g=a[c++],v=a[c++],I=a[c++];i.setAttribute(o,v,I,g)}else{const g=f,v=a[++c];Qo(g)?i.setProperty(o,g,v):i.setAttribute(o,g,v),c++}}return c}function es(i){return 3===i||4===i||6===i}function Qo(i){return 64===i.charCodeAt(0)}function Ro(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const f=o[c];"number"==typeof f?a=f:0===a||No(i,a,f,null,-1===a||2===a?o[++c]:null)}}return i}function No(i,o,a,c,f){let g=0,v=i.length;if(-1===o)v=-1;else for(;g<i.length;){const I=i[g++];if("number"==typeof I){if(I===o){v=-1;break}if(I>o){v=g-1;break}}}for(;g<i.length;){const I=i[g];if("number"==typeof I)break;if(I===a){if(null===c)return void(null!==f&&(i[g+1]=f));if(c===i[g+1])return void(i[g+2]=f)}g++,null!==c&&g++,null!==f&&g++}-1!==v&&(i.splice(v,0,o),g=v+1),i.splice(g++,0,a),null!==c&&i.splice(g++,0,c),null!==f&&i.splice(g++,0,f)}const jr="ng-template";function zs(i,o,a){let c=0,f=!0;for(;c<i.length;){let g=i[c++];if("string"==typeof g&&f){const v=i[c++];if(a&&"class"===g&&-1!==Yo(v.toLowerCase(),o,0))return!0}else{if(1===g){for(;c<i.length&&"string"==typeof(g=i[c++]);)if(g.toLowerCase()===o)return!0;return!1}"number"==typeof g&&(f=!1)}}return!1}function Ss(i){return 4===i.type&&i.value!==jr}function Au(i,o,a){return o===(4!==i.type||a?i.value:jr)}function Jo(i,o,a){let c=4;const f=i.attrs||[],g=function K(i){for(let o=0;o<i.length;o++)if(es(i[o]))return o;return i.length}(f);let v=!1;for(let I=0;I<o.length;I++){const D=o[I];if("number"!=typeof D){if(!v)if(4&c){if(c=2|1&c,""!==D&&!Au(i,D,a)||""===D&&1===o.length){if(Bi(c))return!1;v=!0}}else{const S=8&c?D:o[++I];if(8&c&&null!==i.attrs){if(!zs(i.attrs,S,a)){if(Bi(c))return!1;v=!0}continue}const z=Su(8&c?"class":D,f,Ss(i),a);if(-1===z){if(Bi(c))return!1;v=!0;continue}if(""!==S){let ie;ie=z>g?"":f[z+1].toLowerCase();const ge=8&c?ie:null;if(ge&&-1!==Yo(ge,S,0)||2&c&&S!==ie){if(Bi(c))return!1;v=!0}}}}else{if(!v&&!Bi(c)&&!Bi(D))return!1;if(v&&Bi(D))continue;v=!1,c=D|1&c}}return Bi(c)||v}function Bi(i){return 0==(1&i)}function Su(i,o,a,c){if(null===o)return-1;let f=0;if(c||!a){let g=!1;for(;f<o.length;){const v=o[f];if(v===i)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let I=o[++f];for(;"string"==typeof I;)I=o[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function fe(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,i)}function Xo(i,o,a=!1){for(let c=0;c<o.length;c++)if(Jo(i,o[c],a))return!0;return!1}function xt(i,o){return i?":not("+o.trim()+")":o}function Xn(i){let o=i[0],a=1,c=2,f="",g=!1;for(;a<i.length;){let v=i[a];if("string"==typeof v)if(2&c){const I=i[++a];f+="["+v+(I.length>0?'="'+I+'"':"")+"]"}else 8&c?f+="."+v:4&c&&(f+=" "+v);else""!==f&&!Bi(v)&&(o+=xt(g,f),f=""),c=v,g=g||!Bi(c);a++}return""!==f&&(o+=xt(g,f)),o}function Nr(i){return De(()=>{const o=cd(i),a={...o,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===vt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||Dt.Emulated,styles:i.styles||St,_:null,schemas:i.schemas||null,tView:null,id:""};_c(a);const c=i.dependencies;return a.directiveDefs=ea(c,!1),a.pipeDefs=ea(c,!0),a.id=function Ru(i){let o=0;const a=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const f of a)o=Math.imul(31,o)+f.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(a),a})}function _i(i){return er(i)||Oi(i)}function Js(i){return null!==i}function Mu(i){return De(()=>({type:i.type,bootstrap:i.bootstrap||St,declarations:i.declarations||St,imports:i.imports||St,exports:i.exports||St,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function xu(i,o){if(null==i)return Jt;const a={};for(const c in i)if(i.hasOwnProperty(c)){let f=i[c],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),a[f]=c,o&&(o[f]=g)}return a}function Ou(i){return De(()=>{const o=cd(i);return _c(o),o})}function Pu(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function er(i){return i[cr]||null}function Oi(i){return i[bi]||null}function ji(i){return i[Xi]||null}function ga(i){const o=er(i)||Oi(i)||ji(i);return null!==o&&o.standalone}function ts(i,o){const a=i[gs]||null;if(!a&&!0===o)throw new Error(`Type ${de(i)} does not have '\u0275mod' property.`);return a}function cd(i){const o={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:i.inputs||Jt,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||St,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xu(i.inputs,o),outputs:xu(i.outputs)}}function _c(i){i.features?.forEach(o=>o(i))}function ea(i,o){if(!i)return null;const a=o?ji:_i;return()=>("function"==typeof i?i():i).map(c=>a(c)).filter(Js)}const kr=0,mt=1,vn=2,Ar=3,Gn=4,lr=5,$i=6,Ba=7,si=8,ko=9,xs=10,nn=11,ja=12,Dh=13,ir=14,di=15,Hi=16,Os=17,Gi=18,oi=19,ll=20,ta=21,go=22,W=23,G=24,Z=25,qe=1,nt=2,yt=7,Gt=9,sn=11;function hr(i){return Array.isArray(i)&&"object"==typeof i[qe]}function ar(i){return Array.isArray(i)&&!0===i[qe]}function $a(i){return 0!=(4&i.flags)}function Ps(i){return i.componentOffset>-1}function Lo(i){return 1==(1&i.flags)}function ei(i){return!!i.template}function Rs(i){return 0!=(512&i[vn])}function ma(i,o){return i.hasOwnProperty(Di)?i[Di]:null}let zi=null,ml=!1;function ms(i){const o=zi;return zi=i,o}const na={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Cm(i){if(!fd(i)||i.dirty){if(!i.producerMustRecompute(i)&&!bm(i))return void(i.dirty=!1);i.producerRecomputeValue(i),i.dirty=!1}}function Ic(i){i.dirty=!0,function mp(i){if(void 0===i.liveConsumerNode)return;const o=ml;ml=!0;try{for(const a of i.liveConsumerNode)a.dirty||Ic(a)}finally{ml=o}}(i),i.consumerMarkedDirty?.(i)}function mo(i){return i&&(i.nextProducerIndex=0),ms(i)}function yl(i,o){if(ms(o),i&&void 0!==i.producerNode&&void 0!==i.producerIndexOfThis&&void 0!==i.producerLastReadVersion){if(fd(i))for(let a=i.nextProducerIndex;a<i.producerNode.length;a++)_l(i.producerNode[a],i.producerIndexOfThis[a]);for(;i.producerNode.length>i.nextProducerIndex;)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function bm(i){Fo(i);for(let o=0;o<i.producerNode.length;o++){const a=i.producerNode[o],c=i.producerLastReadVersion[o];if(c!==a.version||(Cm(a),c!==a.version))return!0}return!1}function Ah(i){if(Fo(i),fd(i))for(let o=0;o<i.producerNode.length;o++)_l(i.producerNode[o],i.producerIndexOfThis[o]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function _l(i,o){if(function le(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}(i),Fo(i),1===i.liveConsumerNode.length)for(let c=0;c<i.producerNode.length;c++)_l(i.producerNode[c],i.producerIndexOfThis[c]);const a=i.liveConsumerNode.length-1;if(i.liveConsumerNode[o]=i.liveConsumerNode[a],i.liveConsumerIndexOfThis[o]=i.liveConsumerIndexOfThis[a],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,o<i.liveConsumerNode.length){const c=i.liveConsumerIndexOfThis[o],f=i.liveConsumerNode[o];Fo(f),f.producerIndexOfThis[c]=o}}function fd(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function Fo(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}let Lr=null;function Cc(i){const o=ms(null);try{return i()}finally{ms(o)}}const _p=()=>{},Z_=(()=>({...na,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:i=>{i.schedule(i.ref)},hasRun:!1,cleanupFn:_p}))();class Ga{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function bc(){return md}function md(i){return i.type.prototype.ngOnChanges&&(i.setInput=ra),Fu}function Fu(){const i=Dc(this),o=i?.current;if(o){const a=i.previous;if(a===Jt)i.previous=o;else for(let c in o)a[c]=o[c];i.current=null,this.ngOnChanges(o)}}function ra(i,o,a,c){const f=this.declaredInputs[a],g=Dc(i)||function vp(i,o){return i[Uu]=o}(i,{previous:Jt,current:null}),v=g.current||(g.current={}),I=g.previous,D=I[f];v[f]=new Ga(D&&D.currentValue,o,I===Jt),i[c]=o}bc.ngInherit=!0;const Uu="__ngSimpleChanges__";function Dc(i){return i[Uu]||null}const to=function(i,o,a){},wp="svg";function Mr(i){for(;Array.isArray(i);)i=i[kr];return i}function yo(i,o){return Mr(o[i])}function rs(i,o){return Mr(o[i.index])}function _d(i,o){return i.data[o]}function Ac(i,o){return i[o]}function qs(i,o){const a=o[i];return hr(a)?a:a[kr]}function za(i,o){return null==o?null:i[o]}function Sh(i){i[Os]=0}function Il(i){1024&i[vn]||(i[vn]|=1024,ti(i,1))}function Mh(i){1024&i[vn]&&(i[vn]&=-1025,ti(i,-1))}function ti(i,o){let a=i[Ar];if(null===a)return;a[lr]+=o;let c=a;for(a=a[Ar];null!==a&&(1===o&&1===c[lr]||-1===o&&0===c[lr]);)a[lr]+=o,c=a,a=a[Ar]}const on={lFrame:Tp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Sc(){return on.bindingsEnabled}function Ke(){return on.lFrame.lView}function tr(){return on.lFrame.tView}function fi(i){return on.lFrame.contextLView=i,i[si]}function nr(i){return on.lFrame.contextLView=null,i}function is(){let i=wd();for(;null!==i&&64===i.type;)i=i.parent;return i}function wd(){return on.lFrame.currentTNode}function ys(i,o){const a=on.lFrame;a.currentTNode=i,a.isParent=o}function Ip(){return on.lFrame.isParent}function Zr(){const i=on.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}function Al(){return on.lFrame.bindingIndex++}function ia(i){const o=on.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}function bp(i,o){const a=on.lFrame;a.bindingIndex=a.bindingRootIndex=i,Dp(o)}function Dp(i){on.lFrame.currentDirectiveIndex=i}function Pm(){return on.lFrame.currentQueryIndex}function Ka(i){on.lFrame.currentQueryIndex=i}function J_(i){const o=i[mt];return 2===o.type?o.declTNode:1===o.type?i[$i]:null}function Rh(i,o,a){if(a&kt.SkipSelf){let f=o,g=i;for(;!(f=f.parent,null!==f||a&kt.Host||(f=J_(g),null===f||(g=g[ir],10&f.type))););if(null===f)return!1;o=f,i=g}const c=on.lFrame=Ya();return c.currentTNode=o,c.lView=i,!0}function Kr(i){const o=Ya(),a=i[mt];on.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Ya(){const i=on.lFrame,o=null===i?null:i.child;return null===o?Tp(i):o}function Tp(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function $r(){const i=on.lFrame;return on.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Xt=$r;function ss(){const i=$r();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function ks(){return on.lFrame.selectedIndex}function va(i){on.lFrame.selectedIndex=i}function Hr(){const i=on.lFrame;return _d(i.tView,i.selectedIndex)}function _o(){on.lFrame.currentNamespace=wp}function Dn(){!function Ap(){on.lFrame.currentNamespace=null}()}let no=!0;function Uo(){return no}function Ls(i){no=i}function xc(i,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const g=i.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:I,ngAfterViewInit:D,ngAfterViewChecked:S,ngOnDestroy:R}=g;v&&(i.contentHooks??=[]).push(-a,v),I&&((i.contentHooks??=[]).push(a,I),(i.contentCheckHooks??=[]).push(a,I)),D&&(i.viewHooks??=[]).push(-a,D),S&&((i.viewHooks??=[]).push(a,S),(i.viewCheckHooks??=[]).push(a,S)),null!=R&&(i.destroyHooks??=[]).push(a,R)}}function Qa(i,o,a){Vo(i,o,3,a)}function Hu(i,o,a,c){(3&i[vn])===a&&Vo(i,o,a,c)}function Ja(i,o){let a=i[vn];(3&a)===o&&(a&=8191,a+=1,i[vn]=a)}function Vo(i,o,a,c){const g=c??-1,v=o.length-1;let I=0;for(let D=void 0!==c?65535&i[Os]:0;D<v;D++)if("number"==typeof o[D+1]){if(I=o[D],null!=c&&I>=c)break}else o[D]<0&&(i[Os]+=65536),(I<g||-1==g)&&(Ml(i,a,o,D),i[Os]=(4294901760&i[Os])+D+2),D++}function Xa(i,o){to(4,i,o);const a=ms(null);try{o.call(i)}finally{ms(a),to(5,i,o)}}function Ml(i,o,a,c){const f=a[c]<0,g=a[c+1],I=i[f?-a[c]:a[c]];f?i[vn]>>13<i[Os]>>16&&(3&i[vn])===o&&(i[vn]+=8192,Xa(I,g)):Xa(I,g)}const ro=-1;class eu{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function xl(i){return i!==ro}function Fr(i){return 32767&i}function pi(i,o){let a=function Er(i){return i>>16}(i),c=o;for(;a>0;)c=c[ir],a--;return c}let Rc=!0;function as(i){const o=Rc;return Rc=i,o}const Nc=255,Ea=5;let Mp=0;const Ri={};function Yr(i,o){const a=Id(i,o);if(-1!==a)return a;const c=o[mt];c.firstCreatePass&&(i.injectorIndex=o.length,vo(c.data,i),vo(o,null),vo(c.blueprint,null));const f=Ia(i,o),g=i.injectorIndex;if(xl(f)){const v=Fr(f),I=pi(f,o),D=I[mt].data;for(let S=0;S<8;S++)o[g+S]=I[v+S]|D[v+S]}return o[g+8]=f,g}function vo(i,o){i.push(0,0,0,0,0,0,0,0,o)}function Id(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function Ia(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,f=o;for(;null!==f;){if(c=Uh(f),null===c)return ro;if(a++,f=f[ir],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return ro}function zu(i,o,a){!function nu(i,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Hn)&&(c=a[Hn]),null==c&&(c=a[Hn]=Mp++);const f=c&Nc;o.data[i+(f>>Ea)]|=1<<f}(i,o,a)}function Nh(i,o,a){if(a&kt.Optional||void 0!==i)return i;Ve()}function qu(i,o,a,c){if(a&kt.Optional&&void 0===c&&(c=null),!(a&(kt.Self|kt.Host))){const f=i[ko],g=en(void 0);try{return f?f.get(o,c,a&kt.Optional):Vr(o,c,a&kt.Optional)}finally{en(g)}}return Nh(c,0,a)}function Cd(i,o,a,c=kt.Default,f){if(null!==i){if(2048&o[vn]&&!(c&kt.Self)){const v=function Dd(i,o,a,c,f){let g=i,v=o;for(;null!==g&&null!==v&&2048&v[vn]&&!(512&v[vn]);){const I=kc(g,v,a,c|kt.Self,Ri);if(I!==Ri)return I;let D=g.parent;if(!D){const S=v[ll];if(S){const R=S.get(a,Ri,c);if(R!==Ri)return R}D=Uh(v),v=v[ir]}g=D}return f}(i,o,a,c,Ri);if(v!==Ri)return v}const g=kc(i,o,a,c,Ri);if(g!==Ri)return g}return qu(o,a,c,f)}function kc(i,o,a,c,f){const g=function Ca(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(Hn)?i[Hn]:void 0;return"number"==typeof o?o>=0?o&Nc:iu:o}(a);if("function"==typeof g){if(!Rh(o,i,c))return c&kt.Host?Nh(f,0,c):qu(o,a,c,f);try{let v;if(v=g(c),null!=v||c&kt.Optional)return v;Ve()}finally{Xt()}}else if("number"==typeof g){let v=null,I=Id(i,o),D=ro,S=c&kt.Host?o[di][$i]:null;for((-1===I||c&kt.SkipSelf)&&(D=-1===I?Ia(i,o):o[I+8],D!==ro&&Ol(c,!1)?(v=o[mt],I=Fr(D),o=pi(D,o)):I=-1);-1!==I;){const R=o[mt];if(kh(g,I,R.data)){const z=Un(I,o,a,v,c,S);if(z!==Ri)return z}D=o[I+8],D!==ro&&Ol(c,o[mt].data[I+8]===S)&&kh(g,I,o)?(v=R,I=Fr(D),o=pi(D,o)):I=-1}}return f}function Un(i,o,a,c,f,g){const v=o[mt],I=v.data[i+8],R=aa(I,v,a,null==c?Ps(I)&&Rc:c!=v&&0!=(3&I.type),f&kt.Host&&g===I);return null!==R?ru(o,v,R,I):Ri}function aa(i,o,a,c,f){const g=i.providerIndexes,v=o.data,I=1048575&g,D=i.directiveStart,R=g>>20,ie=f?I+R:i.directiveEnd;for(let ge=c?I:I+R;ge<ie;ge++){const Ze=v[ge];if(ge<D&&a===Ze||ge>=D&&Ze.type===a)return ge}if(f){const ge=v[D];if(ge&&ei(ge)&&ge.type===a)return D}return null}function ru(i,o,a,c){let f=i[a];const g=o.data;if(function Oc(i){return i instanceof eu}(f)){const v=f;v.resolving&&function Xe(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new ae(-200,`Circular dependency in DI detected for ${i}${a}`)}(function Ue(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():me(i)}(g[a]));const I=as(v.canSeeViewProviders);v.resolving=!0;const S=v.injectImpl?en(v.injectImpl):null;Rh(i,c,kt.Default);try{f=i[a]=v.factory(void 0,g,i,c),o.firstCreatePass&&a>=c.directiveStart&&function Gr(i,o,a){const{ngOnChanges:c,ngOnInit:f,ngDoCheck:g}=o.type.prototype;if(c){const v=md(o);(a.preOrderHooks??=[]).push(i,v),(a.preOrderCheckHooks??=[]).push(i,v)}f&&(a.preOrderHooks??=[]).push(0-i,f),g&&((a.preOrderHooks??=[]).push(i,g),(a.preOrderCheckHooks??=[]).push(i,g))}(a,g[a],o)}finally{null!==S&&en(S),as(I),v.resolving=!1,Xt()}}return f}function kh(i,o,a){return!!(a[o+(i>>Ea)]&1<<i)}function Ol(i,o){return!(i&kt.Self||i&kt.Host&&o)}class Ti{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return Cd(this._tNode,this._lView,o,Zn(c),a)}}function iu(){return new Ti(is(),Ke())}function Fh(i){return De(()=>{const o=i.prototype.constructor,a=o[Di]||bd(o),c=Object.prototype;let f=Object.getPrototypeOf(i.prototype).constructor;for(;f&&f!==c;){const g=f[Di]||bd(f);if(g&&g!==a)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function bd(i){return ut(i)?()=>{const o=bd(Be(i));return o&&o()}:ma(i)}function Uh(i){const o=i[mt],a=o.type;return 2===a?o.declTNode:1===a?i[$i]:null}function Lc(i){return function xp(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const c=a.length;let f=0;for(;f<c;){const g=a[f];if(es(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<c&&"string"==typeof a[f];)f++;else{if(g===o)return a[f+1];f+=2}}}return null}(is(),i)}const ba="__parameters__";function rr(i,o,a){return De(()=>{const c=function su(i){return function(...a){if(i){const c=i(...a);for(const f in c)this[f]=c[f]}}}(o);function f(...g){if(this instanceof f)return c.apply(this,g),this;const v=new f(...g);return I.annotation=v,I;function I(D,S,R){const z=D.hasOwnProperty(ba)?D[ba]:Object.defineProperty(D,ba,{value:[]})[ba];for(;z.length<=R;)z.push(null);return(z[R]=z[R]||[]).push(v),D}}return a&&(f.prototype=Object.create(a.prototype)),f.prototype.ngMetadataName=i,f.annotationCls=f,f})}function Zu(i,o){i.forEach(a=>Array.isArray(a)?Zu(a,o):o(a))}function Bh(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function ou(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function Vs(i,o,a){let c=Uc(i,o);return c>=0?i[1|c]=a:(c=~c,function jh(i,o,a,c){let f=i.length;if(f==o)i.push(a,c);else if(1===f)i.push(c,i[0]),i[0]=a;else{for(f--,i.push(i[f-1],i[f]);f>o;)i[f]=i[f-2],f--;i[o]=a,i[o+1]=c}}(i,c,o,a)),c}function $h(i,o){const a=Uc(i,o);if(a>=0)return i[1|a]}function Uc(i,o){return function kl(i,o,a){let c=0,f=i.length>>a;for(;f!==c;){const g=c+(f-c>>1),v=i[g<<a];if(o===v)return g<<a;v>o?f=g:c=g+1}return~(f<<a)}(i,o,1)}const Te=Jn(rr("Optional"),8),Et=Jn(rr("SkipSelf"),4);function qh(i){return 128==(128&i.flags)}var Wh=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(Wh||{});const Zh=new Map;let Hm=0;const kp="__ngContext__";function $s(i,o){hr(o)?(i[kp]=o[oi],function tv(i){Zh.set(i[oi],i)}(o)):i[kp]=o}let Sa;function $o(i,o){return Sa(i,o)}function Xu(i){const o=i[Ar];return ar(o)?o[Ar]:o}function uv(i){return Qh(i[ja])}function qm(i){return Qh(i[Gn])}function Qh(i){for(;null!==i&&!ar(i);)i=i[Gn];return i}function kd(i,o,a,c,f){if(null!=c){let g,v=!1;ar(c)?g=c:hr(c)&&(v=!0,c=c[kr]);const I=Mr(c);0===i&&null!==a?null==f?hv(o,a,I):$l(o,a,I,f||null,!0):1===i&&null!==a?$l(o,a,I,f||null,!0):2===i?function Hp(i,o,a){const c=jp(i,o);c&&function pv(i,o,a,c){i.removeChild(o,a,c)}(i,c,o,a)}(o,I,v):3===i&&o.destroyNode(I),null!=g&&function eE(i,o,a,c,f){const g=a[yt];g!==Mr(a)&&kd(o,i,c,g,f);for(let I=sn;I<a.length;I++){const D=a[I];tf(D[mt],D,i,o,c,g)}}(o,i,g,a,f)}}function Vp(i,o,a){return i.createElement(o,a)}function Wm(i,o){const a=i[Gt],c=a.indexOf(o);Mh(o),a.splice(c,1)}function Bp(i,o){if(i.length<=sn)return;const a=sn+o,c=i[a];if(c){const f=c[Hi];null!==f&&f!==i&&Wm(f,c),o>0&&(i[a-1][Gn]=c[Gn]);const g=ou(i,sn+o);!function cv(i,o){tf(i,o,o[nn],2,null,null),o[kr]=null,o[$i]=null}(c[mt],c);const v=g[Gi];null!==v&&v.detachView(g[mt]),c[Ar]=null,c[Gn]=null,c[vn]&=-129}return c}function Zm(i,o){if(!(256&o[vn])){const a=o[nn];o[W]&&Ah(o[W]),o[G]&&Ah(o[G]),a.destroyNode&&tf(i,o,a,3,null,null),function Kw(i){let o=i[ja];if(!o)return lv(i[mt],i);for(;o;){let a=null;if(hr(o))a=o[ja];else{const c=o[sn];c&&(a=c)}if(!a){for(;o&&!o[Gn]&&o!==i;)hr(o)&&lv(o[mt],o),o=o[Ar];null===o&&(o=i),hr(o)&&lv(o[mt],o),a=o&&o[Gn]}o=a}}(o)}}function lv(i,o){if(!(256&o[vn])){o[vn]&=-129,o[vn]|=256,function dv(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const f=o[a[c]];if(!(f instanceof eu)){const g=a[c+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const I=f[g[v]],D=g[v+1];to(4,I,D);try{D.call(I)}finally{to(5,I,D)}}else{to(4,f,g);try{g.call(f)}finally{to(5,f,g)}}}}}(i,o),function Jw(i,o){const a=i.cleanup,c=o[Ba];if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const v=a[g+3];v>=0?c[v]():c[-v].unsubscribe(),g+=2}else a[g].call(c[a[g+1]]);null!==c&&(o[Ba]=null);const f=o[ta];if(null!==f){o[ta]=null;for(let g=0;g<f.length;g++)(0,f[g])()}}(i,o),1===o[mt].type&&o[nn].destroy();const a=o[Hi];if(null!==a&&ar(o[Ar])){a!==o[Ar]&&Wm(a,o);const c=o[Gi];null!==c&&c.detachView(i)}!function Nd(i){Zh.delete(i[oi])}(o)}}function Ud(i,o,a){return function Es(i,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[kr];{const{componentOffset:f}=c;if(f>-1){const{encapsulation:g}=i.data[c.directiveStart+f];if(g===Dt.None||g===Dt.Emulated)return null}return rs(c,a)}}(i,o.parent,a)}function $l(i,o,a,c,f){i.insertBefore(o,a,c,f)}function hv(i,o,a){i.appendChild(o,a)}function fv(i,o,a,c,f){null!==c?$l(i,o,a,c,f):hv(i,o,a)}function jp(i,o){return i.parentNode(o)}let Ym,wv,zp,Km=function $p(i,o,a){return 40&i.type?rs(i,a):null};function Xh(i,o,a,c){const f=Ud(i,c,o),g=o[nn],I=function gv(i,o,a){return Km(i,o,a)}(c.parent||o[$i],c,o);if(null!=f)if(Array.isArray(a))for(let D=0;D<a.length;D++)fv(g,f,a[D],I,!1);else fv(g,f,a,I,!1);void 0!==Ym&&Ym(g,c,o,a,f)}function hu(i,o){if(null!==o){const a=o.type;if(3&a)return rs(o,i);if(4&a)return Jm(-1,i[o.index]);if(8&a){const c=o.child;if(null!==c)return hu(i,c);{const f=i[o.index];return ar(f)?Jm(-1,f):Mr(f)}}if(32&a)return $o(o,i)()||Mr(i[o.index]);{const c=Qm(i,o);return null!==c?Array.isArray(c)?c[0]:hu(Xu(i[di]),c):hu(i,o.next)}}return null}function Qm(i,o){return null!==o?i[di][$i].projection[o.projection]:null}function Jm(i,o){const a=sn+i+1;if(a<o.length){const c=o[a],f=c[mt].firstChild;if(null!==f)return hu(c,f)}return o[yt]}function ef(i,o,a,c,f,g,v){for(;null!=a;){const I=c[a.index],D=a.type;if(v&&0===o&&(I&&$s(Mr(I),c),a.flags|=2),32!=(32&a.flags))if(8&D)ef(i,o,a.child,c,f,g,!1),kd(o,i,f,I,g);else if(32&D){const S=$o(a,c);let R;for(;R=S();)kd(o,i,f,R,g);kd(o,i,f,I,g)}else 16&D?ey(i,o,c,a,f,g):kd(o,i,f,I,g);a=v?a.projectionNext:a.next}}function tf(i,o,a,c,f,g){ef(a,c,i.firstChild,o,f,g,!1)}function ey(i,o,a,c,f,g){const v=a[di],D=v[$i].projection[c.projection];if(Array.isArray(D))for(let S=0;S<D.length;S++)kd(o,i,f,D[S],g);else{let S=D;const R=v[Ar];qh(c)&&(S.flags|=128),ef(i,o,S,R,f,g,!0)}}function yv(i,o,a){""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a)}function nf(i,o,a){const{mergedAttrs:c,classes:f,styles:g}=a;null!==c&&Vi(i,o,c),null!==f&&yv(i,o,f),null!==g&&function nE(i,o,a){i.setAttribute(o,"style",a)}(i,o,g)}function Ev(i){wv=i}function rf(i){return function ny(){if(void 0===zp&&(zp=null,mn.trustedTypes))try{zp=mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return zp}()?.createScriptURL(i)||i}class Cv{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${bt})`}}function qc(i){return i instanceof Cv?i.changingThisBreaksApplicationSecurity:i}function Bd(i,o){const a=function qp(i){return i instanceof Cv&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${bt})`)}return a===o}const sf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var $d=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}($d||{});function lf(i){const o=hf();return o?o.sanitize($d.URL,i)||"":Bd(i,"URL")?qc(i):function Zp(i){return(i=String(i)).match(sf)?i:"unsafe:"+i}(me(i))}function df(i){const o=hf();if(o)return rf(o.sanitize($d.RESOURCE_URL,i)||"");if(Bd(i,"ResourceURL"))return rf(qc(i));throw new ae(904,!1)}function Nv(i,o,a){return function uy(i,o){return"src"===o&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===o&&("base"===i||"link"===i)?df:lf}(o,a)(i)}function hf(){const i=Ke();return i&&i[xs].sanitizer}class Rr{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Pt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Hd=new Rr("ENVIRONMENT_INITIALIZER"),kv=new Rr("INJECTOR",-1),Lv=new Rr("INJECTOR_DEF_TYPES");class Jp{get(o,a=ot){if(a===ot){const c=new Error(`NullInjectorError: No provider for ${de(o)}!`);throw c.name="NullInjectorError",c}return a}}function cy(i){return{\u0275providers:i}}function fE(...i){return{\u0275providers:Fv(0,i),\u0275fromNgModule:!0}}function Fv(i,...o){const a=[],c=new Set;let f;const g=v=>{a.push(v)};return Zu(o,v=>{const I=v;bo(I,g,[],c)&&(f||=[],f.push(I))}),void 0!==f&&Uv(f,g),a}function Uv(i,o){for(let a=0;a<i.length;a++){const{ngModule:c,providers:f}=i[a];ly(f,g=>{o(g,c)})}}function bo(i,o,a,c){if(!(i=Be(i)))return!1;let f=null,g=Or(i);const v=!g&&er(i);if(g||v){if(v&&!v.standalone)return!1;f=i}else{const D=i.ngModule;if(g=Or(D),!g)return!1;f=D}const I=c.has(f);if(v){if(I)return!1;if(c.add(f),v.dependencies){const D="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const S of D)bo(S,o,a,c)}}else{if(!g)return!1;{if(null!=g.imports&&!I){let S;c.add(f);try{Zu(g.imports,R=>{bo(R,o,a,c)&&(S||=[],S.push(R))})}finally{}void 0!==S&&Uv(S,o)}if(!I){const S=ma(f)||(()=>new f);o({provide:f,useFactory:S,deps:St},f),o({provide:Lv,useValue:f,multi:!0},f),o({provide:Hd,useValue:()=>pt(f),multi:!0},f)}const D=g.providers;if(null!=D&&!I){const S=i;ly(D,R=>{o(R,S)})}}}return f!==i&&void 0!==i.providers}function ly(i,o){for(let a of i)je(a)&&(a=a.\u0275providers),Array.isArray(a)?ly(a,o):o(a)}const Gd=q({provide:String,useValue:q});function Vn(i){return null!==i&&"object"==typeof i&&Gd in i}function ni(i){return"function"==typeof i}const Se=new Rr("Set Injector scope."),ff={},mE={};let dy;function Xp(){return void 0===dy&&(dy=new Jp),dy}class fu{}class Wc extends fu{get destroyed(){return this._destroyed}constructor(o,a,c,f){super(),this.parent=a,this.source=c,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,pu(o,v=>this.processProvider(v)),this.records.set(kv,Qr(void 0,this)),f.has("environment")&&this.records.set(fu,Qr(void 0,this));const g=this.records.get(Se);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Lv.multi,St,kt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of o)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const a=ce(this),c=en(void 0);try{return o()}finally{ce(a),en(c)}}get(o,a=ot,c=kt.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(Ko))return o[Ko](this);c=Zn(c);const g=ce(this),v=en(void 0);try{if(!(c&kt.SkipSelf)){let D=this.records.get(o);if(void 0===D){const S=function eg(i){return"function"==typeof i||"object"==typeof i&&i instanceof Rr}(o)&&$n(o);D=S&&this.injectableDefInScope(S)?Qr(Ai(o),ff):null,this.records.set(o,D)}if(null!=D)return this.hydrate(o,D)}return(c&kt.Self?Xp():this.parent).get(o,a=c&kt.Optional&&a===ot?null:a)}catch(I){if("NullInjectorError"===I.name){if((I[Lt]=I[Lt]||[]).unshift(de(o)),g)throw I;return function li(i,o,a,c){const f=i[Lt];throw o[V]&&f.unshift(o[V]),i.message=function re(i,o,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let f=de(o);if(Array.isArray(o))f=o.map(de).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let I=o[v];g.push(v+":"+("string"==typeof I?JSON.stringify(I):de(I)))}f=`{${g.join(", ")}}`}return`${a}${c?"("+c+")":""}[${f}]: ${i.replace(J,"\n  ")}`}("\n"+i.message,f,a,c),i.ngTokenPath=f,i[Lt]=null,i}(I,o,"R3InjectorError",this.source)}throw I}finally{en(v),ce(g)}}resolveInjectorInitializers(){const o=ce(this),a=en(void 0);try{const f=this.get(Hd.multi,St,kt.Self);for(const g of f)g()}finally{ce(o),en(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(de(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ae(205,!1)}processProvider(o){let a=ni(o=Be(o))?o:Be(o&&o.provide);const c=function Vv(i){return Vn(i)?Qr(void 0,i.useValue):Qr(Ni(i),ff)}(o);if(ni(o)||!0!==o.multi)this.records.get(a);else{let f=this.records.get(a);f||(f=Qr(void 0,ff,!0),f.factory=()=>rn(f.multi),this.records.set(a,f)),a=o,f.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===ff&&(a.value=mE,a.value=a.factory()),"object"==typeof a.value&&a.value&&function pf(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Be(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(o){const a=this._onDestroyHooks.indexOf(o);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Ai(i){const o=$n(i),a=null!==o?o.factory:ma(i);if(null!==a)return a;if(i instanceof Rr)throw new ae(204,!1);if(i instanceof Function)return function Ma(i){const o=i.length;if(o>0)throw function Us(i,o){const a=[];for(let c=0;c<i;c++)a.push(o);return a}(o,"?"),new ae(204,!1);const a=function vr(i){return i&&(i[Ir]||i[ur])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new ae(204,!1)}function Ni(i,o,a){let c;if(ni(i)){const f=Be(i);return ma(f)||Ai(f)}if(Vn(i))c=()=>Be(i.useValue);else if(function Do(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...rn(i.deps||[]));else if(function gE(i){return!(!i||!i.useExisting)}(i))c=()=>pt(Be(i.useExisting));else{const f=Be(i&&(i.useClass||i.provide));if(!function Si(i){return!!i.deps}(i))return ma(f)||Ai(f);c=()=>new f(...rn(i.deps))}return c}function Qr(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function pu(i,o){for(const a of i)Array.isArray(a)?pu(a,o):a&&je(a)?pu(a.\u0275providers,o):o(a)}const br=new Rr("AppId",{providedIn:"root",factory:()=>yE}),yE="ng",la=new Rr("Platform Initializer"),Ot=new Rr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zd=new Rr("CSP nonce",{providedIn:"root",factory:()=>function Hl(){if(void 0!==wv)return wv;if(typeof document<"u")return document;throw new ae(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let vf=(i,o,a)=>null;function rg(i,o,a=!1){return vf(i,o,a)}class Ef{}class ag{}class ki{resolveComponentFactory(o){throw function If(i){const o=Error(`No component factory found for ${de(i)}.`);return o.ngComponent=i,o}(o)}}let ls=(()=>{class i{static#e=this.NULL=new ki}return i})();function IE(){return Gl(is(),Ke())}function Gl(i,o){return new Qd(rs(i,o))}let Qd=(()=>{class i{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=IE}return i})();function my(i){return i instanceof Qd?i.nativeElement:i}class Cf{}let yy=(()=>{class i{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function _y(){const i=Ke(),a=qs(is().index,i);return(hr(a)?a:i)[nn]}()}return i})(),ug=(()=>{class i{static#e=this.\u0275prov=Pt({token:i,providedIn:"root",factory:()=>null})}return i})();class cg{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const vy=new cg("16.2.8"),lg={};function Df(i,o=null,a=null,c){const f=Tf(i,o,a,c);return f.resolveInjectorInitializers(),f}function Tf(i,o=null,a=null,c,f=new Set){const g=[a||St,fE(i)];return c=c||("object"==typeof i?void 0:de(i)),new Wc(g,o||Xp(),c||null,f)}let da=(()=>{class i{static#e=this.THROW_IF_NOT_FOUND=ot;static#t=this.NULL=new Jp;static create(a,c){if(Array.isArray(a))return Df({name:""},c,a,"");{const f=a.name??"";return Df({name:f},a.parent,a.providers,f)}}static#n=this.\u0275prov=Pt({token:i,providedIn:"any",factory:()=>pt(kv)});static#r=this.__NG_ELEMENT_ID__=-1}return i})();function hg(i){return i.ngOriginalError}class Kc{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&hg(o);for(;a&&hg(a);)a=hg(a);return a||null}}function Sf(i){return o=>{setTimeout(i,void 0,o)}}const xa=class Af extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let f=o,g=a||(()=>null),v=c;if(o&&"object"==typeof o){const D=o;f=D.next?.bind(D),g=D.error?.bind(D),v=D.complete?.bind(D)}this.__isAsync&&(g=Sf(g),f&&(f=Sf(f)),v&&(v=Sf(v)));const I=super.subscribe({next:f,error:g,complete:v});return o instanceof M.w0&&o.add(I),I}};function zv(...i){}class Ki{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xa(!1),this.onMicrotaskEmpty=new xa(!1),this.onStable=new xa(!1),this.onError=new xa(!1),typeof Zone>"u")throw new ae(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!c&&a,f.shouldCoalesceRunChangeDetection=c,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function pg(){const i="function"==typeof mn.requestAnimationFrame;let o=mn[i?"requestAnimationFrame":"setTimeout"],a=mn[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const f=a[Zone.__symbol__("OriginalDelegate")];f&&(a=f)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Zv(i){const o=()=>{!function Mf(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(mn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,gg(i),i.isCheckStableRunning=!0,by(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),gg(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,f,g,v,I)=>{if(function TE(i){return!(!Array.isArray(i)||1!==i.length)&&!0===i[0].data?.__ignore_ng_zone__}(I))return a.invokeTask(f,g,v,I);try{return Dy(i),a.invokeTask(f,g,v,I)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||i.shouldCoalesceRunChangeDetection)&&o(),xf(i)}},onInvoke:(a,c,f,g,v,I,D)=>{try{return Dy(i),a.invoke(f,g,v,I,D)}finally{i.shouldCoalesceRunChangeDetection&&o(),xf(i)}},onHasTask:(a,c,f,g)=>{a.hasTask(f,g),c===f&&("microTask"==g.change?(i._hasPendingMicrotasks=g.microTask,gg(i),by(i)):"macroTask"==g.change&&(i.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,c,f,g)=>(a.handleError(f,g),i.runOutsideAngular(()=>i.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ki.isInAngularZone())throw new ae(909,!1)}static assertNotInAngularZone(){if(Ki.isInAngularZone())throw new ae(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,o,Wv,zv,zv);try{return g.runTask(v,a,c)}finally{g.cancelTask(v)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const Wv={};function by(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function gg(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Dy(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function xf(i){i._nesting--,by(i)}class DE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xa,this.onMicrotaskEmpty=new xa,this.onStable=new xa,this.onError=new xa}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,f){return o.apply(a,c)}}const Kv=new Rr("",{providedIn:"root",factory:zl});function zl(){const i=Ct(Ki);let o=!0;const a=new B.y(f=>{o=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{f.next(o),f.complete()})}),c=new B.y(f=>{let g;i.runOutsideAngular(()=>{g=i.onStable.subscribe(()=>{Ki.assertNotInAngularZone(),queueMicrotask(()=>{!o&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(o=!0,f.next(!0))})})});const v=i.onUnstable.subscribe(()=>{Ki.assertInAngularZone(),o&&(o=!1,i.runOutsideAngular(()=>{f.next(!1)}))});return()=>{g.unsubscribe(),v.unsubscribe()}});return(0,se.T)(a,c.pipe((0,Pe.B)()))}function mu(i){return i instanceof Function?i():i}let ds=(()=>{class i{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Pt({token:i,providedIn:"root",factory:()=>new i})}return i})();function Qc(i){for(;i;){i[vn]|=64;const o=Xu(i);if(Rs(i)&&!o)return i;i=o}return null}const My=new Rr("",{providedIn:"root",factory:()=>!1});let ql=null;function Qv(i,o){return i[o]??th()}function eh(i,o){const a=th();a.producerNode?.length&&(i[o]=ql,a.lView=i,ql=Lf())}const Jv={...na,consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{Qc(i.lView)},lView:null};function Lf(){return Object.create(Jv)}function th(){return ql??=Lf(),ql}const _n={};function wg(i){Xv(tr(),Ke(),ks()+i,!1)}function Xv(i,o,a,c){if(!c)if(3==(3&o[vn])){const g=i.preOrderCheckHooks;null!==g&&Qa(o,g,a)}else{const g=i.preOrderHooks;null!==g&&Hu(o,g,0,a)}va(a)}function nh(i,o=kt.Default){const a=Ke();return null===a?pt(i,o):Cd(is(),a,Be(i),o)}function Ry(){throw new Error("invalid")}function Eg(i,o,a,c,f,g,v,I,D,S,R){const z=o.blueprint.slice();return z[kr]=f,z[vn]=140|c,(null!==S||i&&2048&i[vn])&&(z[vn]|=2048),Sh(z),z[Ar]=z[ir]=i,z[si]=a,z[xs]=v||i&&i[xs],z[nn]=I||i&&i[nn],z[ko]=D||i&&i[ko]||null,z[$i]=g,z[oi]=function Np(){return Hm++}(),z[go]=R,z[ll]=S,z[di]=2==o.type?i[di]:z,z}function ha(i,o,a,c,f){let g=i.data[o];if(null===g)g=function Oa(i,o,a,c,f){const g=wd(),v=Ip(),D=i.data[o]=function ne(i,o,a,c,f,g){let v=o?o.injectorIndex:-1,I=0;return function Wa(){return null!==on.skipHydrationRootTNode}()&&(I|=128),{type:a,index:c,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,a,o,c,f);return null===i.firstChild&&(i.firstChild=D),null!==g&&(v?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D,D.prev=g)),D}(i,o,a,c,f),function Y_(){return on.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=a,g.value=c,g.attrs=f;const v=function Tl(){const i=on.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return ys(g,!0),g}function Jc(i,o,a,c){if(0===a)return-1;const f=o.length;for(let g=0;g<a;g++)o.push(c),i.blueprint.push(c),i.data.push(null);return f}function Ff(i,o,a,c,f){const g=Qv(o,W),v=ks(),I=2&c;try{va(-1),I&&o.length>Z&&Xv(i,o,Z,!1),to(I?2:0,f);const S=I?g:null,R=mo(S);try{null!==S&&(S.dirty=!1),a(c,f)}finally{yl(S,R)}}finally{I&&null===o[W]&&eh(o,W),va(v),to(I?3:1,f)}}function Ig(i,o,a){if($a(o)){const c=ms(null);try{const g=o.directiveEnd;for(let v=o.directiveStart;v<g;v++){const I=i.data[v];I.contentQueries&&I.contentQueries(1,a[v],v)}}finally{ms(c)}}}function Jr(i,o,a){Sc()&&(function Ks(i,o,a,c){const f=a.directiveStart,g=a.directiveEnd;Ps(a)&&function SE(i,o,a){const c=rs(o,i),f=ih(a);let v=16;a.signals?v=4096:a.onPush&&(v=64);const I=s0(i,Eg(i,f,null,v,c,o,null,i[xs].rendererFactory.createRenderer(c,a),null,null,null));i[o.index]=I}(o,a,i.data[f+a.componentOffset]),i.firstCreatePass||Yr(a,o),$s(c,o);const v=a.initialInputs;for(let I=f;I<g;I++){const D=i.data[I],S=ru(o,i,I,a);$s(S,o),null!==v&&ky(0,I-f,S,D,0,v),ei(D)&&(qs(a.index,o)[si]=ru(o,i,I,a))}}(i,o,a,rs(a,o)),64==(64&a.flags)&&ao(i,o,a))}function rh(i,o,a=rs){const c=o.localNames;if(null!==c){let f=o.index+1;for(let g=0;g<c.length;g+=2){const v=c[g+1],I=-1===v?a(o,i):i[v];i[f++]=I}}}function ih(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=Wl(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):o}function Wl(i,o,a,c,f,g,v,I,D,S,R){const z=Z+c,ie=z+f,ge=function l(i,o){const a=[];for(let c=0;c<o;c++)a.push(c<i?null:_n);return a}(z,ie),Ze="function"==typeof S?S():S;return ge[mt]={type:i,blueprint:ge,template:a,queries:null,viewQuery:I,declTNode:o,data:ge.slice().fill(null,z),bindingStartIndex:z,expandoStartIndex:ie,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:Ze,incompleteFirstPass:!1,ssrId:R}}let A=i=>null;function pe(i,o,a,c){for(let f in i)if(i.hasOwnProperty(f)){a=null===a?{}:a;const g=i[f];null===c?Je(a,o,f,g):c.hasOwnProperty(f)&&Je(a,o,c[f],g)}return a}function Je(i,o,a,c){i.hasOwnProperty(a)?i[a].push(o,c):i[a]=[o,c]}function un(i,o,a,c){if(Sc()){const f=null===c?null:{"":-1},g=function Pa(i,o){const a=i.directiveRegistry;let c=null,f=null;if(a)for(let g=0;g<a.length;g++){const v=a[g];if(Xo(o,v.selectors,!1))if(c||(c=[]),ei(v))if(null!==v.findHostDirectiveDefs){const I=[];f=f||new Map,v.findHostDirectiveDefs(v,I,f),c.unshift(...I,v),Ra(i,o,I.length)}else c.unshift(v),Ra(i,o,0);else f=f||new Map,v.findHostDirectiveDefs?.(v,c,f),c.push(v)}return null===c?null:[c,f]}(i,a);let v,I;null===g?v=I=null:[v,I]=g,null!==v&&or(i,o,a,v,f,I),f&&function t0(i,o,a){if(o){const c=i.localNames=[];for(let f=0;f<o.length;f+=2){const g=a[o[f+1]];if(null==g)throw new ae(-301,!1);c.push(o[f],g)}}}(a,c,f)}a.mergedAttrs=Ro(a.mergedAttrs,a.attrs)}function or(i,o,a,c,f,g){for(let S=0;S<c.length;S++)zu(Yr(a,o),i,c[S].type);!function Ny(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}(a,i.data.length,c.length);for(let S=0;S<c.length;S++){const R=c[S];R.providersResolver&&R.providersResolver(R)}let v=!1,I=!1,D=Jc(i,o,c.length,null);for(let S=0;S<c.length;S++){const R=c[S];a.mergedAttrs=Ro(a.mergedAttrs,R.hostAttrs),r0(i,a,o,D,R),n0(D,R,f),null!==R.contentQueries&&(a.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(a.flags|=64);const z=R.type.prototype;!v&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((i.preOrderHooks??=[]).push(a.index),v=!0),!I&&(z.ngOnChanges||z.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(a.index),I=!0),D++}!function et(i,o,a){const f=o.directiveEnd,g=i.data,v=o.attrs,I=[];let D=null,S=null;for(let R=o.directiveStart;R<f;R++){const z=g[R],ie=a?a.get(z):null,Ze=ie?ie.outputs:null;D=pe(z.inputs,R,D,ie?ie.inputs:null),S=pe(z.outputs,R,S,Ze);const dt=null===D||null===v||Ss(o)?null:Yi(D,R,v);I.push(dt)}null!==D&&(D.hasOwnProperty("class")&&(o.flags|=8),D.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=I,o.inputs=D,o.outputs=S}(i,a,g)}function ao(i,o,a){const c=a.directiveStart,f=a.directiveEnd,g=a.index,v=function Q_(){return on.lFrame.currentDirectiveIndex}();try{va(g);for(let I=c;I<f;I++){const D=i.data[I],S=o[I];Dp(I),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Li(D,S)}}finally{va(-1),Dp(v)}}function Li(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function Ra(i,o,a){o.componentOffset=a,(i.components??=[]).push(o.index)}function n0(i,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=i;ei(o)&&(a[""]=i)}}function r0(i,o,a,c,f){i.data[c]=f;const g=f.factory||(f.factory=ma(f.type)),v=new eu(g,ei(f),nh);i.blueprint[c]=v,a[c]=v,function dr(i,o,a,c,f){const g=f.hostBindings;if(g){let v=i.hostBindingOpCodes;null===v&&(v=i.hostBindingOpCodes=[]);const I=~o.index;(function oo(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(v)!=I&&v.push(I),v.push(a,c,g)}}(i,o,c,Jc(i,a,f.hostVars,_n),f)}function rc(i,o,a,c,f,g){const v=rs(i,o);!function Uf(i,o,a,c,f,g,v){if(null==g)i.removeAttribute(o,f,a);else{const I=null==v?me(g):v(g,c||"",f);i.setAttribute(o,f,I,a)}}(o[nn],v,g,i.value,a,c,f)}function ky(i,o,a,c,f,g){const v=g[o];if(null!==v)for(let I=0;I<v.length;)Lb(c,a,v[I++],v[I++],v[I++])}function Lb(i,o,a,c,f){const g=ms(null);try{const v=i.inputTransforms;null!==v&&v.hasOwnProperty(c)&&(f=v[c].call(o,f)),null!==i.setInput?i.setInput(o,f,a,c):o[c]=f}finally{ms(g)}}function Yi(i,o,a){let c=null,f=0;for(;f<a.length;){const g=a[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(i.hasOwnProperty(g)){null===c&&(c=[]);const v=i[g];for(let I=0;I<v.length;I+=2)if(v[I]===o){c.push(g,v[I+1],a[f+1]);break}}f+=2}else f+=2;else f+=4}return c}function ME(i,o,a,c){return[i,!0,!1,o,null,0,c,a,null,null,null]}function Fb(i,o){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const g=a[c+1];if(-1!==g){const v=i.data[g];Ka(a[c]),v.contentQueries(2,o[g],g)}}}function s0(i,o){return i[ja]?i[Dh][Gn]=o:i[ja]=o,i[Dh]=o,o}function xE(i,o,a){Ka(0);const c=ms(null);try{o(i,a)}finally{ms(c)}}function OE(i){return i[Ba]||(i[Ba]=[])}function PE(i){return i.cleanup||(i.cleanup=[])}function RE(i,o){const a=i[ko],c=a?a.get(Kc,null):null;c&&c.handleError(o)}function _u(i,o,a,c,f){for(let g=0;g<a.length;){const v=a[g++],I=a[g++];Lb(i.data[v],o[v],c,I,f)}}function Xc(i,o,a){const c=yo(o,i);!function Bl(i,o,a){i.setValue(o,a)}(i[nn],c,a)}function sA(i,o){const a=qs(o,i),c=a[mt];!function Ub(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])}(c,a);const f=a[kr];null!==f&&null===a[go]&&(a[go]=rg(f,a[ko])),Fy(c,a,a[si])}function Fy(i,o,a){Kr(o);try{const c=i.viewQuery;null!==c&&xE(1,c,a);const f=i.template;null!==f&&Ff(i,o,f,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Fb(i,o),i.staticViewQueries&&xE(2,i.viewQuery,a);const g=i.components;null!==g&&function Uy(i,o){for(let a=0;a<o.length;a++)sA(i,o[a])}(o,g)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{o[vn]&=-5,ss()}}let NE=(()=>{class i{constructor(){this.all=new Set,this.queue=new Map}create(a,c,f){const g=typeof Zone>"u"?null:Zone.current,v=function Am(i,o,a){const c=Object.create(Z_);a&&(c.consumerAllowSignalWrites=!0),c.fn=i,c.schedule=o;const f=v=>{c.cleanupFn=v};return c.ref={notify:()=>Ic(c),run:()=>{if(c.dirty=!1,c.hasRun&&!bm(c))return;c.hasRun=!0;const v=mo(c);try{c.cleanupFn(),c.cleanupFn=_p,c.fn(f)}finally{yl(c,v)}},cleanup:()=>c.cleanupFn()},c.ref}(a,S=>{this.all.has(S)&&this.queue.set(S,g)},f);let I;this.all.add(v),v.notify();const D=()=>{v.cleanup(),I?.(),this.all.delete(v),this.queue.delete(v)};return I=c?.onDestroy(D),{destroy:D}}flush(){if(0!==this.queue.size)for(const[a,c]of this.queue)this.queue.delete(a),c?c.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Pt({token:i,providedIn:"root",factory:()=>new i})}return i})();function Vf(i,o,a){let c=a?i.styles:null,f=a?i.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const I=o[v];"number"==typeof I?g=I:1==g?f=Qe(f,I):2==g&&(c=Qe(c,I+": "+o[++v]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=f:i.classesWithoutHost=f}function Cg(i,o,a,c,f=!1){for(;null!==a;){const g=o[a.index];null!==g&&c.push(Mr(g)),ar(g)&&Vy(g,c);const v=a.type;if(8&v)Cg(i,o,a.child,c);else if(32&v){const I=$o(a,o);let D;for(;D=I();)c.push(D)}else if(16&v){const I=Qm(o,a);if(Array.isArray(I))c.push(...I);else{const D=Xu(o[di]);Cg(D[mt],D,I,c,!0)}}a=f?a.projectionNext:a.next}return c}function Vy(i,o){for(let a=sn;a<i.length;a++){const c=i[a],f=c[mt].firstChild;null!==f&&Cg(c[mt],c,f,o)}i[yt]!==i[kr]&&o.push(i[yt])}function o0(i,o,a,c=!0){const f=o[xs],g=f.rendererFactory,v=f.afterRenderEventManager;g.begin?.(),v?.begin();try{LE(i,o,i.template,a)}catch(D){throw c&&RE(o,D),D}finally{g.end?.(),f.effectManager?.flush(),v?.end()}}function LE(i,o,a,c){const f=o[vn];if(256!=(256&f)){o[xs].effectManager?.flush(),Kr(o);try{Sh(o),function Om(i){return on.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Ff(i,o,a,2,c);const v=3==(3&f);if(v){const S=i.preOrderCheckHooks;null!==S&&Qa(o,S,null)}else{const S=i.preOrderHooks;null!==S&&Hu(o,S,0,null),Ja(o,0)}if(function UE(i){for(let o=uv(i);null!==o;o=qm(o)){if(!o[nt])continue;const a=o[Gt];for(let c=0;c<a.length;c++){Il(a[c])}}}(o),FE(o,2),null!==i.contentQueries&&Fb(i,o),v){const S=i.contentCheckHooks;null!==S&&Qa(o,S)}else{const S=i.contentHooks;null!==S&&Hu(o,S,1),Ja(o,1)}!function e0(i,o){const a=i.hostBindingOpCodes;if(null===a)return;const c=Qv(o,G);try{for(let f=0;f<a.length;f++){const g=a[f];if(g<0)va(~g);else{const v=g,I=a[++f],D=a[++f];bp(I,v),c.dirty=!1;const S=mo(c);try{D(2,o[v])}finally{yl(c,S)}}}}finally{null===o[G]&&eh(o,G),va(-1)}}(i,o);const I=i.components;null!==I&&jy(o,I,0);const D=i.viewQuery;if(null!==D&&xE(2,D,c),v){const S=i.viewCheckHooks;null!==S&&Qa(o,S)}else{const S=i.viewHooks;null!==S&&Hu(o,S,2),Ja(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[vn]&=-73,Mh(o)}finally{ss()}}}function FE(i,o){for(let a=uv(i);null!==a;a=qm(a))for(let c=sn;c<a.length;c++)BE(a[c],o)}function VE(i,o,a){BE(qs(o,i),a)}function BE(i,o){if(!function Ns(i){return 128==(128&i[vn])}(i))return;const a=i[mt],c=i[vn];if(80&c&&0===o||1024&c||2===o)LE(a,i,a.template,i[si]);else if(i[lr]>0){FE(i,1);const f=a.components;null!==f&&jy(i,f,1)}}function jy(i,o,a){for(let c=0;c<o.length;c++)VE(i,o[c],a)}class bg{get rootNodes(){const o=this._lView,a=o[mt];return Cg(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[si]}set context(o){this._lView[si]=o}get destroyed(){return 256==(256&this._lView[vn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Ar];if(ar(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(Bp(o,c),ou(a,c))}this._attachedToViewContainer=!1}Zm(this._lView[mt],this._lView)}onDestroy(o){!function Cl(i,o){if(256==(256&i[vn]))throw new ae(911,!1);null===i[ta]&&(i[ta]=[]),i[ta].push(o)}(this._lView,o)}markForCheck(){Qc(this._cdRefInjectingView||this._lView)}detach(){this._lView[vn]&=-129}reattach(){this._lView[vn]|=128}detectChanges(){o0(this._lView[mt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Fd(i,o){tf(i,o,o[nn],2,null,null)}(this._lView[mt],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ae(902,!1);this._appRef=o}}class Vb extends bg{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;o0(o[mt],o,o[si],!1)}checkNoChanges(){}get context(){return null}}class sh extends ls{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=er(o);return new Dg(a,this.ngModule)}}function jE(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class jb{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){c=Zn(c);const f=this.injector.get(o,lg,c);return f!==lg||a===lg?f:this.parentInjector.get(o,a,c)}}class Dg extends ag{get inputs(){const o=this.componentDef,a=o.inputTransforms,c=jE(o.inputs);if(null!==a)for(const f of c)a.hasOwnProperty(f.propName)&&(f.transform=a[f.propName]);return c}get outputs(){return jE(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function Kn(i){return i.map(Xn).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,c,f){let g=(f=f||this.ngModule)instanceof fu?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new jb(o,g):o,I=v.get(Cf,null);if(null===I)throw new ae(407,!1);const z={rendererFactory:I,sanitizer:v.get(ug,null),effectManager:v.get(NE,null),afterRenderEventManager:v.get(ds,null)},ie=I.createRenderer(null,this.componentDef),ge=this.componentDef.selectors[0][0]||"div",Ze=c?function p(i,o,a,c){const g=c.get(My,!1)||a===Dt.ShadowDom,v=i.selectRootElement(o,g);return function w(i){A(i)}(v),v}(ie,c,this.componentDef.encapsulation,v):Vp(ie,ge,function Bb(i){const o=i.toLowerCase();return"svg"===o?wp:"math"===o?"math":null}(ge)),Yt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let st=null;null!==Ze&&(st=rg(Ze,v,!0));const xn=Wl(0,null,null,1,0,null,null,null,null,null,null),jn=Eg(null,xn,null,Yt,null,null,z,ie,v,null,st);let Wr,qo;Kr(jn);try{const gc=this.componentDef;let al,ob=null;gc.findHostDirectiveDefs?(al=[],ob=new Map,gc.findHostDirectiveDefs(gc,al,ob),al.push(gc)):al=[gc];const Pw=function Na(i,o){const a=i[mt],c=Z;return i[c]=o,ha(a,c,2,"#host",null)}(jn,Ze),Rw=function $b(i,o,a,c,f,g,v){const I=f[mt];!function Hb(i,o,a,c){for(const f of i)o.mergedAttrs=Ro(o.mergedAttrs,f.hostAttrs);null!==o.mergedAttrs&&(Vf(o,o.mergedAttrs,!0),null!==a&&nf(c,a,o))}(c,i,o,v);let D=null;null!==o&&(D=rg(o,f[ko]));const S=g.rendererFactory.createRenderer(o,a);let R=16;a.signals?R=4096:a.onPush&&(R=64);const z=Eg(f,ih(a),null,R,f[i.index],i,g,S,null,null,D);return I.firstCreatePass&&Ra(I,i,c.length-1),s0(f,z),f[i.index]=z}(Pw,Ze,gc,al,jn,z,ie);qo=_d(xn,Z),Ze&&function aA(i,o,a,c){if(c)Vi(i,a,["ng-version",vy.full]);else{const{attrs:f,classes:g}=function bn(i){const o=[],a=[];let c=1,f=2;for(;c<i.length;){let g=i[c];if("string"==typeof g)2===f?""!==g&&o.push(g,i[++c]):8===f&&a.push(g);else{if(!Bi(f))break;f=g}c++}return{attrs:o,classes:a}}(o.selectors[0]);f&&Vi(i,a,f),g&&g.length>0&&yv(i,a,g.join(" "))}}(ie,gc,Ze,c),void 0!==a&&function ic(i,o,a){const c=i.projection=[];for(let f=0;f<o.length;f++){const g=a[f];c.push(null!=g?Array.from(g):null)}}(qo,this.ngContentSelectors,a),Wr=function Tg(i,o,a,c,f,g){const v=is(),I=f[mt],D=rs(v,f);or(I,f,v,a,null,c);for(let R=0;R<a.length;R++)$s(ru(f,I,v.directiveStart+R,v),f);ao(I,f,v),D&&$s(D,f);const S=ru(f,I,v.directiveStart+v.componentOffset,v);if(i[si]=f[si]=S,null!==g)for(const R of g)R(S,o);return Ig(I,v,i),S}(Rw,gc,al,ob,jn,[$E]),Fy(xn,jn,null)}finally{ss()}return new a0(this.componentType,Wr,Gl(qo,jn),jn,qo)}}class a0 extends Ef{constructor(o,a,c,f,g){super(),this.location=c,this._rootLView=f,this._tNode=g,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new Vb(f),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let f;if(null!==c&&(f=c[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),a))return;const g=this._rootLView;_u(g[mt],g,f,o,a),this.previousInputValues.set(o,a),Qc(qs(this._tNode.index,g))}}get injector(){return new Ti(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function $E(){const i=is();xc(Ke()[mt],i)}function HE(i){let o=function zr(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;o;){let f;if(ei(i))f=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ae(903,!1);f=o.\u0275dir}if(f){if(a){c.push(f);const v=i;v.inputs=ka(i.inputs),v.inputTransforms=ka(i.inputTransforms),v.declaredInputs=ka(i.declaredInputs),v.outputs=ka(i.outputs);const I=f.hostBindings;I&&Ag(i,I);const D=f.viewQuery,S=f.contentQueries;if(D&&Gb(i,D),S&&zE(i,S),Y(i.inputs,f.inputs),Y(i.declaredInputs,f.declaredInputs),Y(i.outputs,f.outputs),null!==f.inputTransforms&&(null===v.inputTransforms&&(v.inputTransforms={}),Y(v.inputTransforms,f.inputTransforms)),ei(f)&&f.data.animation){const R=i.data;R.animation=(R.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const I=g[v];I&&I.ngInherit&&I(i),I===HE&&(a=!1)}}o=Object.getPrototypeOf(o)}!function GE(i){let o=0,a=null;for(let c=i.length-1;c>=0;c--){const f=i[c];f.hostVars=o+=f.hostVars,f.hostAttrs=Ro(f.hostAttrs,a=Ro(a,f.hostAttrs))}}(c)}function ka(i){return i===Jt?{}:i===St?[]:i}function Gb(i,o){const a=i.viewQuery;i.viewQuery=a?(c,f)=>{o(c,f),a(c,f)}:o}function zE(i,o){const a=i.contentQueries;i.contentQueries=a?(c,f,g)=>{o(c,f,g),a(c,f,g)}:o}function Ag(i,o){const a=i.hostBindings;i.hostBindings=a?(c,f)=>{o(c,f),a(c,f)}:o}function WE(i){const o=i.inputConfig,a={};for(const c in o)if(o.hasOwnProperty(c)){const f=o[c];Array.isArray(f)&&f[2]&&(a[c]=f[2])}i.inputTransforms=a}function l0(i){return!!KE(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function KE(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function sc(i,o,a){return i[o]=a}function Hs(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function Bf(i,o,a,c){const f=Hs(i,o,a);return Hs(i,o+1,c)||f}function h0(i,o,a,c){const f=Ke();return Hs(f,Al(),o)&&(tr(),rc(Hr(),f,i,o,a,c)),h0}function La(i,o,a,c,f,g){const I=Bf(i,function Za(){return on.lFrame.bindingIndex}(),a,f);return ia(2),I?o+me(a)+c+me(f)+g:_n}function Eu(i,o,a,c,f,g,v,I){const D=Ke(),S=tr(),R=i+Z,z=S.firstCreatePass?function y0(i,o,a,c,f,g,v,I,D){const S=o.consts,R=ha(o,i,4,v||null,za(S,I));un(o,a,R,za(S,D)),xc(o,R);const z=R.tView=Wl(2,R,c,f,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S,null);return null!==o.queries&&(o.queries.template(o,R),z.queries=o.queries.embeddedTView(R)),R}(R,S,D,o,a,c,f,g,v):S.data[R];ys(z,!1);const ie=Jb(S,D,z,i);Uo()&&Xh(S,D,ie,z),$s(ie,D),s0(D,D[R]=ME(ie,D,ie,z)),Lo(z)&&Jr(S,D,z),null!=v&&rh(D,z,I)}let Jb=function xg(i,o,a,c){return Ls(!0),o[nn].createComment("")};function XE(i){return Ac(function Mm(){return on.lFrame.contextLView}(),Z+i)}function Zy(i,o,a){const c=Ke();return Hs(c,Al(),o)&&function _t(i,o,a,c,f,g,v,I){const D=rs(o,a);let R,S=o.inputs;!I&&null!=S&&(R=S[c])?(_u(i,a,R,c,f),Ps(o)&&function Zt(i,o){const a=qs(o,i);16&a[vn]||(a[vn]|=64)}(a,o.index)):3&o.type&&(c=function at(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),f=null!=v?v(f,o.value||"",c):f,g.setProperty(D,c,f))}(tr(),Hr(),c,i,o,c[nn],a,!1),Zy}function eI(i,o,a,c,f){const v=f?"class":"style";_u(i,a,o.inputs[v],v,c)}function Ao(i,o,a,c){const f=Ke(),g=tr(),v=Z+i,I=f[nn],D=g.firstCreatePass?function yA(i,o,a,c,f,g){const v=o.consts,D=ha(o,i,2,c,za(v,f));return un(o,a,D,za(v,g)),null!==D.attrs&&Vf(D,D.attrs,!1),null!==D.mergedAttrs&&Vf(D,D.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,D),D}(v,g,f,o,a,c):g.data[v],S=tI(g,f,D,I,o,i);f[v]=S;const R=Lo(D);return ys(D,!0),nf(I,S,D),32!=(32&D.flags)&&Uo()&&Xh(g,f,S,D),0===function $u(){return on.lFrame.elementDepthCount}()&&$s(S,f),function Ep(){on.lFrame.elementDepthCount++}(),R&&(Jr(g,f,D),Ig(g,D,f)),null!==c&&rh(f,D),Ao}function lh(){let i=is();Ip()?function Cp(){on.lFrame.isParent=!1}():(i=i.parent,ys(i,!1));const o=i;(function bl(i){return on.skipHydrationRootTNode===i})(o)&&function U(){on.skipHydrationRootTNode=null}(),function Sm(){on.lFrame.elementDepthCount--}();const a=tr();return a.firstCreatePass&&(xc(a,i),$a(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function qi(i){return 0!=(8&i.flags)}(o)&&eI(a,o,Ke(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Pc(i){return 0!=(16&i.flags)}(o)&&eI(a,o,Ke(),o.stylesWithoutHost,!1),lh}function qf(i,o,a,c){return Ao(i,o,a,c),lh(),qf}let tI=(i,o,a,c,f,g)=>(Ls(!0),Vp(c,f,function Sp(){return on.lFrame.currentNamespace}()));function eD(){return Ke()}function rI(i){return!!i&&"function"==typeof i.then}function tD(i){return!!i&&"function"==typeof i.subscribe}function iI(i,o,a,c){const f=Ke(),g=tr(),v=is();return function rD(i,o,a,c,f,g,v){const I=Lo(c),S=i.firstCreatePass&&PE(i),R=o[si],z=OE(o);let ie=!0;if(3&c.type||v){const dt=rs(c,o),Nt=v?v(dt):dt,Yt=z.length,st=v?jn=>v(Mr(jn[c.index])):c.index;let xn=null;if(!v&&I&&(xn=function EA(i,o,a,c){const f=i.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===a&&f[g+1]===c){const I=o[Ba],D=f[g+2];return I.length>D?I[D]:null}"string"==typeof v&&(g+=2)}return null}(i,o,f,c.index)),null!==xn)(xn.__ngLastListenerFn__||xn).__ngNextListenerFn__=g,xn.__ngLastListenerFn__=g,ie=!1;else{g=sD(c,o,R,g,!1);const jn=a.listen(Nt,f,g);z.push(g,jn),S&&S.push(f,st,Yt,Yt+1)}}else g=sD(c,o,R,g,!1);const ge=c.outputs;let Ze;if(ie&&null!==ge&&(Ze=ge[f])){const dt=Ze.length;if(dt)for(let Nt=0;Nt<dt;Nt+=2){const Wr=o[Ze[Nt]][Ze[Nt+1]].subscribe(g),qo=z.length;z.push(g,Wr),S&&S.push(f,c.index,qo,-(qo+1))}}}(g,f,f[nn],v,i,o,c),iI}function iD(i,o,a,c){try{return to(6,o,a),!1!==a(c)}catch(f){return RE(i,f),!1}finally{to(7,o,a)}}function sD(i,o,a,c,f){return function g(v){if(v===Function)return c;Qc(i.componentOffset>-1?qs(i.index,o):o);let D=iD(o,a,c,v),S=g.__ngNextListenerFn__;for(;S;)D=iD(o,a,S,v)&&D,S=S.__ngNextListenerFn__;return f&&!1===D&&v.preventDefault(),D}}function oD(i=1){return function Sl(i){return(on.lFrame.contextLView=function Ed(i,o){for(;i>0;)o=o[ir],i--;return o}(i,on.lFrame.contextLView))[si]}(i)}function Xr(i,o){return i<<17|o<<2}function ac(i){return i>>17&32767}function w0(i){return 2|i}function Cu(i){return(131068&i)>>2}function Mo(i,o){return-131069&i|o<<2}function dI(i){return 1|i}function el(i,o,a,c,f){const g=i[a+1],v=null===o;let I=c?ac(g):Cu(g),D=!1;for(;0!==I&&(!1===D||v);){const R=i[I+1];E0(i[I],o)&&(D=!0,i[I+1]=c?dI(R):w0(R)),I=c?ac(R):Cu(R)}D&&(i[a+1]=c?w0(g):dI(g))}function E0(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&Uc(i,o)>=0}const Ji={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Og(i){return i.substring(Ji.key,Ji.keyEnd)}function Yl(i,o){const a=Ji.textEnd;return a===o?-1:(o=Ji.keyEnd=function fh(i,o,a){for(;o<a&&i.charCodeAt(o)>32;)o++;return o}(i,Ji.key=o,a),tl(i,o,a))}function tl(i,o,a){for(;o<a&&i.charCodeAt(o)<=32;)o++;return o}function Zf(i,o){return function bu(i,o,a,c){const f=Ke(),g=tr(),v=ia(2);g.firstUpdatePass&&fI(g,i,v,c),o!==_n&&Hs(f,v,o)&&mr(g,g.data[ks()],f,f[nn],i,f[v+1]=function pI(i,o){return null==i||""===i||("string"==typeof o?i+=o:"object"==typeof i&&(i=de(qc(i)))),i}(o,a),c,v)}(i,o,null,!0),Zf}function Qy(i){!function lc(i,o,a,c){const f=tr(),g=ia(2);f.firstUpdatePass&&fI(f,null,g,c);const v=Ke();if(a!==_n&&Hs(v,g,a)){const I=f.data[ks()];if(b0(I,c)&&!dD(f,g)){let D=c?I.classesWithoutHost:I.stylesWithoutHost;null!==D&&(a=Qe(D,a||"")),eI(f,I,v,a,c)}else!function gD(i,o,a,c,f,g,v,I){f===_n&&(f=St);let D=0,S=0,R=0<f.length?f[0]:null,z=0<g.length?g[0]:null;for(;null!==R||null!==z;){const ie=D<f.length?f[D+1]:void 0,ge=S<g.length?g[S+1]:void 0;let dt,Ze=null;R===z?(D+=2,S+=2,ie!==ge&&(Ze=z,dt=ge)):null===z||null!==R&&R<z?(D+=2,Ze=R):(S+=2,Ze=z,dt=ge),null!==Ze&&mr(i,o,a,c,Ze,dt,v,I),R=D<f.length?f[D]:null,z=S<g.length?g[S]:null}}(f,I,v,v[nn],v[g+1],v[g+1]=function pD(i,o,a){if(null==a||""===a)return St;const c=[],f=qc(a);if(Array.isArray(f))for(let g=0;g<f.length;g++)i(c,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&i(c,g,f[g]);else"string"==typeof f&&o(c,f);return c}(i,o,a),c,g)}}(TA,fa,i,!0)}function fa(i,o){for(let a=function hh(i){return function uc(i){Ji.key=0,Ji.keyEnd=0,Ji.value=0,Ji.valueEnd=0,Ji.textEnd=i.length}(i),Yl(i,tl(i,0,Ji.textEnd))}(o);a>=0;a=Yl(o,a))Vs(i,Og(o),!0)}function dD(i,o){return o>=i.expandoStartIndex}function fI(i,o,a,c){const f=i.data;if(null===f[a+1]){const g=f[ks()],v=dD(i,a);b0(g,c)&&null===o&&!v&&(o=!1),o=function hD(i,o,a,c){const f=function Ph(i){const o=on.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let g=c?o.residualClasses:o.residualStyles;if(null===f)0===(c?o.classBindings:o.styleBindings)&&(a=Rg(a=nl(null,i,o,a,c),o.attrs,c),g=null);else{const v=o.directiveStylingLast;if(-1===v||i[v]!==f)if(a=nl(f,i,o,a,c),null===g){let D=function ho(i,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==Cu(c))return i[ac(c)]}(i,o,c);void 0!==D&&Array.isArray(D)&&(D=nl(null,i,o,D[1],c),D=Rg(D,o.attrs,c),function fD(i,o,a,c){i[ac(a?o.classBindings:o.styleBindings)]=c}(i,o,c,D))}else g=function Ii(i,o,a){let c;const f=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<f;g++)c=Rg(c,i[g].hostAttrs,a);return Rg(c,o.attrs,a)}(i,o,c)}return void 0!==g&&(c?o.residualClasses=g:o.residualStyles=g),a}(f,g,o,c),function dh(i,o,a,c,f,g){let v=g?o.classBindings:o.styleBindings,I=ac(v),D=Cu(v);i[c]=a;let R,S=!1;if(Array.isArray(a)?(R=a[1],(null===R||Uc(a,R)>0)&&(S=!0)):R=a,f)if(0!==D){const ie=ac(i[I+1]);i[c+1]=Xr(ie,I),0!==ie&&(i[ie+1]=Mo(i[ie+1],c)),i[I+1]=function Ei(i,o){return 131071&i|o<<17}(i[I+1],c)}else i[c+1]=Xr(I,0),0!==I&&(i[I+1]=Mo(i[I+1],c)),I=c;else i[c+1]=Xr(D,0),0===I?I=c:i[D+1]=Mo(i[D+1],c),D=c;S&&(i[c+1]=w0(i[c+1])),el(i,R,c,!0),el(i,R,c,!1),function Qi(i,o,a,c,f){const g=f?i.residualClasses:i.residualStyles;null!=g&&"string"==typeof o&&Uc(g,o)>=0&&(a[c+1]=dI(a[c+1]))}(o,R,i,c,g),v=Xr(I,D),g?o.classBindings=v:o.styleBindings=v}(f,g,o,a,v,c)}}function nl(i,o,a,c,f){let g=null;const v=a.directiveEnd;let I=a.directiveStylingLast;for(-1===I?I=a.directiveStart:I++;I<v&&(g=o[I],c=Rg(c,g.hostAttrs,f),g!==i);)I++;return null!==i&&(a.directiveStylingLast=I),c}function Rg(i,o,a){const c=a?1:2;let f=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?f=v:f===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Vs(i,v,!!a||o[++g]))}return void 0===i?null:i}function TA(i,o,a){const c=String(o);""!==c&&!c.includes(" ")&&Vs(i,c,a)}function mr(i,o,a,c,f,g,v,I){if(!(3&o.type))return;const D=i.data,S=D[I+1],R=function uD(i){return 1==(1&i)}(S)?qr(D,o,a,f,Cu(S),v):void 0;Jl(R)||(Jl(g)||function lo(i){return 2==(2&i)}(S)&&(g=qr(D,null,a,f,I,v)),function tE(i,o,a,c,f){if(o)f?i.addClass(a,c):i.removeClass(a,c);else{let g=-1===c.indexOf("-")?void 0:Wh.DashCase;null==f?i.removeStyle(a,c,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=Wh.Important),i.setStyle(a,c,f,g))}}(c,v,yo(ks(),a),f,g))}function qr(i,o,a,c,f,g){const v=null===o;let I;for(;f>0;){const D=i[f],S=Array.isArray(D),R=S?D[1]:D,z=null===R;let ie=a[f+1];ie===_n&&(ie=z?St:void 0);let ge=z?$h(ie,c):R===c?ie:void 0;if(S&&!Jl(ge)&&(ge=$h(D,c)),Jl(ge)&&(I=ge,v))return I;const Ze=i[f+1];f=v?ac(Ze):Cu(Ze)}if(null!==o){let D=g?o.residualClasses:o.residualStyles;null!=D&&(I=$h(D,c))}return I}function Jl(i){return void 0!==i}function b0(i,o){return 0!=(i.flags&(o?8:16))}function gI(i,o=""){const a=Ke(),c=tr(),f=i+Z,g=c.firstCreatePass?ha(c,f,1,o,null):c.data[f],v=D0(c,a,g,o,i);a[f]=v,Uo()&&Xh(c,a,v,g),ys(g,!1)}let D0=(i,o,a,c,f)=>(Ls(!0),function Up(i,o){return i.createText(o)}(o[nn],c));function T0(i){return A0("",i,""),T0}function A0(i,o,a){const c=Ke(),f=function oc(i,o,a,c){return Hs(i,Al(),a)?o+me(a)+c:_n}(c,i,o,a);return f!==_n&&Xc(c,ks(),f),A0}function mI(i,o,a,c,f){const g=Ke(),v=La(g,i,o,a,c,f);return v!==_n&&Xc(g,ks(),v),mI}const dc=void 0;var il=["en",[["a","p"],["AM","PM"],dc],[["AM","PM"],dc,dc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],dc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],dc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",dc,"{1} 'at' {0}",dc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function MD(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Jf={};function AI(i){const o=function PD(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=xD(o);if(a)return a;const c=o.split("-")[0];if(a=xD(c),a)return a;if("en"===c)return il;throw new ae(701,!1)}function Qn(i){return AI(i)[Xf.PluralCase]}function xD(i){return i in Jf||(Jf[i]=mn.ng&&mn.ng.common&&mn.ng.common.locales&&mn.ng.common.locales[i]),Jf[i]}var Xf=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(Xf||{});const Fg="en-US";let ph=Fg;function j0(i,o,a,c,f){if(i=Be(i),Array.isArray(i))for(let g=0;g<i.length;g++)j0(i[g],o,a,c,f);else{const g=tr(),v=Ke(),I=is();let D=ni(i)?i:Be(i.provide);const S=Ni(i),R=1048575&I.providerIndexes,z=I.directiveStart,ie=I.providerIndexes>>20;if(ni(i)||!i.multi){const ge=new eu(S,f,nh),Ze=GI(D,o,f?R:R+ie,z);-1===Ze?(zu(Yr(I,v),g,D),fc(g,i,o.length),o.push(D),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),a.push(ge),v.push(ge)):(a[Ze]=ge,v[Ze]=ge)}else{const ge=GI(D,o,R+ie,z),Ze=GI(D,o,R,R+ie),Nt=Ze>=0&&a[Ze];if(f&&!Nt||!f&&!(ge>=0&&a[ge])){zu(Yr(I,v),g,D);const Yt=function np(i,o,a,c,f){const g=new eu(i,a,nh);return g.multi=[],g.index=o,g.componentProviders=0,HI(g,f,c&&!a),g}(f?$0:n1,a.length,f,c,S);!f&&Nt&&(a[Ze].providerFactory=Yt),fc(g,i,o.length,0),o.push(D),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),a.push(Yt),v.push(Yt)}else fc(g,i,ge>-1?ge:Ze,HI(a[f?Ze:ge],S,!f&&c));!f&&c&&Nt&&a[Ze].componentProviders++}}}function fc(i,o,a,c){const f=ni(o),g=function Pb(i){return!!i.useClass}(o);if(f||g){const D=(g?Be(o.useClass):o).prototype.ngOnDestroy;if(D){const S=i.destroyHooks||(i.destroyHooks=[]);if(!f&&o.multi){const R=S.indexOf(a);-1===R?S.push(a,[c,D]):S[R+1].push(c,D)}else S.push(a,D)}}}function HI(i,o,a){return a&&i.componentProviders++,i.multi.push(o)-1}function GI(i,o,a,c){for(let f=a;f<c;f++)if(o[f]===i)return f;return-1}function n1(i,o,a,c){return nd(this.multi,[])}function $0(i,o,a,c){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,I=ru(a,a[mt],this.providerFactory.index,c);g=I.slice(0,v),nd(f,g);for(let D=v;D<I.length;D++)g.push(I[D])}else g=[],nd(f,g);return g}function nd(i,o){for(let a=0;a<i.length;a++)o.push((0,i[a])());return o}function yh(i,o=[]){return a=>{a.providersResolver=(c,f)=>function HA(i,o,a){const c=tr();if(c.firstCreatePass){const f=ei(i);j0(a,c.data,c.blueprint,f,!0),j0(o,c.data,c.blueprint,f,!1)}}(c,f?f(i):i,o)}}class pc{}class zI{}function qI(i,o){return new H0(i,o??null,[])}class H0 extends pc{constructor(o,a,c){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sh(this);const f=ts(o);this._bootstrapComponents=mu(f.bootstrap),this._r3Injector=Tf(o,a,[{provide:pc,useValue:this},{provide:ls,useValue:this.componentFactoryResolver},...c],de(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class G0 extends zI{constructor(o){super(),this.moduleType=o}create(o){return new H0(this.moduleType,o,[])}}class WI extends pc{constructor(o){super(),this.componentFactoryResolver=new sh(this),this.instance=null;const a=new Wc([...o.providers,{provide:pc,useValue:this},{provide:ls,useValue:this.componentFactoryResolver}],o.parent||Xp(),o.debugName,new Set(["environment"]));this.injector=a,o.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function ZI(i,o,a=null){return new WI({providers:i,parent:o,debugName:a,runEnvironmentInitializers:!0}).injector}let z0=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const c=Fv(0,a.type),f=c.length>0?ZI([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,f)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Pt({token:i,providedIn:"environment",factory:()=>new i(pt(fu))})}return i})();function qg(i){i.getStandaloneInjector=o=>o.get(z0).getOrCreateStandaloneInjector(i)}function q0(i,o,a){const c=Zr()+i,f=Ke();return f[c]===_n?sc(f,c,a?o.call(a):o()):function zy(i,o){return i[o]}(f,c)}function id(i,o){const a=i[o];return a===_n?void 0:a}function fo(i,o,a,c,f,g,v,I){const D=o+a;return function d0(i,o,a,c,f){const g=Bf(i,o,a,c);return Hs(i,o+2,f)||g}(i,D,f,g,v)?sc(i,D+3,I?c.call(I,f,g,v):c(f,g,v)):id(i,D+3)}function l_(i,o){const a=tr();let c;const f=i+Z;a.firstCreatePass?(c=function d1(i,o){if(o)for(let a=o.length-1;a>=0;a--){const c=o[a];if(i===c.name)return c}}(o,a.pipeRegistry),a.data[f]=c,c.onDestroy&&(a.destroyHooks??=[]).push(f,c.onDestroy)):c=a.data[f];const g=c.factory||(c.factory=ma(c.type)),I=en(nh);try{const D=as(!1),S=g();return as(D),function zf(i,o,a,c){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),o[a]=c}(a,Ke(),f,S),S}finally{en(I)}}function iC(i,o,a){const c=i+Z,f=Ke(),g=Ac(f,c);return Du(f,c)?function tC(i,o,a,c,f,g){const v=o+a;return Hs(i,v,f)?sc(i,v+1,g?c.call(g,f):c(f)):id(i,v+1)}(f,Zr(),o,g.transform,a,g):g.transform(a)}function h1(i,o,a,c,f){const g=i+Z,v=Ke(),I=Ac(v,g);return Du(v,g)?fo(v,Zr(),o,I.transform,a,c,f,I):I.transform(a,c,f)}function Du(i,o){return i[mt].data[o].pure}function p1(){return this._results[Symbol.iterator]()}class sC{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new xa)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=sC.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=p1)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const f=function cs(i){return i.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Vh(i,o,a){if(i.length!==o.length)return!1;for(let c=0;c<i.length;c++){let f=i[c],g=o[c];if(a&&(f=a(f),g=a(g)),g!==f)return!1}return!0}(c._results,f,a))&&(c._results=f,c.length=f.length,c.last=f[this.length-1],c.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function m1(i,o,a,c=!0){const f=o[mt];if(function Yw(i,o,a,c){const f=sn+c,g=a.length;c>0&&(a[f-1][Gn]=o),c<g-sn?(o[Gn]=a[f],Bh(a,sn+c,o)):(a.push(o),o[Gn]=null),o[Ar]=a;const v=o[Hi];null!==v&&a!==v&&function Qw(i,o){const a=i[Gt];o[di]!==o[Ar][Ar][di]&&(i[nt]=!0),null===a?i[Gt]=[o]:a.push(o)}(v,o);const I=o[Gi];null!==I&&I.insertView(i),o[vn]|=128}(f,o,i,a),c){const g=Jm(a,i),v=o[nn],I=jp(v,i[yt]);null!==I&&function Ld(i,o,a,c,f,g){c[kr]=f,c[$i]=o,tf(i,c,a,1,f,g)}(f,i[$i],v,o,I,g)}}let vh=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=_1}return i})();const y1=vh,KA=class extends y1{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,a){return this.createEmbeddedViewImpl(o,a)}createEmbeddedViewImpl(o,a,c){const f=function g1(i,o,a,c){const f=o.tView,I=Eg(i,f,a,4096&i[vn]?4096:16,null,o,null,null,null,c?.injector??null,c?.hydrationInfo??null);I[Hi]=i[o.index];const S=i[Gi];return null!==S&&(I[Gi]=S.createEmbeddedView(f)),Fy(f,I,a),I}(this._declarationLView,this._declarationTContainer,o,{injector:a,hydrationInfo:c});return new bg(f)}};function _1(){return Y0(is(),Ke())}function Y0(i,o){return 4&i.type?new KA(o,i,Gl(i,o)):null}let ps=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=XA}return i})();function XA(){return I1(is(),Ke())}const eS=ps,w1=class extends eS{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return Gl(this._hostTNode,this._hostLView)}get injector(){return new Ti(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ia(this._hostTNode,this._hostLView);if(xl(o)){const a=pi(o,this._hostLView),c=Fr(o);return new Ti(a[mt].data[c+8],a)}return new Ti(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=E1(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-sn}createEmbeddedView(o,a,c){let f,g;"number"==typeof c?f=c:null!=c&&(f=c.index,g=c.injector);const I=o.createEmbeddedViewImpl(a||{},g,null);return this.insertImpl(I,f,false),I}createComponent(o,a,c,f,g){const v=o&&!function wo(i){return"function"==typeof i}(o);let I;if(v)I=a;else{const dt=a||{};I=dt.index,c=dt.injector,f=dt.projectableNodes,g=dt.environmentInjector||dt.ngModuleRef}const D=v?o:new Dg(er(o)),S=c||this.parentInjector;if(!g&&null==D.ngModule){const Nt=(v?S:this.parentInjector).get(fu,null);Nt&&(g=Nt)}er(D.componentType??{});const ge=D.create(S,f,null,g);return this.insertImpl(ge.hostView,I,false),ge}insert(o,a){return this.insertImpl(o,a,!1)}insertImpl(o,a,c){const f=o._lView;if(function vd(i){return ar(i[Ar])}(f)){const D=this.indexOf(o);if(-1!==D)this.detach(D);else{const S=f[Ar],R=new w1(S,S[$i],S[Ar]);R.detach(R.indexOf(o))}}const v=this._adjustIndex(a),I=this._lContainer;return m1(I,f,v,!c),o.attachToViewContainerRef(),Bh(f_(I),v,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=E1(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=Bp(this._lContainer,a);c&&(ou(f_(this._lContainer),a),Zm(c[mt],c))}detach(o){const a=this._adjustIndex(o,-1),c=Bp(this._lContainer,a);return c&&null!=ou(f_(this._lContainer),a)?new bg(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function E1(i){return i[8]}function f_(i){return i[8]||(i[8]=[])}function I1(i,o){let a;const c=o[i.index];return ar(c)?a=c:(a=ME(c,o,null,i),o[i.index]=a,s0(o,a)),p_(a,o,i,c),new w1(a,i,o)}let p_=function C1(i,o,a,c){if(i[yt])return;let f;f=8&a.type?Mr(c):function J0(i,o){const a=i[nn],c=a.createComment(""),f=rs(o,i);return $l(a,jp(a,f),c,function Xw(i,o){return i.nextSibling(o)}(a,f),!1),c}(o,a),i[yt]=f};class g_{constructor(o){this.queryList=o,this.matches=null}clone(){return new g_(this.queryList)}setDirty(){this.queryList.setDirty()}}class ap{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,f=[];for(let g=0;g<c;g++){const v=a.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new ap(f)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==hC(o,a).matches&&this.queries[a].setDirty()}}class m_{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class y_{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const f=null!==a?a.length:0,g=this.getByIndex(c).embeddedTView(o,f);g&&(g.indexInDeclarationView=c,null!==a?a.push(g):a=[g])}return null!==a?new y_(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class __{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new __(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let f=0;f<c.length;f++){const g=c[f];this.matchTNodeWithReadOption(o,a,D1(a,g)),this.matchTNodeWithReadOption(o,a,aa(a,o,g,!1,!1))}else c===vh?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,aa(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const f=this.metadata.read;if(null!==f)if(f===Qd||f===ps||f===vh&&4&a.type)this.addMatch(a.index,-2);else{const g=aa(a,o,f,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function D1(i,o){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function T1(i,o,a,c){return-1===a?function tS(i,o){return 11&i.type?Gl(i,o):4&i.type?Y0(i,o):null}(o,i):-2===a?function A1(i,o,a){return a===Qd?Gl(o,i):a===vh?Y0(o,i):a===ps?I1(o,i):void 0}(i,o,c):ru(i,i[mt],a,o)}function X0(i,o,a,c){const f=o[Gi].queries[c];if(null===f.matches){const g=i.data,v=a.matches,I=[];for(let D=0;D<v.length;D+=2){const S=v[D];I.push(S<0?null:T1(o,g[S],v[D+1],a.metadata.read))}f.matches=I}return f.matches}function cC(i,o,a,c){const f=i.queries.getByIndex(a),g=f.matches;if(null!==g){const v=X0(i,o,f,a);for(let I=0;I<g.length;I+=2){const D=g[I];if(D>0)c.push(v[I/2]);else{const S=g[I+1],R=o[-D];for(let z=sn;z<R.length;z++){const ie=R[z];ie[Hi]===ie[Ar]&&cC(ie[mt],ie,S,c)}if(null!==R[Gt]){const z=R[Gt];for(let ie=0;ie<z.length;ie++){const ge=z[ie];cC(ge[mt],ge,S,c)}}}}}return c}function lC(i){const o=Ke(),a=tr(),c=Pm();Ka(c+1);const f=hC(a,c);if(i.dirty&&function vi(i){return 4==(4&i[vn])}(o)===(2==(2&f.metadata.flags))){if(null===f.matches)i.reset([]);else{const g=f.crossesNgTemplate?cC(a,o,c,[]):X0(a,o,f,c);i.reset(g,my),i.notifyOnChanges()}return!0}return!1}function dC(i,o,a,c){const f=tr();if(f.firstCreatePass){const g=is();(function ew(i,o,a){null===i.queries&&(i.queries=new y_),i.queries.track(new __(o,a))})(f,new m_(o,a,c),g.index),function tw(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(f,i),2==(2&a)&&(f.staticContentQueries=!0)}!function up(i,o,a){const c=new sC(4==(4&a));(function ee(i,o,a,c){const f=OE(o);f.push(a),i.firstCreatePass&&PE(i).push(c,f.length-1)})(i,o,c,c.destroy),null===o[Gi]&&(o[Gi]=new ap),o[Gi].queries.push(new g_(c))}(f,Ke(),a)}function S1(){return function Kg(i,o){return i[Gi].queries[o].queryList}(Ke(),Pm())}function hC(i,o){return i.queries.getByIndex(o)}function fC(i,o){return Y0(i,o)}function v_(i){return!!ts(i)}const j1=new Rr("Application Initializer");let D_=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c}),this.appInits=Ct(j1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const f of this.appInits){const g=f();if(rI(g))a.push(g);else if(tD(g)){const v=new Promise((I,D)=>{g.subscribe({complete:I,error:D})});a.push(v)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(f=>{this.reject(f)}),0===a.length&&c(),this.initialized=!0}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=Pt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),$1=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=Pt({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();const dw=new Rr("LocaleId",{providedIn:"root",factory:()=>Ct(dw,kt.Optional|kt.SkipSelf)||function OC(){return typeof $localize<"u"&&$localize.locale||Fg}()}),PC=new Rr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let hw=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ye.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=Pt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class em{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let wh=(()=>{class i{compileModuleSync(a){return new G0(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),g=mu(ts(a).declarations).reduce((v,I)=>{const D=er(I);return D&&v.push(new Dg(D)),v},[]);return new em(c,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=Pt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const Y1=new Rr(""),pw=new Rr("");let A_,vS=(()=>{class i{constructor(a,c,f){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,A_||(function Q1(i){A_=i}(f),f.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ki.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,f){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:f})}whenStable(a,c,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,f){return[]}static#e=this.\u0275fac=function(c){return new(c||i)(pt(Ki),pt(gw),pt(pw))};static#t=this.\u0275prov=Pt({token:i,factory:i.\u0275fac})}return i})(),gw=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return A_?.findTestabilityInTree(this,a,c)??null}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=Pt({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})(),ad=null;const J1=new Rr("AllowMultipleToken"),S_=new Rr("PlatformDestroyListeners"),GC=new Rr("appBootstrapListener");class qC{constructor(o,a){this.name=o,this.token=a}}function yw(i,o,a=[]){const c=`Platform: ${o}`,f=new Rr(c);return(g=[])=>{let v=M_();if(!v||v.injector.get(J1,!1)){const I=[...a,...g,{provide:f,useValue:!0}];i?i(I):function WC(i){if(ad&&!ad.get(J1,!1))throw new ae(400,!1);(function mw(){!function yp(i){Lr=i}(()=>{throw new ae(600,!1)})})(),ad=i;const o=i.get(X1);(function lp(i){i.get(la,null)?.forEach(a=>a())})(i)}(function _w(i=[],o){return da.create({name:o,providers:[{provide:Se,useValue:"platform"},{provide:S_,useValue:new Set([()=>ad=null])},...i]})}(I,c))}return function IS(i){const o=M_();if(!o)throw new ae(401,!1);return o}()}}function M_(){return ad?.get(X1)??null}let X1=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const f=function CS(i="zone.js",o){return"noop"===i?new DE:"zone.js"===i?new Ki(o):i}(c?.ngZone,function vw(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return f.run(()=>{const g=function GA(i,o,a){return new H0(i,o,a)}(a.moduleType,this.injector,function Iw(i){return[{provide:Ki,useFactory:i},{provide:Hd,multi:!0,useFactory:()=>{const o=Ct(KC,{optional:!0});return()=>o.initialize()}},{provide:Ew,useFactory:bS},{provide:Kv,useFactory:zl}]}(()=>f)),v=g.injector.get(Kc,null);return f.runOutsideAngular(()=>{const I=f.onError.subscribe({next:D=>{v.handleError(D)}});g.onDestroy(()=>{im(this._modules,g),I.unsubscribe()})}),function eT(i,o,a){try{const c=a();return rI(c)?c.catch(f=>{throw o.runOutsideAngular(()=>i.handleError(f)),f}):c}catch(c){throw o.runOutsideAngular(()=>i.handleError(c)),c}}(v,f,()=>{const I=g.injector.get(D_);return I.runInitializers(),I.donePromise.then(()=>(function SI(i){gt(i,"Expected localeId to be defined"),"string"==typeof i&&(ph=i.toLowerCase().replace(/_/g,"-"))}(g.injector.get(dw,Fg)||Fg),this._moduleDoBootstrap(g),g))})})}bootstrapModule(a,c=[]){const f=ww({},c);return function zC(i,o,a){const c=new G0(a);return Promise.resolve(c)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(a){const c=a.injector.get(rm);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(f=>c.bootstrap(f));else{if(!a.instance.ngDoBootstrap)throw new ae(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ae(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(S_,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(c){return new(c||i)(pt(da))};static#t=this.\u0275prov=Pt({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();function ww(i,o){return Array.isArray(o)?o.reduce(ww,i):{...i,...o}}let rm=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ct(Ew),this.zoneIsStable=Ct(Kv),this.componentTypes=[],this.components=[],this.isStable=Ct(hw).hasPendingTasks.pipe((0,He.w)(a=>a?(0,Ce.of)(!1):this.zoneIsStable),(0,Ae.x)(),(0,Pe.B)()),this._injector=Ct(fu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const f=a instanceof ag;if(!this._injector.get(D_).done)throw!f&&ga(a),new ae(405,!1);let v;v=f?a:this._injector.get(ls).resolveComponentFactory(a),this.componentTypes.push(v.componentType);const I=function wS(i){return i.isBoundToModule}(v)?void 0:this._injector.get(pc),S=v.create(da.NULL,[],c||v.selector,I),R=S.location.nativeElement,z=S.injector.get(Y1,null);return z?.registerApplication(R),S.onDestroy(()=>{this.detachView(S.hostView),im(this.components,S),z?.unregisterApplication(R)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new ae(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;im(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(GC,[]);c.push(...this._bootstrapListeners),c.forEach(f=>f(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>im(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new ae(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=Pt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function im(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}const Ew=new Rr("",{providedIn:"root",factory:()=>Ct(Kc).handleError.bind(void 0)});function bS(){const i=Ct(Ki),o=Ct(Kc);return a=>i.runOutsideAngular(()=>o.handleError(a))}let KC=(()=>{class i{constructor(){this.zone=Ct(Ki),this.applicationRef=Ct(rm)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=Pt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function TS(){return!1}let YC=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=QC}return i})();function QC(i){return function AS(i,o,a){if(Ps(i)&&!a){const c=qs(i.index,o);return new bg(c,c)}return 47&i.type?new bg(o[di],o):null}(is(),Ke(),16==(16&i))}class k_{constructor(){}supports(o){return l0(o)}create(o){return new eb(o)}}const uT=(i,o)=>o;class eb{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||uT}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,f=0,g=null;for(;a||c;){const v=!c||a&&a.currentIndex<lT(c,f,g)?a:c,I=lT(v,f,g),D=v.currentIndex;if(v===c)f--,c=c._nextRemoved;else if(a=a._next,null==v.previousIndex)f++;else{g||(g=[]);const S=I-f,R=D-f;if(S!=R){for(let ie=0;ie<S;ie++){const ge=ie<g.length?g[ie]:g[ie]=0,Ze=ge+ie;R<=Ze&&Ze<S&&(g[ie]=ge+1)}g[v.previousIndex]=R-S}}I!==D&&o(v,I,D)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!l0(o))throw new ae(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let f,g,v,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let I=0;I<this.length;I++)g=o[I],v=this._trackByFn(I,g),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,g,v,I)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,v,I),c=!0),a=a._next}else f=0,function ZE(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[Symbol.iterator]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,I=>{v=this._trackByFn(f,I),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,I,v,f)),Object.is(a.item,I)||this._addIdentityChange(a,I)):(a=this._mismatch(a,I,v,f),c=!0),a=a._next,f++}),this.length=f;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,f){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,f)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,f))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,f)):o=this._addAfter(new cT(a,c),g,f),o}_verifyReinsertion(o,a,c,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?o=this._reinsertAfter(g,o._prev,f):o.currentIndex!=f&&(o.currentIndex=f,this._addToMoves(o,f)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const f=o._prevRemoved,g=o._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const f=null===a?this._itHead:a._next;return o._next=f,o._prev=a,null===f?this._itTail=o:f._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new Tw),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Tw),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class cT{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class om{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class Tw{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new om,this.map.set(a,c)),c.add(o)}get(o,a){const f=this.map.get(o);return f?f.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lT(i,o,a){const c=i.previousIndex;if(null===c)return c;let f=0;return a&&c<a.length&&(f=a[c]),c+o+f}class dT{constructor(){}supports(o){return o instanceof Map||KE(o)}create(){return new PS}}class PS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||KE(o)))throw new ae(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,f)=>{if(a&&a.key===f)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(f,c);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const f=this._records.get(o);this._maybeAddToChanges(f,a);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const c=new hT(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class hT{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fT(){return new Aw([new k_])}let Aw=(()=>{class i{static#e=this.\u0275prov=Pt({token:i,providedIn:"root",factory:fT});constructor(a){this.factories=a}static create(a,c){if(null!=c){const f=c.factories.slice();a=a.concat(f)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||fT()),deps:[[i,new Et,new Te]]}}find(a){const c=this.factories.find(f=>f.supports(a));if(null!=c)return c;throw new ae(901,!1)}}return i})();function pT(){return new tb([new dT])}let tb=(()=>{class i{static#e=this.\u0275prov=Pt({token:i,providedIn:"root",factory:pT});constructor(a){this.factories=a}static create(a,c){if(c){const f=c.factories.slice();a=a.concat(f)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||pT()),deps:[[i,new Et,new Te]]}}find(a){const c=this.factories.find(f=>f.supports(a));if(c)return c;throw new ae(901,!1)}}return i})();const yT=yw(null,"core",[]);let _T=(()=>{class i{constructor(a){}static#e=this.\u0275fac=function(c){return new(c||i)(pt(rm))};static#t=this.\u0275mod=Mu({type:i});static#n=this.\u0275inj=Dr({})}return i})();function US(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function ol(i){const o=er(i);if(!o)return null;const a=new Dg(o);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},3399:(Tt,Fe,N)=>{"use strict";N.d(Fe,{Z:()=>ht});var h=N(9058),M=N(4537),B=N(7592),se=N(7879);class ye{constructor(ut,je){this._delegate=ut,this.firebase=je,(0,B._addComponent)(ut,new M.wA("app-compat",()=>this,"PUBLIC")),this.container=ut.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ut){this._delegate.automaticDataCollectionEnabled=ut}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ut=>{this._delegate.checkDestroyed(),ut()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(ut,je=B._DEFAULT_ENTRY_NAME){var wt;this._delegate.checkDestroyed();const bt=this._delegate.container.getProvider(ut);return!bt.isInitialized()&&"EXPLICIT"===(null===(wt=bt.getComponent())||void 0===wt?void 0:wt.instantiationMode)&&bt.initialize(),bt.getImmediate({identifier:je})}_removeServiceInstance(ut,je=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ut).clearInstance(je)}_addComponent(ut){(0,B._addComponent)(this._delegate,ut)}_addOrOverwriteComponent(ut){(0,B._addOrOverwriteComponent)(this._delegate,ut)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Pe=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function Ae(){const Be=function He(Be){const ut={},je={__esModule:!0,initializeApp:function ae(Xe,H={}){const he=B.initializeApp(Xe,H);if((0,h.r3)(ut,he.name))return ut[he.name];const Ve=new Be(he,je);return ut[he.name]=Ve,Ve},app:bt,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function me(Xe){const H=Xe.name,he=H.replace("-compat","");if(B._registerComponent(Xe)&&"PUBLIC"===Xe.type){const Ve=(It=bt())=>{if("function"!=typeof It[he])throw Pe.create("invalid-app-argument",{appName:H});return It[he]()};void 0!==Xe.serviceProps&&(0,h.ZB)(Ve,Xe.serviceProps),je[he]=Ve,Be.prototype[he]=function(...It){return this._getService.bind(this,H).apply(this,Xe.multipleInstances?It:[])}}return"PUBLIC"===Xe.type?je[he]:null},removeApp:function wt(Xe){delete ut[Xe]},useAsService:function Ue(Xe,H){return"serverAuth"===H?null:H},modularAPIs:B}};function bt(Xe){if(!(0,h.r3)(ut,Xe=Xe||B._DEFAULT_ENTRY_NAME))throw Pe.create("no-app",{appName:Xe});return ut[Xe]}return je.default=je,Object.defineProperty(je,"apps",{get:function ke(){return Object.keys(ut).map(Xe=>ut[Xe])}}),bt.App=Be,je}(ye);return Be.INTERNAL=Object.assign(Object.assign({},Be.INTERNAL),{createFirebaseNamespace:Ae,extendNamespace:function ut(je){(0,h.ZB)(Be,je)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),Be}(),Y=new se.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Be=self.firebase.SDK_VERSION;Be&&Be.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ht=q;!function Oe(Be){(0,B.registerVersion)("@firebase/app-compat","0.2.13",Be)}()},7592:(Tt,Fe,N)=>{"use strict";N.r(Fe),N.d(Fe,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Dr,_DEFAULT_ENTRY_NAME:()=>_e,_addComponent:()=>$e,_addOrOverwriteComponent:()=>tt,_apps:()=>we,_clearComponents:()=>Bt,_components:()=>ve,_getProvider:()=>lt,_registerComponent:()=>gt,_removeServiceInstance:()=>hn,deleteApp:()=>vr,getApp:()=>kn,getApps:()=>fr,initializeApp:()=>$n,onLog:()=>qn,registerVersion:()=>Ir,setLogLevel:()=>ur});var h=N(5861),M=N(4537),B=N(7879),se=N(9058),ye=N(1878);class Ce{constructor(te){this.container=te}getPlatformInfoString(){return this.container.getProviders().map(Re=>{if(function Pe(Me){const te=Me.getComponent();return"VERSION"===te?.type}(Re)){const ot=Re.getImmediate();return`${ot.library}/${ot.version}`}return null}).filter(Re=>Re).join(" ")}}const He="@firebase/app",q=new B.Yd("@firebase/app"),_e="[DEFAULT]",Ie={[He]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},we=new Map,ve=new Map;function $e(Me,te){try{Me.container.addComponent(te)}catch(Re){q.debug(`Component ${te.name} failed to register with FirebaseApp ${Me.name}`,Re)}}function tt(Me,te){Me.container.addOrOverwriteComponent(te)}function gt(Me){const te=Me.name;if(ve.has(te))return q.debug(`There were multiple attempts to register component ${te}.`),!1;ve.set(te,Me);for(const Re of we.values())$e(Re,Me);return!0}function lt(Me,te){const Re=Me.container.getProvider("heartbeat").getImmediate({optional:!0});return Re&&Re.triggerHeartbeat(),Me.container.getProvider(te)}function hn(Me,te,Re=_e){lt(Me,te).clearInstance(Re)}function Bt(){ve.clear()}const Pt=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Pn{constructor(te,Re,ot){this._isDeleted=!1,this._options=Object.assign({},te),this._config=Object.assign({},Re),this._name=Re.name,this._automaticDataCollectionEnabled=Re.automaticDataCollectionEnabled,this._container=ot,this.container.addComponent(new M.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this.checkDestroyed(),this._automaticDataCollectionEnabled=te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(te){this._isDeleted=te}checkDestroyed(){if(this.isDeleted)throw Pt.create("app-deleted",{appName:this._name})}}const Dr="9.23.0";function $n(Me,te={}){let Re=Me;"object"!=typeof te&&(te={name:te});const ot=Object.assign({name:_e,automaticDataCollectionEnabled:!1},te),At=ot.name;if("string"!=typeof At||!At)throw Pt.create("bad-app-name",{appName:String(At)});if(Re||(Re=(0,se.aH)()),!Re)throw Pt.create("no-options");const Lt=we.get(At);if(Lt){if((0,se.vZ)(Re,Lt.options)&&(0,se.vZ)(ot,Lt.config))return Lt;throw Pt.create("duplicate-app",{appName:At})}const Wn=new M.H0(At);for(const X of ve.values())Wn.addComponent(X);const J=new Pn(Re,ot,Wn);return we.set(At,J),J}function kn(Me=_e){const te=we.get(Me);if(!te&&Me===_e&&(0,se.aH)())return $n();if(!te)throw Pt.create("no-app",{appName:Me});return te}function fr(){return Array.from(we.values())}function vr(Me){return Or.apply(this,arguments)}function Or(){return(Or=(0,h.Z)(function*(Me){const te=Me.name;we.has(te)&&(we.delete(te),yield Promise.all(Me.container.getProviders().map(Re=>Re.delete())),Me.isDeleted=!0)})).apply(this,arguments)}function Ir(Me,te,Re){var ot;let At=null!==(ot=Ie[Me])&&void 0!==ot?ot:Me;Re&&(At+=`-${Re}`);const Lt=At.match(/\s|\//),Wn=te.match(/\s|\//);if(Lt||Wn){const J=[`Unable to register library "${At}" with version "${te}":`];return Lt&&J.push(`library name "${At}" contains illegal characters (whitespace or "/")`),Lt&&Wn&&J.push("and"),Wn&&J.push(`version name "${te}" contains illegal characters (whitespace or "/")`),void q.warn(J.join(" "))}gt(new M.wA(`${At}-version`,()=>({library:At,version:te}),"VERSION"))}function qn(Me,te){if(null!==Me&&"function"!=typeof Me)throw Pt.create("invalid-log-argument");(0,B.Am)(Me,te)}function ur(Me){(0,B.Ub)(Me)}const ui="firebase-heartbeat-database",kt=1,jt="firebase-heartbeat-store";let zt=null;function en(){return zt||(zt=(0,ye.X3)(ui,kt,{upgrade:(Me,te)=>{0===te&&Me.createObjectStore(jt)}}).catch(Me=>{throw Pt.create("idb-open",{originalErrorMessage:Me.message})})),zt}function Sn(){return(Sn=(0,h.Z)(function*(Me){try{return yield(yield en()).transaction(jt).objectStore(jt).get(ci(Me))}catch(te){if(te instanceof se.ZR)q.warn(te.message);else{const Re=Pt.create("idb-get",{originalErrorMessage:te?.message});q.warn(Re.message)}}})).apply(this,arguments)}function mn(Me,te){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,h.Z)(function*(Me,te){try{const ot=(yield en()).transaction(jt,"readwrite");yield ot.objectStore(jt).put(te,ci(Me)),yield ot.done}catch(Re){if(Re instanceof se.ZR)q.warn(Re.message);else{const ot=Pt.create("idb-set",{originalErrorMessage:Re?.message});q.warn(ot.message)}}})).apply(this,arguments)}function ci(Me){return`${Me.name}!${Me.options.appId}`}class In{constructor(te){this.container=te,this._heartbeatsCache=null;const Re=this.container.getProvider("app").getImmediate();this._storage=new Br(Re),this._heartbeatsCachePromise=this._storage.read().then(ot=>(this._heartbeatsCache=ot,ot))}triggerHeartbeat(){var te=this;return(0,h.Z)(function*(){const ot=te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),At=Rn();if(null===te._heartbeatsCache&&(te._heartbeatsCache=yield te._heartbeatsCachePromise),te._heartbeatsCache.lastSentHeartbeatDate!==At&&!te._heartbeatsCache.heartbeats.some(Lt=>Lt.date===At))return te._heartbeatsCache.heartbeats.push({date:At,agent:ot}),te._heartbeatsCache.heartbeats=te._heartbeatsCache.heartbeats.filter(Lt=>{const Wn=new Date(Lt.date).valueOf();return Date.now()-Wn<=2592e6}),te._storage.overwrite(te._heartbeatsCache)})()}getHeartbeatsHeader(){var te=this;return(0,h.Z)(function*(){if(null===te._heartbeatsCache&&(yield te._heartbeatsCachePromise),null===te._heartbeatsCache||0===te._heartbeatsCache.heartbeats.length)return"";const Re=Rn(),{heartbeatsToSend:ot,unsentEntries:At}=function ri(Me,te=1024){const Re=[];let ot=Me.slice();for(const At of Me){const Lt=Re.find(Wn=>Wn.agent===At.agent);if(Lt){if(Lt.dates.push(At.date),ii(Re)>te){Lt.dates.pop();break}}else if(Re.push({agent:At.agent,dates:[At.date]}),ii(Re)>te){Re.pop();break}ot=ot.slice(1)}return{heartbeatsToSend:Re,unsentEntries:ot}}(te._heartbeatsCache.heartbeats),Lt=(0,se.L)(JSON.stringify({version:2,heartbeats:ot}));return te._heartbeatsCache.lastSentHeartbeatDate=Re,At.length>0?(te._heartbeatsCache.heartbeats=At,yield te._storage.overwrite(te._heartbeatsCache)):(te._heartbeatsCache.heartbeats=[],te._storage.overwrite(te._heartbeatsCache)),Lt})()}}function Rn(){return(new Date).toISOString().substring(0,10)}class Br{constructor(te){this.app=te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var te=this;return(0,h.Z)(function*(){return(yield te._canUseIndexedDBPromise)&&(yield function Vr(Me){return Sn.apply(this,arguments)}(te.app))||{heartbeats:[]}})()}overwrite(te){var Re=this;return(0,h.Z)(function*(){var ot;if(yield Re._canUseIndexedDBPromise){const Lt=yield Re.read();return mn(Re.app,{lastSentHeartbeatDate:null!==(ot=te.lastSentHeartbeatDate)&&void 0!==ot?ot:Lt.lastSentHeartbeatDate,heartbeats:te.heartbeats})}})()}add(te){var Re=this;return(0,h.Z)(function*(){var ot;if(yield Re._canUseIndexedDBPromise){const Lt=yield Re.read();return mn(Re.app,{lastSentHeartbeatDate:null!==(ot=te.lastSentHeartbeatDate)&&void 0!==ot?ot:Lt.lastSentHeartbeatDate,heartbeats:[...Lt.heartbeats,...te.heartbeats]})}})()}}function ii(Me){return(0,se.L)(JSON.stringify({version:2,heartbeats:Me})).length}!function Tr(Me){gt(new M.wA("platform-logger",te=>new Ce(te),"PRIVATE")),gt(new M.wA("heartbeat",te=>new In(te),"PRIVATE")),Ir(He,"0.9.13",Me),Ir(He,"0.9.13","esm2017"),Ir("fire-js","")}("")},4097:(Tt,Fe,N)=>{"use strict";N.d(Fe,{C6:()=>h.getApps,Mq:()=>h.getApp});var h=N(7592);(0,h.registerVersion)("firebase","9.23.0","app")},120:(Tt,Fe,N)=>{"use strict";N.d(Fe,{Z:()=>h.Z});var h=N(3399);h.Z.registerVersion("firebase","9.23.0","app-compat")},8661:(Tt,Fe,N)=>{"use strict";N.r(Fe);var h=N(5861),M=N(3399),B=N(6710),se=N(9058),Pe=(N(7592),N(7879),N(4537));function He(){return window}function Y(){return Y=(0,h.Z)(function*(V,j,k){var ce;const{BuildInfo:ze}=He();(0,B.as)(j.sessionId,"AuthEvent did not contain a session ID");const pt=yield function je(V){return wt.apply(this,arguments)}(j.sessionId),Qt={};return(0,B.at)()?Qt.ibi=ze.packageName:(0,B.au)()?Qt.apn=ze.packageName:(0,B.av)(V,"operation-not-supported-in-this-environment"),ze.displayName&&(Qt.appDisplayName=ze.displayName),Qt.sessionId=pt,(0,B.aw)(V,k,j.type,void 0,null!==(ce=j.eventId)&&void 0!==ce?ce:void 0,Qt)}),Y.apply(this,arguments)}function Qe(){return(Qe=(0,h.Z)(function*(V){const{BuildInfo:j}=He(),k={};(0,B.at)()?k.iosBundleId=j.packageName:(0,B.au)()?k.androidPackageName=j.packageName:(0,B.av)(V,"operation-not-supported-in-this-environment"),yield(0,B.ax)(V,k)})).apply(this,arguments)}function Be(){return(Be=(0,h.Z)(function*(V,j,k){const{cordova:ce}=He();let ze=()=>{};try{yield new Promise((pt,Qt)=>{let Ct=null;function Zn(){var Cn;pt();const li=null===(Cn=ce.plugins.browsertab)||void 0===Cn?void 0:Cn.close;"function"==typeof li&&li(),"function"==typeof k?.close&&k.close()}function rn(){Ct||(Ct=window.setTimeout(()=>{Qt((0,B.az)(V,"redirect-cancelled-by-user"))},2e3))}function Jn(){"visible"===document?.visibilityState&&rn()}j.addPassiveListener(Zn),document.addEventListener("resume",rn,!1),(0,B.au)()&&document.addEventListener("visibilitychange",Jn,!1),ze=()=>{j.removePassiveListener(Zn),document.removeEventListener("resume",rn,!1),document.removeEventListener("visibilitychange",Jn,!1),Ct&&window.clearTimeout(Ct)}})}finally{ze()}})).apply(this,arguments)}function wt(){return(wt=(0,h.Z)(function*(V){const j=function bt(V){if((0,B.as)(/[0-9a-zA-Z]+/.test(V),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(V);const j=new ArrayBuffer(V.length),k=new Uint8Array(j);for(let ce=0;ce<V.length;ce++)k[ce]=V.charCodeAt(ce);return k}(V),k=yield crypto.subtle.digest("SHA-256",j);return Array.from(new Uint8Array(k)).map(ze=>ze.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ke extends B.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(j=>{this.resolveInialized=j})}addPassiveListener(j){this.passiveListeners.add(j)}removePassiveListener(j){this.passiveListeners.delete(j)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(j){return this.resolveInialized(),this.passiveListeners.forEach(k=>k(j)),super.onEvent(j)}initialized(){var j=this;return(0,h.Z)(function*(){yield j.initPromise})()}}function Xe(V){return H.apply(this,arguments)}function H(){return(H=(0,h.Z)(function*(V){const j=yield It()._get(tn(V));return j&&(yield It()._remove(tn(V))),j})).apply(this,arguments)}function Ve(){const V=[];for(let k=0;k<20;k++){const ce=Math.floor(62*Math.random());V.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ce))}return V.join("")}function It(){return(0,B.aC)(B.b)}function tn(V){return(0,B.aD)("authEvent",V.config.apiKey,V.name)}function En(V){if(!V?.includes("?"))return{};const[j,...k]=V.split("?");return(0,se.zd)(k.join("?"))}const _e=class xr{constructor(){this._redirectPersistence=B.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=B.aE,this._overrideRedirectResult=B.aF}_initialize(j){var k=this;return(0,h.Z)(function*(){const ce=j._key();let ze=k.eventManagers.get(ce);return ze||(ze=new ke(j),k.eventManagers.set(ce,ze),k.attachCallbackListeners(j,ze)),ze})()}_openPopup(j){(0,B.av)(j,"operation-not-supported-in-this-environment")}_openRedirect(j,k,ce,ze){var pt=this;return(0,h.Z)(function*(){!function ut(V){var j,k,ce,ze,pt,Qt,Ct,Zn,rn,Jn;const Cn=He();(0,B.aA)("function"==typeof(null===(j=Cn?.universalLinks)||void 0===j?void 0:j.subscribe),V,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,B.aA)(typeof(null===(k=Cn?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,B.aA)("function"==typeof(null===(pt=null===(ze=null===(ce=Cn?.cordova)||void 0===ce?void 0:ce.plugins)||void 0===ze?void 0:ze.browsertab)||void 0===pt?void 0:pt.openUrl),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aA)("function"==typeof(null===(Zn=null===(Ct=null===(Qt=Cn?.cordova)||void 0===Qt?void 0:Qt.plugins)||void 0===Ct?void 0:Ct.browsertab)||void 0===Zn?void 0:Zn.isAvailable),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aA)("function"==typeof(null===(Jn=null===(rn=Cn?.cordova)||void 0===rn?void 0:rn.InAppBrowser)||void 0===Jn?void 0:Jn.open),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(j);const Qt=yield pt._initialize(j);yield Qt.initialized(),Qt.resetRedirect(),(0,B.aG)(),yield pt._originValidation(j);const Ct=function me(V,j,k=null){return{type:j,eventId:k,urlResponse:null,sessionId:Ve(),postBody:null,tenantId:V.tenantId,error:(0,B.az)(V,"no-auth-event")}}(j,ce,ze);yield function Ue(V,j){return It()._set(tn(V),j)}(j,Ct);const Zn=yield function q(V,j,k){return Y.apply(this,arguments)}(j,Ct,k),rn=yield function Oe(V){const{cordova:j}=He();return new Promise(k=>{j.plugins.browsertab.isAvailable(ce=>{let ze=null;ce?j.plugins.browsertab.openUrl(V):ze=j.InAppBrowser.open(V,(0,B.ay)()?"_blank":"_system","location=yes"),k(ze)})})}(Zn);return function ht(V,j,k){return Be.apply(this,arguments)}(j,Qt,rn)})()}_isIframeWebStorageSupported(j,k){throw new Error("Method not implemented.")}_originValidation(j){const k=j._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function de(V){return Qe.apply(this,arguments)}(j)),this.originValidationPromises[k]}attachCallbackListeners(j,k){const{universalLinks:ce,handleOpenURL:ze,BuildInfo:pt}=He(),Qt=setTimeout((0,h.Z)(function*(){yield Xe(j),k.onEvent(Ie())}),500),Ct=function(){var Jn=(0,h.Z)(function*(Cn){clearTimeout(Qt);const li=yield Xe(j);let re=null;li&&Cn?.url&&(re=function he(V,j){var k,ce;const ze=function dn(V){const j=En(V),k=j.link?decodeURIComponent(j.link):void 0,ce=En(k).link,ze=j.deep_link_id?decodeURIComponent(j.deep_link_id):void 0;return En(ze).link||ze||ce||k||V}(j);if(ze.includes("/__/auth/callback")){const pt=En(ze),Qt=pt.firebaseError?function ln(V){try{return JSON.parse(V)}catch{return null}}(decodeURIComponent(pt.firebaseError)):null,Ct=null===(ce=null===(k=Qt?.code)||void 0===k?void 0:k.split("auth/"))||void 0===ce?void 0:ce[1],Zn=Ct?(0,B.az)(Ct):null;return Zn?{type:V.type,eventId:V.eventId,tenantId:V.tenantId,error:Zn,urlResponse:null,sessionId:null,postBody:null}:{type:V.type,eventId:V.eventId,tenantId:V.tenantId,sessionId:V.sessionId,urlResponse:ze,postBody:null}}return null}(li,Cn.url)),k.onEvent(re||Ie())});return function(li){return Jn.apply(this,arguments)}}();typeof ce<"u"&&"function"==typeof ce.subscribe&&ce.subscribe(null,Ct);const Zn=ze,rn=`${pt.packageName.toLowerCase()}://`;He().handleOpenURL=function(){var Jn=(0,h.Z)(function*(Cn){if(Cn.toLowerCase().startsWith(rn)&&Ct({url:Cn}),"function"==typeof Zn)try{Zn(Cn)}catch(li){console.error(li)}});return function(Cn){return Jn.apply(this,arguments)}}()}};function Ie(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,B.az)("no-auth-event")}}function gt(){var V;return(null===(V=self?.location)||void 0===V?void 0:V.protocol)||null}function hn(V=(0,se.z$)()){return!("file:"!==gt()&&"ionic:"!==gt()&&"capacitor:"!==gt()||!V.toLowerCase().match(/iphone|ipad|ipod|android/))}function Dr(){try{const V=self.localStorage,j=B.aL();if(V)return V.setItem(j,"1"),V.removeItem(j),!function Pn(V=(0,se.z$)()){return function On(){return(0,se.w1)()&&11===document?.documentMode}()||function Pt(V=(0,se.z$)()){return/Edge\/\d+/.test(V)}(V)}()||(0,se.hl)()}catch{return $n()&&(0,se.hl)()}return!1}function $n(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function kn(){return(function lt(){return"http:"===gt()||"https:"===gt()}()||(0,se.ru)()||hn())&&!function Bt(){return(0,se.b$)()||(0,se.UG)()}()&&Dr()&&!$n()}function fr(){return hn()&&typeof document<"u"}function Or(){return(Or=(0,h.Z)(function*(){return!!fr()&&new Promise(V=>{const j=setTimeout(()=>{V(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(j),V(!0)})})})).apply(this,arguments)}const qn={LOCAL:"local",NONE:"none",SESSION:"session"},ur=B.aA,ui="persistence";function jt(V){return zt.apply(this,arguments)}function zt(){return(zt=(0,h.Z)(function*(V){yield V._initializationPromise;const j=Vr(),k=B.aD(ui,V.config.apiKey,V.name);j&&j.setItem(k,V._getPersistence())})).apply(this,arguments)}function Vr(){var V;try{return(null===(V=function Ir(){return typeof window<"u"?window:null}())||void 0===V?void 0:V.sessionStorage)||null}catch{return null}}const Sn=B.aA;class mn{constructor(){this.browserResolver=B.aC(B.k),this.cordovaResolver=B.aC(_e),this.underlyingResolver=null,this._redirectPersistence=B.a,this._completeRedirectFn=B.aE,this._overrideRedirectResult=B.aF}_initialize(j){var k=this;return(0,h.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(j)})()}_openPopup(j,k,ce,ze){var pt=this;return(0,h.Z)(function*(){return yield pt.selectUnderlyingResolver(),pt.assertedUnderlyingResolver._openPopup(j,k,ce,ze)})()}_openRedirect(j,k,ce,ze){var pt=this;return(0,h.Z)(function*(){return yield pt.selectUnderlyingResolver(),pt.assertedUnderlyingResolver._openRedirect(j,k,ce,ze)})()}_isIframeWebStorageSupported(j,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(j,k)}_originValidation(j){return this.assertedUnderlyingResolver._originValidation(j)}get _shouldInitProactively(){return fr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Sn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var j=this;return(0,h.Z)(function*(){if(j.underlyingResolver)return;const k=yield function vr(){return Or.apply(this,arguments)}();j.underlyingResolver=k?j.cordovaResolver:j.browserResolver})()}}function Ln(V){return V.unwrap()}function Mn(V){return In(V)}function In(V){const{_tokenResponse:j}=V instanceof se.ZR?V.customData:V;if(!j)return null;if(!(V instanceof se.ZR)&&"temporaryProof"in j&&"phoneNumber"in j)return B.P.credentialFromResult(V);const k=j.providerId;if(!k||k===B.p.PASSWORD)return null;let ce;switch(k){case B.p.GOOGLE:ce=B.V;break;case B.p.FACEBOOK:ce=B.U;break;case B.p.GITHUB:ce=B.W;break;case B.p.TWITTER:ce=B.Z;break;default:const{oauthIdToken:ze,oauthAccessToken:pt,oauthTokenSecret:Qt,pendingToken:Ct,nonce:Zn}=j;return pt||Qt||ze||Ct?Ct?k.startsWith("saml.")?B.aO._create(k,Ct):B.L._fromParams({providerId:k,signInMethod:k,pendingToken:Ct,idToken:ze,accessToken:pt}):new B.X(k).credential({idToken:ze,accessToken:pt,rawNonce:Zn}):null}return V instanceof se.ZR?ce.credentialFromError(V):ce.credentialFromResult(V)}function Rn(V,j){return j.catch(k=>{throw k instanceof se.ZR&&function Ui(V,j){var k;const ce=null===(k=j.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===j?.code)j.resolver=new ii(V,B.aq(V,j));else if(ce){const ze=In(j),pt=j;ze&&(pt.credential=ze,pt.tenantId=ce.tenantId||void 0,pt.email=ce.email||void 0,pt.phoneNumber=ce.phoneNumber||void 0)}}(V,k),k}).then(k=>{const ze=k.user;return{operationType:k.operationType,credential:Mn(k),additionalUserInfo:B.ao(k),user:Tr.getOrCreate(ze)}})}function ri(V,j){return Br.apply(this,arguments)}function Br(){return(Br=(0,h.Z)(function*(V,j){const k=yield j;return{verificationId:k.verificationId,confirm:ce=>Rn(V,k.confirm(ce))}})).apply(this,arguments)}class ii{constructor(j,k){this.resolver=k,this.auth=function ci(V){return V.wrapped()}(j)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(j){return Rn(Ln(this.auth),this.resolver.resolveSignIn(j))}}class Tr{constructor(j){this._delegate=j,this.multiFactor=B.ar(j)}static getOrCreate(j){return Tr.USER_MAP.has(j)||Tr.USER_MAP.set(j,new Tr(j)),Tr.USER_MAP.get(j)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(j){return this._delegate.getIdTokenResult(j)}getIdToken(j){return this._delegate.getIdToken(j)}linkAndRetrieveDataWithCredential(j){return this.linkWithCredential(j)}linkWithCredential(j){var k=this;return(0,h.Z)(function*(){return Rn(k.auth,B.a0(k._delegate,j))})()}linkWithPhoneNumber(j,k){var ce=this;return(0,h.Z)(function*(){return ri(ce.auth,B.l(ce._delegate,j,k))})()}linkWithPopup(j){var k=this;return(0,h.Z)(function*(){return Rn(k.auth,B.d(k._delegate,j,mn))})()}linkWithRedirect(j){var k=this;return(0,h.Z)(function*(){return yield jt(B.aH(k.auth)),B.g(k._delegate,j,mn)})()}reauthenticateAndRetrieveDataWithCredential(j){return this.reauthenticateWithCredential(j)}reauthenticateWithCredential(j){var k=this;return(0,h.Z)(function*(){return Rn(k.auth,B.a1(k._delegate,j))})()}reauthenticateWithPhoneNumber(j,k){return ri(this.auth,B.r(this._delegate,j,k))}reauthenticateWithPopup(j){return Rn(this.auth,B.e(this._delegate,j,mn))}reauthenticateWithRedirect(j){var k=this;return(0,h.Z)(function*(){return yield jt(B.aH(k.auth)),B.h(k._delegate,j,mn)})()}sendEmailVerification(j){return B.ae(this._delegate,j)}unlink(j){var k=this;return(0,h.Z)(function*(){return yield B.an(k._delegate,j),k})()}updateEmail(j){return B.aj(this._delegate,j)}updatePassword(j){return B.ak(this._delegate,j)}updatePhoneNumber(j){return B.u(this._delegate,j)}updateProfile(j){return B.ai(this._delegate,j)}verifyBeforeUpdateEmail(j,k){return B.af(this._delegate,j,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Tr.USER_MAP=new WeakMap;const Me=B.aA;let te=(()=>{class V{constructor(k,ce){if(this.app=k,ce.isInitialized())return this._delegate=ce.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ze}=k.options;Me(ze,"invalid-api-key",{appName:k.name}),Me(ze,"invalid-api-key",{appName:k.name});const pt=typeof window<"u"?mn:void 0;this._delegate=ce.initialize({options:{persistence:ot(ze,k.name),popupRedirectResolver:pt}}),this._delegate._updateErrorMap(B.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Tr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,ce){B.I(this._delegate,k,ce)}applyActionCode(k){return B.a5(this._delegate,k)}checkActionCode(k){return B.a6(this._delegate,k)}confirmPasswordReset(k,ce){return B.a4(this._delegate,k,ce)}createUserWithEmailAndPassword(k,ce){var ze=this;return(0,h.Z)(function*(){return Rn(ze._delegate,B.a8(ze._delegate,k,ce))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return B.ad(this._delegate,k)}isSignInWithEmailLink(k){return B.ab(this._delegate,k)}getRedirectResult(){var k=this;return(0,h.Z)(function*(){Me(kn(),k._delegate,"operation-not-supported-in-this-environment");const ce=yield B.j(k._delegate,mn);return ce?Rn(k._delegate,Promise.resolve(ce)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function we(V,j){(0,B.aH)(V)._logFramework(j)}(this._delegate,k)}onAuthStateChanged(k,ce,ze){const{next:pt,error:Qt,complete:Ct}=Re(k,ce,ze);return this._delegate.onAuthStateChanged(pt,Qt,Ct)}onIdTokenChanged(k,ce,ze){const{next:pt,error:Qt,complete:Ct}=Re(k,ce,ze);return this._delegate.onIdTokenChanged(pt,Qt,Ct)}sendSignInLinkToEmail(k,ce){return B.aa(this._delegate,k,ce)}sendPasswordResetEmail(k,ce){return B.a3(this._delegate,k,ce||void 0)}setPersistence(k){var ce=this;return(0,h.Z)(function*(){let ze;switch(function kt(V,j){ur(Object.values(qn).includes(j),V,"invalid-persistence-type"),(0,se.b$)()?ur(j!==qn.SESSION,V,"unsupported-persistence-type"):(0,se.UG)()?ur(j===qn.NONE,V,"unsupported-persistence-type"):$n()?ur(j===qn.NONE||j===qn.LOCAL&&(0,se.hl)(),V,"unsupported-persistence-type"):ur(j===qn.NONE||Dr(),V,"unsupported-persistence-type")}(ce._delegate,k),k){case qn.SESSION:ze=B.a;break;case qn.LOCAL:ze=(yield B.aC(B.i)._isAvailable())?B.i:B.b;break;case qn.NONE:ze=B.N;break;default:return B.av("argument-error",{appName:ce._delegate.name})}return ce._delegate.setPersistence(ze)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return Rn(this._delegate,B._(this._delegate))}signInWithCredential(k){return Rn(this._delegate,B.$(this._delegate,k))}signInWithCustomToken(k){return Rn(this._delegate,B.a2(this._delegate,k))}signInWithEmailAndPassword(k,ce){return Rn(this._delegate,B.a9(this._delegate,k,ce))}signInWithEmailLink(k,ce){return Rn(this._delegate,B.ac(this._delegate,k,ce))}signInWithPhoneNumber(k,ce){return ri(this._delegate,B.s(this._delegate,k,ce))}signInWithPopup(k){var ce=this;return(0,h.Z)(function*(){return Me(kn(),ce._delegate,"operation-not-supported-in-this-environment"),Rn(ce._delegate,B.c(ce._delegate,k,mn))})()}signInWithRedirect(k){var ce=this;return(0,h.Z)(function*(){return Me(kn(),ce._delegate,"operation-not-supported-in-this-environment"),yield jt(ce._delegate),B.f(ce._delegate,k,mn)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return B.a7(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return V.Persistence=qn,V})();function Re(V,j,k){let ce=V;"function"!=typeof V&&({next:ce,error:j,complete:k}=V);const ze=ce;return{next:Qt=>ze(Qt&&Tr.getOrCreate(Qt)),error:j,complete:k}}function ot(V,j){const k=function en(V,j){const k=Vr();if(!k)return[];const ce=B.aD(ui,V,j);switch(k.getItem(ce)){case qn.NONE:return[B.N];case qn.LOCAL:return[B.i,B.a];case qn.SESSION:return[B.a];default:return[]}}(V,j);if(typeof self<"u"&&!k.includes(B.i)&&k.push(B.i),typeof window<"u")for(const ce of[B.b,B.a])k.includes(ce)||k.push(ce);return k.includes(B.N)||k.push(B.N),k}class At{constructor(){this.providerId="phone",this._delegate=new B.P(Ln(M.Z.auth()))}static credential(j,k){return B.P.credential(j,k)}verifyPhoneNumber(j,k){return this._delegate.verifyPhoneNumber(j,k)}unwrap(){return this._delegate}}At.PHONE_SIGN_IN_METHOD=B.P.PHONE_SIGN_IN_METHOD,At.PROVIDER_ID=B.P.PROVIDER_ID;const Lt=B.aA;class Wn{constructor(j,k,ce=M.Z.app()){var ze;Lt(null===(ze=ce.options)||void 0===ze?void 0:ze.apiKey,"invalid-api-key",{appName:ce.name}),this._delegate=new B.R(j,k,ce.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function X(V){V.INTERNAL.registerComponent(new Pe.wA("auth-compat",j=>{const k=j.getProvider("app-compat").getImmediate(),ce=j.getProvider("auth");return new te(k,ce)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:B.A.EMAIL_SIGNIN,PASSWORD_RESET:B.A.PASSWORD_RESET,RECOVER_EMAIL:B.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:B.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:B.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:B.A.VERIFY_EMAIL}},EmailAuthProvider:B.Q,FacebookAuthProvider:B.U,GithubAuthProvider:B.W,GoogleAuthProvider:B.V,OAuthProvider:B.X,SAMLAuthProvider:B.Y,PhoneAuthProvider:At,PhoneMultiFactorGenerator:B.m,RecaptchaVerifier:Wn,TwitterAuthProvider:B.Z,Auth:te,AuthCredential:B.J,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),V.registerVersion("@firebase/auth-compat","0.4.2")}(M.Z)},9519:(Tt,Fe,N)=>{"use strict";N.d(Fe,{Gb:()=>h.Gb});var h=N(2650)},4303:(Tt,Fe,N)=>{"use strict";N.r(Fe),N.d(Fe,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Dr,_DEFAULT_ENTRY_NAME:()=>_e,_addComponent:()=>$e,_addOrOverwriteComponent:()=>tt,_apps:()=>we,_clearComponents:()=>Bt,_components:()=>ve,_getProvider:()=>lt,_registerComponent:()=>gt,_removeServiceInstance:()=>hn,deleteApp:()=>vr,getApp:()=>kn,getApps:()=>fr,initializeApp:()=>$n,onLog:()=>qn,registerVersion:()=>Ir,setLogLevel:()=>ur});var h=N(5861),M=N(4537),B=N(7879),se=N(9058),ye=N(1878);class Ce{constructor(te){this.container=te}getPlatformInfoString(){return this.container.getProviders().map(Re=>{if(function Pe(Me){const te=Me.getComponent();return"VERSION"===te?.type}(Re)){const ot=Re.getImmediate();return`${ot.library}/${ot.version}`}return null}).filter(Re=>Re).join(" ")}}const He="@firebase/app",q=new B.Yd("@firebase/app"),_e="[DEFAULT]",Ie={[He]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},we=new Map,ve=new Map;function $e(Me,te){try{Me.container.addComponent(te)}catch(Re){q.debug(`Component ${te.name} failed to register with FirebaseApp ${Me.name}`,Re)}}function tt(Me,te){Me.container.addOrOverwriteComponent(te)}function gt(Me){const te=Me.name;if(ve.has(te))return q.debug(`There were multiple attempts to register component ${te}.`),!1;ve.set(te,Me);for(const Re of we.values())$e(Re,Me);return!0}function lt(Me,te){const Re=Me.container.getProvider("heartbeat").getImmediate({optional:!0});return Re&&Re.triggerHeartbeat(),Me.container.getProvider(te)}function hn(Me,te,Re=_e){lt(Me,te).clearInstance(Re)}function Bt(){ve.clear()}const Pt=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Pn{constructor(te,Re,ot){this._isDeleted=!1,this._options=Object.assign({},te),this._config=Object.assign({},Re),this._name=Re.name,this._automaticDataCollectionEnabled=Re.automaticDataCollectionEnabled,this._container=ot,this.container.addComponent(new M.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this.checkDestroyed(),this._automaticDataCollectionEnabled=te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(te){this._isDeleted=te}checkDestroyed(){if(this.isDeleted)throw Pt.create("app-deleted",{appName:this._name})}}const Dr="10.4.0";function $n(Me,te={}){let Re=Me;"object"!=typeof te&&(te={name:te});const ot=Object.assign({name:_e,automaticDataCollectionEnabled:!1},te),At=ot.name;if("string"!=typeof At||!At)throw Pt.create("bad-app-name",{appName:String(At)});if(Re||(Re=(0,se.aH)()),!Re)throw Pt.create("no-options");const Lt=we.get(At);if(Lt){if((0,se.vZ)(Re,Lt.options)&&(0,se.vZ)(ot,Lt.config))return Lt;throw Pt.create("duplicate-app",{appName:At})}const Wn=new M.H0(At);for(const X of ve.values())Wn.addComponent(X);const J=new Pn(Re,ot,Wn);return we.set(At,J),J}function kn(Me=_e){const te=we.get(Me);if(!te&&Me===_e&&(0,se.aH)())return $n();if(!te)throw Pt.create("no-app",{appName:Me});return te}function fr(){return Array.from(we.values())}function vr(Me){return Or.apply(this,arguments)}function Or(){return(Or=(0,h.Z)(function*(Me){const te=Me.name;we.has(te)&&(we.delete(te),yield Promise.all(Me.container.getProviders().map(Re=>Re.delete())),Me.isDeleted=!0)})).apply(this,arguments)}function Ir(Me,te,Re){var ot;let At=null!==(ot=Ie[Me])&&void 0!==ot?ot:Me;Re&&(At+=`-${Re}`);const Lt=At.match(/\s|\//),Wn=te.match(/\s|\//);if(Lt||Wn){const J=[`Unable to register library "${At}" with version "${te}":`];return Lt&&J.push(`library name "${At}" contains illegal characters (whitespace or "/")`),Lt&&Wn&&J.push("and"),Wn&&J.push(`version name "${te}" contains illegal characters (whitespace or "/")`),void q.warn(J.join(" "))}gt(new M.wA(`${At}-version`,()=>({library:At,version:te}),"VERSION"))}function qn(Me,te){if(null!==Me&&"function"!=typeof Me)throw Pt.create("invalid-log-argument");(0,B.Am)(Me,te)}function ur(Me){(0,B.Ub)(Me)}const ui="firebase-heartbeat-database",kt=1,jt="firebase-heartbeat-store";let zt=null;function en(){return zt||(zt=(0,ye.X3)(ui,kt,{upgrade:(Me,te)=>{0===te&&Me.createObjectStore(jt)}}).catch(Me=>{throw Pt.create("idb-open",{originalErrorMessage:Me.message})})),zt}function Sn(){return(Sn=(0,h.Z)(function*(Me){try{return yield(yield en()).transaction(jt).objectStore(jt).get(ci(Me))}catch(te){if(te instanceof se.ZR)q.warn(te.message);else{const Re=Pt.create("idb-get",{originalErrorMessage:te?.message});q.warn(Re.message)}}})).apply(this,arguments)}function mn(Me,te){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,h.Z)(function*(Me,te){try{const ot=(yield en()).transaction(jt,"readwrite");yield ot.objectStore(jt).put(te,ci(Me)),yield ot.done}catch(Re){if(Re instanceof se.ZR)q.warn(Re.message);else{const ot=Pt.create("idb-set",{originalErrorMessage:Re?.message});q.warn(ot.message)}}})).apply(this,arguments)}function ci(Me){return`${Me.name}!${Me.options.appId}`}class In{constructor(te){this.container=te,this._heartbeatsCache=null;const Re=this.container.getProvider("app").getImmediate();this._storage=new Br(Re),this._heartbeatsCachePromise=this._storage.read().then(ot=>(this._heartbeatsCache=ot,ot))}triggerHeartbeat(){var te=this;return(0,h.Z)(function*(){const ot=te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),At=Rn();if(null===te._heartbeatsCache&&(te._heartbeatsCache=yield te._heartbeatsCachePromise),te._heartbeatsCache.lastSentHeartbeatDate!==At&&!te._heartbeatsCache.heartbeats.some(Lt=>Lt.date===At))return te._heartbeatsCache.heartbeats.push({date:At,agent:ot}),te._heartbeatsCache.heartbeats=te._heartbeatsCache.heartbeats.filter(Lt=>{const Wn=new Date(Lt.date).valueOf();return Date.now()-Wn<=2592e6}),te._storage.overwrite(te._heartbeatsCache)})()}getHeartbeatsHeader(){var te=this;return(0,h.Z)(function*(){if(null===te._heartbeatsCache&&(yield te._heartbeatsCachePromise),null===te._heartbeatsCache||0===te._heartbeatsCache.heartbeats.length)return"";const Re=Rn(),{heartbeatsToSend:ot,unsentEntries:At}=function ri(Me,te=1024){const Re=[];let ot=Me.slice();for(const At of Me){const Lt=Re.find(Wn=>Wn.agent===At.agent);if(Lt){if(Lt.dates.push(At.date),ii(Re)>te){Lt.dates.pop();break}}else if(Re.push({agent:At.agent,dates:[At.date]}),ii(Re)>te){Re.pop();break}ot=ot.slice(1)}return{heartbeatsToSend:Re,unsentEntries:ot}}(te._heartbeatsCache.heartbeats),Lt=(0,se.L)(JSON.stringify({version:2,heartbeats:ot}));return te._heartbeatsCache.lastSentHeartbeatDate=Re,At.length>0?(te._heartbeatsCache.heartbeats=At,yield te._storage.overwrite(te._heartbeatsCache)):(te._heartbeatsCache.heartbeats=[],te._storage.overwrite(te._heartbeatsCache)),Lt})()}}function Rn(){return(new Date).toISOString().substring(0,10)}class Br{constructor(te){this.app=te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var te=this;return(0,h.Z)(function*(){return(yield te._canUseIndexedDBPromise)&&(yield function Vr(Me){return Sn.apply(this,arguments)}(te.app))||{heartbeats:[]}})()}overwrite(te){var Re=this;return(0,h.Z)(function*(){var ot;if(yield Re._canUseIndexedDBPromise){const Lt=yield Re.read();return mn(Re.app,{lastSentHeartbeatDate:null!==(ot=te.lastSentHeartbeatDate)&&void 0!==ot?ot:Lt.lastSentHeartbeatDate,heartbeats:te.heartbeats})}})()}add(te){var Re=this;return(0,h.Z)(function*(){var ot;if(yield Re._canUseIndexedDBPromise){const Lt=yield Re.read();return mn(Re.app,{lastSentHeartbeatDate:null!==(ot=te.lastSentHeartbeatDate)&&void 0!==ot?ot:Lt.lastSentHeartbeatDate,heartbeats:[...Lt.heartbeats,...te.heartbeats]})}})()}}function ii(Me){return(0,se.L)(JSON.stringify({version:2,heartbeats:Me})).length}!function Tr(Me){gt(new M.wA("platform-logger",te=>new Ce(te),"PRIVATE")),gt(new M.wA("heartbeat",te=>new In(te),"PRIVATE")),Ir(He,"0.9.19",Me),Ir(He,"0.9.19","esm2017"),Ir("fire-js","")}("")},4537:(Tt,Fe,N)=>{"use strict";N.d(Fe,{H0:()=>He,wA:()=>B});var h=N(5861),M=N(9058);class B{constructor(q,Y,de){this.name=q,this.instanceFactory=Y,this.type=de,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const se="[DEFAULT]";class ye{constructor(q,Y){this.name=q,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const Y=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(Y)){const de=new M.BH;if(this.instancesDeferred.set(Y,de),this.isInitialized(Y)||this.shouldAutoInitialize())try{const Qe=this.getOrInitializeService({instanceIdentifier:Y});Qe&&de.resolve(Qe)}catch{}}return this.instancesDeferred.get(Y).promise}getImmediate(q){var Y;const de=this.normalizeInstanceIdentifier(q?.identifier),Qe=null!==(Y=q?.optional)&&void 0!==Y&&Y;if(!this.isInitialized(de)&&!this.shouldAutoInitialize()){if(Qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:de})}catch(Oe){if(Qe)return null;throw Oe}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function Pe(Ae){return"EAGER"===Ae.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[Y,de]of this.instancesDeferred.entries()){const Qe=this.normalizeInstanceIdentifier(Y);try{const Oe=this.getOrInitializeService({instanceIdentifier:Qe});de.resolve(Oe)}catch{}}}}clearInstance(q=se){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,h.Z)(function*(){const Y=Array.from(q.instances.values());yield Promise.all([...Y.filter(de=>"INTERNAL"in de).map(de=>de.INTERNAL.delete()),...Y.filter(de=>"_delete"in de).map(de=>de._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=se){return this.instances.has(q)}getOptions(q=se){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:Y={}}=q,de=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(de))throw Error(`${this.name}(${de}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Qe=this.getOrInitializeService({instanceIdentifier:de,options:Y});for(const[Oe,ht]of this.instancesDeferred.entries())de===this.normalizeInstanceIdentifier(Oe)&&ht.resolve(Qe);return Qe}onInit(q,Y){var de;const Qe=this.normalizeInstanceIdentifier(Y),Oe=null!==(de=this.onInitCallbacks.get(Qe))&&void 0!==de?de:new Set;Oe.add(q),this.onInitCallbacks.set(Qe,Oe);const ht=this.instances.get(Qe);return ht&&q(ht,Qe),()=>{Oe.delete(q)}}invokeOnInitCallbacks(q,Y){const de=this.onInitCallbacks.get(Y);if(de)for(const Qe of de)try{Qe(q,Y)}catch{}}getOrInitializeService({instanceIdentifier:q,options:Y={}}){let de=this.instances.get(q);if(!de&&this.component&&(de=this.component.instanceFactory(this.container,{instanceIdentifier:(Ae=q,Ae===se?void 0:Ae),options:Y}),this.instances.set(q,de),this.instancesOptions.set(q,Y),this.invokeOnInitCallbacks(de,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,de)}catch{}var Ae;return de||null}normalizeInstanceIdentifier(q=se){return this.component?this.component.multipleInstances?q:se:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class He{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const Y=this.getProvider(q.name);if(Y.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);Y.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const Y=new ye(q,this);return this.providers.set(q,Y),Y}getProviders(){return Array.from(this.providers.values())}}},2591:(Tt,Fe,N)=>{"use strict";var h=N(5861),M=N(4303),B=N(4537),se=N(9058);const ye=(K,fe)=>fe.some(Ge=>K instanceof Ge);let Ce,Pe;const q=new WeakMap,Y=new WeakMap,de=new WeakMap,Qe=new WeakMap,Oe=new WeakMap;let ut={get(K,fe,Ge){if(K instanceof IDBTransaction){if("done"===fe)return Y.get(K);if("objectStoreNames"===fe)return K.objectStoreNames||de.get(K);if("store"===fe)return Ge.objectStoreNames[1]?void 0:Ge.objectStore(Ge.objectStoreNames[0])}return ae(K[fe])},set:(K,fe,Ge)=>(K[fe]=Ge,!0),has:(K,fe)=>K instanceof IDBTransaction&&("done"===fe||"store"===fe)||fe in K};function bt(K){return"function"==typeof K?function wt(K){return K!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ae(){return Pe||(Pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(K)?function(...fe){return K.apply(ke(this),fe),ae(q.get(this))}:function(...fe){return ae(K.apply(ke(this),fe))}:function(fe,...Ge){const xt=K.call(ke(this),fe,...Ge);return de.set(xt,fe.sort?fe.sort():[fe]),ae(xt)}}(K):(K instanceof IDBTransaction&&function Be(K){if(Y.has(K))return;const fe=new Promise((Ge,xt)=>{const Xn=()=>{K.removeEventListener("complete",Kn),K.removeEventListener("error",bn),K.removeEventListener("abort",bn)},Kn=()=>{Ge(),Xn()},bn=()=>{xt(K.error||new DOMException("AbortError","AbortError")),Xn()};K.addEventListener("complete",Kn),K.addEventListener("error",bn),K.addEventListener("abort",bn)});Y.set(K,fe)}(K),ye(K,function He(){return Ce||(Ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(K,ut):K)}function ae(K){if(K instanceof IDBRequest)return function ht(K){const fe=new Promise((Ge,xt)=>{const Xn=()=>{K.removeEventListener("success",Kn),K.removeEventListener("error",bn)},Kn=()=>{Ge(ae(K.result)),Xn()},bn=()=>{xt(K.error),Xn()};K.addEventListener("success",Kn),K.addEventListener("error",bn)});return fe.then(Ge=>{Ge instanceof IDBCursor&&q.set(Ge,K)}).catch(()=>{}),Oe.set(fe,K),fe}(K);if(Qe.has(K))return Qe.get(K);const fe=bt(K);return fe!==K&&(Qe.set(K,fe),Oe.set(fe,K)),fe}const ke=K=>Oe.get(K),Xe=["get","getKey","getAll","getAllKeys","count"],H=["put","add","delete","clear"],he=new Map;function Ve(K,fe){if(!(K instanceof IDBDatabase)||fe in K||"string"!=typeof fe)return;if(he.get(fe))return he.get(fe);const Ge=fe.replace(/FromIndex$/,""),xt=fe!==Ge,Xn=H.includes(Ge);if(!(Ge in(xt?IDBIndex:IDBObjectStore).prototype)||!Xn&&!Xe.includes(Ge))return;const Kn=function(){var bn=(0,h.Z)(function*(Nr,...Pr){const _i=this.transaction(Nr,Xn?"readwrite":"readonly");let Js=_i.store;return xt&&(Js=Js.index(Pr.shift())),(yield Promise.all([Js[Ge](...Pr),Xn&&_i.done]))[0]});return function(Pr){return bn.apply(this,arguments)}}();return he.set(fe,Kn),Kn}!function je(K){ut=K(ut)}(K=>({...K,get:(fe,Ge,xt)=>Ve(fe,Ge)||K.get(fe,Ge,xt),has:(fe,Ge)=>!!Ve(fe,Ge)||K.has(fe,Ge)}));const It="@firebase/installations",tn="0.6.4",ln=1e4,dn=`w:${tn}`,En="FIS_v2",an="https://firebaseinstallations.googleapis.com/v1",xr=36e5,ve=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function $e(K){return K instanceof se.ZR&&K.code.includes("request-failed")}function tt({projectId:K}){return`${an}/projects/${K}/installations`}function gt(K){return{token:K.token,requestStatus:2,expiresIn:Dr(K.expiresIn),creationTime:Date.now()}}function lt(K,fe){return hn.apply(this,arguments)}function hn(){return(hn=(0,h.Z)(function*(K,fe){const xt=(yield fe.json()).error;return ve.create("request-failed",{requestName:K,serverCode:xt.code,serverMessage:xt.message,serverStatus:xt.status})})).apply(this,arguments)}function Bt({apiKey:K}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":K})}function Pt(K){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,h.Z)(function*(K){const fe=yield K();return fe.status>=500&&fe.status<600?K():fe})).apply(this,arguments)}function Dr(K){return Number(K.replace("s","000"))}function fr(){return(fr=(0,h.Z)(function*({appConfig:K,heartbeatServiceProvider:fe},{fid:Ge}){const xt=tt(K),Xn=Bt(K),Kn=fe.getImmediate({optional:!0});if(Kn){const _i=yield Kn.getHeartbeatsHeader();_i&&Xn.append("x-firebase-client",_i)}const Nr={method:"POST",headers:Xn,body:JSON.stringify({fid:Ge,authVersion:En,appId:K.appId,sdkVersion:dn})},Pr=yield Pt(()=>fetch(xt,Nr));if(Pr.ok){const _i=yield Pr.json();return{fid:_i.fid||Ge,registrationStatus:2,refreshToken:_i.refreshToken,authToken:gt(_i.authToken)}}throw yield lt("Create Installation",Pr)})).apply(this,arguments)}function vr(K){return new Promise(fe=>{setTimeout(fe,K)})}const Ir=/^[cdef][\w-]{21}$/,qn="";function ur(){try{const K=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(K),K[0]=112+K[0]%16;const Ge=function ui(K){return function Or(K){return btoa(String.fromCharCode(...K)).replace(/\+/g,"-").replace(/\//g,"_")}(K).substr(0,22)}(K);return Ir.test(Ge)?Ge:qn}catch{return qn}}function kt(K){return`${K.appName}!${K.appId}`}const jt=new Map;function zt(K,fe){const Ge=kt(K);Sn(Ge,fe),function mn(K,fe){const Ge=function ci(){return!Ln&&"BroadcastChannel"in self&&(Ln=new BroadcastChannel("[Firebase] FID Change"),Ln.onmessage=K=>{Sn(K.data.key,K.data.fid)}),Ln}();Ge&&Ge.postMessage({key:K,fid:fe}),function Mn(){0===jt.size&&Ln&&(Ln.close(),Ln=null)}()}(Ge,fe)}function Sn(K,fe){const Ge=jt.get(K);if(Ge)for(const xt of Ge)xt(fe)}let Ln=null;const Ui="firebase-installations-database",In=1,Rn="firebase-installations-store";let ri=null;function Br(){return ri||(ri=function me(K,fe,{blocked:Ge,upgrade:xt,blocking:Xn,terminated:Kn}={}){const bn=indexedDB.open(K,fe),Nr=ae(bn);return xt&&bn.addEventListener("upgradeneeded",Pr=>{xt(ae(bn.result),Pr.oldVersion,Pr.newVersion,ae(bn.transaction))}),Ge&&bn.addEventListener("blocked",()=>Ge()),Nr.then(Pr=>{Kn&&Pr.addEventListener("close",()=>Kn()),Xn&&Pr.addEventListener("versionchange",()=>Xn())}).catch(()=>{}),Nr}(Ui,In,{upgrade:(K,fe)=>{0===fe&&K.createObjectStore(Rn)}})),ri}function ii(K,fe){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,h.Z)(function*(K,fe){const Ge=kt(K),Xn=(yield Br()).transaction(Rn,"readwrite"),Kn=Xn.objectStore(Rn),bn=yield Kn.get(Ge);return yield Kn.put(fe,Ge),yield Xn.done,(!bn||bn.fid!==fe.fid)&&zt(K,fe.fid),fe})).apply(this,arguments)}function Me(K){return te.apply(this,arguments)}function te(){return(te=(0,h.Z)(function*(K){const fe=kt(K),xt=(yield Br()).transaction(Rn,"readwrite");yield xt.objectStore(Rn).delete(fe),yield xt.done})).apply(this,arguments)}function Re(K,fe){return ot.apply(this,arguments)}function ot(){return(ot=(0,h.Z)(function*(K,fe){const Ge=kt(K),Xn=(yield Br()).transaction(Rn,"readwrite"),Kn=Xn.objectStore(Rn),bn=yield Kn.get(Ge),Nr=fe(bn);return void 0===Nr?yield Kn.delete(Ge):yield Kn.put(Nr,Ge),yield Xn.done,Nr&&(!bn||bn.fid!==Nr.fid)&&zt(K,Nr.fid),Nr})).apply(this,arguments)}function At(K){return Lt.apply(this,arguments)}function Lt(){return Lt=(0,h.Z)(function*(K){let fe;const Ge=yield Re(K.appConfig,xt=>{const Xn=function Wn(K){return ze(K||{fid:ur(),registrationStatus:0})}(xt),Kn=function J(K,fe){if(0===fe.registrationStatus){if(!navigator.onLine)return{installationEntry:fe,registrationPromise:Promise.reject(ve.create("app-offline"))};const Ge={fid:fe.fid,registrationStatus:1,registrationTime:Date.now()},xt=function X(K,fe){return V.apply(this,arguments)}(K,Ge);return{installationEntry:Ge,registrationPromise:xt}}return 1===fe.registrationStatus?{installationEntry:fe,registrationPromise:j(K)}:{installationEntry:fe}}(K,Xn);return fe=Kn.registrationPromise,Kn.installationEntry});return Ge.fid===qn?{installationEntry:yield fe}:{installationEntry:Ge,registrationPromise:fe}}),Lt.apply(this,arguments)}function V(){return V=(0,h.Z)(function*(K,fe){try{const Ge=yield function kn(K,fe){return fr.apply(this,arguments)}(K,fe);return ii(K.appConfig,Ge)}catch(Ge){throw $e(Ge)&&409===Ge.customData.serverCode?yield Me(K.appConfig):yield ii(K.appConfig,{fid:fe.fid,registrationStatus:0}),Ge}}),V.apply(this,arguments)}function j(K){return k.apply(this,arguments)}function k(){return(k=(0,h.Z)(function*(K){let fe=yield ce(K.appConfig);for(;1===fe.registrationStatus;)yield vr(100),fe=yield ce(K.appConfig);if(0===fe.registrationStatus){const{installationEntry:Ge,registrationPromise:xt}=yield At(K);return xt||Ge}return fe})).apply(this,arguments)}function ce(K){return Re(K,fe=>{if(!fe)throw ve.create("installation-not-found");return ze(fe)})}function ze(K){return function pt(K){return 1===K.registrationStatus&&K.registrationTime+ln<Date.now()}(K)?{fid:K.fid,registrationStatus:0}:K}function Ct(){return(Ct=(0,h.Z)(function*({appConfig:K,heartbeatServiceProvider:fe},Ge){const xt=function Zn(K,{fid:fe}){return`${tt(K)}/${fe}/authTokens:generate`}(K,Ge),Xn=function On(K,{refreshToken:fe}){const Ge=Bt(K);return Ge.append("Authorization",function $n(K){return`${En} ${K}`}(fe)),Ge}(K,Ge),Kn=fe.getImmediate({optional:!0});if(Kn){const _i=yield Kn.getHeartbeatsHeader();_i&&Xn.append("x-firebase-client",_i)}const Nr={method:"POST",headers:Xn,body:JSON.stringify({installation:{sdkVersion:dn,appId:K.appId}})},Pr=yield Pt(()=>fetch(xt,Nr));if(Pr.ok)return gt(yield Pr.json());throw yield lt("Generate Auth Token",Pr)})).apply(this,arguments)}function rn(K){return Jn.apply(this,arguments)}function Jn(){return Jn=(0,h.Z)(function*(K,fe=!1){let Ge;const xt=yield Re(K.appConfig,Kn=>{if(!Dt(Kn))throw ve.create("not-registered");const bn=Kn.authToken;if(!fe&&function Jt(K){return 2===K.requestStatus&&!function St(K){const fe=Date.now();return fe<K.creationTime||K.creationTime+K.expiresIn<fe+xr}(K)}(bn))return Kn;if(1===bn.requestStatus)return Ge=function Cn(K,fe){return li.apply(this,arguments)}(K,fe),Kn;{if(!navigator.onLine)throw ve.create("app-offline");const Nr=function cr(K){const fe={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},K),{authToken:fe})}(Kn);return Ge=function De(K,fe){return vt.apply(this,arguments)}(K,Nr),Nr}});return Ge?yield Ge:xt.authToken}),Jn.apply(this,arguments)}function li(){return(li=(0,h.Z)(function*(K,fe){let Ge=yield re(K.appConfig);for(;1===Ge.authToken.requestStatus;)yield vr(100),Ge=yield re(K.appConfig);const xt=Ge.authToken;return 0===xt.requestStatus?rn(K,fe):xt})).apply(this,arguments)}function re(K){return Re(K,fe=>{if(!Dt(fe))throw ve.create("not-registered");return function bi(K){return 1===K.requestStatus&&K.requestTime+ln<Date.now()}(fe.authToken)?Object.assign(Object.assign({},fe),{authToken:{requestStatus:0}}):fe})}function vt(){return vt=(0,h.Z)(function*(K,fe){try{const Ge=yield function Qt(K,fe){return Ct.apply(this,arguments)}(K,fe),xt=Object.assign(Object.assign({},fe),{authToken:Ge});return yield ii(K.appConfig,xt),Ge}catch(Ge){if(!$e(Ge)||401!==Ge.customData.serverCode&&404!==Ge.customData.serverCode){const xt=Object.assign(Object.assign({},fe),{authToken:{requestStatus:0}});yield ii(K.appConfig,xt)}else yield Me(K.appConfig);throw Ge}}),vt.apply(this,arguments)}function Dt(K){return void 0!==K&&2===K.registrationStatus}function gs(){return(gs=(0,h.Z)(function*(K){const fe=K,{installationEntry:Ge,registrationPromise:xt}=yield At(fe);return xt?xt.catch(console.error):rn(fe).catch(console.error),Ge.fid})).apply(this,arguments)}function Hn(){return Hn=(0,h.Z)(function*(K,fe=!1){const Ge=K;return yield function Ko(K){return Yo.apply(this,arguments)}(Ge),(yield rn(Ge,fe)).token}),Hn.apply(this,arguments)}function Yo(){return(Yo=(0,h.Z)(function*(K){const{registrationPromise:fe}=yield At(K);fe&&(yield fe)})).apply(this,arguments)}function Au(K){return ve.create("missing-app-config-values",{valueName:K})}const Jo="installations",Su=K=>{const fe=K.getProvider("app").getImmediate(),Ge=function Ss(K){if(!K||!K.options)throw Au("App Configuration");if(!K.name)throw Au("App Name");const fe=["projectId","apiKey","appId"];for(const Ge of fe)if(!K.options[Ge])throw Au(Ge);return{appName:K.name,projectId:K.options.projectId,apiKey:K.options.apiKey,appId:K.options.appId}}(fe);return{app:fe,appConfig:Ge,heartbeatServiceProvider:(0,M._getProvider)(fe,"heartbeat"),_delete:()=>Promise.resolve()}},Xo=K=>{const fe=K.getProvider("app").getImmediate(),Ge=(0,M._getProvider)(fe,Jo).getImmediate();return{getId:()=>function Xi(K){return gs.apply(this,arguments)}(Ge),getToken:Xn=>function Di(K){return Hn.apply(this,arguments)}(Ge,Xn)}};(function mc(){(0,M._registerComponent)(new B.wA(Jo,Su,"PUBLIC")),(0,M._registerComponent)(new B.wA("installations-internal",Xo,"PRIVATE"))})(),(0,M.registerVersion)(It,tn),(0,M.registerVersion)(It,tn,"esm2017")},7879:(Tt,Fe,N)=>{"use strict";N.d(Fe,{Am:()=>Ae,Ub:()=>He,Yd:()=>Pe,in:()=>M});const h=[];var M=function(q){return q[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",q}(M||{});const B={debug:M.DEBUG,verbose:M.VERBOSE,info:M.INFO,warn:M.WARN,error:M.ERROR,silent:M.SILENT},se=M.INFO,ye={[M.DEBUG]:"log",[M.VERBOSE]:"log",[M.INFO]:"info",[M.WARN]:"warn",[M.ERROR]:"error"},Ce=(q,Y,...de)=>{if(Y<q.logLevel)return;const Qe=(new Date).toISOString(),Oe=ye[Y];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[Oe](`[${Qe}]  ${q.name}:`,...de)};class Pe{constructor(Y){this.name=Y,this._logLevel=se,this._logHandler=Ce,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in M))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?B[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,M.DEBUG,...Y),this._logHandler(this,M.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,M.VERBOSE,...Y),this._logHandler(this,M.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,M.INFO,...Y),this._logHandler(this,M.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,M.WARN,...Y),this._logHandler(this,M.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,M.ERROR,...Y),this._logHandler(this,M.ERROR,...Y)}}function He(q){h.forEach(Y=>{Y.setLogLevel(q)})}function Ae(q,Y){for(const de of h){let Qe=null;Y&&Y.level&&(Qe=B[Y.level]),de.userLogHandler=null===q?null:(Oe,ht,...Be)=>{const ut=Be.map(je=>{if(null==je)return null;if("string"==typeof je)return je;if("number"==typeof je||"boolean"==typeof je)return je.toString();if(je instanceof Error)return je.message;try{return JSON.stringify(je)}catch{return null}}).filter(je=>je).join(" ");ht>=(Qe??Oe.logLevel)&&q({level:M[ht].toLowerCase(),message:ut,args:Be,type:Oe.name})}}}},2650:(Tt,Fe,N)=>{"use strict";N.d(Fe,{Gb:()=>ce,LP:()=>rn,pQ:()=>Cn,ps:()=>li});var h=N(5861),B=(N(2591),N(4537)),se=N(9240),ye=N(9058),Ce=N(4303);const Pe="/firebase-messaging-sw.js",He="/firebase-cloud-messaging-push-scope",Ae="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",q="https://fcmregistrations.googleapis.com/v1",Y="google.c.a.c_id",de="google.c.a.c_l",Qe="google.c.a.ts";var Be=function(re){return re.PUSH_RECEIVED="push-received",re.NOTIFICATION_CLICKED="notification-clicked",re}(Be||{});function ut(re){const De=new Uint8Array(re);return btoa(String.fromCharCode(...De)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function je(re){const vt=(re+"=".repeat((4-re.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Dt=atob(vt),Jt=new Uint8Array(Dt.length);for(let St=0;St<Dt.length;++St)Jt[St]=Dt.charCodeAt(St);return Jt}const wt="fcm_token_details_db",bt=5,ae="fcm_token_object_Store";function me(){return me=(0,h.Z)(function*(re){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(St=>St.name).includes(wt))return null;let De=null;return(yield(0,se.X3)(wt,bt,{upgrade:(Dt=(0,h.Z)(function*(Jt,St,cr,bi){var Xi;if(St<2||!Jt.objectStoreNames.contains(ae))return;const gs=bi.objectStore(ae),Di=yield gs.index("fcmSenderId").get(re);if(yield gs.clear(),Di)if(2===St){const Hn=Di;if(!Hn.auth||!Hn.p256dh||!Hn.endpoint)return;De={token:Hn.fcmToken,createTime:null!==(Xi=Hn.createTime)&&void 0!==Xi?Xi:Date.now(),subscriptionOptions:{auth:Hn.auth,p256dh:Hn.p256dh,endpoint:Hn.endpoint,swScope:Hn.swScope,vapidKey:"string"==typeof Hn.vapidKey?Hn.vapidKey:ut(Hn.vapidKey)}}}else if(3===St){const Hn=Di;De={token:Hn.fcmToken,createTime:Hn.createTime,subscriptionOptions:{auth:ut(Hn.auth),p256dh:ut(Hn.p256dh),endpoint:Hn.endpoint,swScope:Hn.swScope,vapidKey:ut(Hn.vapidKey)}}}else if(4===St){const Hn=Di;De={token:Hn.fcmToken,createTime:Hn.createTime,subscriptionOptions:{auth:ut(Hn.auth),p256dh:ut(Hn.p256dh),endpoint:Hn.endpoint,swScope:Hn.swScope,vapidKey:ut(Hn.vapidKey)}}}}),function(St,cr,bi,Xi){return Dt.apply(this,arguments)})})).close(),yield(0,se.Lj)(wt),yield(0,se.Lj)("fcm_vapid_details_db"),yield(0,se.Lj)("undefined"),function Ue(re){if(!re||!re.subscriptionOptions)return!1;const{subscriptionOptions:De}=re;return"number"==typeof re.createTime&&re.createTime>0&&"string"==typeof re.token&&re.token.length>0&&"string"==typeof De.auth&&De.auth.length>0&&"string"==typeof De.p256dh&&De.p256dh.length>0&&"string"==typeof De.endpoint&&De.endpoint.length>0&&"string"==typeof De.swScope&&De.swScope.length>0&&"string"==typeof De.vapidKey&&De.vapidKey.length>0}(De)?De:null;var Dt}),me.apply(this,arguments)}const Xe="firebase-messaging-database",H=1,he="firebase-messaging-store";let Ve=null;function It(){return Ve||(Ve=(0,se.X3)(Xe,H,{upgrade:(re,De)=>{0===De&&re.createObjectStore(he)}})),Ve}function tn(re){return ln.apply(this,arguments)}function ln(){return ln=(0,h.Z)(function*(re){const De=_e(re),Dt=yield(yield It()).transaction(he).objectStore(he).get(De);if(Dt)return Dt;{const Jt=yield function ke(re){return me.apply(this,arguments)}(re.appConfig.senderId);if(Jt)return yield dn(re,Jt),Jt}}),ln.apply(this,arguments)}function dn(re,De){return En.apply(this,arguments)}function En(){return(En=(0,h.Z)(function*(re,De){const vt=_e(re),Jt=(yield It()).transaction(he,"readwrite");return yield Jt.objectStore(he).put(De,vt),yield Jt.done,De})).apply(this,arguments)}function xr(){return(xr=(0,h.Z)(function*(re){const De=_e(re),Dt=(yield It()).transaction(he,"readwrite");yield Dt.objectStore(he).delete(De),yield Dt.done})).apply(this,arguments)}function _e({appConfig:re}){return re.appId}const we=new ye.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ve(re,De){return $e.apply(this,arguments)}function $e(){return($e=(0,h.Z)(function*(re,De){const vt=yield On(re),Dt=Pn(De),Jt={method:"POST",headers:vt,body:JSON.stringify(Dt)};let St;try{St=yield(yield fetch(Bt(re.appConfig),Jt)).json()}catch(cr){throw we.create("token-subscribe-failed",{errorInfo:cr?.toString()})}if(St.error)throw we.create("token-subscribe-failed",{errorInfo:St.error.message});if(!St.token)throw we.create("token-subscribe-no-token");return St.token})).apply(this,arguments)}function gt(){return(gt=(0,h.Z)(function*(re,De){const vt=yield On(re),Dt=Pn(De.subscriptionOptions),Jt={method:"PATCH",headers:vt,body:JSON.stringify(Dt)};let St;try{St=yield(yield fetch(`${Bt(re.appConfig)}/${De.token}`,Jt)).json()}catch(cr){throw we.create("token-update-failed",{errorInfo:cr?.toString()})}if(St.error)throw we.create("token-update-failed",{errorInfo:St.error.message});if(!St.token)throw we.create("token-update-no-token");return St.token})).apply(this,arguments)}function lt(re,De){return hn.apply(this,arguments)}function hn(){return(hn=(0,h.Z)(function*(re,De){const Dt={method:"DELETE",headers:yield On(re)};try{const St=yield(yield fetch(`${Bt(re.appConfig)}/${De}`,Dt)).json();if(St.error)throw we.create("token-unsubscribe-failed",{errorInfo:St.error.message})}catch(Jt){throw we.create("token-unsubscribe-failed",{errorInfo:Jt?.toString()})}})).apply(this,arguments)}function Bt({projectId:re}){return`${q}/projects/${re}/registrations`}function On(re){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,h.Z)(function*({appConfig:re,installations:De}){const vt=yield De.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":re.apiKey,"x-goog-firebase-installations-auth":`FIS ${vt}`})})).apply(this,arguments)}function Pn({p256dh:re,auth:De,endpoint:vt,vapidKey:Dt}){const Jt={web:{endpoint:vt,auth:De,p256dh:re}};return Dt!==Ae&&(Jt.web.applicationPubKey=Dt),Jt}const Dr=6048e5;function kn(){return kn=(0,h.Z)(function*(re){const De=yield function ui(re,De){return kt.apply(this,arguments)}(re.swRegistration,re.vapidKey),vt={vapidKey:re.vapidKey,swScope:re.swRegistration.scope,endpoint:De.endpoint,auth:ut(De.getKey("auth")),p256dh:ut(De.getKey("p256dh"))},Dt=yield tn(re.firebaseDependencies);if(Dt){if(function jt(re,De){return De.vapidKey===re.vapidKey&&De.endpoint===re.endpoint&&De.auth===re.auth&&De.p256dh===re.p256dh}(Dt.subscriptionOptions,vt))return Date.now()>=Dt.createTime+Dr?function Or(re,De){return Ir.apply(this,arguments)}(re,{token:Dt.token,createTime:Date.now(),subscriptionOptions:vt}):Dt.token;try{yield lt(re.firebaseDependencies,Dt.token)}catch(Jt){console.warn(Jt)}return qn(re.firebaseDependencies,vt)}return qn(re.firebaseDependencies,vt)}),kn.apply(this,arguments)}function fr(re){return vr.apply(this,arguments)}function vr(){return vr=(0,h.Z)(function*(re){const De=yield tn(re.firebaseDependencies);De&&(yield lt(re.firebaseDependencies,De.token),yield function an(re){return xr.apply(this,arguments)}(re.firebaseDependencies));const vt=yield re.swRegistration.pushManager.getSubscription();return!vt||vt.unsubscribe()}),vr.apply(this,arguments)}function Ir(){return Ir=(0,h.Z)(function*(re,De){try{const vt=yield function tt(re,De){return gt.apply(this,arguments)}(re.firebaseDependencies,De),Dt=Object.assign(Object.assign({},De),{token:vt,createTime:Date.now()});return yield dn(re.firebaseDependencies,Dt),vt}catch(vt){throw yield fr(re),vt}}),Ir.apply(this,arguments)}function qn(re,De){return ur.apply(this,arguments)}function ur(){return(ur=(0,h.Z)(function*(re,De){const Dt={token:yield ve(re,De),createTime:Date.now(),subscriptionOptions:De};return yield dn(re,Dt),Dt.token})).apply(this,arguments)}function kt(){return(kt=(0,h.Z)(function*(re,De){return(yield re.pushManager.getSubscription())||re.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:je(De)})})).apply(this,arguments)}function zt(re){const De={from:re.from,collapseKey:re.collapse_key,messageId:re.fcmMessageId};return function en(re,De){if(!De.notification)return;re.notification={};const vt=De.notification.title;vt&&(re.notification.title=vt);const Dt=De.notification.body;Dt&&(re.notification.body=Dt);const Jt=De.notification.image;Jt&&(re.notification.image=Jt);const St=De.notification.icon;St&&(re.notification.icon=St)}(De,re),function Vr(re,De){De.data&&(re.data=De.data)}(De,re),function Sn(re,De){var vt,Dt,Jt,St,cr;if(!(De.fcmOptions||null!==(vt=De.notification)&&void 0!==vt&&vt.click_action))return;re.fcmOptions={};const bi=null!==(Jt=null===(Dt=De.fcmOptions)||void 0===Dt?void 0:Dt.link)&&void 0!==Jt?Jt:null===(St=De.notification)||void 0===St?void 0:St.click_action;bi&&(re.fcmOptions.link=bi);const Xi=null===(cr=De.fcmOptions)||void 0===cr?void 0:cr.analytics_label;Xi&&(re.fcmOptions.analyticsLabel=Xi)}(De,re),De}function Ln(re,De){const vt=[];for(let Dt=0;Dt<re.length;Dt++)vt.push(re.charAt(Dt)),Dt<De.length&&vt.push(De.charAt(Dt));return vt.join("")}function Mn(re){return we.create("missing-app-config-values",{valueName:re})}Ln("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ln("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ui{constructor(De,vt,Dt){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Jt=function ci(re){if(!re||!re.options)throw Mn("App Configuration Object");if(!re.name)throw Mn("App Name");const De=["projectId","apiKey","appId","messagingSenderId"],{options:vt}=re;for(const Dt of De)if(!vt[Dt])throw Mn(Dt);return{appName:re.name,projectId:vt.projectId,apiKey:vt.apiKey,appId:vt.appId,senderId:vt.messagingSenderId}}(De);this.firebaseDependencies={app:De,appConfig:Jt,installations:vt,analyticsProvider:Dt}}_delete(){return Promise.resolve()}}function In(re){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,h.Z)(function*(re){try{re.swRegistration=yield navigator.serviceWorker.register(Pe,{scope:He}),re.swRegistration.update().catch(()=>{})}catch(De){throw we.create("failed-service-worker-registration",{browserErrorMessage:De?.message})}})).apply(this,arguments)}function Br(){return(Br=(0,h.Z)(function*(re,De){if(!De&&!re.swRegistration&&(yield In(re)),De||!re.swRegistration){if(!(De instanceof ServiceWorkerRegistration))throw we.create("invalid-sw-registration");re.swRegistration=De}})).apply(this,arguments)}function Tr(){return(Tr=(0,h.Z)(function*(re,De){De?re.vapidKey=De:re.vapidKey||(re.vapidKey=Ae)})).apply(this,arguments)}function Me(re,De){return te.apply(this,arguments)}function te(){return te=(0,h.Z)(function*(re,De){if(!navigator)throw we.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw we.create("permission-blocked");return yield function ii(re,De){return Tr.apply(this,arguments)}(re,De?.vapidKey),yield function ri(re,De){return Br.apply(this,arguments)}(re,De?.serviceWorkerRegistration),function $n(re){return kn.apply(this,arguments)}(re)}),te.apply(this,arguments)}function ot(){return(ot=(0,h.Z)(function*(re,De,vt){const Dt=function At(re){switch(re){case Be.NOTIFICATION_CLICKED:return"notification_open";case Be.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(De);(yield re.firebaseDependencies.analyticsProvider.get()).logEvent(Dt,{message_id:vt[Y],message_name:vt[de],message_time:vt[Qe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Wn(){return Wn=(0,h.Z)(function*(re,De){const vt=De.data;if(!vt.isFirebaseMessaging)return;re.onMessageHandler&&vt.messageType===Be.PUSH_RECEIVED&&("function"==typeof re.onMessageHandler?re.onMessageHandler(zt(vt)):re.onMessageHandler.next(zt(vt)));const Dt=vt.data;(function mn(re){return"object"==typeof re&&!!re&&Y in re})(Dt)&&"1"===Dt["google.c.a.e"]&&(yield function Re(re,De,vt){return ot.apply(this,arguments)}(re,vt.messageType,Dt))}),Wn.apply(this,arguments)}const J="@firebase/messaging",X="0.12.4",V=re=>{const De=new Ui(re.getProvider("app").getImmediate(),re.getProvider("installations-internal").getImmediate(),re.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",vt=>function Lt(re,De){return Wn.apply(this,arguments)}(De,vt)),De},j=re=>{const De=re.getProvider("messaging").getImmediate();return{getToken:Dt=>Me(De,Dt)}};function ce(){return ze.apply(this,arguments)}function ze(){return(ze=(0,h.Z)(function*(){try{yield(0,ye.eu)()}catch{return!1}return typeof window<"u"&&(0,ye.hl)()&&(0,ye.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function Qt(){return(Qt=(0,h.Z)(function*(re){if(!navigator)throw we.create("only-available-in-window");return re.swRegistration||(yield In(re)),fr(re)})).apply(this,arguments)}function rn(re,De){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,h.Z)(function*(re,De){return Me(re=(0,ye.m9)(re),De)})).apply(this,arguments)}function Cn(re){return function pt(re){return Qt.apply(this,arguments)}(re=(0,ye.m9)(re))}function li(re,De){return function Ct(re,De){if(!navigator)throw we.create("only-available-in-window");return re.onMessageHandler=De,()=>{re.onMessageHandler=null}}(re=(0,ye.m9)(re),De)}!function k(){(0,Ce._registerComponent)(new B.wA("messaging",V,"PUBLIC")),(0,Ce._registerComponent)(new B.wA("messaging-internal",j,"PRIVATE")),(0,Ce.registerVersion)(J,X),(0,Ce.registerVersion)(J,X,"esm2017")}()},9240:(Tt,Fe,N)=>{"use strict";N.d(Fe,{Lj:()=>ae,X3:()=>bt});var h=N(5861);const M=(H,he)=>he.some(Ve=>H instanceof Ve);let B,se;const Pe=new WeakMap,He=new WeakMap,Ae=new WeakMap,q=new WeakMap,Y=new WeakMap;let Oe={get(H,he,Ve){if(H instanceof IDBTransaction){if("done"===he)return He.get(H);if("objectStoreNames"===he)return H.objectStoreNames||Ae.get(H);if("store"===he)return Ve.objectStoreNames[1]?void 0:Ve.objectStore(Ve.objectStoreNames[0])}return je(H[he])},set:(H,he,Ve)=>(H[he]=Ve,!0),has:(H,he)=>H instanceof IDBTransaction&&("done"===he||"store"===he)||he in H};function ut(H){return"function"==typeof H?function Be(H){return H!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(H)?function(...he){return H.apply(wt(this),he),je(Pe.get(this))}:function(...he){return je(H.apply(wt(this),he))}:function(he,...Ve){const It=H.call(wt(this),he,...Ve);return Ae.set(It,he.sort?he.sort():[he]),je(It)}}(H):(H instanceof IDBTransaction&&function Qe(H){if(He.has(H))return;const he=new Promise((Ve,It)=>{const tn=()=>{H.removeEventListener("complete",ln),H.removeEventListener("error",dn),H.removeEventListener("abort",dn)},ln=()=>{Ve(),tn()},dn=()=>{It(H.error||new DOMException("AbortError","AbortError")),tn()};H.addEventListener("complete",ln),H.addEventListener("error",dn),H.addEventListener("abort",dn)});He.set(H,he)}(H),M(H,function ye(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(H,Oe):H)}function je(H){if(H instanceof IDBRequest)return function de(H){const he=new Promise((Ve,It)=>{const tn=()=>{H.removeEventListener("success",ln),H.removeEventListener("error",dn)},ln=()=>{Ve(je(H.result)),tn()},dn=()=>{It(H.error),tn()};H.addEventListener("success",ln),H.addEventListener("error",dn)});return he.then(Ve=>{Ve instanceof IDBCursor&&Pe.set(Ve,H)}).catch(()=>{}),Y.set(he,H),he}(H);if(q.has(H))return q.get(H);const he=ut(H);return he!==H&&(q.set(H,he),Y.set(he,H)),he}const wt=H=>Y.get(H);function bt(H,he,{blocked:Ve,upgrade:It,blocking:tn,terminated:ln}={}){const dn=indexedDB.open(H,he),En=je(dn);return It&&dn.addEventListener("upgradeneeded",an=>{It(je(dn.result),an.oldVersion,an.newVersion,je(dn.transaction))}),Ve&&dn.addEventListener("blocked",()=>Ve()),En.then(an=>{ln&&an.addEventListener("close",()=>ln()),tn&&an.addEventListener("versionchange",()=>tn())}).catch(()=>{}),En}function ae(H,{blocked:he}={}){const Ve=indexedDB.deleteDatabase(H);return he&&Ve.addEventListener("blocked",()=>he()),je(Ve).then(()=>{})}const ke=["get","getKey","getAll","getAllKeys","count"],me=["put","add","delete","clear"],Ue=new Map;function Xe(H,he){if(!(H instanceof IDBDatabase)||he in H||"string"!=typeof he)return;if(Ue.get(he))return Ue.get(he);const Ve=he.replace(/FromIndex$/,""),It=he!==Ve,tn=me.includes(Ve);if(!(Ve in(It?IDBIndex:IDBObjectStore).prototype)||!tn&&!ke.includes(Ve))return;const ln=function(){var dn=(0,h.Z)(function*(En,...an){const xr=this.transaction(En,tn?"readwrite":"readonly");let _e=xr.store;return It&&(_e=_e.index(an.shift())),(yield Promise.all([_e[Ve](...an),tn&&xr.done]))[0]});return function(an){return dn.apply(this,arguments)}}();return Ue.set(he,ln),ln}!function ht(H){Oe=H(Oe)}(H=>({...H,get:(he,Ve,It)=>Xe(he,Ve)||H.get(he,Ve,It),has:(he,Ve)=>!!Xe(he,Ve)||H.has(he,Ve)}))},1878:(Tt,Fe,N)=>{"use strict";N.d(Fe,{X3:()=>bt});var h=N(5861);const M=(H,he)=>he.some(Ve=>H instanceof Ve);let B,se;const Pe=new WeakMap,He=new WeakMap,Ae=new WeakMap,q=new WeakMap,Y=new WeakMap;let Oe={get(H,he,Ve){if(H instanceof IDBTransaction){if("done"===he)return He.get(H);if("objectStoreNames"===he)return H.objectStoreNames||Ae.get(H);if("store"===he)return Ve.objectStoreNames[1]?void 0:Ve.objectStore(Ve.objectStoreNames[0])}return je(H[he])},set:(H,he,Ve)=>(H[he]=Ve,!0),has:(H,he)=>H instanceof IDBTransaction&&("done"===he||"store"===he)||he in H};function ut(H){return"function"==typeof H?function Be(H){return H!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(H)?function(...he){return H.apply(wt(this),he),je(Pe.get(this))}:function(...he){return je(H.apply(wt(this),he))}:function(he,...Ve){const It=H.call(wt(this),he,...Ve);return Ae.set(It,he.sort?he.sort():[he]),je(It)}}(H):(H instanceof IDBTransaction&&function Qe(H){if(He.has(H))return;const he=new Promise((Ve,It)=>{const tn=()=>{H.removeEventListener("complete",ln),H.removeEventListener("error",dn),H.removeEventListener("abort",dn)},ln=()=>{Ve(),tn()},dn=()=>{It(H.error||new DOMException("AbortError","AbortError")),tn()};H.addEventListener("complete",ln),H.addEventListener("error",dn),H.addEventListener("abort",dn)});He.set(H,he)}(H),M(H,function ye(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(H,Oe):H)}function je(H){if(H instanceof IDBRequest)return function de(H){const he=new Promise((Ve,It)=>{const tn=()=>{H.removeEventListener("success",ln),H.removeEventListener("error",dn)},ln=()=>{Ve(je(H.result)),tn()},dn=()=>{It(H.error),tn()};H.addEventListener("success",ln),H.addEventListener("error",dn)});return he.then(Ve=>{Ve instanceof IDBCursor&&Pe.set(Ve,H)}).catch(()=>{}),Y.set(he,H),he}(H);if(q.has(H))return q.get(H);const he=ut(H);return he!==H&&(q.set(H,he),Y.set(he,H)),he}const wt=H=>Y.get(H);function bt(H,he,{blocked:Ve,upgrade:It,blocking:tn,terminated:ln}={}){const dn=indexedDB.open(H,he),En=je(dn);return It&&dn.addEventListener("upgradeneeded",an=>{It(je(dn.result),an.oldVersion,an.newVersion,je(dn.transaction),an)}),Ve&&dn.addEventListener("blocked",an=>Ve(an.oldVersion,an.newVersion,an)),En.then(an=>{ln&&an.addEventListener("close",()=>ln()),tn&&an.addEventListener("versionchange",xr=>tn(xr.oldVersion,xr.newVersion,xr))}).catch(()=>{}),En}const ke=["get","getKey","getAll","getAllKeys","count"],me=["put","add","delete","clear"],Ue=new Map;function Xe(H,he){if(!(H instanceof IDBDatabase)||he in H||"string"!=typeof he)return;if(Ue.get(he))return Ue.get(he);const Ve=he.replace(/FromIndex$/,""),It=he!==Ve,tn=me.includes(Ve);if(!(Ve in(It?IDBIndex:IDBObjectStore).prototype)||!tn&&!ke.includes(Ve))return;const ln=function(){var dn=(0,h.Z)(function*(En,...an){const xr=this.transaction(En,tn?"readwrite":"readonly");let _e=xr.store;return It&&(_e=_e.index(an.shift())),(yield Promise.all([_e[Ve](...an),tn&&xr.done]))[0]});return function(an){return dn.apply(this,arguments)}}();return Ue.set(he,ln),ln}!function ht(H){Oe=H(Oe)}(H=>({...H,get:(he,Ve,It)=>Xe(he,Ve)||H.get(he,Ve,It),has:(he,Ve)=>!!Xe(he,Ve)||H.has(he,Ve)}))},5861:(Tt,Fe,N)=>{"use strict";function h(B,se,ye,Ce,Pe,He,Ae){try{var q=B[He](Ae),Y=q.value}catch(de){return void ye(de)}q.done?se(Y):Promise.resolve(Y).then(Ce,Pe)}function M(B){return function(){var se=this,ye=arguments;return new Promise(function(Ce,Pe){var He=B.apply(se,ye);function Ae(Y){h(He,Ce,Pe,Ae,q,"next",Y)}function q(Y){h(He,Ce,Pe,Ae,q,"throw",Y)}Ae(void 0)})}}N.d(Fe,{Z:()=>M})},7582:(Tt,Fe,N)=>{"use strict";function se(_e,Ie){var we={};for(var ve in _e)Object.prototype.hasOwnProperty.call(_e,ve)&&Ie.indexOf(ve)<0&&(we[ve]=_e[ve]);if(null!=_e&&"function"==typeof Object.getOwnPropertySymbols){var $e=0;for(ve=Object.getOwnPropertySymbols(_e);$e<ve.length;$e++)Ie.indexOf(ve[$e])<0&&Object.prototype.propertyIsEnumerable.call(_e,ve[$e])&&(we[ve[$e]]=_e[ve[$e]])}return we}function de(_e,Ie,we,ve){return new(we||(we=Promise))(function(tt,gt){function lt(On){try{Bt(ve.next(On))}catch(Pt){gt(Pt)}}function hn(On){try{Bt(ve.throw(On))}catch(Pt){gt(Pt)}}function Bt(On){On.done?tt(On.value):function $e(tt){return tt instanceof we?tt:new we(function(gt){gt(tt)})}(On.value).then(lt,hn)}Bt((ve=ve.apply(_e,Ie||[])).next())})}function ae(_e){return this instanceof ae?(this.v=_e,this):new ae(_e)}function ke(_e,Ie,we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $e,ve=we.apply(_e,Ie||[]),tt=[];return $e={},gt("next"),gt("throw"),gt("return"),$e[Symbol.asyncIterator]=function(){return this},$e;function gt(Pn){ve[Pn]&&($e[Pn]=function(Dr){return new Promise(function($n,kn){tt.push([Pn,Dr,$n,kn])>1||lt(Pn,Dr)})})}function lt(Pn,Dr){try{!function hn(Pn){Pn.value instanceof ae?Promise.resolve(Pn.value.v).then(Bt,On):Pt(tt[0][2],Pn)}(ve[Pn](Dr))}catch($n){Pt(tt[0][3],$n)}}function Bt(Pn){lt("next",Pn)}function On(Pn){lt("throw",Pn)}function Pt(Pn,Dr){Pn(Dr),tt.shift(),tt.length&&lt(tt[0][0],tt[0][1])}}function Ue(_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,Ie=_e[Symbol.asyncIterator];return Ie?Ie.call(_e):(_e=function Be(_e){var Ie="function"==typeof Symbol&&Symbol.iterator,we=Ie&&_e[Ie],ve=0;if(we)return we.call(_e);if(_e&&"number"==typeof _e.length)return{next:function(){return _e&&ve>=_e.length&&(_e=void 0),{value:_e&&_e[ve++],done:!_e}}};throw new TypeError(Ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(_e),we={},ve("next"),ve("throw"),ve("return"),we[Symbol.asyncIterator]=function(){return this},we);function ve(tt){we[tt]=_e[tt]&&function(gt){return new Promise(function(lt,hn){!function $e(tt,gt,lt,hn){Promise.resolve(hn).then(function(Bt){tt({value:Bt,done:lt})},gt)}(lt,hn,(gt=_e[tt](gt)).done,gt.value)})}}}N.d(Fe,{FC:()=>ke,KL:()=>Ue,_T:()=>se,mG:()=>de,qq:()=>ae}),"function"==typeof SuppressedError&&SuppressedError}},Tt=>{Tt(Tt.s=2128)}]);