<li class="message">
    <div
        class="message-with-no-post"
        *ngIf="!message.postId"
        [ngClass]="
            message.sentBy === loggedInUserFromDB._id
                ? 'loggedInUser'
                : 'participant'
        "
    >
        <img
            [src]="
                message.sentBy === loggedInUserFromDB._id
                    ? loggedInUserFromDB.imgUrl
                    : participantUser.imgUrl
            "
            alt="user"
            *ngIf="message.sentBy !== loggedInUserFromDB._id"
        />
        <div class="txt">
            <p>{{ message.txt }}</p>
        </div>
        <div class="time">
            <p>{{ message.sentAt | formatTime }}</p>
        </div>
    </div>

    <div
        class="message-with-post"
        *ngIf="post"
        [ngClass]="
            message.sentBy === loggedInUserFromDB._id
                ? 'loggedInUser'
                : 'participant'
        "
    >
        <div class="post">
            <div class="header">
                <img
                    [src]="
                        message.sentBy === loggedInUserFromDB._id
                            ? loggedInUserFromDB.imgUrl
                            : participantUser.imgUrl
                    "
                    alt="user"
                />

                <p>
                    {{
                        message.sentBy === loggedInUserFromDB._id
                            ? loggedInUserFromDB.fullName
                            : participantUser.fullName
                    }}
                </p>
            </div>

            <img [src]="post.imgUrl" alt="post" />

            <div class="footer">
                <img
                    [src]="
                        message.sentBy === loggedInUserFromDB._id
                            ? loggedInUserFromDB.imgUrl
                            : participantUser.imgUrl
                    "
                    alt="user"
                />
                <p class="creator-full-name">{{ post.creatorFullName }}</p>
                <p class="post-content">{{ post.content }}</p>
            </div>
        </div>

        <div class="message-with-post-content" *ngIf="message.txt">
            <img
                [src]="
                    message.sentBy === loggedInUserFromDB._id
                        ? loggedInUserFromDB.imgUrl
                        : participantUser.imgUrl
                "
                alt="user"
                *ngIf="message.sentBy !== loggedInUserFromDB._id"
            />
            <div class="txt">
                <p>{{ message.txt }}</p>
            </div>
            <div class="time">
                <p>{{ message.sentAt | formatTime }}</p>
            </div>
        </div>
    </div>
</li>
