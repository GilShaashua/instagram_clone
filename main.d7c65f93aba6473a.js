"use strict";(self.webpackChunkinstagram_clone=self.webpackChunkinstagram_clone||[]).push([[179],{6304:(vt,be,A)=>{A.d(be,{Dh:()=>Oe,GT:()=>ve,cc:()=>Ee,hO:()=>Ue,on:()=>V,pX:()=>se,xv:()=>he});var h=A(5879),U=A(120),N=A(4556);vt=A.hmd(vt);const Y=["ngOnDestroy"],se=(Ae,ht,ft,ee={})=>new Proxy(Ae,{get:(Te,ue)=>ft.runOutsideAngular(()=>{var Me;if(Ae[ue])return!(null===(Me=ee?.spy)||void 0===Me)&&Me.get&&ee.spy.get(ue,Ae[ue]),Ae[ue];if(Y.indexOf(ue)>-1)return()=>{};const Be=ht.toPromise().then(k=>{const te=k&&k[ue];return"function"==typeof te?te.bind(k):te&&te.then?te.then(De=>ft.run(()=>De)):ft.run(()=>te)});return new Proxy(()=>{},{get:(k,te)=>Be[te],apply:(k,te,De)=>Be.then(st=>{var Lt;const Ht=st&&st(...De);return!(null===(Lt=ee?.spy)||void 0===Lt)&&Lt.apply&&ee.spy.apply(ue,De,Ht),Ht})})})}),ve=(Ae,ht)=>{ht.forEach(ft=>{Object.getOwnPropertyNames(ft.prototype||ft).forEach(ee=>{Object.defineProperty(Ae.prototype,ee,Object.getOwnPropertyDescriptor(ft.prototype||ft,ee))})})};class _e{constructor(ht){return ht}}const Oe=new h.OlP("angularfire2.app.options"),he=new h.OlP("angularfire2.app.name");function V(Ae,ht,ft){const Te="object"==typeof ft&&ft||{};Te.name=Te.name||"string"==typeof ft&&ft||"[DEFAULT]";const Me=U.Z.apps.filter(Be=>Be&&Be.name===Te.name)[0]||ht.runOutsideAngular(()=>U.Z.initializeApp(Ae,Te));try{JSON.stringify(Ae)!==JSON.stringify(Me.options)&&q("error",`${Me.name} Firebase App already initialized with different options${vt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new _e(Me)}const q=(Ae,...ht)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Ae](...ht)},ne={provide:_e,useFactory:V,deps:[Oe,h.R0b,[new h.FiY,he]]};let Ue=(()=>{class Ae{constructor(ft){U.Z.registerVersion("angularfire",N.q4.full,"core"),U.Z.registerVersion("angularfire",N.q4.full,"app-compat"),U.Z.registerVersion("angular",h.q4F.full,ft.toString())}static initializeApp(ft,ee){return{ngModule:Ae,providers:[{provide:Oe,useValue:ft},{provide:he,useValue:ee}]}}}return Ae.\u0275fac=function(ft){return new(ft||Ae)(h.LFG(h.Lbi))},Ae.\u0275mod=h.oAB({type:Ae}),Ae.\u0275inj=h.cJS({providers:[ne]}),Ae})();function Ee(Ae,ht,ft,ee,Te){const[,ue,Me]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===Ae)||[];if(ue)return function Ye(Ae,ht){try{return Ae.toString()===ht.toString()}catch{return Ae===ht}}(Te,Me)||(Ze("error",`${ht} was already initialized on the ${ft} Firebase App with different settings.${ke?" You may need to reload as Firebase is not HMR aware.":""}`),Ze("warn",{is:Te,was:Me})),ue;{const Be=ee();return globalThis.\u0275AngularfireInstanceCache.push([Ae,Be,Te]),Be}}const ke=!!vt.hot,Ze=(Ae,...ht)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Ae](...ht)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4556:(vt,be,A)=>{A.d(be,{q4:()=>Us,iC:()=>cs,HU:()=>th,vb:()=>ws,JM:()=>fr});var h=A(5879),U=A(4097),N=A(5861),Y=A(4303),se=A(9058),ve=A(4537),_e=A(7879);A(2591);const he="@firebase/remote-config",V="0.4.4",Ee=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Jt{constructor(F,j,pe,Pe){this.client=F,this.storage=j,this.storageCache=pe,this.logger=Pe}isCachedDataFresh(F,j){if(!j)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const pe=Date.now()-j,Pe=pe<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${pe}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${Pe}.`),Pe}fetch(F){var j=this;return(0,N.Z)(function*(){const[pe,Pe]=yield Promise.all([j.storage.getLastSuccessfulFetchTimestampMillis(),j.storage.getLastSuccessfulFetchResponse()]);if(Pe&&j.isCachedDataFresh(F.cacheMaxAgeMillis,pe))return Pe;F.eTag=Pe&&Pe.eTag;const We=yield j.client.fetch(F),et=[j.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===We.status&&et.push(j.storage.setLastSuccessfulFetchResponse(We)),yield Promise.all(et),We})()}}function Gn(B=navigator){return B.languages&&B.languages[0]||B.language}class ae{constructor(F,j,pe,Pe,We,et){this.firebaseInstallations=F,this.sdkVersion=j,this.namespace=pe,this.projectId=Pe,this.apiKey=We,this.appId=et}fetch(F){var j=this;return(0,N.Z)(function*(){const[pe,Pe]=yield Promise.all([j.firebaseInstallations.getId(),j.firebaseInstallations.getToken()]),et=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${j.projectId}/namespaces/${j.namespace}:fetch?key=${j.apiKey}`,Dt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},Ft={sdk_version:j.sdkVersion,app_instance_id:pe,app_instance_id_token:Pe,app_id:j.appId,language_code:Gn()},Wt={method:"POST",headers:Dt,body:JSON.stringify(Ft)},Bt=fetch(et,Wt),Ur=new Promise((ar,Ii)=>{F.signal.addEventListener(()=>{const Ga=new Error("The operation was aborted.");Ga.name="AbortError",Ii(Ga)})});let Yn;try{yield Promise.race([Bt,Ur]),Yn=yield Bt}catch(ar){let Ii="fetch-client-network";throw"AbortError"===ar?.name&&(Ii="fetch-timeout"),Ee.create(Ii,{originalErrorMessage:ar?.message})}let Mn=Yn.status;const To=Yn.headers.get("ETag")||void 0;let Ji,Is;if(200===Yn.status){let ar;try{ar=yield Yn.json()}catch(Ii){throw Ee.create("fetch-client-parse",{originalErrorMessage:Ii?.message})}Ji=ar.entries,Is=ar.state}if("INSTANCE_STATE_UNSPECIFIED"===Is?Mn=500:"NO_CHANGE"===Is?Mn=304:("NO_TEMPLATE"===Is||"EMPTY_CONFIG"===Is)&&(Ji={}),304!==Mn&&200!==Mn)throw Ee.create("fetch-status",{httpStatus:Mn});return{status:Mn,eTag:To,config:Ji}})()}}class oe{constructor(F,j){this.client=F,this.storage=j}fetch(F){var j=this;return(0,N.Z)(function*(){const pe=(yield j.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return j.attemptFetch(F,pe)})()}attemptFetch(F,{throttleEndTimeMillis:j,backoffCount:pe}){var Pe=this;return(0,N.Z)(function*(){yield function fe(B,F){return new Promise((j,pe)=>{const Pe=Math.max(F-Date.now(),0),We=setTimeout(j,Pe);B.addEventListener(()=>{clearTimeout(We),pe(Ee.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,j);try{const We=yield Pe.client.fetch(F);return yield Pe.storage.deleteThrottleMetadata(),We}catch(We){if(!function ce(B){if(!(B instanceof se.ZR&&B.customData))return!1;const F=Number(B.customData.httpStatus);return 429===F||500===F||503===F||504===F}(We))throw We;const et={throttleEndTimeMillis:Date.now()+(0,se.$s)(pe),backoffCount:pe+1};return yield Pe.storage.setThrottleMetadata(et),Pe.attemptFetch(F,et)}})()}}class tt{constructor(F,j,pe,Pe,We){this.app=F,this._client=j,this._storageCache=pe,this._storage=Pe,this._logger=We,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function qe(B,F){const j=B.target.error||void 0;return Ee.create(F,{originalErrorMessage:j&&j?.message})}const Zt="app_namespace_store";class hn{constructor(F,j,pe,Pe=function yt(){return new Promise((B,F)=>{try{const j=indexedDB.open("firebase_remote_config",1);j.onerror=pe=>{F(qe(pe,"storage-open"))},j.onsuccess=pe=>{B(pe.target.result)},j.onupgradeneeded=pe=>{0===pe.oldVersion&&pe.target.result.createObjectStore(Zt,{keyPath:"compositeKey"})}}catch(j){F(Ee.create("storage-open",{originalErrorMessage:j?.message}))}})}()){this.appId=F,this.appName=j,this.namespace=pe,this.openDbPromise=Pe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var j=this;return(0,N.Z)(function*(){const pe=yield j.openDbPromise;return new Promise((Pe,We)=>{const Dt=pe.transaction([Zt],"readonly").objectStore(Zt),Ft=j.createCompositeKey(F);try{const Wt=Dt.get(Ft);Wt.onerror=Bt=>{We(qe(Bt,"storage-get"))},Wt.onsuccess=Bt=>{const Ur=Bt.target.result;Pe(Ur?Ur.value:void 0)}}catch(Wt){We(Ee.create("storage-get",{originalErrorMessage:Wt?.message}))}})})()}set(F,j){var pe=this;return(0,N.Z)(function*(){const Pe=yield pe.openDbPromise;return new Promise((We,et)=>{const Ft=Pe.transaction([Zt],"readwrite").objectStore(Zt),Wt=pe.createCompositeKey(F);try{const Bt=Ft.put({compositeKey:Wt,value:j});Bt.onerror=Ur=>{et(qe(Ur,"storage-set"))},Bt.onsuccess=()=>{We()}}catch(Bt){et(Ee.create("storage-set",{originalErrorMessage:Bt?.message}))}})})()}delete(F){var j=this;return(0,N.Z)(function*(){const pe=yield j.openDbPromise;return new Promise((Pe,We)=>{const Dt=pe.transaction([Zt],"readwrite").objectStore(Zt),Ft=j.createCompositeKey(F);try{const Wt=Dt.delete(Ft);Wt.onerror=Bt=>{We(qe(Bt,"storage-delete"))},Wt.onsuccess=()=>{Pe()}}catch(Wt){We(Ee.create("storage-delete",{originalErrorMessage:Wt?.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class jn{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,N.Z)(function*(){const j=F.storage.getLastFetchStatus(),pe=F.storage.getLastSuccessfulFetchTimestampMillis(),Pe=F.storage.getActiveConfig(),We=yield j;We&&(F.lastFetchStatus=We);const et=yield pe;et&&(F.lastSuccessfulFetchTimestampMillis=et);const Dt=yield Pe;Dt&&(F.activeConfig=Dt)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function sr(){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,N.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}!function Ln(){(0,Y._registerComponent)(new ve.wA("remote-config",function B(F,{instanceIdentifier:j}){const pe=F.getProvider("app").getImmediate(),Pe=F.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ee.create("registration-window");if(!(0,se.hl)())throw Ee.create("indexed-db-unavailable");const{projectId:We,apiKey:et,appId:Dt}=pe.options;if(!We)throw Ee.create("registration-project-id");if(!et)throw Ee.create("registration-api-key");if(!Dt)throw Ee.create("registration-app-id");const Ft=new hn(Dt,pe.name,j=j||"firebase"),Wt=new jn(Ft),Bt=new _e.Yd(he);Bt.logLevel=_e.in.ERROR;const Ur=new ae(Pe,Y.SDK_VERSION,j,We,et,Dt),Yn=new oe(Ur,Ft),Mn=new Jt(Yn,Ft,Wt,Bt),To=new tt(pe,Mn,Wt,Ft,Bt);return function Me(B){const F=(0,se.m9)(B);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}(To),To},"PUBLIC").setMultipleInstances(!0)),(0,Y.registerVersion)(he,V),(0,Y.registerVersion)(he,V,"esm2017")}();var Vn=A(9519);const bn="analytics",tr="firebase_id",Gr="origin",wt=6e4,Ct="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Nt="https://www.googletagmanager.com/gtag/js",Rt=new _e.Yd("@firebase/analytics"),fn=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Kt(B){if(!B.startsWith(Nt)){const F=fn.create("invalid-gtag-resource",{gtagURL:B});return Rt.warn(F.message),""}return B}function pn(B){return Promise.all(B.map(F=>F.catch(j=>j)))}function cn(){return(cn=(0,N.Z)(function*(B,F,j,pe,Pe,We){const et=pe[Pe];try{if(et)yield F[et];else{const Ft=(yield pn(j)).find(Wt=>Wt.measurementId===Pe);Ft&&(yield F[Ft.appId])}}catch(Dt){Rt.error(Dt)}B("config",Pe,We)})).apply(this,arguments)}function or(){return(or=(0,N.Z)(function*(B,F,j,pe,Pe){try{let We=[];if(Pe&&Pe.send_to){let et=Pe.send_to;Array.isArray(et)||(et=[et]);const Dt=yield pn(j);for(const Ft of et){const Wt=Dt.find(Ur=>Ur.measurementId===Ft),Bt=Wt&&F[Wt.appId];if(!Bt){We=[];break}We.push(Bt)}}0===We.length&&(We=Object.values(F)),yield Promise.all(We),B("event",pe,Pe||{})}catch(We){Rt.error(We)}})).apply(this,arguments)}const W=30,ct=new class He{constructor(F={},j=1e3){this.throttleMetadata=F,this.intervalMillis=j}getThrottleMetadata(F){return this.throttleMetadata[F]}setThrottleMetadata(F,j){this.throttleMetadata[F]=j}deleteThrottleMetadata(F){delete this.throttleMetadata[F]}};function Et(B){return new Headers({Accept:"application/json","x-goog-api-key":B})}function G(){return(G=(0,N.Z)(function*(B){var F;const{appId:j,apiKey:pe}=B,Pe={method:"GET",headers:Et(pe)},We=Ct.replace("{app-id}",j),et=yield fetch(We,Pe);if(200!==et.status&&304!==et.status){let Dt="";try{const Ft=yield et.json();null!==(F=Ft.error)&&void 0!==F&&F.message&&(Dt=Ft.error.message)}catch{}throw fn.create("config-fetch-failed",{httpStatus:et.status,responseMessage:Dt})}return et.json()})).apply(this,arguments)}function P(){return(P=(0,N.Z)(function*(B,F=ct,j){const{appId:pe,apiKey:Pe,measurementId:We}=B.options;if(!pe)throw fn.create("no-app-id");if(!Pe){if(We)return{measurementId:We,appId:pe};throw fn.create("no-api-key")}const et=F.getThrottleMetadata(pe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Dt=new Qe;return setTimeout((0,N.Z)(function*(){Dt.abort()}),void 0!==j?j:wt),R({appId:pe,apiKey:Pe,measurementId:We},et,Dt,F)})).apply(this,arguments)}function R(B,F,j){return M.apply(this,arguments)}function M(){return M=(0,N.Z)(function*(B,{throttleEndTimeMillis:F,backoffCount:j},pe,Pe=ct){var We;const{appId:et,measurementId:Dt}=B;try{yield function X(B,F){return new Promise((j,pe)=>{const Pe=Math.max(F-Date.now(),0),We=setTimeout(j,Pe);B.addEventListener(()=>{clearTimeout(We),pe(fn.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(pe,F)}catch(Ft){if(Dt)return Rt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Dt} provided in the "measurementId" field in the local Firebase config. [${Ft?.message}]`),{appId:et,measurementId:Dt};throw Ft}try{const Ft=yield function gn(B){return G.apply(this,arguments)}(B);return Pe.deleteThrottleMetadata(et),Ft}catch(Ft){const Wt=Ft;if(!function Ne(B){if(!(B instanceof se.ZR&&B.customData))return!1;const F=Number(B.customData.httpStatus);return 429===F||500===F||503===F||504===F}(Wt)){if(Pe.deleteThrottleMetadata(et),Dt)return Rt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Dt} provided in the "measurementId" field in the local Firebase config. [${Wt?.message}]`),{appId:et,measurementId:Dt};throw Ft}const Bt=503===Number(null===(We=Wt?.customData)||void 0===We?void 0:We.httpStatus)?(0,se.$s)(j,Pe.intervalMillis,W):(0,se.$s)(j,Pe.intervalMillis),Ur={throttleEndTimeMillis:Date.now()+Bt,backoffCount:j+1};return Pe.setThrottleMetadata(et,Ur),Rt.debug(`Calling attemptFetch again in ${Bt} millis`),R(B,Ur,pe,Pe)}}),M.apply(this,arguments)}class Qe{constructor(){this.listeners=[]}addEventListener(F){this.listeners.push(F)}abort(){this.listeners.forEach(F=>F())}}let xt,Tn;function mn(){return(mn=(0,N.Z)(function*(B,F,j,pe,Pe){if(Pe&&Pe.global)B("event",j,pe);else{const We=yield F;B("event",j,Object.assign(Object.assign({},pe),{send_to:We}))}})).apply(this,arguments)}function Nr(){return(Nr=(0,N.Z)(function*(){if(!(0,se.hl)())return Rt.warn(fn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(B){return Rt.warn(fn.create("indexeddb-unavailable",{errorInfo:B?.toString()}).message),!1}return!0})).apply(this,arguments)}function Fs(){return Fs=(0,N.Z)(function*(B,F,j,pe,Pe,We,et){var Dt;const Ft=function H(B){return P.apply(this,arguments)}(B);Ft.then(Mn=>{j[Mn.measurementId]=Mn.appId,B.options.measurementId&&Mn.measurementId!==B.options.measurementId&&Rt.warn(`The measurement ID in the local Firebase config (${B.options.measurementId}) does not match the measurement ID fetched from the server (${Mn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Mn=>Rt.error(Mn)),F.push(Ft);const Wt=function Zi(){return Nr.apply(this,arguments)}().then(Mn=>{if(Mn)return pe.getId()}),[Bt,Ur]=yield Promise.all([Ft,Wt]);(function me(B){const F=window.document.getElementsByTagName("script");for(const j of Object.values(F))if(j.src&&j.src.includes(Nt)&&j.src.includes(B))return j;return null})(We)||function rn(B,F){const j=function Pr(B,F){let j;return window.trustedTypes&&(j=window.trustedTypes.createPolicy(B,F)),j}("firebase-js-sdk-policy",{createScriptURL:Kt}),pe=document.createElement("script"),Pe=`${Nt}?l=${B}&id=${F}`;pe.src=j?j?.createScriptURL(Pe):Pe,pe.async=!0,document.head.appendChild(pe)}(We,Bt.measurementId),Tn&&(Pe("consent","default",Tn),function ti(B){Tn=B}(void 0)),Pe("js",new Date);const Yn=null!==(Dt=et?.config)&&void 0!==Dt?Dt:{};return Yn[Gr]="firebase",Yn.update=!0,null!=Ur&&(Yn[tr]=Ur),Pe("config",Bt.measurementId,Yn),xt&&(Pe("set",xt),function ni(B){xt=B}(void 0)),Bt.measurementId}),Fs.apply(this,arguments)}class Ks{constructor(F){this.app=F}_delete(){return delete ri[this.app.options.appId],Promise.resolve()}}let ri={},pi=[];const Ls={};let Xn,Ki,_s="dataLayer",Yi=!1;function zr(B,F,j){!function Co(){const B=[];if((0,se.ru)()&&B.push("This is a browser extension environment."),(0,se.zI)()||B.push("Cookies are not available."),B.length>0){const F=B.map((pe,Pe)=>`(${Pe+1}) ${pe}`).join(" "),j=fn.create("invalid-analytics-context",{errorInfo:F});Rt.warn(j.message)}}();const pe=B.options.appId;if(!pe)throw fn.create("no-app-id");if(!B.options.apiKey){if(!B.options.measurementId)throw fn.create("no-api-key");Rt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${B.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ri[pe])throw fn.create("already-exists",{id:pe});if(!Yi){!function fi(B){let F=[];Array.isArray(window[B])?F=window[B]:window[B]=F}(_s);const{wrappedGtag:We,gtagCore:et}=function Un(B,F,j,pe,Pe){let We=function(...et){window[pe].push(arguments)};return window[Pe]&&"function"==typeof window[Pe]&&(We=window[Pe]),window[Pe]=function dr(B,F,j,pe){function We(){return We=(0,N.Z)(function*(et,...Dt){try{if("event"===et){const[Ft,Wt]=Dt;yield function Dr(B,F,j,pe,Pe){return or.apply(this,arguments)}(B,F,j,Ft,Wt)}else if("config"===et){const[Ft,Wt]=Dt;yield function Xt(B,F,j,pe,Pe,We){return cn.apply(this,arguments)}(B,F,j,pe,Ft,Wt)}else if("consent"===et){const[Ft]=Dt;B("consent","update",Ft)}else if("get"===et){const[Ft,Wt,Bt]=Dt;B("get",Ft,Wt,Bt)}else if("set"===et){const[Ft]=Dt;B("set",Ft)}else B(et,...Dt)}catch(Ft){Rt.error(Ft)}}),We.apply(this,arguments)}return function Pe(et){return We.apply(this,arguments)}}(We,B,F,j),{gtagCore:We,wrappedGtag:window[Pe]}}(ri,pi,Ls,_s,"gtag");Ki=We,Xn=et,Yi=!0}return ri[pe]=function ln(B,F,j,pe,Pe,We,et){return Fs.apply(this,arguments)}(B,pi,Ls,F,Xn,_s,j),new Ks(B)}function zu(){return $.apply(this,arguments)}function $(){return($=(0,N.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}const us="@firebase/analytics";!function qu(){(0,Y._registerComponent)(new ve.wA(bn,(F,{options:j})=>zr(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),j),"PUBLIC")),(0,Y._registerComponent)(new ve.wA("analytics-internal",function B(F){try{const j=F.getProvider(bn).getImmediate();return{logEvent:(pe,Pe,We)=>function hr(B,F,j,pe){B=(0,se.m9)(B),function ot(B,F,j,pe,Pe){return mn.apply(this,arguments)}(Ki,ri[B.app.options.appId],F,j,pe).catch(Pe=>Rt.error(Pe))}(j,pe,Pe,We)}}catch(j){throw fn.create("interop-component-reg-failed",{reason:j})}},"PRIVATE")),(0,Y.registerVersion)(us,"0.10.0"),(0,Y.registerVersion)(us,"0.10.0","esm2017")}();var Ba=A(1954),$a=A(2631);const Vr=new class Cn extends $a.v{}(class ja extends Ba.o{constructor(F,j){super(F,j),this.scheduler=F,this.work=j}schedule(F,j=0){return j>0?super.schedule(F,j):(this.delay=j,this.state=F,this.scheduler.flush(this),this)}execute(F,j){return j>0||this.closed?super.execute(F,j):this._execute(F,j)}requestAsyncId(F,j,pe=0){return null!=pe&&pe>0||null==pe&&this.delay>0?super.requestAsyncId(F,j,pe):(F.flush(this),0)}});var Do=A(6321),ii=A(9397),Jc=A(5137),Ha=A(3093);const Us=new h.GfV("7.6.1"),Qi="__angularfire_symbol__analyticsIsSupportedValue",la="__angularfire_symbol__analyticsIsSupported",Kn="__angularfire_symbol__remoteConfigIsSupportedValue",Xe="__angularfire_symbol__remoteConfigIsSupported",qt="__angularfire_symbol__messagingIsSupportedValue",Bn="__angularfire_symbol__messagingIsSupported";function fr(B,F,j){if(F){if(1===F.length)return F[0];const We=F.filter(et=>et.app===j);if(1===We.length)return We[0]}return j.container.getProvider(B).getImmediate({optional:!0})}globalThis[la]||(globalThis[la]=zu().then(B=>globalThis[Qi]=B).catch(()=>globalThis[Qi]=!1)),globalThis[Bn]||(globalThis[Bn]=(0,Vn.Gb)().then(B=>globalThis[qt]=B).catch(()=>globalThis[qt]=!1)),globalThis[Xe]||(globalThis[Xe]=sr().then(B=>globalThis[Kn]=B).catch(()=>globalThis[Kn]=!1));const ws=(B,F)=>{const j=F?[F]:(0,U.C6)(),pe=[];return j.forEach(Pe=>{Pe.container.getProvider(B).instances.forEach(et=>{pe.includes(et)||pe.push(et)})}),pe};function Ei(){}class kt{constructor(F,j=Vr){this.zone=F,this.delegate=j}now(){return this.delegate.now()}schedule(F,j,pe){const Pe=this.zone;return this.delegate.schedule(function(et){Pe.runGuarded(()=>{F.apply(this,[et])})},j,pe)}}class da{constructor(F){this.zone=F,this.task=null}call(F,j){const pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ei,{},Ei,Ei)),j.pipe((0,ii.b)({next:pe,complete:pe,error:pe})).subscribe(F).add(pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let th=(()=>{class B{constructor(j){this.ngZone=j,this.outsideAngular=j.runOutsideAngular(()=>new kt(Zone.current)),this.insideAngular=j.run(()=>new kt(Zone.current,Do.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return B.\u0275fac=function(j){return new(j||B)(h.LFG(h.R0b))},B.\u0275prov=h.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})();function br(){const B=globalThis.\u0275AngularFireScheduler;if(!B)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return B}function cs(B){return br(),function Xc(B){return function(j){return(j=j.lift(new da(B.ngZone))).pipe((0,Jc.R)(B.outsideAngular),(0,Ha.Q)(B.insideAngular))}}(br())(B)}},6710:(vt,be,A)=>{A.d(be,{$:()=>rh,A:()=>q,D:()=>Ee,I:()=>Co,J:()=>$,L:()=>Xe,N:()=>Et,P:()=>ur,Q:()=>Ui,R:()=>Bp,U:()=>Xc,V:()=>Ys,W:()=>Es,X:()=>cs,Y:()=>pe,Z:()=>Pe,_:()=>Wt,a:()=>cl,a0:()=>pE,a1:()=>vr,a2:()=>ET,a3:()=>IT,a4:()=>Uy,a5:()=>So,a6:()=>Wu,a7:()=>sh,a8:()=>oh,a9:()=>By,aA:()=>k,aB:()=>tu,aC:()=>He,aD:()=>gn,aE:()=>ko,aF:()=>gl,aG:()=>ro,aH:()=>Xn,aL:()=>Yu,aO:()=>F,aa:()=>wp,ab:()=>jy,ac:()=>Ep,ad:()=>Hy,ae:()=>rl,af:()=>Gy,ai:()=>mE,aj:()=>CT,ak:()=>qy,an:()=>To,ao:()=>Ku,aq:()=>ph,ar:()=>ul,as:()=>De,at:()=>ot,au:()=>Ne,av:()=>ee,aw:()=>ds,ax:()=>Sh,ay:()=>mn,az:()=>Te,b:()=>yh,c:()=>Si,d:()=>fl,e:()=>Qa,f:()=>ml,g:()=>Ai,h:()=>Kr,i:()=>$s,j:()=>ov,k:()=>so,l:()=>jp,m:()=>iu,p:()=>Oe,r:()=>Pt,s:()=>bi,u:()=>Ti});var h=A(5861),U=A(9058),N=A(7592),Y=A(7582),se=A(7879),ve=A(4537);const Oe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ee=function ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ye=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ke=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ae=new se.Yd("@firebase/auth");function ft(w,...p){Ae.logLevel<=se.in.ERROR&&Ae.error(`Auth (${N.SDK_VERSION}): ${w}`,...p)}function ee(w,...p){throw Be(w,...p)}function Te(w,...p){return Be(w,...p)}function ue(w,p,g){const E=Object.assign(Object.assign({},Ye()),{[p]:g});return new U.LL("auth","Firebase",E).create(p,{appName:w.name})}function Me(w,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&ee(w,"argument-error"),ue(w,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Be(w,...p){if("string"!=typeof w){const g=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=w.name),w._errorFactory.create(g,...E)}return ke.create(w,...p)}function k(w,p,...g){if(!w)throw Be(p,...g)}function te(w){const p="INTERNAL ASSERTION FAILED: "+w;throw ft(p),new Error(p)}function De(w,p){w||te(p)}function st(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Lt(){return"http:"===Ht()||"https:"===Ht()}function Ht(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Jt{constructor(p,g){this.shortDelay=p,this.longDelay=g,De(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function Gt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Lt()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gn(w,p){De(w.emulator,"Emulator should always be set here");const{url:g}=w.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class ae{static initialize(p,g,E){this.fetchImpl=p,g&&(this.headersImpl=g),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void te("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void te("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void te("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ce=new Jt(3e4,6e4);function oe(w,p){return w.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:w.tenantId}):p}function Se(w,p,g,E){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,h.Z)(function*(w,p,g,E,T={}){return tt(w,T,(0,h.Z)(function*(){let O={},Q={};E&&("GET"===p?Q=E:O={body:JSON.stringify(E)});const ge=(0,U.xO)(Object.assign({key:w.config.apiKey},Q)).slice(1),Je=yield w._getAdditionalHeaders();return Je["Content-Type"]="application/json",w.languageCode&&(Je["X-Firebase-Locale"]=w.languageCode),ae.fetch()(nn(w,w.config.apiHost,g,ge),Object.assign({method:p,headers:Je,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function tt(w,p,g){return qe.apply(this,arguments)}function qe(){return(qe=(0,h.Z)(function*(w,p,g){w._canInitEmulator=!1;const E=Object.assign(Object.assign({},fe),p);try{const T=new yt(w),O=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const Q=yield O.json();if("needConfirmation"in Q)throw hn(w,"account-exists-with-different-credential",Q);if(O.ok&&!("errorMessage"in Q))return Q;{const ge=O.ok?Q.errorMessage:Q.error.message,[Je,rt]=ge.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Je)throw hn(w,"credential-already-in-use",Q);if("EMAIL_EXISTS"===Je)throw hn(w,"email-already-in-use",Q);if("USER_DISABLED"===Je)throw hn(w,"user-disabled",Q);const Tt=E[Je]||Je.toLowerCase().replace(/[_\s]+/g,"-");if(rt)throw ue(w,Tt,rt);ee(w,Tt)}}catch(T){if(T instanceof U.ZR)throw T;ee(w,"network-request-failed",{message:String(T)})}})).apply(this,arguments)}function Zt(w,p,g,E){return bt.apply(this,arguments)}function bt(){return(bt=(0,h.Z)(function*(w,p,g,E,T={}){const O=yield Se(w,p,g,E,T);return"mfaPendingCredential"in O&&ee(w,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function nn(w,p,g,E){const T=`${p}${g}?${E}`;return w.config.emulator?Gn(w.config,T):`${w.config.apiScheme}://${T}`}class yt{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,E)=>{this.timer=setTimeout(()=>E(Te(this.auth,"network-request-failed")),ce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hn(w,p,g){const E={appName:w.name};g.email&&(E.email=g.email),g.phoneNumber&&(E.phoneNumber=g.phoneNumber);const T=Te(w,p,E);return T.customData._tokenResponse=g,T}function Ln(){return(Ln=(0,h.Z)(function*(w,p){return Se(w,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Rn(){return(Rn=(0,h.Z)(function*(w,p){return Se(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Zn(){return(Zn=(0,h.Z)(function*(w,p){return Se(w,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Vn(w){if(w)try{const p=new Date(Number(w));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Gr(){return(Gr=(0,h.Z)(function*(w,p=!1){const g=(0,U.m9)(w),E=yield g.getIdToken(p),T=Ct(E);k(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const O="object"==typeof T.firebase?T.firebase:void 0,Q=O?.sign_in_provider;return{claims:T,token:E,authTime:Vn(wt(T.auth_time)),issuedAtTime:Vn(wt(T.iat)),expirationTime:Vn(wt(T.exp)),signInProvider:Q||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function wt(w){return 1e3*Number(w)}function Ct(w){const[p,g,E]=w.split(".");if(void 0===p||void 0===g||void 0===E)return ft("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,U.tV)(g);return T?JSON.parse(T):(ft("Failed to decode base64 JWT payload"),null)}catch(T){return ft("Caught error parsing JWT payload as JSON",T?.toString()),null}}function Rt(w,p){return mr.apply(this,arguments)}function mr(){return(mr=(0,h.Z)(function*(w,p,g=!1){if(g)return p;try{return yield p}catch(E){throw E instanceof U.ZR&&function fn({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(E)&&w.auth.currentUser===w&&(yield w.auth.signOut()),E}})).apply(this,arguments)}class Kt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,h.Z)(function*(){yield g.iteration()}),E)}iteration(){var p=this;return(0,h.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&p.schedule(!0))}p.schedule()})()}}class pn{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vn(this.lastLoginAt),this.creationTime=Vn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pr(w){return rn.apply(this,arguments)}function rn(){return rn=(0,h.Z)(function*(w){var p;const g=w.auth,E=yield w.getIdToken(),T=yield Rt(w,function sr(w,p){return Zn.apply(this,arguments)}(g,{idToken:E}));k(T?.users.length,g,"internal-error");const O=T.users[0];w._notifyReloadListener(O);const Q=null!==(p=O.providerUserInfo)&&void 0!==p&&p.length?function Dr(w){return w.map(p=>{var{providerId:g}=p,E=(0,Y._T)(p,["providerId"]);return{providerId:g,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(O.providerUserInfo):[],ge=function cn(w,p){return[...w.filter(E=>!p.some(T=>T.providerId===E.providerId)),...p]}(w.providerData,Q),Tt=!!w.isAnonymous&&!(w.email&&O.passwordHash||ge?.length),Dn={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ge,metadata:new pn(O.createdAt,O.lastLoginAt),isAnonymous:Tt};Object.assign(w,Dn)}),rn.apply(this,arguments)}function Xt(){return(Xt=(0,h.Z)(function*(w){const p=(0,U.m9)(w);yield Pr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function dr(){return(dr=(0,h.Z)(function*(w,p){const g=yield tt(w,{},(0,h.Z)(function*(){const E=(0,U.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:T,apiKey:O}=w.config,Q=nn(w,T,"/v1/token",`key=${O}`),ge=yield w._getAdditionalHeaders();return ge["Content-Type"]="application/x-www-form-urlencoded",ae.fetch()(Q,{method:"POST",headers:ge,body:E})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Un{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){k(p.idToken,"internal-error"),k(typeof p.idToken<"u","internal-error"),k(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Nt(w){const p=Ct(w);return k(p,"internal-error"),k(typeof p.exp<"u","internal-error"),k(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var E=this;return(0,h.Z)(function*(){return k(!E.accessToken||E.refreshToken,p,"user-token-expired"),g||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var E=this;return(0,h.Z)(function*(){const{accessToken:T,refreshToken:O,expiresIn:Q}=yield function or(w,p){return dr.apply(this,arguments)}(p,g);E.updateTokensAndExpiration(T,O,Number(Q))})()}updateTokensAndExpiration(p,g,E){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,g){const{refreshToken:E,accessToken:T,expirationTime:O}=g,Q=new Un;return E&&(k("string"==typeof E,"internal-error",{appName:p}),Q.refreshToken=E),T&&(k("string"==typeof T,"internal-error",{appName:p}),Q.accessToken=T),O&&(k("number"==typeof O,"internal-error",{appName:p}),Q.expirationTime=O),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Un,this.toJSON())}_performRefresh(){return te("not implemented")}}function me(w,p){k("string"==typeof w||typeof w>"u","internal-error",{appName:p})}class W{constructor(p){var{uid:g,auth:E,stsTokenManager:T}=p,O=(0,Y._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=E,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new pn(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,h.Z)(function*(){const E=yield Rt(g,g.stsTokenManager.getToken(g.auth,p));return k(E,g.auth,"internal-error"),g.accessToken!==E&&(g.accessToken=E,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),E})()}getIdTokenResult(p){return function tr(w){return Gr.apply(this,arguments)}(this,p)}reload(){return function fi(w){return Xt.apply(this,arguments)}(this)}_assign(p){this!==p&&(k(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const g=new W(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(p){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var E=this;return(0,h.Z)(function*(){let T=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),T=!0),g&&(yield Pr(E)),yield E.auth._persistUserIfCurrent(E),T&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,h.Z)(function*(){const g=yield p.getIdToken();return yield Rt(p,function jn(w,p){return Ln.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var E,T,O,Q,ge,Je,rt,Tt;const Dn=null!==(E=g.displayName)&&void 0!==E?E:void 0,mi=null!==(T=g.email)&&void 0!==T?T:void 0,hs=null!==(O=g.phoneNumber)&&void 0!==O?O:void 0,oo=null!==(Q=g.photoURL)&&void 0!==Q?Q:void 0,Xp=null!==(ge=g.tenantId)&&void 0!==ge?ge:void 0,oc=null!==(Je=g._redirectEventId)&&void 0!==Je?Je:void 0,_a=null!==(rt=g.createdAt)&&void 0!==rt?rt:void 0,wa=null!==(Tt=g.lastLoginAt)&&void 0!==Tt?Tt:void 0,{uid:Sl,emailVerified:ac,isAnonymous:fs,providerData:uu,stsTokenManager:ao}=g;k(Sl&&ao,p,"internal-error");const uc=Un.fromJSON(this.name,ao);k("string"==typeof Sl,p,"internal-error"),me(Dn,p.name),me(mi,p.name),k("boolean"==typeof ac,p,"internal-error"),k("boolean"==typeof fs,p,"internal-error"),me(hs,p.name),me(oo,p.name),me(Xp,p.name),me(oc,p.name),me(_a,p.name),me(wa,p.name);const jo=new W({uid:Sl,auth:p,email:mi,emailVerified:ac,displayName:Dn,isAnonymous:fs,photoURL:oo,phoneNumber:hs,tenantId:Xp,stsTokenManager:uc,createdAt:_a,lastLoginAt:wa});return uu&&Array.isArray(uu)&&(jo.providerData=uu.map(Al=>Object.assign({},Al))),oc&&(jo._redirectEventId=oc),jo}static _fromIdTokenResponse(p,g,E=!1){return(0,h.Z)(function*(){const T=new Un;T.updateFromServerResponse(g);const O=new W({uid:g.localId,auth:p,stsTokenManager:T,isAnonymous:E});return yield Pr(O),O})()}}const we=new Map;function He(w){De(w instanceof Function,"Expected a class definition");let p=we.get(w);return p?(De(p instanceof w,"Instance stored in cache mismatched with class"),p):(p=new w,we.set(w,p),p)}const Et=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(g,E){var T=this;return(0,h.Z)(function*(){T.storage[g]=E})()}_get(g){var E=this;return(0,h.Z)(function*(){const T=E.storage[g];return void 0===T?null:T})()}_remove(g){var E=this;return(0,h.Z)(function*(){delete E.storage[g]})()}_addListener(g,E){}_removeListener(g,E){}}return w.type="NONE",w})();function gn(w,p,g){return`firebase:${w}:${p}:${g}`}class G{constructor(p,g,E){this.persistence=p,this.auth=g,this.userKey=E;const{config:T,name:O}=this.auth;this.fullUserKey=gn(this.userKey,T.apiKey,O),this.fullPersistenceKey=gn("persistence",T.apiKey,O),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,h.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?W._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,h.Z)(function*(){if(g.persistence===p)return;const E=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,E?g.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,E="authUser"){return(0,h.Z)(function*(){if(!g.length)return new G(He(Et),p,E);const T=(yield Promise.all(g.map(function(){var rt=(0,h.Z)(function*(Tt){if(yield Tt._isAvailable())return Tt});return function(Tt){return rt.apply(this,arguments)}}()))).filter(rt=>rt);let O=T[0]||He(Et);const Q=gn(E,p.config.apiKey,p.name);let ge=null;for(const rt of g)try{const Tt=yield rt._get(Q);if(Tt){const Dn=W._fromJSON(p,Tt);rt!==O&&(ge=Dn),O=rt;break}}catch{}const Je=T.filter(rt=>rt._shouldAllowMigration);return O._shouldAllowMigration&&Je.length?(O=Je[0],ge&&(yield O._set(Q,ge.toJSON())),yield Promise.all(g.map(function(){var rt=(0,h.Z)(function*(Tt){if(Tt!==O)try{yield Tt._remove(Q)}catch{}});return function(Tt){return rt.apply(this,arguments)}}())),new G(O,p,E)):new G(O,p,E)})()}}function H(w){const p=w.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(X(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(P(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Qe(p))return"Blackberry";if(xt(p))return"Webos";if(R(p))return"Safari";if((p.includes("chrome/")||M(p))&&!p.includes("edge/"))return"Chrome";if(Ne(p))return"Android";{const E=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function P(w=(0,U.z$)()){return/firefox\//i.test(w)}function R(w=(0,U.z$)()){const p=w.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function M(w=(0,U.z$)()){return/crios\//i.test(w)}function X(w=(0,U.z$)()){return/iemobile/i.test(w)}function Ne(w=(0,U.z$)()){return/android/i.test(w)}function Qe(w=(0,U.z$)()){return/blackberry/i.test(w)}function xt(w=(0,U.z$)()){return/webos/i.test(w)}function ot(w=(0,U.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function mn(w=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function Yt(w=(0,U.z$)()){return ot(w)||Ne(w)||xt(w)||Qe(w)||/windows phone/i.test(w)||X(w)}function K(w,p=[]){let g;switch(w){case"Browser":g=H((0,U.z$)());break;case"Worker":g=`${H((0,U.z$)())}-${w}`;break;default:g=w}const E=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${N.SDK_VERSION}/${E}`}function nt(){return(nt=(0,h.Z)(function*(w){return(yield Se(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function at(w,p){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,h.Z)(function*(w,p){return Se(w,"GET","/v2/recaptchaConfig",oe(w,p))})).apply(this,arguments)}function lt(w){return void 0!==w&&void 0!==w.getResponse}function Tn(w){return void 0!==w&&void 0!==w.enterprise}class ti{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Zi(w){return new Promise((p,g)=>{const E=document.createElement("script");E.setAttribute("src",w),E.onload=p,E.onerror=T=>{const O=Te("internal-error");O.customData=T,g(O)},E.type="text/javascript",E.charset="UTF-8",function ni(){var w,p;return null!==(p=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==p?p:document}().appendChild(E)})}function Nr(w){return`__${w}${Math.floor(1e6*Math.random())}`}class ri{constructor(p){this.type="recaptcha-enterprise",this.auth=Xn(p)}verify(p="verify",g=!1){var E=this;return(0,h.Z)(function*(){function O(){return O=(0,h.Z)(function*(ge){if(!g){if(null==ge.tenantId&&null!=ge._agentRecaptchaConfig)return ge._agentRecaptchaConfig.siteKey;if(null!=ge.tenantId&&void 0!==ge._tenantRecaptchaConfigs[ge.tenantId])return ge._tenantRecaptchaConfigs[ge.tenantId].siteKey}return new Promise(function(){var Je=(0,h.Z)(function*(rt,Tt){at(ge,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Dn=>{if(void 0!==Dn.recaptchaKey){const mi=new ti(Dn);return null==ge.tenantId?ge._agentRecaptchaConfig=mi:ge._tenantRecaptchaConfigs[ge.tenantId]=mi,rt(mi.siteKey)}Tt(new Error("recaptcha Enterprise site key undefined"))}).catch(Dn=>{Tt(Dn)})});return function(rt,Tt){return Je.apply(this,arguments)}}())}),O.apply(this,arguments)}function Q(ge,Je,rt){const Tt=window.grecaptcha;Tn(Tt)?Tt.enterprise.ready(()=>{Tt.enterprise.execute(ge,{action:p}).then(Dn=>{Je(Dn)}).catch(()=>{Je("NO_RECAPTCHA")})}):rt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ge,Je)=>{(function T(ge){return O.apply(this,arguments)})(E.auth).then(rt=>{if(!g&&Tn(window.grecaptcha))Q(rt,ge,Je);else{if(typeof window>"u")return void Je(new Error("RecaptchaVerifier is only supported in browser"));Zi("https://www.google.com/recaptcha/enterprise.js?render="+rt).then(()=>{Q(rt,ge,Je)}).catch(Tt=>{Je(Tt)})}}).catch(rt=>{Je(rt)})})})()}}function pi(w,p,g){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,h.Z)(function*(w,p,g,E=!1){const T=new ri(w);let O;try{O=yield T.verify(g)}catch{O=yield T.verify(g,!0)}const Q=Object.assign({},p);return Object.assign(Q,E?{captchaResp:O}:{captchaResponse:O}),Object.assign(Q,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Q,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Q})).apply(this,arguments)}class _s{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const E=O=>new Promise((Q,ge)=>{try{Q(p(O))}catch(Je){ge(Je)}});E.onAbort=g,this.queue.push(E);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,h.Z)(function*(){if(g.auth.currentUser===p)return;const E=[];try{for(const T of g.queue)yield T(p),T.onAbort&&E.push(T.onAbort)}catch(T){E.reverse();for(const O of E)try{O()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}class Vs{constructor(p,g,E,T){this.app=p,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=E,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ki(this),this.idTokenSubscription=new Ki(this),this.beforeStateQueue=new _s(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ke,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(p,g){var E=this;return g&&(this._popupRedirectResolver=He(g)),this._initializationPromise=this.queue((0,h.Z)(function*(){var T,O;if(!E._deleted&&(E.persistenceManager=yield G.create(E,p),!E._deleted)){if(null!==(T=E._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(g),E.lastNotifiedUid=(null===(O=E.currentUser)||void 0===O?void 0:O.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,h.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,h.Z)(function*(){var E;const T=yield g.assertedPersistence.getCurrentUser();let O=T,Q=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ge=null===(E=g.redirectUser)||void 0===E?void 0:E._redirectEventId,Je=O?._redirectEventId,rt=yield g.tryRedirectSignIn(p);(!ge||ge===Je)&&rt?.user&&(O=rt.user,Q=!0)}if(!O)return g.directlySetCurrentUser(null);if(!O._redirectEventId){if(Q)try{yield g.beforeStateQueue.runMiddleware(O)}catch(ge){O=T,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ge))}return O?g.reloadAndSetCurrentUserOrClear(O):g.directlySetCurrentUser(null)}return k(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===O._redirectEventId?g.directlySetCurrentUser(O):g.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(p){var g=this;return(0,h.Z)(function*(){let E=null;try{E=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,h.Z)(function*(){try{yield Pr(p)}catch(E){if("auth/network-request-failed"!==E?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function dn(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var p=this;return(0,h.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,h.Z)(function*(){const E=p?(0,U.m9)(p):null;return E&&k(E.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(E&&E._clone(g))})()}_updateCurrentUser(p,g=!1){var E=this;return(0,h.Z)(function*(){if(!E._deleted)return p&&k(E.tenantId===p.tenantId,E,"tenant-id-mismatch"),g||(yield E.beforeStateQueue.runMiddleware(p)),E.queue((0,h.Z)(function*(){yield E.directlySetCurrentUser(p),E.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,h.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,h.Z)(function*(){yield g.assertedPersistence.setPersistence(He(p))}))}initializeRecaptchaConfig(){var p=this;return(0,h.Z)(function*(){const g=yield at(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new ti(g);null==p.tenantId?p._agentRecaptchaConfig=E:p._tenantRecaptchaConfigs[p.tenantId]=E,E.emailPasswordEnabled&&new ri(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new U.LL("auth","Firebase",p())}onAuthStateChanged(p,g,E){return this.registerStateListener(this.authStateSubscription,p,g,E)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,E){return this.registerStateListener(this.idTokenSubscription,p,g,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var E=this;return(0,h.Z)(function*(){const T=yield E.getOrInitRedirectPersistenceManager(g);return null===p?T.removeCurrentUser():T.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,h.Z)(function*(){if(!g.redirectPersistenceManager){const E=p&&He(p)||g._popupRedirectResolver;k(E,g,"argument-error"),g.redirectPersistenceManager=yield G.create(g,[He(E._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,h.Z)(function*(){var E,T;return g._isInitialized&&(yield g.queue((0,h.Z)(function*(){}))),(null===(E=g._currentUser)||void 0===E?void 0:E._redirectEventId)===p?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,h.Z)(function*(){if(p===g.currentUser)return g.queue((0,h.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,E,T){if(this._deleted)return()=>{};const O="function"==typeof g?g:g.next.bind(g),Q=this._isInitialized?Promise.resolve():this._initializationPromise;return k(Q,this,"internal-error"),Q.then(()=>O(this.currentUser)),"function"==typeof g?p.addObserver(g,E,T):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,h.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=K(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,h.Z)(function*(){var g;const E={"X-Client-Version":p.clientVersion};p.app.options.appId&&(E["X-Firebase-gmpid"]=p.app.options.appId);const T=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();T&&(E["X-Firebase-Client"]=T);const O=yield p._getAppCheckToken();return O&&(E["X-Firebase-AppCheck"]=O),E})()}_getAppCheckToken(){var p=this;return(0,h.Z)(function*(){var g;const E=yield null===(g=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return E?.error&&function ht(w,...p){Ae.logLevel<=se.in.WARN&&Ae.warn(`Auth (${N.SDK_VERSION}): ${w}`,...p)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function Xn(w){return(0,U.m9)(w)}class Ki{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,U.ne)(g=>this.observer=g)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Co(w,p,g){const E=Xn(w);k(E._canInitEmulator,E,"emulator-config-failed"),k(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const T=!!g?.disableWarnings,O=zr(p),{host:Q,port:ge}=function Ua(w){const p=zr(w),g=/(\/\/)?([^?#/]+)/.exec(w.substr(p.length));if(!g)return{host:"",port:null};const E=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(E);if(T){const O=T[1];return{host:O,port:ua(E.substr(O.length+1))}}{const[O,Q]=E.split(":");return{host:O,port:ua(Q)}}}(p);E.config.emulator={url:`${O}//${Q}${null===ge?"":`:${ge}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:Q,port:ge,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function zu(){function w(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function zr(w){const p=w.indexOf(":");return p<0?"":w.substr(0,p+1)}function ua(w){if(!w)return null;const p=Number(w);return isNaN(p)?null:p}class ${constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return te("not implemented")}_getIdTokenResponse(p){return te("not implemented")}_linkToIdToken(p,g){return te("not implemented")}_getReauthenticationResolver(p){return te("not implemented")}}function re(w,p){return xe.apply(this,arguments)}function xe(){return(xe=(0,h.Z)(function*(w,p){return Se(w,"POST","/v1/accounts:resetPassword",oe(w,p))})).apply(this,arguments)}function gt(w,p){return En.apply(this,arguments)}function En(){return(En=(0,h.Z)(function*(w,p){return Se(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function en(){return(en=(0,h.Z)(function*(w,p){return Se(w,"POST","/v1/accounts:update",oe(w,p))})).apply(this,arguments)}function nr(w,p){return hr.apply(this,arguments)}function hr(){return(hr=(0,h.Z)(function*(w,p){return Zt(w,"POST","/v1/accounts:signInWithPassword",oe(w,p))})).apply(this,arguments)}function Rr(w,p){return us.apply(this,arguments)}function us(){return(us=(0,h.Z)(function*(w,p){return Se(w,"POST","/v1/accounts:sendOobCode",oe(w,p))})).apply(this,arguments)}function qu(){return(qu=(0,h.Z)(function*(w,p){return Rr(w,p)})).apply(this,arguments)}function Ba(w,p){return ja.apply(this,arguments)}function ja(){return(ja=(0,h.Z)(function*(w,p){return Rr(w,p)})).apply(this,arguments)}function $a(w,p){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,h.Z)(function*(w,p){return Rr(w,p)})).apply(this,arguments)}function qr(){return(qr=(0,h.Z)(function*(w,p){return Rr(w,p)})).apply(this,arguments)}function ii(){return(ii=(0,h.Z)(function*(w,p){return Zt(w,"POST","/v1/accounts:signInWithEmailLink",oe(w,p))})).apply(this,arguments)}function Ha(){return(Ha=(0,h.Z)(function*(w,p){return Zt(w,"POST","/v1/accounts:signInWithEmailLink",oe(w,p))})).apply(this,arguments)}class Us extends ${constructor(p,g,E,T=null){super("password",E),this._email=p,this._password=g,this._tenantId=T}static _fromEmailAndPassword(p,g){return new Us(p,g,"password")}static _fromEmailAndCode(p,g,E=null){return new Us(p,g,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,h.Z)(function*(){var E;switch(g.signInMethod){case"password":const T={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=p._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const O=yield pi(p,T,"signInWithPassword");return nr(p,O)}return nr(p,T).catch(function(){var O=(0,h.Z)(function*(Q){if("auth/missing-recaptcha-token"===Q.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ge=yield pi(p,T,"signInWithPassword");return nr(p,ge)}return Promise.reject(Q)});return function(Q){return O.apply(this,arguments)}}());case"emailLink":return function Do(w,p){return ii.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:ee(p,"internal-error")}})()}_linkToIdToken(p,g){var E=this;return(0,h.Z)(function*(){switch(E.signInMethod){case"password":return gt(p,{idToken:g,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Jc(w,p){return Ha.apply(this,arguments)}(p,{idToken:g,email:E._email,oobCode:E._password});default:ee(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Qi(w,p){return la.apply(this,arguments)}function la(){return(la=(0,h.Z)(function*(w,p){return Zt(w,"POST","/v1/accounts:signInWithIdp",oe(w,p))})).apply(this,arguments)}class Xe extends ${constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Xe(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):ee("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:T}=g,O=(0,Y._T)(g,["providerId","signInMethod"]);if(!E||!T)return null;const Q=new Xe(E,T);return Q.idToken=O.idToken||void 0,Q.accessToken=O.accessToken||void 0,Q.secret=O.secret,Q.nonce=O.nonce,Q.pendingToken=O.pendingToken||null,Q}_getIdTokenResponse(p){return Qi(p,this.buildRequest())}_linkToIdToken(p,g){const E=this.buildRequest();return E.idToken=g,Qi(p,E)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Qi(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,U.xO)(g)}return p}}function Bn(){return(Bn=(0,h.Z)(function*(w,p){return Se(w,"POST","/v1/accounts:sendVerificationCode",oe(w,p))})).apply(this,arguments)}function Bs(){return(Bs=(0,h.Z)(function*(w,p){return Zt(w,"POST","/v1/accounts:signInWithPhoneNumber",oe(w,p))})).apply(this,arguments)}function bo(){return(bo=(0,h.Z)(function*(w,p){const g=yield Zt(w,"POST","/v1/accounts:signInWithPhoneNumber",oe(w,p));if(g.temporaryProof)throw hn(w,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const fr={USER_NOT_FOUND:"user-not-found"};function Ei(){return(Ei=(0,h.Z)(function*(w,p){return Zt(w,"POST","/v1/accounts:signInWithPhoneNumber",oe(w,Object.assign(Object.assign({},p),{operation:"REAUTH"})),fr)})).apply(this,arguments)}class kt extends ${constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new kt({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new kt({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function si(w,p){return Bs.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function Wr(w,p){return bo.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function ws(w,p){return Ei.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:E,verificationCode:T}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:E,code:T}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:E,phoneNumber:T,temporaryProof:O}=p;return E||g||T||O?new kt({verificationId:g,verificationCode:E,phoneNumber:T,temporaryProof:O}):null}}class br{constructor(p){var g,E,T,O,Q,ge;const Je=(0,U.zd)((0,U.pd)(p)),rt=null!==(g=Je.apiKey)&&void 0!==g?g:null,Tt=null!==(E=Je.oobCode)&&void 0!==E?E:null,Dn=function da(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Je.mode)&&void 0!==T?T:null);k(rt&&Tt&&Dn,"argument-error"),this.apiKey=rt,this.operation=Dn,this.code=Tt,this.continueUrl=null!==(O=Je.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(Q=Je.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(ge=Je.tenantId)&&void 0!==ge?ge:null}static parseLink(p){const g=function th(w){const p=(0,U.zd)((0,U.pd)(w)).link,g=p?(0,U.zd)((0,U.pd)(p)).deep_link_id:null,E=(0,U.zd)((0,U.pd)(w)).deep_link_id;return(E?(0,U.zd)((0,U.pd)(E)).link:null)||E||g||p||w}(p);try{return new br(g)}catch{return null}}}let Ui=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(g,E){return Us._fromEmailAndPassword(g,E)}static credentialWithLink(g,E){const T=br.parseLink(E);return k(T,"argument-error"),Us._fromEmailAndCode(g,T.code,T.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Bi{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class gi extends Bi{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class cs extends gi{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return k("providerId"in g&&"signInMethod"in g,"argument-error"),Xe._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return k(p.idToken||p.accessToken,"argument-error"),Xe._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return cs.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return cs.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:E,oauthTokenSecret:T,pendingToken:O,nonce:Q,providerId:ge}=p;if(!E&&!T&&!g&&!O||!ge)return null;try{return new cs(ge)._credential({idToken:g,accessToken:E,nonce:Q,pendingToken:O})}catch{return null}}}let Xc=(()=>{class w extends gi{constructor(){super("facebook.com")}static credential(g){return Xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return w.credential(g.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Ys=(()=>{class w extends gi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,E){return Xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:E})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:E,oauthAccessToken:T}=g;if(!E&&!T)return null;try{return w.credential(E,T)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Es=(()=>{class w extends gi{constructor(){super("github.com")}static credential(g){return Xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return w.credential(g.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class F extends ${constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Qi(p,this.buildRequest())}_linkToIdToken(p,g){const E=this.buildRequest();return E.idToken=g,Qi(p,E)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Qi(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:T,pendingToken:O}=g;return E&&T&&O&&E===T?new F(E,O):null}static _create(p,g){return new F(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class pe extends Bi{constructor(p){k(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return pe.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return pe.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=F.fromJSON(p);return k(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:E}=p;if(!g||!E)return null;try{return F._create(E,g)}catch{return null}}}let Pe=(()=>{class w extends gi{constructor(){super("twitter.com")}static credential(g,E){return Xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:E})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:E,oauthTokenSecret:T}=g;if(!E||!T)return null;try{return w.credential(E,T)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function We(w,p){return et.apply(this,arguments)}function et(){return(et=(0,h.Z)(function*(w,p){return Zt(w,"POST","/v1/accounts:signUp",oe(w,p))})).apply(this,arguments)}class Dt{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,E,T=!1){return(0,h.Z)(function*(){const O=yield W._fromIdTokenResponse(p,E,T),Q=Ft(E);return new Dt({user:O,providerId:Q,_tokenResponse:E,operationType:g})})()}static _forOperation(p,g,E){return(0,h.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const T=Ft(E);return new Dt({user:p,providerId:T,_tokenResponse:E,operationType:g})})()}}function Ft(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Wt(w){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,h.Z)(function*(w){var p;const g=Xn(w);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new Dt({user:g.currentUser,providerId:null,operationType:"signIn"});const E=yield We(g,{returnSecureToken:!0}),T=yield Dt._fromIdTokenResponse(g,"signIn",E,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class Ur extends U.ZR{constructor(p,g,E,T){var O;super(g.code,g.message),this.operationType=E,this.user=T,Object.setPrototypeOf(this,Ur.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:g.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,g,E,T){return new Ur(p,g,E,T)}}function Yn(w,p,g,E){return("reauthenticate"===p?g._getReauthenticationResolver(w):g._getIdTokenResponse(w)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Ur._fromErrorAndOperation(w,O,p,E):O})}function Mn(w){return new Set(w.map(({providerId:p})=>p).filter(p=>!!p))}function To(w,p){return Ji.apply(this,arguments)}function Ji(){return Ji=(0,h.Z)(function*(w,p){const g=(0,U.m9)(w);yield Ii(!0,g,p);const{providerUserInfo:E}=yield function _n(w,p){return Rn.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),T=Mn(E||[]);return g.providerData=g.providerData.filter(O=>T.has(O.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Ji.apply(this,arguments)}function Is(w,p){return ar.apply(this,arguments)}function ar(){return(ar=(0,h.Z)(function*(w,p,g=!1){const E=yield Rt(w,p._linkToIdToken(w.auth,yield w.getIdToken()),g);return Dt._forOperation(w,"link",E)})).apply(this,arguments)}function Ii(w,p,g){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,h.Z)(function*(w,p,g){yield Pr(p);const T=!1===w?"provider-already-linked":"no-such-provider";k(Mn(p.providerData).has(g)===w,p.auth,T)})).apply(this,arguments)}function vp(w,p){return Oy.apply(this,arguments)}function Oy(){return(Oy=(0,h.Z)(function*(w,p,g=!1){const{auth:E}=w,T="reauthenticate";try{const O=yield Rt(w,Yn(E,T,p,w),g);k(O.idToken,E,"internal-error");const Q=Ct(O.idToken);k(Q,E,"internal-error");const{sub:ge}=Q;return k(w.uid===ge,E,"user-mismatch"),Dt._forOperation(w,T,O)}catch(O){throw"auth/user-not-found"===O?.code&&ee(E,"user-mismatch"),O}})).apply(this,arguments)}function Py(w,p){return nh.apply(this,arguments)}function nh(){return(nh=(0,h.Z)(function*(w,p,g=!1){const E="signIn",T=yield Yn(w,E,p),O=yield Dt._fromIdTokenResponse(w,E,T);return g||(yield w._updateCurrentUser(O.user)),O})).apply(this,arguments)}function rh(w,p){return _p.apply(this,arguments)}function _p(){return(_p=(0,h.Z)(function*(w,p){return Py(Xn(w),p)})).apply(this,arguments)}function pE(w,p){return Ny.apply(this,arguments)}function Ny(){return(Ny=(0,h.Z)(function*(w,p){const g=(0,U.m9)(w);return yield Ii(!1,g,p.providerId),Is(g,p)})).apply(this,arguments)}function vr(w,p){return Ry.apply(this,arguments)}function Ry(){return(Ry=(0,h.Z)(function*(w,p){return vp((0,U.m9)(w),p)})).apply(this,arguments)}function ky(){return(ky=(0,h.Z)(function*(w,p){return Zt(w,"POST","/v1/accounts:signInWithCustomToken",oe(w,p))})).apply(this,arguments)}function ET(w,p){return Fy.apply(this,arguments)}function Fy(){return Fy=(0,h.Z)(function*(w,p){const g=Xn(w),E=yield function wT(w,p){return ky.apply(this,arguments)}(g,{token:p,returnSecureToken:!0}),T=yield Dt._fromIdTokenResponse(g,"signIn",E);return yield g._updateCurrentUser(T.user),T}),Fy.apply(this,arguments)}class ih{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Ly._fromServerResponse(p,g):"totpInfo"in g?el._fromServerResponse(p,g):ee(p,"internal-error")}}class Ly extends ih{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Ly(g)}}class el extends ih{constructor(p){super("totp",p)}static _fromServerResponse(p,g){return new el(g)}}function za(w,p,g){var E;k((null===(E=g.url)||void 0===E?void 0:E.length)>0,w,"invalid-continue-uri"),k(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(k(g.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(k(g.android.packageName.length>0,w,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function IT(w,p,g){return Vy.apply(this,arguments)}function Vy(){return Vy=(0,h.Z)(function*(w,p,g){var E;const T=Xn(w),O={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=T._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const Q=yield pi(T,O,"getOobCode",!0);g&&za(T,Q,g),yield Ba(T,Q)}else g&&za(T,O,g),yield Ba(T,O).catch(function(){var Q=(0,h.Z)(function*(ge){if("auth/missing-recaptcha-token"!==ge.code)return Promise.reject(ge);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Je=yield pi(T,O,"getOobCode",!0);g&&za(T,Je,g),yield Ba(T,Je)}});return function(ge){return Q.apply(this,arguments)}}())}),Vy.apply(this,arguments)}function Uy(w,p,g){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,h.Z)(function*(w,p,g){yield re((0,U.m9)(w),{oobCode:p,newPassword:g})})).apply(this,arguments)}function So(w,p){return tl.apply(this,arguments)}function tl(){return tl=(0,h.Z)(function*(w,p){yield function In(w,p){return en.apply(this,arguments)}((0,U.m9)(w),{oobCode:p})}),tl.apply(this,arguments)}function Wu(w,p){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,h.Z)(function*(w,p){const g=(0,U.m9)(w),E=yield re(g,{oobCode:p}),T=E.requestType;switch(k(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":k(E.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":k(E.mfaInfo,g,"internal-error");default:k(E.email,g,"internal-error")}let O=null;return E.mfaInfo&&(O=ih._fromServerResponse(Xn(g),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:O},operation:T}})).apply(this,arguments)}function sh(w,p){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,h.Z)(function*(w,p){const{data:g}=yield Wu((0,U.m9)(w),p);return g.email})).apply(this,arguments)}function oh(w,p,g){return ah.apply(this,arguments)}function ah(){return ah=(0,h.Z)(function*(w,p,g){var E;const T=Xn(w),O={returnSecureToken:!0,email:p,password:g,clientType:"CLIENT_TYPE_WEB"};let Q;if(null!==(E=T._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const rt=yield pi(T,O,"signUpPassword");Q=We(T,rt)}else Q=We(T,O).catch(function(){var rt=(0,h.Z)(function*(Tt){if("auth/missing-recaptcha-token"===Tt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Dn=yield pi(T,O,"signUpPassword");return We(T,Dn)}return Promise.reject(Tt)});return function(Tt){return rt.apply(this,arguments)}}());const ge=yield Q.catch(rt=>Promise.reject(rt)),Je=yield Dt._fromIdTokenResponse(T,"signIn",ge);return yield T._updateCurrentUser(Je.user),Je}),ah.apply(this,arguments)}function By(w,p,g){return rh((0,U.m9)(w),Ui.credential(p,g))}function wp(w,p,g){return qa.apply(this,arguments)}function qa(){return qa=(0,h.Z)(function*(w,p,g){var E;const T=Xn(w),O={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function Q(ge,Je){k(Je.handleCodeInApp,T,"argument-error"),Je&&za(T,ge,Je)}if(null!==(E=T._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const ge=yield pi(T,O,"getOobCode",!0);Q(ge,g),yield $a(T,ge)}else Q(O,g),yield $a(T,O).catch(function(){var ge=(0,h.Z)(function*(Je){if("auth/missing-recaptcha-token"!==Je.code)return Promise.reject(Je);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const rt=yield pi(T,O,"getOobCode",!0);Q(rt,g),yield $a(T,rt)}});return function(Je){return ge.apply(this,arguments)}}())}),qa.apply(this,arguments)}function jy(w,p){const g=br.parseLink(p);return"EMAIL_SIGNIN"===g?.operation}function Ep(w,p,g){return nl.apply(this,arguments)}function nl(){return(nl=(0,h.Z)(function*(w,p,g){const E=(0,U.m9)(w),T=Ui.credentialWithLink(p,g||st());return k(T._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),rh(E,T)})).apply(this,arguments)}function uh(){return(uh=(0,h.Z)(function*(w,p){return Se(w,"POST","/v1/accounts:createAuthUri",oe(w,p))})).apply(this,arguments)}function Hy(w,p){return Zu.apply(this,arguments)}function Zu(){return Zu=(0,h.Z)(function*(w,p){const E={identifier:p,continueUri:Lt()?st():"http://localhost"},{signinMethods:T}=yield function $y(w,p){return uh.apply(this,arguments)}((0,U.m9)(w),E);return T||[]}),Zu.apply(this,arguments)}function rl(w,p){return Ao.apply(this,arguments)}function Ao(){return Ao=(0,h.Z)(function*(w,p){const g=(0,U.m9)(w),T={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};p&&za(g.auth,T,p);const{email:O}=yield function ca(w,p){return qu.apply(this,arguments)}(g.auth,T);O!==w.email&&(yield w.reload())}),Ao.apply(this,arguments)}function Gy(w,p,g){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,h.Z)(function*(w,p,g){const E=(0,U.m9)(w),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:p};g&&za(E.auth,O,g);const{email:Q}=yield function Vr(w,p){return qr.apply(this,arguments)}(E.auth,O);Q!==w.email&&(yield w.reload())}),Ip.apply(this,arguments)}function zy(){return(zy=(0,h.Z)(function*(w,p){return Se(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function mE(w,p){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,h.Z)(function*(w,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const E=(0,U.m9)(w),O={idToken:yield E.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},Q=yield Rt(E,function gE(w,p){return zy.apply(this,arguments)}(E.auth,O));E.displayName=Q.displayName||null,E.photoURL=Q.photoUrl||null;const ge=E.providerData.find(({providerId:Je})=>"password"===Je);ge&&(ge.displayName=E.displayName,ge.photoURL=E.photoURL),yield E._updateTokensIfNecessary(Q)}),Cp.apply(this,arguments)}function CT(w,p){return ch((0,U.m9)(w),p,null)}function qy(w,p){return ch((0,U.m9)(w),null,p)}function ch(w,p,g){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,h.Z)(function*(w,p,g){const{auth:E}=w,O={idToken:yield w.getIdToken(),returnSecureToken:!0};p&&(O.email=p),g&&(O.password=g);const Q=yield Rt(w,gt(E,O));yield w._updateTokensIfNecessary(Q,!0)})).apply(this,arguments)}class il{constructor(p,g,E={}){this.isNewUser=p,this.providerId=g,this.profile=E}}class yE extends il{constructor(p,g,E,T){super(p,g,E),this.username=T}}class sl extends il{constructor(p,g){super(p,"facebook.com",g)}}class Wy extends yE{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Tp extends il{constructor(p,g){super(p,"google.com",g)}}class lh extends yE{constructor(p,g,E){super(p,"twitter.com",g,E)}}function Ku(w){const{user:p,_tokenResponse:g}=w;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function bp(w){var p,g;if(!w)return null;const{providerId:E}=w,T=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},O=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!E&&w?.idToken){const Q=null===(g=null===(p=Ct(w.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(Q)return new il(O,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!E)return null;switch(E){case"facebook.com":return new sl(O,T);case"github.com":return new Wy(O,T);case"google.com":return new Tp(O,T);case"twitter.com":return new lh(O,T,w.screenName||null);case"custom":case"anonymous":return new il(O,null);default:return new il(O,E,T)}}(g)}class Js{constructor(p,g,E){this.type=p,this.credential=g,this.auth=E}static _fromIdtoken(p,g){return new Js("enroll",p,g)}static _fromMfaPendingCredential(p){return new Js("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,E;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Js._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(E=p.multiFactorSession)&&void 0!==E&&E.idToken)return Js._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Wa{constructor(p,g,E){this.session=p,this.hints=g,this.signInResolver=E}static _fromError(p,g){const E=Xn(p),T=g.customData._serverResponse,O=(T.mfaInfo||[]).map(ge=>ih._fromServerResponse(E,ge));k(T.mfaPendingCredential,E,"internal-error");const Q=Js._fromMfaPendingCredential(T.mfaPendingCredential);return new Wa(Q,O,function(){var ge=(0,h.Z)(function*(Je){const rt=yield Je._process(E,Q);delete T.mfaInfo,delete T.mfaPendingCredential;const Tt=Object.assign(Object.assign({},T),{idToken:rt.idToken,refreshToken:rt.refreshToken});switch(g.operationType){case"signIn":const Dn=yield Dt._fromIdTokenResponse(E,g.operationType,Tt);return yield E._updateCurrentUser(Dn.user),Dn;case"reauthenticate":return k(g.user,E,"internal-error"),Dt._forOperation(g.user,g.operationType,Tt);default:ee(E,"internal-error")}});return function(Je){return ge.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,h.Z)(function*(){return g.signInResolver(p)})()}}function ph(w,p){var g;const E=(0,U.m9)(w),T=p;return k(p.customData.operationType,E,"argument-error"),k(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,E,"argument-error"),Wa._fromError(E,T)}class al{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(E=>ih._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new al(p)}getSession(){var p=this;return(0,h.Z)(function*(){return Js._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var E=this;return(0,h.Z)(function*(){const T=p,O=yield E.getSession(),Q=yield Rt(E.user,T._process(E.user.auth,O,g));return yield E.user._updateTokensIfNecessary(Q),E.user.reload()})()}unenroll(p){var g=this;return(0,h.Z)(function*(){const E="string"==typeof p?p:p.uid,T=yield g.user.getIdToken();try{const O=yield Rt(g.user,function Ap(w,p){return Se(w,"POST","/v2/accounts/mfaEnrollment:withdraw",oe(w,p))}(g.user.auth,{idToken:T,mfaEnrollmentId:E}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Q})=>Q!==E),yield g.user._updateTokensIfNecessary(O),yield g.user.reload()}catch(O){throw O}})()}}const $n=new WeakMap;function ul(w){const p=(0,U.m9)(w);return $n.has(p)||$n.set(p,al._fromUser(p)),$n.get(p)}const Xs="__sak";class Di{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Xs,"1"),this.storage.removeItem(Xs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const yh=(()=>{class w extends Di{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,E)=>this.onStorageEvent(g,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function EE(){const w=(0,U.z$)();return R(w)||ot(w)}()&&function yr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Yt(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const E of Object.keys(this.listeners)){const T=this.storage.getItem(E),O=this.localCache[E];T!==O&&g(E,O,T)}}onStorageEvent(g,E=!1){if(!g.key)return void this.forAllChangedKeys((ge,Je,rt)=>{this.notifyListeners(ge,rt)});const T=g.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ge=this.storage.getItem(T);if(g.newValue!==ge)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!E)return}const O=()=>{const ge=this.storage.getItem(T);!E&&this.localCache[T]===ge||this.notifyListeners(T,ge)},Q=this.storage.getItem(T);!function wn(){return(0,U.w1)()&&10===document.documentMode}()||Q===g.newValue||g.newValue===g.oldValue?O():setTimeout(O,10)}notifyListeners(g,E){this.localCache[g]=E;const T=this.listeners[g];if(T)for(const O of Array.from(T))O(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,E,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:E,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,E){var T=()=>super._set,O=this;return(0,h.Z)(function*(){yield T().call(O,g,E),O.localCache[g]=JSON.stringify(E)})()}_get(g){var E=()=>super._get,T=this;return(0,h.Z)(function*(){const O=yield E().call(T,g);return T.localCache[g]=JSON.stringify(O),O})()}_remove(g){var E=()=>super._remove,T=this;return(0,h.Z)(function*(){yield E().call(T,g),delete T.localCache[g]})()}}return w.type="LOCAL",w})(),cl=(()=>{class w extends Di{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,E){}_removeListener(g,E){}}return w.type="SESSION",w})();let Mp=(()=>{class w{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const E=this.receivers.find(O=>O.isListeningto(g));if(E)return E;const T=new w(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var E=this;return(0,h.Z)(function*(){const T=g,{eventId:O,eventType:Q,data:ge}=T.data,Je=E.handlersMap[Q];if(!Je?.size)return;T.ports[0].postMessage({status:"ack",eventId:O,eventType:Q});const rt=Array.from(Je).map(function(){var Dn=(0,h.Z)(function*(mi){return mi(T.origin,ge)});return function(mi){return Dn.apply(this,arguments)}}()),Tt=yield function Mo(w){return Promise.all(w.map(function(){var p=(0,h.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(E){return{fulfilled:!1,reason:E}}});return function(g){return p.apply(this,arguments)}}()))}(rt);T.ports[0].postMessage({status:"done",eventId:O,eventType:Q,response:Tt})})()}_subscribe(g,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(E)}_unsubscribe(g,E){this.handlersMap[g]&&E&&this.handlersMap[g].delete(E),(!E||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Yu(w="",p=10){let g="";for(let E=0;E<p;E++)g+=Math.floor(10*Math.random());return w+g}class Jy{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,E=50){var T=this;return(0,h.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let Q,ge;return new Promise((Je,rt)=>{const Tt=Yu("",20);O.port1.start();const Dn=setTimeout(()=>{rt(new Error("unsupported_event"))},E);ge={messageChannel:O,onMessage(mi){const hs=mi;if(hs.data.eventId===Tt)switch(hs.data.status){case"ack":clearTimeout(Dn),Q=setTimeout(()=>{rt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),Je(hs.data.response);break;default:clearTimeout(Dn),clearTimeout(Q),rt(new Error("invalid_response"))}}},T.handlers.add(ge),O.port1.addEventListener("message",ge.onMessage),T.target.postMessage({eventType:p,eventId:Tt,data:g},[O.port2])}).finally(()=>{ge&&T.removeMessageHandler(ge)})})()}}function kr(){return window}function xp(){return typeof kr().WorkerGlobalScope<"u"&&"function"==typeof kr().importScripts}function ll(){return(ll=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Pp="firebaseLocalStorageDb",Ka="firebaseLocalStorage",xo="fbase_key";class Qu{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function _h(w,p){return w.transaction([Ka],p?"readwrite":"readonly").objectStore(Ka)}function Np(){const w=indexedDB.open(Pp,1);return new Promise((p,g)=>{w.addEventListener("error",()=>{g(w.error)}),w.addEventListener("upgradeneeded",()=>{const E=w.result;try{E.createObjectStore(Ka,{keyPath:xo})}catch(T){g(T)}}),w.addEventListener("success",(0,h.Z)(function*(){const E=w.result;E.objectStoreNames.contains(Ka)?p(E):(E.close(),yield function ev(){const w=indexedDB.deleteDatabase(Pp);return new Qu(w).toPromise()}(),p(yield Np()))}))})}function Rp(w,p,g){return Le.apply(this,arguments)}function Le(){return(Le=(0,h.Z)(function*(w,p,g){const E=_h(w,!0).put({[xo]:p,value:g});return new Qu(E).toPromise()})).apply(this,arguments)}function Cs(){return(Cs=(0,h.Z)(function*(w,p){const g=_h(w,!1).get(p),E=yield new Qu(g).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function wh(w,p){const g=_h(w,!0).delete(p);return new Qu(g).toPromise()}const $s=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,h.Z)(function*(){return g.db||(g.db=yield Np()),g.db})()}_withRetries(g){var E=this;return(0,h.Z)(function*(){let T=0;for(;;)try{const O=yield E._openDb();return yield g(O)}catch(O){if(T++>3)throw O;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,h.Z)(function*(){return xp()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,h.Z)(function*(){g.receiver=Mp._getInstance(function Op(){return xp()?self:null}()),g.receiver._subscribe("keyChanged",function(){var E=(0,h.Z)(function*(T,O){return{keyProcessed:(yield g._poll()).includes(O.key)}});return function(T,O){return E.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var E=(0,h.Z)(function*(T,O){return["keyChanged"]});return function(T,O){return E.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,h.Z)(function*(){var E,T;if(g.activeServiceWorker=yield function zt(){return ll.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Jy(g.activeServiceWorker);const O=yield g.sender._send("ping",{},800);O&&null!==(E=O[0])&&void 0!==E&&E.fulfilled&&null!==(T=O[0])&&void 0!==T&&T.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var E=this;return(0,h.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function CE(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:g},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Np();return yield Rp(g,Xs,"1"),yield wh(g,Xs),!0}catch{}return!1})()}_withPendingWrite(g){var E=this;return(0,h.Z)(function*(){E.pendingWrites++;try{yield g()}finally{E.pendingWrites--}})()}_set(g,E){var T=this;return(0,h.Z)(function*(){return T._withPendingWrite((0,h.Z)(function*(){return yield T._withRetries(O=>Rp(O,g,E)),T.localCache[g]=E,T.notifyServiceWorker(g)}))})()}_get(g){var E=this;return(0,h.Z)(function*(){const T=yield E._withRetries(O=>function Sn(w,p){return Cs.apply(this,arguments)}(O,g));return E.localCache[g]=T,T})()}_remove(g){var E=this;return(0,h.Z)(function*(){return E._withPendingWrite((0,h.Z)(function*(){return yield E._withRetries(T=>wh(T,g)),delete E.localCache[g],E.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,h.Z)(function*(){const E=yield g._withRetries(Q=>{const ge=_h(Q,!1).getAll();return new Qu(ge).toPromise()});if(!E)return[];if(0!==g.pendingWrites)return[];const T=[],O=new Set;for(const{fbase_key:Q,value:ge}of E)O.add(Q),JSON.stringify(g.localCache[Q])!==JSON.stringify(ge)&&(g.notifyListeners(Q,ge),T.push(Q));for(const Q of Object.keys(g.localCache))g.localCache[Q]&&!O.has(Q)&&(g.notifyListeners(Q,null),T.push(Q));return T})()}notifyListeners(g,E){this.localCache[g]=E;const T=this.listeners[g];if(T)for(const O of Array.from(T))O(E)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),ai=1e12;class Oo{constructor(p){this.auth=p,this.counter=ai,this._widgets=new Map}render(p,g){const E=this.counter;return this._widgets.set(E,new rv(p,this.auth.name,g||{})),this.counter++,E}reset(p){var g;const E=p||ai;null===(g=this._widgets.get(E))||void 0===g||g.delete(),this._widgets.delete(E)}getResponse(p){var g;return(null===(g=this._widgets.get(p||ai))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,h.Z)(function*(){var E;return null===(E=g._widgets.get(p||ai))||void 0===E||E.execute(),""})()}}class rv{constructor(p,g,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof p?document.getElementById(p):p;k(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Xu(w){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<w;E++)p.push(g.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Hs=Nr("rcb"),DE=new Jt(3e4,6e4);class Vp{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=kr().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return k(function bE(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(g),p,"argument-error"),this.shouldResolveImmediately(g)&&lt(kr().grecaptcha)?Promise.resolve(kr().grecaptcha):new Promise((E,T)=>{const O=kr().setTimeout(()=>{T(Te(p,"network-request-failed"))},DE.get());kr()[Hs]=()=>{kr().clearTimeout(O),delete kr()[Hs];const ge=kr().grecaptcha;if(!ge||!lt(ge))return void T(Te(p,"internal-error"));const Je=ge.render;ge.render=(rt,Tt)=>{const Dn=Je(rt,Tt);return this.counter++,Dn},this.hostLanguage=g,E(ge)},Zi(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:Hs,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(O),T(Te(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=kr().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Up{load(p){return(0,h.Z)(function*(){return new Oo(p)})()}clearedOneInstance(){}}const Eh="recaptcha",iv={theme:"light",type:"image"};class Bp{constructor(p,g=Object.assign({},iv),E){this.parameters=g,this.type=Eh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Xn(E),this.isInvisible="invisible"===this.parameters.size,k(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof p?document.getElementById(p):p;k(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Up:new Vp,this.validateStartingState()}verify(){var p=this;return(0,h.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(g)||new Promise(O=>{const Q=ge=>{ge&&(p.tokenChangeListeners.delete(Q),O(ge))};p.tokenChangeListeners.add(Q),p.isInvisible&&E.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){k(!this.parameters.sitekey,this.auth,"argument-error"),k(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),k(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(E=>E(g)),"function"==typeof p)p(g);else if("string"==typeof p){const E=kr()[p];"function"==typeof E&&E(g)}}}assertNotDestroyed(){k(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,h.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const E=document.createElement("div");g.appendChild(E),g=E}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,h.Z)(function*(){k(Lt()&&!xp(),p.auth,"internal-error"),yield function TE(){let w=null;return new Promise(p=>{"complete"!==document.readyState?(w=()=>p(),window.addEventListener("load",w)):p()}).catch(p=>{throw w&&window.removeEventListener("load",w),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function de(w){return nt.apply(this,arguments)}(p.auth);k(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return k(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ih{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=kt._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function bi(w,p,g){return Po.apply(this,arguments)}function Po(){return(Po=(0,h.Z)(function*(w,p,g){const E=Xn(w),T=yield hl(E,p,(0,U.m9)(g));return new Ih(T,O=>rh(E,O))})).apply(this,arguments)}function jp(w,p,g){return er.apply(this,arguments)}function er(){return(er=(0,h.Z)(function*(w,p,g){const E=(0,U.m9)(w);yield Ii(!1,E,"phone");const T=yield hl(E.auth,p,(0,U.m9)(g));return new Ih(T,O=>pE(E,O))})).apply(this,arguments)}function Pt(w,p,g){return ui.apply(this,arguments)}function ui(){return(ui=(0,h.Z)(function*(w,p,g){const E=(0,U.m9)(w),T=yield hl(E.auth,p,(0,U.m9)(g));return new Ih(T,O=>vr(E,O))})).apply(this,arguments)}function hl(w,p,g){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,h.Z)(function*(w,p,g){var E;const T=yield g.verify();try{let O;if(k("string"==typeof T,w,"argument-error"),k(g.type===Eh,w,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const Q=O.session;if("phoneNumber"in O)return k("enroll"===Q.type,w,"internal-error"),(yield function Qy(w,p){return Se(w,"POST","/v2/accounts/mfaEnrollment:start",oe(w,p))}(w,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{k("signin"===Q.type,w,"internal-error");const ge=(null===(E=O.multiFactorHint)||void 0===E?void 0:E.uid)||O.multiFactorUid;return k(ge,w,"missing-multi-factor-info"),(yield function kp(w,p){return Se(w,"POST","/v2/accounts/mfaSignIn:start",oe(w,p))}(w,{mfaPendingCredential:Q.credential,mfaEnrollmentId:ge,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield function qt(w,p){return Bn.apply(this,arguments)}(w,{phoneNumber:O.phoneNumber,recaptchaToken:T});return Q}}finally{g._reset()}}),Ch.apply(this,arguments)}function Ti(w,p){return eo.apply(this,arguments)}function eo(){return(eo=(0,h.Z)(function*(w,p){yield Is((0,U.m9)(w),p)})).apply(this,arguments)}let ur=(()=>{class w{constructor(g){this.providerId=w.PROVIDER_ID,this.auth=Xn(g)}verifyPhoneNumber(g,E){return hl(this.auth,g,(0,U.m9)(E))}static credential(g,E){return kt._fromVerification(g,E)}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:E,temporaryProof:T}=g;return E&&T?kt._fromTokenResponse(E,T):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function No(w,p){return p?He(p):(k(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class ha extends ${constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Qi(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Qi(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Qi(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Qt(w){return Py(w.auth,new ha(w),w.bypassAuthState)}function sv(w){const{auth:p,user:g}=w;return k(g,p,"internal-error"),vp(g,new ha(w),w.bypassAuthState)}function $p(w){return ec.apply(this,arguments)}function ec(){return(ec=(0,h.Z)(function*(w){const{auth:p,user:g}=w;return k(g,p,"internal-error"),Is(g,new ha(w),w.bypassAuthState)})).apply(this,arguments)}class to{constructor(p,g,E,T,O=!1){this.auth=p,this.resolver=E,this.user=T,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,h.Z)(function*(E,T){p.pendingPromise={resolve:E,reject:T};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(E,T){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,h.Z)(function*(){const{urlResponse:E,sessionId:T,postBody:O,tenantId:Q,error:ge,type:Je}=p;if(ge)return void g.reject(ge);const rt={auth:g.auth,requestUri:E,sessionId:T,tenantId:Q||void 0,postBody:O||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Je)(rt))}catch(Tt){g.reject(Tt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Qt;case"linkViaPopup":case"linkViaRedirect":return $p;case"reauthViaPopup":case"reauthViaRedirect":return sv;default:ee(this.auth,"internal-error")}}resolve(p){De(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){De(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const no=new Jt(2e3,1e4);function Si(w,p,g){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,h.Z)(function*(w,p,g){const E=Xn(w);Me(w,p,Bi);const T=No(E,g);return new fa(E,"signInViaPopup",p,T).executeNotNull()})).apply(this,arguments)}function Qa(w,p,g){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,h.Z)(function*(w,p,g){const E=(0,U.m9)(w);Me(E.auth,p,Bi);const T=No(E.auth,g);return new fa(E.auth,"reauthViaPopup",p,T,E).executeNotNull()})).apply(this,arguments)}function fl(w,p,g){return pl.apply(this,arguments)}function pl(){return(pl=(0,h.Z)(function*(w,p,g){const E=(0,U.m9)(w);Me(E.auth,p,Bi);const T=No(E.auth,g);return new fa(E.auth,"linkViaPopup",p,T,E).executeNotNull()})).apply(this,arguments)}let fa=(()=>{class w extends to{constructor(g,E,T,O,Q){super(g,E,O,Q),this.provider=T,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var g=this;return(0,h.Z)(function*(){const E=yield g.execute();return k(E,g.auth,"internal-error"),E})()}onExecution(){var g=this;return(0,h.Z)(function*(){De(1===g.filter.length,"Popup operations only handle one event");const E=Yu();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],E),g.authWindow.associatedEvent=E,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(Te(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const g=()=>{var E,T;this.pollId=null!==(T=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Te(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,no.get())};g()}}return w.currentPopupAction=null,w})();const tc="pendingRedirect",Gs=new Map;class Ro extends to{constructor(p,g,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,h.Z)(function*(){let E=Gs.get(g.auth._key());if(!E){try{const O=(yield function nc(w,p){return Dh.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;E=()=>Promise.resolve(O)}catch(T){E=()=>Promise.reject(T)}Gs.set(g.auth._key(),E)}return g.bypassAuthState||Gs.set(g.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,E=this;return(0,h.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(E,p);if("unknown"!==p.type){if(p.eventId){const T=yield E.auth._redirectUserForId(p.eventId);if(T)return E.user=T,g().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function Dh(){return(Dh=(0,h.Z)(function*(w,p){const g=bh(p),E=$i(w);if(!(yield E._isAvailable()))return!1;const T="true"===(yield E._get(g));return yield E._remove(g),T})).apply(this,arguments)}function rc(w,p){return pa.apply(this,arguments)}function pa(){return(pa=(0,h.Z)(function*(w,p){return $i(w)._set(bh(p),"true")})).apply(this,arguments)}function ro(){Gs.clear()}function gl(w,p){Gs.set(w._key(),p)}function $i(w){return He(w._redirectPersistence)}function bh(w){return gn(tc,w.config.apiKey,w.name)}function ml(w,p,g){return function Xi(w,p,g){return Hn.apply(this,arguments)}(w,p,g)}function Hn(){return(Hn=(0,h.Z)(function*(w,p,g){const E=Xn(w);Me(w,p,Bi),yield E._initializationPromise;const T=No(E,g);return yield rc(T,E),T._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function Kr(w,p,g){return function Xa(w,p,g){return ci.apply(this,arguments)}(w,p,g)}function ci(){return(ci=(0,h.Z)(function*(w,p,g){const E=(0,U.m9)(w);Me(E.auth,p,Bi),yield E.auth._initializationPromise;const T=No(E.auth,g);yield rc(T,E.auth);const O=yield ls(E);return T._openRedirect(E.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function Ai(w,p,g){return function eu(w,p,g){return ic.apply(this,arguments)}(w,p,g)}function ic(){return(ic=(0,h.Z)(function*(w,p,g){const E=(0,U.m9)(w);Me(E.auth,p,Bi),yield E.auth._initializationPromise;const T=No(E.auth,g);yield Ii(!1,E,p.providerId),yield rc(T,E.auth);const O=yield ls(E);return T._openRedirect(E.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function ov(w,p){return Br.apply(this,arguments)}function Br(){return(Br=(0,h.Z)(function*(w,p){return yield Xn(w)._initializationPromise,ko(w,p,!1)})).apply(this,arguments)}function ko(w,p){return _r.apply(this,arguments)}function _r(){return(_r=(0,h.Z)(function*(w,p,g=!1){const E=Xn(w),T=No(E,p),Q=yield new Ro(E,T,g).execute();return Q&&!g&&(delete Q.user._redirectEventId,yield E._persistUserIfCurrent(Q.user),yield E._setRedirectUser(null,p)),Q})).apply(this,arguments)}function ls(w){return yl.apply(this,arguments)}function yl(){return(yl=(0,h.Z)(function*(w){const p=Yu(`${w.uid}:::`);return w._redirectEventId=p,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),p})).apply(this,arguments)}class tu{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(g=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function nu(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Th(w);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var E;if(p.error&&!Th(p)){const T=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";g.onError(Te(this.auth,T))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const E=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hp(p))}saveEventToCache(p){this.cachedEventUids.add(Hp(p)),this.lastProcessedEventTime=Date.now()}}function Hp(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(p=>p).join("-")}function Th({type:w,error:p}){return"unknown"===w&&"auth/no-auth-event"===p?.code}function Sh(w){return vl.apply(this,arguments)}function vl(){return(vl=(0,h.Z)(function*(w,p={}){return Se(w,"GET","/v1/projects",p)})).apply(this,arguments)}const on=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fo=/^https?/;function Lo(){return(Lo=(0,h.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:p}=yield Sh(w);for(const g of p)try{if(Gp(g))return}catch{}ee(w,"unauthorized-domain")})).apply(this,arguments)}function Gp(w){const p=st(),{protocol:g,hostname:E}=new URL(p);if(w.startsWith("chrome-extension://")){const Q=new URL(w);return""===Q.hostname&&""===E?"chrome-extension:"===g&&w.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&Q.hostname===E}if(!Fo.test(g))return!1;if(on.test(w))return E===w;const T=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(E)}const zp=new Jt(3e4,6e4);function Mi(){const w=kr().___jsl;if(w?.H)for(const p of Object.keys(w.H))if(w.H[p].r=w.H[p].r||[],w.H[p].L=w.H[p].L||[],w.H[p].r=[...w.H[p].L],w.CP)for(let g=0;g<w.CP.length;g++)w.CP[g]=null}let jr=null;const Wp=new Jt(5e3,15e3),_l="__/auth/iframe",Zp="emulator/auth/iframe",Kp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ru(w){const p=w.config;k(p.authDomain,w,"auth-domain-config-required");const g=p.emulator?Gn(p,Zp):`https://${w.config.authDomain}/${_l}`,E={apiKey:p.apiKey,appName:w.name,v:N.SDK_VERSION},T=wl.get(w.config.apiHost);T&&(E.eid=T);const O=w._getFrameworks();return O.length&&(E.fw=O.join(",")),`${g}?${(0,U.xO)(E).slice(1)}`}function io(){return io=(0,h.Z)(function*(w){const p=yield function Vo(w){return jr=jr||function qp(w){return new Promise((p,g)=>{var E,T,O;function Q(){Mi(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Mi(),g(Te(w,"network-request-failed"))},timeout:zp.get()})}if(null!==(T=null===(E=kr().gapi)||void 0===E?void 0:E.iframes)&&void 0!==T&&T.Iframe)p(gapi.iframes.getContext());else{if(null===(O=kr().gapi)||void 0===O||!O.load){const ge=Nr("iframefcb");return kr()[ge]=()=>{gapi.load?Q():g(Te(w,"network-request-failed"))},Zi(`https://apis.google.com/js/api.js?onload=${ge}`).catch(Je=>g(Je))}Q()}}).catch(p=>{throw jr=null,p})}(w),jr}(w),g=kr().gapi;return k(g,w,"internal-error"),p.open({where:document.body,url:ru(w),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kp,dontclear:!0},E=>new Promise(function(){var T=(0,h.Z)(function*(O,Q){yield E.restyle({setHideOnLeave:!1});const ge=Te(w,"network-request-failed"),Je=kr().setTimeout(()=>{Q(ge)},Wp.get());function rt(){kr().clearTimeout(Je),O(E)}E.ping(rt).then(rt,()=>{Q(ge)})});return function(O,Q){return T.apply(this,arguments)}}()))}),io.apply(this,arguments)}const sc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class va{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Yp="__/auth/handler",AE="emulator/auth/handler",Ah=encodeURIComponent("fac");function ds(w,p,g,E,T,O){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,h.Z)(function*(w,p,g,E,T,O){k(w.config.authDomain,w,"auth-domain-config-required"),k(w.config.apiKey,w,"invalid-api-key");const Q={apiKey:w.config.apiKey,appName:w.name,authType:g,redirectUrl:E,v:N.SDK_VERSION,eventId:T};if(p instanceof Bi){p.setDefaultLanguage(w.languageCode),Q.providerId=p.providerId||"",(0,U.xb)(p.getCustomParameters())||(Q.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Tt,Dn]of Object.entries(O||{}))Q[Tt]=Dn}if(p instanceof gi){const Tt=p.getScopes().filter(Dn=>""!==Dn);Tt.length>0&&(Q.scopes=Tt.join(","))}w.tenantId&&(Q.tid=w.tenantId);const ge=Q;for(const Tt of Object.keys(ge))void 0===ge[Tt]&&delete ge[Tt];const Je=yield w._getAppCheckToken(),rt=Je?`#${Ah}=${encodeURIComponent(Je)}`:"";return`${function Dl({config:w}){return w.emulator?Gn(w,AE):`https://${w.authDomain}/${Yp}`}(w)}?${(0,U.xO)(ge).slice(1)}${rt}`})).apply(this,arguments)}const Sr="webStorageSupport",so=class Mh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cl,this._completeRedirectFn=ko,this._overrideRedirectResult=gl}_openPopup(p,g,E,T){var O=this;return(0,h.Z)(function*(){var Q;De(null===(Q=O.eventManagers[p._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const ge=yield ds(p,g,E,st(),T);return function SE(w,p,g,E=500,T=600){const O=Math.max((window.screen.availHeight-T)/2,0).toString(),Q=Math.max((window.screen.availWidth-E)/2,0).toString();let ge="";const Je=Object.assign(Object.assign({},sc),{width:E.toString(),height:T.toString(),top:O,left:Q}),rt=(0,U.z$)().toLowerCase();g&&(ge=M(rt)?"_blank":g),P(rt)&&(p=p||"http://localhost",Je.scrollbars="yes");const Tt=Object.entries(Je).reduce((mi,[hs,oo])=>`${mi}${hs}=${oo},`,"");if(function Vt(w=(0,U.z$)()){var p;return ot(w)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(rt)&&"_self"!==ge)return function Il(w,p){const g=document.createElement("a");g.href=w,g.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(E)}(p||"",ge),new va(null);const Dn=window.open(p||"",ge,Tt);k(Dn,w,"popup-blocked");try{Dn.focus()}catch{}return new va(Dn)}(p,ge,Yu())})()}_openRedirect(p,g,E,T){var O=this;return(0,h.Z)(function*(){return yield O._originValidation(p),function vh(w){kr().location.href=w}(yield ds(p,g,E,st(),T)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:T,promise:O}=this.eventManagers[g];return T?Promise.resolve(T):(De(O,"If manager is not set, promise should be"),O)}const E=this.initAndGetManager(p);return this.eventManagers[g]={promise:E},E.catch(()=>{delete this.eventManagers[g]}),E}initAndGetManager(p){var g=this;return(0,h.Z)(function*(){const E=yield function ya(w){return io.apply(this,arguments)}(p),T=new tu(p);return E.register("authEvent",O=>(k(O?.authEvent,p,"invalid-auth-event"),{status:T.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:T},g.iframes[p._key()]=E,T})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Sr,{type:Sr},T=>{var O;const Q=null===(O=T?.[0])||void 0===O?void 0:O[Sr];void 0!==Q&&g(!!Q),ee(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function ma(w){return Lo.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Yt()||R()||ot()}};class Qp{constructor(p){this.factorId=p}_process(p,g,E){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,E);case"signin":return this._finalizeSignIn(p,g.credential);default:return te("unexpected MultiFactorSessionType")}}}class xi extends Qp{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new xi(p)}_finalizeEnroll(p,g,E){return function gh(w,p){return Se(w,"POST","/v2/accounts/mfaEnrollment:finalize",oe(w,p))}(p,{idToken:g,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function Fp(w,p){return Se(w,"POST","/v2/accounts/mfaSignIn:finalize",oe(w,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let iu=(()=>{class w{constructor(){}static assertion(g){return xi._fromCredential(g)}}return w.FACTOR_ID="phone",w})();var cv="@firebase/auth";class ME{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,h.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(E=>{p(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);g&&(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,U.Pz)("authIdTokenMaxAge"),function xh(w){(0,N._registerComponent)(new ve.wA("auth",(p,{options:g})=>{const E=p.getProvider("app").getImmediate(),T=p.getProvider("heartbeat"),O=p.getProvider("app-check-internal"),{apiKey:Q,authDomain:ge}=E.options;k(Q&&!Q.includes(":"),"invalid-api-key",{appName:E.name});const Je={apiKey:Q,authDomain:ge,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:K(w)},rt=new Vs(E,T,O,Je);return function Va(w,p){const g=p?.persistence||[],E=(Array.isArray(g)?g:[g]).map(He);p?.errorMap&&w._updateErrorMap(p.errorMap),w._initializeWithPersistence(E,p?.popupRedirectResolver)}(rt,g),rt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,E)=>{p.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new ve.wA("auth-internal",p=>{const g=Xn(p.getProvider("auth").getImmediate());return new ME(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(cv,"0.23.2",function es(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,N.registerVersion)(cv,"0.23.2","esm2017")}("Browser")},9058:(vt,be,A)=>{A.d(be,{$s:()=>He,BH:()=>ue,G6:()=>Gn,L:()=>he,LL:()=>Ge,Pz:()=>Te,Sg:()=>Me,UG:()=>te,US:()=>ve,ZB:()=>ne,ZR:()=>Se,aH:()=>ee,b$:()=>Lt,eu:()=>fe,hl:()=>ae,jU:()=>De,m9:()=>gn,ne:()=>Rt,pd:()=>Ct,r3:()=>_n,ru:()=>st,tV:()=>V,uI:()=>k,vZ:()=>Vn,w1:()=>Gt,xO:()=>Gr,xb:()=>sr,z$:()=>Be,zI:()=>ce,zd:()=>wt});const Y=function(G){const H=[];let P=0;for(let R=0;R<G.length;R++){let M=G.charCodeAt(R);M<128?H[P++]=M:M<2048?(H[P++]=M>>6|192,H[P++]=63&M|128):55296==(64512&M)&&R+1<G.length&&56320==(64512&G.charCodeAt(R+1))?(M=65536+((1023&M)<<10)+(1023&G.charCodeAt(++R)),H[P++]=M>>18|240,H[P++]=M>>12&63|128,H[P++]=M>>6&63|128,H[P++]=63&M|128):(H[P++]=M>>12|224,H[P++]=M>>6&63|128,H[P++]=63&M|128)}return H},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,H){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const P=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,R=[];for(let M=0;M<G.length;M+=3){const X=G[M],Ne=M+1<G.length,Qe=Ne?G[M+1]:0,xt=M+2<G.length,ot=xt?G[M+2]:0;let wn=(15&Qe)<<2|ot>>6,Yt=63&ot;xt||(Yt=64,Ne||(wn=64)),R.push(P[X>>2],P[(3&X)<<4|Qe>>4],P[wn],P[Yt])}return R.join("")},encodeString(G,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(G):this.encodeByteArray(Y(G),H)},decodeString(G,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(G):function(G){const H=[];let P=0,R=0;for(;P<G.length;){const M=G[P++];if(M<128)H[R++]=String.fromCharCode(M);else if(M>191&&M<224){const X=G[P++];H[R++]=String.fromCharCode((31&M)<<6|63&X)}else if(M>239&&M<365){const xt=((7&M)<<18|(63&G[P++])<<12|(63&G[P++])<<6|63&G[P++])-65536;H[R++]=String.fromCharCode(55296+(xt>>10)),H[R++]=String.fromCharCode(56320+(1023&xt))}else{const X=G[P++],Ne=G[P++];H[R++]=String.fromCharCode((15&M)<<12|(63&X)<<6|63&Ne)}}return H.join("")}(this.decodeStringToByteArray(G,H))},decodeStringToByteArray(G,H){this.init_();const P=H?this.charToByteMapWebSafe_:this.charToByteMap_,R=[];for(let M=0;M<G.length;){const X=P[G.charAt(M++)],Qe=M<G.length?P[G.charAt(M)]:0;++M;const ot=M<G.length?P[G.charAt(M)]:64;++M;const Vt=M<G.length?P[G.charAt(M)]:64;if(++M,null==X||null==Qe||null==ot||null==Vt)throw new _e;R.push(X<<2|Qe>>4),64!==ot&&(R.push(Qe<<4&240|ot>>2),64!==Vt&&R.push(ot<<6&192|Vt))}return R},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class _e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const he=function(G){return function(G){const H=Y(G);return ve.encodeByteArray(H,!0)}(G).replace(/\./g,"")},V=function(G){try{return ve.decodeString(G,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function ne(G,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return H}for(const P in H)!H.hasOwnProperty(P)||!Ue(P)||(G[P]=ne(G[P],H[P]));return G}function Ue(G){return"__proto__"!==G}const Ae=()=>{try{return function Ee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=G&&V(G[1]);return H&&JSON.parse(H)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},ee=()=>{var G;return null===(G=Ae())||void 0===G?void 0:G.config},Te=G=>{var H;return null===(H=Ae())||void 0===H?void 0:H[`_${G}`]};class ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,P)=>{this.resolve=H,this.reject=P})}wrapCallback(H){return(P,R)=>{P?this.reject(P):this.resolve(R),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(P):H(P,R))}}}function Me(G,H){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const R=H||"demo-project",M=G.iat||0,X=G.sub||G.user_id;if(!X)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ne=Object.assign({iss:`https://securetoken.google.com/${R}`,aud:R,iat:M,exp:M+3600,auth_time:M,sub:X,user_id:X,firebase:{sign_in_provider:"custom",identities:{}}},G);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(Ne)),""].join(".")}function Be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function k(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function te(){var G;const H=null===(G=Ae())||void 0===G?void 0:G.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function De(){return"object"==typeof self&&self.self===self}function st(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function Lt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Gt(){const G=Be();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Gn(){return!te()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ae(){try{return"object"==typeof indexedDB}catch{return!1}}function fe(){return new Promise((G,H)=>{try{let P=!0;const R="validate-browser-context-for-indexeddb-analytics-module",M=self.indexedDB.open(R);M.onsuccess=()=>{M.result.close(),P||self.indexedDB.deleteDatabase(R),G(!0)},M.onupgradeneeded=()=>{P=!1},M.onerror=()=>{var X;H((null===(X=M.error)||void 0===X?void 0:X.message)||"")}}catch(P){H(P)}})}function ce(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Se extends Error{constructor(H,P,R){super(P),this.code=H,this.customData=R,this.name="FirebaseError",Object.setPrototypeOf(this,Se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ge.prototype.create)}}class Ge{constructor(H,P,R){this.service=H,this.serviceName=P,this.errors=R}create(H,...P){const R=P[0]||{},M=`${this.service}/${H}`,X=this.errors[H],Ne=X?function tt(G,H){return G.replace(qe,(P,R)=>{const M=H[R];return null!=M?String(M):`<${R}?>`})}(X,R):"Error";return new Se(M,`${this.serviceName}: ${Ne} (${M}).`,R)}}const qe=/\{\$([^}]+)}/g;function _n(G,H){return Object.prototype.hasOwnProperty.call(G,H)}function sr(G){for(const H in G)if(Object.prototype.hasOwnProperty.call(G,H))return!1;return!0}function Vn(G,H){if(G===H)return!0;const P=Object.keys(G),R=Object.keys(H);for(const M of P){if(!R.includes(M))return!1;const X=G[M],Ne=H[M];if(bn(X)&&bn(Ne)){if(!Vn(X,Ne))return!1}else if(X!==Ne)return!1}for(const M of R)if(!P.includes(M))return!1;return!0}function bn(G){return null!==G&&"object"==typeof G}function Gr(G){const H=[];for(const[P,R]of Object.entries(G))Array.isArray(R)?R.forEach(M=>{H.push(encodeURIComponent(P)+"="+encodeURIComponent(M))}):H.push(encodeURIComponent(P)+"="+encodeURIComponent(R));return H.length?"&"+H.join("&"):""}function wt(G){const H={};return G.replace(/^\?/,"").split("&").forEach(R=>{if(R){const[M,X]=R.split("=");H[decodeURIComponent(M)]=decodeURIComponent(X)}}),H}function Ct(G){const H=G.indexOf("?");if(!H)return"";const P=G.indexOf("#",H);return G.substring(H,P>0?P:void 0)}function Rt(G,H){const P=new mr(G,H);return P.subscribe.bind(P)}class mr{constructor(H,P){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=P,this.task.then(()=>{H(this)}).catch(R=>{this.error(R)})}next(H){this.forEachObserver(P=>{P.next(H)})}error(H){this.forEachObserver(P=>{P.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,P,R){let M;if(void 0===H&&void 0===P&&void 0===R)throw new Error("Missing Observer.");M=function Kt(G,H){if("object"!=typeof G||null===G)return!1;for(const P of H)if(P in G&&"function"==typeof G[P])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:P,complete:R},void 0===M.next&&(M.next=pn),void 0===M.error&&(M.error=pn),void 0===M.complete&&(M.complete=pn);const X=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?M.error(this.finalError):M.complete()}catch{}}),this.observers.push(M),X}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let P=0;P<this.observers.length;P++)this.sendOne(P,H)}sendOne(H,P){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{P(this.observers[H])}catch(R){typeof console<"u"&&console.error&&console.error(R)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pn(){}const Un=1e3,me=2,W=144e5,we=.5;function He(G,H=Un,P=me){const R=H*Math.pow(P,G),M=Math.round(we*R*(Math.random()-.5)*2);return Math.min(W,R+M)}function gn(G){return G&&G._delegate?G._delegate:G}},8186:(vt,be,A)=>{var h=A(5879);let U=null;function N(){return U}class se{}const ve=new h.OlP("DocumentToken");let _e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(he)},providedIn:"platform"})}return n})();const Oe=new h.OlP("Location Initialized");let he=(()=>{class n extends _e{constructor(){super(),this._doc=(0,h.f3M)(ve),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function V(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function q(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ne(n){return n&&"?"!==n[0]?"?"+n:n}let Ue=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Ye)},providedIn:"root"})}return n})();const Ee=new h.OlP("appBaseHref");let Ye=(()=>{class n extends Ue{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return V(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ne(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const l=this.prepareExternalUrl(o+ne(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,o,u){const l=this.prepareExternalUrl(o+ne(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(_e),h.LFG(Ee,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ke=(()=>{class n extends Ue{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=V(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let l=this.prepareExternalUrl(o+ne(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,o,u){let l=this.prepareExternalUrl(o+ne(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(_e),h.LFG(Ee,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})(),Ze=(()=>{class n{constructor(t){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function ee(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(q(ft(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ne(r))}normalize(t){return n.stripTrailingSlash(function ht(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,ft(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ne(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ne(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}static#e=this.normalizeQueryParams=ne;static#t=this.joinWithSlash=V;static#n=this.stripTrailingSlash=q;static#r=this.\u0275fac=function(r){return new(r||n)(h.LFG(Ue))};static#i=this.\u0275prov=h.Yz7({token:n,factory:function(){return function Ae(){return new Ze((0,h.LFG)(Ue))}()},providedIn:"root"})}return n})();function ft(n){return n.replace(/\/index.html$/,"")}function ln(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}class _s{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vs=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,l)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new _s(o.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,l),Xn(m,o)}});for(let o=0,u=r.length;o<u;o++){const m=r.get(o).context;m.index=o,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{Xn(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function Xn(n,e){n.context.$implicit=e.item}let Yi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Va,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Co("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Co("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.s_b),h.Y36(h.Rgc))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Va{constructor(){this.$implicit=null,this.ngIf=null}}function Co(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}function en(n,e){return new h.vHH(2100,!1)}class nr{createSubscription(e,t){return(0,h.rg0)(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){(0,h.rg0)(()=>e.unsubscribe())}}class hr{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const Rr=new hr,us=new nr;let ca=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,h.QGY)(t))return Rr;if((0,h.F4k)(t))return us;throw en()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.sBO,16))};static#t=this.\u0275pipe=h.Yjl({name:"async",type:n,pure:!1,standalone:!0})}return n})(),Wr=(()=>{class n{transform(t,r,o){if(null==t)return null;if(!this.supports(t))throw en();return t.slice(r,o)}supports(t){return"string"==typeof t||Array.isArray(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=h.Yjl({name:"slice",type:n,pure:!1,standalone:!0})}return n})(),fr=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({})}return n})();function br(n){return"server"===n}let gi=(()=>{class n{static#e=this.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new cs((0,h.LFG)(ve),window)})}return n})();class cs{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Xc(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Es{}class Tp extends se{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class lh extends Tp{static makeCurrent(){!function Y(n){U||(U=n)}(new lh)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function vE(){return Ku=Ku||document.querySelector("base"),Ku?Ku.getAttribute("href"):null}();return null==t?null:function Zy(n){dh=dh||document.createElement("a"),dh.setAttribute("href",n);const e=dh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ku=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ln(document.cookie,e)}}let dh,Ku=null,_E=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const Ky=new h.OlP("EventManagerPlugins");let Yy=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(u=>u.supports(t)),!r)throw new h.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Ky),h.LFG(h.R0b))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();class hh{constructor(e){this._doc=e}}const fh="ng-app-id";let ol=(()=>{class n{constructor(t,r,o,u={}){this.doc=t,this.appId=r,this.nonce=o,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=br(u),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(o=>o.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${fh}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(t,r){const o=this.styleRef;if(o.has(t)){const u=o.get(t);return u.usage+=r,u.usage}return o.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const o=this.styleNodesInDOM,u=o?.get(r);if(u?.parentNode===t)return o.delete(r),u.removeAttribute(fh),u;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(fh,this.appId),l}}addStyleToHost(t,r){const o=this.getStyleElement(t,r);t.appendChild(o);const u=this.styleRef,l=u.get(r)?.elements;l?l.push(o):u.set(r,{elements:[o],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ve),h.LFG(h.AFp),h.LFG(h.Ojb,8),h.LFG(h.Lbi))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const Js={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Wa=/%COMP%/g,js=new h.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function $n(n,e){return e.map(t=>t.replace(Wa,n))}let ul=(()=>{class n{constructor(t,r,o,u,l,m,v,C=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=u,this.doc=l,this.platformId=m,this.ngZone=v,this.nonce=C,this.rendererByCompId=new Map,this.platformIsServer=br(m),this.defaultRenderer=new Xs(t,l,v,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===h.ifc.ShadowDom&&(r={...r,encapsulation:h.ifc.Emulated});const o=this.getOrCreateRenderer(t,r);return o instanceof yh?o.applyToHost(t):o instanceof ji&&o.applyStyles(),o}getOrCreateRenderer(t,r){const o=this.rendererByCompId;let u=o.get(r.id);if(!u){const l=this.doc,m=this.ngZone,v=this.eventManager,C=this.sharedStylesHost,b=this.removeStylesOnCompDestroy,x=this.platformIsServer;switch(r.encapsulation){case h.ifc.Emulated:u=new yh(v,C,r,this.appId,b,l,m,x);break;case h.ifc.ShadowDom:return new Za(v,C,t,r,l,m,this.nonce,x);default:u=new ji(v,C,r,b,l,m,x)}o.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Yy),h.LFG(ol),h.LFG(h.AFp),h.LFG(js),h.LFG(ve),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(h.Ojb))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();class Xs{constructor(e,t,r,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Js[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(mh(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(mh(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new h.vHH(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=Js[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Js[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,o&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=N().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function mh(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Za extends Xs{constructor(e,t,r,o,u,l,m,v){super(e,u,l,v),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const C=$n(o.id,o.styles);for(const b of C){const x=document.createElement("style");m&&x.setAttribute("nonce",m),x.textContent=b,this.shadowRoot.appendChild(x)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ji extends Xs{constructor(e,t,r,o,u,l,m,v){super(e,u,l,m),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o,this.styles=v?$n(v,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class yh extends ji{constructor(e,t,r,o,u,l,m,v){const C=o+"-"+r.id;super(e,t,r,u,l,m,v,C),this.contentAttr=function Ap(n){return"_ngcontent-%COMP%".replace(Wa,n)}(C),this.hostAttr=function al(n){return"_nghost-%COMP%".replace(Wa,n)}(C)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let IE=(()=>{class n extends hh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ve))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const cl=["alt","control","meta","shift"],Mo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mp={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Yu=(()=>{class n extends hh{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let l="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),l="code."),cl.forEach(C=>{const b=r.indexOf(C);b>-1&&(r.splice(b,1),l+=C+".")}),l+=u,0!=r.length||0===u.length)return null;const v={};return v.domEventName=o,v.fullKey=l,v}static matchEventFullKeyCode(t,r){let o=Mo[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(o=t.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),cl.forEach(l=>{l!==o&&(0,Mp[l])(t)&&(u+=l+".")}),u+=o,u===r)}static eventCallback(t,r,o){return u=>{n.matchEventFullKeyCode(u,t)&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ve))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const Pp=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function zt(){lh.makeCurrent()},multi:!0},{provide:ve,useFactory:function CE(){return(0,h.RDi)(document),document},deps:[]}]),Xy=new h.OlP(""),Ka=[{provide:h.rWj,useClass:class Sp{addToWindow(e){h.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new h.vHH(5103,!1);return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const o=h.dqk.getAllAngularTestabilities();let u=o.length,l=!1;const m=function(v){l=l||v,u--,0==u&&r(l)};o.forEach(v=>{v.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],xo=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function ll(){return new h.qLn},deps:[]},{provide:Ky,useClass:IE,multi:!0,deps:[ve,h.R0b,h.Lbi]},{provide:Ky,useClass:Yu,multi:!0,deps:[ve]},ul,ol,Yy,{provide:h.FYo,useExisting:ul},{provide:Es,useClass:_E,deps:[]},[]];let Qu=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Xy,12))};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({providers:[...xo,...Ka],imports:[fr,h.hGG]})}return n})(),Le=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ve))};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(r){let o=null;return o=r?new r:function Rp(){return new Le((0,h.LFG)(ve))}(),o},providedIn:"root"})}return n})();typeof window<"u"&&window;var bi=A(5592),Po=A(4674),er=A(2459),Pt=A(2096),ui=A(5619);const{isArray:hl}=Array,{getPrototypeOf:Ch,prototype:Ti,keys:eo}=Object;function ur(n){if(1===n.length){const e=n[0];if(hl(e))return{args:e,keys:null};if(function No(n){return n&&"object"==typeof n&&Ch(n)===Ti}(e)){const t=eo(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ha=A(2737),Qt=A(7398);const{isArray:sv}=Array;function ec(n){return(0,Qt.U)(e=>function $p(n,e){return sv(e)?n(...e):n(e)}(n,e))}var to=A(9940);function no(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var Si=A(8251),Ya=A(7103);function Qa(...n){const e=(0,to.yG)(n),t=(0,to.jO)(n),{args:r,keys:o}=ur(n);if(0===r.length)return(0,er.D)([],e);const u=new bi.y(function Ja(n,e,t=ha.y){return r=>{fl(e,()=>{const{length:o}=n,u=new Array(o);let l=o,m=o;for(let v=0;v<o;v++)fl(e,()=>{const C=(0,er.D)(n[v],e);let b=!1;C.subscribe((0,Si.x)(r,x=>{u[v]=x,b||(b=!0,m--),m||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,o?l=>no(o,l):ha.y));return t?u.pipe(ec(t)):u}function fl(n,e,t){n?(0,Ya.f)(t,n,e):e()}const fa=(0,A(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var tc=A(7537);function Ro(...n){return function Gs(){return(0,tc.J)(1)}()((0,er.D)(n,(0,to.yG)(n)))}var nc=A(4829);function Dh(n){return new bi.y(e=>{(0,nc.Xf)(n()).subscribe(e)})}var rc=A(8407);function pa(n,e){const t=(0,Po.m)(n)?n:()=>n,r=o=>o.error(t());return new bi.y(e?o=>e.schedule(r,0,o):r)}var ro=A(6232),gl=A(7394),$i=A(9360);function bh(){return(0,$i.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Si.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class ml extends bi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,$i.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new gl.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Si.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=gl.w0.EMPTY)}return e}refCount(){return bh()(this)}}var Xi=A(8645),Hn=A(4664);function Kr(n){return n<=0?()=>ro.E:(0,$i.e)((e,t)=>{let r=0;e.subscribe((0,Si.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function Xa(...n){const e=(0,to.yG)(n);return(0,$i.e)((t,r)=>{(e?Ro(n,t,e):Ro(n,t)).subscribe(r)})}function ci(n,e){return(0,$i.e)((t,r)=>{let o=0;t.subscribe((0,Si.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}var Ai=A(1631);function eu(n){return(0,$i.e)((e,t)=>{let r=!1;e.subscribe((0,Si.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function ic(n=ov){return(0,$i.e)((e,t)=>{let r=!1;e.subscribe((0,Si.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function ov(){return new fa}function Br(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ci((o,u)=>n(o,u,r)):ha.y,Kr(1),t?eu(e):ic(()=>new fa))}function ko(n,e){return(0,Po.m)(e)?(0,Ai.z)(n,e,1):(0,Ai.z)(n,1)}var _r=A(9397);function ls(n){return(0,$i.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,Si.x)(t,void 0,void 0,l=>{u=(0,nc.Xf)(n(l,ls(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}function ga(n,e){return(0,$i.e)(function yl(n,e,t,r,o){return(u,l)=>{let m=t,v=e,C=0;u.subscribe((0,Si.x)(l,b=>{const x=C++;v=m?n(v,b,x):(m=!0,b),r&&l.next(v)},o&&(()=>{m&&l.next(v),l.complete()})))}}(n,e,arguments.length>=2,!0))}function tu(n){return n<=0?()=>ro.E:(0,$i.e)((e,t)=>{let r=[];e.subscribe((0,Si.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function nu(n){return(0,$i.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var Sh=A(2420);const on="primary",Fo=Symbol("RouteTitle");class ma{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Lo(n){return new ma(n)}function Gp(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const l=r[u],m=n[u];if(l.startsWith(":"))o[l.substring(1)]=m;else if(l!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Mi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!qp(n[o],e[o]))return!1;return!0}function qp(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function jr(n){return n.length>0?n[n.length-1]:null}function Vo(n){return function jp(n){return!!n&&(n instanceof bi.y||(0,Po.m)(n.lift)&&(0,Po.m)(n.subscribe))}(n)?n:(0,h.QGY)(n)?(0,er.D)(Promise.resolve(n)):(0,Pt.of)(n)}const Wp={exact:function wl(n,e,t){if(!va(n.segments,e.segments)||!sc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!wl(n.children[r],e.children[r],t))return!1;return!0},subset:ya},_l={exact:function Kp(n,e){return Mi(n,e)},subset:function ru(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>qp(n[t],e[t]))},ignored:()=>!0};function Zp(n,e,t){return Wp[t.paths](n.root,e.root,t.matrixParams)&&_l[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ya(n,e,t){return io(n,e,e.segments,t)}function io(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!va(o,t)||e.hasChildren()||!sc(o,t,r))}if(n.segments.length===t.length){if(!va(n.segments,t)||!sc(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!ya(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(va(n.segments,o)&&sc(n.segments,o,r)&&n.children[on])&&io(n.children[on],e,u,r)}}function sc(n,e,t){return e.every((r,o)=>_l[t](n[o].parameters,r.parameters))}class Uo{constructor(e=new xn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lo(this.queryParams)),this._queryParamMap}toString(){return AE.serialize(this)}}class xn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ah(this)}}class El{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Lo(this.parameters)),this._parameterMap}toString(){return xi(this)}}function va(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Il=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(){return new Yp},providedIn:"root"})}return n})();class Yp{parse(e){const t=new ou(e);return new Uo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ds(e.root,!0)}`,r=function uv(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Dl(t)}=${Dl(o)}`).join("&"):`${Dl(t)}=${Dl(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Sr(n){return encodeURI(n)}(e.fragment)}`:""}`}}const AE=new Yp;function Ah(n){return n.segments.map(e=>xi(e)).join("/")}function ds(n,e){if(!n.hasChildren())return Ah(n);if(e){const t=n.children[on]?ds(n.children[on],!1):"",r=[];return Object.entries(n.children).forEach(([o,u])=>{o!==on&&r.push(`${o}:${ds(u,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function SE(n,e){let t=[];return Object.entries(n.children).forEach(([r,o])=>{r===on&&(t=t.concat(e(o,r)))}),Object.entries(n.children).forEach(([r,o])=>{r!==on&&(t=t.concat(e(o,r)))}),t}(n,(r,o)=>o===on?[ds(n.children[on],!1)]:[`${o}:${ds(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[on]?`${Ah(n)}/${t[0]}`:`${Ah(n)}/(${t.join("//")})`}}function Cl(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dl(n){return Cl(n).replace(/%3B/gi,";")}function Mh(n){return Cl(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function so(n){return decodeURIComponent(n)}function Qp(n){return so(n.replace(/\+/g,"%20"))}function xi(n){return`${Mh(n.path)}${function iu(n){return Object.keys(n).map(e=>`;${Mh(e)}=${Mh(n[e])}`).join("")}(n.parameters)}`}const su=/^[^\/()?;#]+/;function Bo(n){const e=n.match(su);return e?e[0]:""}const bl=/^[^\/()?;=#]+/,Jp=/^[^=?&#]+/,es=/^[^&#]+/;class ou{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xn([],{}):new xn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[on]=new xn(e,t)),r}parseSegment(){const e=Bo(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,!1);return this.capture(e),new El(so(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function cv(n){const e=n.match(bl);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Bo(this.remaining);o&&(r=o,this.capture(r))}e[so(t)]=so(r)}parseQueryParam(e){const t=function ME(n){const e=n.match(Jp);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function xh(n){const e=n.match(es);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const o=Qp(t),u=Qp(r);if(e.hasOwnProperty(o)){let l=e[o];Array.isArray(l)||(l=[l],e[o]=l),l.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Bo(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new h.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=on);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[on]:new xn([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,!1)}}function lv(n){return n.segments.length>0?new xn([],{[on]:n}):n}function Tl(n){const e={};for(const r of Object.keys(n.children)){const u=Tl(n.children[r]);if(r===on&&0===u.segments.length&&u.hasChildren())for(const[l,m]of Object.entries(u.children))e[l]=m;else(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function dv(n){if(1===n.numberOfChildren&&n.children[on]){const e=n.children[on];return new xn(n.segments.concat(e.segments),e.children)}return n}(new xn(n.segments,e))}function au(n){return n instanceof Uo}function p(n){let e;const o=lv(function t(u){const l={};for(const v of u.children){const C=t(v);l[v.outlet]=C}const m=new xn(u.url,l);return u===n&&(e=m),m}(n.root));return e??o}function g(n,e,t,r){let o=n;for(;o.parent;)o=o.parent;if(0===e.length)return O(o,o,o,t,r);const u=function Je(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ge(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return Object.entries(u.outlets).forEach(([v,C])=>{m[v]="string"==typeof C?C.split("/"):C}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===l?(u.split("/").forEach((m,v)=>{0==v&&"."===m||(0==v&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new ge(t,e,r)}(e);if(u.toRoot())return O(o,o,new xn([],{}),t,r);const l=function Tt(n,e,t){if(n.isAbsolute)return new rt(e,!0,0);if(!t)return new rt(e,!1,NaN);if(null===t.parent)return new rt(t,!0,0);const r=E(n.commands[0])?0:1;return function Dn(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new h.vHH(4005,!1);o=r.segments.length}return new rt(r,!1,o-u)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(u,o,n),m=l.processChildren?oo(l.segmentGroup,l.index,u.commands):hs(l.segmentGroup,l.index,u.commands);return O(o,l.segmentGroup,m,t,r)}function E(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function T(n){return"object"==typeof n&&null!=n&&n.outlets}function O(n,e,t,r,o){let l,u={};r&&Object.entries(r).forEach(([v,C])=>{u[v]=Array.isArray(C)?C.map(b=>`${b}`):`${C}`}),l=n===e?t:Q(n,e,t);const m=lv(Tl(l));return new Uo(m,u,o)}function Q(n,e,t){const r={};return Object.entries(n.children).forEach(([o,u])=>{r[o]=u===e?t:Q(u,e,t)}),new xn(n.segments,r)}class ge{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&E(r[0]))throw new h.vHH(4003,!1);const o=r.find(T);if(o&&o!==jr(r))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rt{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function hs(n,e,t){if(n||(n=new xn([],{})),0===n.segments.length&&n.hasChildren())return oo(n,e,t);const r=function Xp(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const l=n.segments[o],m=t[r];if(T(m))break;const v=`${m}`,C=r<t.length-1?t[r+1]:null;if(o>0&&void 0===v)break;if(v&&C&&"object"==typeof C&&void 0===C.outlets){if(!Sl(v,C,l))return u;r+=2}else{if(!Sl(v,{},l))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new xn(n.segments.slice(0,r.pathIndex),{});return u.children[on]=new xn(n.segments.slice(r.pathIndex),n.children),oo(u,0,o)}return r.match&&0===o.length?new xn(n.segments,{}):r.match&&!n.hasChildren()?oc(n,e,t):r.match?oo(n,0,o):oc(n,e,t)}function oo(n,e,t){if(0===t.length)return new xn(n.segments,{});{const r=function mi(n){return T(n[0])?n[0].outlets:{[on]:n}}(t),o={};if(Object.keys(r).some(u=>u!==on)&&n.children[on]&&1===n.numberOfChildren&&0===n.children[on].segments.length){const u=oo(n.children[on],e,t);return new xn(n.segments,u.children)}return Object.entries(r).forEach(([u,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(o[u]=hs(n.children[u],e,l))}),Object.entries(n.children).forEach(([u,l])=>{void 0===r[u]&&(o[u]=l)}),new xn(n.segments,o)}}function oc(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(T(u)){const v=_a(u.outlets);return new xn(r,v)}if(0===o&&E(t[0])){r.push(new El(n.segments[e].path,wa(t[0]))),o++;continue}const l=T(u)?u.outlets[on]:`${u}`,m=o<t.length-1?t[o+1]:null;l&&m&&E(m)?(r.push(new El(l,wa(m))),o+=2):(r.push(new El(l,{})),o++)}return new xn(r,{})}function _a(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=oc(new xn([],{}),0,r))}),e}function wa(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Sl(n,e,t){return n==t.path&&Mi(e,t.parameters)}const ac="imperative";class fs{constructor(e,t){this.id=e,this.url=t}}class uu extends fs{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ao extends fs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class uc extends fs{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class jo extends fs{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class Al extends fs{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Oh extends fs{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xE extends fs{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bT extends fs{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class OE extends fs{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class D1 extends fs{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PE{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class b1{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class TT{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ST{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hv{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class T1{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AT{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ph{}class NE{constructor(e){this.url=e}}class S1{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new eg,this.attachRef=null}}let eg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new S1,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class MT{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=fv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=fv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ml(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Ml(e,this._root).map(t=>t.value)}}function fv(n,e){if(n===e.value)return e;for(const t of e.children){const r=fv(n,t);if(r)return r}return null}function Ml(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ml(n,t);if(r.length)return r.unshift(e),r}return[]}class zs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function cc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class pv extends MT{constructor(e,t){super(e),this.snapshot=t,yv(this,e)}toString(){return this.snapshot.toString()}}function gv(n,e){const t=function xl(n,e){const l=new dc([],{},{},"",{},on,e,null,{});return new Nh("",new zs(l,[]))}(0,e),r=new ui.X([new El("",{})]),o=new ui.X({}),u=new ui.X({}),l=new ui.X({}),m=new ui.X(""),v=new lc(r,o,l,m,u,on,e,t.root);return v.snapshot=t.root,new pv(new zs(v,[]),t)}class lc{constructor(e,t,r,o,u,l,m,v){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=u,this.outlet=l,this.component=m,this._futureSnapshot=v,this.title=this.dataSubject?.pipe((0,Qt.U)(C=>C[Fo]))??(0,Pt.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Qt.U)(e=>Lo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Qt.U)(e=>Lo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function mv(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function tg(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class dc{get title(){return this.data?.[Fo]}constructor(e,t,r,o,u,l,m,v,C){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=l,this.component=m,this.routeConfig=v,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Nh extends MT{constructor(e,t){super(t),this.url=e,yv(this,t)}toString(){return RE(this._root)}}function yv(n,e){e.value._routerState=n,e.children.forEach(t=>yv(n,t))}function RE(n){const e=n.children.length>0?` { ${n.children.map(RE).join(", ")} } `:"";return`${n.value}${e}`}function vv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Mi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Mi(e.params,t.params)||n.paramsSubject.next(t.params),function zp(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Mi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Mi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ng(n,e){const t=Mi(n.params,e.params)&&function av(n,e){return va(n,e)&&n.every((t,r)=>Mi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ng(n.parent,e.parent))}let Rh=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=on,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(eg),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb),this.inputBinder=(0,h.f3M)(rg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new h.vHH(4013,!1);this._activatedRoute=t;const o=this.location,l=t.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,v=new xT(t,m,o.injector);this.activated=o.createComponent(l,{index:o.length,injector:v,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]})}return n})();class xT{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===lc?this.route:e===eg?this.childContexts:this.parent.get(e,t)}}const rg=new h.OlP("");let kE=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,o=Qa([r.queryParams,r.params,r.data]).pipe((0,Hn.w)(([u,l,m],v)=>(m={...u,...l,...m},0===v?(0,Pt.of)(m):Promise.resolve(m)))).subscribe(u=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const l=(0,h.qFp)(r.component);if(l)for(const{templateName:m}of l.inputs)t.activatedComponentRef.setInput(m,u[m]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,o)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();function kh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function OT(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return kh(n,r,o);return kh(n,r)})}(n,e,t);return new zs(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(m=>kh(n,m)),l}}const r=function ps(n){return new lc(new ui.X(n.url),new ui.X(n.params),new ui.X(n.queryParams),new ui.X(n.fragment),new ui.X(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>kh(n,u));return new zs(r,o)}}const Fh="ngNavigationCancelingError";function _v(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=au(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=ig(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function ig(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Fh]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Ol(n){return n&&n[Fh]}let wv=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(r,o){1&r&&h._UZ(0,"router-outlet")},dependencies:[Rh],encapsulation:2})}return n})();function Lh(n){const e=n.children&&n.children.map(Lh),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==on&&(t.component=wv),t}function Ds(n){return n.outlet||on}function Ea(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class VE{constructor(e,t,r,o,u){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=u}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),vv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=cc(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,o[l],r),delete o[l]}),Object.values(o).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const l=r.getContext(o.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=cc(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],o);if(r&&r.outlet){const l=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=cc(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const o=cc(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new T1(u.value.snapshot))}),e.children.length&&this.forwardEvent(new ST(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(vv(o),o===u)if(o.component){const l=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const l=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),l.children.onOutletReAttached(m.contexts),l.attachRef=m.componentRef,l.route=m.route.value,l.outlet&&l.outlet.attach(m.componentRef,m.route.value),vv(m.route.value),this.activateChildRoutes(e,null,l.children)}else{const m=Ea(o.snapshot);l.attachRef=null,l.route=o,l.injector=m,l.outlet&&l.outlet.activateWith(o,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class Ev{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Vh{constructor(e,t){this.component=e,this.route=t}}function Pl(n,e,t){const r=n._root;return fc(r,e?e._root:null,t,[r.value])}function hc(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,h.Z0I)(n)?e.get(n):n:r}function fc(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=cc(e);return n.children.forEach(l=>{(function og(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const v=function BT(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!va(n.url,e.url);case"pathParamsOrQueryParamsChange":return!va(n.url,e.url)||!Mi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ng(n,e)||!Mi(n.queryParams,e.queryParams);default:return!ng(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);v?o.canActivateChecks.push(new Ev(r)):(u.data=l.data,u._resolvedData=l._resolvedData),fc(n,e,u.component?m?m.children:null:t,r,o),v&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new Vh(m.outlet.component,l))}else l&&Uh(e,m,o),o.canActivateChecks.push(new Ev(r)),fc(n,null,u.component?m?m.children:null:t,r,o)})(l,u[l.value.outlet],t,r.concat([l.value]),o),delete u[l.value.outlet]}),Object.entries(u).forEach(([l,m])=>Uh(m,t.getContext(l),o)),o}function Uh(n,e,t){const r=cc(n),o=n.value;Object.entries(r).forEach(([u,l])=>{Uh(l,o.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Vh(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function Bh(n){return"function"==typeof n}function jE(n){return n instanceof fa||"EmptyError"===n?.name}const Nl=Symbol("INITIAL_VALUE");function pc(){return(0,Hn.w)(n=>Qa(n.map(e=>e.pipe(Kr(1),Xa(Nl)))).pipe((0,Qt.U)(e=>{for(const t of e)if(!0!==t){if(t===Nl)return Nl;if(!1===t||t instanceof Uo)return t}return!0}),ci(e=>e!==Nl),Kr(1)))}function Cv(n){return(0,rc.z)((0,_r.b)(e=>{if(au(e))throw _v(0,e)}),(0,Qt.U)(e=>!0===e))}class jh{constructor(e){this.segmentGroup=e||null}}class $h{constructor(e){this.urlTree=e}}function $o(n){return pa(new jh(n))}function bv(n){return pa(new $h(n))}class qE{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new h.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,Pt.of)(r);if(o.numberOfChildren>1||!o.children[on])return pa(new h.vHH(4e3,!1));o=o.children[on]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new Uo(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([o,u])=>{if("string"==typeof u&&u.startsWith(":")){const m=u.substring(1);r[o]=t[m]}else r[o]=u}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let l={};return Object.entries(t.children).forEach(([m,v])=>{l[m]=this.createSegmentGroup(e,v,r,o)}),new xn(u,l)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new h.vHH(4001,!1);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}const Hh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gh(n,e,t,r,o){const u=Sv(n,e,t);return u.matched?(r=function LE(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function Dv(n,e,t,r){const o=e.canMatch;if(!o||0===o.length)return(0,Pt.of)(!0);const u=o.map(l=>{const m=hc(l,n);return Vo(function Iv(n){return n&&Bh(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))});return(0,Pt.of)(u).pipe(pc(),Cv())}(r,e,t).pipe((0,Qt.U)(l=>!0===l?u:{...Hh}))):(0,Pt.of)(u)}function Sv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Hh}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||Gp)(t,n,e);if(!o)return{...Hh};const u={};Object.entries(o.posParams??{}).forEach(([m,v])=>{u[m]=v.path});const l=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:l,positionalParamSegments:o.posParams??{}}}function Av(n,e,t,r){return t.length>0&&function KT(n,e,t){return t.some(r=>zh(n,e,r)&&Ds(r)!==on)}(n,t,r)?{segmentGroup:new xn(e,ZT(r,new xn(t,n.children))),slicedSegments:[]}:0===t.length&&function WE(n,e,t){return t.some(r=>zh(n,e,r))}(n,t,r)?{segmentGroup:new xn(n.segments,WT(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new xn(n.segments,n.children),slicedSegments:t}}function WT(n,e,t,r,o){const u={};for(const l of r)if(zh(n,t,l)&&!o[Ds(l)]){const m=new xn([],{});u[Ds(l)]=m}return{...o,...u}}function ZT(n,e){const t={};t[on]=e;for(const r of n)if(""===r.path&&Ds(r)!==on){const o=new xn([],{});t[Ds(r)]=o}return t}function zh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class YT{constructor(e,t,r,o,u,l,m){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=u,this.paramsInheritanceStrategy=l,this.urlSerializer=m,this.allowRedirects=!0,this.applyRedirects=new qE(this.urlSerializer,this.urlTree)}noMatchError(e){return new h.vHH(4002,!1)}recognize(){const e=Av(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,on).pipe(ls(t=>{if(t instanceof $h)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof jh?this.noMatchError(t):t}),(0,Qt.U)(t=>{const r=new dc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},on,this.rootComponentType,null,{}),o=new zs(r,t),u=new Nh("",o),l=function w(n,e,t=null,r=null){return g(p(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(u._root),{state:u,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,on).pipe(ls(r=>{throw r instanceof jh?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=mv(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o,!0)}processChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,er.D)(o).pipe(ko(u=>{const l=r.children[u],m=function VT(n,e){const t=n.filter(r=>Ds(r)===e);return t.push(...n.filter(r=>Ds(r)!==e)),t}(t,u);return this.processSegmentGroup(e,m,l,u)}),ga((u,l)=>(u.push(...l),u)),eu(null),function Hp(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ci((o,u)=>n(o,u,r)):ha.y,tu(1),t?eu(e):ic(()=>new fa))}(),(0,Ai.z)(u=>{if(null===u)return $o(r);const l=ZE(u);return function QT(n){n.sort((e,t)=>e.value.outlet===on?-1:t.value.outlet===on?1:e.value.outlet.localeCompare(t.value.outlet))}(l),(0,Pt.of)(l)}))}processSegment(e,t,r,o,u,l){return(0,er.D)(t).pipe(ko(m=>this.processSegmentAgainstRoute(m._injector??e,t,m,r,o,u,l).pipe(ls(v=>{if(v instanceof jh)return(0,Pt.of)(null);throw v}))),Br(m=>!!m),ls(m=>{if(jE(m))return function Mv(n,e,t){return 0===e.length&&!n.children[t]}(r,o,u)?(0,Pt.of)([]):$o(r);throw m}))}processSegmentAgainstRoute(e,t,r,o,u,l,m){return function lg(n,e,t,r){return!!(Ds(n)===r||r!==on&&zh(e,t,n))&&("**"===n.path||Sv(e,n,t).matched)}(r,o,u,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,o,r,u,l,m):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,o,t,r,u,l):$o(o):$o(o)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?bv(u):this.applyRedirects.lineralizeSegments(r,u).pipe((0,Ai.z)(l=>{const m=new xn(l,{});return this.processSegment(e,t,m,l,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l){const{matched:m,consumedSegments:v,remainingSegments:C,positionalParamSegments:b}=Sv(t,o,u);if(!m)return $o(t);const x=this.applyRedirects.applyRedirectCommands(v,o.redirectTo,b);return o.redirectTo.startsWith("/")?bv(x):this.applyRedirects.lineralizeSegments(o,x).pipe((0,Ai.z)(z=>this.processSegment(e,r,t,z.concat(C),l,!1)))}matchSegmentAgainstRoute(e,t,r,o,u,l){let m;if("**"===r.path){const v=o.length>0?jr(o).parameters:{},C=new dc(o,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,YE(r),Ds(r),r.component??r._loadedComponent??null,r,mc(r));m=(0,Pt.of)({snapshot:C,consumedSegments:[],remainingSegments:[]}),t.children={}}else m=Gh(t,r,o,e).pipe((0,Qt.U)(({matched:v,consumedSegments:C,remainingSegments:b,parameters:x})=>v?{snapshot:new dc(C,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,YE(r),Ds(r),r.component??r._loadedComponent??null,r,mc(r)),consumedSegments:C,remainingSegments:b}:null));return m.pipe((0,Hn.w)(v=>null===v?$o(t):this.getChildConfig(e=r._injector??e,r,o).pipe((0,Hn.w)(({routes:C})=>{const b=r._loadedInjector??e,{snapshot:x,consumedSegments:z,remainingSegments:J}=v,{segmentGroup:Ce,slicedSegments:Fe}=Av(t,z,J,C);if(0===Fe.length&&Ce.hasChildren())return this.processChildren(b,C,Ce).pipe((0,Qt.U)(It=>null===It?null:[new zs(x,It)]));if(0===C.length&&0===Fe.length)return(0,Pt.of)([new zs(x,[])]);const Ve=Ds(r)===u;return this.processSegment(b,C,Ce,Fe,Ve?on:u,!0).pipe((0,Qt.U)(It=>[new zs(x,It)]))}))))}getChildConfig(e,t,r){return t.children?(0,Pt.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,Pt.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function zE(n,e,t,r){const o=e.canLoad;if(void 0===o||0===o.length)return(0,Pt.of)(!0);const u=o.map(l=>{const m=hc(l,n);return Vo(function $T(n){return n&&Bh(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))});return(0,Pt.of)(u).pipe(pc(),Cv())}(e,t,r).pipe((0,Ai.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,_r.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function cg(n){return pa(ig(!1,3))}())):(0,Pt.of)({routes:[],injector:e})}}function P1(n){const e=n.value.routeConfig;return e&&""===e.path}function ZE(n){const e=[],t=new Set;for(const r of n){if(!P1(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=ZE(r.children);e.push(new zs(r.value,o))}return e.filter(r=>!t.has(r))}function YE(n){return n.data||{}}function mc(n){return n.resolve||{}}function tI(n){return"string"==typeof n.title||null===n.title}function Ov(n){return(0,Hn.w)(e=>{const t=n(e);return t?(0,er.D)(t).pipe((0,Qt.U)(()=>e)):(0,Pt.of)(e)})}const kl=new h.OlP("ROUTES");let Pv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.f3M)(h.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,Pt.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Vo(t.loadComponent()).pipe((0,Qt.U)(Fl),(0,_r.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),nu(()=>{this.componentLoaders.delete(t)})),o=new ml(r,()=>new Xi.x).pipe(bh());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,Pt.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=function JT(n,e,t,r){return Vo(n.loadChildren()).pipe((0,Qt.U)(Fl),(0,Ai.z)(o=>o instanceof h.YKP||Array.isArray(o)?(0,Pt.of)(o):(0,er.D)(e.compileModuleAsync(o))),(0,Qt.U)(o=>{r&&r(n);let u,l,m=!1;return Array.isArray(o)?(l=o,!0):(u=o.create(t).injector,l=u.get(kl,[],{optional:!0,self:!0}).flat()),{routes:l.map(Lh),injector:u}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(nu(()=>{this.childrenLoaders.delete(r)})),l=new ml(u,()=>new Xi.x).pipe(bh());return this.childrenLoaders.set(r,l),l}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Fl(n){return function cu(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let hg=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Xi.x,this.transitionAbortSubject=new Xi.x,this.configLoader=(0,h.f3M)(Pv),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(Il),this.rootContexts=(0,h.f3M)(eg),this.inputBindingEnabled=null!==(0,h.f3M)(rg,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Pt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new b1(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new PE(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,o){return this.transitions=new ui.X({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ac,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ci(u=>0!==u.id),(0,Qt.U)(u=>({...u,extractedUrl:t.urlHandlingStrategy.extract(u.rawUrl)})),(0,Hn.w)(u=>{this.currentTransition=u;let l=!1,m=!1;return(0,Pt.of)(u).pipe((0,_r.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.rawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Hn.w)(v=>{const C=v.currentBrowserUrl.toString(),b=!t.navigated||v.extractedUrl.toString()!==C||C!==v.currentUrlTree.toString();if(!b&&"reload"!==(v.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const z="";return this.events.next(new jo(v.id,this.urlSerializer.serialize(v.rawUrl),z,0)),v.resolve(null),ro.E}if(t.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return(0,Pt.of)(v).pipe((0,Hn.w)(z=>{const J=this.transitions?.getValue();return this.events.next(new uu(z.id,this.urlSerializer.serialize(z.extractedUrl),z.source,z.restoredState)),J!==this.transitions?.getValue()?ro.E:Promise.resolve(z)}),function dg(n,e,t,r,o,u){return(0,Ai.z)(l=>function Rl(n,e,t,r,o,u,l="emptyOnly"){return new YT(n,e,t,r,o,l,u).recognize()}(n,e,t,r,l.extractedUrl,o,u).pipe((0,Qt.U)(({state:m,tree:v})=>({...l,targetSnapshot:m,urlAfterRedirects:v}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,_r.b)(z=>{u.targetSnapshot=z.targetSnapshot,u.urlAfterRedirects=z.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:z.urlAfterRedirects};const J=new Oh(z.id,this.urlSerializer.serialize(z.extractedUrl),this.urlSerializer.serialize(z.urlAfterRedirects),z.targetSnapshot);this.events.next(J)}));if(b&&t.urlHandlingStrategy.shouldProcessUrl(v.currentRawUrl)){const{id:z,extractedUrl:J,source:Ce,restoredState:Fe,extras:Ve}=v,It=new uu(z,this.urlSerializer.serialize(J),Ce,Fe);this.events.next(It);const Ut=gv(0,this.rootComponentType).snapshot;return this.currentTransition=u={...v,targetSnapshot:Ut,urlAfterRedirects:J,extras:{...Ve,skipLocationChange:!1,replaceUrl:!1}},(0,Pt.of)(u)}{const z="";return this.events.next(new jo(v.id,this.urlSerializer.serialize(v.extractedUrl),z,1)),v.resolve(null),ro.E}}),(0,_r.b)(v=>{const C=new xE(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(C)}),(0,Qt.U)(v=>(this.currentTransition=u={...v,guards:Pl(v.targetSnapshot,v.currentSnapshot,this.rootContexts)},u)),function gc(n,e){return(0,Ai.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?(0,Pt.of)({...t,guardsResult:!0}):function $E(n,e,t,r){return(0,er.D)(n).pipe((0,Ai.z)(o=>function GE(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,Pt.of)(!0);const l=u.map(m=>{const v=Ea(e)??o,C=hc(m,v);return Vo(function ag(n){return n&&Bh(n.canDeactivate)}(C)?C.canDeactivate(n,e,t,r):v.runInContext(()=>C(n,e,t,r))).pipe(Br())});return(0,Pt.of)(l).pipe(pc())}(o.component,o.route,t,e,r)),Br(o=>!0!==o,!0))}(l,r,o,n).pipe((0,Ai.z)(m=>m&&function jT(n){return"boolean"==typeof n}(m)?function HE(n,e,t,r){return(0,er.D)(e).pipe(ko(o=>Ro(function O1(n,e){return null!==n&&e&&e(new TT(n)),(0,Pt.of)(!0)}(o.route.parent,r),function zT(n,e){return null!==n&&e&&e(new hv(n)),(0,Pt.of)(!0)}(o.route,r),function qT(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function sg(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Dh(()=>{const m=l.guards.map(v=>{const C=Ea(l.node)??t,b=hc(v,C);return Vo(function UE(n){return n&&Bh(n.canActivateChild)}(b)?b.canActivateChild(r,n):C.runInContext(()=>b(r,n))).pipe(Br())});return(0,Pt.of)(m).pipe(pc())}));return(0,Pt.of)(u).pipe(pc())}(n,o.path,t),function ug(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Pt.of)(!0);const o=r.map(u=>Dh(()=>{const l=Ea(e)??t,m=hc(u,l);return Vo(function HT(n){return n&&Bh(n.canActivate)}(m)?m.canActivate(e,n):l.runInContext(()=>m(e,n))).pipe(Br())}));return(0,Pt.of)(o).pipe(pc())}(n,o.route,t))),Br(o=>!0!==o,!0))}(r,u,n,e):(0,Pt.of)(m)),(0,Qt.U)(m=>({...t,guardsResult:m})))})}(this.environmentInjector,v=>this.events.next(v)),(0,_r.b)(v=>{if(u.guardsResult=v.guardsResult,au(v.guardsResult))throw _v(0,v.guardsResult);const C=new bT(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.events.next(C)}),ci(v=>!!v.guardsResult||(this.cancelNavigationTransition(v,"",3),!1)),Ov(v=>{if(v.guards.canActivateChecks.length)return(0,Pt.of)(v).pipe((0,_r.b)(C=>{const b=new OE(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(b)}),(0,Hn.w)(C=>{let b=!1;return(0,Pt.of)(C).pipe(function xv(n,e){return(0,Ai.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,Pt.of)(t);let u=0;return(0,er.D)(o).pipe(ko(l=>function QE(n,e,t,r){const o=n.routeConfig,u=n._resolve;return void 0!==o?.title&&!tI(o)&&(u[Fo]=o.title),function JE(n,e,t,r){const o=function XE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return(0,Pt.of)({});const u={};return(0,er.D)(o).pipe((0,Ai.z)(l=>function eI(n,e,t,r){const o=Ea(e)??r,u=hc(n,o);return Vo(u.resolve?u.resolve(e,t):o.runInContext(()=>u(e,t)))}(n[l],e,t,r).pipe(Br(),(0,_r.b)(m=>{u[l]=m}))),tu(1),function Th(n){return(0,Qt.U)(()=>n)}(u),ls(l=>jE(l)?ro.E:pa(l)))}(u,n,e,r).pipe((0,Qt.U)(l=>(n._resolvedData=l,n.data=mv(n,t).resolve,o&&tI(o)&&(n.data[Fo]=o.title),null)))}(l.route,r,n,e)),(0,_r.b)(()=>u++),tu(1),(0,Ai.z)(l=>u===o.length?(0,Pt.of)(t):ro.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,_r.b)({next:()=>b=!0,complete:()=>{b||this.cancelNavigationTransition(C,"",2)}}))}),(0,_r.b)(C=>{const b=new D1(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(b)}))}),Ov(v=>{const C=b=>{const x=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&x.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,_r.b)(z=>{b.component=z}),(0,Qt.U)(()=>{})));for(const z of b.children)x.push(...C(z));return x};return Qa(C(v.targetSnapshot.root)).pipe(eu(),Kr(1))}),Ov(()=>this.afterPreactivation()),(0,Qt.U)(v=>{const C=function FE(n,e,t){const r=kh(n,e._root,t?t._root:void 0);return new pv(r,e)}(t.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return this.currentTransition=u={...v,targetRouterState:C},u}),(0,_r.b)(()=>{this.events.next(new Ph)}),((n,e,t,r)=>(0,Qt.U)(o=>(new VE(e,o.targetRouterState,o.currentRouterState,t,r).activate(n),o)))(this.rootContexts,t.routeReuseStrategy,v=>this.events.next(v),this.inputBindingEnabled),Kr(1),(0,_r.b)({next:v=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ao(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects))),t.titleStrategy?.updateTitle(v.targetRouterState.snapshot),v.resolve(!0)},complete:()=>{l=!0}}),function vl(n){return(0,$i.e)((e,t)=>{(0,nc.Xf)(n).subscribe((0,Si.x)(t,()=>t.complete(),Sh.Z)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe((0,_r.b)(v=>{throw v}))),nu(()=>{l||m||this.cancelNavigationTransition(u,"",1),this.currentNavigation?.id===u.id&&(this.currentNavigation=null)}),ls(v=>{if(m=!0,Ol(v))this.events.next(new uc(u.id,this.urlSerializer.serialize(u.extractedUrl),v.message,v.cancellationCode)),function Hi(n){return Ol(n)&&au(n.url)}(v)?this.events.next(new NE(v.url)):u.resolve(!1);else{this.events.next(new Al(u.id,this.urlSerializer.serialize(u.extractedUrl),v,u.targetSnapshot??void 0));try{u.resolve(t.errorHandler(v))}catch(C){u.reject(C)}}return ro.E}))}))}cancelNavigationTransition(t,r,o){const u=new uc(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(u),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function XT(n){return n!==ac}let eS=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===on);return r}getResolvedTitleForRoute(t){return t.data[Fo]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(N1)},providedIn:"root"})}return n})(),N1=(()=>{class n extends eS{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Le))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),R1=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(nI)},providedIn:"root"})}return n})();class k1{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let nI=(()=>{class n extends k1{static#e=this.\u0275fac=function(){let t;return function(o){return(t||(t=h.n5z(n)))(o||n)}}();static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const fg=new h.OlP("",{providedIn:"root",factory:()=>({})});let tS=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(nS)},providedIn:"root"})}return n})(),nS=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var qh=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(qh||{});function pg(n,e){n.events.pipe(ci(t=>t instanceof ao||t instanceof uc||t instanceof Al||t instanceof jo),(0,Qt.U)(t=>t instanceof ao||t instanceof jo?qh.COMPLETE:t instanceof uc&&(0===t.code||1===t.code)?qh.REDIRECTING:qh.FAILED),ci(t=>t!==qh.REDIRECTING),Kr(1)).subscribe(()=>{e()})}function Ia(n){throw n}function Wh(n,e,t){return e.parse("/")}const rI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this._events=new Xi.x,this.options=(0,h.f3M)(fg,{optional:!0})||{},this.pendingTasks=(0,h.f3M)(h.HDt),this.errorHandler=this.options.errorHandler||Ia,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Wh,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(tS),this.routeReuseStrategy=(0,h.f3M)(R1),this.titleStrategy=(0,h.f3M)(eS),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,h.f3M)(kl,{optional:!0})?.flat()??[],this.navigationTransitions=(0,h.f3M)(hg),this.urlSerializer=(0,h.f3M)(Il),this.location=(0,h.f3M)(Ze),this.componentInputBindingEnabled=!!(0,h.f3M)(rg,{optional:!0}),this.eventsSubscription=new gl.w0,this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Uo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=gv(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(rS(r)&&this._events.next(r));if(r instanceof uu)XT(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(r instanceof jo)this.rawUrlTree=o.rawUrl;else if(r instanceof Oh){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const u=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(u,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(r instanceof Ph)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(r instanceof uc)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(o);else if(r instanceof NE){const u=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||XT(o.source)};this.scheduleNavigation(u,ac,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}r instanceof Al&&this.restoreHistory(o,!0),r instanceof ao&&(this.navigated=!0),rS(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ac,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const u={replaceUrl:!0},l=o?.navigationId?o:null;if(o){const v={...o};delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(u.state=v)}const m=this.parseUrl(t);this.scheduleNavigation(m,r,l,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Lh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:l,queryParamsHandling:m,preserveFragment:v}=r,C=v?this.currentUrlTree.fragment:l;let x,b=null;switch(m){case"merge":b={...this.currentUrlTree.queryParams,...u};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=u||null}null!==b&&(b=this.removeEmptyProps(b));try{x=p(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),x=this.currentUrlTree.root}return g(x,t,b,C??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=au(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,ac,null,r)}navigate(t,r={skipLocationChange:!1}){return function F1(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new h.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...rI}:!1===r?{...iI}:r,au(t))return Zp(this.currentUrlTree,t,o);const u=this.parseUrl(t);return Zp(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}scheduleNavigation(t,r,o,u,l){if(this.disposed)return Promise.resolve(!1);let m,v,C;l?(m=l.resolve,v=l.reject,C=l.promise):C=new Promise((x,z)=>{m=x,v=z});const b=this.pendingTasks.add();return pg(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(b))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:u,resolve:m,reject:v,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(x=>Promise.reject(x))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",l)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(o,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-this.browserPageId;0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rS(n){return!(n instanceof Ph||n instanceof NE)}let Nv=(()=>{class n{constructor(t,r,o,u,l,m){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=u,this.el=l,this.locationStrategy=m,this.href=null,this.commands=null,this.onChanges=new Xi.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const v=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===v||"area"===v,this.isAnchorElement?this.subscription=t.events.subscribe(C=>{C instanceof ao&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,o,u,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||o||u||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,h.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const o=this.renderer,u=this.el.nativeElement;null!==r?o.setAttribute(u,t,r):o.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(yi),h.Y36(lc),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Ue))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){1&r&&h.NdJ("click",function(l){return o.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&r&&h.uIk("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",h.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",h.VuI],replaceUrl:["replaceUrl","replaceUrl",h.VuI],routerLink:"routerLink"},standalone:!0,features:[h.Xq5,h.TTD]})}return n})(),gg=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,o,u,l){this.router=t,this.element=r,this.renderer=o,this.cdr=u,this.link=l,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new h.vpe,this.routerEventsSubscription=t.events.subscribe(m=>{m instanceof ao&&this.update()})}ngAfterContentInit(){(0,Pt.of)(this.links.changes,(0,Pt.of)(null)).pipe((0,tc.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,er.D)(t).pipe((0,tc.J)()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function Rv(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>!!o.urlTree&&t.isActive(o.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(yi),h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO),h.Y36(Nv,8))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,o,u){if(1&r&&h.Suo(u,Nv,5),2&r){let l;h.iGM(l=h.CRH())&&(o.links=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[h.TTD]})}return n})();class iS{}let oS=(()=>{class n{constructor(t,r,o,u,l){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(ci(t=>t instanceof ao),ko(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,h.MMx)(u.providers,t,`Route: ${u.path}`));const l=u._injector??t,m=u._loadedInjector??l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(l,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(m,u.children??u._loadedRoutes))}return(0,er.D)(o).pipe((0,tc.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,Pt.of)(null);const u=o.pipe((0,Ai.z)(l=>null===l?(0,Pt.of)(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,er.D)([u,l]).pipe((0,tc.J)())}return u})}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(yi),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(iS),h.LFG(Pv))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const kv=new h.OlP("");let sI=(()=>{class n{constructor(t,r,o,u,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=u,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof uu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ao?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof jo&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof AT&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new AT(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){h.$Z()};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();function qs(n,e){return{\u0275kind:n,\u0275providers:e}}function aI(){const n=(0,h.f3M)(h.zs3);return e=>{const t=n.get(h.z2F);if(e!==t.components[0])return;const r=n.get(yi),o=n.get(uI);1===n.get(Kh)&&r.initialNavigation(),n.get(lI,null,h.XFs.Optional)?.setUpPreloading(),n.get(kv,null,h.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const uI=new h.OlP("",{factory:()=>new Xi.x}),Kh=new h.OlP("",{providedIn:"root",factory:()=>1}),lI=new h.OlP("");function cS(n){return qs(0,[{provide:lI,useExisting:oS},{provide:iS,useExisting:n}])}const Ll=new h.OlP("ROUTER_FORROOT_GUARD"),dI=[Ze,{provide:Il,useClass:Yp},yi,eg,{provide:lc,useFactory:function Fv(n){return n.routerState.root},deps:[yi]},Pv,[]];function hI(){return new h.PXZ("Router",yi)}let mg=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[dI,[],{provide:kl,multi:!0,useValue:t},{provide:Ll,useFactory:pI,deps:[[yi,new h.FiY,new h.tp0]]},{provide:fg,useValue:r||{}},r?.useHash?{provide:Ue,useClass:ke}:{provide:Ue,useClass:Ye},{provide:kv,useFactory:()=>{const n=(0,h.f3M)(gi),e=(0,h.f3M)(h.R0b),t=(0,h.f3M)(fg),r=(0,h.f3M)(hg),o=(0,h.f3M)(Il);return t.scrollOffset&&n.setOffset(t.scrollOffset),new sI(o,r,n,e,t)}},r?.preloadingStrategy?cS(r.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:hI},r?.initialNavigation?yg(r):[],r?.bindToComponentInputs?qs(8,[kE,{provide:rg,useExisting:kE}]).\u0275providers:[],[{provide:hS,useFactory:aI},{provide:h.tb,multi:!0,useExisting:hS}]]}}static forChild(t){return{ngModule:n,providers:[{provide:kl,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Ll,8))};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({})}return n})();function pI(n){return"guarded"}function yg(n){return["disabled"===n.initialNavigation?qs(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(yi);return()=>{e.setUpLocationChangeListener()}}},{provide:Kh,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?qs(2,[{provide:Kh,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const t=e.get(Oe,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const o=e.get(yi),u=e.get(uI);pg(o,()=>{r(!0)}),e.get(hg).afterPreactivation=()=>(r(!0),u.closed?(0,Pt.of)(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const hS=new h.OlP("");var vg=A(6321),_g=A(671);var Qn=A(4556);function Ul(){return(0,$i.e)((n,e)=>{let t,r=!1;n.subscribe((0,Si.x)(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}var pt,Bv=A(3997),Oi=A(6304),mI=(A(8661),A(3399)),Ie=A(5861),Eg=A(7592),Ig=A(4537),lu=A(7879),Fn=A(9058),yI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},uo={},Qh=Qh||{},an=yI||self;function jv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Jh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var vI="closure_uid_"+(1e9*Math.random()>>>0),H1=0;function Cg(n,e,t){return n.call.apply(n.bind,arguments)}function yS(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function vi(n,e,t){return(vi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Cg:yS).apply(null,arguments)}function Bl(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ar(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,o,u){for(var l=Array(arguments.length-2),m=2;m<arguments.length;m++)l[m-2]=arguments[m];return e.prototype[o].apply(r,l)}}function Ho(){this.s=this.s,this.o=this.o}Ho.prototype.s=!1,Ho.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function mS(n){Object.prototype.hasOwnProperty.call(n,vI)&&n[vI]||(n[vI]=++H1)}(this)},Ho.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const jl=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function $l(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function yc(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(jv(r)){const o=n.length||0,u=r.length||0;n.length=o+u;for(let l=0;l<u;l++)n[o+l]=r[l]}else n.push(r)}}function _i(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}_i.prototype.h=function(){this.defaultPrevented=!0};var Hv=function(){if(!an.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{an.addEventListener("test",()=>{},e),an.removeEventListener("test",()=>{},e)}catch{}return n}();function du(n){return/^[\s\xa0]*$/.test(n)}function Gv(){var n=an.navigator;return n&&(n=n.userAgent)?n:""}function Ws(n){return-1!=Gv().indexOf(n)}function vc(n){return vc[" "](n),n}vc[" "]=function(){};var II,n,_I=Ws("Opera"),Hl=Ws("Trident")||Ws("MSIE"),wI=Ws("Edge"),Xh=wI||Hl,zv=Ws("Gecko")&&!(-1!=Gv().toLowerCase().indexOf("webkit")&&!Ws("Edge"))&&!(Ws("Trident")||Ws("MSIE"))&&!Ws("Edge"),_S=-1!=Gv().toLowerCase().indexOf("webkit")&&!Ws("Edge");function EI(){var n=an.document;return n?n.documentMode:void 0}e:{var qv="",Gl=(n=Gv(),zv?/rv:([^\);]+)(\)|;)/.exec(n):wI?/Edge\/([\d\.]+)/.exec(n):Hl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):_S?/WebKit\/(\S+)/.exec(n):_I?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Gl&&(qv=Gl?Gl[1]:""),Hl){var ef=EI();if(null!=ef&&ef>parseFloat(qv)){II=String(ef);break e}}II=qv}var Kv=an.document&&Hl&&(EI()||parseInt(II,10))||void 0;function hu(n,e){if(_i.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(zv){e:{try{vc(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:wS[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&hu.$.h.call(this)}}Ar(hu,_i);var wS={2:"touch",3:"pen",4:"mouse"};hu.prototype.h=function(){hu.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var zl="closure_listenable_"+(1e6*Math.random()|0),ES=0;function CI(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=o,this.key=++ES,this.fa=this.ia=!1}function Yv(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Qv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function DI(n){const e={};for(const t in n)e[t]=n[t];return e}const _c="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ql(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<_c.length;u++)t=_c[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function bg(n){this.src=n,this.g={},this.h=0}function Tg(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=jl(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(Yv(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Jv(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return o}return-1}bg.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=Jv(n,e,r,o);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new CI(e,this.src,u,!!r,o)).ia=t,n.push(e)),e};var Xv="closure_lm_"+(1e6*Math.random()|0),e_={};function t_(n,e,t,r,o){if(r&&r.once)return IS(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)t_(n,e[u],t,r,o);return null}return t=xg(t),n&&n[zl]?n.O(e,t,Jh(r)?!!r.capture:!!r,o):n_(n,e,t,!1,r,o)}function n_(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var l=Jh(o)?!!o.capture:!!o,m=Mg(n);if(m||(n[Xv]=m=new bg(n)),(t=m.add(e,t,r,l,u)).proxy)return t;if(r=function r_(){const e=CS;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Hv||(o=l),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(bI(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function IS(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)IS(n,e[u],t,r,o);return null}return t=xg(t),n&&n[zl]?n.P(e,t,Jh(r)?!!r.capture:!!r,o):n_(n,e,t,!0,r,o)}function Sg(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)Sg(n,e[u],t,r,o);else r=Jh(r)?!!r.capture:!!r,t=xg(t),n&&n[zl]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Jv(u=n.g[e],t,r,o))&&(Yv(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Mg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Jv(e,t,r,o)),(t=-1<n?e[n]:null)&&Ag(t))}function Ag(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[zl])Tg(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(bI(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Mg(e))?(Tg(t,n),0==t.h&&(t.src=null,e[Xv]=null)):Yv(n)}}}function bI(n){return n in e_?e_[n]:e_[n]="on"+n}function CS(n,e){if(n.fa)n=!0;else{e=new hu(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Ag(n),n=t.call(r,e)}return n}function Mg(n){return(n=n[Xv])instanceof bg?n:null}var i_="__closure_events_fn_"+(1e9*Math.random()>>>0);function xg(n){return"function"==typeof n?n:(n[i_]||(n[i_]=function(e){return n.handleEvent(e)}),n[i_])}function wi(){Ho.call(this),this.i=new bg(this),this.S=this,this.J=null}function Pi(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new _i(e,n);else if(e instanceof _i)e.target=e.target||n;else{var o=e;ql(e=new _i(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];o=s_(l,r,!0,e)&&o}if(o=s_(l=e.g=n,r,!0,e)&&o,o=s_(l,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=s_(l=e.g=t[u],r,!1,e)&&o}function s_(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.fa&&l.capture==t){var m=l.listener,v=l.la||l.src;l.ia&&Tg(n.i,l),o=!1!==m.call(v,r)&&o}}return o&&!r.defaultPrevented}Ar(wi,Ho),wi.prototype[zl]=!0,wi.prototype.removeEventListener=function(n,e,t,r){Sg(this,n,e,t,r)},wi.prototype.N=function(){if(wi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Yv(t[r]);delete n.g[e],n.h--}}this.J=null},wi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},wi.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Og=an.JSON.stringify;function co(){var n=u_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var DS=new class TI{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new o_,n=>n.reset());class o_{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function fu(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function a_(n){an.setTimeout(()=>{throw n},0)}let tf,Pg=!1,u_=new class SI{constructor(){this.h=this.g=null}add(e,t){const r=DS.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},Ng=()=>{const n=an.Promise.resolve(void 0);tf=()=>{n.then(Go)}};var Go=()=>{for(var n;n=co();){try{n.h.call(n.g)}catch(t){a_(t)}var e=DS;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Pg=!1};function nf(n,e){wi.call(this),this.h=n||1,this.g=e||an,this.j=vi(this.qb,this),this.l=Date.now()}function c_(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function AI(n,e,t){if("function"==typeof n)t&&(n=vi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=vi(n.handleEvent,n)}return 2147483647<Number(e)?-1:an.setTimeout(n,e||0)}function li(n){n.g=AI(()=>{n.g=null,n.i&&(n.i=!1,li(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ar(nf,wi),(pt=nf.prototype).ga=!1,pt.T=null,pt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Pi(this,"tick"),this.ga&&(c_(this),this.start()))}},pt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pt.N=function(){nf.$.N.call(this),c_(this),delete this.g};class bS extends Ho{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:li(this)}N(){super.N(),this.g&&(an.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wc(n){Ho.call(this),this.h=n,this.g={}}Ar(wc,Ho);var MI=[];function xI(n,e,t,r){Array.isArray(t)||(t&&(MI[0]=t.toString()),t=MI);for(var o=0;o<t.length;o++){var u=t_(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function Rg(n){Qv(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ag(e)},n),n.g={}}function rf(){this.g=!0}function Ec(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function SS(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<o.length;l++)o[l]=""}}}return Og(t)}catch{return e}}(n,t)+(r?" "+r:"")})}wc.prototype.N=function(){wc.$.N.call(this),Rg(this)},wc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rf.prototype.Ea=function(){this.g=!1},rf.prototype.info=function(){};var Ic={},NI=null;function sf(){return NI=NI||new wi}function Cc(n){_i.call(this,Ic.Ta,n)}function bs(n){const e=sf();Pi(e,new Cc(e))}function Dc(n,e){_i.call(this,Ic.STAT_EVENT,n),this.stat=e}function ts(n){const e=sf();Pi(e,new Dc(e,n))}function RI(n,e){_i.call(this,Ic.Ua,n),this.size=e}function Wl(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return an.setTimeout(function(){n()},e)}Ic.Ta="serverreachability",Ar(Cc,_i),Ic.STAT_EVENT="statevent",Ar(Dc,_i),Ic.Ua="timingevent",Ar(RI,_i);var af={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},kg={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function bc(){}function l_(){}bc.prototype.h=null;var f_,Zl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function d_(){_i.call(this,"d")}function h_(){_i.call(this,"c")}function Fg(){}function Kl(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new wc(this),this.P=MS,this.V=new nf(n=Xh?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new AS}function AS(){this.i=null,this.g="",this.h=!1}Ar(d_,_i),Ar(h_,_i),Ar(Fg,bc),Fg.prototype.g=function(){return new XMLHttpRequest},Fg.prototype.i=function(){return{}},f_=new Fg;var MS=45e3,kI={},p_={};function Lg(n,e,t){n.L=1,n.v=Xl(gs(e)),n.s=t,n.S=!0,g_(n,null)}function g_(n,e){n.G=Date.now(),Yl(n),n.A=gs(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),E_(t.i,"t",r),n.C=0,t=n.l.J,n.h=new AS,n.g=eC(n.l,t?e:null,!n.s),0<n.O&&(n.M=new bS(vi(n.Pa,n,n.g),n.O)),xI(n.U,n.g,"readystatechange",n.nb),e=n.I?DI(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),bs(),function OI(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var l="",m=u.split("&"),v=0;v<m.length;v++){var C=m[v].split("=");if(1<C.length){var b=C[0];C=C[1];var x=b.split("_");l=2<=x.length&&"type"==x[1]?l+(b+"=")+C+"&":l+(b+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function xS(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function cf(n,e,t){let o,r=!0;for(;!n.J&&n.C<t.length;){if(o=G1(n,t),o==p_){4==e&&(n.o=4,ts(14),r=!1),Ec(n.j,n.m,null,"[Incomplete Response]");break}if(o==kI){n.o=4,ts(15),Ec(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ec(n.j,n.m,o,null),tn(n,o)}xS(n)&&o!=p_&&o!=kI&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ts(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),M_(e),e.M=!0,ts(11))):(Ec(n.j,n.m,t,"[Invalid Chunked Response]"),pu(n),Ql(n))}function G1(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?p_:(t=Number(e.substring(t,r)),isNaN(t)?kI:(r+=1)+t>e.length?p_:(e=e.slice(r,r+t),n.C=r+t,e))}function Yl(n){n.Y=Date.now()+n.P,m_(n,n.P)}function m_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Wl(vi(n.lb,n),e)}function Vg(n){n.B&&(an.clearTimeout(n.B),n.B=null)}function Ql(n){0==n.l.H||n.J||x_(n.l,n)}function pu(n){Vg(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,c_(n.V),Rg(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function tn(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Bg(t.i,n)))if(!n.K&&Bg(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;gf(t),Wg(t)}Kg(t),ts(18)}}else t.Fa=o[1],0<t.Fa-t.V&&37500>o[2]&&t.G&&0==t.A&&!t.v&&(t.v=Wl(vi(t.ib,t),6e3));if(1>=Ug(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else xc(t,11)}else if((n.K||t.g==n)&&gf(t),!du(e))for(o=t.Ja.g.parse(e),e=0;e<o.length;e++){let C=o[e];if(t.V=C[0],C=C[1],2==t.H)if("c"==C[0]){t.K=C[1],t.pa=C[2];const b=C[3];null!=b&&(t.ra=b,t.l.info("VER="+t.ra));const x=C[4];null!=x&&(t.Ga=x,t.l.info("SVER="+t.Ga));const z=C[5];null!=z&&"number"==typeof z&&0<z&&(t.L=r=1.5*z,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const J=n.g;if(J){const Ce=J.g?J.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ce){var u=r.i;u.g||-1==Ce.indexOf("spdy")&&-1==Ce.indexOf("quic")&&-1==Ce.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(I_(u,u.h),u.h=null))}if(r.F){const Fe=J.g?J.g.getResponseHeader("X-HTTP-Session-Id"):null;Fe&&(r.Da=Fe,rr(r.I,r.F,Fe))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=P_(r,r.J?r.pa:null,r.Y),l.K){$I(r.i,l);var m=l,v=r.L;v&&m.setTimeout(v),m.B&&(Vg(m),Yl(m)),r.g=l}else A_(r);0<t.j.length&&yu(t)}else"stop"!=C[0]&&"close"!=C[0]||xc(t,7);else 3==t.H&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?xc(t,7):qg(t):"noop"!=C[0]&&t.h&&t.h.Aa(C),t.A=0)}bs()}catch{}}function Tc(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(jv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function LI(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(jv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function FI(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(jv(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}(pt=Kl.prototype).setTimeout=function(n){this.P=n},pt.nb=function(n){n=n.target;const e=this.M;e&&3==lo(n)?e.l():this.Pa(n)},pt.Pa=function(n){try{if(n==this.g)e:{const b=lo(this.g);var e=this.g.Ia();if(this.g.da(),!(3>b)&&(3!=b||Xh||this.g&&(this.h.h||this.g.ja()||zg(this.g)))){this.J||4!=b||7==e||bs(),Vg(this);var t=this.g.da();this.ca=t;t:if(xS(this)){var r=zg(this.g);n="";var o=r.length,u=4==lo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){pu(this),Ql(this);var l="";break t}this.h.i=new an.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function TS(n,e,t,r,o,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.W,b,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,v=this.g;if((m=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!du(m)){var C=m;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,ts(12),pu(this),Ql(this);break e}Ec(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tn(this,t)}this.S?(cf(this,b,l),Xh&&this.i&&3==b&&(xI(this.U,this.V,"tick",this.mb),this.V.start())):(Ec(this.j,this.m,l,null),tn(this,l)),4==b&&pu(this),this.i&&!this.J&&(4==b?x_(this.l,this):(this.i=!1,Yl(this)))}else(function Ca(n){const e={};n=(n.g&&2<=lo(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(du(n[r]))continue;var t=fu(n[r]);const o=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[o]||[];e[o]=u,u.push(t)}!function Dg(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,ts(12)):(this.o=0,ts(13)),pu(this),Ql(this)}}}catch{}},pt.mb=function(){if(this.g){var n=lo(this.g),e=this.g.ja();this.C<e.length&&(Vg(this),cf(this,n,e),this.i&&4!=n&&Yl(this))}},pt.cancel=function(){this.J=!0,pu(this)},pt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function PI(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(bs(),ts(17)),pu(this),this.o=2,Ql(this)):m_(this,this.Y-n)};var y_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zo(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof zo){this.h=n.h,Jl(this,n.j),this.s=n.s,this.g=n.g,gu(this,n.m),this.l=n.l;var e=n.i,t=new lf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),v_(this,t),this.o=n.o}else n&&(e=String(n).match(y_))?(this.h=!1,Jl(this,e[1]||"",!0),this.s=Sc(e[2]||""),this.g=Sc(e[3]||"",!0),gu(this,e[4]),this.l=Sc(e[5]||"",!0),v_(this,e[6]||"",!0),this.o=Sc(e[7]||"")):(this.h=!1,this.i=new lf(null,this.h))}function gs(n){return new zo(n)}function Jl(n,e,t){n.j=t?Sc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function gu(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function v_(n,e,t){e instanceof lf?(n.i=e,function kS(n,e){e&&!n.j&&(mu(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(BI(this,r),E_(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=ed(e,UI)),n.i=new lf(e,n.h))}function rr(n,e,t){n.i.set(e,t)}function Xl(n){return rr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Sc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ed(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,__),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function __(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}zo.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ed(e,VI,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ed(e,VI,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(ed(t,"/"==t.charAt(0)?NS:PS,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ed(t,RS)),n.join("")};var VI=/[#\/\?@]/g,PS=/[#\?:]/g,NS=/[#\?]/g,UI=/[#\?@]/g,RS=/#/g;function lf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function mu(n){n.g||(n.g=new Map,n.h=0,n.i&&function OS(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function BI(n,e){mu(n),e=td(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function w_(n,e){return mu(n),e=td(n,e),n.g.has(e)}function E_(n,e,t){BI(n,e),0<t.length&&(n.i=null,n.g.set(td(n,e),$l(t)),n.h+=t.length)}function td(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function jI(n){this.l=n||FS,n=an.PerformanceNavigationTiming?0<(n=an.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(an.g&&an.g.Ka&&an.g.Ka()&&an.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pt=lf.prototype).add=function(n,e){mu(this),this.i=null,n=td(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},pt.forEach=function(n,e){mu(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},pt.ta=function(){mu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let u=0;u<o.length;u++)t.push(e[r])}return t},pt.Z=function(n){mu(this);let e=[];if("string"==typeof n)w_(this,n)&&(e=e.concat(this.g.get(td(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},pt.set=function(n,e){return mu(this),this.i=null,w_(this,n=td(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},pt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},pt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var o=u;""!==l[r]&&(o+="="+encodeURIComponent(String(l[r]))),n.push(o)}}return this.i=n.join("&")};var FS=10;function LS(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Ug(n){return n.h?1:n.g?n.g.size:0}function Bg(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function I_(n,e){n.g?n.g.add(e):n.h=e}function $I(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function HI(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return $l(n.i)}jI.prototype.cancel=function(){if(this.i=HI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var GI=class{stringify(n){return an.JSON.stringify(n,void 0)}parse(n){return an.JSON.parse(n,void 0)}};function VS(){this.g=new GI}function US(n,e,t){const r=t||"";try{Tc(n,function(o,u){let l=o;Jh(o)&&(l=Og(o)),e.push(r+u+"="+encodeURIComponent(l))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function jg(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function df(n){this.l=n.fc||null,this.j=n.ob||!1}function $g(n,e){wi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=D_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ar(df,bc),df.prototype.g=function(){return new $g(this.l,this.j)},df.prototype.i=function(n){return function(){return n}}({}),Ar($g,wi);var D_=0;function zI(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function ms(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ac(n)}function Ac(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(pt=$g.prototype).open=function(n,e){if(this.readyState!=D_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ac(this)},pt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||an).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},pt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ms(this)),this.readyState=D_},pt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ac(this)),this.g&&(this.readyState=3,Ac(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof an.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zI(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},pt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ms(this):Ac(this),3==this.readyState&&zI(this)}},pt.Za=function(n){this.g&&(this.response=this.responseText=n,ms(this))},pt.Ya=function(n){this.g&&(this.response=n,ms(this))},pt.ka=function(){this.g&&ms(this)},pt.setRequestHeader=function(n,e){this.v.append(n,e)},pt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},pt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty($g.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var BS=an.JSON.parse;function Mr(n){wi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=qI,this.L=this.M=!1}Ar(Mr,wi);var qI="",WI=/^https?$/i,ZI=["POST","PUT"];function Gg(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,jS(n),hf(n)}function jS(n){n.F||(n.F=!0,Pi(n,"complete"),Pi(n,"error"))}function b_(n){if(n.h&&typeof Qh<"u"&&(!n.C[1]||4!=lo(n)||2!=n.da()))if(n.v&&4==lo(n))AI(n.La,0,n);else if(Pi(n,"readystatechange"),4==lo(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var o=String(n.I).match(y_)[1]||null;!o&&an.self&&an.self.location&&(o=an.self.location.protocol.slice(0,-1)),r=!WI.test(o?o.toLowerCase():"")}t=r}if(t)Pi(n,"complete"),Pi(n,"success");else{n.m=6;try{var u=2<lo(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",jS(n)}}finally{hf(n)}}}function hf(n,e){if(n.g){T_(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Pi(n,"ready");try{t.onreadystatechange=r}catch{}}}function T_(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(an.clearTimeout(n.A),n.A=null)}function lo(n){return n.g?n.g.readyState:0}function zg(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case qI:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function KI(n){let e="";return Qv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function S_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=KI(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):rr(n,e,t))}function Mc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function YI(n){this.Ga=0,this.j=[],this.l=new rf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Mc("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Mc("baseRetryDelayMs",5e3,n),this.hb=Mc("retryDelaySeedMs",1e4,n),this.eb=Mc("forwardChannelMaxRetries",2,n),this.xa=Mc("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new jI(n&&n.concurrentRequestLimit),this.Ja=new VS,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function qg(n){if(ff(n),3==n.H){var e=n.W++,t=gs(n.I);if(rr(t,"SID",n.K),rr(t,"RID",e),rr(t,"TYPE","terminate"),Zg(n,t),(e=new Kl(n,n.l,e)).L=2,e.v=Xl(gs(t)),t=!1,an.navigator&&an.navigator.sendBeacon)try{t=an.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&an.Image&&((new Image).src=e.v,t=!0),t||(e.g=eC(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Yl(e)}O_(n)}function Wg(n){n.g&&(M_(n),n.g.cancel(),n.g=null)}function ff(n){Wg(n),n.u&&(an.clearTimeout(n.u),n.u=null),gf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&an.clearTimeout(n.m),n.m=null)}function yu(n){if(!LS(n.i)&&!n.m){n.m=!0;var e=n.Na;tf||Ng(),Pg||(tf(),Pg=!0),u_.add(e,n),n.C=0}}function pf(n,e){var t;t=e?e.m:n.W++;const r=gs(n.I);rr(r,"SID",n.K),rr(r,"RID",t),rr(r,"AID",n.V),Zg(n,r),n.o&&n.s&&S_(r,n.o,n.s),t=new Kl(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=JI(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),I_(n.i,t),Lg(t,r,e)}function Zg(n,e){n.na&&Qv(n.na,function(t,r){rr(e,r,t)}),n.h&&Tc({},function(t,r){rr(e,r,t)})}function JI(n,e,t){t=Math.min(n.j.length,t);var r=n.h?vi(n.h.Va,n.h,n):null;e:{var o=n.j;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=o[0].g,l.push("ofs="+u)):u=0:l.push("ofs="+u);let m=!0;for(let v=0;v<t;v++){let C=o[v].g;const b=o[v].map;if(C-=u,0>C)u=Math.max(0,o[v].g-100),m=!1;else try{US(b,l,"req"+C+"_")}catch{r&&r(b)}}if(m){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function A_(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;tf||Ng(),Pg||(tf(),Pg=!0),u_.add(e,n),n.A=0}}function Kg(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Wl(vi(n.Ma,n),nd(n,n.A)),n.A++,0))}function M_(n){null!=n.B&&(an.clearTimeout(n.B),n.B=null)}function XI(n){n.g=new Kl(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=gs(n.wa);rr(e,"RID","rpc"),rr(e,"SID",n.K),rr(e,"AID",n.V),rr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&rr(e,"TO",n.qa),rr(e,"TYPE","xmlhttp"),Zg(n,e),n.o&&n.s&&S_(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Xl(gs(e)),t.s=null,t.S=!0,g_(t,n)}function gf(n){null!=n.v&&(an.clearTimeout(n.v),n.v=null)}function x_(n,e){var t=null;if(n.g==e){gf(n),M_(n),n.g=null;var r=2}else{if(!Bg(n.i,e))return;t=e.F,$I(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var o=n.C;Pi(r=sf(),new RI(r,t)),yu(n)}else A_(n);else if(3==(o=e.o)||0==o&&0<e.ca||!(1==r&&function QI(n,e){return!(Ug(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Wl(vi(n.Na,n,e),nd(n,n.C)),n.C++,0)))}(n,e)||2==r&&Kg(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:xc(n,5);break;case 4:xc(n,10);break;case 3:xc(n,6);break;default:xc(n,2)}}function nd(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function xc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=vi(n.pb,n);t||(t=new zo("//www.google.com/images/cleardot.gif"),an.location&&"http"==an.location.protocol||Jl(t,"https"),Xl(t)),function C_(n,e){const t=new rf;if(an.Image){const r=new Image;r.onload=Bl(jg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Bl(jg,t,r,"TestLoadImage: error",!1,e),r.onabort=Bl(jg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Bl(jg,t,r,"TestLoadImage: timeout",!1,e),an.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ts(2);n.H=0,n.h&&n.h.za(e),O_(n),ff(n)}function O_(n){if(n.H=0,n.ma=[],n.h){const e=HI(n.i);(0!=e.length||0!=n.j.length)&&(yc(n.ma,e),yc(n.ma,n.j),n.i.i.length=0,$l(n.j),n.j.length=0),n.h.ya()}}function P_(n,e,t){var r=t instanceof zo?gs(t):new zo(t);if(""!=r.g)e&&(r.g=e+"."+r.g),gu(r,r.m);else{var o=an.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var u=new zo(null);r&&Jl(u,r),e&&(u.g=e),o&&gu(u,o),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&rr(r,t,e),rr(r,"VER",n.ra),Zg(n,r),r}function eC(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Mr(t&&n.Ha&&!n.va?new df({ob:!0}):n.va)).Oa(n.J),e}function tC(){}function vu(){if(Hl&&!(10<=Number(Kv)))throw Error("Environmental error: no available transport.")}function Ss(n,e){wi.call(this),this.g=new YI(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!du(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!du(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new rd(this)}function nC(n){d_.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function rC(){h_.call(this),this.status=1}function rd(n){this.g=n}function ho(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function N_(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var o=0;16>o;++o)r[o]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(o=0;16>o;++o)r[o]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],l=(e=n.g[0])+(u^(t=n.g[1])&((o=n.g[2])^u))+r[0]+3614090360&4294967295;l=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=t+(l<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(o^u))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(o^u))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(o^u))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(o^u&(t^o))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^u&(t^o))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^u&(t^o))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^u&(t^o))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^o^u)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^o^u)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^o^u)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^o^u)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(o^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(o|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(o^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(o|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(o^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(o|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((u=(e=t+((l=e+(o^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((o=u+((l=o+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(o+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+o&4294967295,n.g[3]=n.g[3]+u&4294967295}function Jn(n,e){this.h=e;for(var t=[],r=!0,o=n.length-1;0<=o;o--){var u=0|n[o];r&&u==e||(t[o]=u,r=!1)}this.g=t}(pt=Mr.prototype).Oa=function(n){this.M=n},pt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():f_.g(),this.C=function uf(n){return n.h||(n.h=n.i())}(this.u?this.u:f_),this.g.onreadystatechange=vi(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void Gg(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),o=an.FormData&&n instanceof an.FormData,!(0<=jl(ZI,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{T_(this),0<this.B&&((this.L=function Hg(n){return Hl&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vi(this.ua,this)):this.A=AI(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){Gg(this,u)}},pt.ua=function(){typeof Qh<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pi(this,"timeout"),this.abort(8))},pt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Pi(this,"complete"),Pi(this,"abort"),hf(this))},pt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hf(this,!0)),Mr.$.N.call(this)},pt.La=function(){this.s||(this.G||this.v||this.l?b_(this):this.kb())},pt.kb=function(){b_(this)},pt.isActive=function(){return!!this.g},pt.da=function(){try{return 2<lo(this)?this.g.status:-1}catch{return-1}},pt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},pt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),BS(e)}},pt.Ia=function(){return this.m},pt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(pt=YI.prototype).ra=8,pt.H=1,pt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const o=new Kl(this,this.l,n);let u=this.s;if(this.U&&(u?(u=DI(u),ql(u,this.U)):u=this.U),null!==this.o||this.O||(o.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=JI(this,o,e),rr(t=gs(this.I),"RID",n),rr(t,"CVER",22),this.F&&rr(t,"X-HTTP-Session-Id",this.F),Zg(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(KI(u)))+"&"+e:this.o&&S_(t,this.o,u)),I_(this.i,o),this.bb&&rr(t,"TYPE","init"),this.P?(rr(t,"$req",e),rr(t,"SID","null"),o.aa=!0,Lg(o,t,null)):Lg(o,t,e),this.H=2}}else 3==this.H&&(n?pf(this,n):0==this.j.length||LS(this.i)||pf(this))},pt.Ma=function(){if(this.u=null,XI(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Wl(vi(this.jb,this),n)}},pt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ts(10),Wg(this),XI(this))},pt.ib=function(){null!=this.v&&(this.v=null,Wg(this),Kg(this),ts(19))},pt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),ts(2)):(this.l.info("Failed to ping google.com"),ts(1))},pt.isActive=function(){return!!this.h&&this.h.isActive(this)},(pt=tC.prototype).Ba=function(){},pt.Aa=function(){},pt.za=function(){},pt.ya=function(){},pt.isActive=function(){return!0},pt.Va=function(){},vu.prototype.g=function(n,e){return new Ss(n,e)},Ar(Ss,wi),Ss.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;ts(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=P_(n,null,n.Y),yu(n)},Ss.prototype.close=function(){qg(this.g)},Ss.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Og(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&yu(e)},Ss.prototype.N=function(){this.g.h=null,delete this.j,qg(this.g),delete this.g,Ss.$.N.call(this)},Ar(nC,d_),Ar(rC,h_),Ar(rd,tC),rd.prototype.Ba=function(){Pi(this.g,"a")},rd.prototype.Aa=function(n){Pi(this.g,new nC(n))},rd.prototype.za=function(n){Pi(this.g,new rC)},rd.prototype.ya=function(){Pi(this.g,"b")},Ar(ho,function $S(){this.blockSize=-1}),ho.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ho.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,o=this.h,u=0;u<e;){if(0==o)for(;u<=t;)N_(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[o++]=n.charCodeAt(u++),o==this.blockSize){N_(this,r),o=0;break}}else for(;u<e;)if(r[o++]=n[u++],o==this.blockSize){N_(this,r),o=0;break}}this.h=o,this.i+=e},ho.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var iC={};function mf(n){return-128<=n&&128>n?function vS(n,e){var t=iC;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Jn([0|e],0>e?-1:0)}):new Jn([0|n],0>n?-1:0)}function qo(n){if(isNaN(n)||!isFinite(n))return id;if(0>n)return Ni(qo(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=R_;return new Jn(e,0)}var R_=4294967296,id=mf(0),k_=mf(1),sC=mf(16777216);function Da(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Zs(n){return-1==n.h}function Ni(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Jn(t,~n.h).add(k_)}function vf(n,e){return n.add(Ni(e))}function _f(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function wf(n,e){this.g=n,this.h=e}function F_(n,e){if(Da(e))throw Error("division by zero");if(Da(n))return new wf(id,id);if(Zs(n))return e=F_(Ni(n),e),new wf(Ni(e.g),Ni(e.h));if(Zs(e))return e=F_(n,Ni(e)),new wf(Ni(e.g),e.h);if(30<n.g.length){if(Zs(n)||Zs(e))throw Error("slowDivide_ only works with positive integers.");for(var t=k_,r=e;0>=r.X(n);)t=L_(t),r=L_(r);var o=Oc(t,1),u=Oc(r,1);for(r=Oc(r,2),t=Oc(t,2);!Da(r);){var l=u.add(r);0>=l.X(n)&&(o=o.add(t),u=l),r=Oc(r,1),t=Oc(t,1)}return e=vf(n,o.R(e)),new wf(o,e)}for(o=id;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(u=qo(t)).R(e);Zs(l)||0<l.X(n);)l=(u=qo(t-=r)).R(e);Da(u)&&(u=k_),o=o.add(u),n=vf(n,l)}return new wf(o,n)}function L_(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Jn(t,n.h)}function Oc(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,o=[],u=0;u<r;u++)o[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new Jn(o,n.h)}(pt=Jn.prototype).ea=function(){if(Zs(this))return-Ni(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:R_+r)*e,e*=R_}return n},pt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Da(this))return"0";if(Zs(this))return"-"+Ni(this).toString(n);for(var e=qo(Math.pow(n,6)),t=this,r="";;){var o=F_(t,e).g,u=((0<(t=vf(t,o.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Da(t=o))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},pt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},pt.X=function(n){return Zs(n=vf(this,n))?-1:Da(n)?0:1},pt.abs=function(){return Zs(this)?Ni(this):this},pt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,o=0;o<=e;o++){var u=r+(65535&this.D(o))+(65535&n.D(o)),l=(u>>>16)+(this.D(o)>>>16)+(n.D(o)>>>16);r=l>>>16,t[o]=(l&=65535)<<16|(u&=65535)}return new Jn(t,-2147483648&t[t.length-1]?-1:0)},pt.R=function(n){if(Da(this)||Da(n))return id;if(Zs(this))return Zs(n)?Ni(this).R(Ni(n)):Ni(Ni(this).R(n));if(Zs(n))return Ni(this.R(Ni(n)));if(0>this.X(sC)&&0>n.X(sC))return qo(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<n.g.length;o++){var u=this.D(r)>>>16,l=65535&this.D(r),m=n.D(o)>>>16,v=65535&n.D(o);t[2*r+2*o]+=l*v,_f(t,2*r+2*o),t[2*r+2*o+1]+=u*v,_f(t,2*r+2*o+1),t[2*r+2*o+1]+=l*m,_f(t,2*r+2*o+1),t[2*r+2*o+2]+=u*m,_f(t,2*r+2*o+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Jn(t,0)},pt.gb=function(n){return F_(this,n).h},pt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Jn(t,this.h&n.h)},pt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Jn(t,this.h|n.h)},pt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Jn(t,this.h^n.h)},vu.prototype.createWebChannel=vu.prototype.g,Ss.prototype.send=Ss.prototype.u,Ss.prototype.open=Ss.prototype.m,Ss.prototype.close=Ss.prototype.close,af.NO_ERROR=0,af.TIMEOUT=8,af.HTTP_ERROR=6,kg.COMPLETE="complete",l_.EventType=Zl,Zl.OPEN="a",Zl.CLOSE="b",Zl.ERROR="c",Zl.MESSAGE="d",wi.prototype.listen=wi.prototype.O,Mr.prototype.listenOnce=Mr.prototype.P,Mr.prototype.getLastError=Mr.prototype.Sa,Mr.prototype.getLastErrorCode=Mr.prototype.Ia,Mr.prototype.getStatus=Mr.prototype.da,Mr.prototype.getResponseJson=Mr.prototype.Wa,Mr.prototype.getResponseText=Mr.prototype.ja,Mr.prototype.send=Mr.prototype.ha,Mr.prototype.setWithCredentials=Mr.prototype.Oa,ho.prototype.digest=ho.prototype.l,ho.prototype.reset=ho.prototype.reset,ho.prototype.update=ho.prototype.j,Jn.prototype.add=Jn.prototype.add,Jn.prototype.multiply=Jn.prototype.R,Jn.prototype.modulo=Jn.prototype.gb,Jn.prototype.compare=Jn.prototype.X,Jn.prototype.toNumber=Jn.prototype.ea,Jn.prototype.toString=Jn.prototype.toString,Jn.prototype.getBits=Jn.prototype.D,Jn.fromNumber=qo,Jn.fromString=function yf(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ni(yf(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=qo(Math.pow(e,8)),r=id,o=0;o<n.length;o+=8){var u=Math.min(8,n.length-o),l=parseInt(n.substring(o,o+u),e);8>u?(u=qo(Math.pow(e,u)),r=r.R(u).add(qo(l))):r=(r=r.R(t)).add(qo(l))}return r};var z1=uo.createWebChannelTransport=function(){return new vu},Yg=uo.getStatEventTarget=function(){return sf()},V_=uo.ErrorCode=af,HS=uo.EventType=kg,U_=uo.Event=Ic,oC=uo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Wo=uo.FetchXmlHttpFactory=df,_u=uo.WebChannel=l_,Gi=uo.XhrIo=Mr,Pc=uo.Md5=ho,ba=uo.Integer=Jn;const As="@firebase/firestore";class Yr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yr.UNAUTHENTICATED=new Yr(null),Yr.GOOGLE_CREDENTIALS=new Yr("google-credentials-uid"),Yr.FIRST_PARTY=new Yr("first-party-uid"),Yr.MOCK_USER=new Yr("mock-user");let fo="9.23.0";const Ms=new lu.Yd("@firebase/firestore");function wu(){return Ms.logLevel}function ze(n,...e){if(Ms.logLevel<=lu.in.DEBUG){const t=e.map(Eu);Ms.debug(`Firestore (${fo}): ${n}`,...t)}}function cr(n,...e){if(Ms.logLevel<=lu.in.ERROR){const t=e.map(Eu);Ms.error(`Firestore (${fo}): ${n}`,...t)}}function Ri(n,...e){if(Ms.logLevel<=lu.in.WARN){const t=e.map(Eu);Ms.warn(`Firestore (${fo}): ${n}`,...t)}}function Eu(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function mt(n="Unexpected state"){const e=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: `+n;throw cr(e),new Error(e)}function St(n,e){n||mt()}function dt(n,e){return n}const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends Fn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class B_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yr.UNAUTHENTICATED))}shutdown(){}}class cC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class j_{constructor(e){this.t=e,this.currentUser=Yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=C=>this.i!==o?(o=this.i,t(C)):Promise.resolve();let l=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Qr,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const C=l;e.enqueueRetryable((0,Ie.Z)(function*(){yield C.promise,yield u(r.currentUser)}))},v=C=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(C=>v(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?v(C):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Qr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(St("string"==typeof r.accessToken),new B_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return St(null===e||"string"==typeof e),new Yr(e)}}class GS{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Yr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class q1{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new GS(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Yr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qS{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.T;return this.T=u.token,ze("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?o(u):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(St("string"==typeof t.token),this.T=t.token,new zS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Z1(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class lC{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const o=Z1(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o[u]%62))}return r}}function sn(n,e){return n<e?-1:n>e?1:0}function od(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function dC(n){return n+"\0"}class wr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new je(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new je(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new je(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wr.fromMillis(Date.now())}static fromDate(e){return wr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new wr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?sn(this.nanoseconds,e.nanoseconds):sn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class At{constructor(e){this.timestamp=e}static fromTimestamp(e){return new At(e)}static min(){return new At(new wr(0,0))}static max(){return new At(new wr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ta{constructor(e,t,r){void 0===t?t=0:t>e.length&&mt(),void 0===r?r=e.length-t:r>e.length-t&&mt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Ta.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ta?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),l=t.get(o);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class On extends Ta{construct(e,t,r){return new On(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new je(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new On(t)}static emptyPath(){return new On([])}}const Qg=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xr extends Ta{construct(e,t,r){return new xr(e,t,r)}static isValidIdentifier(e){return Qg.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new je(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new je(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new je(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else"`"===m?(l=!l,o++):"."!==m||l?(r+=m,o++):(u(),o++)}if(u(),l)throw new je(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xr(t)}static emptyPath(){return new xr([])}}class it{constructor(e){this.path=e}static fromPath(e){return new it(On.fromString(e))}static fromName(e){return new it(On.fromString(e).popFirst(5))}static empty(){return new it(On.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===On.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return On.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new it(new On(e.slice()))}}class Ef{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function $_(n){return n.fields.find(e=>2===e.kind)}function po(n){return n.fields.filter(e=>2!==e.kind)}Ef.UNKNOWN_ID=-1;class Jg{constructor(e,t){this.fieldPath=e,this.kind=t}}class If{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new If(0,zi.min())}}function Xg(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=At.fromTimestamp(1e9===r?new wr(t+1,0):new wr(t,r));return new zi(o,it.empty(),e)}function Cf(n){return new zi(n.readTime,n.key,-1)}class zi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new zi(At.min(),it.empty(),-1)}static max(){return new zi(At.max(),it.empty(),-1)}}function hC(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=it.comparator(n.documentKey,e.documentKey),0!==t?t:sn(n.largestBatchId,e.largestBatchId))}const fC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Zo(n){return H_.apply(this,arguments)}function H_(){return H_=(0,Ie.Z)(function*(n){if(n.code!==ye.FAILED_PRECONDITION||n.message!==fC)throw n;ze("LocalStore","Unexpectedly lost primary lease")}),H_.apply(this,arguments)}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,r)=>{t(e)})}static reject(e){return new le((t,r)=>{r(e)})}static waitFor(e){return new le((t,r)=>{let o=0,u=0,l=!1;e.forEach(m=>{++o,m.next(()=>{++u,l&&u===o&&t()},v=>r(v))}),l=!0,u===o&&t()})}static or(e){let t=le.resolve(!1);for(const r of e)t=t.next(o=>o?le.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}static mapArray(e,t){return new le((r,o)=>{const u=e.length,l=new Array(u);let m=0;for(let v=0;v<u;v++){const C=v;t(e[C]).next(b=>{l[C]=b,++m,m===u&&r(l)},b=>o(b))}})}static doWhile(e,t){return new le((r,o)=>{const u=()=>{!0===e()?t().next(()=>{u()},o):r()};u()})}}class em{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Qr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new ad(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const o=tm(r.target.error);this.v.reject(new ad(e,o))}}static open(e,t,r,o){try{return new em(t,e.transaction(o,r))}catch(u){throw new ad(t,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(ze("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new KS(t)}}class go{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===go.S((0,Fn.z$)())&&cr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ze("SimpleDb","Removing database:",e),Nc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Fn.hl)())return!1;if(go.C())return!0;const e=(0,Fn.z$)(),t=go.S(e),r=0<t&&t<10,o=go.N(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,Ie.Z)(function*(){return t.db||(ze("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=l=>{r(l.target.result)},u.onblocked=()=>{o(new ad(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=l=>{const m=l.target.error;o("VersionError"===m.name?new je(ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new je(ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new ad(e,m))},u.onupgradeneeded=l=>{ze("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,u.transaction,l.oldVersion,t.version).next(()=>{ze("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,Ie.Z)(function*(){const l="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.$(e);const v=em.open(u.db,e,l?"readonly":"readwrite",r),C=o(v).next(b=>(v.P(),b)).catch(b=>(v.abort(b),le.reject(b))).toPromise();return C.catch(()=>{}),yield v.R,C}catch(v){const C=v,b="FirebaseError"!==C.name&&m<3;if(ze("SimpleDb","Transaction failed with error:",C.message,"Retrying:",b),u.close(),!b)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class gC{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Nc(this.L.delete())}}class ad extends je{constructor(e,t){super(ye.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Sa(n){return"IndexedDbTransactionError"===n.name}class KS{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ze("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ze("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Nc(r)}add(e){return ze("SimpleDb","ADD",this.store.name,e,e),Nc(this.store.add(e))}get(e){return Nc(this.store.get(e)).next(t=>(void 0===t&&(t=null),ze("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ze("SimpleDb","DELETE",this.store.name,e),Nc(this.store.delete(e))}count(){return ze("SimpleDb","COUNT",this.store.name),Nc(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.W(o,(l,m)=>{u.push(m)}).next(()=>u)}{const o=this.store.getAll(r.range);return new le((u,l)=>{o.onerror=m=>{l(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new le((o,u)=>{r.onerror=l=>{u(l.target.error)},r.onsuccess=l=>{o(l.target.result)}})}J(e,t){ze("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const o=this.cursor(r);return this.W(o,(u,l,m)=>m.delete())}X(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.W(o,t)}Z(e){const t=this.cursor({});return new le((r,o)=>{t.onerror=u=>{const l=tm(u.target.error);o(l)},t.onsuccess=u=>{const l=u.target.result;l?e(l.primaryKey,l.value).next(m=>{m?l.continue():r()}):r()}})}W(e,t){const r=[];return new le((o,u)=>{e.onerror=l=>{u(l.target.error)},e.onsuccess=l=>{const m=l.target.result;if(!m)return void o();const v=new gC(m),C=t(m.primaryKey,m.value,v);if(C instanceof le){const b=C.catch(x=>(v.done(),le.reject(x)));r.push(b)}v.isDone?o():null===v.K?m.continue():m.continue(v.K)}}).next(()=>le.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Nc(n){return new le((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=tm(r.target.error);t(o)}})}let mC=!1;function tm(n){const e=go.S((0,Fn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new je("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return mC||(mC=!0,setTimeout(()=>{throw r},0)),r}}return n}class G_{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;ze("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ie.Z)(function*(){t.task=null;try{ze("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Sa(r)?ze("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Zo(r)}yield t.et(6e4)}))}}class z_{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Ie.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let o=t,u=!0;return le.doWhile(()=>!0===u&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return ze("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,o).next(m=>{o-=m,r.add(l)});u=!1})).next(()=>t-o)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(u=>{const l=u.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(o,u)).next(m=>(ze("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>l.size)}))}rt(e,t){let r=e;return t.changes.forEach((o,u)=>{const l=Cf(u);hC(l,r)>0&&(r=l)}),new zi(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let xs=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Iu(n){return null==n}function Cu(n){return 0===n&&1/n==-1/0}function nm(n){return"number"==typeof n&&Number.isInteger(n)&&!Cu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ki(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=yC(e)),e=YS(n.get(t),e);return yC(e)}function YS(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function yC(n){return n+"\x01\x01"}function Ko(n){const e=n.length;if(St(e>=2),2===e)return St("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),On.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const l=n.indexOf("\x01",u);switch((l<0||l>t)&&mt(),n.charAt(l+1)){case"\x01":const m=n.substring(u,l);let v;0===o.length?v=m:(o+=m,v=o,o=""),r.push(v);break;case"\x10":o+=n.substring(u,l),o+="\0";break;case"\x11":o+=n.substring(u,l+1);break;default:mt()}u=l+2}return new On(r)}const rm=["userId","batchId"];function ud(n,e){return[n,ki(e)]}function q_(n,e,t){return[n,ki(e),t]}const vC={},QS=["prefixPath","collectionGroup","readTime","documentId"],JS=["prefixPath","collectionGroup","documentId"],_C=["collectionGroup","readTime","prefixPath","documentId"],W_=["canonicalId","targetId"],wC=["targetId","path"],Z_=["path","targetId"],EC=["collectionId","parent"],XS=["indexId","uid"],IC=["uid","sequenceNumber"],CC=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],DC=["indexId","uid","orderedDocumentKey"],bC=["userId","collectionPath","documentId"],eA=["userId","collectionPath","largestBatchId"],tA=["userId","collectionGroup","largestBatchId"],TC=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],SC=[...TC,"documentOverlays"],im=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],K_=im,AC=[...K_,"indexConfiguration","indexState","indexEntries"];class sm extends pC{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function di(n,e){const t=dt(n);return go.M(t.ht,e)}function Y_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Aa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Q_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ir{constructor(e,t){this.comparator=e,this.root=t||Er.EMPTY}insert(e,t){return new ir(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Er.BLACK,null,null))}remove(e){return new ir(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Er.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rc(this.root,e,this.comparator,!0)}}class Rc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Er{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??Er.RED,this.left=o??Er.EMPTY,this.right=u??Er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new Er(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Er.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const e=this.left.check();if(e!==this.right.check())throw mt();return e+(this.isRed()?0:1)}}Er.EMPTY=null,Er.RED=!0,Er.BLACK=!1,Er.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Er(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pr{constructor(e){this.comparator=e,this.data=new ir(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new MC(this.data.getIterator())}getIteratorFrom(e){return new MC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof pr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new pr(this.comparator);return t.data=e,t}}class MC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Du(n){return n.hasNext()?n.getNext():void 0}class Jr{constructor(e){this.fields=e,e.sort(xr.comparator)}static empty(){return new Jr([])}unionWith(e){let t=new pr(xr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Jr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return od(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class om extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $r{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new om("Invalid base64 string: "+o):o}}(e);return new $r(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new $r(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$r.EMPTY_BYTE_STRING=new $r("");const K1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kc(n){if(St(!!n),"string"==typeof n){let e=0;const t=K1.exec(n);if(St(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fr(n.seconds),nanos:Fr(n.nanos)}}function Fr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ma(n){return"string"==typeof n?$r.fromBase64String(n):$r.fromUint8Array(n)}function Df(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function am(n){const e=n.mapValue.fields.__previous_value__;return Df(e)?am(e):e}function Or(n){const e=kc(n.mapValue.fields.__local_write_time__.timestampValue);return new wr(e.seconds,e.nanos)}class xC{constructor(e,t,r,o,u,l,m,v,C){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=m,this.longPollingOptions=v,this.useFetchStreams=C}}class bu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new bu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof bu&&e.projectId===this.projectId&&e.database===this.database}}const Tu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},bf={nullValue:"NULL_VALUE"};function Su(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Df(n)?4:vo(n)?9007199254740991:10:mt()}function mo(n,e){if(n===e)return!0;const t=Su(n);if(t!==Su(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Or(n).isEqual(Or(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=kc(r.timestampValue),l=kc(o.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Ma(n.bytesValue).isEqual(Ma(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Fr(r.geoPointValue.latitude)===Fr(o.geoPointValue.latitude)&&Fr(r.geoPointValue.longitude)===Fr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Fr(r.integerValue)===Fr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=Fr(r.doubleValue),l=Fr(o.doubleValue);return u===l?Cu(u)===Cu(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return od(n.arrayValue.values||[],e.arrayValue.values||[],mo);case 10:return function(r,o){const u=r.mapValue.fields||{},l=o.mapValue.fields||{};if(Y_(u)!==Y_(l))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===l[m]||!mo(u[m],l[m])))return!1;return!0}(n,e);default:return mt()}var o}function cd(n,e){return void 0!==(n.values||[]).find(t=>mo(t,e))}function Os(n,e){if(n===e)return 0;const t=Su(n),r=Su(e);if(t!==r)return sn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return sn(n.booleanValue,e.booleanValue);case 2:return function(o,u){const l=Fr(o.integerValue||o.doubleValue),m=Fr(u.integerValue||u.doubleValue);return l<m?-1:l>m?1:l===m?0:isNaN(l)?isNaN(m)?0:-1:1}(n,e);case 3:return OC(n.timestampValue,e.timestampValue);case 4:return OC(Or(n),Or(e));case 5:return sn(n.stringValue,e.stringValue);case 6:return function(o,u){const l=Ma(o),m=Ma(u);return l.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const l=o.split("/"),m=u.split("/");for(let v=0;v<l.length&&v<m.length;v++){const C=sn(l[v],m[v]);if(0!==C)return C}return sn(l.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const l=sn(Fr(o.latitude),Fr(u.latitude));return 0!==l?l:sn(Fr(o.longitude),Fr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const l=o.values||[],m=u.values||[];for(let v=0;v<l.length&&v<m.length;++v){const C=Os(l[v],m[v]);if(C)return C}return sn(l.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===Tu.mapValue&&u===Tu.mapValue)return 0;if(o===Tu.mapValue)return 1;if(u===Tu.mapValue)return-1;const l=o.fields||{},m=Object.keys(l),v=u.fields||{},C=Object.keys(v);m.sort(),C.sort();for(let b=0;b<m.length&&b<C.length;++b){const x=sn(m[b],C[b]);if(0!==x)return x;const z=Os(l[m[b]],v[C[b]]);if(0!==z)return z}return sn(m.length,C.length)}(n.mapValue,e.mapValue);default:throw mt()}}function OC(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return sn(n,e);const t=kc(n),r=kc(e),o=sn(t.seconds,r.seconds);return 0!==o?o:sn(t.nanos,r.nanos)}function ld(n){return um(n)}function um(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=kc(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ma(n.bytesValue).toBase64():"referenceValue"in n?it.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const l of r.values||[])u?u=!1:o+=",",o+=um(l);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const m of o)l?l=!1:u+=",",u+=`${m}:${um(r.fields[m])}`;return u+"}"}(n.mapValue):mt();var e}function Au(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function PC(n){return!!n&&"integerValue"in n}function dd(n){return!!n&&"arrayValue"in n}function lm(n){return!!n&&"nullValue"in n}function yo(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dm(n){return!!n&&"mapValue"in n}function hd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Aa(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=hd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function vo(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function _o(n){return"nullValue"in n?bf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Au(bu.empty(),it.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:mt()}function wo(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Au(bu.empty(),it.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Tu:mt()}function J_(n,e){const t=Os(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function X_(n,e){const t=Os(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Fi{constructor(e){this.value=e}static empty(){return new Fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!dm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hd(t)}setAll(e){let t=xr.emptyPath(),r={},o=[];e.forEach((l,m)=>{if(!t.isImmediateParentOf(m)){const v=this.getFieldsMap(t);this.applyChanges(v,r,o),r={},o=[],t=m.popLast()}l?r[m.lastSegment()]=hd(l):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());dm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return mo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];dm(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Aa(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new Fi(hd(this.value))}}function NC(n){const e=[];return Aa(n.fields,(t,r)=>{const o=new xr([t]);if(dm(r)){const u=NC(r.mapValue).fields;if(0===u.length)e.push(o);else for(const l of u)e.push(o.child(l))}else e.push(o)}),new Jr(e)}class gr{constructor(e,t,r,o,u,l,m){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=u,this.data=l,this.documentState=m}static newInvalidDocument(e){return new gr(e,0,At.min(),At.min(),At.min(),Fi.empty(),0)}static newFoundDocument(e,t,r,o){return new gr(e,1,t,At.min(),r,o,0)}static newNoDocument(e,t){return new gr(e,2,t,At.min(),At.min(),Fi.empty(),0)}static newUnknownDocument(e,t){return new gr(e,3,t,At.min(),At.min(),Fi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(At.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mu{constructor(e,t){this.position=e,this.inclusive=t}}function hm(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],l=n.position[o];if(r=u.field.isKeyField()?it.comparator(it.fromName(l.referenceValue),t.key):Os(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function fd(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!mo(n.position[t],e.position[t]))return!1;return!0}class pd{constructor(e,t="asc"){this.field=e,this.dir=t}}function RC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class kC{}class Pn extends kC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new r0(e,t,r):"array-contains"===t?new VC(e,r):"in"===t?new a0(e,r):"not-in"===t?new UC(e,r):"array-contains-any"===t?new BC(e,r):new Pn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new pm(e,r):new s0(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Os(t,this.value)):null!==t&&Su(this.value)===Su(t)&&this.matchesComparison(Os(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class qn extends kC{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new qn(e,t)}matches(e){return Fc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Fc(n){return"and"===n.op}function gd(n){return"or"===n.op}function e0(n){return t0(n)&&Fc(n)}function t0(n){for(const e of n.filters)if(e instanceof qn)return!1;return!0}function fm(n){if(n instanceof Pn)return n.field.canonicalString()+n.op.toString()+ld(n.value);if(e0(n))return n.filters.map(e=>fm(e)).join(",");{const e=n.filters.map(t=>fm(t)).join(",");return`${n.op}(${e})`}}function n0(n,e){return n instanceof Pn?(t=n,(r=e)instanceof Pn&&t.op===r.op&&t.field.isEqual(r.field)&&mo(t.value,r.value)):n instanceof qn?function(t,r){return r instanceof qn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((o,u,l)=>o&&n0(u,r.filters[l]),!0)}(n,e):void mt();var t,r}function FC(n,e){const t=n.filters.concat(e);return qn.create(t,n.op)}function LC(n){return n instanceof Pn?`${(e=n).field.canonicalString()} ${e.op} ${ld(e.value)}`:n instanceof qn?function(e){return e.op.toString()+" {"+e.getFilters().map(LC).join(" ,")+"}"}(n):"Filter";var e}class r0 extends Pn{constructor(e,t,r){super(e,t,r),this.key=it.fromName(r.referenceValue)}matches(e){const t=it.comparator(e.key,this.key);return this.matchesComparison(t)}}class pm extends Pn{constructor(e,t){super(e,"in",t),this.keys=o0(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class s0 extends Pn{constructor(e,t){super(e,"not-in",t),this.keys=o0(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function o0(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>it.fromName(r.referenceValue))}class VC extends Pn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return dd(t)&&cd(t.arrayValue,this.value)}}class a0 extends Pn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&cd(this.value.arrayValue,t)}}class UC extends Pn{constructor(e,t){super(e,"not-in",t)}matches(e){if(cd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!cd(this.value.arrayValue,t)}}class BC extends Pn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!dd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>cd(this.value.arrayValue,r))}}class jC{constructor(e,t=null,r=[],o=[],u=null,l=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=l,this.endAt=m,this.dt=null}}function gm(n,e=null,t=[],r=[],o=null,u=null,l=null){return new jC(n,e,t,r,o,u,l)}function Lc(n){const e=dt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>fm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Iu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ld(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ld(r)).join(",")),e.dt=t}return e.dt}function Tf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!RC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!n0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!fd(n.startAt,e.startAt)&&fd(n.endAt,e.endAt)}function mm(n){return it.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ym(n,e){return n.filters.filter(t=>t instanceof Pn&&t.field.isEqual(e))}function $C(n,e,t){let r=bf,o=!0;for(const u of ym(n,e)){let l=bf,m=!0;switch(u.op){case"<":case"<=":l=_o(u.value);break;case"==":case"in":case">=":l=u.value;break;case">":l=u.value,m=!1;break;case"!=":case"not-in":l=bf}J_({value:r,inclusive:o},{value:l,inclusive:m})<0&&(r=l,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];J_({value:r,inclusive:o},{value:l,inclusive:t.inclusive})<0&&(r=l,o=t.inclusive);break}return{value:r,inclusive:o}}function HC(n,e,t){let r=Tu,o=!0;for(const u of ym(n,e)){let l=Tu,m=!0;switch(u.op){case">=":case">":l=wo(u.value),m=!1;break;case"==":case"in":case"<=":l=u.value;break;case"<":l=u.value,m=!1;break;case"!=":case"not-in":l=Tu}X_({value:r,inclusive:o},{value:l,inclusive:m})>0&&(r=l,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];X_({value:r,inclusive:o},{value:l,inclusive:t.inclusive})>0&&(r=l,o=t.inclusive);break}return{value:r,inclusive:o}}class xa{constructor(e,t=null,r=[],o=[],u=null,l="F",m=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=l,this.startAt=m,this.endAt=v,this.wt=null,this._t=null}}function GC(n,e,t,r,o,u,l,m){return new xa(n,e,t,r,o,u,l,m)}function md(n){return new xa(n)}function zC(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function u0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function vm(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function c0(n){return null!==n.collectionGroup}function Vc(n){const e=dt(n);if(null===e.wt){e.wt=[];const t=vm(e),r=u0(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new pd(t)),e.wt.push(new pd(xr.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new pd(xr.keyField(),u))}}}return e.wt}function ns(n){const e=dt(n);if(!e._t)if("F"===e.limitType)e._t=gm(e.path,e.collectionGroup,Vc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Vc(e))t.push(new pd(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Mu(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new Mu(e.startAt.position,e.startAt.inclusive):null;e._t=gm(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e._t}function l0(n,e){e.getFirstInequalityField(),vm(n);const t=n.filters.concat([e]);return new xa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function _m(n,e,t){return new xa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sf(n,e){return Tf(ns(n),ns(e))&&n.limitType===e.limitType}function d0(n){return`${Lc(ns(n))}|lt:${n.limitType}`}function wm(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>LC(r)).join(", ")}]`),Iu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ld(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ld(r)).join(",")),`Target(${t})`}(ns(n))}; limitType=${n.limitType})`}function yd(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):it.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of Vc(t))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,l){const m=hm(o,u,l);return o.inclusive?m<=0:m<0}(t.startAt,Vc(t),r)||t.endAt&&!function(o,u,l){const m=hm(o,u,l);return o.inclusive?m>=0:m>0}(t.endAt,Vc(t),r)));var t,r}function h0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function f0(n){return(e,t)=>{let r=!1;for(const o of Vc(n)){const u=qC(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function qC(n,e,t){const r=n.field.isKeyField()?it.comparator(e.key,t.key):function(o,u,l){const m=u.data.field(o),v=l.data.field(o);return null!==m&&null!==v?Os(m,v):mt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return mt()}}class Yo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Aa(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return Q_(this.inner)}size(){return this.innerSize}}const WC=new ir(it.comparator);function rs(){return WC}const p0=new ir(it.comparator);function vd(...n){let e=p0;for(const t of n)e=e.insert(t.key,t);return e}function xu(n){let e=p0;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Qo(){return Jo()}function ZC(){return Jo()}function Jo(){return new Yo(n=>n.toString(),(n,e)=>n.isEqual(e))}const Y1=new ir(it.comparator),g0=new pr(it.comparator);function yn(...n){let e=g0;for(const t of n)e=e.add(t);return e}const KC=new pr(sn);function Em(){return KC}function rA(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cu(e)?"-0":e}}function Uc(n){return{integerValue:""+n}}function YC(n,e){return nm(e)?Uc(e):rA(n,e)}class Im{constructor(){this._=void 0}}function iA(n,e,t){return n instanceof Oa?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Df(o)&&(o=am(o)),o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof Xo?is(n,e):n instanceof wd?m0(n,e):function(r,o){const u=QC(r,o),l=JC(u)+JC(r.gt);return PC(u)&&PC(r.gt)?Uc(l):rA(r.serializer,l)}(n,e)}function _d(n,e,t){return n instanceof Xo?is(n,e):n instanceof wd?m0(n,e):t}function QC(n,e){return n instanceof Bc?PC(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Oa extends Im{}class Xo extends Im{constructor(e){super(),this.elements=e}}function is(n,e){const t=y0(e);for(const r of n.elements)t.some(o=>mo(o,r))||t.push(r);return{arrayValue:{values:t}}}class wd extends Im{constructor(e){super(),this.elements=e}}function m0(n,e){let t=y0(e);for(const r of n.elements)t=t.filter(o=>!mo(o,r));return{arrayValue:{values:t}}}class Bc extends Im{constructor(e,t){super(),this.serializer=e,this.gt=t}}function JC(n){return Fr(n.integerValue||n.doubleValue)}function y0(n){return dd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ed{constructor(e,t){this.field=e,this.transform=t}}class eD{constructor(e,t){this.version=e,this.transformResults=t}}class Ir{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cm(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Dm{}function Id(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ta(n.key,Ir.none()):new jc(n.key,n.data,Ir.none());{const t=n.data,r=Fi.empty();let o=new pr(xr.comparator);for(let u of e.fields)if(!o.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),o=o.add(u)}return new ea(n.key,r,new Jr(o.toArray()),Ir.none())}}function sA(n,e,t){n instanceof jc?function(r,o,u){const l=r.value.clone(),m=tD(r.fieldTransforms,o,u.transformResults);l.setAll(m),o.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof ea?function(r,o,u){if(!Cm(r.precondition,o))return void o.convertToUnknownDocument(u.version);const l=tD(r.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(v0(r)),m.setAll(l),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Af(n,e,t,r){return n instanceof jc?function(o,u,l,m){if(!Cm(o.precondition,u))return l;const v=o.value.clone(),C=Cd(o.fieldTransforms,m,u);return v.setAll(C),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),null}(n,e,t,r):n instanceof ea?function(o,u,l,m){if(!Cm(o.precondition,u))return l;const v=Cd(o.fieldTransforms,m,u),C=u.data;return C.setAll(v0(o)),C.setAll(v),u.convertToFoundDocument(u.version,C).setHasLocalMutations(),null===l?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(b=>b.field))}(n,e,t,r):(l=t,Cm(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function oA(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=QC(r.transform,o||null);null!=u&&(null===t&&(t=Fi.empty()),t.set(r.field,u))}return t||null}function Mf(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&od(t,r,(o,u)=>function XC(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Xo&&r instanceof Xo||t instanceof wd&&r instanceof wd?od(t.elements,r.elements,mo):t instanceof Bc&&r instanceof Bc?mo(t.gt,r.gt):t instanceof Oa&&r instanceof Oa);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class jc extends Dm{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ea extends Dm{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function v0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function tD(n,e,t){const r=new Map;St(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],l=u.transform,m=e.data.field(u.field);r.set(u.field,_d(l,m,t[o]))}return r}function Cd(n,e,t){const r=new Map;for(const o of n){const u=o.transform,l=t.data.field(o.field);r.set(o.field,iA(u,l,e))}return r}class ta extends Dm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _0 extends Dm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class w0{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&sA(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Af(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Af(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=ZC();return this.mutations.forEach(o=>{const u=e.get(o.key),l=u.overlayedDocument;let m=this.applyToLocalView(l,u.mutatedFields);m=t.has(o.key)?null:m;const v=Id(l,m);null!==v&&r.set(o.key,v),l.isValidDocument()||l.convertToNoDocument(At.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),yn())}isEqual(e){return this.batchId===e.batchId&&od(this.mutations,e.mutations,(t,r)=>Mf(t,r))&&od(this.baseMutations,e.baseMutations,(t,r)=>Mf(t,r))}}class E0{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){St(e.mutations.length===r.length);let o=Y1;const u=e.mutations;for(let l=0;l<u.length;l++)o=o.insert(u[l].key,r[l].version);return new E0(e,t,r,o)}}class bm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class rD{constructor(e,t){this.count=e,this.unchangedNames=t}}var Xr,kn;function iD(n){switch(n){default:return mt();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0}}function sD(n){if(void 0===n)return cr("GRPC error has no .code"),ye.UNKNOWN;switch(n){case Xr.OK:return ye.OK;case Xr.CANCELLED:return ye.CANCELLED;case Xr.UNKNOWN:return ye.UNKNOWN;case Xr.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case Xr.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case Xr.INTERNAL:return ye.INTERNAL;case Xr.UNAVAILABLE:return ye.UNAVAILABLE;case Xr.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case Xr.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case Xr.NOT_FOUND:return ye.NOT_FOUND;case Xr.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case Xr.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case Xr.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case Xr.ABORTED:return ye.ABORTED;case Xr.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case Xr.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case Xr.DATA_LOSS:return ye.DATA_LOSS;default:return mt()}}(kn=Xr||(Xr={}))[kn.OK=0]="OK",kn[kn.CANCELLED=1]="CANCELLED",kn[kn.UNKNOWN=2]="UNKNOWN",kn[kn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kn[kn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kn[kn.NOT_FOUND=5]="NOT_FOUND",kn[kn.ALREADY_EXISTS=6]="ALREADY_EXISTS",kn[kn.PERMISSION_DENIED=7]="PERMISSION_DENIED",kn[kn.UNAUTHENTICATED=16]="UNAUTHENTICATED",kn[kn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kn[kn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kn[kn.ABORTED=10]="ABORTED",kn[kn.OUT_OF_RANGE=11]="OUT_OF_RANGE",kn[kn.UNIMPLEMENTED=12]="UNIMPLEMENTED",kn[kn.INTERNAL=13]="INTERNAL",kn[kn.UNAVAILABLE=14]="UNAVAILABLE",kn[kn.DATA_LOSS=15]="DATA_LOSS";class oD{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return I0}static getOrCreateInstance(){return null===I0&&(I0=new oD),I0}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let I0=null;function aA(){return new TextEncoder}const Q1=new ba([4294967295,4294967295],0);function C0(n){const e=aA().encode(n),t=new Pc;return t.update(e),new Uint8Array(t.digest())}function xf(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ba([t,r],0),new ba([o,u],0)]}class D0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Of(`Invalid padding: ${t}`);if(r<0)throw new Of(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Of(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Of(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=ba.fromNumber(this.It)}Et(e,t,r){let o=e.add(t.multiply(ba.fromNumber(r)));return 1===o.compare(Q1)&&(o=new ba([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=C0(e),[r,o]=xf(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,o,u);if(!this.At(l))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),l=new D0(u,o,t);return r.forEach(m=>l.insert(m)),l}insert(e){if(0===this.It)return;const t=C0(e),[r,o]=xf(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,o,u);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Of extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dd{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Pa.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Dd(At.min(),o,new ir(sn),rs(),yn())}}class Pa{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Pa(r,t,yn(),yn(),yn())}}class Tm{constructor(e,t,r,o){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=o}}class aD{constructor(e,t){this.targetId=e,this.Vt=t}}class uD{constructor(e,t,r=$r.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class cD{constructor(){this.St=0,this.Dt=b0(),this.Ct=$r.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=yn(),t=yn(),r=yn();return this.Dt.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:mt()}}),new Pa(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=b0()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class J1{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=rs(),this.zt=lD(),this.Wt=new ir(sn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:mt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,o)=>{this.te(o)&&t(o)})}ne(e){var t;const r=e.targetId,o=e.Vt.count,u=this.se(r);if(u){const l=u.target;if(mm(l))if(0===o){const m=new it(l.path);this.Yt(r,m,gr.newNoDocument(m,At.min()))}else St(1===o);else{const m=this.ie(r);if(m!==o){const v=this.re(e,m);0!==v&&(this.ee(r),this.Wt=this.Wt.insert(r,2===v?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=oD.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(C,b,x){var z,J,Ce,Fe,Ve,It;const Ut={localCacheCount:b,existenceFilterCount:x.count},_t=x.unchangedNames;return _t&&(Ut.bloomFilter={applied:0===C,hashCount:null!==(z=_t?.hashCount)&&void 0!==z?z:0,bitmapLength:null!==(Fe=null===(Ce=null===(J=_t?.bits)||void 0===J?void 0:J.bitmap)||void 0===Ce?void 0:Ce.length)&&void 0!==Fe?Fe:0,padding:null!==(It=null===(Ve=_t?.bits)||void 0===Ve?void 0:Ve.padding)&&void 0!==It?It:0}),Ut}(v,m,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:o}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:l=0},hashCount:m=0}=r;let v,C;try{v=Ma(u).toUint8Array()}catch(b){if(b instanceof om)return Ri("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw b}try{C=new D0(v,l,m)}catch(b){return Ri(b instanceof Of?"BloomFilter error: ":"Applying bloom filter failed: ",b),1}return 0===C.It?1:o!==t-this.oe(e.targetId,C)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let o=0;return r.forEach(u=>{const l=this.Gt.ue(),m=`projects/${l.projectId}/databases/${l.database}/documents/${u.path.canonicalString()}`;t.vt(m)||(this.Yt(e,u,null),o++)}),o}ce(e){const t=new Map;this.Qt.forEach((u,l)=>{const m=this.se(l);if(m){if(u.current&&mm(m.target)){const v=new it(m.target.path);null!==this.jt.get(v)||this.ae(l,v)||this.Yt(l,v,gr.newNoDocument(v,e))}u.Mt&&(t.set(l,u.Ot()),u.Ft())}});let r=yn();this.zt.forEach((u,l)=>{let m=!0;l.forEachWhile(v=>{const C=this.se(v);return!C||"TargetPurposeLimboResolution"===C.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.jt.forEach((u,l)=>l.setReadTime(e));const o=new Dd(e,t,this.Wt,this.jt,r);return this.jt=rs(),this.zt=lD(),this.Wt=new ir(sn),o}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const o=this.Zt(e);this.ae(e,t)?o.Bt(t,1):o.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new cD,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new pr(sn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||ze("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new cD),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function lD(){return new ir(it.comparator)}function b0(){return new ir(it.comparator)}const uA={asc:"ASCENDING",desc:"DESCENDING"},cA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pf={and:"AND",or:"OR"};class lA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sm(n,e){return n.useProto3Json||Iu(e)?e:{value:e}}function bd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function T0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function dA(n,e){return bd(n,e.toTimestamp())}function Lr(n){return St(!!n),At.fromTimestamp(function(e){const t=kc(e);return new wr(t.seconds,t.nanos)}(n))}function S0(n,e){return(t=n,new On(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Am(n){const e=On.fromString(n);return St(_D(e)),e}function Nf(n,e){return S0(n.databaseId,e.path)}function Eo(n,e){const t=Am(e);if(t.get(1)!==n.databaseId.projectId)throw new je(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new je(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new it(hD(t))}function Mm(n,e){return S0(n.databaseId,e)}function dD(n){const e=Am(n);return 4===e.length?On.emptyPath():hD(e)}function Rf(n){return new On(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hD(n){return St(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function xm(n,e,t){return{name:Nf(n,e),fields:t.value.mapValue.fields}}function fD(n,e,t){const r=Eo(n,e.name),o=Lr(e.updateTime),u=e.createTime?Lr(e.createTime):At.min(),l=new Fi({mapValue:{fields:e.fields}}),m=gr.newFoundDocument(r,o,u,l);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function kf(n,e){let t;if(e instanceof jc)t={update:xm(n,e.key,e.value)};else if(e instanceof ta)t={delete:Nf(n,e.key)};else if(e instanceof ea)t={update:xm(n,e.key,e.data),updateMask:yA(e.fieldMask)};else{if(!(e instanceof _0))return mt();t={verify:Nf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const l=u.transform;if(l instanceof Oa)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Xo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof wd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Bc)return{fieldPath:u.field.canonicalString(),increment:l.gt};throw mt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:dA(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:mt()),t;var o}function A0(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Ir.updateTime(Lr(o.updateTime)):void 0!==o.exists?Ir.exists(o.exists):Ir.none():Ir.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,l){let m=null;"setToServerValue"in l?(St("REQUEST_TIME"===l.setToServerValue),m=new Oa):"appendMissingElements"in l?m=new Xo(l.appendMissingElements.values||[]):"removeAllFromArray"in l?m=new wd(l.removeAllFromArray.values||[]):"increment"in l?m=new Bc(u,l.increment):mt();const v=xr.fromServerFormat(l.fieldPath);return new Ed(v,m)}(n,o)):[];var o;if(e.update){const o=Eo(n,e.update.name),u=new Fi({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Jr((e.updateMask.fieldPaths||[]).map(C=>xr.fromServerFormat(C)));return new ea(o,u,l,t,r)}return new jc(o,u,t,r)}if(e.delete){const o=Eo(n,e.delete);return new ta(o,t)}if(e.verify){const o=Eo(n,e.verify);return new _0(o,t)}return mt()}function gD(n,e){return{documents:[Mm(n,e.path)]}}function M0(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Mm(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Mm(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(v){if(0!==v.length)return vD(qn.create(v,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(v){if(0!==v.length)return v.map(C=>{return{field:Na((b=C).field),direction:yD(b.dir)};var b})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=Sm(n,e.limit);var m,v;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function mD(n){let e=dD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){St(1===r);const b=t.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];t.where&&(u=function(b){const x=x0(b);return x instanceof qn&&e0(x)?x.getFilters():[x]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(b=>{return new pd(Td((x=b).field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let m=null;t.limit&&(m=function(b){let x;return x="object"==typeof b?b.value:b,Iu(x)?null:x}(t.limit));let v=null;var b;t.startAt&&(v=new Mu((b=t.startAt).values||[],!!b.before));let C=null;return t.endAt&&(C=function(b){return new Mu(b.values||[],!b.before)}(t.endAt)),GC(e,o,l,u,m,"F",v,C)}function x0(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Td(e.unaryFilter.field);return Pn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Td(e.unaryFilter.field);return Pn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Td(e.unaryFilter.field);return Pn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Td(e.unaryFilter.field);return Pn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}(n):void 0!==n.fieldFilter?Pn.create(Td((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return qn.create(e.compositeFilter.filters.map(t=>x0(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return mt()}}(e.compositeFilter.op))}(n):mt();var e}function yD(n){return uA[n]}function gA(n){return cA[n]}function mA(n){return Pf[n]}function Na(n){return{fieldPath:n.canonicalString()}}function Td(n){return xr.fromServerFormat(n.fieldPath)}function vD(n){return n instanceof Pn?function(e){if("=="===e.op){if(yo(e.value))return{unaryFilter:{field:Na(e.field),op:"IS_NAN"}};if(lm(e.value))return{unaryFilter:{field:Na(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(yo(e.value))return{unaryFilter:{field:Na(e.field),op:"IS_NOT_NAN"}};if(lm(e.value))return{unaryFilter:{field:Na(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Na(e.field),op:gA(e.op),value:e.value}}}(n):n instanceof qn?function(e){const t=e.getFilters().map(r=>vD(r));return 1===t.length?t[0]:{compositeFilter:{op:mA(e.op),filters:t}}}(n):mt()}function yA(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _D(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Io{constructor(e,t,r,o,u=At.min(),l=At.min(),m=$r.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=m,this.expectedCount=v}withSequenceNumber(e){return new Io(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Om{constructor(e){this.fe=e}}function Pm(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Nm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Nf(o=n.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:bd(o,u.version.toTimestamp()),createTime:bd(o,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:$c(e.version)};else{if(!e.isUnknownDocument())return mt();r.unknownDocument={path:t.path.toArray(),version:$c(e.version)}}var o,u;return r}function Nm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function $c(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ra(n){const e=new wr(n.seconds,n.nanoseconds);return At.fromTimestamp(e)}function Hc(n,e){const t=(e.baseMutations||[]).map(u=>A0(n.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const r=e.mutations.map(u=>A0(n.fe,u)),o=wr.fromMillis(e.localWriteTimeMs);return new w0(e.batchId,o,t,r)}function Sd(n){const e=Ra(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ra(n.lastLimboFreeSnapshotVersion):At.min();let r;var o;return void 0!==n.query.documents?(St(1===(o=n.query).documents.length),r=ns(md(dD(o.documents[0])))):r=ns(mD(n.query)),new Io(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,$r.fromBase64String(n.resumeToken))}function Ou(n,e){const t=$c(e.snapshotVersion),r=$c(e.lastLimboFreeSnapshotVersion);let o;o=mm(e.target)?gD(n.fe,e.target):M0(n.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Lc(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function Rm(n){const e=mD({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?_m(e,e.limit,"L"):e}function O0(n,e){return new bm(e.largestBatchId,A0(n.fe,e.overlayMutation))}function vA(n,e){const t=e.path.lastSegment();return[n,ki(e.path.popLast()),t]}function km(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:$c(r.readTime),documentKey:ki(r.documentKey.path),largestBatchId:r.largestBatchId}}class P0{getBundleMetadata(e,t){return ED(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Ra(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return ED(e).put({bundleId:(r=t).id,createTime:$c(Lr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return N0(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:Rm(o.bundledQuery),readTime:Ra(o.readTime)};var o})}saveNamedQuery(e,t){return N0(e).put({name:(r=t).name,readTime:$c(Lr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function ED(n){return di(n,"bundles")}function N0(n){return di(n,"namedQueries")}class Ff{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Ff(e,t.uid||"")}getOverlay(e,t){return Lf(e).get(vA(this.userId,t)).next(r=>r?O0(this.serializer,r):null)}getOverlays(e,t){const r=Qo();return le.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((u,l)=>{const m=new bm(t,l);o.push(this.we(e,m))}),le.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(l=>o.add(ki(l.getCollectionPath())));const u=[];return o.forEach(l=>{const m=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);u.push(Lf(e).J("collectionPathOverlayIndex",m))}),le.waitFor(u)}getOverlaysForCollection(e,t,r){const o=Qo(),u=ki(t),l=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Lf(e).j("collectionPathOverlayIndex",l).next(m=>{for(const v of m){const C=O0(this.serializer,v);o.set(C.getKey(),C)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=Qo();let l;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Lf(e).X({index:"collectionGroupOverlayIndex",range:m},(v,C,b)=>{const x=O0(this.serializer,C);u.size()<o||x.largestBatchId===l?(u.set(x.getKey(),x),l=x.largestBatchId):b.done()}).next(()=>u)}we(e,t){return Lf(e).put(function(r,o,u){const[l,m,v]=vA(o,u.mutation.key);return{userId:o,collectionPath:m,documentId:v,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:kf(r.fe,u.mutation)}}(this.serializer,this.userId,t))}}function Lf(n){return di(n,"documentOverlays")}class Pu{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Fr(e.integerValue));else if("doubleValue"in e){const r=Fr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Cu(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ma(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?vo(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):mt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const o of Object.keys(r))this.Te(o,t),this.me(r[o],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const o of r)this.me(o,t)}ve(e,t){this.ye(t,37),it.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function R0(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function k0(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=R0(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Pu.Ve=new Pu;class ID{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const o=t.codePointAt(0);this.De(240|o>>>18),this.De(128|63&o>>>12),this.De(128|63&o>>>6),this.De(128|63&o)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const o=t.codePointAt(0);this.Ne(240|o>>>18),this.Ne(128|63&o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o)}}this.ke()}Oe(e){const t=this.Fe(e),r=k0(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Le(e){const t=this.Fe(e),r=k0(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class CD{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class DD{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Vf{constructor(){this.je=new ID,this.ze=new CD(this.je),this.We=new DD(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Gc{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Gc(this.indexId,this.documentKey,this.arrayValue,r)}}function Nu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=bD(n.arrayValue,e.arrayValue),0!==t?t:(t=bD(n.directionalValue,e.directionalValue),0!==t?t:it.comparator(n.documentKey,e.documentKey)))}function bD(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class TD{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){St(e.collectionGroup===this.collectionId);const t=$_(e);if(void 0!==t&&!this.en(t))return!1;const r=po(e);let o=new Set,u=0,l=0;for(;u<r.length&&this.en(r[u]);++u)o=o.add(r[u].fieldPath.canonicalString());if(u===r.length)return!0;if(void 0!==this.Ze){if(!o.has(this.Ze.field.canonicalString())){const m=r[u];if(!this.nn(this.Ze,m)||!this.sn(this.Ye[l++],m))return!1}++u}for(;u<r.length;++u)if(l>=this.Ye.length||!this.sn(this.Ye[l++],r[u]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function _A(n){var e,t;if(St(n instanceof Pn||n instanceof qn),n instanceof Pn){if(n instanceof a0){const o=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>Pn.create(n.field,"==",u)))||[];return qn.create(o,"or")}return n}const r=n.filters.map(o=>_A(o));return qn.create(r,n.op)}function SD(n){if(0===n.getFilters().length)return[];const e=V0(_A(n));return St(wA(e)),F0(e)||L0(e)?[e]:e.getFilters()}function F0(n){return n instanceof Pn}function L0(n){return n instanceof qn&&e0(n)}function wA(n){return F0(n)||L0(n)||function(e){if(e instanceof qn&&gd(e)){for(const t of e.getFilters())if(!F0(t)&&!L0(t))return!1;return!0}return!1}(n)}function V0(n){if(St(n instanceof Pn||n instanceof qn),n instanceof Pn)return n;if(1===n.filters.length)return V0(n.filters[0]);const e=n.filters.map(r=>V0(r));let t=qn.create(e,n.op);return t=Fm(t),wA(t)?t:(St(t instanceof qn),St(Fc(t)),St(t.filters.length>1),t.filters.reduce((r,o)=>U0(r,o)))}function U0(n,e){let t;return St(n instanceof Pn||n instanceof qn),St(e instanceof Pn||e instanceof qn),t=n instanceof Pn?e instanceof Pn?qn.create([n,e],"and"):B0(n,e):e instanceof Pn?B0(e,n):function(r,o){if(St(r.filters.length>0&&o.filters.length>0),Fc(r)&&Fc(o))return FC(r,o.getFilters());const u=gd(r)?r:o,l=gd(r)?o:r,m=u.filters.map(v=>U0(v,l));return qn.create(m,"or")}(n,e),Fm(t)}function B0(n,e){if(Fc(e))return FC(e,n.getFilters());{const t=e.filters.map(r=>U0(n,r));return qn.create(t,"or")}}function Fm(n){if(St(n instanceof Pn||n instanceof qn),n instanceof Pn)return n;const e=n.getFilters();if(1===e.length)return Fm(e[0]);if(t0(n))return n;const t=e.map(o=>Fm(o)),r=[];return t.forEach(o=>{o instanceof Pn?r.push(o):o instanceof qn&&(o.op===n.op?r.push(...o.filters):r.push(o))}),1===r.length?r[0]:qn.create(r,n.op)}class EA{constructor(){this.rn=new j0}addToCollectionParentIndex(e,t){return this.rn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(zi.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(zi.min())}updateCollectionGroup(e,t,r){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class j0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new pr(On.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new pr(On.comparator)).toArray()}}const Lm=new Uint8Array(0);class IA{constructor(e,t){this.user=e,this.databaseId=t,this.on=new j0,this.un=new Yo(r=>Lc(r),(r,o)=>Tf(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const u={collectionId:r,parent:ki(o)};return AD(e).put(u)}return le.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[dC(t),""],!1,!0);return AD(e).j(o).next(u=>{for(const l of u){if(l.collectionId!==t)break;r.push(Ko(l.parent))}return r})}addFieldIndex(e,t){const r=Vm(e),o={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var l;delete o.indexId;const u=r.add(o);if(t.indexState){const l=Bf(e);return u.next(m=>{l.put(km(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=Vm(e),o=Bf(e),u=Uf(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Uf(e);let o=!0;const u=new Map;return le.forEach(this.cn(t),l=>this.an(e,l).next(m=>{o&&(o=!!m),u.set(l,m)})).next(()=>{if(o){let l=yn();const m=[];return le.forEach(u,(v,C)=>{var b;ze("IndexedDbIndexManager",`Using index ${b=v,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(_t=>`${_t.fieldPath}:${_t.kind}`).join(",")}`} to execute ${Lc(t)}`);const x=function(_t,$t){const un=$_($t);if(void 0===un)return null;for(const An of ym(_t,un.fieldPath))switch(An.op){case"array-contains-any":return An.value.arrayValue.values||[];case"array-contains":return[An.value]}return null}(C,v),z=function(_t,$t){const un=new Map;for(const An of po($t))for(const as of ym(_t,An.fieldPath))switch(as.op){case"==":case"in":un.set(An.fieldPath.canonicalString(),as.value);break;case"not-in":case"!=":return un.set(An.fieldPath.canonicalString(),as.value),Array.from(un.values())}return null}(C,v),J=function(_t,$t){const un=[];let An=!0;for(const as of po($t)){const eh=0===as.kind?$C(_t,as.fieldPath,_t.startAt):HC(_t,as.fieldPath,_t.startAt);un.push(eh.value),An&&(An=eh.inclusive)}return new Mu(un,An)}(C,v),Ce=function(_t,$t){const un=[];let An=!0;for(const as of po($t)){const eh=0===as.kind?HC(_t,as.fieldPath,_t.endAt):$C(_t,as.fieldPath,_t.endAt);un.push(eh.value),An&&(An=eh.inclusive)}return new Mu(un,An)}(C,v),Fe=this.hn(v,C,J),Ve=this.hn(v,C,Ce),It=this.ln(v,C,z),Ut=this.fn(v.indexId,x,Fe,J.inclusive,Ve,Ce.inclusive,It);return le.forEach(Ut,_t=>r.H(_t,t.limit).next($t=>{$t.forEach(un=>{const An=it.fromSegments(un.documentKey);l.has(An)||(l=l.add(An),m.push(An))})}))}).next(()=>m)}return le.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:SD(qn.create(e.filters,"and")).map(r=>gm(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,o,u,l,m){const v=(null!=t?t.length:1)*Math.max(r.length,u.length),C=v/(null!=t?t.length:1),b=[];for(let x=0;x<v;++x){const z=t?this.dn(t[x/C]):Lm,J=this.wn(e,z,r[x%C],o),Ce=this._n(e,z,u[x%C],l),Fe=m.map(Ve=>this.wn(e,z,Ve,!0));b.push(...this.createRange(J,Ce,Fe))}return b}wn(e,t,r,o){const u=new Gc(e,it.empty(),t,r);return o?u:u.Je()}_n(e,t,r,o){const u=new Gc(e,it.empty(),t,r);return o?u.Je():u}an(e,t){const r=new TD(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{let l=null;for(const m of u)r.tn(m)&&(!l||m.fields.length>l.fields.length)&&(l=m);return l})}getIndexType(e,t){let r=2;const o=this.cn(t);return le.forEach(o,u=>this.an(e,u).next(l=>{l?0!==r&&l.fields.length<function(m){let v=new pr(xr.comparator),C=!1;for(const b of m.filters)for(const x of b.getFlattenedFilters())x.field.isKeyField()||("array-contains"===x.op||"array-contains-any"===x.op?C=!0:v=v.add(x.field));for(const b of m.orderBy)b.field.isKeyField()||(v=v.add(b.field));return v.size+(C?1:0)}(u)&&(r=1):r=0})).next(()=>null!==t.limit&&o.length>1&&2===r?1:r)}mn(e,t){const r=new Vf;for(const o of po(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const l=r.He(o.kind);Pu.Ve._e(u,l)}return r.Qe()}dn(e){const t=new Vf;return Pu.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new Vf;return Pu.Ve._e(Au(this.databaseId,t),r.He(function(o){const u=po(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let o=[];o.push(new Vf);let u=0;for(const l of po(e)){const m=r[u++];for(const v of o)if(this.yn(t,l.fieldPath)&&dd(m))o=this.pn(o,l,m);else{const C=v.He(l.kind);Pu.Ve._e(m,C)}}return this.In(o)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const o=[...e],u=[];for(const l of r.arrayValue.values||[])for(const m of o){const v=new Vf;v.seed(m.Qe()),Pu.Ve._e(l,v.He(t.kind)),u.push(v)}return u}yn(e,t){return!!e.filters.find(r=>r instanceof Pn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Vm(e),o=Bf(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(u=>{const l=[];return le.forEach(u,m=>o.get([m.indexId,this.uid]).next(v=>{l.push(function(C,b){const x=b?new If(b.sequenceNumber,new zi(Ra(b.readTime),new it(Ko(b.documentKey)),b.largestBatchId)):If.empty(),z=C.fields.map(([J,Ce])=>new Jg(xr.fromServerFormat(J),Ce));return new Ef(C.indexId,C.collectionGroup,z,x)}(m,v))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:sn(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Vm(e),u=Bf(e);return this.Tn(e).next(l=>o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>le.forEach(m,v=>u.put(km(v.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return le.forEach(t,(o,u)=>{const l=r.get(o.collectionGroup);return(l?le.resolve(l):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),le.forEach(m,v=>this.En(e,o,v).next(C=>{const b=this.An(u,v);return C.isEqual(b)?le.resolve():this.vn(e,u,v,C,b)}))))})}Rn(e,t,r,o){return Uf(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,o){return Uf(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const o=Uf(e);let u=new pr(Nu);return o.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(l,m)=>{u=u.add(new Gc(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}An(e,t){let r=new pr(Nu);const o=this.mn(t,e);if(null==o)return r;const u=$_(t);if(null!=u){const l=e.data.field(u.fieldPath);if(dd(l))for(const m of l.arrayValue.values||[])r=r.add(new Gc(t.indexId,e.key,this.dn(m),o))}else r=r.add(new Gc(t.indexId,e.key,Lm,o));return r}vn(e,t,r,o,u){ze("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(m,v,C,b,x){const z=m.getIterator(),J=v.getIterator();let Ce=Du(z),Fe=Du(J);for(;Ce||Fe;){let Ve=!1,It=!1;if(Ce&&Fe){const Ut=C(Ce,Fe);Ut<0?It=!0:Ut>0&&(Ve=!0)}else null!=Ce?It=!0:Ve=!0;Ve?(b(Fe),Fe=Du(J)):It?(x(Ce),Ce=Du(z)):(Ce=Du(z),Fe=Du(J))}}(o,u,Nu,m=>{l.push(this.Rn(e,t,r,m))},m=>{l.push(this.Pn(e,t,r,m))}),le.waitFor(l)}Tn(e){let t=1;return Bf(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,m)=>Nu(l,m)).filter((l,m,v)=>!m||0!==Nu(l,v[m-1]));const o=[];o.push(e);for(const l of r){const m=Nu(l,e),v=Nu(l,t);if(0===m)o[0]=e.Je();else if(m>0&&v<0)o.push(l),o.push(l.Je());else if(v>0)break}o.push(t);const u=[];for(let l=0;l<o.length;l+=2){if(this.bn(o[l],o[l+1]))return[];u.push(IDBKeyRange.bound([o[l].indexId,this.uid,o[l].arrayValue,o[l].directionalValue,Lm,[]],[o[l+1].indexId,this.uid,o[l+1].arrayValue,o[l+1].directionalValue,Lm,[]]))}return u}bn(e,t){return Nu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Ad)}getMinOffset(e,t){return le.mapArray(this.cn(t),r=>this.an(e,r).next(o=>o||mt())).next(Ad)}}function AD(n){return di(n,"collectionParents")}function Uf(n){return di(n,"indexEntries")}function Vm(n){return di(n,"indexConfiguration")}function Bf(n){return di(n,"indexState")}function Ad(n){St(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;hC(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new zi(e.readTime,e.documentKey,t)}const $0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Li{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Li(e,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function H0(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],l=IDBKeyRange.only(t.batchId);let m=0;const v=r.X({range:l},(b,x,z)=>(m++,z.delete()));u.push(v.next(()=>{St(1===m)}));const C=[];for(const b of t.mutations){const x=q_(e,b.key.path,t.batchId);u.push(o.delete(x)),C.push(b.key)}return le.waitFor(u).next(()=>C)}function jf(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw mt();e=n.noDocument}return JSON.stringify(e).length}Li.DEFAULT_COLLECTION_PERCENTILE=10,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Li.DEFAULT=new Li(41943040,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Li.DISABLED=new Li(-1,0,0);class $f{constructor(e,t,r,o){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=o,this.Vn={}}static de(e,t,r,o){St(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new $f(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ru(e).X({index:"userMutationsIndex",range:r},(o,u,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=Hf(e),l=Ru(e);return l.add({}).next(m=>{St("number"==typeof m);const v=new w0(m,t,r,o),C=function(z,J,Ce){const Fe=Ce.baseMutations.map(It=>kf(z.fe,It)),Ve=Ce.mutations.map(It=>kf(z.fe,It));return{userId:J,batchId:Ce.batchId,localWriteTimeMs:Ce.localWriteTime.toMillis(),baseMutations:Fe,mutations:Ve}}(this.serializer,this.userId,v),b=[];let x=new pr((z,J)=>sn(z.canonicalString(),J.canonicalString()));for(const z of o){const J=q_(this.userId,z.key.path,m);x=x.add(z.key.path.popLast()),b.push(l.put(C)),b.push(u.put(J,vC))}return x.forEach(z=>{b.push(this.indexManager.addToCollectionParentIndex(e,z))}),e.addOnCommittedListener(()=>{this.Vn[m]=v.keys()}),le.waitFor(b).next(()=>v)})}lookupMutationBatch(e,t){return Ru(e).get(t).next(r=>r?(St(r.userId===this.userId),Hc(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?le.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Vn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Ru(e).X({index:"userMutationsIndex",range:o},(l,m,v)=>{m.userId===this.userId&&(St(m.batchId>=r),u=Hc(this.serializer,m)),v.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ru(e).X({index:"userMutationsIndex",range:t,reverse:!0},(o,u,l)=>{r=u.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ru(e).j("userMutationsIndex",t).next(r=>r.map(o=>Hc(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=ud(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return Hf(e).X({range:o},(l,m,v)=>{const[C,b,x]=l,z=Ko(b);if(C===this.userId&&t.path.isEqual(z))return Ru(e).get(x).next(J=>{if(!J)throw mt();St(J.userId===this.userId),u.push(Hc(this.serializer,J))});v.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new pr(sn);const o=[];return t.forEach(u=>{const l=ud(this.userId,u.path),m=IDBKeyRange.lowerBound(l),v=Hf(e).X({range:m},(C,b,x)=>{const[z,J,Ce]=C,Fe=Ko(J);z===this.userId&&u.path.isEqual(Fe)?r=r.add(Ce):x.done()});o.push(v)}),le.waitFor(o).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=ud(this.userId,r),l=IDBKeyRange.lowerBound(u);let m=new pr(sn);return Hf(e).X({range:l},(v,C,b)=>{const[x,z,J]=v,Ce=Ko(z);x===this.userId&&r.isPrefixOf(Ce)?Ce.length===o&&(m=m.add(J)):b.done()}).next(()=>this.Dn(e,m))}Dn(e,t){const r=[],o=[];return t.forEach(u=>{o.push(Ru(e).get(u).next(l=>{if(null===l)throw mt();St(l.userId===this.userId),r.push(Hc(this.serializer,l))}))}),le.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return H0(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),le.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return le.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Hf(e).X({range:r},(u,l,m)=>{if(u[0]===this.userId){const v=Ko(u[1]);o.push(v)}else m.done()}).next(()=>{St(0===o.length)})})}containsKey(e,t){return G0(e,this.userId,t)}xn(e){return CA(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function G0(n,e,t){const r=ud(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let l=!1;return Hf(n).X({range:u,Y:!0},(m,v,C)=>{const[b,x,z]=m;b===e&&x===o&&(l=!0),C.done()}).next(()=>l)}function Ru(n){return di(n,"mutations")}function Hf(n){return di(n,"documentMutations")}function CA(n){return di(n,"mutationQueues")}class ku{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ku(0)}static Mn(){return new ku(-1)}}class DA{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new ku(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>At.fromTimestamp(new wr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.On(e,o)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>zc(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(St(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return zc(e).X((l,m)=>{const v=Sd(m);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(o++,u.push(this.removeTargetData(e,v)))}).next(()=>le.waitFor(u)).next(()=>o)}forEachTarget(e,t){return zc(e).X((r,o)=>{const u=Sd(o);t(u)})}$n(e){return MD(e).get("targetGlobalKey").next(t=>(St(null!==t),t))}On(e,t){return MD(e).put("targetGlobalKey",t)}Fn(e,t){return zc(e).put(Ou(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Lc(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return zc(e).X({range:o,index:"queryTargetsIndex"},(l,m,v)=>{const C=Sd(m);Tf(t,C.target)&&(u=C,v.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=Fu(e);return t.forEach(l=>{const m=ki(l.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,l))}),le.waitFor(o)}removeMatchingKeys(e,t,r){const o=Fu(e);return le.forEach(t,u=>{const l=ki(u.path);return le.waitFor([o.delete([r,l]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Fu(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Fu(e);let u=yn();return o.X({range:r,Y:!0},(l,m,v)=>{const C=Ko(l[1]),b=new it(C);u=u.add(b)}).next(()=>u)}containsKey(e,t){const r=ki(t.path),o=IDBKeyRange.bound([r],[dC(r)],!1,!0);let u=0;return Fu(e).X({index:"documentTargetsIndex",Y:!0,range:o},([l,m],v,C)=>{0!==l&&(u++,C.done())}).next(()=>u>0)}le(e,t){return zc(e).get(t).next(r=>r?Sd(r):null)}}function zc(n){return di(n,"targets")}function MD(n){return di(n,"targetGlobal")}function Fu(n){return di(n,"targetDocuments")}function Md([n,e],[t,r]){const o=sn(n,t);return 0===o?sn(e,r):o}class bA{constructor(e){this.Ln=e,this.buffer=new pr(Md),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Md(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Um{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;ze("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ie.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Sa(r)?ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Zo(r)}yield t.Qn(3e5)}))}}class TA{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return le.resolve(xs.ct);const r=new bA(t);return this.jn.forEachTarget(e,o=>r.Kn(o.sequenceNumber)).next(()=>this.jn.Wn(e,o=>r.Kn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve($0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$0):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,o,u,l,m,v,C;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,l=Date.now(),this.nthSequenceNumber(e,o))).next(x=>(r=x,m=Date.now(),this.removeTargets(e,r,t))).next(x=>(u=x,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(C=Date.now(),wu()<=lu.in.DEBUG&&ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-b}ms\n\tDetermined least recently used ${o} in `+(m-l)+`ms\n\tRemoved ${u} targets in `+(v-m)+`ms\n\tRemoved ${x} documents in `+(C-v)+`ms\nTotal Duration: ${C-b}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:x})))}}class AA{constructor(e,t){this.db=e,this.garbageCollector=function SA(n,e){return new TA(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,o)=>t(o))}addReference(e,t,r){return z0(e,r)}removeReference(e,t,r){return z0(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return z0(e,t)}Xn(e,t){return function(r,o){let u=!1;return CA(r).Z(l=>G0(r,l,o).next(m=>(m&&(u=!0),le.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Yn(e,(l,m)=>{if(m<=t){const v=this.Xn(e,l).next(C=>{if(!C)return u++,r.getEntry(e,l).next(()=>(r.removeEntry(l,At.min()),Fu(e).delete([0,ki(l.path)])))});o.push(v)}}).next(()=>le.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return z0(e,t)}Yn(e,t){const r=Fu(e);let o,u=xs.ct;return r.X({index:"documentTargetsIndex"},([l,m],{path:v,sequenceNumber:C})=>{0===l?(u!==xs.ct&&t(new it(Ko(o)),u),u=C,o=v):u=xs.ct}).next(()=>{u!==xs.ct&&t(new it(Ko(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function z0(n,e){return Fu(n).put((r=n.currentSequenceNumber,{targetId:0,path:ki(e.path),sequenceNumber:r}));var r}class xd{constructor(){this.changes=new Yo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?le.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class MA{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Lu(e).put(r)}removeEntry(e,t,r){return Lu(e).delete(function(o,u){const l=o.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],Nm(u),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=gr.newInvalidDocument(t);return Lu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(zf(t))},(o,u)=>{r=this.ts(t,u)}).next(()=>r)}es(e,t){let r={size:0,document:gr.newInvalidDocument(t)};return Lu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(zf(t))},(o,u)=>{r={document:this.ts(t,u),size:jf(u)}}).next(()=>r)}getEntries(e,t){let r=rs();return this.ns(e,t,(o,u)=>{const l=this.ts(o,u);r=r.insert(o,l)}).next(()=>r)}ss(e,t){let r=rs(),o=new ir(it.comparator);return this.ns(e,t,(u,l)=>{const m=this.ts(u,l);r=r.insert(u,m),o=o.insert(u,jf(l))}).next(()=>({documents:r,rs:o}))}ns(e,t,r){if(t.isEmpty())return le.resolve();let o=new pr(qf);t.forEach(v=>o=o.add(v));const u=IDBKeyRange.bound(zf(o.first()),zf(o.last())),l=o.getIterator();let m=l.getNext();return Lu(e).X({index:"documentKeyIndex",range:u},(v,C,b)=>{const x=it.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;m&&qf(m,x)<0;)r(m,null),m=l.getNext();m&&m.isEqual(x)&&(r(m,C),m=l.hasNext()?l.getNext():null),m?b.G(zf(m)):b.done()}).next(()=>{for(;m;)r(m,null),m=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,o){const u=t.path,l=[u.popLast().toArray(),u.lastSegment(),Nm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Lu(e).j(IDBKeyRange.bound(l,m,!0)).next(v=>{let C=rs();for(const b of v){const x=this.ts(it.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);x.isFoundDocument()&&(yd(t,x)||o.has(x.key))&&(C=C.insert(x.key,x))}return C})}getAllFromCollectionGroup(e,t,r,o){let u=rs();const l=q0(t,r),m=q0(t,zi.max());return Lu(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,m,!0)},(v,C,b)=>{const x=this.ts(it.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);u=u.insert(x.key,x),u.size===o&&b.done()}).next(()=>u)}newChangeBuffer(e){return new xA(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Gf(e).get("remoteDocumentGlobalKey").next(t=>(St(!!t),t))}Zn(e,t){return Gf(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function wD(n,e){let t;if(e.document)t=fD(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=it.fromSegments(e.noDocument.path),o=Ra(e.noDocument.readTime);t=gr.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return mt();{const r=it.fromSegments(e.unknownDocument.path),o=Ra(e.unknownDocument.version);t=gr.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new wr(r[0],r[1]);return At.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(At.min()))return r}return gr.newInvalidDocument(e)}}function xD(n){return new MA(n)}class xA extends xd{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Yo(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new pr((u,l)=>sn(u.canonicalString(),l.canonicalString()));return this.changes.forEach((u,l)=>{const m=this.us.get(u);if(t.push(this.os.removeEntry(e,u,m.readTime)),l.isValidDocument()){const v=Pm(this.os.serializer,l);o=o.add(u.path.popLast());const C=jf(v);r+=C-m.size,t.push(this.os.addEntry(e,u,v))}else if(r-=m.size,this.trackRemovals){const v=Pm(this.os.serializer,l.convertToNoDocument(At.min()));t.push(this.os.addEntry(e,u,v))}}),o.forEach(u=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.os.updateMetadata(e,r)),le.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:o})=>(o.forEach((u,l)=>{this.us.set(u,{size:l,readTime:r.get(u).readTime})}),r))}}function Gf(n){return di(n,"remoteDocumentGlobal")}function Lu(n){return di(n,"remoteDocumentsV14")}function zf(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function q0(n,e){const t=e.documentKey.path.toArray();return[n,Nm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function qf(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=sn(t[u],r[u]),o)return o;return o=sn(t.length,r.length),o||(o=sn(t[t.length-2],r[r.length-2]),o||sn(t[t.length-1],r[r.length-1]))}class OA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class OD{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(null!==r&&Af(r.mutation,o,Jr.empty(),wr.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,yn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=yn()){const o=Qo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(u=>{let l=vd();return u.forEach((m,v)=>{l=l.insert(m,v.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Qo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,yn()))}populateOverlays(e,t,r){const o=[];return r.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((l,m)=>{t.set(l,m)})})}computeViews(e,t,r,o){let u=rs();const l=Jo(),m=Jo();return t.forEach((v,C)=>{const b=r.get(C.key);o.has(C.key)&&(void 0===b||b.mutation instanceof ea)?u=u.insert(C.key,C):void 0!==b?(l.set(C.key,b.mutation.getFieldMask()),Af(b.mutation,C,b.mutation.getFieldMask(),wr.now())):l.set(C.key,Jr.empty())}),this.recalculateAndSaveOverlays(e,u).next(v=>(v.forEach((C,b)=>l.set(C,b)),t.forEach((C,b)=>{var x;return m.set(C,new OA(b,null!==(x=l.get(C))&&void 0!==x?x:null))}),m))}recalculateAndSaveOverlays(e,t){const r=Jo();let o=new ir((l,m)=>l-m),u=yn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const m of l)m.keys().forEach(v=>{const C=t.get(v);if(null===C)return;let b=r.get(v)||Jr.empty();b=m.applyToLocalView(C,b),r.set(v,b);const x=(o.get(m.batchId)||yn()).add(v);o=o.insert(m.batchId,x)})}).next(()=>{const l=[],m=o.getReverseIterator();for(;m.hasNext();){const v=m.getNext(),C=v.key,b=v.value,x=ZC();b.forEach(z=>{if(!u.has(z)){const J=Id(t.get(z),r.get(z));null!==J&&x.set(z,J),u=u.add(z)}}),l.push(this.documentOverlayCache.saveOverlays(e,C,x))}return le.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return it.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):c0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(u=>{const l=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):le.resolve(Qo());let m=-1,v=u;return l.next(C=>le.forEach(C,(b,x)=>(m<x.largestBatchId&&(m=x.largestBatchId),u.get(b)?le.resolve():this.remoteDocumentCache.getEntry(e,b).next(z=>{v=v.insert(b,z)}))).next(()=>this.populateOverlays(e,C,u)).next(()=>this.computeViews(e,v,C,yn())).next(b=>({batchId:m,changes:xu(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new it(t)).next(r=>{let o=vd();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let u=vd();return this.indexManager.getCollectionParents(e,o).next(l=>le.forEach(l,m=>{const v=(C=t,b=m.child(o),new xa(b,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,b;return this.getDocumentsMatchingCollectionQuery(e,v,r).next(C=>{C.forEach((b,x)=>{u=u.insert(b,x)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o))).next(u=>{o.forEach((m,v)=>{const C=v.getKey();null===u.get(C)&&(u=u.insert(C,gr.newInvalidDocument(C)))});let l=vd();return u.forEach((m,v)=>{const C=o.get(m);void 0!==C&&Af(C.mutation,v,Jr.empty(),wr.now()),yd(t,v)&&(l=l.insert(m,v))}),l})}}class PD{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return le.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Lr(r.createTime)}),le.resolve()}getNamedQuery(e,t){return le.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:Rm(r.bundledQuery),readTime:Lr(r.readTime)}),le.resolve();var r}}class PA{constructor(){this.overlays=new ir(it.comparator),this.ls=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Qo();return le.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.we(e,t,u)}),le.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.ls.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),le.resolve()}getOverlaysForCollection(e,t,r){const o=Qo(),u=t.length+1,l=new it(t.child("")),m=this.overlays.getIteratorFrom(l);for(;m.hasNext();){const v=m.getNext().value,C=v.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===u&&v.largestBatchId>r&&o.set(v.getKey(),v)}return le.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new ir((C,b)=>C-b);const l=this.overlays.getIterator();for(;l.hasNext();){const C=l.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>r){let b=u.get(C.largestBatchId);null===b&&(b=Qo(),u=u.insert(C.largestBatchId,b)),b.set(C.getKey(),C)}}const m=Qo(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((C,b)=>m.set(C,b)),!(m.size()>=o)););return le.resolve(m)}we(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const l=this.ls.get(o.largestBatchId).delete(r.key);this.ls.set(o.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new bm(t,r));let u=this.ls.get(t);void 0===u&&(u=yn(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class W0{constructor(){this.fs=new pr(hi.ds),this.ws=new pr(hi._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new hi(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new hi(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new it(new On([])),r=new hi(t,e),o=new hi(t,e+1),u=[];return this.ws.forEachInRange([r,o],l=>{this.ys(l),u.push(l.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new it(new On([])),r=new hi(t,e),o=new hi(t,e+1);let u=yn();return this.ws.forEachInRange([r,o],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new hi(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class hi{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return it.comparator(e.key,t.key)||sn(e.As,t.As)}static _s(e,t){return sn(e.As,t.As)||it.comparator(e.key,t.key)}}class Bm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new pr(hi.ds)}checkEmpty(e){return le.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const u=this.vs;this.vs++;const l=new w0(u,t,r,o);this.mutationQueue.push(l);for(const m of o)this.Rs=this.Rs.add(new hi(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return le.resolve(l)}lookupMutationBatch(e,t){return le.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.bs(t+1),u=o<0?0:o;return le.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new hi(t,0),o=new hi(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,o],l=>{const m=this.Ps(l.As);u.push(m)}),le.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new pr(sn);return t.forEach(o=>{const u=new hi(o,0),l=new hi(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,l],m=>{r=r.add(m.As)})}),le.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;it.isDocumentKey(u)||(u=u.child(""));const l=new hi(new it(u),0);let m=new pr(sn);return this.Rs.forEachWhile(v=>{const C=v.key.path;return!!r.isPrefixOf(C)&&(C.length===o&&(m=m.add(v.As)),!0)},l),le.resolve(this.Vs(m))}Vs(e){const t=[];return e.forEach(r=>{const o=this.Ps(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){St(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return le.forEach(t.mutations,o=>{const u=new hi(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new hi(t,0),o=this.Rs.firstAfterOrEqual(r);return le.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return le.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class NA{constructor(e){this.Ds=e,this.docs=new ir(it.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return le.resolve(r?r.document.mutableCopy():gr.newInvalidDocument(t))}getEntries(e,t){let r=rs();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():gr.newInvalidDocument(o))}),le.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let u=rs();const l=t.path,m=new it(l.child("")),v=this.docs.getIteratorFrom(m);for(;v.hasNext();){const{key:C,value:{document:b}}=v.getNext();if(!l.isPrefixOf(C.path))break;C.path.length>l.length+1||hC(Cf(b),r)<=0||(o.has(b.key)||yd(t,b))&&(u=u.insert(b.key,b.mutableCopy()))}return le.resolve(u)}getAllFromCollectionGroup(e,t,r,o){mt()}Cs(e,t){return le.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new RA(this)}getSize(e){return le.resolve(this.size)}}class RA extends xd{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.os.addEntry(e,o)):this.os.removeEntry(r)}),le.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class ND{constructor(e){this.persistence=e,this.xs=new Yo(t=>Lc(t),Tf),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.Ns=0,this.ks=new W0,this.targetCount=0,this.Ms=ku.kn()}forEachTarget(e,t){return this.xs.forEach((r,o)=>t(o)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),le.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new ku(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Fn(t),le.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.xs.forEach((l,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.xs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),le.waitFor(u).next(()=>o)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return le.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),le.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(l=>{u.push(o.markPotentiallyOrphaned(e,l))}),le.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),le.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return le.resolve(r)}containsKey(e,t){return le.resolve(this.ks.containsKey(t))}}class jm{constructor(e,t){this.$s={},this.overlays={},this.Os=new xs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new ND(this),this.indexManager=new EA,this.remoteDocumentCache=new NA(r=>this.referenceDelegate.Ls(r)),this.serializer=new Om(t),this.qs=new PD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new PA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new Bm(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){ze("MemoryPersistence","Starting transaction:",e);const o=new Z0(this.Os.next());return this.referenceDelegate.Us(),r(o).next(u=>this.referenceDelegate.Ks(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Gs(e,t){return le.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class Z0 extends pC{constructor(e){super(),this.currentSequenceNumber=e}}class Wf{constructor(e){this.persistence=e,this.Qs=new W0,this.js=null}static zs(e){return new Wf(e)}get Ws(){if(this.js)return this.js;throw mt()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),le.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),le.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(o=>this.Ws.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Ws,r=>{const o=it.fromPath(r);return this.Hs(e,o).next(u=>{u||t.removeEntry(o,At.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return le.or([()=>le.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class RD{constructor(e){this.serializer=e}O(e,t,r,o){const u=new em("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rm,{unique:!0}),m.createObjectStore("documentMutations"),K0(e),function(m){m.createObjectStore("remoteDocuments")}(e));let l=le.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),K0(e)),l=l.next(()=>function(m){const v=m.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:At.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",C)}(u))),r<4&&o>=4&&(0!==r&&(l=l.next(()=>function(m,v){return v.store("mutations").j().next(C=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rm,{unique:!0});const b=v.store("mutations"),x=C.map(z=>b.put(z));return le.waitFor(x)})}(e,u))),l=l.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(l=l.next(()=>this.Ys(u))),r<6&&o>=6&&(l=l.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),r<7&&o>=7&&(l=l.next(()=>this.Zs(u))),r<8&&o>=8&&(l=l.next(()=>this.ti(e,u))),r<9&&o>=9&&(l=l.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(l=l.next(()=>this.ei(u))),r<11&&o>=11&&(l=l.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(l=l.next(()=>{!function(m){const v=m.createObjectStore("documentOverlays",{keyPath:bC});v.createIndex("collectionPathOverlayIndex",eA,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",tA,{unique:!1})}(e)})),r<13&&o>=13&&(l=l.next(()=>function(m){const v=m.createObjectStore("remoteDocumentsV14",{keyPath:QS});v.createIndex("documentKeyIndex",JS),v.createIndex("collectionGroupIndex",_C)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(l=l.next(()=>this.si(e,u))),r<15&&o>=15&&(l=l.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:XS}).createIndex("sequenceNumberIndex",IC,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:CC}).createIndex("documentKeyIndex",DC,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((r,o)=>{t+=jf(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(o=>le.forEach(o,u=>{const l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(m=>le.forEach(m,v=>{St(v.userId===u.userId);const C=Hc(this.serializer,v);return H0(e,u.userId,C).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.X((l,m)=>{const v=new On(l),C=[0,ki(v)];u.push(t.get(C).next(b=>b?le.resolve():t.put({targetId:0,path:ki(v),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>le.waitFor(u))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:EC});const r=t.store("collectionParents"),o=new j0,u=l=>{if(o.add(l)){const m=l.lastSegment(),v=l.popLast();return r.put({collectionId:m,parent:ki(v)})}};return t.store("remoteDocuments").X({Y:!0},(l,m)=>{const v=new On(l);return u(v.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,m,v],C)=>{const b=Ko(m);return u(b.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,o)=>{const u=Sd(o),l=Ou(this.serializer,u);return t.put(l)})}ni(e,t){const r=t.store("remoteDocuments"),o=[];return r.X((u,l)=>{const m=t.store("remoteDocumentsV14"),v=(C=l,C.document?new it(On.fromString(C.document.name).popFirst(5)):C.noDocument?it.fromSegments(C.noDocument.path):C.unknownDocument?it.fromSegments(C.unknownDocument.path):mt()).path.toArray();var C;const b={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};o.push(m.put(b))}).next(()=>le.waitFor(o))}si(e,t){const r=t.store("mutations"),o=xD(this.serializer),u=new jm(Wf.zs,this.serializer.fe);return r.j().next(l=>{const m=new Map;return l.forEach(v=>{var C;let b=null!==(C=m.get(v.userId))&&void 0!==C?C:yn();Hc(this.serializer,v).keys().forEach(x=>b=b.add(x)),m.set(v.userId,b)}),le.forEach(m,(v,C)=>{const b=new Yr(C),x=Ff.de(this.serializer,b),z=u.getIndexManager(b),J=$f.de(b,this.serializer,z,u.referenceDelegate);return new OD(o,J,x,z).recalculateAndSaveOverlaysForDocumentKeys(new sm(t,xs.ct),v).next()})})}}function K0(n){n.createObjectStore("targetDocuments",{keyPath:wC}).createIndex("documentTargetsIndex",Z_,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",W_,{unique:!0}),n.createObjectStore("targetGlobal")}const Y0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Q0{constructor(e,t,r,o,u,l,m,v,C,b,x=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=u,this.window=l,this.document=m,this.ri=C,this.oi=b,this.ui=x,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=z=>Promise.resolve(),!Q0.D())throw new je(ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new AA(this,o),this.di=t+"main",this.serializer=new Om(v),this.wi=new go(this.di,this.ui,new RD(this.serializer)),this.Bs=new DA(this.referenceDelegate,this.serializer),this.remoteDocumentCache=xD(this.serializer),this.qs=new P0,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===b&&cr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new je(ye.FAILED_PRECONDITION,Y0);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new xs(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,Ie.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Ie.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Ie.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Od(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Sa(e))return ze("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return qc(e).get("owner").next(t=>le.resolve(this.Ri(t)))}Pi(e){return Od(e).delete(this.clientId)}bi(){var e=this;return(0,Ie.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=di(r,"clientMetadata");return o.j().next(u=>{const l=e.Si(u,18e5),m=u.filter(v=>-1===l.indexOf(v));return le.forEach(m,v=>o.delete(v.clientId)).next(()=>m)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?le.resolve(!0):qc(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new je(ye.FAILED_PRECONDITION,Y0);return!1}}return!(!this.networkEnabled||!this.inForeground)||Od(e).j().next(r=>void 0===this.Si(r,5e3).find(o=>!(this.clientId===o.clientId||!(!this.networkEnabled&&o.networkEnabled||!this.inForeground&&o.inForeground&&this.networkEnabled===o.networkEnabled))))}).next(t=>(this.isPrimary!==t&&ze("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ie.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new sm(t,xs.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Od(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return $f.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new IA(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Ff.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){ze("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=15===(l=this.ui)?AC:14===l?K_:13===l?im:12===l?SC:11===l?TC:void mt();var l;let m;return this.wi.runTransaction(e,o,u,v=>(m=new sm(v,this.Os?this.Os.next():xs.ct),"readwrite-primary"===t?this.Ti(m).next(C=>!!C||this.Ei(m)).next(C=>{if(!C)throw cr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new je(ye.FAILED_PRECONDITION,fC);return r(m)}).next(C=>this.vi(m).next(()=>C)):this.Oi(m).next(()=>r(m)))).then(v=>(m.raiseOnCommittedEvent(),v))}Oi(e){return qc(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new je(ye.FAILED_PRECONDITION,Y0)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qc(e).put("owner",t)}static D(){return go.D()}Ai(e){const t=qc(e);return t.get("owner").next(r=>this.Ri(r)?(ze("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):le.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(cr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Fn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return ze("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return cr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){cr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function qc(n){return di(n,"owner")}function Od(n){return di(n,"clientMetadata")}function Hm(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Zf{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=o}static Li(e,t){let r=yn(),o=yn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Zf(e,t.fromCache,r,o)}}class Gm{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,o){return this.Ki(e,t).next(u=>u||this.Gi(e,t,o,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(zC(t))return le.resolve(null);let r=ns(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=_m(t,null,"F"),r=ns(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=yn(...u);return this.Ui.getDocuments(e,l).next(m=>this.indexManager.getMinOffset(e,r).next(v=>{const C=this.ji(t,m);return this.zi(t,C,l,v.readTime)?this.Ki(e,_m(t,null,"F")):this.Wi(e,C,t,v)}))})))}Gi(e,t,r,o){return zC(t)||o.isEqual(At.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const l=this.ji(t,u);return this.zi(t,l,r,o)?this.Qi(e,t):(wu()<=lu.in.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wm(t)),this.Wi(e,l,t,Xg(o,-1)))})}ji(e,t){let r=new pr(f0(e));return t.forEach((o,u)=>{yd(e,u)&&(r=r.add(u))}),r}zi(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Qi(e,t){return wu()<=lu.in.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",wm(t)),this.Ui.getDocumentsMatchingQuery(e,t,zi.min())}Wi(e,t,r,o){return this.Ui.getDocumentsMatchingQuery(e,r,o).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class kA{constructor(e,t,r,o){this.persistence=e,this.Hi=t,this.serializer=o,this.Ji=new ir(sn),this.Yi=new Yo(u=>Lc(u),Tf),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OD(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function kD(n,e,t,r){return new kA(n,e,t,r)}function FD(n,e){return J0.apply(this,arguments)}function J0(){return J0=(0,Ie.Z)(function*(n,e){const t=dt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],m=[];let v=yn();for(const C of o){l.push(C.batchId);for(const b of C.mutations)v=v.add(b.key)}for(const C of u){m.push(C.batchId);for(const b of C.mutations)v=v.add(b.key)}return t.localDocuments.getDocuments(r,v).next(C=>({er:C,removedBatchIds:l,addedBatchIds:m}))})})}),J0.apply(this,arguments)}function zm(n){const e=dt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function UD(n,e,t){let r=yn(),o=yn();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=rs();return t.forEach((m,v)=>{const C=u.get(m);v.isFoundDocument()!==C.isFoundDocument()&&(o=o.add(m)),v.isNoDocument()&&v.version.isEqual(At.min())?(e.removeEntry(m,v.readTime),l=l.insert(m,v)):!C.isValidDocument()||v.version.compareTo(C.version)>0||0===v.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(v),l=l.insert(m,v)):ze("LocalStore","Ignoring outdated watch update for ",m,". Current version:",C.version," Watch version:",v.version)}),{nr:l,sr:o}})}function BD(n,e){const t=dt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Wc(n,e){const t=dt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Bs.getTargetData(r,e).next(u=>u?(o=u,le.resolve(o)):t.Bs.allocateTargetId(r).next(l=>(o=new Io(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ji.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function Pd(n,e,t){return qm.apply(this,arguments)}function qm(){return qm=(0,Ie.Z)(function*(n,e,t){const r=dt(n),o=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,o)))}catch(l){if(!Sa(l))throw l;ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(o.target)}),qm.apply(this,arguments)}function Kf(n,e,t){const r=dt(n);let o=At.min(),u=yn();return r.persistence.runTransaction("Execute query","readonly",l=>function(m,v,C){const b=dt(m),x=b.Yi.get(C);return void 0!==x?le.resolve(b.Ji.get(x)):b.Bs.getTargetData(v,C)}(r,l,ns(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,m.targetId).next(v=>{u=v})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?o:At.min(),t?u:yn())).next(m=>(ew(r,h0(e),m),{documents:m,ir:u})))}function jD(n,e){const t=dt(n),r=dt(t.Bs),o=t.Ji.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.le(u,e).next(l=>l?l.target:null))}function X0(n,e){const t=dt(n),r=t.Xi.get(e)||At.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Zi.getAllFromCollectionGroup(o,e,Xg(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(ew(t,e,o),o))}function ew(n,e,t){let r=n.Xi.get(e)||At.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}function Vu(){return Vu=(0,Ie.Z)(function*(n,e,t,r){const o=dt(n);let u=yn(),l=rs();for(const C of t){const b=e.rr(C.metadata.name);C.document&&(u=u.add(b));const x=e.ur(C);x.setReadTime(e.cr(C.metadata.readTime)),l=l.insert(b,x)}const m=o.Zi.newChangeBuffer({trackRemovals:!0}),v=yield Wc(o,(C=r,ns(md(On.fromString(`__bundle__/docs/${C}`)))));var C;return o.persistence.runTransaction("Apply bundle documents","readwrite",C=>UD(C,m,l).next(b=>(m.apply(C),b)).next(b=>o.Bs.removeMatchingKeysForTargetId(C,v.targetId).next(()=>o.Bs.addMatchingKeys(C,u,v.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(C,b.nr,b.sr)).next(()=>b.nr)))}),Vu.apply(this,arguments)}function FA(n,e){return tw.apply(this,arguments)}function tw(){return tw=(0,Ie.Z)(function*(n,e,t=yn()){const r=yield Wc(n,ns(Rm(e.bundledQuery))),o=dt(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const l=Lr(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return o.qs.saveNamedQuery(u,e);const m=r.withResumeToken($r.EMPTY_BYTE_STRING,l);return o.Ji=o.Ji.insert(m.targetId,m),o.Bs.updateTargetData(u,m).next(()=>o.Bs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.Bs.addMatchingKeys(u,t,r.targetId)).next(()=>o.qs.saveNamedQuery(u,e))})}),tw.apply(this,arguments)}function LA(n,e){return`firestore_clients_${n}_${e}`}function VA(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Wm(n,e){return`firestore_targets_${n}_${e}`}class Nd{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static ar(e,t,r){const o=JSON.parse(r);let u,l="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return l&&o.error&&(l="string"==typeof o.error.message&&"string"==typeof o.error.code,l&&(u=new je(o.error.code,o.error.message))),l?new Nd(e,t,o.state,u):(cr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zm{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new je(r.error.code,r.error.message))),u?new Zm(e,r.state,o):(cr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nw{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=Em();for(let l=0;o&&l<r.activeTargetIds.length;++l)o=nm(r.activeTargetIds[l]),u=u.add(r.activeTargetIds[l]);return o?new nw(e,u):(cr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class $D{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new $D(t.clientId,t.onlineState):(cr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Zc{constructor(){this.activeTargetIds=Em()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rw{constructor(e,t,r,o,u){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new ir(sn),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=LA(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Zc),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.syncEngine.$i();for(const o of t){if(o===e.wr)continue;const u=e.getItem(LA(e.persistenceKey,o));if(u){const l=nw.ar(o,u);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const o=e.br(r);o&&e.Vr(o)}for(const o of e.yr)e.mr(o);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Wm(this.persistenceKey,e));if(r){const o=Zm.ar(e,r);o&&(t=o.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Wm(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Cr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ze("SharedClientState","READ",e,t),t}setItem(e,t){ze("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ze("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ze("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void cr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Ie.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const o=t.Or(r.key);return t.Fr(o,null)}{const o=t.Br(r.key,r.newValue);if(o)return t.Fr(o.clientId,o)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const o=t.Lr(r.key,r.newValue);if(o)return t.qr(o)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const o=t.Ur(r.key,r.newValue);if(o)return t.Kr(o)}}else if(r.key===t.vr){if(null!==r.newValue){const o=t.br(r.newValue);if(o)return t.Vr(o)}}else if(r.key===t.Ir){const o=function(u){let l=xs.ct;if(null!=u)try{const m=JSON.parse(u);St("number"==typeof m),l=m}catch(m){cr("SharedClientState","Failed to read sequence number from WebStorage",m)}return l}(r.newValue);o!==xs.ct&&t.sequenceNumberHandler(o)}else if(r.key===t.Rr){const o=t.Gr(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.Qr(u)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const o=new Nd(this.currentUser,e,t,r),u=VA(this.persistenceKey,this.currentUser,e);this.setItem(u,o.hr())}Cr(e){const t=VA(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const o=Wm(this.persistenceKey,e),u=new Zm(e,t,r);this.setItem(o,u.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return nw.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),o=Number(r[1]);return Nd.ar(new Yr(void 0!==r[2]?r[2]:null),o,t)}Ur(e,t){const r=this.Ar.exec(e),o=Number(r[1]);return Zm.ar(o,t)}br(e){return $D.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Ie.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);ze("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),o=this.Sr(this.gr),u=this.Sr(r),l=[],m=[];return u.forEach(v=>{o.has(v)||l.push(v)}),o.forEach(v=>{u.has(v)||m.push(v)}),this.syncEngine.Wr(l,m).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Em();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class Km{constructor(){this.Hr=new Zc,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Zc,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class UA{Yr(e){}shutdown(){}}class iw{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ym=null;function sw(){return null===Ym?Ym=268435456+Math.round(2147483648*Math.random()):Ym++,"0x"+Ym.toString(16)}const BA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ow{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Vi="WebChannelConnection";class jA extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,o,u){const l=sw(),m=this.To(e,t);ze("RestConnection",`Sending RPC '${e}' ${l}:`,m,r);const v={};return this.Eo(v,o,u),this.Ao(e,m,v,r).then(C=>(ze("RestConnection",`Received RPC '${e}' ${l}: `,C),C),C=>{throw Ri("RestConnection",`RPC '${e}' ${l} failed with error: `,C,"url: ",m,"request:",r),C})}vo(e,t,r,o,u,l){return this.Io(e,t,r,o,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+fo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}To(e,t){return`${this.mo}/v1/${t}:${BA[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,o){const u=sw();return new Promise((l,m)=>{const v=new Gi;v.setWithCredentials(!0),v.listenOnce(HS.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case V_.NO_ERROR:const b=v.getResponseJson();ze(Vi,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),l(b);break;case V_.TIMEOUT:ze(Vi,`RPC '${e}' ${u} timed out`),m(new je(ye.DEADLINE_EXCEEDED,"Request time out"));break;case V_.HTTP_ERROR:const x=v.getStatus();if(ze(Vi,`RPC '${e}' ${u} failed with status:`,x,"response text:",v.getResponseText()),x>0){let z=v.getResponseJson();Array.isArray(z)&&(z=z[0]);const J=z?.error;if(J&&J.status&&J.message){const Ce=function(Fe){const Ve=Fe.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(Ve)>=0?Ve:ye.UNKNOWN}(J.status);m(new je(Ce,J.message))}else m(new je(ye.UNKNOWN,"Server responded with status "+v.getStatus()))}else m(new je(ye.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{ze(Vi,`RPC '${e}' ${u} completed.`)}});const C=JSON.stringify(o);ze(Vi,`RPC '${e}' ${u} sending request:`,o),v.send(t,"POST",C,r,15)})}Ro(e,t,r){const o=sw(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=z1(),m=Yg(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},C=this.longPollingOptions.timeoutSeconds;void 0!==C&&(v.longPollingTimeout=Math.round(1e3*C)),this.useFetchStreams&&(v.xmlHttpFactory=new Wo({})),this.Eo(v.initMessageHeaders,t,r),v.encodeInitMessageHeaders=!0;const b=u.join("");ze(Vi,`Creating RPC '${e}' stream ${o}: ${b}`,v);const x=l.createWebChannel(b,v);let z=!1,J=!1;const Ce=new ow({ro:Ve=>{J?ze(Vi,`Not sending because RPC '${e}' stream ${o} is closed:`,Ve):(z||(ze(Vi,`Opening RPC '${e}' stream ${o} transport.`),x.open(),z=!0),ze(Vi,`RPC '${e}' stream ${o} sending:`,Ve),x.send(Ve))},oo:()=>x.close()}),Fe=(Ve,It,Ut)=>{Ve.listen(It,_t=>{try{Ut(_t)}catch($t){setTimeout(()=>{throw $t},0)}})};return Fe(x,_u.EventType.OPEN,()=>{J||ze(Vi,`RPC '${e}' stream ${o} transport opened.`)}),Fe(x,_u.EventType.CLOSE,()=>{J||(J=!0,ze(Vi,`RPC '${e}' stream ${o} transport closed`),Ce.wo())}),Fe(x,_u.EventType.ERROR,Ve=>{J||(J=!0,Ri(Vi,`RPC '${e}' stream ${o} transport errored:`,Ve),Ce.wo(new je(ye.UNAVAILABLE,"The operation could not be completed")))}),Fe(x,_u.EventType.MESSAGE,Ve=>{var It;if(!J){const Ut=Ve.data[0];St(!!Ut);const $t=Ut.error||(null===(It=Ut[0])||void 0===It?void 0:It.error);if($t){ze(Vi,`RPC '${e}' stream ${o} received error:`,$t);const un=$t.status;let An=function(eh){const HP=Xr[eh];if(void 0!==HP)return sD(HP)}(un),as=$t.message;void 0===An&&(An=ye.INTERNAL,as="Unknown error status: "+un+" with message "+$t.message),J=!0,Ce.wo(new je(An,as)),x.close()}else ze(Vi,`RPC '${e}' stream ${o} received:`,Ut),Ce._o(Ut)}}),Fe(m,U_.STAT_EVENT,Ve=>{Ve.stat===oC.PROXY?ze(Vi,`RPC '${e}' stream ${o} detected buffering proxy`):Ve.stat===oC.NOPROXY&&ze(Vi,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Ce.fo()},0),Ce}}function Yf(){return typeof window<"u"?window:null}function Rd(){return typeof document<"u"?document:null}function Qm(n){return new lA(n,!0)}class Jm{constructor(e,t,r=1e3,o=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=o,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),o=Math.max(0,t-r);o>0&&ze("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class HD{constructor(e,t,r,o,u,l,m,v){this.ii=e,this.$o=r,this.Oo=o,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=m,this.listener=v,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Jm(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Ie.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Ie.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,Ie.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ye.RESOURCE_EXHAUSTED?(cr(t.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ye.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Fo===t&&this.Zo(r,o)},r=>{e(()=>{const o=new je(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(o)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{r(()=>this.tu(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Go(){var e=this;this.state=5,this.qo.No((0,Ie.Z)(function*(){e.state=0,e.start()}))}tu(e){return ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GD extends HD{constructor(e,t,r,o,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,l),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function hA(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:mt(),o=e.targetChange.targetIds||[],u=function(v,C){return v.useProto3Json?(St(void 0===C||"string"==typeof C),$r.fromBase64String(C||"")):(St(void 0===C||C instanceof Uint8Array),$r.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,m=l&&function(v){const C=void 0===v.code?ye.UNKNOWN:sD(v.code);return new je(C,v.message||"")}(l);t=new uD(r,o,u,m||null)}else if("documentChange"in e){const r=e.documentChange,o=Eo(n,r.document.name),u=Lr(r.document.updateTime),l=r.document.createTime?Lr(r.document.createTime):At.min(),m=new Fi({mapValue:{fields:r.document.fields}}),v=gr.newFoundDocument(o,u,l,m);t=new Tm(r.targetIds||[],r.removedTargetIds||[],v.key,v)}else if("documentDelete"in e){const r=e.documentDelete,o=Eo(n,r.document),u=r.readTime?Lr(r.readTime):At.min(),l=gr.newNoDocument(o,u);t=new Tm([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,o=Eo(n,r.document);t=new Tm([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return mt();{const r=e.filter,{count:o=0,unchangedNames:u}=r,l=new rD(o,u);t=new aD(r.targetId,l)}}var v;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return At.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?At.min():u.readTime?Lr(u.readTime):At.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Rf(this.serializer),t.addTarget=function(o,u){let l;const m=u.target;if(l=mm(m)?{documents:gD(o,m)}:{query:M0(o,m)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=T0(o,u.resumeToken);const v=Sm(o,u.expectedCount);null!==v&&(l.expectedCount=v)}else if(u.snapshotVersion.compareTo(At.min())>0){l.readTime=bd(o,u.snapshotVersion.toTimestamp());const v=Sm(o,u.expectedCount);null!==v&&(l.expectedCount=v)}return l}(this.serializer,e);const r=function pA(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Rf(this.serializer),t.removeTarget=e,this.Wo(t)}}class kd extends HD{constructor(e,t,r,o,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,l),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function fA(n,e){return n&&n.length>0?(St(void 0!==e),n.map(t=>function(r,o){let u=Lr(r.updateTime?r.updateTime:o);return u.isEqual(At.min())&&(u=Lr(o)),new eD(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Lr(e.commitTime);return this.listener.cu(r,t)}return St(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Rf(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>kf(this.serializer,r))};this.Wo(t)}}class $A extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new je(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Io(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new je(ye.UNKNOWN,o.toString())})}vo(e,t,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.vo(e,t,r,u,l,o)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new je(ye.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class X1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(cr(t),this.mu=!1):ze("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class HA{constructor(e,t,r,o,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(m=>{r.enqueueAndForget((0,Ie.Z)(function*(){var v;Uu(l)&&(ze("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,Ie.Z)(function*(C){const b=dt(C);b.vu.add(4),yield Fd(b),b.bu.set("Unknown"),b.vu.delete(4),yield Xm(b)}),function(C){return v.apply(this,arguments)})(l))}))}),this.bu=new X1(r,o)}}function Xm(n){return aw.apply(this,arguments)}function aw(){return aw=(0,Ie.Z)(function*(n){if(Uu(n))for(const e of n.Ru)yield e(!0)}),aw.apply(this,arguments)}function Fd(n){return uw.apply(this,arguments)}function uw(){return uw=(0,Ie.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),uw.apply(this,arguments)}function Jf(n,e){const t=dt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),dw(t)?ey(t):Kc(t).Ko()&&cw(t,e))}function Ld(n,e){const t=dt(n),r=Kc(t);t.Au.delete(e),r.Ko()&&lw(t,e),0===t.Au.size&&(r.Ko()?r.jo():Uu(t)&&t.bu.set("Unknown"))}function cw(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Kc(n).su(e)}function lw(n,e){n.Vu.qt(e),Kc(n).iu(e)}function ey(n){n.Vu=new J1({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Kc(n).start(),n.bu.gu()}function dw(n){return Uu(n)&&!Kc(n).Uo()&&n.Au.size>0}function Uu(n){return 0===dt(n).vu.size}function hw(n){n.Vu=void 0}function GA(n){return ty.apply(this,arguments)}function ty(){return ty=(0,Ie.Z)(function*(n){n.Au.forEach((e,t)=>{cw(n,e)})}),ty.apply(this,arguments)}function qD(n,e){return ny.apply(this,arguments)}function ny(){return ny=(0,Ie.Z)(function*(n,e){hw(n),dw(n)?(n.bu.Iu(e),ey(n)):n.bu.set("Unknown")}),ny.apply(this,arguments)}function WD(n,e,t){return fw.apply(this,arguments)}function fw(){return fw=(0,Ie.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof uD&&2===e.state&&e.cause)try{yield(r=(0,Ie.Z)(function*(o,u){const l=u.cause;for(const m of u.targetIds)o.Au.has(m)&&(yield o.remoteSyncer.rejectListen(m,l),o.Au.delete(m),o.Vu.removeTarget(m))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ry(n,r)}else if(e instanceof Tm?n.Vu.Ht(e):e instanceof aD?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(At.min()))try{const r=yield zm(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const l=o.Vu.ce(u);return l.targetChanges.forEach((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const C=o.Au.get(v);C&&o.Au.set(v,C.withResumeToken(m.resumeToken,u))}}),l.targetMismatches.forEach((m,v)=>{const C=o.Au.get(m);if(!C)return;o.Au.set(m,C.withResumeToken($r.EMPTY_BYTE_STRING,C.snapshotVersion)),lw(o,m);const b=new Io(C.target,m,v,C.sequenceNumber);cw(o,b)}),o.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){ze("RemoteStore","Failed to raise snapshot:",r),yield ry(n,r)}var r}),fw.apply(this,arguments)}function ry(n,e,t){return ZD.apply(this,arguments)}function ZD(){return ZD=(0,Ie.Z)(function*(n,e,t){if(!Sa(e))throw e;n.vu.add(1),yield Fd(n),n.bu.set("Offline"),t||(t=()=>zm(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ie.Z)(function*(){ze("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Xm(n)}))}),ZD.apply(this,arguments)}function pw(n,e){return e().catch(t=>ry(n,t,e))}function Xf(n){return KD.apply(this,arguments)}function KD(){return KD=(0,Ie.Z)(function*(n){const e=dt(n),t=Bu(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;ex(e);)try{const o=yield BD(e.localStore,r);if(null===o){0===e.Eu.length&&t.jo();break}r=o.batchId,tx(e,o)}catch(o){yield ry(e,o)}zA(e)&&qA(e)}),KD.apply(this,arguments)}function ex(n){return Uu(n)&&n.Eu.length<10}function tx(n,e){n.Eu.push(e);const t=Bu(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function zA(n){return Uu(n)&&!Bu(n).Uo()&&n.Eu.length>0}function qA(n){Bu(n).start()}function nx(n){return YD.apply(this,arguments)}function YD(){return YD=(0,Ie.Z)(function*(n){Bu(n).hu()}),YD.apply(this,arguments)}function rx(n){return iy.apply(this,arguments)}function iy(){return iy=(0,Ie.Z)(function*(n){const e=Bu(n);for(const t of n.Eu)e.uu(t.mutations)}),iy.apply(this,arguments)}function gw(n,e,t){return sy.apply(this,arguments)}function sy(){return sy=(0,Ie.Z)(function*(n,e,t){const r=n.Eu.shift(),o=E0.from(r,e,t);yield pw(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Xf(n)}),sy.apply(this,arguments)}function WA(n,e){return Vd.apply(this,arguments)}function Vd(){return Vd=(0,Ie.Z)(function*(n,e){var t;e&&Bu(n).ou&&(yield(t=(0,Ie.Z)(function*(r,o){if(iD(u=o.code)&&u!==ye.ABORTED){const l=r.Eu.shift();Bu(r).Qo(),yield pw(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o)),yield Xf(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),zA(n)&&qA(n)}),Vd.apply(this,arguments)}function QD(n,e){return JD.apply(this,arguments)}function JD(){return JD=(0,Ie.Z)(function*(n,e){const t=dt(n);t.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const r=Uu(t);t.vu.add(3),yield Fd(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Xm(t)}),JD.apply(this,arguments)}function XD(n,e){return mw.apply(this,arguments)}function mw(){return mw=(0,Ie.Z)(function*(n,e){const t=dt(n);e?(t.vu.delete(2),yield Xm(t)):e||(t.vu.add(2),yield Fd(t),t.bu.set("Unknown"))}),mw.apply(this,arguments)}function Kc(n){return n.Su||(n.Su=function(e,t,r){const o=dt(e);return o.fu(),new GD(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:GA.bind(null,n),ao:qD.bind(null,n),nu:WD.bind(null,n)}),n.Ru.push(function(){var e=(0,Ie.Z)(function*(t){t?(n.Su.Qo(),dw(n)?ey(n):n.bu.set("Unknown")):(yield n.Su.stop(),hw(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Bu(n){return n.Du||(n.Du=function(e,t,r){const o=dt(e);return o.fu(),new kd(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:nx.bind(null,n),ao:WA.bind(null,n),au:rx.bind(null,n),cu:gw.bind(null,n)}),n.Ru.push(function(){var e=(0,Ie.Z)(function*(t){t?(n.Du.Qo(),yield Xf(n)):(yield n.Du.stop(),n.Eu.length>0&&(ze("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class yw{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,o,u){const l=Date.now()+r,m=new yw(e,t,l,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new je(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ud(n,e){if(cr("AsyncQueue",`${e}: ${n}`),Sa(n))return new je(ye.UNAVAILABLE,`${e}: ${n}`);throw n}class ep{constructor(e){this.comparator=e?(t,r)=>e(t,r)||it.comparator(t.key,r.key):(t,r)=>it.comparator(t.key,r.key),this.keyedMap=vd(),this.sortedSet=new ir(this.comparator)}static emptySet(e){return new ep(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ep)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new ep;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class eb{constructor(){this.Cu=new ir(it.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):mt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class na{constructor(e,t,r,o,u,l,m,v,C){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=m,this.excludesMetadataChanges=v,this.hasCachedResults=C}static fromInitialDocuments(e,t,r,o,u){const l=[];return t.forEach(m=>{l.push({type:0,doc:m})}),new na(e,t,ep.emptySet(t),l,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class oy{constructor(){this.Nu=void 0,this.listeners=[]}}class ZA{constructor(){this.queries=new Yo(e=>d0(e),Sf),this.onlineState="Unknown",this.ku=new Set}}function vw(n,e){return _w.apply(this,arguments)}function _w(){return _w=(0,Ie.Z)(function*(n,e){const t=dt(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new oy),o)try{u.Nu=yield t.onListen(r)}catch(l){const m=Ud(l,`Initialization of query '${wm(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&Cw(t)}),_w.apply(this,arguments)}function ww(n,e){return Ew.apply(this,arguments)}function Ew(){return Ew=(0,Ie.Z)(function*(n,e){const t=dt(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),Ew.apply(this,arguments)}function KA(n,e){const t=dt(n);let r=!1;for(const o of e){const l=t.queries.get(o.query);if(l){for(const m of l.listeners)m.$u(o)&&(r=!0);l.Nu=o}}r&&Cw(t)}function Iw(n,e,t){const r=dt(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function Cw(n){n.ku.forEach(e=>{e.next()})}class Dw{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new na(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=na.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class YA{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class tb{constructor(e){this.serializer=e}rr(e){return Eo(this.serializer,e)}ur(e){return e.metadata.exists?fD(this.serializer,e.document,!1):gr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Lr(e)}}class QA{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=nb(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=On.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new tb(this.serializer);for(const o of e)if(o.metadata.queries){const u=r.rr(o.metadata.name);for(const l of o.metadata.queries){const m=(t.get(l)||yn()).add(u);t.set(l,m)}}return t}complete(){var e=this;return(0,Ie.Z)(function*(){const t=yield function ss(n,e,t,r){return Vu.apply(this,arguments)}(e.localStore,new tb(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const o of e.queries)yield FA(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function nb(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class rb{constructor(e){this.key=e}}class ib{constructor(e){this.key=e}}class sb{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=yn(),this.mutatedKeys=yn(),this.tc=f0(e),this.ec=new ep(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new eb,o=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,l=o,m=!1;const v="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,C="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((b,x)=>{const z=o.get(b),J=yd(this.query,x)?x:null,Ce=!!z&&this.mutatedKeys.has(z.key),Fe=!!J&&(J.hasLocalMutations||this.mutatedKeys.has(J.key)&&J.hasCommittedMutations);let Ve=!1;z&&J?z.data.isEqual(J.data)?Ce!==Fe&&(r.track({type:3,doc:J}),Ve=!0):this.rc(z,J)||(r.track({type:2,doc:J}),Ve=!0,(v&&this.tc(J,v)>0||C&&this.tc(J,C)<0)&&(m=!0)):!z&&J?(r.track({type:0,doc:J}),Ve=!0):z&&!J&&(r.track({type:1,doc:z}),Ve=!0,(v||C)&&(m=!0)),Ve&&(J?(l=l.add(J),u=Fe?u.add(b):u.delete(b)):(l=l.delete(b),u=u.delete(b)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const b="F"===this.query.limitType?l.last():l.first();l=l.delete(b.key),u=u.delete(b.key),r.track({type:1,doc:b})}return{ec:l,ic:r,zi:m,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((C,b)=>function(x,z){const J=Ce=>{switch(Ce){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return J(x)-J(z)}(C.type,b.type)||this.tc(C.doc,b.doc)),this.oc(r);const l=t?this.uc():[],m=0===this.Zu.size&&this.current?1:0,v=m!==this.Xu;return this.Xu=m,0!==u.length||v?{snapshot:new na(this.query,e.ec,o,u,e.mutatedKeys,0===m,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new eb,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=yn(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new ib(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new rb(r))}),t}hc(e){this.Yu=e.ir,this.Zu=yn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return na.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class ob{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class bw{constructor(e){this.key=e,this.fc=!1}}class JA{constructor(e,t,r,o,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Yo(m=>d0(m),Sf),this._c=new Map,this.mc=new Set,this.gc=new ir(it.comparator),this.yc=new Map,this.Ic=new W0,this.Tc={},this.Ec=new Map,this.Ac=ku.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function XA(n,e){return ay.apply(this,arguments)}function ay(){return ay=(0,Ie.Z)(function*(n,e){const t=my(n);let r,o;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.lc();else{const l=yield Wc(t.localStore,ns(e)),m=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,o=yield uy(t,e,r,"current"===m,l.resumeToken),t.isPrimaryClient&&Jf(t.remoteStore,l)}return o}),ay.apply(this,arguments)}function uy(n,e,t,r,o){return ab.apply(this,arguments)}function ab(){return ab=(0,Ie.Z)(function*(n,e,t,r,o){n.Rc=(x,z,J)=>{return(Ce=(0,Ie.Z)(function*(Fe,Ve,It,Ut){let _t=Ve.view.sc(It);_t.zi&&(_t=yield Kf(Fe.localStore,Ve.query,!1).then(({documents:An})=>Ve.view.sc(An,_t)));const $t=Ut&&Ut.targetChanges.get(Ve.targetId),un=Ve.view.applyChanges(_t,Fe.isPrimaryClient,$t);return db(Fe,Ve.targetId,un.cc),un.snapshot}),function(Fe,Ve,It,Ut){return Ce.apply(this,arguments)})(n,x,z,J);var Ce};const u=yield Kf(n.localStore,e,!0),l=new sb(e,u.ir),m=l.sc(u.documents),v=Pa.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),C=l.applyChanges(m,n.isPrimaryClient,v);db(n,t,C.cc);const b=new ob(e,t,l);return n.wc.set(e,b),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),C.snapshot}),ab.apply(this,arguments)}function ys(n,e){return cy.apply(this,arguments)}function cy(){return cy=(0,Ie.Z)(function*(n,e){const t=dt(n),r=t.wc.get(e),o=t._c.get(r.targetId);if(o.length>1)return t._c.set(r.targetId,o.filter(u=>!Sf(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Pd(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Ld(t.remoteStore,r.targetId),Bd(t,r.targetId)}).catch(Zo))):(Bd(t,r.targetId),yield Pd(t.localStore,r.targetId,!0))}),cy.apply(this,arguments)}function Tw(){return Tw=(0,Ie.Z)(function*(n,e,t){const r=Vw(n);try{const o=yield function(u,l){const m=dt(u),v=wr.now(),C=l.reduce((z,J)=>z.add(J.key),yn());let b,x;return m.persistence.runTransaction("Locally write mutations","readwrite",z=>{let J=rs(),Ce=yn();return m.Zi.getEntries(z,C).next(Fe=>{J=Fe,J.forEach((Ve,It)=>{It.isValidDocument()||(Ce=Ce.add(Ve))})}).next(()=>m.localDocuments.getOverlayedDocuments(z,J)).next(Fe=>{b=Fe;const Ve=[];for(const It of l){const Ut=oA(It,b.get(It.key).overlayedDocument);null!=Ut&&Ve.push(new ea(It.key,Ut,NC(Ut.value.mapValue),Ir.exists(!0)))}return m.mutationQueue.addMutationBatch(z,v,Ve,l)}).next(Fe=>{x=Fe;const Ve=Fe.applyToLocalDocumentSet(b,Ce);return m.documentOverlayCache.saveOverlays(z,Fe.batchId,Ve)})}).then(()=>({batchId:x.batchId,changes:xu(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,l,m){let v=u.Tc[u.currentUser.toKey()];v||(v=new ir(sn)),v=v.insert(l,m),u.Tc[u.currentUser.toKey()]=v}(r,o.batchId,t),yield ra(r,o.changes),yield Xf(r.remoteStore)}catch(o){const u=Ud(o,"Failed to persist write");t.reject(u)}}),Tw.apply(this,arguments)}function Sw(n,e){return Aw.apply(this,arguments)}function Aw(){return Aw=(0,Ie.Z)(function*(n,e){const t=dt(n);try{const r=yield function VD(n,e){const t=dt(n),r=e.snapshotVersion;let o=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});o=t.Ji;const m=[];e.targetChanges.forEach((b,x)=>{const z=o.get(x);if(!z)return;m.push(t.Bs.removeMatchingKeys(u,b.removedDocuments,x).next(()=>t.Bs.addMatchingKeys(u,b.addedDocuments,x)));let J=z.withSequenceNumber(u.currentSequenceNumber);var Ce,Fe,Ve;null!==e.targetMismatches.get(x)?J=J.withResumeToken($r.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):b.resumeToken.approximateByteSize()>0&&(J=J.withResumeToken(b.resumeToken,r)),o=o.insert(x,J),Fe=J,Ve=b,(0===(Ce=z).resumeToken.approximateByteSize()||Fe.snapshotVersion.toMicroseconds()-Ce.snapshotVersion.toMicroseconds()>=3e8||Ve.addedDocuments.size+Ve.modifiedDocuments.size+Ve.removedDocuments.size>0)&&m.push(t.Bs.updateTargetData(u,J))});let v=rs(),C=yn();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,b))}),m.push(UD(u,l,e.documentUpdates).next(b=>{v=b.nr,C=b.sr})),!r.isEqual(At.min())){const b=t.Bs.getLastRemoteSnapshotVersion(u).next(x=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(b)}return le.waitFor(m).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,v,C)).next(()=>v)}).then(u=>(t.Ji=o,u))}(t.localStore,e);e.targetChanges.forEach((o,u)=>{const l=t.yc.get(u);l&&(St(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?l.fc=!0:o.modifiedDocuments.size>0?St(l.fc):o.removedDocuments.size>0&&(St(l.fc),l.fc=!1))}),yield ra(t,r,e)}catch(r){yield Zo(r)}}),Aw.apply(this,arguments)}function ly(n,e,t){const r=dt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.wc.forEach((u,l)=>{const m=l.view.Mu(e);m.snapshot&&o.push(m.snapshot)}),function(u,l){const m=dt(u);m.onlineState=l;let v=!1;m.queries.forEach((C,b)=>{for(const x of b.listeners)x.Mu(l)&&(v=!0)}),v&&Cw(m)}(r.eventManager,e),o.length&&r.dc.nu(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ju(n,e,t){return dy.apply(this,arguments)}function dy(){return dy=(0,Ie.Z)(function*(n,e,t){const r=dt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.yc.get(e),u=o&&o.key;if(u){let l=new ir(it.comparator);l=l.insert(u,gr.newNoDocument(u,At.min()));const m=yn().add(u),v=new Dd(At.min(),new Map,new ir(sn),l,m);yield Sw(r,v),r.gc=r.gc.remove(u),r.yc.delete(e),Rw(r)}else yield Pd(r.localStore,e,!1).then(()=>Bd(r,e,t)).catch(Zo)}),dy.apply(this,arguments)}function Mw(n,e){return tp.apply(this,arguments)}function tp(){return tp=(0,Ie.Z)(function*(n,e){const t=dt(n),r=e.batch.batchId;try{const o=yield function LD(n,e){const t=dt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,m,v,C){const b=v.batch,x=b.keys();let z=le.resolve();return x.forEach(J=>{z=z.next(()=>C.getEntry(m,J)).next(Ce=>{const Fe=v.docVersions.get(J);St(null!==Fe),Ce.version.compareTo(Fe)<0&&(b.applyToRemoteDocument(Ce,v),Ce.isValidDocument()&&(Ce.setReadTime(v.commitVersion),C.addEntry(Ce)))})}),z.next(()=>l.mutationQueue.removeMutationBatch(m,b))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let m=yn();for(let v=0;v<l.mutationResults.length;++v)l.mutationResults[v].transformResults.length>0&&(m=m.add(l.batch.mutations[v].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}(t.localStore,e);Pw(t,r,null),Ow(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ra(t,o)}catch(o){yield Zo(o)}}),tp.apply(this,arguments)}function eM(n,e,t){return cb.apply(this,arguments)}function cb(){return cb=(0,Ie.Z)(function*(n,e,t){const r=dt(n);try{const o=yield function(u,l){const m=dt(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let C;return m.mutationQueue.lookupMutationBatch(v,l).next(b=>(St(null!==b),C=b.keys(),m.mutationQueue.removeMutationBatch(v,b))).next(()=>m.mutationQueue.performConsistencyCheck(v)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(v,C,l)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,C)).next(()=>m.localDocuments.getDocuments(v,C))})}(r.localStore,e);Pw(r,e,t),Ow(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ra(r,o)}catch(o){yield Zo(o)}}),cb.apply(this,arguments)}function xw(){return xw=(0,Ie.Z)(function*(n,e){const t=dt(n);Uu(t.remoteStore)||ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const l=dt(u);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>l.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.Ec.get(r)||[];o.push(e),t.Ec.set(r,o)}catch(r){const o=Ud(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),xw.apply(this,arguments)}function Ow(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function Pw(n,e,t){const r=dt(n);let o=r.Tc[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.Tc[r.currentUser.toKey()]=o}}function Bd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||Nw(n,r)})}function Nw(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Ld(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),Rw(n))}function db(n,e,t){for(const r of t)r instanceof rb?(n.Ic.addReference(r.key,e),hb(n,r)):r instanceof ib?(ze("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||Nw(n,r.key)):mt()}function hb(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(ze("SyncEngine","New document in limbo: "+t),n.mc.add(r),Rw(n))}function Rw(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new it(On.fromString(e)),r=n.Ac.next();n.yc.set(r,new bw(t)),n.gc=n.gc.insert(t,r),Jf(n.remoteStore,new Io(ns(md(t.path)),r,"TargetPurposeLimboResolution",xs.ct))}}function ra(n,e,t){return fb.apply(this,arguments)}function fb(){return fb=(0,Ie.Z)(function*(n,e,t){const r=dt(n),o=[],u=[],l=[];var m;r.wc.isEmpty()||(r.wc.forEach((m,v)=>{l.push(r.Rc(v,e,t).then(C=>{if((C||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,C?.fromCache?"not-current":"current"),C){o.push(C);const b=Zf.Li(v.targetId,C);u.push(b)}}))}),yield Promise.all(l),r.dc.nu(o),yield(m=(0,Ie.Z)(function*(v,C){const b=dt(v);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>le.forEach(C,z=>le.forEach(z.Fi,J=>b.persistence.referenceDelegate.addReference(x,z.targetId,J)).next(()=>le.forEach(z.Bi,J=>b.persistence.referenceDelegate.removeReference(x,z.targetId,J)))))}catch(x){if(!Sa(x))throw x;ze("LocalStore","Failed to update sequence numbers: "+x)}for(const x of C){const z=x.targetId;if(!x.fromCache){const J=b.Ji.get(z),Fe=J.withLastLimboFreeSnapshotVersion(J.snapshotVersion);b.Ji=b.Ji.insert(z,Fe)}}}),function(v,C){return m.apply(this,arguments)})(r.localStore,u))}),fb.apply(this,arguments)}function kw(n,e){return hy.apply(this,arguments)}function hy(){return hy=(0,Ie.Z)(function*(n,e){const t=dt(n);if(!t.currentUser.isEqual(e)){ze("SyncEngine","User change. New user:",e.toKey());const r=yield FD(t.localStore,e);t.currentUser=e,(o=t).Ec.forEach(l=>{l.forEach(m=>{m.reject(new je(ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ra(t,r.er)}var o}),hy.apply(this,arguments)}function pb(n,e){const t=dt(n),r=t.yc.get(e);if(r&&r.fc)return yn().add(r.key);{let o=yn();const u=t._c.get(e);if(!u)return o;for(const l of u){const m=t.wc.get(l);o=o.unionWith(m.view.nc)}return o}}function tM(n,e){return fy.apply(this,arguments)}function fy(){return fy=(0,Ie.Z)(function*(n,e){const t=dt(n),r=yield Kf(t.localStore,e.query,!0),o=e.view.hc(r);return t.isPrimaryClient&&db(t,e.targetId,o.cc),o}),fy.apply(this,arguments)}function gb(n,e){return $u.apply(this,arguments)}function $u(){return $u=(0,Ie.Z)(function*(n,e){const t=dt(n);return X0(t.localStore,e).then(r=>ra(t,r))}),$u.apply(this,arguments)}function py(n,e,t,r){return gy.apply(this,arguments)}function gy(){return gy=(0,Ie.Z)(function*(n,e,t,r){const o=dt(n),u=yield function(l,m){const v=dt(l),C=dt(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",b=>C.Sn(b,m).next(x=>x?v.localDocuments.getDocuments(b,x):le.resolve(null)))}(o.localStore,e);var m;null!==u?("pending"===t?yield Xf(o.remoteStore):"acknowledged"===t||"rejected"===t?(Pw(o,e,r||null),Ow(o,e),m=e,dt(dt(o.localStore).mutationQueue).Cn(m)):mt(),yield ra(o,u)):ze("SyncEngine","Cannot apply mutation batch with id: "+e)}),gy.apply(this,arguments)}function Fw(){return Fw=(0,Ie.Z)(function*(n,e){const t=dt(n);if(my(t),Vw(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield yb(t,r.toArray());t.vc=!0,yield XD(t.remoteStore,!0);for(const u of o)Jf(t.remoteStore,u)}else if(!1===e&&!1!==t.vc){const r=[];let o=Promise.resolve();t._c.forEach((u,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):o=o.then(()=>(Bd(t,l),Pd(t.localStore,l,!0))),Ld(t.remoteStore,l)}),yield o,yield yb(t,r),function(u){const l=dt(u);l.yc.forEach((m,v)=>{Ld(l.remoteStore,v)}),l.Ic.Ts(),l.yc=new Map,l.gc=new ir(it.comparator)}(t),t.vc=!1,yield XD(t.remoteStore,!1)}}),Fw.apply(this,arguments)}function yb(n,e,t){return vb.apply(this,arguments)}function vb(){return vb=(0,Ie.Z)(function*(n,e,t){const r=dt(n),o=[],u=[];for(const l of e){let m;const v=r._c.get(l);if(v&&0!==v.length){m=yield Wc(r.localStore,ns(v[0]));for(const C of v){const b=r.wc.get(C),x=yield tM(r,b);x.snapshot&&u.push(x.snapshot)}}else{const C=yield jD(r.localStore,l);m=yield Wc(r.localStore,C),yield uy(r,Lw(C),l,!1,m.resumeToken)}o.push(m)}return r.dc.nu(u),o}),vb.apply(this,arguments)}function Lw(n){return GC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function nM(n){const e=dt(n);return dt(dt(e.localStore).persistence).$i()}function rM(n,e,t,r){return _b.apply(this,arguments)}function _b(){return _b=(0,Ie.Z)(function*(n,e,t,r){const o=dt(n);if(o.vc)return void ze("SyncEngine","Ignoring unexpected query state notification.");const u=o._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const l=yield X0(o.localStore,h0(u[0])),m=Dd.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,$r.EMPTY_BYTE_STRING);yield ra(o,l,m);break}case"rejected":yield Pd(o.localStore,e,!0),Bd(o,e,r);break;default:mt()}}),_b.apply(this,arguments)}function ix(n,e,t){return wb.apply(this,arguments)}function wb(){return wb=(0,Ie.Z)(function*(n,e,t){const r=my(n);if(r.vc){for(const o of e){if(r._c.has(o)){ze("SyncEngine","Adding an already active target "+o);continue}const u=yield jD(r.localStore,o),l=yield Wc(r.localStore,u);yield uy(r,Lw(u),l.targetId,!1,l.resumeToken),Jf(r.remoteStore,l)}for(const o of t)r._c.has(o)&&(yield Pd(r.localStore,o,!1).then(()=>{Ld(r.remoteStore,o),Bd(r,o)}).catch(Zo))}}),wb.apply(this,arguments)}function my(n){const e=dt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ju.bind(null,e),e.dc.nu=KA.bind(null,e.eventManager),e.dc.Pc=Iw.bind(null,e.eventManager),e}function Vw(n){const e=dt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Mw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eM.bind(null,e),e}class np{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ie.Z)(function*(){t.serializer=Qm(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return kD(this.persistence,new Gm,e.initialUser,this.serializer)}createPersistence(e){return new jm(Wf.zs,this.serializer)}createSharedClientState(e){return new Km}terminate(){var e=this;return(0,Ie.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Eb extends np{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ie.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield Vw(r.Vc.syncEngine),yield Xf(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return kD(this.persistence,new Gm,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Um(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new z_(t,this.persistence);return new G_(e.asyncQueue,r)}createPersistence(e){const t=Hm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Li.withCacheSize(this.cacheSizeBytes):Li.DEFAULT;return new Q0(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Yf(),Rd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Km}}class sM extends Eb{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ie.Z)(function*(){yield t().call(r,e);const o=r.Vc.syncEngine;r.sharedClientState instanceof rw&&(r.sharedClientState.syncEngine={jr:py.bind(null,o),zr:rM.bind(null,o),Wr:ix.bind(null,o),$i:nM.bind(null,o),Qr:gb.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var u=(0,Ie.Z)(function*(l){yield function mb(n,e){return Fw.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Yf();if(!rw.D(t))throw new je(ye.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Hm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new rw(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class rp{initialize(e,t){var r=this;return(0,Ie.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>ly(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=kw.bind(null,r.syncEngine),yield XD(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ZA}createDatastore(e){const t=Qm(e.databaseInfo.databaseId),r=new jA(e.databaseInfo);return new $A(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=m=>ly(this.syncEngine,m,0),l=iw.D()?new iw:new UA,new HA(t,r,o,u,l);var t,r,o,u,l}createSyncEngine(e,t){return function(r,o,u,l,m,v,C){const b=new JA(r,o,u,l,m,v);return C&&(b.vc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ie.Z)(function*(t){const r=dt(t);ze("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Fd(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function oM(n,e=10240){let t=0;return{read:()=>(0,Ie.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ie.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class yy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class vy{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Qr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Ie.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Ie.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),o=Number(r);isNaN(o)&&e.Mc(`length string (${r}) is not valid number`);const u=yield e.$c(o);return new YA(JSON.parse(u),t.length+o)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Ie.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,Ie.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class aM{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ie.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new je(ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,Ie.Z)(function*(u,l){const m=dt(u),v=Rf(m.serializer)+"/documents",C={documents:l.map(J=>Nf(m.serializer,J))},b=yield m.vo("BatchGetDocuments",v,C,l.length),x=new Map;b.forEach(J=>{const Ce=function pD(n,e){return"found"in e?function(t,r){St(!!r.found);const o=Eo(t,r.found.name),u=Lr(r.found.updateTime),l=r.found.createTime?Lr(r.found.createTime):At.min(),m=new Fi({mapValue:{fields:r.found.fields}});return gr.newFoundDocument(o,u,l,m)}(n,e):"missing"in e?function(t,r){St(!!r.missing),St(!!r.readTime);const o=Eo(t,r.missing),u=Lr(r.readTime);return gr.newNoDocument(o,u)}(n,e):mt()}(m.serializer,J);x.set(Ce.key.toString(),Ce)});const z=[];return l.forEach(J=>{const Ce=x.get(J.toString());St(!!Ce),z.push(Ce)}),z}),function(u,l){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ta(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ie.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=it.fromPath(o);e.mutations.push(new _0(u,e.precondition(u)))}),yield(r=(0,Ie.Z)(function*(o,u){const l=dt(o),m=Rf(l.serializer)+"/documents",v={writes:u.map(C=>kf(l.serializer,C))};yield l.Io("Commit",m,v)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw mt();t=At.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new je(ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(At.min())?Ir.exists(!1):Ir.updateTime(t):Ir.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(At.min()))throw new je(ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ir.updateTime(t)}return Ir.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class uM{constructor(e,t,r,o,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=u,this.Bc=r.maxAttempts,this.qo=new Jm(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Ie.Z)(function*(){const t=new aM(e.datastore),r=e.qc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.Uc(u)}))}).catch(o=>{e.Uc(o)})}))}qc(e){try{const t=this.updateFunction(e);return!Iu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!iD(t)}return!1}}class Ib{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Yr.UNAUTHENTICATED,this.clientId=lC.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,Ie.Z)(function*(m){ze("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(ze("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,Ie.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new je(ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Ud(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function ia(n,e){return _y.apply(this,arguments)}function _y(){return _y=(0,Ie.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,Ie.Z)(function*(u){r.isEqual(u)||(yield FD(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),_y.apply(this,arguments)}function ip(n,e){return sp.apply(this,arguments)}function sp(){return sp=(0,Ie.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield op(n);ze("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>QD(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>QD(e.remoteStore,u)),n._onlineComponents=e}),sp.apply(this,arguments)}function Cb(n){return"FirebaseError"===n.name?n.code===ye.FAILED_PRECONDITION||n.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function op(n){return ap.apply(this,arguments)}function ap(){return ap=(0,Ie.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ze("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ia(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Cb(t))throw t;Ri("Error using user provided cache. Falling back to memory cache: "+t),yield ia(n,new np)}}else ze("FirestoreClient","Using default OfflineComponentProvider"),yield ia(n,new np);return n._offlineComponents}),ap.apply(this,arguments)}function Yc(n){return Db.apply(this,arguments)}function Db(){return Db=(0,Ie.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ze("FirestoreClient","Using user provided OnlineComponentProvider"),yield ip(n,n._uninitializedComponentsProvider._online)):(ze("FirestoreClient","Using default OnlineComponentProvider"),yield ip(n,new rp))),n._onlineComponents}),Db.apply(this,arguments)}function cM(n){return op(n).then(e=>e.persistence)}function Uw(n){return op(n).then(e=>e.localStore)}function Bw(n){return Yc(n).then(e=>e.remoteStore)}function jw(n){return Yc(n).then(e=>e.syncEngine)}function jd(n){return $w.apply(this,arguments)}function $w(){return $w=(0,Ie.Z)(function*(n){const e=yield Yc(n),t=e.eventManager;return t.onListen=XA.bind(null,e.syncEngine),t.onUnlisten=ys.bind(null,e.syncEngine),t}),$w.apply(this,arguments)}function Mb(n,e,t={}){const r=new Qr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(o,u,l,m,v){const C=new yy({next:x=>{u.enqueueAndForget(()=>ww(o,b));const z=x.docs.has(l);!z&&x.fromCache?v.reject(new je(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&x.fromCache&&m&&"server"===m.source?v.reject(new je(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(x)},error:x=>v.reject(x)}),b=new Dw(md(l.path),C,{includeMetadataChanges:!0,Ku:!0});return vw(o,b)}(yield jd(n),n.asyncQueue,e,t,r)})),r.promise}function Hw(n,e,t={}){const r=new Qr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(o,u,l,m,v){const C=new yy({next:x=>{u.enqueueAndForget(()=>ww(o,b)),x.fromCache&&"server"===m.source?v.reject(new je(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(x)},error:x=>v.reject(x)}),b=new Dw(l,C,{includeMetadataChanges:!0,Ku:!0});return vw(o,b)}(yield jd(n),n.asyncQueue,e,t,r)})),r.promise}function Ob(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const Pb=new Map;function Nb(n,e,t){if(!t)throw new je(ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function dM(n,e,t,r){if(!0===e&&!0===r)throw new je(ye.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Rb(n){if(!it.isDocumentKey(n))throw new je(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kb(n){if(it.isDocumentKey(n))throw new je(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":mt()}function Nn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new je(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wy(n);throw new je(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function qw(n,e){if(e<=0)throw new je(ye.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Ww{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new je(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new je(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ob(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new je(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new je(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new je(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class up{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ww({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new je(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new je(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ww(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new uC;switch(t.type){case"firstParty":return new q1(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new je(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Pb.get(e);t&&(ze("ComponentProvider","Removing Datastore"),Pb.delete(e),t.terminate())}(this),Promise.resolve()}}class lr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lr(this.firestore,e,this._key)}}class qi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qi(this.firestore,e,this._query)}}class sa extends qi{constructor(e,t,r){super(e,t,md(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lr(this.firestore,null,new it(e))}withConverter(e){return new sa(this.firestore,e,this._path)}}function Ey(n,e,...t){if(n=(0,Fn.m9)(n),Nb("collection","path",e),n instanceof up){const r=On.fromString(e,...t);return kb(r),new sa(n,null,r)}{if(!(n instanceof lr||n instanceof sa))throw new je(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(On.fromString(e,...t));return kb(r),new sa(n.firestore,null,r)}}function cp(n,e,...t){if(n=(0,Fn.m9)(n),1===arguments.length&&(e=lC.A()),Nb("doc","path",e),n instanceof up){const r=On.fromString(e,...t);return Rb(r),new lr(n,null,new it(r))}{if(!(n instanceof lr||n instanceof sa))throw new je(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(On.fromString(e,...t));return Rb(r),new lr(n.firestore,n instanceof sa?n.converter:null,new it(r))}}function Lb(n,e){return n=(0,Fn.m9)(n),e=(0,Fn.m9)(e),(n instanceof lr||n instanceof sa)&&(e instanceof lr||e instanceof sa)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function $d(n,e){return n=(0,Fn.m9)(n),e=(0,Fn.m9)(e),n instanceof qi&&e instanceof qi&&n.firestore===e.firestore&&Sf(n._query,e._query)&&n.converter===e.converter}class hM{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Jm(this,"async_queue_retry"),this.Xc=()=>{const t=Rd();t&&ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Rd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Rd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Qr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Ie.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Sa(t))throw t;ze("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,cr("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const o=yw.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(o),o}Zc(){this.Wc&&mt()}verifyOperationInProgress(){}sa(){var e=this;return(0,Ie.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Kw(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class Vb{constructor(){this._progressObserver={},this._taskCompletionResolver=new Qr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Cr extends up{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new hM,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||fM(this),this._firestoreClient.terminate()}}function Hr(n){return n._firestoreClient||fM(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function fM(n){var e,t,r;const o=n._freezeSettings(),u=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new xC(n._databaseId,m,n._persistenceKey,(C=o).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,Ob(C.experimentalLongPollingOptions),C.useFetchStreams));var m,C;n._firestoreClient=new Ib(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=o.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=o.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}function Bb(n,e,t){const r=new Qr;return n.asyncQueue.enqueue((0,Ie.Z)(function*(){try{yield ia(n,t),yield ip(n,e),r.resolve()}catch(o){const u=o;if(!Cb(u))throw u;Ri("Error enabling indexeddb cache. Falling back to memory cache: "+u),r.reject(u)}})).then(()=>r.promise)}function mM(n){if(n._initialized||n._terminated)throw new je(ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ka{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ka($r.fromBase64String(e))}catch(t){throw new je(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ka($r.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Fa{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new je(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class i{constructor(e){this._methodName=e}}class s{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new je(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new je(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return sn(this._lat,e._lat)||sn(this._long,e._long)}}const a=/^__.*__$/;class c{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ea(e,this.data,this.fieldMask,t,this.fieldTransforms):new jc(e,this.data,t,this.fieldTransforms)}}class d{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ea(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function f(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class y{constructor(e,t,r,o,u,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new y(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.fa(e),o}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.ua(),o}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Cy(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(f(this.ca)&&a.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class _{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Qm(e)}ya(e,t,r,o=!1){return new y({ca:e,methodName:t,ga:r,path:xr.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function I(n){const e=n._freezeSettings(),t=Qm(n._databaseId);return new _(n._databaseId,!!e.ignoreUndefinedProperties,t)}function D(n,e,t,r,o,u={}){const l=n.ya(u.merge||u.mergeFields?2:0,e,t,o);Wi("Data must be an object, but it was:",l,r);const m=vn(r,l);let v,C;if(u.merge)v=new Jr(l.fieldMask),C=l.fieldTransforms;else if(u.mergeFields){const b=[];for(const x of u.mergeFields){const z=Ps(e,x,t);if(!l.contains(z))throw new je(ye.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);jb(b,z)||b.push(z)}v=new Jr(b),C=l.fieldTransforms.filter(x=>v.covers(x.field))}else v=null,C=l.fieldTransforms;return new c(new Fi(m),v,C)}class S extends i{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof S}}function L(n,e,t){return new y({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Z extends i{_toFieldTransform(e){return new Ed(e.path,new Oa)}isEqual(e){return e instanceof Z}}class ie extends i{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=L(this,e,!0),r=this.pa.map(u=>jt(u,t)),o=new Xo(r);return new Ed(e.path,o)}isEqual(e){return this===e}}class Re extends i{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=L(this,e,!0),r=this.pa.map(u=>jt(u,t)),o=new wd(r);return new Ed(e.path,o)}isEqual(e){return this===e}}class Ke extends i{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Bc(e.serializer,YC(e.serializer,this.Ia));return new Ed(e.path,t)}isEqual(e){return this===e}}function ut(n,e,t,r){const o=n.ya(1,e,t);Wi("Data must be an object, but it was:",o,r);const u=[],l=Fi.empty();Aa(r,(v,C)=>{const b=Gd(e,v,t);C=(0,Fn.m9)(C);const x=o.da(b);if(C instanceof S)u.push(b);else{const z=jt(C,x);null!=z&&(u.push(b),l.set(b,z))}});const m=new Jr(u);return new d(l,m,o.fieldTransforms)}function Mt(n,e,t,r,o,u){const l=n.ya(1,e,t),m=[Ps(e,r,t)],v=[o];if(u.length%2!=0)throw new je(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let z=0;z<u.length;z+=2)m.push(Ps(e,u[z])),v.push(u[z+1]);const C=[],b=Fi.empty();for(let z=m.length-1;z>=0;--z)if(!jb(C,m[z])){const J=m[z];let Ce=v[z];Ce=(0,Fn.m9)(Ce);const Fe=l.da(J);if(Ce instanceof S)C.push(J);else{const Ve=jt(Ce,Fe);null!=Ve&&(C.push(J),b.set(J,Ve))}}const x=new Jr(C);return new d(b,x,l.fieldTransforms)}function $e(n,e,t,r=!1){return jt(t,n.ya(r?4:3,e))}function jt(n,e){if(Wn(n=(0,Fn.m9)(n)))return Wi("Unsupported field value:",e,n),vn(n,e);if(n instanceof i)return function(t,r){if(!f(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const l of t){let m=jt(l,r.wa(u));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,Fn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return YC(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=wr.fromDate(t);return{timestampValue:bd(r.serializer,o)}}if(t instanceof wr){const o=new wr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:bd(r.serializer,o)}}if(t instanceof s)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ka)return{bytesValue:T0(r.serializer,t._byteString)};if(t instanceof lr){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:S0(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${wy(t)}`)}(n,e)}function vn(n,e){const t={};return Q_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Aa(n,(r,o)=>{const u=jt(o,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function Wn(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof wr||n instanceof s||n instanceof ka||n instanceof lr||n instanceof i)}function Wi(n,e,t){if(!Wn(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=wy(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Ps(n,e,t){if((e=(0,Fn.m9)(e))instanceof Fa)return e._internalPath;if("string"==typeof e)return Gd(n,e);throw Cy("Field path arguments must be of type string or ",n,!1,void 0,t)}const Hd=new RegExp("[~\\*/\\[\\]]");function Gd(n,e,t){if(e.search(Hd)>=0)throw Cy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Fa(...e.split("."))._internalPath}catch{throw Cy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Cy(n,e,t,r,o){const u=r&&!r.isEmpty(),l=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let v="";return(u||l)&&(v+=" (found",u&&(v+=` in field ${r}`),l&&(v+=` in document ${o}`),v+=")"),new je(ye.INVALID_ARGUMENT,m+n+v)}function jb(n,e){return n.some(t=>t.isEqual(e))}class Yw{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new lr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new QP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($b("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class QP extends Yw{data(){return super.data()}}function $b(n,e){return"string"==typeof e?Gd(n,e):e instanceof Fa?e._internalPath:e._delegate._internalPath}function gx(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new je(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yM{}class Qw extends yM{}function zd(n,e,...t){let r=[];e instanceof yM&&r.push(e),r=r.concat(t),function(o){const u=o.filter(m=>m instanceof Dy).length,l=o.filter(m=>m instanceof Jw).length;if(u>1||u>0&&l>0)throw new je(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class Jw extends Qw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Jw(e,t,r)}_apply(e){const t=this._parse(e);return _x(e._query,t),new qi(e.firestore,e.converter,l0(e._query,t))}_parse(e){const t=I(e.firestore);return function(o,u,l,m,v,C,b){let x;if(v.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new je(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){vx(b,C);const z=[];for(const J of b)z.push(yx(m,o,J));x={arrayValue:{values:z}}}else x=yx(m,o,b)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||vx(b,C),x=$e(l,"where",b,"in"===C||"not-in"===C);return Pn.create(v,C,x)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Dy extends yM{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Dy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:qn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let u=r;const l=o.getFlattenedFilters();for(const m of l)_x(u,m),u=l0(u,m)}(e._query,t),new qi(e.firestore,e.converter,l0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class vM extends Qw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new vM(e,t)}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new je(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new je(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new pd(o,u);return function(m,v){if(null===u0(m)){const C=vm(m);null!==C&&wx(0,C,v.field)}}(r,l),l}(e._query,this._field,this._direction);return new qi(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new xa(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Hb extends Qw{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Hb(e,t,r)}_apply(e){return new qi(e.firestore,e.converter,_m(e._query,this._limit,this._limitType))}}class Gb extends Qw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Gb(e,t,r)}_apply(e){const t=mx(e,this.type,this._docOrFields,this._inclusive);return new qi(e.firestore,e.converter,(o=t,new xa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class zb extends Qw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new zb(e,t,r)}_apply(e){const t=mx(e,this.type,this._docOrFields,this._inclusive);return new qi(e.firestore,e.converter,(o=t,new xa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function mx(n,e,t,r){if(t[0]=(0,Fn.m9)(t[0]),t[0]instanceof Yw)return function(o,u,l,m,v){if(!m)throw new je(ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const C=[];for(const b of Vc(o))if(b.field.isKeyField())C.push(Au(u,m.key));else{const x=m.data.field(b.field);if(Df(x))throw new je(ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const z=b.field.canonicalString();throw new je(ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${z}' (used as the orderBy) does not exist.`)}C.push(x)}return new Mu(C,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=I(n.firestore);return function(u,l,m,v,C,b){const x=u.explicitOrderBy;if(C.length>x.length)throw new je(ye.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const z=[];for(let J=0;J<C.length;J++){const Ce=C[J];if(x[J].field.isKeyField()){if("string"!=typeof Ce)throw new je(ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof Ce}`);if(!c0(u)&&-1!==Ce.indexOf("/"))throw new je(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${Ce}' contains a slash.`);const Fe=u.path.child(On.fromString(Ce));if(!it.isDocumentKey(Fe))throw new je(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${Fe}' is not because it contains an odd number of segments.`);const Ve=new it(Fe);z.push(Au(l,Ve))}else{const Fe=$e(m,v,Ce);z.push(Fe)}}return new Mu(z,b)}(n._query,n.firestore._databaseId,o,e,t,r)}}function yx(n,e,t){if("string"==typeof(t=(0,Fn.m9)(t))){if(""===t)throw new je(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!c0(e)&&-1!==t.indexOf("/"))throw new je(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(On.fromString(t));if(!it.isDocumentKey(r))throw new je(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Au(n,new it(r))}if(t instanceof lr)return Au(n,t._key);throw new je(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wy(t)}.`)}function vx(n,e){if(!Array.isArray(n)||0===n.length)throw new je(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _x(n,e){if(e.isInequality()){const r=vm(n),o=e.field;if(null!==r&&!r.isEqual(o))throw new je(ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const u=u0(n);null!==u&&wx(0,o,u)}const t=function(r,o){for(const u of r)for(const l of u.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new je(ye.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function wx(n,e,t){if(!t.isEqual(e))throw new je(ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class _M{convertValue(e,t="none"){switch(Su(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw mt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Aa(e,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new s(Fr(e.latitude),Fr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=am(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Or(e));default:return null}}convertTimestamp(e){const t=kc(e);return new wr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=On.fromString(e);St(_D(r));const o=new bu(r.get(1),r.get(3)),u=new it(r.popFirst(5));return o.isEqual(t)||cr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function qb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class oN extends _M{constructor(e){super(),this.firestore=e}convertBytes(e){return new ka(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lr(this.firestore,null,t)}}class lp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qc extends Yw{constructor(e,t,r,o,u,l){super(e,t,r,o,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field($b("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Xw extends Qc{data(e={}){return super.data(e)}}class qd{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new lp(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Xw(this._firestore,this._userDataWriter,r.key,r,new lp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new je(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new Xw(r._firestore,r._userDataWriter,l.doc.key,l.doc,new lp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>o||3!==l.type).map(l=>{const m=new Xw(r._firestore,r._userDataWriter,l.doc.key,l.doc,new lp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,C=-1;return 0!==l.type&&(v=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),C=u.indexOf(l.doc.key)),{type:uN(l.type),doc:m,oldIndex:v,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function uN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}function Ix(n,e){return n instanceof Qc&&e instanceof Qc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof qd&&e instanceof qd&&n._firestore===e._firestore&&$d(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Wd extends _M{constructor(e){super(),this.firestore=e}convertBytes(e){return new ka(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lr(this.firestore,null,t)}}function Cx(n,e,t){n=Nn(n,lr);const r=Nn(n.firestore,Cr),o=qb(n.converter,e,t);return by(r,[D(I(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Ir.none())])}function Dx(n,e,t,...r){n=Nn(n,lr);const o=Nn(n.firestore,Cr),u=I(o);let l;return l="string"==typeof(e=(0,Fn.m9)(e))||e instanceof Fa?Mt(u,"updateDoc",n._key,e,t,r):ut(u,"updateDoc",n._key,e),by(o,[l.toMutation(n._key,Ir.exists(!0))])}function bx(n,...e){var t,r,o;n=(0,Fn.m9)(n);let u={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||Kw(e[l])||(u=e[l],l++);const m={includeMetadataChanges:u.includeMetadataChanges};if(Kw(e[l])){const x=e[l];e[l]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[l+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[l+2]=null===(o=x.complete)||void 0===o?void 0:o.bind(x)}let v,C,b;if(n instanceof lr)C=Nn(n.firestore,Cr),b=md(n._key.path),v={next:x=>{e[l]&&e[l](wM(C,n,x))},error:e[l+1],complete:e[l+2]};else{const x=Nn(n,qi);C=Nn(x.firestore,Cr),b=x._query;const z=new Wd(C);v={next:J=>{e[l]&&e[l](new qd(C,z,x,J))},error:e[l+1],complete:e[l+2]},gx(n._query)}return function(x,z,J,Ce){const Fe=new yy(Ce),Ve=new Dw(z,Fe,J);return x.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return vw(yield jd(x),Ve)})),()=>{Fe.Dc(),x.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return ww(yield jd(x),Ve)}))}}(Hr(C),b,m,v)}function by(n,e){return function(t,r){const o=new Qr;return t.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function ub(n,e,t){return Tw.apply(this,arguments)}(yield jw(t),r,o)})),o.promise}(Hr(n),e)}function wM(n,e,t){const r=t.docs.get(e._key),o=new Wd(n);return new Qc(n,o,e._key,r,new lp(t.hasPendingWrites,t.fromCache),e.converter)}const TN={maxAttempts:5};class Tx{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=I(e)}set(e,t,r){this._verifyNotCommitted();const o=Zd(e,this._firestore),u=qb(o.converter,t,r),l=D(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(l.toMutation(o._key,Ir.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=Zd(e,this._firestore);let l;return l="string"==typeof(t=(0,Fn.m9)(t))||t instanceof Fa?Mt(this._dataReader,"WriteBatch.update",u._key,t,r,o):ut(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(l.toMutation(u._key,Ir.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Zd(e,this._firestore);return this._mutations=this._mutations.concat(new ta(t._key,Ir.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new je(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zd(n,e){if((n=(0,Fn.m9)(n)).firestore!==e)throw new je(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class SN extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=I(e)}get(e){const t=Zd(e,this._firestore),r=new oN(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return mt();const u=o[0];if(u.isFoundDocument())return new Yw(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new Yw(this._firestore,r,t._key,null,t.converter);throw mt()})}set(e,t,r){const o=Zd(e,this._firestore),u=qb(o.converter,t,r),l=D(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,l),this}update(e,t,r,...o){const u=Zd(e,this._firestore);let l;return l="string"==typeof(t=(0,Fn.m9)(t))||t instanceof Fa?Mt(this._dataReader,"Transaction.update",u._key,t,r,o):ut(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,l),this}delete(e){const t=Zd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Zd(e,this._firestore),r=new Wd(this._firestore);return super.get(e).then(o=>new Qc(this._firestore,r,t._key,o._document,new lp(!1,!1),t.converter))}}function EM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new je("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Ax(){if(typeof Uint8Array>"u")throw new je("unimplemented","Uint8Arrays are not available in this environment.")}function Mx(){if(!function nA(){return typeof atob<"u"}())throw new je("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){fo=Eg.SDK_VERSION,(0,Eg._registerComponent)(new Ig.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const u=t.getProvider("app").getImmediate(),l=new Cr(new j_(t.getProvider("auth-internal")),new qS(t.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new je(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bu(m.options.projectId,v)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),(0,Eg.registerVersion)(As,"3.13.0",n),(0,Eg.registerVersion)(As,"3.13.0","esm2017")}();class eE{constructor(e){this._delegate=e}static fromBase64String(e){return Mx(),new eE(ka.fromBase64String(e))}static fromUint8Array(e){return Ax(),new eE(ka.fromUint8Array(e))}toBase64(){return Mx(),this._delegate.toBase64()}toUint8Array(){return Ax(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function IM(n){return function FN(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class LN{enableIndexedDbPersistence(e,t){return function ux(n,e){mM(n=Nn(n,Cr));const t=Hr(n);if(t._uninitializedComponentsProvider)throw new je(ye.FAILED_PRECONDITION,"SDK cache is already specified.");Ri("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),o=new rp;return Bb(t,o,new Eb(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function pM(n){mM(n=Nn(n,Cr));const e=Hr(n);if(e._uninitializedComponentsProvider)throw new je(ye.FAILED_PRECONDITION,"SDK cache is already specified.");Ri("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new rp;return Bb(e,r,new sM(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function cx(n){if(n._initialized&&!n._terminated)throw new je(ye.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Qr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{yield(t=(0,Ie.Z)(function*(r){if(!go.D())return Promise.resolve();const o=r+"main";yield go.delete(o)}),function(r){return t.apply(this,arguments)})(Hm(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class xx{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof bu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ri("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function Zw(n,e,t,r={}){var o;const u=(n=Nn(n,up))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==l&&Ri("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:l,ssl:!1})),r.mockUserToken){let m,v;if("string"==typeof r.mockUserToken)m=r.mockUserToken,v=Yr.MOCK_USER;else{m=(0,Fn.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new je(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Yr(C)}n._authCredentials=new cC(new B_(m,v))}}(this._delegate,e,t,r)}enableNetwork(){return function dx(n){return function Tb(n){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){const e=yield cM(n),t=yield Bw(n);return e.setNetworkEnabled(!0),function(r){const o=dt(r);return o.vu.delete(0),Xm(o)}(t)}))}(Hr(n=Nn(n,Cr)))}(this._delegate)}disableNetwork(){return function hx(n){return function Sb(n){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){const e=yield cM(n),t=yield Bw(n);return e.setNetworkEnabled(!1),(r=(0,Ie.Z)(function*(o){const u=dt(o);u.vu.add(0),yield Fd(u),u.bu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Hr(n=Nn(n,Cr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,dM("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function lx(n){return function(e){const t=new Qr;return e.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function lb(n,e){return xw.apply(this,arguments)}(yield jw(e),t)})),t.promise}(Hr(n=Nn(n,Cr)))}(this._delegate)}onSnapshotsInSync(e){return function yN(n,e){return function Gw(n,e){const t=new yy(e);return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return r=yield jd(n),o=t,dt(r).ku.add(o),void o.next();var r,o})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return r=yield jd(n),o=t,void dt(r).ku.delete(o);var r,o}))}}(Hr(n=Nn(n,Cr)),Kw(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new je("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ty(this,Ey(this._delegate,e))}catch(t){throw Ns(t,"collection()","Firestore.collection()")}}doc(e){try{return new oa(this,cp(this._delegate,e))}catch(t){throw Ns(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Rs(this,function Fb(n,e){if(n=Nn(n,up),Nb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new je(ye.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qi(n,null,(t=e,new xa(On.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ns(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function AN(n,e,t){n=Nn(n,Cr);const r=Object.assign(Object.assign({},TN),t);return function(o){if(o.maxAttempts<1)throw new je(ye.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,l){const m=new Qr;return o.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){const v=yield function bb(n){return Yc(n).then(e=>e.datastore)}(o);new uM(o.asyncQueue,v,l,u,m).run()})),m.promise}(Hr(n),o=>e(new SN(n,o)),r)}(this._delegate,t=>e(new Ox(this,t)))}batch(){return Hr(this._delegate),new Px(new Tx(this._delegate,e=>by(this._delegate,e)))}loadBundle(e){return function gM(n,e){const t=Hr(n=Nn(n,Cr)),r=new Vb;return function ox(n,e,t,r){const o=function(u,l){let m;return m="string"==typeof u?aA().encode(u):u,v=function(v,C){if(v instanceof Uint8Array)return oM(v,C);if(v instanceof ArrayBuffer)return oM(new Uint8Array(v),C);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new vy(v,l);var v}(t,Qm(e));n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){!function iM(n,e,t){const r=dt(n);var o;(o=(0,Ie.Z)(function*(u,l,m){try{const v=yield l.getMetadata();if(yield function(z,J){const Ce=dt(z),Fe=Lr(J.createTime);return Ce.persistence.runTransaction("hasNewerBundle","readonly",Ve=>Ce.qs.getBundleMetadata(Ve,J.id)).then(Ve=>!!Ve&&Ve.createTime.compareTo(Fe)>=0)}(u.localStore,v))return yield l.close(),m._completeWith({taskState:"Success",documentsLoaded:(z=v).totalDocuments,bytesLoaded:z.totalBytes,totalDocuments:z.totalDocuments,totalBytes:z.totalBytes}),Promise.resolve(new Set);m._updateProgress(nb(v));const C=new QA(v,u.localStore,l.serializer);let b=yield l.bc();for(;b;){const z=yield C.zu(b);z&&m._updateProgress(z),b=yield l.bc()}const x=yield C.complete();return yield ra(u,x.Ju,void 0),yield function(z,J){const Ce=dt(z);return Ce.persistence.runTransaction("Save bundle","readwrite",Fe=>Ce.qs.saveBundleMetadata(Fe,J))}(u.localStore,v),m._completeWith(x.progress),Promise.resolve(x.Hu)}catch(v){return Ri("SyncEngine",`Loading bundle failed with ${v}`),m._failWith(v),Promise.resolve(new Set)}var z}),function(u,l,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield jw(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function fx(n,e){return function xb(n,e){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){return function(t,r){const o=dt(t);return o.persistence.runTransaction("Get named query","readonly",u=>o.qs.getNamedQuery(u,r))}(yield Uw(n),e)}))}(Hr(n=Nn(n,Cr)),e).then(t=>t?new qi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Rs(this,t):null)}}class Wb extends _M{constructor(e){super(),this.firestore=e}convertBytes(e){return new eE(new ka(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return oa.forKey(t,this.firestore,null)}}class Ox{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Wb(e)}get(e){const t=hp(e);return this._delegate.get(t).then(r=>new tE(this._firestore,new Qc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=hp(e);return r?(EM("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=hp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=hp(e);return this._delegate.delete(t),this}}class Px{constructor(e){this._delegate=e}set(e,t,r){const o=hp(e);return r?(EM("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=hp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=hp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class dp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Xw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new nE(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=dp.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new dp(e,new Wb(e),t),o.set(t,u)),u}}dp.INSTANCES=new WeakMap;class oa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Wb(e)}static forPath(e,t,r){if(e.length%2!=0)throw new je("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new oa(t,new lr(t._delegate,r,new it(e)))}static forKey(e,t,r){return new oa(t,new lr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ty(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ty(this.firestore,Ey(this._delegate,e))}catch(t){throw Ns(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Fn.m9)(e))instanceof lr&&Lb(this._delegate,e)}set(e,t){t=EM("DocumentReference.set",t);try{return t?Cx(this._delegate,e,t):Cx(this._delegate,e)}catch(r){throw Ns(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?Dx(this._delegate,e):Dx(this._delegate,e,t,...r)}catch(o){throw Ns(o,"updateDoc()","DocumentReference.update()")}}delete(){return function gN(n){return by(Nn(n.firestore,Cr),[new ta(n._key,Ir.none())])}(this._delegate)}onSnapshot(...e){const t=Nx(e),r=Rx(e,o=>new tE(this.firestore,new Qc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return bx(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function lN(n){n=Nn(n,lr);const e=Nn(n.firestore,Cr),t=Hr(e),r=new Wd(e);return function Ab(n,e){const t=new Qr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(r=(0,Ie.Z)(function*(o,u,l){try{const m=yield function(v,C){const b=dt(v);return b.persistence.runTransaction("read document","readonly",x=>b.localDocuments.getDocument(x,C))}(o,u);m.isFoundDocument()?l.resolve(m):m.isNoDocument()?l.resolve(null):l.reject(new je(ye.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const v=Ud(m,`Failed to get document '${u} from cache`);l.reject(v)}}),function(o,u,l){return r.apply(this,arguments)})(yield Uw(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Qc(e,r,n._key,o,new lp(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function dN(n){n=Nn(n,lr);const e=Nn(n.firestore,Cr);return Mb(Hr(e),n._key,{source:"server"}).then(t=>wM(e,n,t))}(this._delegate):function cN(n){n=Nn(n,lr);const e=Nn(n.firestore,Cr);return Mb(Hr(e),n._key).then(t=>wM(e,n,t))}(this._delegate),t.then(r=>new tE(this.firestore,new Qc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new oa(this.firestore,this._delegate.withConverter(e?dp.getInstance(this.firestore,e):null))}}function Ns(n,e,t){return n.message=n.message.replace(e,t),n}function Nx(n){for(const e of n)if("object"==typeof e&&!IM(e))return e;return{}}function Rx(n,e){var t,r;let o;return o=IM(n[0])?n[0]:IM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class tE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new oa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Ix(this._delegate,e._delegate)}}class nE extends tE{data(e){const t=this._delegate.data(e);return function aC(n,e){n||mt()}(void 0!==t),t}}class Rs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Wb(e)}where(e,t,r){try{return new Rs(this.firestore,zd(this._delegate,function JP(n,e,t){const r=e,o=$b("where",n);return Jw._create(o,r,t)}(e,t,r)))}catch(o){throw Ns(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Rs(this.firestore,zd(this._delegate,function XP(n,e="asc"){const t=e,r=$b("orderBy",n);return vM._create(r,t)}(e,t)))}catch(r){throw Ns(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Rs(this.firestore,zd(this._delegate,function eN(n){return qw("limit",n),Hb._create("limit",n,"F")}(e)))}catch(t){throw Ns(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Rs(this.firestore,zd(this._delegate,function tN(n){return qw("limitToLast",n),Hb._create("limitToLast",n,"L")}(e)))}catch(t){throw Ns(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Rs(this.firestore,zd(this._delegate,function nN(...n){return Gb._create("startAt",n,!0)}(...e)))}catch(t){throw Ns(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Rs(this.firestore,zd(this._delegate,function rN(...n){return Gb._create("startAfter",n,!1)}(...e)))}catch(t){throw Ns(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Rs(this.firestore,zd(this._delegate,function iN(...n){return zb._create("endBefore",n,!1)}(...e)))}catch(t){throw Ns(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Rs(this.firestore,zd(this._delegate,function sN(...n){return zb._create("endAt",n,!0)}(...e)))}catch(t){throw Ns(t,"endAt()","Query.endAt()")}}isEqual(e){return $d(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function fN(n){n=Nn(n,qi);const e=Nn(n.firestore,Cr),t=Hr(e),r=new Wd(e);return function lM(n,e){const t=new Qr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(r=(0,Ie.Z)(function*(o,u,l){try{const m=yield Kf(o,u,!0),v=new sb(u,m.ir),C=v.sc(m.documents),b=v.applyChanges(C,!1);l.resolve(b.snapshot)}catch(m){const v=Ud(m,`Failed to execute query '${u} against cache`);l.reject(v)}}),function(o,u,l){return r.apply(this,arguments)})(yield Uw(n),e,t);var r})),t.promise}(t,n._query).then(o=>new qd(e,r,n,o))}(this._delegate):"server"===e?.source?function pN(n){n=Nn(n,qi);const e=Nn(n.firestore,Cr),t=Hr(e),r=new Wd(e);return Hw(t,n._query,{source:"server"}).then(o=>new qd(e,r,n,o))}(this._delegate):function hN(n){n=Nn(n,qi);const e=Nn(n.firestore,Cr),t=Hr(e),r=new Wd(e);return gx(n._query),Hw(t,n._query).then(o=>new qd(e,r,n,o))}(this._delegate),t.then(r=>new CM(this.firestore,new qd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Nx(e),r=Rx(e,o=>new CM(this.firestore,new qd(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return bx(this._delegate,t,r)}withConverter(e){return new Rs(this.firestore,this._delegate.withConverter(e?dp.getInstance(this.firestore,e):null))}}class UN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new nE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class CM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Rs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new nE(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new UN(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new nE(this._firestore,r))})}isEqual(e){return Ix(this._delegate,e._delegate)}}class Ty extends Rs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new oa(this.firestore,e):null}doc(e){try{return new oa(this.firestore,void 0===e?cp(this._delegate):cp(this._delegate,e))}catch(t){throw Ns(t,"doc()","CollectionReference.doc()")}}add(e){return function mN(n,e){const t=Nn(n.firestore,Cr),r=cp(n),o=qb(n.converter,e);return by(t,[D(I(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Ir.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new oa(this.firestore,t))}isEqual(e){return Lb(this._delegate,e._delegate)}withConverter(e){return new Ty(this.firestore,this._delegate.withConverter(e?dp.getInstance(this.firestore,e):null))}}function hp(n){return Nn(n,lr)}class DM{constructor(...e){this._delegate=new Fa(...e)}static documentId(){return new DM(xr.keyField().canonicalString())}isEqual(e){return(e=(0,Fn.m9)(e))instanceof Fa&&this._delegate._internalPath.isEqual(e._internalPath)}}class fp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function xN(){return new Z("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new fp(e)}static delete(){const e=function MN(){return new S("deleteField")}();return e._methodName="FieldValue.delete",new fp(e)}static arrayUnion(...e){const t=function ON(...n){return new ie("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new fp(t)}static arrayRemove(...e){const t=function PN(...n){return new Re("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new fp(t)}static increment(e){const t=function NN(n){return new Ke("increment",n)}(e);return t._methodName="FieldValue.increment",new fp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const BN={Firestore:xx,GeoPoint:s,Timestamp:wr,Blob:eE,Transaction:Ox,WriteBatch:Px,DocumentReference:oa,DocumentSnapshot:tE,Query:Rs,QueryDocumentSnapshot:nE,QuerySnapshot:CM,CollectionReference:Ty,FieldPath:DM,FieldValue:fp,setLogLevel:function VN(n){!function sd(n){Ms.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function $N(n){(function jN(n,e){n.INTERNAL.registerComponent(new Ig.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},BN)))})(n,(e,t)=>new xx(e,t,new LN)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(mI.Z);var HN=A(3019),aa=A(3093),GN=A(4552);class zN extends Xi.x{constructor(e=1/0,t=1/0,r=GN.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:l}=this;t||(r.push(e),!o&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const l=t.now();let m=0;for(let v=1;v<r.length&&r[v]<=l;v+=2)m=v;m&&r.splice(0,m+1)}}}var qN=A(3020);function bM(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,qN.B)({connector:()=>new zN(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function Zb(n,e){return(0,Po.m)(e)?(0,Hn.w)(()=>n,e):(0,Hn.w)(()=>n)}var La=A(5137);A(4097);var SM=A(4303);const AM=new Map,Fx={activated:!1,tokenObservers:[]},QN={initialized:!1,enabled:!1};function ei(n){return AM.get(n)||Object.assign({},Fx)}function Yb(){return QN}const MM="https://content-firebaseappcheck.googleapis.com/v1",tR="exchangeDebugToken",Lx={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class rR{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ie.Z)(function*(){t.stop();try{t.pending=new Fn.BH,yield function iR(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Fn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const os=new Fn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function xM(n){if(!ei(n).activated)throw os.create("use-before-activation",{appName:n.name})}function Xb(n,e){return PM.apply(this,arguments)}function PM(){return PM=(0,Ie.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const x=yield o.getHeartbeatsHeader();x&&(r["X-Firebase-Client"]=x)}const u={method:"POST",body:JSON.stringify(e),headers:r};let l,m;try{l=yield fetch(n,u)}catch(x){throw os.create("fetch-network-error",{originalErrorMessage:x?.message})}if(200!==l.status)throw os.create("fetch-status-error",{httpStatus:l.status});try{m=yield l.json()}catch(x){throw os.create("fetch-parse-error",{originalErrorMessage:x?.message})}const v=m.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw os.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const C=1e3*Number(v[1]),b=Date.now();return{token:m.token,expireTimeMillis:b+C,issuedAtTimeMillis:b}}),PM.apply(this,arguments)}function Vx(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`${MM}/projects/${t}/apps/${r}:${tR}?key=${o}`,body:{debug_token:e}}}const uR="firebase-app-check-database",cR=1,rE="firebase-app-check-store";let eT=null;function NM(){return NM=(0,Ie.Z)(function*(n,e){const r=(yield function Bx(){return eT||(eT=new Promise((n,e)=>{try{const t=indexedDB.open(uR,cR);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(os.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(rE,{keyPath:"compositeKey"})}}catch(t){e(os.create("storage-open",{originalErrorMessage:t?.message}))}}),eT)}()).transaction(rE,"readwrite"),u=r.objectStore(rE).put({compositeKey:n,value:e});return new Promise((l,m)=>{u.onsuccess=v=>{l()},r.onerror=v=>{var C;m(os.create("storage-set",{originalErrorMessage:null===(C=v.target.error)||void 0===C?void 0:C.message}))}})}),NM.apply(this,arguments)}const iE=new lu.Yd("@firebase/app-check");function FM(n,e){return(0,Fn.hl)()?function dR(n,e){return function jx(n,e){return NM.apply(this,arguments)}(function Hx(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{iE.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function VM(){return Yb().enabled}function UM(){return BM.apply(this,arguments)}function BM(){return BM=(0,Ie.Z)(function*(){const n=Yb();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),BM.apply(this,arguments)}const yR={error:"UNKNOWN_ERROR"};function vR(n){return Fn.US.encodeString(JSON.stringify(n),!1)}function tT(n){return jM.apply(this,arguments)}function jM(){return jM=(0,Ie.Z)(function*(n,e=!1){const t=n.app;xM(t);const r=ei(t);let u,o=r.token;if(o&&!Sy(o)&&(r.token=void 0,o=void 0),!o){const v=yield r.cachedTokenPromise;v&&(Sy(v)?o=v:yield FM(t,void 0))}if(!e&&o&&Sy(o))return{token:o.token};let m,l=!1;if(VM()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Xb(Vx(t,yield UM()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const v=yield r.exchangeTokenPromise;return yield FM(t,v),r.token=v,{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),o=yield ei(t).exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?iE.warn(v.message):iE.error(v),u=v}return o?u?m=Sy(o)?{token:o.token,internalError:u}:Wx(u):(m={token:o.token},r.token=o,yield FM(t,o)):m=Wx(u),l&&function qx(n,e){const t=ei(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,m),m}),jM.apply(this,arguments)}function $M(){return $M=(0,Ie.Z)(function*(n){const e=n.app;xM(e);const{provider:t}=ei(e);if(VM()){const r=yield UM(),{token:o}=yield Xb(Vx(e,r),n.heartbeatServiceProvider);return{token:o}}{const{token:r}=yield t.getToken();return{token:r}}}),$M.apply(this,arguments)}function GM(n,e){const t=ei(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function zx(n){const{app:e}=n,t=ei(e);let r=t.tokenRefresher;r||(r=function _R(n){const{app:e}=n;return new rR((0,Ie.Z)(function*(){let r;if(r=ei(e).token?yield tT(n,!0):yield tT(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=ei(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Lx.RETRIAL_MIN_WAIT,Lx.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Sy(n){return n.expireTimeMillis-Date.now()>0}function Wx(n){return{token:vR(yR),error:n}}class wR{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ei(this.app);for(const t of e)GM(this.app,t.next);return Promise.resolve()}}const tO="app-check-internal";!function RR(){(0,SM._registerComponent)(new Ig.wA("app-check",n=>function ER(n,e){return new wR(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(tO).initialize()})),(0,SM._registerComponent)(new Ig.wA(tO,n=>function IR(n){return{getToken:e=>tT(n,e),getLimitedUseToken:()=>function Gx(n){return $M.apply(this,arguments)}(n),addTokenListener:e=>function HM(n,e,t,r){const{app:o}=n,u=ei(o);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&Sy(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),zx(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>zx(n))}(n,"INTERNAL",e),removeTokenListener:e=>GM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,SM.registerVersion)("@firebase/app-check","0.8.0")}();class ZM{constructor(){return(0,Qn.vb)("app-check")}}typeof window<"u"&&window;var YM=A(120);const rO=new h.OlP("angularfire2.auth.use-emulator"),iO=new h.OlP("angularfire2.auth.settings"),sO=new h.OlP("angularfire2.auth.tenant-id"),oO=new h.OlP("angularfire2.auth.langugage-code"),aO=new h.OlP("angularfire2.auth.use-device-language"),uO=new h.OlP("angularfire.auth.persistence"),cO=(n,e,t,r,o,u,l,m)=>(0,Oi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=o,u&&v.useDeviceLanguage(),l)for(const[C,b]of Object.entries(l))v.settings[C]=b;return m&&v.setPersistence(m),v},[t,r,o,u,l,m]);let rT=(()=>{class n{constructor(t,r,o,u,l,m,v,C,b,x,z,J){const Ce=new Xi.x,Fe=(0,Pt.of)(void 0).pipe((0,aa.Q)(l.outsideAngular),(0,Hn.w)(()=>u.runOutsideAngular(()=>Promise.resolve().then(A.bind(A,8661)))),(0,Qt.U)(()=>(0,Oi.on)(t,u,r)),(0,Qt.U)(Ve=>cO(Ve,u,m,C,b,x,v,z)),bM({bufferSize:1,refCount:!1}));if(br(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Pt.of)(null);else{Fe.pipe(Br()).subscribe();const It=Fe.pipe((0,Hn.w)($t=>$t.getRedirectResult().then(un=>un,()=>null)),Qn.iC,bM({bufferSize:1,refCount:!1})),Ut=Fe.pipe((0,Hn.w)($t=>new bi.y(un=>({unsubscribe:u.runOutsideAngular(()=>$t.onAuthStateChanged(An=>un.next(An),An=>un.error(An),()=>un.complete()))})))),_t=Fe.pipe((0,Hn.w)($t=>new bi.y(un=>({unsubscribe:u.runOutsideAngular(()=>$t.onIdTokenChanged(An=>un.next(An),An=>un.error(An),()=>un.complete()))}))));this.authState=It.pipe(Zb(Ut),(0,La.R)(l.outsideAngular),(0,aa.Q)(l.insideAngular)),this.user=It.pipe(Zb(_t),(0,La.R)(l.outsideAngular),(0,aa.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,Hn.w)($t=>$t?(0,er.D)($t.getIdToken()):(0,Pt.of)(null))),this.idTokenResult=this.user.pipe((0,Hn.w)($t=>$t?(0,er.D)($t.getIdTokenResult()):(0,Pt.of)(null))),this.credential=(0,HN.T)(It,Ce,this.authState.pipe(ci($t=>!$t))).pipe((0,Qt.U)($t=>$t?.user?$t:null),(0,La.R)(l.outsideAngular),(0,aa.Q)(l.insideAngular))}return(0,Oi.pX)(this,Fe,u,{spy:{apply:(Ve,It,Ut)=>{(Ve.startsWith("signIn")||Ve.startsWith("createUser"))&&Ut.then(_t=>Ce.next(_t))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Oi.Dh),h.LFG(Oi.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Qn.HU),h.LFG(rO,8),h.LFG(iO,8),h.LFG(sO,8),h.LFG(oO,8),h.LFG(aO,8),h.LFG(uO,8),h.LFG(ZM,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),BR=(()=>{class n{constructor(){YM.Z.registerVersion("angularfire",Qn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[rT]}),n})();function lO(n,e){return function jR(n,e=vg.z){return new bi.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function QM(n,e){return lO(n,e).pipe((0,Qt.U)(t=>({payload:t,type:"query"})))}function iT(n,e){return QM(n,e).pipe(Xa(void 0),Ul(),(0,Qt.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,m)=>{const v=o.find(b=>b.doc.ref.isEqual(l.ref)),C=t?.payload.docs.find(b=>b.ref.isEqual(l.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(l.metadata)||!v&&C&&JSON.stringify(C.metadata)===JSON.stringify(l.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:l}})}),u}))}function dO(n,e,t){return iT(n,t).pipe(ga((r,o)=>function HR(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function GR(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return JM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return JM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return JM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),(0,Bv.x)(),(0,Qt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function JM(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function hO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class fO{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=iT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Qt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Xa(void 0),Ul(),ci(([r,o])=>o.length>0||!r),(0,Qt.U)(([r,o])=>o),Qn.iC)}auditTrail(e){return this.stateChanges(e).pipe(ga((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=hO(e);return dO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}valueChanges(e={}){return QM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Qn.iC)}get(e){return(0,er.D)(this.query.get(e)).pipe(Qn.iC)}add(e){return this.ref.add(e)}doc(e){return new pO(this.ref.doc(e),this.afs)}}class pO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=yO(r,t);return new fO(o,u,this.afs)}snapshotChanges(){return function $R(n,e){return lO(n,e).pipe(Xa(void 0),Ul(),(0,Qt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Qt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,er.D)(this.ref.get(e)).pipe(Qn.iC)}}class zR{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?iT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ci(t=>t.length>0),Qn.iC):iT(this.query,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}auditTrail(e){return this.stateChanges(e).pipe(ga((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=hO(e);return dO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}valueChanges(e={}){return QM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Qn.iC)}get(e){return(0,er.D)(this.query.get(e)).pipe(Qn.iC)}}const gO=new h.OlP("angularfire2.enableFirestorePersistence"),mO=new h.OlP("angularfire2.firestore.persistenceSettings"),qR=new h.OlP("angularfire2.firestore.settings"),WR=new h.OlP("angularfire2.firestore.use-emulator");function yO(n,e=(t=>t)){return{query:e(n),ref:n}}let XM=(()=>{class n{constructor(t,r,o,u,l,m,v,C,b,x,z,J,Ce,Fe,Ve,It,Ut){this.schedulers=v;const _t=(0,Oi.on)(t,m,r),$t=b;x&&cO(_t,m,z,Ce,Fe,Ve,J,It),[this.firestore,this.persistenceEnabled$]=(0,Oi.cc)(`${_t.name}.firestore`,"AngularFirestore",_t.name,()=>{const un=m.runOutsideAngular(()=>_t.firestore());if(u&&un.settings(u),$t&&un.useEmulator(...$t),o&&!br(l)){const An=()=>{try{return(0,er.D)(un.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(as){return typeof console<"u"&&console.warn(as),(0,Pt.of)(!1)}};return[un,m.runOutsideAngular(An)]}return[un,(0,Pt.of)(!1)]},[u,$t,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:l}=yO(o,r),m=this.schedulers.ngZone.run(()=>u);return new fO(m,l,this)}collectionGroup(t,r){const o=r||(l=>l),u=this.firestore.collectionGroup(t);return new zR(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new pO(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Oi.Dh),h.LFG(Oi.xv,8),h.LFG(gO,8),h.LFG(qR,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Qn.HU),h.LFG(mO,8),h.LFG(WR,8),h.LFG(rT,8),h.LFG(rO,8),h.LFG(iO,8),h.LFG(sO,8),h.LFG(oO,8),h.LFG(aO,8),h.LFG(uO,8),h.LFG(ZM,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ZR=(()=>{class n{constructor(){YM.Z.registerVersion("angularfire",Qn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:gO,useValue:!0},{provide:mO,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[XM]}),n})(),vO=(()=>{class n{constructor(t){this.db=t,this._posts$=new ui.X([]),this.posts$=this._posts$.asObservable()}getPosts(){return this.db.collection("posts").valueChanges().pipe((0,_r.b)(t=>{this._posts$.next(t)}),function wg(n=1/0){let e;e=n&&"object"==typeof n?n:{count:n};const{count:t=1/0,delay:r,resetOnSuccess:o=!1}=e;return t<=0?ha.y:(0,$i.e)((u,l)=>{let v,m=0;const C=()=>{let b=!1;v=u.subscribe((0,Si.x)(l,x=>{o&&(m=0),l.next(x)},void 0,x=>{if(m++<t){const z=()=>{v?(v.unsubscribe(),v=null,C()):b=!0};if(null!=r){const J="number"==typeof r?function Uv(n=0,e,t=vg.P){let r=-1;return null!=e&&((0,_g.K)(e)?t=e:r=e),new bi.y(o=>{let u=function gS(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;u<0&&(u=0);let l=0;return t.schedule(function(){o.closed||(o.next(l++),0<=r?this.schedule(void 0,r):o.complete())},u)})}(r):(0,nc.Xf)(r(x,m)),Ce=(0,Si.x)(l,()=>{Ce.unsubscribe(),z()},()=>{l.complete()});J.subscribe(Ce)}else z()}else l.error(x)})),b&&(v.unsubscribe(),v=null,C())};C()})}(1),ls(t=>(console.log("err:",t),pa(()=>t))))}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(XM))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var KR=A(6710);let sE=(()=>{class n{constructor(t,r){this.afs=t,this.db=r,this._loggedInUser$=new ui.X(JSON.parse(sessionStorage.getItem("loggedInUser"))||null),this.loggedInUser$=this._loggedInUser$.asObservable()}logInWithGoogle(){var t=this;return(0,Ie.Z)(function*(){try{const r=yield t.afs.signInWithPopup(new KR.V);return t.createOrUpdateUserOnDB(r),sessionStorage.setItem("loggedInUser",JSON.stringify(r)),t._loggedInUser$.next(r),r}catch(r){throw console.error(r.message),r.message}})()}logInWithEmailAndPassword(t){var r=this;return(0,Ie.Z)(function*(){try{const o=yield r.afs.signInWithEmailAndPassword(t.email,t.password);return r.createOrUpdateUserOnDB(o,t),sessionStorage.setItem("loggedInUser",JSON.stringify(o)),r._loggedInUser$.next(o),o}catch(o){throw console.error(o.message),o.message}})()}registerWithEmailAndPassword(t){var r=this;return(0,Ie.Z)(function*(){try{const o=yield r.afs.createUserWithEmailAndPassword(t.email,t.password);return r.createOrUpdateUserOnDB(o,t),sessionStorage.setItem("loggedInUser",JSON.stringify(o)),r._loggedInUser$.next(o),o}catch(o){throw console.error(o.message),o.message}})()}logOut(){var t=this;return(0,Ie.Z)(function*(){try{yield t.afs.signOut(),sessionStorage.removeItem("loggedInUser"),t._loggedInUser$.next(null)}catch(r){throw console.error(r.message),r.message}})()}createOrUpdateUserOnDB(t,r=null){this.db.collection("users").doc(t.user.uid).get().pipe(Kr(1)).subscribe({next:o=>{if(o.exists){const u=o.data();console.log("userData",u),u._id||this.db.collection("users").doc(t.user.uid).update({_id:t.user.uid}),u.fullName||this.db.collection("users").doc(t.user.uid).update({fullName:r?.fullName||t.additionalUserInfo?.profile?.name}),u.imgUrl||this.db.collection("users").doc(t.user.uid).update({imgUrl:t.user.photoURL||"https://res.cloudinary.com/dpbcaizq9/image/upload/v1686066256/user_jsqpzw.png"}),u.followedByUsers||this.db.collection("users").doc(t.user.uid).update({followedByUsers:[]}),u.followingUsers||this.db.collection("users").doc(t.user.uid).update({followingUsers:[]})}else this.db.collection("users").doc(t.user.uid).set({_id:t.user.uid,fullName:r?.fullName||t.additionalUserInfo?.profile?.name,imgUrl:t.user.photoURL||"https://res.cloudinary.com/dpbcaizq9/image/upload/v1686066256/user_jsqpzw.png",followedByUsers:[],followingUsers:[]})},error:o=>{console.error(o)}})}getUserById(t){return this.db.collection("users").doc(t).get()}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(rT),h.LFG(XM))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),YR=(()=>{class n{transform(t){const o=Math.floor(Date.now()/1e3)-t;return o<60?"just now":o<3600?`${Math.floor(o/60)}m`:o<86400?`${Math.floor(o/3600)}h`:`${Math.floor(o/86400)}d`}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=h.Yjl({name:"timeAgo",type:n,pure:!0})}return n})();function QR(n,e){if(1&n&&(h.TgZ(0,"div",19),h._UZ(1,"img",20),h.TgZ(2,"h5"),h._uU(3),h.TgZ(4,"span"),h._uU(5),h.ALo(6,"timeAgo"),h.qZA()()()),2&n){const t=h.oxw();h.xp6(1),h.Q6J("src",t.creator.imgUrl,h.LSH),h.xp6(2),h.hij("",t.creator.fullName," "),h.xp6(2),h.hij("\u2022 ",h.lcZ(6,3,t.post.createdAt),"")}}function JR(n,e){1&n&&(h.TgZ(0,"button",21),h._uU(1,"more"),h.qZA())}let XR=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){this.authService.getUserById(this.post.creatorId).pipe(Kr(1)).subscribe({next:t=>{t.exists&&(this.creator=t.data(),console.log("this.creator",this.creator))}})}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(sE))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["post-card"]],inputs:{post:"post"},decls:31,vars:10,consts:[[1,"post-card"],["class","post-header",4,"ngIf"],["alt","post",3,"src"],[1,"post-card-inner-container"],[1,"actions"],[1,"like-comment-share"],["aria-label","Like","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"x1lliihq","x1n2onr6"],["d","M16.792 3.904A4.989 4.989 0 0 1 21.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 0 1 4.708-5.218 4.21 4.21 0 0 1 3.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 0 1 3.679-1.938m0-2a6.04 6.04 0 0 0-4.797 2.127 6.052 6.052 0 0 0-4.787-2.127A6.985 6.985 0 0 0 .5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 0 0 3.518 3.018 2 2 0 0 0 2.174 0 45.263 45.263 0 0 0 3.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 0 0-6.708-7.218Z"],["aria-label","Comment","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"x1lliihq","x1n2onr6"],["d","M20.656 17.008a9.993 9.993 0 1 0-3.59 3.615L22 22Z","fill","none","stroke","currentColor","stroke-linejoin","round","stroke-width","2"],["aria-label","Share PostModel","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"x1lliihq","x1n2onr6"],["fill","none","stroke","currentColor","stroke-linejoin","round","stroke-width","2","x1","22","x2","9.218","y1","3","y2","10.083"],["fill","none","points","11.698 20.334 22 3.001 2 3.001 9.218 10.084 11.698 20.334","stroke","currentColor","stroke-linejoin","round","stroke-width","2"],[1,"save"],["aria-label","Save","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"x1lliihq","x1n2onr6"],["fill","none","points","20 21 12 13.44 4 21 4 3 20 3 20 21","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],[1,"content"],[1,"creatorFullName"],["class","btn-more",4,"ngIf"],[1,"post-header"],["alt","creator",3,"src"],[1,"btn-more"]],template:function(r,o){1&r&&(h.TgZ(0,"li",0),h.YNc(1,QR,7,5,"div",1),h._UZ(2,"img",2),h.TgZ(3,"div",3)(4,"div",4)(5,"div",5),h.O4$(),h.TgZ(6,"svg",6)(7,"title"),h._uU(8,"Like"),h.qZA(),h._UZ(9,"path",7),h.qZA(),h.TgZ(10,"svg",8)(11,"title"),h._uU(12,"Comment"),h.qZA(),h._UZ(13,"path",9),h.qZA(),h.TgZ(14,"svg",10)(15,"title"),h._uU(16,"Share PostModel"),h.qZA(),h._UZ(17,"line",11)(18,"polygon",12),h.qZA()(),h.kcU(),h.TgZ(19,"div",13),h.O4$(),h.TgZ(20,"svg",14)(21,"title"),h._uU(22,"Save"),h.qZA(),h._UZ(23,"polygon",15),h.qZA()()(),h.kcU(),h.TgZ(24,"div",16)(25,"p")(26,"span",17),h._uU(27),h.qZA(),h._uU(28),h.ALo(29,"slice"),h.YNc(30,JR,2,0,"button",18),h.qZA()()()()),2&r&&(h.xp6(1),h.Q6J("ngIf",o.creator),h.xp6(1),h.Q6J("src",o.post.imgUrl,h.LSH),h.xp6(25),h.Oqu(o.post.creatorFullName),h.xp6(1),h.AsE(" ",h.Dn7(29,6,o.post.content,0,120)," ",o.post.content.length>=120&&"..."," "),h.xp6(2),h.Q6J("ngIf",o.post.content.length>=120))},dependencies:[Yi,Wr,YR],styles:["[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;gap:.7em}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5em;color:#f5f5f5}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:40px;border:none}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4em}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#919191;font-weight:400}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid rgba(245,245,245,.44);border-radius:.2em}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]{padding-inline:1.5em;display:flex;flex-direction:column;gap:1em}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .like-comment-share[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5em}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .like-comment-share[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .post-card-inner-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .creatorFullName[_ngcontent-%COMP%]{font-weight:700;font-size:13px;color:#f5f5f5;cursor:pointer}[_nghost-%COMP%]   .post-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .btn-more[_ngcontent-%COMP%]{border:none;background-color:transparent;color:#919191;font-size:14px;cursor:pointer}"]})}return n})();function ek(n,e){1&n&&h._UZ(0,"post-card",2),2&n&&h.Q6J("post",e.$implicit)}let tk=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["post-list"]],inputs:{posts:"posts"},decls:3,vars:1,consts:[[1,"post-list"],[3,"post",4,"ngFor","ngForOf"],[3,"post"]],template:function(r,o){1&r&&(h.TgZ(0,"section",0)(1,"ul"),h.YNc(2,ek,1,1,"post-card",1),h.qZA()()),2&r&&(h.xp6(2),h.Q6J("ngForOf",o.posts))},dependencies:[Vs,XR]})}return n})();function nk(n,e){if(1&n&&(h.TgZ(0,"section",1),h._UZ(1,"post-list",2),h.qZA()),2&n){const t=e.ngIf;h.xp6(1),h.Q6J("posts",t)}}let rk=(()=>{class n{constructor(t){this.postService=t}ngOnInit(){this.posts$=this.postService.posts$}ngOnDestroy(){}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(vO))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["home-page-page"]],decls:2,vars:3,consts:[["class","home-page",4,"ngIf"],[1,"home-page"],[3,"posts"]],template:function(r,o){1&r&&(h.YNc(0,nk,2,1,"section",0),h.ALo(1,"async")),2&r&&h.Q6J("ngIf",h.lcZ(1,1,o.posts$))},dependencies:[Yi,tk,ca],styles:["[_nghost-%COMP%]{padding-block:2em}"]})}return n})(),_O=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.Qsj),h.Y36(h.SBq))};static#t=this.\u0275dir=h.lG2({type:n})}return n})(),pp=(()=>{class n extends _O{static#e=this.\u0275fac=function(){let t;return function(o){return(t||(t=h.n5z(n)))(o||n)}}();static#t=this.\u0275dir=h.lG2({type:n,features:[h.qOj]})}return n})();const Hu=new h.OlP("NgValueAccessor"),ok={provide:Hu,useExisting:(0,h.Gpc)(()=>sT),multi:!0},uk=new h.OlP("CompositionEventMode");let sT=(()=>{class n extends _O{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ak(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(uk,8))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){1&r&&h.NdJ("input",function(l){return o._handleInput(l.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(l){return o._compositionEnd(l.target.value)})},features:[h._Bn([ok]),h.qOj]})}return n})();const vs=new h.OlP("NgValidators"),Yd=new h.OlP("NgAsyncValidators");function xO(n){return null!=n}function OO(n){return(0,h.QGY)(n)?(0,er.D)(n):n}function PO(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function NO(n,e){return e.map(t=>t(n))}function RO(n){return n.map(e=>function lk(n){return!n.validate}(e)?e:t=>e.validate(t))}function e1(n){return null!=n?function kO(n){if(!n)return null;const e=n.filter(xO);return 0==e.length?null:function(t){return PO(NO(t,e))}}(RO(n)):null}function t1(n){return null!=n?function FO(n){if(!n)return null;const e=n.filter(xO);return 0==e.length?null:function(t){return function ik(...n){const e=(0,to.jO)(n),{args:t,keys:r}=ur(n),o=new bi.y(u=>{const{length:l}=t;if(!l)return void u.complete();const m=new Array(l);let v=l,C=l;for(let b=0;b<l;b++){let x=!1;(0,nc.Xf)(t[b]).subscribe((0,Si.x)(u,z=>{x||(x=!0,C--),m[b]=z},()=>v--,void 0,()=>{(!v||!x)&&(C||u.next(r?no(r,m):m),u.complete())}))}});return e?o.pipe(ec(e)):o}(NO(t,e).map(OO)).pipe((0,Qt.U)(PO))}}(RO(n)):null}function LO(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function n1(n){return n?Array.isArray(n)?n:[n]:[]}function aT(n,e){return Array.isArray(n)?n.includes(e):n===e}function BO(n,e){const t=n1(e);return n1(n).forEach(o=>{aT(t,o)||t.push(o)}),t}function jO(n,e){return n1(e).filter(t=>!aT(n,t))}class $O{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=e1(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=t1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ks extends $O{get formDirective(){return null}get path(){return null}}class Qd extends $O{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class HO{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let GO=(()=>{class n extends HO{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(Qd,2))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){2&r&&h.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[h.qOj]})}return n})(),zO=(()=>{class n extends HO{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(ks,10))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){2&r&&h.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[h.qOj]})}return n})();const oE="VALID",cT="INVALID",Ay="PENDING",aE="DISABLED";function s1(n){return(lT(n)?n.validators:n)||null}function o1(n,e){return(lT(e)?e.asyncValidators:n)||null}function lT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class KO{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===oE}get invalid(){return this.status===cT}get pending(){return this.status==Ay}get disabled(){return this.status===aE}get enabled(){return this.status!==aE}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(BO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(BO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(jO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(jO(e,this._rawAsyncValidators))}hasValidator(e){return aT(this._rawValidators,e)}hasAsyncValidator(e){return aT(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ay,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=aE,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=oE,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===oE||this.status===Ay)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?aE:oE}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ay,this._hasOwnPendingAsyncValidator=!0;const t=OO(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?aE:this.errors?cT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ay)?Ay:this._anyControlsHaveStatus(cT)?cT:oE}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){lT(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function pk(n){return Array.isArray(n)?e1(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function gk(n){return Array.isArray(n)?t1(n):n||null}(this._rawAsyncValidators)}}class a1 extends KO{constructor(e,t,r){super(s1(t),o1(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function ZO(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new h.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function WO(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[t])throw new h.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const gp=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>uE}),uE="always";function cE(n,e,t=uE){u1(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function vk(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&YO(n,e)})}(n,e),function wk(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function _k(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&YO(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function yk(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function fT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function u1(n,e){const t=function VO(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(LO(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function UO(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(LO(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();fT(e._rawValidators,o),fT(e._rawAsyncValidators,o)}function YO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const bk={provide:ks,useExisting:(0,h.Gpc)(()=>gT)},lE=(()=>Promise.resolve())();let gT=(()=>{class n extends ks{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new a1({},e1(t),t1(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){lE.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),cE(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){lE.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){lE.then(()=>{const r=this._findContainer(t.path),o=new a1({});(function QO(n,e){u1(n,e)})(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){lE.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){lE.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function JO(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(vs,10),h.Y36(Yd,10),h.Y36(gp,8))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){1&r&&h.NdJ("submit",function(l){return o.onSubmit(l)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([bk]),h.qOj]})}return n})();function XO(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function eP(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const tP=class extends KO{constructor(e=null,t,r){super(s1(t),o1(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lT(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=eP(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){XO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){XO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){eP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Ak={provide:Qd,useExisting:(0,h.Gpc)(()=>h1)},iP=(()=>Promise.resolve())();let h1=(()=>{class n extends Qd{constructor(t,r,o,u,l,m){super(),this._changeDetectorRef=l,this.callSetDisabledState=m,this.control=new tP,this._registered=!1,this.name="",this.update=new h.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function d1(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===sT?t=u:function Ck(n){return Object.getPrototypeOf(n.constructor)===pp}(u)?r=u:o=u}),o||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function l1(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){cE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){iP.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=0!==r&&(0,h.VuI)(r);iP.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function dT(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(ks,9),h.Y36(vs,10),h.Y36(Yd,10),h.Y36(Hu,10),h.Y36(h.sBO,8),h.Y36(gp,8))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([Ak]),h.qOj,h.TTD]})}return n})(),sP=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),aP=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({})}return n})();const f1=new h.OlP("NgModelWithFormControlWarning");let DP=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({imports:[aP]})}return n})(),Xk=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:gp,useValue:t.callSetDisabledState??uE}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({imports:[DP]})}return n})(),e2=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:f1,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:gp,useValue:t.callSetDisabledState??uE}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({imports:[DP]})}return n})();function t2(n,e){if(1&n){const t=h.EpF();h.O4$(),h.kcU(),h.TgZ(0,"form",12),h.NdJ("ngSubmit",function(){h.CHM(t);const o=h.oxw();return h.KtG(o.onLogInWithEmailAndPassword())}),h.TgZ(1,"input",13),h.NdJ("ngModelChange",function(o){h.CHM(t);const u=h.oxw();return h.KtG(u.userCred.email=o)}),h.qZA(),h.TgZ(2,"input",14),h.NdJ("ngModelChange",function(o){h.CHM(t);const u=h.oxw();return h.KtG(u.userCred.password=o)}),h.qZA(),h.TgZ(3,"button",15),h._uU(4,"Log in"),h.qZA()()}if(2&n){const t=h.oxw();h.xp6(1),h.Q6J("ngModel",t.userCred.email),h.xp6(1),h.Q6J("ngModel",t.userCred.password)}}function n2(n,e){if(1&n){const t=h.EpF();h.O4$(),h.kcU(),h.TgZ(0,"form",12),h.NdJ("ngSubmit",function(){h.CHM(t);const o=h.oxw();return h.KtG(o.onRegisterWithEmailAndPassword())}),h.TgZ(1,"input",16),h.NdJ("ngModelChange",function(o){h.CHM(t);const u=h.oxw();return h.KtG(u.userCred.fullName=o)}),h.qZA(),h.TgZ(2,"input",13),h.NdJ("ngModelChange",function(o){h.CHM(t);const u=h.oxw();return h.KtG(u.userCred.email=o)}),h.qZA(),h.TgZ(3,"input",14),h.NdJ("ngModelChange",function(o){h.CHM(t);const u=h.oxw();return h.KtG(u.userCred.password=o)}),h.qZA(),h.TgZ(4,"button",17),h._uU(5,"Register"),h.qZA()()}if(2&n){const t=h.oxw();h.xp6(1),h.Q6J("ngModel",t.userCred.fullName),h.xp6(1),h.Q6J("ngModel",t.userCred.email),h.xp6(1),h.Q6J("ngModel",t.userCred.password)}}let r2=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.userCred={fullName:"",email:"",password:""},this.isLogInFormShown=!0}ngOnInit(){}onLogInWithGoogle(){var t=this;return(0,Ie.Z)(function*(){try{yield t.authService.logInWithGoogle(),t.authService.loggedInUser$.pipe(Kr(1)).subscribe({next:o=>{o&&t.router.navigateByUrl("/")},error:o=>{console.error(o)}})}catch(r){console.error(r)}})()}onLogInWithEmailAndPassword(){var t=this;return(0,Ie.Z)(function*(){try{yield t.authService.logInWithEmailAndPassword(t.userCred),t.authService.loggedInUser$.pipe(Kr(1)).subscribe({next:r=>{r&&t.router.navigateByUrl("/")},error:r=>{console.error(r)}})}catch(r){console.error(r.message)}})()}onRegisterWithEmailAndPassword(){var t=this;return(0,Ie.Z)(function*(){try{yield t.authService.registerWithEmailAndPassword(t.userCred),t.authService.loggedInUser$.pipe(Kr(1)).subscribe({next:r=>{r&&t.router.navigateByUrl("/")},error:r=>{console.error(r)}})}catch(r){console.error(r.message)}})()}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(sE),h.Y36(yi))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["login-page"]],decls:16,vars:2,consts:[[1,"login"],[1,"logo"],["aria-label","Instagram","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","29","role","img","viewBox","32 4 113 32","width","103",1,"_ab6-"],["clip-rule","evenodd","d","M37.82 4.11c-2.32.97-4.86 3.7-5.66 7.13-1.02 4.34 3.21 6.17 3.56 5.57.4-.7-.76-.94-1-3.2-.3-2.9 1.05-6.16 2.75-7.58.32-.27.3.1.3.78l-.06 14.46c0 3.1-.13 4.07-.36 5.04-.23.98-.6 1.64-.33 1.9.32.28 1.68-.4 2.46-1.5a8.13 8.13 0 0 0 1.33-4.58c.07-2.06.06-5.33.07-7.19 0-1.7.03-6.71-.03-9.72-.02-.74-2.07-1.51-3.03-1.1Zm82.13 14.48a9.42 9.42 0 0 1-.88 3.75c-.85 1.72-2.63 2.25-3.39-.22-.4-1.34-.43-3.59-.13-5.47.3-1.9 1.14-3.35 2.53-3.22 1.38.13 2.02 1.9 1.87 5.16ZM96.8 28.57c-.02 2.67-.44 5.01-1.34 5.7-1.29.96-3 .23-2.65-1.72.31-1.72 1.8-3.48 4-5.64l-.01 1.66Zm-.35-10a10.56 10.56 0 0 1-.88 3.77c-.85 1.72-2.64 2.25-3.39-.22-.5-1.69-.38-3.87-.13-5.25.33-1.78 1.12-3.44 2.53-3.44 1.38 0 2.06 1.5 1.87 5.14Zm-13.41-.02a9.54 9.54 0 0 1-.87 3.8c-.88 1.7-2.63 2.24-3.4-.23-.55-1.77-.36-4.2-.13-5.5.34-1.95 1.2-3.32 2.53-3.2 1.38.14 2.04 1.9 1.87 5.13Zm61.45 1.81c-.33 0-.49.35-.61.93-.44 2.02-.9 2.48-1.5 2.48-.66 0-1.26-1-1.42-3-.12-1.58-.1-4.48.06-7.37.03-.59-.14-1.17-1.73-1.75-.68-.25-1.68-.62-2.17.58a29.65 29.65 0 0 0-2.08 7.14c0 .06-.08.07-.1-.06-.07-.87-.26-2.46-.28-5.79 0-.65-.14-1.2-.86-1.65-.47-.3-1.88-.81-2.4-.2-.43.5-.94 1.87-1.47 3.48l-.74 2.2.01-4.88c0-.5-.34-.67-.45-.7a9.54 9.54 0 0 0-1.8-.37c-.48 0-.6.27-.6.67 0 .05-.08 4.65-.08 7.87v.46c-.27 1.48-1.14 3.49-2.09 3.49s-1.4-.84-1.4-4.68c0-2.24.07-3.21.1-4.83.02-.94.06-1.65.06-1.81-.01-.5-.87-.75-1.27-.85-.4-.09-.76-.13-1.03-.11-.4.02-.67.27-.67.62v.55a3.71 3.71 0 0 0-1.83-1.49c-1.44-.43-2.94-.05-4.07 1.53a9.31 9.31 0 0 0-1.66 4.73c-.16 1.5-.1 3.01.17 4.3-.33 1.44-.96 2.04-1.64 2.04-.99 0-1.7-1.62-1.62-4.4.06-1.84.42-3.13.82-4.99.17-.8.04-1.2-.31-1.6-.32-.37-1-.56-1.99-.33-.7.16-1.7.34-2.6.47 0 0 .05-.21.1-.6.23-2.03-1.98-1.87-2.69-1.22-.42.39-.7.84-.82 1.67-.17 1.3.9 1.91.9 1.91a22.22 22.22 0 0 1-3.4 7.23v-.7c-.01-3.36.03-6 .05-6.95.02-.94.06-1.63.06-1.8 0-.36-.22-.5-.66-.67-.4-.16-.86-.26-1.34-.3-.6-.05-.97.27-.96.65v.52a3.7 3.7 0 0 0-1.84-1.49c-1.44-.43-2.94-.05-4.07 1.53a10.1 10.1 0 0 0-1.66 4.72c-.15 1.57-.13 2.9.09 4.04-.23 1.13-.89 2.3-1.63 2.3-.95 0-1.5-.83-1.5-4.67 0-2.24.07-3.21.1-4.83.02-.94.06-1.65.06-1.81 0-.5-.87-.75-1.27-.85-.42-.1-.79-.13-1.06-.1-.37.02-.63.35-.63.6v.56a3.7 3.7 0 0 0-1.84-1.49c-1.44-.43-2.93-.04-4.07 1.53-.75 1.03-1.35 2.17-1.66 4.7a15.8 15.8 0 0 0-.12 2.04c-.3 1.81-1.61 3.9-2.68 3.9-.63 0-1.23-1.21-1.23-3.8 0-3.45.22-8.36.25-8.83l1.62-.03c.68 0 1.29.01 2.19-.04.45-.02.88-1.64.42-1.84-.21-.09-1.7-.17-2.3-.18-.5-.01-1.88-.11-1.88-.11s.13-3.26.16-3.6c.02-.3-.35-.44-.57-.53a7.77 7.77 0 0 0-1.53-.44c-.76-.15-1.1 0-1.17.64-.1.97-.15 3.82-.15 3.82-.56 0-2.47-.11-3.02-.11-.52 0-1.08 2.22-.36 2.25l3.2.09-.03 6.53v.47c-.53 2.73-2.37 4.2-2.37 4.2.4-1.8-.42-3.15-1.87-4.3-.54-.42-1.6-1.22-2.79-2.1 0 0 .69-.68 1.3-2.04.43-.96.45-2.06-.61-2.3-1.75-.41-3.2.87-3.63 2.25a2.61 2.61 0 0 0 .5 2.66l.15.19c-.4.76-.94 1.78-1.4 2.58-1.27 2.2-2.24 3.95-2.97 3.95-.58 0-.57-1.77-.57-3.43 0-1.43.1-3.58.19-5.8.03-.74-.34-1.16-.96-1.54a4.33 4.33 0 0 0-1.64-.69c-.7 0-2.7.1-4.6 5.57-.23.69-.7 1.94-.7 1.94l.04-6.57c0-.16-.08-.3-.27-.4a4.68 4.68 0 0 0-1.93-.54c-.36 0-.54.17-.54.5l-.07 10.3c0 .78.02 1.69.1 2.09.08.4.2.72.36.91.15.2.33.34.62.4.28.06 1.78.25 1.86-.32.1-.69.1-1.43.89-4.2 1.22-4.31 2.82-6.42 3.58-7.16.13-.14.28-.14.27.07l-.22 5.32c-.2 5.37.78 6.36 2.17 6.36 1.07 0 2.58-1.06 4.2-3.74l2.7-4.5 1.58 1.46c1.28 1.2 1.7 2.36 1.42 3.45-.21.83-1.02 1.7-2.44.86-.42-.25-.6-.44-1.01-.71-.23-.15-.57-.2-.78-.04-.53.4-.84.92-1.01 1.55-.17.61.45.94 1.09 1.22.55.25 1.74.47 2.5.5 2.94.1 5.3-1.42 6.94-5.34.3 3.38 1.55 5.3 3.72 5.3 1.45 0 2.91-1.88 3.55-3.72.18.75.45 1.4.8 1.96 1.68 2.65 4.93 2.07 6.56-.18.5-.69.58-.94.58-.94a3.07 3.07 0 0 0 2.94 2.87c1.1 0 2.23-.52 3.03-2.31.09.2.2.38.3.56 1.68 2.65 4.93 2.07 6.56-.18l.2-.28.05 1.4-1.5 1.37c-2.52 2.3-4.44 4.05-4.58 6.09-.18 2.6 1.93 3.56 3.53 3.69a4.5 4.5 0 0 0 4.04-2.11c.78-1.15 1.3-3.63 1.26-6.08l-.06-3.56a28.55 28.55 0 0 0 5.42-9.44s.93.01 1.92-.05c.32-.02.41.04.35.27-.07.28-1.25 4.84-.17 7.88.74 2.08 2.4 2.75 3.4 2.75 1.15 0 2.26-.87 2.85-2.17l.23.42c1.68 2.65 4.92 2.07 6.56-.18.37-.5.58-.94.58-.94.36 2.2 2.07 2.88 3.05 2.88 1.02 0 2-.42 2.78-2.28.03.82.08 1.49.16 1.7.05.13.34.3.56.37.93.34 1.88.18 2.24.11.24-.05.43-.25.46-.75.07-1.33.03-3.56.43-5.21.67-2.79 1.3-3.87 1.6-4.4.17-.3.36-.35.37-.03.01.64.04 2.52.3 5.05.2 1.86.46 2.96.65 3.3.57 1 1.27 1.05 1.83 1.05.36 0 1.12-.1 1.05-.73-.03-.31.02-2.22.7-4.96.43-1.79 1.15-3.4 1.41-4 .1-.21.15-.04.15 0-.06 1.22-.18 5.25.32 7.46.68 2.98 2.65 3.32 3.34 3.32 1.47 0 2.67-1.12 3.07-4.05.1-.7-.05-1.25-.48-1.25Z","fill","currentColor","fill-rule","evenodd"],[3,"ngSubmit",4,"ngIf"],[3,"click"],[1,"btn-google-login",3,"click"],["height","30px","viewBox","0 0 48 48","width","30px","xmlns","http://www.w3.org/2000/svg"],["d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z","fill","#FFC107"],["d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z","fill","#FF3D00"],["d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z","fill","#4CAF50"],["d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z","fill","#1976D2"],[3,"ngSubmit"],["name","email","placeholder","Enter email","type","email",3,"ngModel","ngModelChange"],["name","password","placeholder","Enter password","type","password",3,"ngModel","ngModelChange"],[1,"btn-login-with-email-password"],["name","fullName","placeholder","Enter full name","type","text",3,"ngModel","ngModelChange"],[1,"btn-register-with-email-password"]],template:function(r,o){1&r&&(h.TgZ(0,"section",0)(1,"div",1),h.O4$(),h.TgZ(2,"svg",2),h._UZ(3,"path",3),h.qZA()(),h.YNc(4,t2,5,2,"form",4),h.YNc(5,n2,6,3,"form",4),h.kcU(),h.TgZ(6,"p",5),h.NdJ("click",function(){return o.isLogInFormShown=!o.isLogInFormShown}),h._uU(7," Don't you have a user? Register here "),h.qZA(),h.TgZ(8,"button",6),h.NdJ("click",function(){return o.onLogInWithGoogle()}),h.O4$(),h.TgZ(9,"svg",7),h._UZ(10,"path",8)(11,"path",9)(12,"path",10)(13,"path",11),h.qZA(),h.kcU(),h.TgZ(14,"span"),h._uU(15,"Log in with Google"),h.qZA()()()),2&r&&(h.xp6(4),h.Q6J("ngIf",o.isLogInFormShown),h.xp6(1),h.Q6J("ngIf",!o.isLogInFormShown))},dependencies:[Yi,sP,sT,GO,zO,h1,gT],styles:["[_nghost-%COMP%]   .login[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5em}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-inline:.6em;height:3em;border:none;border-radius:.3em}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:placeholder-shown{font-style:italic}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn-login-with-email-password[_ngcontent-%COMP%]{height:2.5em;cursor:pointer;border:none;border-radius:.3em;font-size:16px;color:#222;margin-block-start:.5em}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn-login-with-email-password[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn-register-with-email-password[_ngcontent-%COMP%]{height:3em;cursor:pointer;border:none;border-radius:.3em;font-size:16px;color:#222}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn-register-with-email-password[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{color:#b2b2b2}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   .btn-google-login[_ngcontent-%COMP%]{background-color:#f5f5f5;display:flex;align-items:center;gap:.5em;padding-inline:.5em;height:3.5em;border-radius:.4em;border:none;cursor:pointer;color:#222;margin-block-start:1.5em}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]   .btn-google-login[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}"]})}return n})(),i2=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["message-page"]],decls:2,vars:0,template:function(r,o){1&r&&(h.TgZ(0,"p"),h._uU(1,"message-page works!"),h.qZA())}})}return n})(),s2=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["notification-page"]],decls:2,vars:0,template:function(r,o){1&r&&(h.TgZ(0,"p"),h._uU(1,"notification-page works!"),h.qZA())}})}return n})(),o2=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["create-post-page"]],decls:2,vars:0,template:function(r,o){1&r&&(h.TgZ(0,"p"),h._uU(1,"create-post-page works!"),h.qZA())}})}return n})();const dE=()=>{let n=null;return(0,h.f3M)(sE).loggedInUser$.pipe(Kr(1)).subscribe({next:e=>{n=e}}),!!n||((0,h.f3M)(yi).navigateByUrl("/login"),!1)},a2=[{path:"",component:rk,canActivate:[dE]},{path:"login",component:r2,canActivate:[()=>{let n=null;return(0,h.f3M)(sE).loggedInUser$.pipe(Kr(1)).subscribe({next:e=>{n=e}}),!n||((0,h.f3M)(yi).navigateByUrl("/"),!1)}]},{path:"message",component:i2,canActivate:[dE]},{path:"notification",component:s2,canActivate:[dE]},{path:"create-post",component:o2,canActivate:[dE]},{path:"profile",component:(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["profile"]],decls:2,vars:0,template:function(r,o){1&r&&(h.TgZ(0,"p"),h._uU(1,"profile works!"),h.qZA())}})}return n})(),canActivate:[dE]}];let u2=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({imports:[mg.forRoot(a2,{useHash:!0}),mg]})}return n})();function c2(n,e){if(1&n&&h._UZ(0,"img",30),2&n){const t=h.oxw(2);h.Q6J("src",t.user.user.photoURL,h.LSH)}}function l2(n,e){1&n&&(h.O4$(),h.TgZ(0,"svg",31),h._UZ(1,"path",32)(2,"circle",33),h.qZA())}function d2(n,e){if(1&n){const t=h.EpF();h.O4$(),h.kcU(),h.TgZ(0,"div",34)(1,"ul")(2,"li",35),h.NdJ("click",function(){h.CHM(t);const o=h.oxw(2);return h.KtG(o.onLogOut())}),h._uU(3,"Log out"),h.qZA()()()}}const h2=function(){return{exact:!0}};function f2(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"section",1)(1,"div",2)(2,"div",3),h.O4$(),h.TgZ(3,"svg",4),h._UZ(4,"path",5),h.qZA()(),h.kcU(),h.TgZ(5,"nav")(6,"ul")(7,"li",6),h.O4$(),h.TgZ(8,"svg",7),h._UZ(9,"path",8),h.qZA()(),h.kcU(),h.TgZ(10,"li",9),h.O4$(),h.TgZ(11,"svg",10),h._UZ(12,"path",11)(13,"path",12),h.qZA()(),h.kcU(),h.TgZ(14,"li",13),h.O4$(),h.TgZ(15,"svg",14),h._UZ(16,"path",15),h.qZA()(),h.kcU(),h.TgZ(17,"li",16),h.O4$(),h.TgZ(18,"svg",17),h._UZ(19,"path",18)(20,"line",19)(21,"line",20),h.qZA()(),h.kcU(),h.TgZ(22,"li",21),h.YNc(23,c2,1,1,"img",22),h.YNc(24,l2,3,0,"ng-template",null,23,h.W1O),h.qZA()()()(),h.TgZ(26,"div",24),h.NdJ("click",function(){h.CHM(t);const o=h.oxw();return h.KtG(o.isExtraMenuOpen=!o.isExtraMenuOpen)}),h.O4$(),h.TgZ(27,"svg",25),h._UZ(28,"line",26)(29,"line",27)(30,"line",28),h.qZA(),h.YNc(31,d2,4,0,"div",29),h.qZA()()}if(2&n){const t=h.MAs(25),r=h.oxw();h.xp6(7),h.Q6J("routerLinkActiveOptions",h.DdM(4,h2)),h.xp6(16),h.Q6J("ngIf",r.user.user.photoURL)("ngIfElse",t),h.xp6(8),h.Q6J("ngIf",r.isExtraMenuOpen)}}let p2=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.isExtraMenuOpen=!1}ngOnInit(){this.userSubscription=this.authService.loggedInUser$.subscribe({next:t=>{t?this.user=t:(this.user=t,this.router.navigateByUrl("login"))}})}onLogOut(){var t=this;return(0,Ie.Z)(function*(){try{yield t.authService.logOut()}catch(r){console.error(r.message)}})()}ngOnDestroy(){this.userSubscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(sE),h.Y36(yi))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["aside-menu"]],decls:1,vars:1,consts:[["class","aside-menu",4,"ngIf"],[1,"aside-menu"],[1,"aside-menu-inner-container"],["routerLink","/","title","instagram",1,"logo"],["aria-label","Instagram","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"x1lliihq","x1n2onr6"],["d","M12 2.982c2.937 0 3.285.011 4.445.064a6.087 6.087 0 0 1 2.042.379 3.408 3.408 0 0 1 1.265.823 3.408 3.408 0 0 1 .823 1.265 6.087 6.087 0 0 1 .379 2.042c.053 1.16.064 1.508.064 4.445s-.011 3.285-.064 4.445a6.087 6.087 0 0 1-.379 2.042 3.643 3.643 0 0 1-2.088 2.088 6.087 6.087 0 0 1-2.042.379c-1.16.053-1.508.064-4.445.064s-3.285-.011-4.445-.064a6.087 6.087 0 0 1-2.043-.379 3.408 3.408 0 0 1-1.264-.823 3.408 3.408 0 0 1-.823-1.265 6.087 6.087 0 0 1-.379-2.042c-.053-1.16-.064-1.508-.064-4.445s.011-3.285.064-4.445a6.087 6.087 0 0 1 .379-2.042 3.408 3.408 0 0 1 .823-1.265 3.408 3.408 0 0 1 1.265-.823 6.087 6.087 0 0 1 2.042-.379c1.16-.053 1.508-.064 4.445-.064M12 1c-2.987 0-3.362.013-4.535.066a8.074 8.074 0 0 0-2.67.511 5.392 5.392 0 0 0-1.949 1.27 5.392 5.392 0 0 0-1.269 1.948 8.074 8.074 0 0 0-.51 2.67C1.012 8.638 1 9.013 1 12s.013 3.362.066 4.535a8.074 8.074 0 0 0 .511 2.67 5.392 5.392 0 0 0 1.27 1.949 5.392 5.392 0 0 0 1.948 1.269 8.074 8.074 0 0 0 2.67.51C8.638 22.988 9.013 23 12 23s3.362-.013 4.535-.066a8.074 8.074 0 0 0 2.67-.511 5.625 5.625 0 0 0 3.218-3.218 8.074 8.074 0 0 0 .51-2.67C22.988 15.362 23 14.987 23 12s-.013-3.362-.066-4.535a8.074 8.074 0 0 0-.511-2.67 5.392 5.392 0 0 0-1.27-1.949 5.392 5.392 0 0 0-1.948-1.269 8.074 8.074 0 0 0-2.67-.51C15.362 1.012 14.987 1 12 1Zm0 5.351A5.649 5.649 0 1 0 17.649 12 5.649 5.649 0 0 0 12 6.351Zm0 9.316A3.667 3.667 0 1 1 15.667 12 3.667 3.667 0 0 1 12 15.667Zm5.872-10.859a1.32 1.32 0 1 0 1.32 1.32 1.32 1.32 0 0 0-1.32-1.32Z"],["routerLink","/","routerLinkActive","active","title","Home",1,"home",3,"routerLinkActiveOptions"],["aria-label","Home","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_ab6-"],["d","M9.005 16.545a2.997 2.997 0 0 1 2.997-2.997A2.997 2.997 0 0 1 15 16.545V22h7V11.543L12 2 2 11.543V22h7.005Z","fill","none","stroke","currentColor","stroke-linejoin","round","stroke-width","2"],["routerLink","/message","routerLinkActive","active","title","Messages",1,"messages"],["aria-label","Messenger","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_ab6-"],["d","M12.003 2.001a9.705 9.705 0 1 1 0 19.4 10.876 10.876 0 0 1-2.895-.384.798.798 0 0 0-.533.04l-1.984.876a.801.801 0 0 1-1.123-.708l-.054-1.78a.806.806 0 0 0-.27-.569 9.49 9.49 0 0 1-3.14-7.175 9.65 9.65 0 0 1 10-9.7Z","fill","none","stroke","currentColor","stroke-miterlimit","10","stroke-width","1.739"],["d","M17.79 10.132a.659.659 0 0 0-.962-.873l-2.556 2.05a.63.63 0 0 1-.758.002L11.06 9.47a1.576 1.576 0 0 0-2.277.42l-2.567 3.98a.659.659 0 0 0 .961.875l2.556-2.049a.63.63 0 0 1 .759-.002l2.452 1.84a1.576 1.576 0 0 0 2.278-.42Z","fill-rule","evenodd"],["routerLink","/notification","routerLinkActive","active","title","Notifications",1,"notifications"],["aria-label","Notifications","color","rgb(245, 245, 245)","height","24","role","img","stroke","rgb(245, 245, 245)","stroke-width","2","viewBox","0 0 24 24","width","24",1,"x1lliihq","x1n2onr6"],["d","M17.075 1.987a5.852 5.852 0 0 0-5.07 2.66l-.008.012-.01-.014a5.878 5.878 0 0 0-5.062-2.658A6.719 6.719 0 0 0 .5 8.952c0 3.514 2.581 5.757 5.077 7.927.302.262.607.527.91.797l1.089.973c2.112 1.89 3.149 2.813 3.642 3.133a1.438 1.438 0 0 0 1.564 0c.472-.306 1.334-1.07 3.755-3.234l.978-.874c.314-.28.631-.555.945-.827 2.478-2.15 5.04-4.372 5.04-7.895a6.719 6.719 0 0 0-6.425-6.965Z"],["routerLink","/create-post","routerLinkActive","active","title","Create",1,"create-post"],["aria-label","New post","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_ab6-"],["d","M2 12v3.45c0 2.849.698 4.005 1.606 4.944.94.909 2.098 1.608 4.946 1.608h6.896c2.848 0 4.006-.7 4.946-1.608C21.302 19.455 22 18.3 22 15.45V8.552c0-2.849-.698-4.006-1.606-4.945C19.454 2.7 18.296 2 15.448 2H8.552c-2.848 0-4.006.699-4.946 1.607C2.698 4.547 2 5.703 2 8.552Z","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","6.545","x2","17.455","y1","12.001","y2","12.001"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","12.003","x2","12.003","y1","6.545","y2","17.455"],["routerLink","/profile","routerLinkActive","active","title","Profile",1,"profile"],["alt","user",3,"src",4,"ngIf","ngIfElse"],["profile",""],["title","More",1,"extra-menu",3,"click"],["aria-label","Settings","color","rgb(245, 245, 245)","fill","rgb(245, 245, 245)","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_ab6-"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","3","x2","21","y1","4","y2","4"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","3","x2","21","y1","12","y2","12"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","3","x2","21","y1","20","y2","20"],["class","extra-menu-modal",4,"ngIf"],["alt","user",3,"src"],["color","white","fill","none","height","24px","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","viewBox","0 0 24 24","width","24px","xmlns","http://www.w3.org/2000/svg",1,"feather","feather-user"],["d","M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],[1,"extra-menu-modal"],[1,"log-out",3,"click"]],template:function(r,o){1&r&&h.YNc(0,f2,32,5,"section",0),2&r&&h.Q6J("ngIf",o.user&&o.user.user)},dependencies:[Yi,Nv,gg],styles:["[_nghost-%COMP%]{position:relative;grid-column:1;width:75px}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]{height:100vh;position:sticky;top:0;left:0;display:flex;flex-direction:column;justify-content:space-between;align-items:center;border-inline-end:1px solid rgba(245,245,245,.19);padding-block:1.5em;width:100%}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:3.5em;width:100%}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:center;align-items:center;padding:.8em;border-radius:.4em}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]:hover{background-color:#e5e5e51c}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1em;width:100%}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;padding:.8em;display:flex;border-radius:.4em;justify-content:center;align-items:center;width:70%}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-child(1){fill:#f5f5f5}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-child(2){fill:#000}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   line[_ngcontent-%COMP%]{stroke:#000}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.profile.active[_ngcontent-%COMP%]{border:1px solid rgba(245,245,245,.46)}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .aside-menu-inner-container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e5e5e51c}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .extra-menu[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:center;align-items:center;padding:.8em;border-radius:.4em;position:relative}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .extra-menu[_ngcontent-%COMP%]:hover{background-color:#e5e5e51c}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .extra-menu[_ngcontent-%COMP%]   .extra-menu-modal[_ngcontent-%COMP%]{background-color:#343434;color:#f5f5f5;padding:.5em;border-radius:1em;position:absolute;bottom:0;left:55px;width:250px}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .extra-menu[_ngcontent-%COMP%]   .extra-menu-modal[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.4em;border-radius:.4em}[_nghost-%COMP%]   .aside-menu[_ngcontent-%COMP%]   .extra-menu[_ngcontent-%COMP%]   .extra-menu-modal[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e5e5e51c}"]})}return n})();function g2(n,e){1&n&&h._UZ(0,"router-outlet")}function m2(n,e){1&n&&h._UZ(0,"aside-menu")}function y2(n,e){1&n&&(h.TgZ(0,"main",2),h._UZ(1,"router-outlet"),h.qZA())}let v2=(()=>{class n{constructor(t,r){this.router=t,this.postService=r,this.routerUrl=this.router.url}ngOnInit(){this.routerUrlSubscription=this.router.events.subscribe(t=>{t instanceof ao&&(this.routerUrl=this.router.url)}),this.postService.getPosts().pipe(Kr(1)).subscribe({next:t=>{console.log("posts",t)},error:t=>{console.error(t.message)}})}ngOnDestroy(){this.routerUrlSubscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(yi),h.Y36(vO))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:5,consts:[[4,"ngIf"],["class","main-layout",4,"ngIf"],[1,"main-layout"]],template:function(r,o){1&r&&(h.TgZ(0,"section"),h.YNc(1,g2,1,0,"router-outlet",0),h.YNc(2,m2,1,0,"aside-menu",0),h.YNc(3,y2,2,0,"main",1),h.qZA()),2&r&&(h.Tol("/login"===o.routerUrl?"main-app login-layout":"main-app app-layout"),h.xp6(1),h.Q6J("ngIf","/login"===o.routerUrl),h.xp6(1),h.Q6J("ngIf","/login"!==o.routerUrl),h.xp6(1),h.Q6J("ngIf","/login"!==o.routerUrl))},dependencies:[Yi,Rh,p2]})}return n})();class mT{}class yT{}class Gu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),u=o.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(l):this.headers.set(u,[l])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Gu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Gu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Gu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const u=e.value;if(u){let l=this.headers.get(t);if(!l)return;l=l.filter(m=>-1===u.indexOf(m)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(u=>u.toString()),o=e.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(e,o)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class _2{encodeKey(e){return bP(e)}encodeValue(e){return bP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const E2=/%(\d[a-f0-9])/gi,I2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function bP(n){return encodeURIComponent(n).replace(E2,(e,t)=>I2[t]??e)}function vT(n){return`${n}`}class Jd{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new _2,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function w2(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[l,m]=-1==u?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,u)),e.decodeValue(o.slice(u+1))],v=t.get(l)||[];v.push(m),t.set(l,v)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],o=Array.isArray(r)?r.map(vT):[vT(r)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Jd({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(vT(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(vT(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class C2{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function TP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function SP(n){return typeof Blob<"u"&&n instanceof Blob}function AP(n){return typeof FormData<"u"&&n instanceof FormData}class hE{constructor(e,t,r,o){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function D2(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,u=o):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new Gu),this.context||(this.context=new C2),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+l}}else this.params=new Jd,this.urlWithParams=t}serializeBody(){return null===this.body?null:TP(this.body)||SP(this.body)||AP(this.body)||function b2(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Jd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||AP(this.body)?null:SP(this.body)?this.body.type||null:TP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Jd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,m=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let v=e.headers||this.headers,C=e.params||this.params;const b=e.context??this.context;return void 0!==e.setHeaders&&(v=Object.keys(e.setHeaders).reduce((x,z)=>x.set(z,e.setHeaders[z]),v)),e.setParams&&(C=Object.keys(e.setParams).reduce((x,z)=>x.set(z,e.setParams[z]),C)),new hE(t,r,u,{params:C,headers:v,context:b,reportProgress:m,responseType:o,withCredentials:l})}}var My=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(My||{});class w1{constructor(e,t=200,r="OK"){this.headers=e.headers||new Gu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class E1 extends w1{constructor(e={}){super(e),this.type=My.ResponseHeader}clone(e={}){return new E1({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class xy extends w1{constructor(e={}){super(e),this.type=My.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new xy({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class MP extends w1{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function I1(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let T2=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let u;if(t instanceof hE)u=t;else{let v,C;v=o.headers instanceof Gu?o.headers:new Gu(o.headers),o.params&&(C=o.params instanceof Jd?o.params:new Jd({fromObject:o.params})),u=new hE(t,r,void 0!==o.body?o.body:null,{headers:v,context:o.context,params:C,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const l=(0,Pt.of)(u).pipe(ko(v=>this.handler.handle(v)));if(t instanceof hE||"events"===o.observe)return l;const m=l.pipe(ci(v=>v instanceof xy));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return m.pipe((0,Qt.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return m.pipe((0,Qt.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return m.pipe((0,Qt.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return m.pipe((0,Qt.U)(v=>v.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Jd).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,I1(o,r))}post(t,r,o={}){return this.request("POST",t,I1(o,r))}put(t,r,o={}){return this.request("PUT",t,I1(o,r))}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(mT))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();function PP(n,e){return e(n)}function A2(n,e){return(t,r)=>e.intercept(t,{handle:o=>n(o,r)})}const x2=new h.OlP(""),fE=new h.OlP(""),NP=new h.OlP("");function O2(){let n=null;return(e,t)=>{null===n&&(n=((0,h.f3M)(x2,{optional:!0})??[]).reduceRight(A2,PP));const r=(0,h.f3M)(h.HDt),o=r.add();return n(e,t).pipe(nu(()=>r.remove(o)))}}let RP=(()=>{class n extends mT{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=(0,h.f3M)(h.HDt)}handle(t){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(fE),...this.injector.get(NP,[])]));this.chain=o.reduceRight((u,l)=>function M2(n,e,t){return(r,o)=>t.runInContext(()=>e(r,u=>n(u,o)))}(u,l,this.injector),PP)}const r=this.pendingTasks.add();return this.chain(t,o=>this.backend.handle(o)).pipe(nu(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(yT),h.LFG(h.lqb))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const k2=/^\)\]\}',?\n/;let FP=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new h.vHH(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?(0,er.D)(r.\u0275loadImpl()):(0,Pt.of)(null)).pipe((0,Hn.w)(()=>new bi.y(u=>{const l=r.build();if(l.open(t.method,t.urlWithParams),t.withCredentials&&(l.withCredentials=!0),t.headers.forEach((Fe,Ve)=>l.setRequestHeader(Fe,Ve.join(","))),t.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const Fe=t.detectContentTypeHeader();null!==Fe&&l.setRequestHeader("Content-Type",Fe)}if(t.responseType){const Fe=t.responseType.toLowerCase();l.responseType="json"!==Fe?Fe:"text"}const m=t.serializeBody();let v=null;const C=()=>{if(null!==v)return v;const Fe=l.statusText||"OK",Ve=new Gu(l.getAllResponseHeaders()),It=function F2(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(l)||t.url;return v=new E1({headers:Ve,status:l.status,statusText:Fe,url:It}),v},b=()=>{let{headers:Fe,status:Ve,statusText:It,url:Ut}=C(),_t=null;204!==Ve&&(_t=typeof l.response>"u"?l.responseText:l.response),0===Ve&&(Ve=_t?200:0);let $t=Ve>=200&&Ve<300;if("json"===t.responseType&&"string"==typeof _t){const un=_t;_t=_t.replace(k2,"");try{_t=""!==_t?JSON.parse(_t):null}catch(An){_t=un,$t&&($t=!1,_t={error:An,text:_t})}}$t?(u.next(new xy({body:_t,headers:Fe,status:Ve,statusText:It,url:Ut||void 0})),u.complete()):u.error(new MP({error:_t,headers:Fe,status:Ve,statusText:It,url:Ut||void 0}))},x=Fe=>{const{url:Ve}=C(),It=new MP({error:Fe,status:l.status||0,statusText:l.statusText||"Unknown Error",url:Ve||void 0});u.error(It)};let z=!1;const J=Fe=>{z||(u.next(C()),z=!0);let Ve={type:My.DownloadProgress,loaded:Fe.loaded};Fe.lengthComputable&&(Ve.total=Fe.total),"text"===t.responseType&&l.responseText&&(Ve.partialText=l.responseText),u.next(Ve)},Ce=Fe=>{let Ve={type:My.UploadProgress,loaded:Fe.loaded};Fe.lengthComputable&&(Ve.total=Fe.total),u.next(Ve)};return l.addEventListener("load",b),l.addEventListener("error",x),l.addEventListener("timeout",x),l.addEventListener("abort",x),t.reportProgress&&(l.addEventListener("progress",J),null!==m&&l.upload&&l.upload.addEventListener("progress",Ce)),l.send(m),u.next({type:My.Sent}),()=>{l.removeEventListener("error",x),l.removeEventListener("abort",x),l.removeEventListener("load",b),l.removeEventListener("timeout",x),t.reportProgress&&(l.removeEventListener("progress",J),null!==m&&l.upload&&l.upload.removeEventListener("progress",Ce)),l.readyState!==l.DONE&&l.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Es))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const C1=new h.OlP("XSRF_ENABLED"),LP=new h.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),VP=new h.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class UP{}let U2=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ln(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ve),h.LFG(h.Lbi),h.LFG(LP))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();function B2(n,e){const t=n.url.toLowerCase();if(!(0,h.f3M)(C1)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,h.f3M)(UP).getToken(),o=(0,h.f3M)(VP);return null!=r&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,r)})),e(n)}var Xd=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Xd||{});function j2(...n){const e=[T2,FP,RP,{provide:mT,useExisting:RP},{provide:yT,useExisting:FP},{provide:fE,useValue:B2,multi:!0},{provide:C1,useValue:!0},{provide:UP,useClass:U2}];for(const t of n)e.push(...t.\u0275providers);return(0,h.MR2)(e)}const BP=new h.OlP("LEGACY_INTERCEPTOR_FN");function $2(){return function yp(n,e){return{\u0275kind:n,\u0275providers:e}}(Xd.LegacyInterceptors,[{provide:BP,useFactory:O2},{provide:fE,useExisting:BP,multi:!0}])}let H2=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({providers:[j2($2())]})}return n})();const K2_firebaseConfig={projectId:"instagram-clone-gilshaashua",appId:"1:827870472031:web:e39968f5559a9f2832b8ea",storageBucket:"instagram-clone-gilshaashua.appspot.com",apiKey:"AIzaSyBzQGVn0KY8RifDoGX3L7W_oxejQG0tHhs",authDomain:"instagram-clone-gilshaashua.firebaseapp.com",messagingSenderId:"827870472031",measurementId:"G-FPQPXYYP3N"};var jP=A(7582),Y2=A(9519);const J2=new h.OlP("angularfire2.messaging.vapid-key"),X2=new h.OlP("angularfire2.messaging.service-worker-registeration");let $P=(()=>{class n{constructor(t,r,o,u,l,m,v){const C=v,b=(0,Pt.of)(void 0).pipe((0,La.R)(l.outsideAngular),(0,aa.Q)(l.insideAngular),(0,Hn.w)(Y2.Gb),(0,Hn.w)(J=>J?A.e(922).then(A.bind(A,5922)):ro.E),(0,Qt.U)(()=>(0,Oi.on)(t,u,r)),(0,Hn.w)(J=>(0,Oi.cc)(`${J.name}.messaging`,"AngularFireMessaging",J.name,()=>(0,jP.mG)(this,void 0,void 0,function*(){return J.messaging()}),[])),bM({bufferSize:1,refCount:!1}));this.requestPermission=b.pipe((0,La.R)(l.outsideAngular),(0,aa.Q)(l.insideAngular),(0,Hn.w)(()=>Notification.requestPermission())),this.getToken=b.pipe((0,La.R)(l.outsideAngular),(0,aa.Q)(l.insideAngular),(0,Hn.w)(J=>(0,jP.mG)(this,void 0,void 0,function*(){if("granted"===Notification.permission){const Ce=C?yield C:null;return yield J.getToken({vapidKey:m,serviceWorkerRegistration:Ce})}return null})));const x=new bi.y(J=>{navigator.permissions.query({name:"notifications"}).then(Ce=>{Ce.onchange=()=>J.next()})}),z=b.pipe((0,La.R)(l.outsideAngular),(0,aa.Q)(l.insideAngular),Zb(x),Zb(this.getToken));return this.tokenChanges=b.pipe((0,La.R)(l.outsideAngular),(0,aa.Q)(l.insideAngular),(0,Hn.w)(()=>Ro(this.getToken,z))),this.messages=b.pipe((0,La.R)(l.outsideAngular),(0,aa.Q)(l.insideAngular),(0,Hn.w)(J=>new bi.y(Ce=>J.onMessage(Ce)))),this.requestToken=b.pipe((0,La.R)(l.outsideAngular),(0,aa.Q)(l.insideAngular),(0,Hn.w)(()=>this.requestPermission),ls(()=>(0,Pt.of)(null)),(0,Ai.z)(()=>this.tokenChanges)),this.deleteToken=()=>b.pipe((0,La.R)(l.outsideAngular),(0,aa.Q)(l.insideAngular),(0,Hn.w)(J=>J.deleteToken()),eu(!1)),(0,Oi.pX)(this,b,u)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Oi.Dh),h.LFG(Oi.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Qn.HU),h.LFG(J2,8),h.LFG(X2,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),eF=(()=>{class n{constructor(){YM.Z.registerVersion("angularfire",Qn.q4.full,"fcm-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[$P]}),n})(),tF=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n,bootstrap:[v2]});static#n=this.\u0275inj=h.cJS({imports:[Qu,u2,H2,Xk,e2,Oi.hO.initializeApp(K2_firebaseConfig),BR,eF,ZR]})}return n})();Pp().bootstrapModule(tF).catch(n=>console.error(n))},5619:(vt,be,A)=>{A.d(be,{X:()=>U});var h=A(8645);class U extends h.x{constructor(Y){super(),this._value=Y}get value(){return this.getValue()}_subscribe(Y){const se=super._subscribe(Y);return!se.closed&&Y.next(this._value),se}getValue(){const{hasError:Y,thrownError:se,_value:ve}=this;if(Y)throw se;return this._throwIfClosed(),ve}next(Y){super.next(this._value=Y)}}},5592:(vt,be,A)=>{A.d(be,{y:()=>Oe});var h=A(305),U=A(7394),N=A(4850),Y=A(8407),se=A(2653),ve=A(4674),_e=A(1441);let Oe=(()=>{class ne{constructor(Ee){Ee&&(this._subscribe=Ee)}lift(Ee){const Ye=new ne;return Ye.source=this,Ye.operator=Ee,Ye}subscribe(Ee,Ye,ke){const Ze=function q(ne){return ne&&ne instanceof h.Lv||function V(ne){return ne&&(0,ve.m)(ne.next)&&(0,ve.m)(ne.error)&&(0,ve.m)(ne.complete)}(ne)&&(0,U.Nn)(ne)}(Ee)?Ee:new h.Hp(Ee,Ye,ke);return(0,_e.x)(()=>{const{operator:Ae,source:ht}=this;Ze.add(Ae?Ae.call(Ze,ht):ht?this._subscribe(Ze):this._trySubscribe(Ze))}),Ze}_trySubscribe(Ee){try{return this._subscribe(Ee)}catch(Ye){Ee.error(Ye)}}forEach(Ee,Ye){return new(Ye=he(Ye))((ke,Ze)=>{const Ae=new h.Hp({next:ht=>{try{Ee(ht)}catch(ft){Ze(ft),Ae.unsubscribe()}},error:Ze,complete:ke});this.subscribe(Ae)})}_subscribe(Ee){var Ye;return null===(Ye=this.source)||void 0===Ye?void 0:Ye.subscribe(Ee)}[N.L](){return this}pipe(...Ee){return(0,Y.U)(Ee)(this)}toPromise(Ee){return new(Ee=he(Ee))((Ye,ke)=>{let Ze;this.subscribe(Ae=>Ze=Ae,Ae=>ke(Ae),()=>Ye(Ze))})}}return ne.create=Ue=>new ne(Ue),ne})();function he(ne){var Ue;return null!==(Ue=ne??se.config.Promise)&&void 0!==Ue?Ue:Promise}},8645:(vt,be,A)=>{A.d(be,{x:()=>_e});var h=A(5592),U=A(7394);const Y=(0,A(2306).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=A(9039),ve=A(1441);let _e=(()=>{class he extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const ne=new Oe(this,this);return ne.operator=q,ne}_throwIfClosed(){if(this.closed)throw new Y}next(q){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(q)}})}error(q){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:ne}=this;for(;ne.length;)ne.shift().error(q)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:ne,isStopped:Ue,observers:Ee}=this;return ne||Ue?U.Lc:(this.currentObservers=null,Ee.push(q),new U.w0(()=>{this.currentObservers=null,(0,se.P)(Ee,q)}))}_checkFinalizedStatuses(q){const{hasError:ne,thrownError:Ue,isStopped:Ee}=this;ne?q.error(Ue):Ee&&q.complete()}asObservable(){const q=new h.y;return q.source=this,q}}return he.create=(V,q)=>new Oe(V,q),he})();class Oe extends _e{constructor(V,q){super(),this.destination=V,this.source=q}next(V){var q,ne;null===(ne=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===ne||ne.call(q,V)}error(V){var q,ne;null===(ne=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===ne||ne.call(q,V)}complete(){var V,q;null===(q=null===(V=this.destination)||void 0===V?void 0:V.complete)||void 0===q||q.call(V)}_subscribe(V){var q,ne;return null!==(ne=null===(q=this.source)||void 0===q?void 0:q.subscribe(V))&&void 0!==ne?ne:U.Lc}}},305:(vt,be,A)=>{A.d(be,{Hp:()=>ke,Lv:()=>ne});var h=A(4674),U=A(7394),N=A(2653),Y=A(3894),se=A(2420);const ve=he("C",void 0,void 0);function he(ee,Te,ue){return{kind:ee,value:Te,error:ue}}var V=A(7599),q=A(1441);class ne extends U.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,U.Nn)(Te)&&Te.add(this)):this.destination=ft}static create(Te,ue,Me){return new ke(Te,ue,Me)}next(Te){this.isStopped?ht(function Oe(ee){return he("N",ee,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?ht(function _e(ee){return he("E",void 0,ee)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?ht(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Ee(ee,Te){return Ue.call(ee,Te)}class Ye{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:ue}=this;if(ue.next)try{ue.next(Te)}catch(Me){Ze(Me)}}error(Te){const{partialObserver:ue}=this;if(ue.error)try{ue.error(Te)}catch(Me){Ze(Me)}else Ze(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(ue){Ze(ue)}}}class ke extends ne{constructor(Te,ue,Me){let Be;if(super(),(0,h.m)(Te)||!Te)Be={next:Te??void 0,error:ue??void 0,complete:Me??void 0};else{let k;this&&N.config.useDeprecatedNextContext?(k=Object.create(Te),k.unsubscribe=()=>this.unsubscribe(),Be={next:Te.next&&Ee(Te.next,k),error:Te.error&&Ee(Te.error,k),complete:Te.complete&&Ee(Te.complete,k)}):Be=Te}this.destination=new Ye(Be)}}function Ze(ee){N.config.useDeprecatedSynchronousErrorHandling?(0,q.O)(ee):(0,Y.h)(ee)}function ht(ee,Te){const{onStoppedNotification:ue}=N.config;ue&&V.z.setTimeout(()=>ue(ee,Te))}const ft={closed:!0,next:se.Z,error:function Ae(ee){throw ee},complete:se.Z}},7394:(vt,be,A)=>{A.d(be,{Lc:()=>ve,w0:()=>se,Nn:()=>_e});var h=A(4674);const N=(0,A(2306).d)(he=>function(q){he(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((ne,Ue)=>`${Ue+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var Y=A(9039);class se{constructor(V){this.initialTeardown=V,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let V;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Ee of q)Ee.remove(this);else q.remove(this);const{initialTeardown:ne}=this;if((0,h.m)(ne))try{ne()}catch(Ee){V=Ee instanceof N?Ee.errors:[Ee]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Ee of Ue)try{Oe(Ee)}catch(Ye){V=V??[],Ye instanceof N?V=[...V,...Ye.errors]:V.push(Ye)}}if(V)throw new N(V)}}add(V){var q;if(V&&V!==this)if(this.closed)Oe(V);else{if(V instanceof se){if(V.closed||V._hasParent(this))return;V._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(V)}}_hasParent(V){const{_parentage:q}=this;return q===V||Array.isArray(q)&&q.includes(V)}_addParent(V){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(V),q):q?[q,V]:V}_removeParent(V){const{_parentage:q}=this;q===V?this._parentage=null:Array.isArray(q)&&(0,Y.P)(q,V)}remove(V){const{_finalizers:q}=this;q&&(0,Y.P)(q,V),V instanceof se&&V._removeParent(this)}}se.EMPTY=(()=>{const he=new se;return he.closed=!0,he})();const ve=se.EMPTY;function _e(he){return he instanceof se||he&&"closed"in he&&(0,h.m)(he.remove)&&(0,h.m)(he.add)&&(0,h.m)(he.unsubscribe)}function Oe(he){(0,h.m)(he)?he():he.unsubscribe()}},2653:(vt,be,A)=>{A.d(be,{config:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(vt,be,A)=>{A.d(be,{E:()=>U});const U=new(A(5592).y)(se=>se.complete())},2459:(vt,be,A)=>{A.d(be,{D:()=>Te});var h=A(4829),U=A(3093),N=A(5137),ve=A(5592),Oe=A(4971),he=A(4674),V=A(7103);function ne(ue,Me){if(!ue)throw new Error("Iterable cannot be null");return new ve.y(Be=>{(0,V.f)(Be,Me,()=>{const k=ue[Symbol.asyncIterator]();(0,V.f)(Be,Me,()=>{k.next().then(te=>{te.done?Be.complete():Be.next(te.value)})},0,!0)})})}var Ue=A(8382),Ee=A(4026),Ye=A(4266),ke=A(3664),Ze=A(5726),Ae=A(9853),ht=A(541);function Te(ue,Me){return Me?function ee(ue,Me){if(null!=ue){if((0,Ue.c)(ue))return function Y(ue,Me){return(0,h.Xf)(ue).pipe((0,N.R)(Me),(0,U.Q)(Me))}(ue,Me);if((0,Ye.z)(ue))return function _e(ue,Me){return new ve.y(Be=>{let k=0;return Me.schedule(function(){k===ue.length?Be.complete():(Be.next(ue[k++]),Be.closed||this.schedule())})})}(ue,Me);if((0,Ee.t)(ue))return function se(ue,Me){return(0,h.Xf)(ue).pipe((0,N.R)(Me),(0,U.Q)(Me))}(ue,Me);if((0,Ze.D)(ue))return ne(ue,Me);if((0,ke.T)(ue))return function q(ue,Me){return new ve.y(Be=>{let k;return(0,V.f)(Be,Me,()=>{k=ue[Oe.h](),(0,V.f)(Be,Me,()=>{let te,De;try{({value:te,done:De}=k.next())}catch(st){return void Be.error(st)}De?Be.complete():Be.next(te)},0,!0)}),()=>(0,he.m)(k?.return)&&k.return()})}(ue,Me);if((0,ht.L)(ue))return function ft(ue,Me){return ne((0,ht.Q)(ue),Me)}(ue,Me)}throw(0,Ae.z)(ue)}(ue,Me):(0,h.Xf)(ue)}},4829:(vt,be,A)=>{A.d(be,{Xf:()=>Ue});var h=A(7582),U=A(4266),N=A(4026),Y=A(5592),se=A(8382),ve=A(5726),_e=A(9853),Oe=A(3664),he=A(541),V=A(4674),q=A(3894),ne=A(4850);function Ue(ee){if(ee instanceof Y.y)return ee;if(null!=ee){if((0,se.c)(ee))return function Ee(ee){return new Y.y(Te=>{const ue=ee[ne.L]();if((0,V.m)(ue.subscribe))return ue.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ee);if((0,U.z)(ee))return function Ye(ee){return new Y.y(Te=>{for(let ue=0;ue<ee.length&&!Te.closed;ue++)Te.next(ee[ue]);Te.complete()})}(ee);if((0,N.t)(ee))return function ke(ee){return new Y.y(Te=>{ee.then(ue=>{Te.closed||(Te.next(ue),Te.complete())},ue=>Te.error(ue)).then(null,q.h)})}(ee);if((0,ve.D)(ee))return Ae(ee);if((0,Oe.T)(ee))return function Ze(ee){return new Y.y(Te=>{for(const ue of ee)if(Te.next(ue),Te.closed)return;Te.complete()})}(ee);if((0,he.L)(ee))return function ht(ee){return Ae((0,he.Q)(ee))}(ee)}throw(0,_e.z)(ee)}function Ae(ee){return new Y.y(Te=>{(function ft(ee,Te){var ue,Me,Be,k;return(0,h.mG)(this,void 0,void 0,function*(){try{for(ue=(0,h.KL)(ee);!(Me=yield ue.next()).done;)if(Te.next(Me.value),Te.closed)return}catch(te){Be={error:te}}finally{try{Me&&!Me.done&&(k=ue.return)&&(yield k.call(ue))}finally{if(Be)throw Be.error}}Te.complete()})})(ee,Te).catch(ue=>Te.error(ue))})}},3019:(vt,be,A)=>{A.d(be,{T:()=>ve});var h=A(7537),U=A(4829),N=A(6232),Y=A(9940),se=A(2459);function ve(..._e){const Oe=(0,Y.yG)(_e),he=(0,Y._6)(_e,1/0),V=_e;return V.length?1===V.length?(0,U.Xf)(V[0]):(0,h.J)(he)((0,se.D)(V,Oe)):N.E}},2096:(vt,be,A)=>{A.d(be,{of:()=>N});var h=A(9940),U=A(2459);function N(...Y){const se=(0,h.yG)(Y);return(0,U.D)(Y,se)}},8251:(vt,be,A)=>{A.d(be,{x:()=>U});var h=A(305);function U(Y,se,ve,_e,Oe){return new N(Y,se,ve,_e,Oe)}class N extends h.Lv{constructor(se,ve,_e,Oe,he,V){super(se),this.onFinalize=he,this.shouldUnsubscribe=V,this._next=ve?function(q){try{ve(q)}catch(ne){se.error(ne)}}:super._next,this._error=Oe?function(q){try{Oe(q)}catch(ne){se.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=_e?function(){try{_e()}catch(q){se.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},3997:(vt,be,A)=>{A.d(be,{x:()=>Y});var h=A(2737),U=A(9360),N=A(8251);function Y(ve,_e=h.y){return ve=ve??se,(0,U.e)((Oe,he)=>{let V,q=!0;Oe.subscribe((0,N.x)(he,ne=>{const Ue=_e(ne);(q||!ve(V,Ue))&&(q=!1,V=Ue,he.next(ne))}))})}function se(ve,_e){return ve===_e}},7398:(vt,be,A)=>{A.d(be,{U:()=>N});var h=A(9360),U=A(8251);function N(Y,se){return(0,h.e)((ve,_e)=>{let Oe=0;ve.subscribe((0,U.x)(_e,he=>{_e.next(Y.call(se,he,Oe++))}))})}},7537:(vt,be,A)=>{A.d(be,{J:()=>N});var h=A(1631),U=A(2737);function N(Y=1/0){return(0,h.z)(U.y,Y)}},1631:(vt,be,A)=>{A.d(be,{z:()=>Oe});var h=A(7398),U=A(4829),N=A(9360),Y=A(7103),se=A(8251),_e=A(4674);function Oe(he,V,q=1/0){return(0,_e.m)(V)?Oe((ne,Ue)=>(0,h.U)((Ee,Ye)=>V(ne,Ee,Ue,Ye))((0,U.Xf)(he(ne,Ue))),q):("number"==typeof V&&(q=V),(0,N.e)((ne,Ue)=>function ve(he,V,q,ne,Ue,Ee,Ye,ke){const Ze=[];let Ae=0,ht=0,ft=!1;const ee=()=>{ft&&!Ze.length&&!Ae&&V.complete()},Te=Me=>Ae<ne?ue(Me):Ze.push(Me),ue=Me=>{Ee&&V.next(Me),Ae++;let Be=!1;(0,U.Xf)(q(Me,ht++)).subscribe((0,se.x)(V,k=>{Ue?.(k),Ee?Te(k):V.next(k)},()=>{Be=!0},void 0,()=>{if(Be)try{for(Ae--;Ze.length&&Ae<ne;){const k=Ze.shift();Ye?(0,Y.f)(V,Ye,()=>ue(k)):ue(k)}ee()}catch(k){V.error(k)}}))};return he.subscribe((0,se.x)(V,Te,()=>{ft=!0,ee()})),()=>{ke?.()}}(ne,Ue,he,q)))}},3093:(vt,be,A)=>{A.d(be,{Q:()=>Y});var h=A(7103),U=A(9360),N=A(8251);function Y(se,ve=0){return(0,U.e)((_e,Oe)=>{_e.subscribe((0,N.x)(Oe,he=>(0,h.f)(Oe,se,()=>Oe.next(he),ve),()=>(0,h.f)(Oe,se,()=>Oe.complete(),ve),he=>(0,h.f)(Oe,se,()=>Oe.error(he),ve)))})}},3020:(vt,be,A)=>{A.d(be,{B:()=>se});var h=A(4829),U=A(8645),N=A(305),Y=A(9360);function se(_e={}){const{connector:Oe=(()=>new U.x),resetOnError:he=!0,resetOnComplete:V=!0,resetOnRefCountZero:q=!0}=_e;return ne=>{let Ue,Ee,Ye,ke=0,Ze=!1,Ae=!1;const ht=()=>{Ee?.unsubscribe(),Ee=void 0},ft=()=>{ht(),Ue=Ye=void 0,Ze=Ae=!1},ee=()=>{const Te=Ue;ft(),Te?.unsubscribe()};return(0,Y.e)((Te,ue)=>{ke++,!Ae&&!Ze&&ht();const Me=Ye=Ye??Oe();ue.add(()=>{ke--,0===ke&&!Ae&&!Ze&&(Ee=ve(ee,q))}),Me.subscribe(ue),!Ue&&ke>0&&(Ue=new N.Hp({next:Be=>Me.next(Be),error:Be=>{Ae=!0,ht(),Ee=ve(ft,he,Be),Me.error(Be)},complete:()=>{Ze=!0,ht(),Ee=ve(ft,V),Me.complete()}}),(0,h.Xf)(Te).subscribe(Ue))})(ne)}}function ve(_e,Oe,...he){if(!0===Oe)return void _e();if(!1===Oe)return;const V=new N.Hp({next:()=>{V.unsubscribe(),_e()}});return(0,h.Xf)(Oe(...he)).subscribe(V)}},5137:(vt,be,A)=>{A.d(be,{R:()=>U});var h=A(9360);function U(N,Y=0){return(0,h.e)((se,ve)=>{ve.add(N.schedule(()=>se.subscribe(ve),Y))})}},4664:(vt,be,A)=>{A.d(be,{w:()=>Y});var h=A(4829),U=A(9360),N=A(8251);function Y(se,ve){return(0,U.e)((_e,Oe)=>{let he=null,V=0,q=!1;const ne=()=>q&&!he&&Oe.complete();_e.subscribe((0,N.x)(Oe,Ue=>{he?.unsubscribe();let Ee=0;const Ye=V++;(0,h.Xf)(se(Ue,Ye)).subscribe(he=(0,N.x)(Oe,ke=>Oe.next(ve?ve(Ue,ke,Ye,Ee++):ke),()=>{he=null,ne()}))},()=>{q=!0,ne()}))})}},9397:(vt,be,A)=>{A.d(be,{b:()=>se});var h=A(4674),U=A(9360),N=A(8251),Y=A(2737);function se(ve,_e,Oe){const he=(0,h.m)(ve)||_e||Oe?{next:ve,error:_e,complete:Oe}:ve;return he?(0,U.e)((V,q)=>{var ne;null===(ne=he.subscribe)||void 0===ne||ne.call(he);let Ue=!0;V.subscribe((0,N.x)(q,Ee=>{var Ye;null===(Ye=he.next)||void 0===Ye||Ye.call(he,Ee),q.next(Ee)},()=>{var Ee;Ue=!1,null===(Ee=he.complete)||void 0===Ee||Ee.call(he),q.complete()},Ee=>{var Ye;Ue=!1,null===(Ye=he.error)||void 0===Ye||Ye.call(he,Ee),q.error(Ee)},()=>{var Ee,Ye;Ue&&(null===(Ee=he.unsubscribe)||void 0===Ee||Ee.call(he)),null===(Ye=he.finalize)||void 0===Ye||Ye.call(he)}))}):Y.y}},1954:(vt,be,A)=>{A.d(be,{o:()=>se});var h=A(7394);class U extends h.w0{constructor(_e,Oe){super()}schedule(_e,Oe=0){return this}}const N={setInterval(ve,_e,...Oe){const{delegate:he}=N;return he?.setInterval?he.setInterval(ve,_e,...Oe):setInterval(ve,_e,...Oe)},clearInterval(ve){const{delegate:_e}=N;return(_e?.clearInterval||clearInterval)(ve)},delegate:void 0};var Y=A(9039);class se extends U{constructor(_e,Oe){super(_e,Oe),this.scheduler=_e,this.work=Oe,this.pending=!1}schedule(_e,Oe=0){var he;if(this.closed)return this;this.state=_e;const V=this.id,q=this.scheduler;return null!=V&&(this.id=this.recycleAsyncId(q,V,Oe)),this.pending=!0,this.delay=Oe,this.id=null!==(he=this.id)&&void 0!==he?he:this.requestAsyncId(q,this.id,Oe),this}requestAsyncId(_e,Oe,he=0){return N.setInterval(_e.flush.bind(_e,this),he)}recycleAsyncId(_e,Oe,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return Oe;null!=Oe&&N.clearInterval(Oe)}execute(_e,Oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(_e,Oe);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_e,Oe){let V,he=!1;try{this.work(_e)}catch(q){he=!0,V=q||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),V}unsubscribe(){if(!this.closed){const{id:_e,scheduler:Oe}=this,{actions:he}=Oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Y.P)(he,this),null!=_e&&(this.id=this.recycleAsyncId(Oe,_e,null)),this.delay=null,super.unsubscribe()}}}},2631:(vt,be,A)=>{A.d(be,{v:()=>N});var h=A(4552);class U{constructor(se,ve=U.now){this.schedulerActionCtor=se,this.now=ve}schedule(se,ve=0,_e){return new this.schedulerActionCtor(this,se).schedule(_e,ve)}}U.now=h.l.now;class N extends U{constructor(se,ve=U.now){super(se,ve),this.actions=[],this._active=!1}flush(se){const{actions:ve}=this;if(this._active)return void ve.push(se);let _e;this._active=!0;do{if(_e=se.execute(se.state,se.delay))break}while(se=ve.shift());if(this._active=!1,_e){for(;se=ve.shift();)se.unsubscribe();throw _e}}}},6321:(vt,be,A)=>{A.d(be,{P:()=>Y,z:()=>N});var h=A(1954);const N=new(A(2631).v)(h.o),Y=N},4552:(vt,be,A)=>{A.d(be,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},7599:(vt,be,A)=>{A.d(be,{z:()=>h});const h={setTimeout(U,N,...Y){const{delegate:se}=h;return se?.setTimeout?se.setTimeout(U,N,...Y):setTimeout(U,N,...Y)},clearTimeout(U){const{delegate:N}=h;return(N?.clearTimeout||clearTimeout)(U)},delegate:void 0}},4971:(vt,be,A)=>{A.d(be,{h:()=>U});const U=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(vt,be,A)=>{A.d(be,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(vt,be,A)=>{A.d(be,{_6:()=>ve,jO:()=>Y,yG:()=>se});var h=A(4674),U=A(671);function N(_e){return _e[_e.length-1]}function Y(_e){return(0,h.m)(N(_e))?_e.pop():void 0}function se(_e){return(0,U.K)(N(_e))?_e.pop():void 0}function ve(_e,Oe){return"number"==typeof N(_e)?_e.pop():Oe}},9039:(vt,be,A)=>{function h(U,N){if(U){const Y=U.indexOf(N);0<=Y&&U.splice(Y,1)}}A.d(be,{P:()=>h})},2306:(vt,be,A)=>{function h(U){const Y=U(se=>{Error.call(se),se.stack=(new Error).stack});return Y.prototype=Object.create(Error.prototype),Y.prototype.constructor=Y,Y}A.d(be,{d:()=>h})},1441:(vt,be,A)=>{A.d(be,{O:()=>Y,x:()=>N});var h=A(2653);let U=null;function N(se){if(h.config.useDeprecatedSynchronousErrorHandling){const ve=!U;if(ve&&(U={errorThrown:!1,error:null}),se(),ve){const{errorThrown:_e,error:Oe}=U;if(U=null,_e)throw Oe}}else se()}function Y(se){h.config.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=se)}},7103:(vt,be,A)=>{function h(U,N,Y,se=0,ve=!1){const _e=N.schedule(function(){Y(),ve?U.add(this.schedule(null,se)):this.unsubscribe()},se);if(U.add(_e),!ve)return _e}A.d(be,{f:()=>h})},2737:(vt,be,A)=>{function h(U){return U}A.d(be,{y:()=>h})},4266:(vt,be,A)=>{A.d(be,{z:()=>h});const h=U=>U&&"number"==typeof U.length&&"function"!=typeof U},5726:(vt,be,A)=>{A.d(be,{D:()=>U});var h=A(4674);function U(N){return Symbol.asyncIterator&&(0,h.m)(N?.[Symbol.asyncIterator])}},4674:(vt,be,A)=>{function h(U){return"function"==typeof U}A.d(be,{m:()=>h})},8382:(vt,be,A)=>{A.d(be,{c:()=>N});var h=A(4850),U=A(4674);function N(Y){return(0,U.m)(Y[h.L])}},3664:(vt,be,A)=>{A.d(be,{T:()=>N});var h=A(4971),U=A(4674);function N(Y){return(0,U.m)(Y?.[h.h])}},4026:(vt,be,A)=>{A.d(be,{t:()=>U});var h=A(4674);function U(N){return(0,h.m)(N?.then)}},541:(vt,be,A)=>{A.d(be,{L:()=>Y,Q:()=>N});var h=A(7582),U=A(4674);function N(se){return(0,h.FC)(this,arguments,function*(){const _e=se.getReader();try{for(;;){const{value:Oe,done:he}=yield(0,h.qq)(_e.read());if(he)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(Oe)}}finally{_e.releaseLock()}})}function Y(se){return(0,U.m)(se?.getReader)}},671:(vt,be,A)=>{A.d(be,{K:()=>U});var h=A(4674);function U(N){return N&&(0,h.m)(N.schedule)}},9360:(vt,be,A)=>{A.d(be,{A:()=>U,e:()=>N});var h=A(4674);function U(Y){return(0,h.m)(Y?.lift)}function N(Y){return se=>{if(U(se))return se.lift(function(ve){try{return Y(ve,this)}catch(_e){this.error(_e)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(vt,be,A)=>{function h(){}A.d(be,{Z:()=>h})},8407:(vt,be,A)=>{A.d(be,{U:()=>N,z:()=>U});var h=A(2737);function U(...Y){return N(Y)}function N(Y){return 0===Y.length?h.y:1===Y.length?Y[0]:function(ve){return Y.reduce((_e,Oe)=>Oe(_e),ve)}}},3894:(vt,be,A)=>{A.d(be,{h:()=>N});var h=A(2653),U=A(7599);function N(Y){U.z.setTimeout(()=>{const{onUnhandledError:se}=h.config;if(!se)throw Y;se(Y)})}},9853:(vt,be,A)=>{function h(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}A.d(be,{z:()=>h})},5879:(vt,be,A)=>{A.d(be,{$8M:()=>wl,$WT:()=>Do,$Z:()=>y_,AFp:()=>yI,ALo:()=>G0,AaK:()=>ne,AsE:()=>s0,CHM:()=>Cs,CRH:()=>Wc,DdM:()=>B0,Dn7:()=>zc,EJc:()=>QD,EpF:()=>_C,F4k:()=>wC,FYo:()=>Tg,FiY:()=>ge,GfV:()=>t_,Gpc:()=>Ye,HDt:()=>Kc,JOm:()=>Nh,KtG:()=>wh,LFG:()=>Qe,LSH:()=>Kh,Lbi:()=>Qh,Lck:()=>O0,MAs:()=>tm,MMx:()=>Ff,MR2:()=>Lv,NdJ:()=>Z_,O4$:()=>No,Ojb:()=>Jh,OlP:()=>zn,Oqu:()=>r0,P3R:()=>lS,PXZ:()=>Ow,Q6J:()=>G_,QGY:()=>W_,Qsj:()=>Jv,R0b:()=>li,RDi:()=>YE,Rgc:()=>xd,SBq:()=>ql,Sil:()=>yw,Suo:()=>BD,TTD:()=>hh,TgZ:()=>Iu,Tol:()=>hd,VuI:()=>Bb,W1O:()=>ew,X6Q:()=>rM,XFs:()=>wt,Xpm:()=>nr,Xq5:()=>Oc,Xts:()=>Ll,Y36:()=>Tc,YKP:()=>Rm,YNc:()=>gC,Yjl:()=>$a,Yz7:()=>yt,Z0I:()=>_n,ZZ4:()=>Gw,_Bn:()=>Sd,_UZ:()=>nm,_c5:()=>Rb,_uU:()=>fm,aQg:()=>zw,c2e:()=>sy,cJS:()=>jn,cg1:()=>g0,dDg:()=>Tw,dqk:()=>Kt,eFA:()=>hb,eJc:()=>Nd,ekj:()=>lm,eoX:()=>Sw,f3M:()=>ot,g9A:()=>pt,h0i:()=>Ou,hGG:()=>kb,hij:()=>pm,iGM:()=>VD,ifc:()=>at,ip1:()=>iy,jDz:()=>Pu,kL8:()=>KC,kcU:()=>Qt,lG2:()=>ja,lcZ:()=>ku,lqb:()=>Qn,lri:()=>cy,n5z:()=>Wp,oAB:()=>ca,oxw:()=>bC,q4F:()=>n_,qFp:()=>Fa,qLn:()=>fu,qOj:()=>mf,qZA:()=>Cu,rWj:()=>ub,rg0:()=>dh,sBO:()=>Vw,s_b:()=>Bm,soG:()=>Vd,tb:()=>tp,tp0:()=>rt,uIk:()=>Yr,vHH:()=>ee,vpe:()=>Go,wAp:()=>Uc,xp6:()=>FI,z2F:()=>$u,zSh:()=>vg,zs3:()=>co});var h=A(8645),U=A(7394),N=A(5592),Y=A(3019),se=A(5619),ve=A(2096),_e=A(3020),Oe=A(4664),he=A(3997);function V(i){for(let s in i)if(i[s]===V)return s;throw Error("Could not find renamed property on target object.")}function q(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function ne(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ne).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Ue(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Ee=V({__forward_ref__:V});function Ye(i){return i.__forward_ref__=Ye,i.toString=function(){return ne(this())},i}function ke(i){return Ze(i)?i():i}function Ze(i){return"function"==typeof i&&i.hasOwnProperty(Ee)&&i.__forward_ref__===Ye}function Ae(i){return i&&!!i.\u0275providers}const ft="https://g.co/ng/security#xss";class ee extends Error{constructor(s,a){super(function Te(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function ue(i){return"string"==typeof i?i:null==i?"":String(i)}function De(i,s){throw new ee(-201,!1)}function tt(i,s){null==i&&function qe(i,s,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function yt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function jn(i){return{providers:i.providers||[],imports:i.imports||[]}}function Ln(i){return Rn(i,Vn)||Rn(i,tr)}function _n(i){return null!==Ln(i)}function Rn(i,s){return i.hasOwnProperty(s)?i[s]:null}function Zn(i){return i&&(i.hasOwnProperty(bn)||i.hasOwnProperty(Gr))?i[bn]:null}const Vn=V({\u0275prov:V}),bn=V({\u0275inj:V}),tr=V({ngInjectableDef:V}),Gr=V({ngInjectorDef:V});var wt=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(wt||{});let Ct;function Rt(i){const s=Ct;return Ct=i,s}function mr(i,s,a){const c=Ln(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&wt.Optional?null:void 0!==s?s:void De(ne(i))}const Kt=globalThis,He={},ct="__NG_DI_FLAG__",Et="ngTempTokenPath",G=/\n/gm,P="__source";let R;function X(i){const s=R;return R=i,s}function Ne(i,s=wt.Default){if(void 0===R)throw new ee(-203,!1);return null===R?mr(i,void 0,s):R.get(i,s&wt.Optional?null:void 0,s)}function Qe(i,s=wt.Default){return(function Nt(){return Ct}()||Ne)(ke(i),s)}function ot(i,s=wt.Default){return Qe(i,mn(s))}function mn(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Vt(i){const s=[];for(let a=0;a<i.length;a++){const c=ke(i[a]);if(Array.isArray(c)){if(0===c.length)throw new ee(900,!1);let d,f=wt.Default;for(let y=0;y<c.length;y++){const _=c[y],I=Yt(_);"number"==typeof I?-1===I?d=_.token:f|=I:d=_}s.push(Qe(d,f))}else s.push(Qe(c))}return s}function wn(i,s){return i[ct]=s,i.prototype[ct]=s,i}function Yt(i){return i[ct]}function de(i){return{toString:i}.toString()}var nt=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(nt||{}),at=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(at||{});const Ot={},lt=[],Tn=V({\u0275cmp:V}),ti=V({\u0275dir:V}),ni=V({\u0275pipe:V}),Zi=V({\u0275mod:V}),Nr=V({\u0275fac:V}),ln=V({__NG_ELEMENT_ID__:V}),Fs=V({__NG_ENV_ID__:V});function Ks(i,s,a){let c=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=s.length;if(d+f===c||i.charCodeAt(d+f)<=32)return d}a=d+1}}function ri(i,s,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const f=a[c++],y=a[c++],_=a[c++];i.setAttribute(s,y,_,f)}else{const f=d,y=a[++c];Ls(f)?i.setProperty(s,f,y):i.setAttribute(s,f,y),c++}}return c}function pi(i){return 3===i||4===i||6===i}function Ls(i){return 64===i.charCodeAt(0)}function _s(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?a=d:0===a||Vs(i,a,d,null,-1===a||2===a?s[++c]:null)}}return i}function Vs(i,s,a,c,d){let f=0,y=i.length;if(-1===s)y=-1;else for(;f<i.length;){const _=i[f++];if("number"==typeof _){if(_===s){y=-1;break}if(_>s){y=f-1;break}}}for(;f<i.length;){const _=i[f];if("number"==typeof _)break;if(_===a){if(null===c)return void(null!==d&&(i[f+1]=d));if(c===i[f+1])return void(i[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==y&&(i.splice(y,0,s),f=y+1),i.splice(f++,0,a),null!==c&&i.splice(f++,0,c),null!==d&&i.splice(f++,0,d)}const Xn="ng-template";function Ki(i,s,a){let c=0,d=!0;for(;c<i.length;){let f=i[c++];if("string"==typeof f&&d){const y=i[c++];if(a&&"class"===f&&-1!==Ks(y.toLowerCase(),s,0))return!0}else{if(1===f){for(;c<i.length&&"string"==typeof(f=i[c++]);)if(f.toLowerCase()===s)return!0;return!1}"number"==typeof f&&(d=!1)}}return!1}function Yi(i){return 4===i.type&&i.value!==Xn}function Va(i,s,a){return s===(4!==i.type||a?i.value:Xn)}function Co(i,s,a){let c=4;const d=i.attrs||[],f=function $(i){for(let s=0;s<i.length;s++)if(pi(i[s]))return s;return i.length}(d);let y=!1;for(let _=0;_<s.length;_++){const I=s[_];if("number"!=typeof I){if(!y)if(4&c){if(c=2|1&c,""!==I&&!Va(i,I,a)||""===I&&1===s.length){if(zr(c))return!1;y=!0}}else{const D=8&c?I:s[++_];if(8&c&&null!==i.attrs){if(!Ki(i.attrs,D,a)){if(zr(c))return!1;y=!0}continue}const L=Ua(8&c?"class":I,d,Yi(i),a);if(-1===L){if(zr(c))return!1;y=!0;continue}if(""!==D){let Z;Z=L>f?"":d[L+1].toLowerCase();const ie=8&c?Z:null;if(ie&&-1!==Ks(ie,D,0)||2&c&&D!==Z){if(zr(c))return!1;y=!0}}}}else{if(!y&&!zr(c)&&!zr(I))return!1;if(y&&zr(I))continue;y=!1,c=I|1&c}}return zr(c)||y}function zr(i){return 0==(1&i)}function Ua(i,s,a,c){if(null===s)return-1;let d=0;if(c||!a){let f=!1;for(;d<s.length;){const y=s[d];if(y===i)return d;if(3===y||6===y)f=!0;else{if(1===y||2===y){let _=s[++d];for(;"string"==typeof _;)_=s[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=f?1:2}return-1}return function re(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,i)}function ua(i,s,a=!1){for(let c=0;c<s.length;c++)if(Co(i,s[c],a))return!0;return!1}function gt(i,s){return i?":not("+s.trim()+")":s}function En(i){let s=i[0],a=1,c=2,d="",f=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&c){const _=i[++a];d+="["+y+(_.length>0?'="'+_+'"':"")+"]"}else 8&c?d+="."+y:4&c&&(d+=" "+y);else""!==d&&!zr(y)&&(s+=gt(f,d),d=""),c=y,f=f||!zr(c);a++}return""!==d&&(s+=gt(f,d)),s}function nr(i){return de(()=>{const s=Jc(i),a={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===nt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||at.Emulated,styles:i.styles||lt,_:null,schemas:i.schemas||null,tView:null,id:""};Ha(a);const c=i.dependencies;return a.directiveDefs=Us(c,!1),a.pipeDefs=Us(c,!0),a.id=function la(i){let s=0;const a=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const d of a)s=Math.imul(31,s)+d.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function Rr(i){return Cn(i)||Vr(i)}function us(i){return null!==i}function ca(i){return de(()=>({type:i.type,bootstrap:i.bootstrap||lt,declarations:i.declarations||lt,imports:i.imports||lt,exports:i.exports||lt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Ba(i,s){if(null==i)return Ot;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),a[d]=c,s&&(s[d]=f)}return a}function ja(i){return de(()=>{const s=Jc(i);return Ha(s),s})}function $a(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Cn(i){return i[Tn]||null}function Vr(i){return i[ti]||null}function qr(i){return i[ni]||null}function Do(i){const s=Cn(i)||Vr(i)||qr(i);return null!==s&&s.standalone}function ii(i,s){const a=i[Zi]||null;if(!a&&!0===s)throw new Error(`Type ${ne(i)} does not have '\u0275mod' property.`);return a}function Jc(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:i.inputs||Ot,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||lt,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ba(i.inputs,s),outputs:Ba(i.outputs)}}function Ha(i){i.features?.forEach(s=>s(i))}function Us(i,s){if(!i)return null;const a=s?qr:Rr;return()=>("function"==typeof i?i():i).map(c=>a(c)).filter(us)}const Kn=0,Xe=1,qt=2,Bn=3,si=4,Bs=5,Wr=6,bo=7,fr=8,ws=9,Ei=10,kt=11,da=12,th=13,br=14,Tr=15,Ui=16,Bi=17,gi=18,cs=19,Xc=20,Ys=21,Es=22,B=23,F=24,j=25,Pe=1,We=2,et=7,Ft=9,Bt=11;function Yn(i){return Array.isArray(i)&&"object"==typeof i[Pe]}function Mn(i){return Array.isArray(i)&&!0===i[Pe]}function To(i){return 0!=(4&i.flags)}function Ji(i){return i.componentOffset>-1}function Is(i){return 1==(1&i.flags)}function ar(i){return!!i.template}function Ii(i){return 0!=(512&i[qt])}function Qs(i,s){return i.hasOwnProperty(Nr)?i[Nr]:null}let Zr=null,sh=!1;function Ci(i){const s=Zr;return Zr=i,s}const oh={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function By(i){if(!rl(i)||i.dirty){if(!i.producerMustRecompute(i)&&!$y(i))return void(i.dirty=!1);i.producerRecomputeValue(i),i.dirty=!1}}function jy(i){i.dirty=!0,function wp(i){if(void 0===i.liveConsumerNode)return;const s=sh;sh=!0;try{for(const a of i.liveConsumerNode)a.dirty||jy(a)}finally{sh=s}}(i),i.consumerMarkedDirty?.(i)}function Ep(i){return i&&(i.nextProducerIndex=0),Ci(i)}function nl(i,s){if(Ci(s),i&&void 0!==i.producerNode&&void 0!==i.producerIndexOfThis&&void 0!==i.producerLastReadVersion){if(rl(i))for(let a=i.nextProducerIndex;a<i.producerNode.length;a++)Zu(i.producerNode[a],i.producerIndexOfThis[a]);for(;i.producerNode.length>i.nextProducerIndex;)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function $y(i){Ao(i);for(let s=0;s<i.producerNode.length;s++){const a=i.producerNode[s],c=i.producerLastReadVersion[s];if(c!==a.version||(By(a),c!==a.version))return!0}return!1}function uh(i){if(Ao(i),rl(i))for(let s=0;s<i.producerNode.length;s++)Zu(i.producerNode[s],i.producerIndexOfThis[s]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function Zu(i,s){if(function Gy(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}(i),Ao(i),1===i.liveConsumerNode.length)for(let c=0;c<i.producerNode.length;c++)Zu(i.producerNode[c],i.producerIndexOfThis[c]);const a=i.liveConsumerNode.length-1;if(i.liveConsumerNode[s]=i.liveConsumerNode[a],i.liveConsumerIndexOfThis[s]=i.liveConsumerIndexOfThis[a],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,s<i.liveConsumerNode.length){const c=i.liveConsumerIndexOfThis[s],d=i.liveConsumerNode[s];Ao(d),d.producerIndexOfThis[c]=s}}function rl(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function Ao(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}let qy=null;function dh(i){const s=Ci(null);try{return i()}finally{Ci(s)}}const Sp=()=>{},_E=(()=>({...oh,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:i=>{i.schedule(i.ref)},hasRun:!1,cleanupFn:Sp}))();class Yy{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function hh(){return fh}function fh(i){return i.type.prototype.ngOnChanges&&(i.setInput=Js),ol}function ol(){const i=ph(this),s=i?.current;if(s){const a=i.previous;if(a===Ot)i.previous=s;else for(let c in s)a[c]=s[c];i.current=null,this.ngOnChanges(s)}}function Js(i,s,a,c){const d=this.declaredInputs[a],f=ph(i)||function Qy(i,s){return i[Wa]=s}(i,{previous:Ot,current:null}),y=f.current||(f.current={}),_=f.previous,I=_[d];y[d]=new Yy(I&&I.currentValue,s,_===Ot),i[c]=s}hh.ngInherit=!0;const Wa="__ngSimpleChanges__";function ph(i){return i[Wa]||null}const js=function(i,s,a){},Ap="svg";function $n(i){for(;Array.isArray(i);)i=i[Kn];return i}function Xs(i,s){return $n(s[i])}function Di(i,s){return $n(s[i.index])}function mh(i,s){return i.data[s]}function Za(i,s){return i[s]}function ji(i,s){const a=s[i];return Yn(a)?a:a[Kn]}function Mo(i,s){return null==s?null:i[s]}function Mp(i){i[Bi]=0}function Yu(i){1024&i[qt]||(i[qt]|=1024,kr(i,1))}function Jy(i){1024&i[qt]&&(i[qt]&=-1025,kr(i,-1))}function kr(i,s){let a=i[Bn];if(null===a)return;a[Bs]+=s;let c=a;for(a=a[Bn];null!==a&&(1===s&&1===c[Bs]||-1===s&&0===c[Bs]);)a[Bs]+=s,c=a,a=a[Bn]}const zt={lFrame:jp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ka(){return zt.bindingsEnabled}function Le(){return zt.lFrame.lView}function Sn(){return zt.lFrame.tView}function Cs(i){return zt.lFrame.contextLView=i,i[fr]}function wh(i){return zt.lFrame.contextLView=null,i}function oi(){let i=dl();for(;null!==i&&64===i.type;)i=i.parent;return i}function dl(){return zt.lFrame.currentTNode}function $s(i,s){const a=zt.lFrame;a.currentTNode=i,a.isParent=s}function kp(){return zt.lFrame.isParent}function ai(){const i=zt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Xu(){return zt.lFrame.bindingIndex++}function Hs(i){const s=zt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function Vp(i,s){const a=zt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Up(s)}function Up(i){zt.lFrame.currentDirectiveIndex=i}function iv(){return zt.lFrame.currentQueryIndex}function Bp(i){zt.lFrame.currentQueryIndex=i}function TE(i){const s=i[Xe];return 2===s.type?s.declTNode:1===s.type?i[Wr]:null}function Ih(i,s,a){if(a&wt.SkipSelf){let d=s,f=i;for(;!(d=d.parent,null!==d||a&wt.Host||(d=TE(f),null===d||(f=f[br],10&d.type))););if(null===d)return!1;s=d,i=f}const c=zt.lFrame=Po();return c.currentTNode=s,c.lView=i,!0}function bi(i){const s=Po(),a=i[Xe];zt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Po(){const i=zt.lFrame,s=null===i?null:i.child;return null===s?jp(i):s}function jp(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function er(){const i=zt.lFrame;return zt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Pt=er;function ui(){const i=er();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Ti(){return zt.lFrame.selectedIndex}function eo(i){zt.lFrame.selectedIndex=i}function ur(){const i=zt.lFrame;return mh(i.tView,i.selectedIndex)}function No(){zt.lFrame.currentNamespace=Ap}function Qt(){!function sv(){zt.lFrame.currentNamespace=null}()}let ec=!0;function to(){return ec}function no(i){ec=i}function Ya(i,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:_,ngAfterViewInit:I,ngAfterViewChecked:D,ngOnDestroy:S}=f;y&&(i.contentHooks??=[]).push(-a,y),_&&((i.contentHooks??=[]).push(a,_),(i.contentCheckHooks??=[]).push(a,_)),I&&(i.viewHooks??=[]).push(-a,I),D&&((i.viewHooks??=[]).push(a,D),(i.viewCheckHooks??=[]).push(a,D)),null!=S&&(i.destroyHooks??=[]).push(a,S)}}function Qa(i,s,a){pl(i,s,3,a)}function Ja(i,s,a,c){(3&i[qt])===a&&pl(i,s,a,c)}function fl(i,s){let a=i[qt];(3&a)===s&&(a&=8191,a+=1,i[qt]=a)}function pl(i,s,a,c){const f=c??-1,y=s.length-1;let _=0;for(let I=void 0!==c?65535&i[Bi]:0;I<y;I++)if("number"==typeof s[I+1]){if(_=s[I],null!=c&&_>=c)break}else s[I]<0&&(i[Bi]+=65536),(_<f||-1==f)&&(tc(i,a,s,I),i[Bi]=(4294901760&i[Bi])+I+2),I++}function fa(i,s){js(4,i,s);const a=Ci(null);try{s.call(i)}finally{Ci(a),js(5,i,s)}}function tc(i,s,a,c){const d=a[c]<0,f=a[c+1],_=i[d?-a[c]:a[c]];d?i[qt]>>13<i[Bi]>>16&&(3&i[qt])===s&&(i[qt]+=8192,fa(_,f)):fa(_,f)}const Gs=-1;class Ro{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function ml(i){return i!==Gs}function Xi(i){return 32767&i}function Kr(i,s){let a=function Hn(i){return i>>16}(i),c=s;for(;a>0;)c=c[br],a--;return c}let Xa=!0;function ci(i){const s=Xa;return Xa=i,s}const eu=255,ic=5;let ov=0;const Br={};function _r(i,s){const a=yl(i,s);if(-1!==a)return a;const c=s[Xe];c.firstCreatePass&&(i.injectorIndex=s.length,ls(c.data,i),ls(s,null),ls(c.blueprint,null));const d=ga(i,s),f=i.injectorIndex;if(ml(d)){const y=Xi(d),_=Kr(d,s),I=_[Xe].data;for(let D=0;D<8;D++)s[f+D]=_[y+D]|I[y+D]}return s[f+8]=d,f}function ls(i,s){i.push(0,0,0,0,0,0,0,0,s)}function yl(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function ga(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=s;for(;null!==d;){if(c=Kp(d),null===c)return Gs;if(a++,d=d[br],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return Gs}function tu(i,s,a){!function ko(i,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(ln)&&(c=a[ln]),null==c&&(c=a[ln]=ov++);const d=c&eu;s.data[i+(d>>ic)]|=1<<d}(i,s,a)}function Th(i,s,a){if(a&wt.Optional||void 0!==i)return i;De()}function nu(i,s,a,c){if(a&wt.Optional&&void 0===c&&(c=null),!(a&(wt.Self|wt.Host))){const d=i[ws],f=Rt(void 0);try{return d?d.get(s,c,a&wt.Optional):mr(s,c,a&wt.Optional)}finally{Rt(f)}}return Th(c,0,a)}function Sh(i,s,a,c=wt.Default,d){if(null!==i){if(2048&s[qt]&&!(c&wt.Self)){const y=function Zp(i,s,a,c,d){let f=i,y=s;for(;null!==f&&null!==y&&2048&y[qt]&&!(512&y[qt]);){const _=vl(f,y,a,c|wt.Self,Br);if(_!==Br)return _;let I=f.parent;if(!I){const D=y[Xc];if(D){const S=D.get(a,Br,c);if(S!==Br)return S}I=Kp(y),y=y[br]}f=I}return d}(i,s,a,c,Br);if(y!==Br)return y}const f=vl(i,s,a,c,Br);if(f!==Br)return f}return nu(s,a,c,d)}function vl(i,s,a,c,d){const f=function Lo(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(ln)?i[ln]:void 0;return"number"==typeof s?s>=0?s&eu:Vo:s}(a);if("function"==typeof f){if(!Ih(s,i,c))return c&wt.Host?Th(d,0,c):nu(s,a,c,d);try{let y;if(y=f(c),null!=y||c&wt.Optional)return y;De()}finally{Pt()}}else if("number"==typeof f){let y=null,_=yl(i,s),I=Gs,D=c&wt.Host?s[Tr][Wr]:null;for((-1===_||c&wt.SkipSelf)&&(I=-1===_?ga(i,s):s[_+8],I!==Gs&&zp(c,!1)?(y=s[Xe],_=Xi(I),s=Kr(I,s)):_=-1);-1!==_;){const S=s[Xe];if(Gp(f,_,S.data)){const L=on(_,s,a,y,c,D);if(L!==Br)return L}I=s[_+8],I!==Gs&&zp(c,s[Xe].data[_+8]===D)&&Gp(f,_,s)?(y=S,_=Xi(I),s=Kr(I,s)):_=-1}}return d}function on(i,s,a,c,d,f){const y=s[Xe],_=y.data[i+8],S=Fo(_,y,a,null==c?Ji(_)&&Xa:c!=y&&0!=(3&_.type),d&wt.Host&&f===_);return null!==S?ma(s,y,S,_):Br}function Fo(i,s,a,c,d){const f=i.providerIndexes,y=s.data,_=1048575&f,I=i.directiveStart,S=f>>20,Z=d?_+S:i.directiveEnd;for(let ie=c?_:_+S;ie<Z;ie++){const Re=y[ie];if(ie<I&&a===Re||ie>=I&&Re.type===a)return ie}if(d){const ie=y[I];if(ie&&ar(ie)&&ie.type===a)return I}return null}function ma(i,s,a,c){let d=i[a];const f=s.data;if(function nc(i){return i instanceof Ro}(d)){const y=d;y.resolving&&function Be(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new ee(-200,`Circular dependency in DI detected for ${i}${a}`)}(function Me(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ue(i)}(f[a]));const _=ci(y.canSeeViewProviders);y.resolving=!0;const D=y.injectImpl?Rt(y.injectImpl):null;Ih(i,c,wt.Default);try{d=i[a]=y.factory(void 0,f,i,c),s.firstCreatePass&&a>=c.directiveStart&&function Si(i,s,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(c){const y=fh(s);(a.preOrderHooks??=[]).push(i,y),(a.preOrderCheckHooks??=[]).push(i,y)}d&&(a.preOrderHooks??=[]).push(0-i,d),f&&((a.preOrderHooks??=[]).push(i,f),(a.preOrderCheckHooks??=[]).push(i,f))}(a,f[a],s)}finally{null!==D&&Rt(D),ci(_),y.resolving=!1,Pt()}}return d}function Gp(i,s,a){return!!(a[s+(i>>ic)]&1<<i)}function zp(i,s){return!(i&wt.Self||i&wt.Host&&s)}class jr{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return Sh(this._tNode,this._lView,s,mn(c),a)}}function Vo(){return new jr(oi(),Le())}function Wp(i){return de(()=>{const s=i.prototype.constructor,a=s[Nr]||_l(s),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const f=d[Nr]||_l(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function _l(i){return Ze(i)?()=>{const s=_l(ke(i));return s&&s()}:Qs(i)}function Kp(i){const s=i[Xe],a=s.type;return 2===a?s.declTNode:1===a?i[Wr]:null}function wl(i){return function Hp(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const f=a[d];if(pi(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(f===s)return a[d+1];d+=2}}}return null}(oi(),i)}const ya="__parameters__";function xn(i,s,a){return de(()=>{const c=function Uo(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(s);function d(...f){if(this instanceof d)return c.apply(this,f),this;const y=new d(...f);return _.annotation=y,_;function _(I,D,S){const L=I.hasOwnProperty(ya)?I[ya]:Object.defineProperty(I,ya,{value:[]})[ya];for(;L.length<=S;)L.push(null);return(L[S]=L[S]||[]).push(y),I}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}function iu(i,s){i.forEach(a=>Array.isArray(a)?iu(a,s):s(a))}function uv(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function su(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function es(i,s,a){let c=ou(i,s);return c>=0?i[1|c]=a:(c=~c,function Jp(i,s,a,c){let d=i.length;if(d==s)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=c}}(i,c,s,a)),c}function xh(i,s){const a=ou(i,s);if(a>=0)return i[1|a]}function ou(i,s){return function Tl(i,s,a){let c=0,d=i.length>>a;for(;d!==c;){const f=c+(d-c>>1),y=i[f<<a];if(s===y)return f<<a;y>s?d=f:c=f+1}return~(d<<a)}(i,s,1)}const ge=wn(xn("Optional"),8),rt=wn(xn("SkipSelf"),4);function tg(i){return 128==(128&i.flags)}var Nh=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(Nh||{});const Rh=new Map;let xT=0;const ig="__ngContext__";function Hi(i,s){Yn(s)?(i[ig]=s[cs],function kE(i){Rh.set(i[cs],i)}(s)):i[ig]=s}let Lh;function Ds(i,s){return Lh(i,s)}function Ea(i){const s=i[Bn];return Mn(s)?s[Bn]:s}function VE(i){return Vh(i[da])}function Ev(i){return Vh(i[si])}function Vh(i){for(;null!==i&&!Mn(i);)i=i[si];return i}function Pl(i,s,a,c,d){if(null!=c){let f,y=!1;Mn(c)?f=c:Yn(c)&&(y=!0,c=c[Kn]);const _=$n(c);0===i&&null!==a?null==d?$E(s,a,_):gc(s,a,_,d||null,!0):1===i&&null!==a?gc(s,a,_,d||null,!0):2===i?function cg(i,s,a){const c=ug(i,s);c&&function zT(i,s,a,c){i.removeChild(s,a,c)}(i,c,s,a)}(s,_,y):3===i&&s.destroyNode(_),null!=f&&function WT(i,s,a,c,d){const f=a[et];f!==$n(a)&&Pl(s,i,c,f,d);for(let _=Bt;_<a.length;_++){const I=a[_];Gh(I[Xe],I,i,s,c,f)}}(s,i,f,a,d)}}function og(i,s,a){return i.createElement(s,a)}function UE(i,s){const a=i[Ft],c=a.indexOf(s);Jy(s),a.splice(c,1)}function ag(i,s){if(i.length<=Bt)return;const a=Bt+s,c=i[a];if(c){const d=c[Ui];null!==d&&d!==i&&UE(d,c),s>0&&(i[a-1][si]=c[si]);const f=su(i,Bt+s);!function BT(i,s){Gh(i,s,s[kt],2,null,null),s[Kn]=null,s[Wr]=null}(c[Xe],c);const y=f[gi];null!==y&&y.detachView(f[Xe]),c[Bn]=null,c[si]=null,c[qt]&=-129}return c}function Iv(i,s){if(!(256&s[qt])){const a=s[kt];s[B]&&uh(s[B]),s[F]&&uh(s[F]),a.destroyNode&&Gh(i,s,a,3,null,null),function jT(i){let s=i[da];if(!s)return BE(i[Xe],i);for(;s;){let a=null;if(Yn(s))a=s[da];else{const c=s[Bt];c&&(a=c)}if(!a){for(;s&&!s[si]&&s!==i;)Yn(s)&&BE(s[Xe],s),s=s[Bn];null===s&&(s=i),Yn(s)&&BE(s[Xe],s),a=s&&s[si]}s=a}}(s)}}function BE(i,s){if(!(256&s[qt])){s[qt]&=-129,s[qt]|=256,function jE(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=s[a[c]];if(!(d instanceof Ro)){const f=a[c+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const _=d[f[y]],I=f[y+1];js(4,_,I);try{I.call(_)}finally{js(5,_,I)}}else{js(4,d,f);try{f.call(d)}finally{js(5,d,f)}}}}}(i,s),function GT(i,s){const a=i.cleanup,c=s[bo];if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const y=a[f+3];y>=0?c[y]():c[-y].unsubscribe(),f+=2}else a[f].call(c[a[f+1]]);null!==c&&(s[bo]=null);const d=s[Ys];if(null!==d){s[Ys]=null;for(let f=0;f<d.length;f++)(0,d[f])()}}(i,s),1===s[Xe].type&&s[kt].destroy();const a=s[Ui];if(null!==a&&Mn(s[Bn])){a!==s[Bn]&&UE(a,s);const c=s[gi];null!==c&&c.detachView(i)}!function kh(i){Rh.delete(i[cs])}(s)}}function Nl(i,s,a){return function pc(i,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[Kn];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:f}=i.data[c.directiveStart+d];if(f===at.None||f===at.Emulated)return null}return Di(c,a)}}(i,s.parent,a)}function gc(i,s,a,c,d){i.insertBefore(s,a,c,d)}function $E(i,s,a){i.appendChild(s,a)}function HE(i,s,a,c,d){null!==c?gc(i,s,a,c,d):$E(i,s,a)}function ug(i,s){return i.parentNode(s)}let Dv,KE,dg,Cv=function zE(i,s,a){return 40&i.type?Di(i,a):null};function $h(i,s,a,c){const d=Nl(i,c,s),f=s[kt],_=function GE(i,s,a){return Cv(i,s,a)}(c.parent||s[Wr],c,s);if(null!=d)if(Array.isArray(a))for(let I=0;I<a.length;I++)HE(f,d,a[I],_,!1);else HE(f,d,a,_,!1);void 0!==Dv&&Dv(f,c,s,a,d)}function $o(i,s){if(null!==s){const a=s.type;if(3&a)return Di(s,i);if(4&a)return Tv(-1,i[s.index]);if(8&a){const c=s.child;if(null!==c)return $o(i,c);{const d=i[s.index];return Mn(d)?Tv(-1,d):$n(d)}}if(32&a)return Ds(s,i)()||$n(i[s.index]);{const c=bv(i,s);return null!==c?Array.isArray(c)?c[0]:$o(Ea(i[Tr]),c):$o(i,s.next)}}return null}function bv(i,s){return null!==s?i[Tr][Wr].projection[s.projection]:null}function Tv(i,s){const a=Bt+i+1;if(a<s.length){const c=s[a],d=c[Xe].firstChild;if(null!==d)return $o(c,d)}return s[et]}function Hh(i,s,a,c,d,f,y){for(;null!=a;){const _=c[a.index],I=a.type;if(y&&0===s&&(_&&Hi($n(_),c),a.flags|=2),32!=(32&a.flags))if(8&I)Hh(i,s,a.child,c,d,f,!1),Pl(s,i,d,_,f);else if(32&I){const D=Ds(a,c);let S;for(;S=D();)Pl(s,i,d,S,f);Pl(s,i,d,_,f)}else 16&I?Av(i,s,c,a,d,f):Pl(s,i,d,_,f);a=y?a.projectionNext:a.next}}function Gh(i,s,a,c,d,f){Hh(a,c,i.firstChild,s,d,f,!1)}function Av(i,s,a,c,d,f){const y=a[Tr],I=y[Wr].projection[c.projection];if(Array.isArray(I))for(let D=0;D<I.length;D++)Pl(s,i,d,I[D],f);else{let D=I;const S=y[Bn];tg(c)&&(D.flags|=128),Hh(i,s,D,S,d,f,!0)}}function WE(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function zh(i,s,a){const{mergedAttrs:c,classes:d,styles:f}=a;null!==c&&ri(i,s,c),null!==d&&WE(i,s,d),null!==f&&function KT(i,s,a){i.setAttribute(s,"style",a)}(i,s,f)}function YE(i){KE=i}function XE(i){return function xv(){if(void 0===dg&&(dg=null,Kt.trustedTypes))try{dg=Kt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return dg}()?.createScriptURL(i)||i}class eI{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ft})`}}function cu(i){return i instanceof eI?i.changingThisBreaksApplicationSecurity:i}function Fl(i,s){const a=function hg(i){return i instanceof eI&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${ft})`)}return a===s}const qh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Zh=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(Zh||{});function Kh(i){const s=Yh();return s?s.sanitize(Zh.URL,i)||"":Fl(i,"URL")?cu(i):function pg(i){return(i=String(i)).match(qh)?i:"unsafe:"+i}(ue(i))}function cI(i){const s=Yh();if(s)return XE(s.sanitize(Zh.RESOURCE_URL,i)||"");if(Fl(i,"ResourceURL"))return XE(cu(i));throw new ee(904,!1)}function lS(i,s,a){return function cS(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?cI:Kh}(s,a)(i)}function Yh(){const i=Le();return i&&i[Ei].sanitizer}class zn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=yt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ll=new zn("ENVIRONMENT_INITIALIZER"),dI=new zn("INJECTOR",-1),hI=new zn("INJECTOR_DEF_TYPES");class mg{get(s,a=He){if(a===He){const c=new Error(`NullInjectorError: No provider for ${ne(s)}!`);throw c.name="NullInjectorError",c}return a}}function Lv(i){return{\u0275providers:i}}function dS(...i){return{\u0275providers:fI(0,i),\u0275fromNgModule:!0}}function fI(i,...s){const a=[],c=new Set;let d;const f=y=>{a.push(y)};return iu(s,y=>{const _=y;yg(_,f,[],c)&&(d||=[],d.push(_))}),void 0!==d&&pI(d,f),a}function pI(i,s){for(let a=0;a<i.length;a++){const{ngModule:c,providers:d}=i[a];Vv(d,f=>{s(f,c)})}}function yg(i,s,a,c){if(!(i=ke(i)))return!1;let d=null,f=Zn(i);const y=!f&&Cn(i);if(f||y){if(y&&!y.standalone)return!1;d=i}else{const I=i.ngModule;if(f=Zn(I),!f)return!1;d=I}const _=c.has(d);if(y){if(_)return!1;if(c.add(d),y.dependencies){const I="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const D of I)yg(D,s,a,c)}}else{if(!f)return!1;{if(null!=f.imports&&!_){let D;c.add(d);try{iu(f.imports,S=>{yg(S,s,a,c)&&(D||=[],D.push(S))})}finally{}void 0!==D&&pI(D,s)}if(!_){const D=Qs(d)||(()=>new d);s({provide:d,useFactory:D,deps:lt},d),s({provide:hI,useValue:d,multi:!0},d),s({provide:Ll,useValue:()=>Qe(d),multi:!0},d)}const I=f.providers;if(null!=I&&!_){const D=i;Vv(I,S=>{s(S,D)})}}}return d!==i&&void 0!==i.providers}function Vv(i,s){for(let a of i)Ae(a)&&(a=a.\u0275providers),Array.isArray(a)?Vv(a,s):s(a)}const B1=V({provide:String,useValue:V});function gI(i){return null!==i&&"object"==typeof i&&B1 in i}function Vl(i){return"function"==typeof i}const vg=new zn("Set Injector scope."),_g={},gS={};let Uv;function wg(){return void 0===Uv&&(Uv=new mg),Uv}class Qn{}class Ul extends Qn{get destroyed(){return this._destroyed}constructor(s,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fn(s,y=>this.processProvider(y)),this.records.set(dI,Ie(void 0,this)),d.has("environment")&&this.records.set(Qn,Ie(void 0,this));const f=this.records.get(vg);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(hI.multi,lt,wt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=X(this),c=Rt(void 0);try{return s()}finally{X(a),Rt(c)}}get(s,a=He,c=wt.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(Fs))return s[Fs](this);c=mn(c);const f=X(this),y=Rt(void 0);try{if(!(c&wt.SkipSelf)){let I=this.records.get(s);if(void 0===I){const D=function lu(i){return"function"==typeof i||"object"==typeof i&&i instanceof zn}(s)&&Ln(s);I=D&&this.injectableDefInScope(D)?Ie(Bv(s),_g):null,this.records.set(s,I)}if(null!=I)return this.hydrate(s,I)}return(c&wt.Self?wg():this.parent).get(s,a=c&wt.Optional&&a===He?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[Et]=_[Et]||[]).unshift(ne(s)),f)throw _;return function yr(i,s,a,c){const d=i[Et];throw s[P]&&d.unshift(s[P]),i.message=function K(i,s,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=ne(s);if(Array.isArray(s))d=s.map(ne).join(" -> ");else if("object"==typeof s){let f=[];for(let y in s)if(s.hasOwnProperty(y)){let _=s[y];f.push(y+":"+("string"==typeof _?JSON.stringify(_):ne(_)))}d=`{${f.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(G,"\n  ")}`}("\n"+i.message,d,a,c),i.ngTokenPath=d,i[Et]=null,i}(_,s,"R3InjectorError",this.source)}throw _}finally{Rt(y),X(f)}}resolveInjectorInitializers(){const s=X(this),a=Rt(void 0);try{const d=this.get(Ll.multi,lt,wt.Self);for(const f of d)f()}finally{X(s),Rt(a)}}toString(){const s=[],a=this.records;for(const c of a.keys())s.push(ne(c));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ee(205,!1)}processProvider(s){let a=Vl(s=ke(s))?s:ke(s&&s.provide);const c=function $1(i){return gI(i)?Ie(void 0,i.useValue):Ie(mI(i),_g)}(s);if(Vl(s)||!0!==s.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=Ie(void 0,_g,!0),d.factory=()=>Vt(d.multi),this.records.set(a,d)),a=s,d.multi.push(s)}this.records.set(a,c)}hydrate(s,a){return a.value===_g&&(a.value=gS,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Ig(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=ke(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Bv(i){const s=Ln(i),a=null!==s?s.factory:Qs(i);if(null!==a)return a;if(i instanceof zn)throw new ee(204,!1);if(i instanceof Function)return function Oi(i){const s=i.length;if(s>0)throw function Bo(i,s){const a=[];for(let c=0;c<i;c++)a.push(s);return a}(s,"?"),new ee(204,!1);const a=function sr(i){return i&&(i[Vn]||i[tr])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new ee(204,!1)}function mI(i,s,a){let c;if(Vl(i)){const d=ke(i);return Qs(d)||Bv(d)}if(gI(i))c=()=>ke(i.useValue);else if(function pS(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...Vt(i.deps||[]));else if(function fS(i){return!(!i||!i.useExisting)}(i))c=()=>Qe(ke(i.useExisting));else{const d=ke(i&&(i.useClass||i.provide));if(!function Eg(i){return!!i.deps}(i))return Qs(d)||Bv(d);c=()=>new d(...Vt(i.deps))}return c}function Ie(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Fn(i,s){for(const a of i)Array.isArray(a)?Fn(a,s):a&&Ae(a)?Fn(a.\u0275providers,s):s(a)}const yI=new zn("AppId",{providedIn:"root",factory:()=>uo}),uo="ng",pt=new zn("Platform Initializer"),Qh=new zn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Jh=new zn("CSP nonce",{providedIn:"root",factory:()=>function mc(){if(void 0!==KE)return KE;if(typeof document<"u")return document;throw new ee(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let _I=(i,s,a)=>null;function Xh(i,s,a=!1){return _I(i,s,a)}class wS{}class zl{}class Qv{resolveComponentFactory(s){throw function ES(i){const s=Error(`No component factory found for ${ne(i)}.`);return s.ngComponent=i,s}(s)}}let Dg=(()=>{class i{static#e=this.NULL=new Qv}return i})();function DI(){return _c(oi(),Le())}function _c(i,s){return new ql(Di(i,s))}let ql=(()=>{class i{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=DI}return i})();function bg(i){return i instanceof ql?i.nativeElement:i}class Tg{}let Jv=(()=>{class i{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Xv(){const i=Le(),a=ji(oi().index,i);return(Yn(a)?a:i)[kt]}()}return i})(),e_=(()=>{class i{static#e=this.\u0275prov=yt({token:i,providedIn:"root",factory:()=>null})}return i})();class t_{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const n_=new t_("16.2.8"),r_={};function Og(i,s=null,a=null,c){const d=TI(i,s,a,c);return d.resolveInjectorInitializers(),d}function TI(i,s=null,a=null,c,d=new Set){const f=[a||lt,dS(i)];return c=c||("object"==typeof i?void 0:ne(i)),new Ul(f,s||wg(),c||null,d)}let co=(()=>{class i{static#e=this.THROW_IF_NOT_FOUND=He;static#t=this.NULL=new mg;static create(a,c){if(Array.isArray(a))return Og({name:""},c,a,"");{const d=a.name??"";return Og({name:d},a.parent,a.providers,d)}}static#n=this.\u0275prov=yt({token:i,providedIn:"any",factory:()=>Qe(dI)});static#r=this.__NG_ELEMENT_ID__=-1}return i})();function o_(i){return i.ngOriginalError}class fu{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&o_(s);for(;a&&o_(a);)a=o_(a);return a||null}}function Ng(i){return s=>{setTimeout(i,void 0,s)}}const Go=class u_ extends h.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){let d=s,f=a||(()=>null),y=c;if(s&&"object"==typeof s){const I=s;d=I.next?.bind(I),f=I.error?.bind(I),y=I.complete?.bind(I)}this.__isAsync&&(f=Ng(f),d&&(d=Ng(d)),y&&(y=Ng(y)));const _=super.subscribe({next:d,error:f,complete:y});return s instanceof U.w0&&s.add(_),_}};function nf(...i){}class li{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Go(!1),this.onMicrotaskEmpty=new Go(!1),this.onStable=new Go(!1),this.onError=new Go(!1),typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function c_(){const i="function"==typeof Kt.requestAnimationFrame;let s=Kt[i?"requestAnimationFrame":"setTimeout"],a=Kt[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function xI(i){const s=()=>{!function MI(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Kt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Rg(i),i.isCheckStableRunning=!0,wc(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Rg(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,f,y,_)=>{if(function SS(i){return!(!Array.isArray(i)||1!==i.length)&&!0===i[0].data?.__ignore_ng_zone__}(_))return a.invokeTask(d,f,y,_);try{return rf(i),a.invokeTask(d,f,y,_)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),OI(i)}},onInvoke:(a,c,d,f,y,_,I)=>{try{return rf(i),a.invoke(d,f,y,_,I)}finally{i.shouldCoalesceRunChangeDetection&&s(),OI(i)}},onHasTask:(a,c,d,f)=>{a.hasTask(d,f),c===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,Rg(i),wc(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,d,f)=>(a.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!li.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(li.isInAngularZone())throw new ee(909,!1)}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,d){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+d,s,bS,nf,nf);try{return f.runTask(y,a,c)}finally{f.cancelTask(y)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const bS={};function wc(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Rg(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function rf(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function OI(i){i._nesting--,wc(i)}class TS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Go,this.onMicrotaskEmpty=new Go,this.onStable=new Go,this.onError=new Go}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,d){return s.apply(a,c)}}const Ec=new zn("",{providedIn:"root",factory:PI});function PI(){const i=ot(li);let s=!0;const a=new N.y(d=>{s=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{d.next(s),d.complete()})}),c=new N.y(d=>{let f;i.runOutsideAngular(()=>{f=i.onStable.subscribe(()=>{li.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(s=!0,d.next(!0))})})});const y=i.onUnstable.subscribe(()=>{li.assertInAngularZone(),s&&(s=!1,i.runOutsideAngular(()=>{d.next(!1)}))});return()=>{f.unsubscribe(),y.unsubscribe()}});return(0,Y.T)(a,c.pipe((0,_e.B)()))}function bs(i){return i instanceof Function?i():i}let kg=(()=>{class i{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=yt({token:i,providedIn:"root",factory:()=>new i})}return i})();function bc(i){for(;i;){i[qt]|=64;const s=Ea(i);if(Ii(i)&&!s)return i;i=s}return null}const Zl=new zn("",{providedIn:"root",factory:()=>!1});let cf=null;function Yl(i,s){return i[s]??pu()}function m_(i,s){const a=pu();a.producerNode?.length&&(i[s]=cf,a.lView=i,cf=Ql())}const Vg={...oh,consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{bc(i.lView)},lView:null};function Ql(){return Object.create(Vg)}function pu(){return cf??=Ql(),cf}const tn={};function FI(i){LI(Sn(),Le(),Ti()+i,!1)}function LI(i,s,a,c){if(!c)if(3==(3&s[qt])){const f=i.preOrderCheckHooks;null!==f&&Qa(s,f,a)}else{const f=i.preOrderHooks;null!==f&&Ja(s,f,0,a)}eo(a)}function Tc(i,s=wt.Default){const a=Le();return null===a?Qe(i,s):Sh(oi(),a,ke(i),s)}function y_(){throw new Error("invalid")}function zo(i,s,a,c,d,f,y,_,I,D,S){const L=s.blueprint.slice();return L[Kn]=d,L[qt]=140|c,(null!==D||i&&2048&i[qt])&&(L[qt]|=2048),Mp(L),L[Bn]=L[br]=i,L[fr]=a,L[Ei]=y||i&&i[Ei],L[kt]=_||i&&i[kt],L[ws]=I||i&&i[ws]||null,L[Wr]=f,L[cs]=function rg(){return xT++}(),L[Es]=S,L[Xc]=D,L[Tr]=2==s.type?i[Tr]:L,L}function gs(i,s,a,c,d){let f=i.data[s];if(null===f)f=function Jl(i,s,a,c,d){const f=dl(),y=kp(),I=i.data[s]=function BI(i,s,a,c,d,f){let y=s?s.injectorIndex:-1,_=0;return function xo(){return null!==zt.skipHydrationRootTNode}()&&(_|=128),{type:a,index:c,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:_,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,a,s,c,d);return null===i.firstChild&&(i.firstChild=I),null!==f&&(y?null==f.child&&null!==I.parent&&(f.child=I):null===f.next&&(f.next=I,I.prev=f)),I}(i,s,a,c,d),function DE(){return zt.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=a,f.value=c,f.attrs=d;const y=function Ju(){const i=zt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return $s(f,!0),f}function gu(i,s,a,c){if(0===a)return-1;const d=s.length;for(let f=0;f<a;f++)s.push(c),i.blueprint.push(c),i.data.push(null);return d}function v_(i,s,a,c,d){const f=Yl(s,B),y=Ti(),_=2&c;try{eo(-1),_&&s.length>j&&LI(i,s,j,!1),js(_?2:0,d);const D=_?f:null,S=Ep(D);try{null!==D&&(D.dirty=!1),a(c,d)}finally{nl(D,S)}}finally{_&&null===s[B]&&m_(s,B),eo(y),js(_?3:1,d)}}function rr(i,s,a){if(To(s)){const c=Ci(null);try{const f=s.directiveEnd;for(let y=s.directiveStart;y<f;y++){const _=i.data[y];_.contentQueries&&_.contentQueries(1,a[y],y)}}finally{Ci(c)}}}function Xl(i,s,a){Ka()&&(function HI(i,s,a,c){const d=a.directiveStart,f=a.directiveEnd;Ji(a)&&function zI(i,s,a){const c=Di(s,i),d=ed(a);let y=16;a.signals?y=4096:a.onPush&&(y=64);const _=Hg(i,zo(i,d,null,y,c,s,null,i[Ei].rendererFactory.createRenderer(c,a),null,null,null));i[s.index]=_}(s,a,i.data[d+a.componentOffset]),i.firstCreatePass||_r(a,s),Hi(c,s);const y=a.initialInputs;for(let _=d;_<f;_++){const I=i.data[_],D=ma(s,i,_,a);Hi(D,s),null!==y&&BS(0,_-d,D,I,0,y),ar(I)&&(ji(a.index,s)[fr]=ma(s,i,_,a))}}(i,s,a,Di(a,s)),64==(64&a.flags)&&GI(i,s,a))}function Sc(i,s,a=Di){const c=s.localNames;if(null!==c){let d=s.index+1;for(let f=0;f<c.length;f+=2){const y=c[f+1],_=-1===y?a(s,i):i[y];i[d++]=_}}}function ed(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=__(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):s}function __(i,s,a,c,d,f,y,_,I,D,S){const L=j+c,Z=L+d,ie=function VI(i,s){const a=[];for(let c=0;c<s;c++)a.push(c<i?null:tn);return a}(L,Z),Re="function"==typeof D?D():D;return ie[Xe]={type:i,blueprint:ie,template:a,queries:null,viewQuery:_,declTNode:s,data:ie.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:Z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:Re,incompleteFirstPass:!1,ssrId:S}}let UI=i=>null;function w_(i,s,a,c){for(let d in i)if(i.hasOwnProperty(d)){a=null===a?{}:a;const f=i[d];null===c?E_(a,s,d,f):c.hasOwnProperty(d)&&E_(a,s,c[d],f)}return a}function E_(i,s,a,c){i.hasOwnProperty(a)?i[a].push(s,c):i[a]=[s,c]}function Ug(i,s,a,c){if(Ka()){const d=null===c?null:{"":-1},f=function US(i,s){const a=i.directiveRegistry;let c=null,d=null;if(a)for(let f=0;f<a.length;f++){const y=a[f];if(ua(s,y.selectors,!1))if(c||(c=[]),ar(y))if(null!==y.findHostDirectiveDefs){const _=[];d=d||new Map,y.findHostDirectiveDefs(y,_,d),c.unshift(..._,y),C_(i,s,_.length)}else c.unshift(y),C_(i,s,0);else d=d||new Map,y.findHostDirectiveDefs?.(y,c,d),c.push(y)}return null===c?null:[c,d]}(i,a);let y,_;null===f?y=_=null:[y,_]=f,null!==y&&Bg(i,s,a,y,d,_),d&&function jg(i,s,a){if(s){const c=i.localNames=[];for(let d=0;d<s.length;d+=2){const f=a[s[d+1]];if(null==f)throw new ee(-301,!1);c.push(s[d],f)}}}(a,c,d)}a.mergedAttrs=_s(a.mergedAttrs,a.attrs)}function Bg(i,s,a,c,d,f){for(let D=0;D<c.length;D++)tu(_r(a,s),i,c[D].type);!function $g(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}(a,i.data.length,c.length);for(let D=0;D<c.length;D++){const S=c[D];S.providersResolver&&S.providersResolver(S)}let y=!1,_=!1,I=gu(i,s,c.length,null);for(let D=0;D<c.length;D++){const S=c[D];a.mergedAttrs=_s(a.mergedAttrs,S.hostAttrs),D_(i,a,s,I,S),df(I,S,d),null!==S.contentQueries&&(a.flags|=4),(null!==S.hostBindings||null!==S.hostAttrs||0!==S.hostVars)&&(a.flags|=64);const L=S.type.prototype;!y&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((i.preOrderHooks??=[]).push(a.index),y=!0),!_&&(L.ngOnChanges||L.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(a.index),_=!0),I++}!function td(i,s,a){const d=s.directiveEnd,f=i.data,y=s.attrs,_=[];let I=null,D=null;for(let S=s.directiveStart;S<d;S++){const L=f[S],Z=a?a.get(L):null,Re=Z?Z.outputs:null;I=w_(L.inputs,S,I,Z?Z.inputs:null),D=w_(L.outputs,S,D,Re);const Ke=null===I||null===y||Yi(s)?null:qI(I,S,y);_.push(Ke)}null!==I&&(I.hasOwnProperty("class")&&(s.flags|=8),I.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=_,s.inputs=I,s.outputs=D}(i,a,f)}function GI(i,s,a){const c=a.directiveStart,d=a.directiveEnd,f=a.index,y=function bE(){return zt.lFrame.currentDirectiveIndex}();try{eo(f);for(let _=c;_<d;_++){const I=i.data[_],D=s[_];Up(_),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&VS(I,D)}}finally{eo(-1),Up(y)}}function VS(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function C_(i,s,a){s.componentOffset=a,(i.components??=[]).push(s.index)}function df(i,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=i;ar(s)&&(a[""]=i)}}function D_(i,s,a,c,d){i.data[c]=d;const f=d.factory||(d.factory=Qs(d.type)),y=new Ro(f,ar(d),Tc);i.blueprint[c]=y,a[c]=y,function I_(i,s,a,c,d){const f=d.hostBindings;if(f){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const _=~s.index;(function $I(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(y)!=_&&y.push(_),y.push(a,c,f)}}(i,s,c,gu(i,a,d.hostVars,tn),d)}function ms(i,s,a,c,d,f){const y=Di(i,s);!function Ac(i,s,a,c,d,f,y){if(null==f)i.removeAttribute(s,d,a);else{const _=null==y?ue(f):y(f,c||"",d);i.setAttribute(s,d,_,a)}}(s[kt],y,f,i.value,a,c,d)}function BS(i,s,a,c,d,f){const y=f[s];if(null!==y)for(let _=0;_<y.length;)Mr(c,a,y[_++],y[_++],y[_++])}function Mr(i,s,a,c,d){const f=Ci(null);try{const y=i.inputTransforms;null!==y&&y.hasOwnProperty(c)&&(d=y[c].call(s,d)),null!==i.setInput?i.setInput(s,d,a,c):s[c]=d}finally{Ci(f)}}function qI(i,s,a){let c=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;if(i.hasOwnProperty(f)){null===c&&(c=[]);const y=i[f];for(let _=0;_<y.length;_+=2)if(y[_]===s){c.push(f,y[_+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function WI(i,s,a,c){return[i,!0,!1,s,null,0,c,a,null,null,null]}function ZI(i,s){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const f=a[c+1];if(-1!==f){const y=i.data[f];Bp(a[c]),y.contentQueries(2,s[f],f)}}}function Hg(i,s){return i[da]?i[th][si]=s:i[da]=s,i[th]=s,s}function Gg(i,s,a){Bp(0);const c=Ci(null);try{s(i,a)}finally{Ci(c)}}function b_(i){return i[bo]||(i[bo]=[])}function hf(i){return i.cleanup||(i.cleanup=[])}function lo(i,s){const a=i[ws],c=a?a.get(fu,null):null;c&&c.handleError(s)}function zg(i,s,a,c,d){for(let f=0;f<a.length;){const y=a[f++],_=a[f++];Mr(i.data[y],s[y],c,_,d)}}function Ca(i,s,a){const c=Xs(s,i);!function hc(i,s,a){i.setValue(s,a)}(i[kt],c,a)}function KI(i,s){const a=ji(s,i),c=a[Xe];!function S_(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])}(c,a);const d=a[Kn];null!==d&&null===a[Es]&&(a[Es]=Xh(d,a[ws])),Mc(c,a,a[fr])}function Mc(i,s,a){bi(s);try{const c=i.viewQuery;null!==c&&Gg(1,c,a);const d=i.template;null!==d&&v_(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&ZI(i,s),i.staticViewQueries&&Gg(2,i.viewQuery,a);const f=i.components;null!==f&&function YI(i,s){for(let a=0;a<s.length;a++)KI(i,s[a])}(s,f)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[qt]&=-5,ui()}}let qg=(()=>{class i{constructor(){this.all=new Set,this.queue=new Map}create(a,c,d){const f=typeof Zone>"u"?null:Zone.current,y=function Zy(i,s,a){const c=Object.create(_E);a&&(c.consumerAllowSignalWrites=!0),c.fn=i,c.schedule=s;const d=y=>{c.cleanupFn=y};return c.ref={notify:()=>jy(c),run:()=>{if(c.dirty=!1,c.hasRun&&!$y(c))return;c.hasRun=!0;const y=Ep(c);try{c.cleanupFn(),c.cleanupFn=Sp,c.fn(d)}finally{nl(c,y)}},cleanup:()=>c.cleanupFn()},c.ref}(a,D=>{this.all.has(D)&&this.queue.set(D,f)},d);let _;this.all.add(y),y.notify();const I=()=>{y.cleanup(),_?.(),this.all.delete(y),this.queue.delete(y)};return _=c?.onDestroy(I),{destroy:I}}flush(){if(0!==this.queue.size)for(const[a,c]of this.queue)this.queue.delete(a),c?c.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=yt({token:i,providedIn:"root",factory:()=>new i})}return i})();function ff(i,s,a){let c=a?i.styles:null,d=a?i.classes:null,f=0;if(null!==s)for(let y=0;y<s.length;y++){const _=s[y];"number"==typeof _?f=_:1==f?d=Ue(d,_):2==f&&(c=Ue(c,_+": "+s[++y]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}function yu(i,s,a,c,d=!1){for(;null!==a;){const f=s[a.index];null!==f&&c.push($n(f)),Mn(f)&&QI(f,c);const y=a.type;if(8&y)yu(i,s,a.child,c);else if(32&y){const _=Ds(a,s);let I;for(;I=_();)c.push(I)}else if(16&y){const _=bv(s,a);if(Array.isArray(_))c.push(..._);else{const I=Ea(s[Tr]);yu(I[Xe],I,_,c,!0)}}a=d?a.projectionNext:a.next}return c}function QI(i,s){for(let a=Bt;a<i.length;a++){const c=i[a],d=c[Xe].firstChild;null!==d&&yu(c[Xe],c,d,s)}i[et]!==i[Kn]&&s.push(i[et])}function pf(i,s,a,c=!0){const d=s[Ei],f=d.rendererFactory,y=d.afterRenderEventManager;f.begin?.(),y?.begin();try{A_(i,s,i.template,a)}catch(I){throw c&&lo(s,I),I}finally{f.end?.(),d.effectManager?.flush(),y?.end()}}function A_(i,s,a,c){const d=s[qt];if(256!=(256&d)){s[Ei].effectManager?.flush(),bi(s);try{Mp(s),function rv(i){return zt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&v_(i,s,a,2,c);const y=3==(3&d);if(y){const D=i.preOrderCheckHooks;null!==D&&Qa(s,D,null)}else{const D=i.preOrderHooks;null!==D&&Ja(s,D,0,null),fl(s,0)}if(function M_(i){for(let s=VE(i);null!==s;s=Ev(s)){if(!s[We])continue;const a=s[Ft];for(let c=0;c<a.length;c++){Yu(a[c])}}}(s),Kg(s,2),null!==i.contentQueries&&ZI(i,s),y){const D=i.contentCheckHooks;null!==D&&Qa(s,D)}else{const D=i.contentHooks;null!==D&&Ja(s,D,1),fl(s,1)}!function OS(i,s){const a=i.hostBindingOpCodes;if(null===a)return;const c=Yl(s,F);try{for(let d=0;d<a.length;d++){const f=a[d];if(f<0)eo(~f);else{const y=f,_=a[++d],I=a[++d];Vp(_,y),c.dirty=!1;const D=Ep(c);try{I(2,s[y])}finally{nl(c,D)}}}}finally{null===s[F]&&m_(s,F),eo(-1)}}(i,s);const _=i.components;null!==_&&x_(s,_,0);const I=i.viewQuery;if(null!==I&&Gg(2,I,c),y){const D=i.viewCheckHooks;null!==D&&Qa(s,D)}else{const D=i.viewHooks;null!==D&&Ja(s,D,2),fl(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[qt]&=-73,Jy(s)}finally{ui()}}}function Kg(i,s){for(let a=VE(i);null!==a;a=Ev(a))for(let c=Bt;c<a.length;c++)gf(a[c],s)}function XI(i,s,a){gf(ji(s,i),a)}function gf(i,s){if(!function IE(i){return 128==(128&i[qt])}(i))return;const a=i[Xe],c=i[qt];if(80&c&&0===s||1024&c||2===s)A_(a,i,a.template,i[fr]);else if(i[Bs]>0){Kg(i,1);const d=a.components;null!==d&&x_(i,d,1)}}function x_(i,s,a){for(let c=0;c<s.length;c++)XI(i,s[c],a)}class nd{get rootNodes(){const s=this._lView,a=s[Xe];return yu(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fr]}set context(s){this._lView[fr]=s}get destroyed(){return 256==(256&this._lView[qt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Bn];if(Mn(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(ag(s,c),su(a,c))}this._attachedToViewContainer=!1}Iv(this._lView[Xe],this._lView)}onDestroy(s){!function vh(i,s){if(256==(256&i[qt]))throw new ee(911,!1);null===i[Ys]&&(i[Ys]=[]),i[Ys].push(s)}(this._lView,s)}markForCheck(){bc(this._cdRefInjectingView||this._lView)}detach(){this._lView[qt]&=-129}reattach(){this._lView[qt]|=128}detectChanges(){pf(this._lView[Xe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Bh(i,s){Gh(i,s,s[kt],2,null,null)}(this._lView[Xe],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=s}}class xc extends nd{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;pf(s[Xe],s,s[fr],!1)}checkNoChanges(){}get context(){return null}}class O_ extends Dg{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Cn(s);return new vu(a,this.ngModule)}}function P_(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class tC{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,c){c=mn(c);const d=this.injector.get(s,r_,c);return d!==r_||a===r_?d:this.parentInjector.get(s,a,c)}}class vu extends zl{get inputs(){const s=this.componentDef,a=s.inputTransforms,c=P_(s.inputs);if(null!==a)for(const d of c)a.hasOwnProperty(d.propName)&&(d.transform=a[d.propName]);return c}get outputs(){return P_(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function In(i){return i.map(En).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,c,d){let f=(d=d||this.ngModule)instanceof Qn?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const y=f?new tC(s,f):s,_=y.get(Tg,null);if(null===_)throw new ee(407,!1);const L={rendererFactory:_,sanitizer:y.get(e_,null),effectManager:y.get(qg,null),afterRenderEventManager:y.get(kg,null)},Z=_.createRenderer(null,this.componentDef),ie=this.componentDef.selectors[0][0]||"div",Re=c?function PS(i,s,a,c){const f=c.get(Zl,!1)||a===at.ShadowDom,y=i.selectRootElement(s,f);return function NS(i){UI(i)}(y),y}(Z,c,this.componentDef.encapsulation,y):og(Z,ie,function eC(i){const s=i.toLowerCase();return"svg"===s?Ap:"math"===s?"math":null}(ie)),Mt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let $e=null;null!==Re&&($e=Xh(Re,y,!0));const jt=__(0,null,null,1,0,null,null,null,null,null,null),vn=zo(null,jt,null,Mt,null,null,L,Z,y,null,$e);let Wn,Wi;bi(vn);try{const Ps=this.componentDef;let Hd,Gd=null;Ps.findHostDirectiveDefs?(Hd=[],Gd=new Map,Ps.findHostDirectiveDefs(Ps,Hd,Gd),Hd.push(Ps)):Hd=[Ps];const Cy=function nC(i,s){const a=i[Xe],c=j;return i[c]=s,gs(a,c,2,"#host",null)}(vn,Re),jb=function rC(i,s,a,c,d,f,y){const _=d[Xe];!function rd(i,s,a,c){for(const d of i)s.mergedAttrs=_s(s.mergedAttrs,d.hostAttrs);null!==s.mergedAttrs&&(ff(s,s.mergedAttrs,!0),null!==a&&zh(c,a,s))}(c,i,s,y);let I=null;null!==s&&(I=Xh(s,d[ws]));const D=f.rendererFactory.createRenderer(s,a);let S=16;a.signals?S=4096:a.onPush&&(S=64);const L=zo(d,ed(a),null,S,d[i.index],i,f,D,null,null,I);return _.firstCreatePass&&C_(_,i,c.length-1),Hg(d,L),d[i.index]=L}(Cy,Re,Ps,Hd,vn,L,Z);Wi=mh(jt,j),Re&&function ho(i,s,a,c){if(c)ri(i,a,["ng-version",n_.full]);else{const{attrs:d,classes:f}=function en(i){const s=[],a=[];let c=1,d=2;for(;c<i.length;){let f=i[c];if("string"==typeof f)2===d?""!==f&&s.push(f,i[++c]):8===d&&a.push(f);else{if(!zr(d))break;d=f}c++}return{attrs:s,classes:a}}(s.selectors[0]);d&&ri(i,a,d),f&&f.length>0&&WE(i,a,f.join(" "))}}(Z,Ps,Re,c),void 0!==a&&function N_(i,s,a){const c=i.projection=[];for(let d=0;d<s.length;d++){const f=a[d];c.push(null!=f?Array.from(f):null)}}(Wi,this.ngContentSelectors,a),Wn=function $S(i,s,a,c,d,f){const y=oi(),_=d[Xe],I=Di(y,d);Bg(_,d,y,a,null,c);for(let S=0;S<a.length;S++)Hi(ma(d,_,y.directiveStart+S,y),d);GI(_,d,y),I&&Hi(I,d);const D=ma(d,_,y.directiveStart+y.componentOffset,y);if(i[fr]=d[fr]=D,null!==f)for(const S of f)S(D,s);return rr(_,y,i),D}(jb,Ps,Hd,Gd,vn,[Jn]),Mc(jt,vn,null)}finally{ui()}return new Ss(this.componentType,Wn,_c(Wi,vn),vn,Wi)}}class Ss extends wS{constructor(s,a,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new xc(d),this.componentType=s}setInput(s,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const f=this._rootLView;zg(f[Xe],f,d,s,a),this.previousInputValues.set(s,a),bc(ji(this._tNode.index,f))}}get injector(){return new jr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Jn(){const i=oi();Ya(Le()[Xe],i)}function mf(i){let s=function iC(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;s;){let d;if(ar(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new ee(903,!1);d=s.\u0275dir}if(d){if(a){c.push(d);const y=i;y.inputs=yf(i.inputs),y.inputTransforms=yf(i.inputTransforms),y.declaredInputs=yf(i.declaredInputs),y.outputs=yf(i.outputs);const _=d.hostBindings;_&&k_(i,_);const I=d.viewQuery,D=d.contentQueries;if(I&&R_(i,I),D&&id(i,D),q(i.inputs,d.inputs),q(i.declaredInputs,d.declaredInputs),q(i.outputs,d.outputs),null!==d.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),q(y.inputTransforms,d.inputTransforms)),ar(d)&&d.data.animation){const S=i.data;S.animation=(S.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let y=0;y<f.length;y++){const _=f[y];_&&_.ngInherit&&_(i),_===mf&&(a=!1)}}s=Object.getPrototypeOf(s)}!function qo(i){let s=0,a=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=s+=d.hostVars,d.hostAttrs=_s(d.hostAttrs,a=_s(a,d.hostAttrs))}}(c)}function yf(i){return i===Ot?{}:i===lt?[]:i}function R_(i,s){const a=i.viewQuery;i.viewQuery=a?(c,d)=>{s(c,d),a(c,d)}:s}function id(i,s){const a=i.contentQueries;i.contentQueries=a?(c,d,f)=>{s(c,d,f),a(c,d,f)}:s}function k_(i,s){const a=i.hostBindings;i.hostBindings=a?(c,d)=>{s(c,d),a(c,d)}:s}function Oc(i){const s=i.inputConfig,a={};for(const c in s)if(s.hasOwnProperty(c)){const d=s[c];Array.isArray(d)&&d[2]&&(a[c]=d[2])}i.inputTransforms=a}function Yg(i){return!!U_(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function U_(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Wo(i,s,a){return i[s]=a}function Gi(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Pc(i,s,a,c){const d=Gi(i,s,a);return Gi(i,s+1,c)||d}function Yr(i,s,a,c){const d=Le();return Gi(d,Xu(),s)&&(Sn(),ms(ur(),d,i,s,a,c)),Yr}function wu(i,s,a,c,d,f){const _=Pc(i,function Oo(){return zt.lFrame.bindingIndex}(),a,d);return Hs(2),_?s+ue(a)+c+ue(d)+f:tn}function gC(i,s,a,c,d,f,y,_){const I=Le(),D=Sn(),S=i+j,L=D.firstCreatePass?function go(i,s,a,c,d,f,y,_,I){const D=s.consts,S=gs(s,i,4,y||null,Mo(D,_));Ug(s,a,S,Mo(D,I)),Ya(s,S);const L=S.tView=__(2,S,c,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,D,null);return null!==s.queries&&(s.queries.template(s,S),L.queries=s.queries.embeddedTView(S)),S}(S,D,I,s,a,c,d,f,y):D.data[S];$s(L,!1);const Z=ad(D,I,L,i);to()&&$h(D,I,Z,L),Hi(Z,I),Hg(I,I[S]=WI(Z,I,Z,L)),Is(L)&&Xl(D,I,L),null!=y&&Sc(I,L,_)}let ad=function Sa(i,s,a,c){return no(!0),s[kt].createComment("")};function tm(i){return Za(function tv(){return zt.lFrame.contextLView}(),j+i)}function G_(i,s,a){const c=Le();return Gi(c,Xu(),s)&&function Ts(i,s,a,c,d,f,y,_){const I=Di(s,a);let S,D=s.inputs;!_&&null!=D&&(S=D[c])?(zg(i,a,S,c,d),Ji(s)&&function jI(i,s){const a=ji(s,i);16&a[qt]||(a[qt]|=64)}(a,s.index)):3&s.type&&(c=function kS(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=y?y(d,s.value||"",c):d,f.setProperty(I,c,d))}(Sn(),ur(),c,i,s,c[kt],a,!1),G_}function z_(i,s,a,c,d){const y=d?"class":"style";zg(i,a,s.inputs[y],y,c)}function Iu(i,s,a,c){const d=Le(),f=Sn(),y=j+i,_=d[kt],I=f.firstCreatePass?function xs(i,s,a,c,d,f){const y=s.consts,I=gs(s,i,2,c,Mo(y,d));return Ug(s,a,I,Mo(y,f)),null!==I.attrs&&ff(I,I.attrs,!1),null!==I.mergedAttrs&&ff(I,I.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,I),I}(y,f,d,s,a,c):f.data[y],D=ki(f,d,I,_,s,i);d[y]=D;const S=Is(I);return $s(I,!0),zh(_,D,I),32!=(32&I.flags)&&to()&&$h(f,d,D,I),0===function Op(){return zt.lFrame.elementDepthCount}()&&Hi(D,d),function Pp(){zt.lFrame.elementDepthCount++}(),S&&(Xl(f,d,I),rr(f,I,d)),null!==c&&Sc(d,I),Iu}function Cu(){let i=oi();kp()?function Fp(){zt.lFrame.isParent=!1}():(i=i.parent,$s(i,!1));const s=i;(function Qu(i){return zt.skipHydrationRootTNode===i})(s)&&function Rp(){zt.skipHydrationRootTNode=null}(),function Xy(){zt.lFrame.elementDepthCount--}();const a=Sn();return a.firstCreatePass&&(Ya(a,i),To(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function ro(i){return 0!=(8&i.flags)}(s)&&z_(a,s,Le(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function gl(i){return 0!=(16&i.flags)}(s)&&z_(a,s,Le(),s.stylesWithoutHost,!1),Cu}function nm(i,s,a,c){return Iu(i,s,a,c),Cu(),nm}let ki=(i,s,a,c,d,f)=>(no(!0),og(c,d,function $p(){return zt.lFrame.currentNamespace}()));function _C(){return Le()}function W_(i){return!!i&&"function"==typeof i.then}function wC(i){return!!i&&"function"==typeof i.subscribe}function Z_(i,s,a,c){const d=Le(),f=Sn(),y=oi();return function IC(i,s,a,c,d,f,y){const _=Is(c),D=i.firstCreatePass&&hf(i),S=s[fr],L=b_(s);let Z=!0;if(3&c.type||y){const Ke=Di(c,s),ut=y?y(Ke):Ke,Mt=L.length,$e=y?vn=>y($n(vn[c.index])):c.index;let jt=null;if(!y&&_&&(jt=function XS(i,s,a,c){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const y=d[f];if(y===a&&d[f+1]===c){const _=s[bo],I=d[f+2];return _.length>I?_[I]:null}"string"==typeof y&&(f+=2)}return null}(i,s,d,c.index)),null!==jt)(jt.__ngLastListenerFn__||jt).__ngNextListenerFn__=f,jt.__ngLastListenerFn__=f,Z=!1;else{f=DC(c,s,S,f,!1);const vn=a.listen(ut,d,f);L.push(f,vn),D&&D.push(d,$e,Mt,Mt+1)}}else f=DC(c,s,S,f,!1);const ie=c.outputs;let Re;if(Z&&null!==ie&&(Re=ie[d])){const Ke=Re.length;if(Ke)for(let ut=0;ut<Ke;ut+=2){const Wn=s[Re[ut]][Re[ut+1]].subscribe(f),Wi=L.length;L.push(f,Wn),D&&D.push(d,c.index,Wi,-(Wi+1))}}}(f,d,d[kt],y,i,s,c),Z_}function CC(i,s,a,c){try{return js(6,s,a),!1!==a(c)}catch(d){return lo(i,d),!1}finally{js(7,s,a)}}function DC(i,s,a,c,d){return function f(y){if(y===Function)return c;bc(i.componentOffset>-1?ji(i.index,s):s);let I=CC(s,a,c,y),D=f.__ngNextListenerFn__;for(;D;)I=CC(s,a,D,y)&&I,D=D.__ngNextListenerFn__;return d&&!1===I&&y.preventDefault(),I}}function bC(i=1){return function hl(i){return(zt.lFrame.contextLView=function Ch(i,s){for(;i>0;)s=s[br],i--;return s}(i,zt.lFrame.contextLView))[fr]}(i)}function Rc(i,s){return i<<17|s<<2}function Er(i){return i>>17&32767}function Du(i){return 2|i}function Jr(i){return(131068&i)>>2}function om(i,s){return-131069&i|s<<2}function $r(i){return 1|i}function Df(i,s,a,c,d){const f=i[a+1],y=null===s;let _=c?Er(f):Jr(f),I=!1;for(;0!==_&&(!1===I||y);){const S=i[_+1];am(i[_],s)&&(I=!0,i[_+1]=c?$r(S):Du(S)),_=c?Er(S):Jr(S)}I&&(i[a+1]=c?Du(f):$r(f))}function am(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&ou(i,s)>=0}const Or={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xC(i){return i.substring(Or.key,Or.keyEnd)}function bf(i,s){const a=Or.textEnd;return a===s?-1:(s=Or.keyEnd=function OC(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,Or.key=s,a),Os(i,s,a))}function Os(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function lm(i,s){return function _o(i,s,a,c){const d=Le(),f=Sn(),y=Hs(2);f.firstUpdatePass&&X_(f,i,y,c),s!==tn&&Gi(d,y,s)&&qn(f,f.data[Ti()],d,d[kt],i,d[y+1]=function e0(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ne(cu(i)))),i}(s,a),c,y)}(i,s,null,!0),lm}function hd(i){!function wo(i,s,a,c){const d=Sn(),f=Hs(2);d.firstUpdatePass&&X_(d,null,f,c);const y=Le();if(a!==tn&&Gi(y,f,a)){const _=d.data[Ti()];if(t0(_,c)&&!J_(d,f)){let I=c?_.classesWithoutHost:_.stylesWithoutHost;null!==I&&(a=Ue(I,a||"")),z_(d,_,y,a,c)}else!function Pn(i,s,a,c,d,f,y,_){d===tn&&(d=lt);let I=0,D=0,S=0<d.length?d[0]:null,L=0<f.length?f[0]:null;for(;null!==S||null!==L;){const Z=I<d.length?d[I+1]:void 0,ie=D<f.length?f[D+1]:void 0;let Ke,Re=null;S===L?(I+=2,D+=2,Z!==ie&&(Re=L,Ke=ie)):null===L||null!==S&&S<L?(I+=2,Re=S):(D+=2,Re=L,Ke=ie),null!==Re&&qn(i,s,a,c,Re,Ke,y,_),S=I<d.length?d[I]:null,L=D<f.length?f[D]:null}}(d,_,y,y[kt],y[f+1],y[f+1]=function pd(i,s,a){if(null==a||""===a)return lt;const c=[],d=cu(a);if(Array.isArray(d))for(let f=0;f<d.length;f++)i(c,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&i(c,f,d[f]);else"string"==typeof d&&s(c,d);return c}(i,s,a),c,f)}}(kC,vo,i,!0)}function vo(i,s){for(let a=function Tu(i){return function cd(i){Or.key=0,Or.keyEnd=0,Or.value=0,Or.valueEnd=0,Or.textEnd=i.length}(i),bf(i,Os(i,0,Or.textEnd))}(s);a>=0;a=bf(s,a))es(i,xC(s),!0)}function J_(i,s){return s>=i.expandoStartIndex}function X_(i,s,a,c){const d=i.data;if(null===d[a+1]){const f=d[Ti()],y=J_(i,a);t0(f,c)&&null===s&&!y&&(s=!1),s=function Fi(i,s,a,c){const d=function Eh(i){const s=zt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(a=fd(a=hm(null,i,s,a,c),s.attrs,c),f=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==d)if(a=hm(d,i,s,a,c),null===f){let I=function NC(i,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==Jr(c))return i[Er(c)]}(i,s,c);void 0!==I&&Array.isArray(I)&&(I=hm(null,i,s,I[1],c),I=fd(I,s.attrs,c),function gr(i,s,a,c){i[Er(a?s.classBindings:s.styleBindings)]=c}(i,s,c,I))}else f=function Mu(i,s,a){let c;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)c=fd(c,i[f].hostAttrs,a);return fd(c,s.attrs,a)}(i,s,c)}return void 0!==f&&(c?s.residualClasses=f:s.residualStyles=f),a}(d,f,s,c),function Fr(i,s,a,c,d,f){let y=f?s.classBindings:s.styleBindings,_=Er(y),I=Jr(y);i[c]=a;let S,D=!1;if(Array.isArray(a)?(S=a[1],(null===S||ou(a,S)>0)&&(D=!0)):S=a,d)if(0!==I){const Z=Er(i[_+1]);i[c+1]=Rc(Z,_),0!==Z&&(i[Z+1]=om(i[Z+1],c)),i[_+1]=function MC(i,s){return 131071&i|s<<17}(i[_+1],c)}else i[c+1]=Rc(_,0),0!==_&&(i[_+1]=om(i[_+1],c)),_=c;else i[c+1]=Rc(I,0),0===_?_=c:i[I+1]=om(i[I+1],c),I=c;D&&(i[c+1]=Du(i[c+1])),Df(i,S,c,!0),Df(i,S,c,!1),function Ma(i,s,a,c,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&ou(f,s)>=0&&(a[c+1]=$r(a[c+1]))}(s,S,i,c,f),y=Rc(_,I),f?s.classBindings=y:s.styleBindings=y}(d,f,s,a,y,c)}}function hm(i,s,a,c,d){let f=null;const y=a.directiveEnd;let _=a.directiveStylingLast;for(-1===_?_=a.directiveStart:_++;_<y&&(f=s[_],c=fd(c,f.hostAttrs,d),f!==i);)_++;return null!==i&&(a.directiveStylingLast=_),c}function fd(i,s,a){const c=a?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const y=s[f];"number"==typeof y?d=y:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),es(i,y,!!a||s[++f]))}return void 0===i?null:i}function kC(i,s,a){const c=String(s);""!==c&&!c.includes(" ")&&es(i,c,a)}function qn(i,s,a,c,d,f,y,_){if(!(3&s.type))return;const I=i.data,D=I[_+1],S=function nA(i){return 1==(1&i)}(D)?Fc(I,s,a,d,Jr(D),y):void 0;gd(S)||(gd(f)||function pr(i){return 2==(2&i)}(D)&&(f=Fc(I,null,a,d,_,y)),function ZT(i,s,a,c,d){if(s)d?i.addClass(a,c):i.removeClass(a,c);else{let f=-1===c.indexOf("-")?void 0:Nh.DashCase;null==d?i.removeStyle(a,c,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=Nh.Important),i.setStyle(a,c,d,f))}}(c,y,Xs(Ti(),a),d,f))}function Fc(i,s,a,c,d,f){const y=null===s;let _;for(;d>0;){const I=i[d],D=Array.isArray(I),S=D?I[1]:I,L=null===S;let Z=a[d+1];Z===tn&&(Z=L?lt:void 0);let ie=L?xh(Z,c):S===c?Z:void 0;if(D&&!gd(ie)&&(ie=xh(I,c)),gd(ie)&&(_=ie,y))return _;const Re=i[d+1];d=y?Er(Re):Jr(Re)}if(null!==s){let I=f?s.residualClasses:s.residualStyles;null!=I&&(_=xh(I,c))}return _}function gd(i){return void 0!==i}function t0(i,s){return 0!=(i.flags&(s?8:16))}function fm(i,s=""){const a=Le(),c=Sn(),d=i+j,f=c.firstCreatePass?gs(c,d,1,s,null):c.data[d],y=n0(c,a,f,s,i);a[d]=y,to()&&$h(c,a,y,f),$s(f,!1)}let n0=(i,s,a,c,d)=>(no(!0),function sg(i,s){return i.createText(s)}(s[kt],c));function r0(i){return pm("",i,""),r0}function pm(i,s,a){const c=Le(),d=function Ms(i,s,a,c){return Gi(i,Xu(),a)?s+ue(a)+c:tn}(c,i,s,a);return d!==tn&&Ca(c,Ti(),d),pm}function s0(i,s,a,c,d){const f=Le(),y=wu(f,i,s,a,c,d);return y!==tn&&Ca(f,Ti(),y),s0}const xu=void 0;var ZC=["en",[["a","p"],["AM","PM"],xu],[["AM","PM"],xu,xu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xu,"{1} 'at' {0}",xu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Qo(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Jo={};function g0(i){const s=function YC(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Em(s);if(a)return a;const c=s.split("-")[0];if(a=Em(c),a)return a;if("en"===c)return ZC;throw new ee(701,!1)}function KC(i){return g0(i)[Uc.PluralCase]}function Em(i){return i in Jo||(Jo[i]=Kt.ng&&Kt.ng.common&&Kt.ng.common.locales&&Kt.ng.common.locales[i]),Jo[i]}var Uc=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(Uc||{});const _d="en-US";let m0=_d;function Io(i,s,a,c,d){if(i=ke(i),Array.isArray(i))for(let f=0;f<i.length;f++)Io(i[f],s,a,c,d);else{const f=Sn(),y=Le(),_=oi();let I=Vl(i)?i:ke(i.provide);const D=mI(i),S=1048575&_.providerIndexes,L=_.directiveStart,Z=_.providerIndexes>>20;if(Vl(i)||!i.multi){const ie=new Ro(D,d,Tc),Re=Pm(I,s,d?S:S+Z,L);-1===Re?(tu(_r(_,y),f,I),Om(f,i,s.length),s.push(I),_.directiveStart++,_.directiveEnd++,d&&(_.providerIndexes+=1048576),a.push(ie),y.push(ie)):(a[Re]=ie,y[Re]=ie)}else{const ie=Pm(I,s,S+Z,L),Re=Pm(I,s,S,S+Z),ut=Re>=0&&a[Re];if(d&&!ut||!d&&!(ie>=0&&a[ie])){tu(_r(_,y),f,I);const Mt=function Hc(i,s,a,c,d){const f=new Ro(i,a,Tc);return f.multi=[],f.index=s,f.componentProviders=0,wD(f,d,c&&!a),f}(d?$c:Nm,a.length,d,c,D);!d&&ut&&(a[Re].providerFactory=Mt),Om(f,i,s.length,0),s.push(I),_.directiveStart++,_.directiveEnd++,d&&(_.providerIndexes+=1048576),a.push(Mt),y.push(Mt)}else Om(f,i,ie>-1?ie:Re,wD(a[d?Re:ie],D,!d&&c));!d&&c&&ut&&a[Re].componentProviders++}}}function Om(i,s,a,c){const d=Vl(s),f=function j1(i){return!!i.useClass}(s);if(d||f){const I=(f?ke(s.useClass):s).prototype.ngOnDestroy;if(I){const D=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const S=D.indexOf(a);-1===S?D.push(a,[c,I]):D[S+1].push(c,I)}else D.push(a,I)}}}function wD(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Pm(i,s,a,c){for(let d=a;d<c;d++)if(s[d]===i)return d;return-1}function Nm(i,s,a,c){return Ra(this.multi,[])}function $c(i,s,a,c){const d=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,_=ma(a,a[Xe],this.providerFactory.index,c);f=_.slice(0,y),Ra(d,f);for(let I=y;I<_.length;I++)f.push(_[I])}else f=[],Ra(d,f);return f}function Ra(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function Sd(i,s=[]){return a=>{a.providersResolver=(c,d)=>function _D(i,s,a){const c=Sn();if(c.firstCreatePass){const d=ar(i);Io(a,c.data,c.blueprint,d,!0),Io(s,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,s)}}class Ou{}class Rm{}function O0(i,s){return new km(i,s??null,[])}class km extends Ou{constructor(s,a,c){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new O_(this);const d=ii(s);this._bootstrapComponents=bs(d.bootstrap),this._r3Injector=TI(s,a,[{provide:Ou,useValue:this},{provide:Dg,useValue:this.componentFactoryResolver},...c],ne(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class P0 extends Rm{constructor(s){super(),this.moduleType=s}create(s){return new km(this.moduleType,s,[])}}class N0 extends Ou{constructor(s){super(),this.componentFactoryResolver=new O_(this),this.instance=null;const a=new Ul([...s.providers,{provide:Ou,useValue:this},{provide:Dg,useValue:this.componentFactoryResolver}],s.parent||wg(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Ff(i,s,a=null){return new N0({providers:i,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let Lf=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const c=fI(0,a.type),d=c.length>0?Ff([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,d)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=yt({token:i,providedIn:"environment",factory:()=>new i(Qe(Qn))})}return i})();function Pu(i){i.getStandaloneInjector=s=>s.get(Lf).getOrCreateStandaloneInjector(i)}function B0(i,s,a){const c=ai()+i,d=Le();return d[c]===tn?Wo(d,c,a?s.call(a):s()):function _u(i,s){return i[s]}(d,c)}function Ad(i,s){const a=i[s];return a===tn?void 0:a}function H0(i,s,a,c,d,f,y,_){const I=s+a;return function ba(i,s,a,c,d){const f=Pc(i,s,a,c);return Gi(i,s+2,d)||f}(i,I,d,f,y)?Wo(i,I+3,_?c.call(_,d,f,y):c(d,f,y)):Ad(i,I+3)}function G0(i,s){const a=Sn();let c;const d=i+j;a.firstCreatePass?(c=function Ru(i,s){if(s)for(let a=s.length-1;a>=0;a--){const c=s[a];if(i===c.name)return c}}(s,a.pipeRegistry),a.data[d]=c,c.onDestroy&&(a.destroyHooks??=[]).push(d,c.onDestroy)):c=a.data[d];const f=c.factory||(c.factory=Qs(c.type)),_=Rt(Tc);try{const I=ci(!1),D=f();return ci(I),function mC(i,s,a,c){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=c}(a,Le(),d,D),D}finally{Rt(_)}}function ku(i,s,a){const c=i+j,d=Le(),f=Za(d,c);return Md(d,c)?function $0(i,s,a,c,d,f){const y=s+a;return Gi(i,y,d)?Wo(i,y+1,f?c.call(f,d):c(d)):Ad(i,y+1)}(d,ai(),s,f.transform,a,f):f.transform(a)}function zc(i,s,a,c,d){const f=i+j,y=Le(),_=Za(y,f);return Md(y,f)?H0(y,ai(),s,_.transform,a,c,d,_):_.transform(a,c,d)}function Md(i,s){return i[Xe].data[s].pure}function bA(){return this._results[Symbol.iterator]()}class Um{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Go)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Um.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=bA)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const d=function xi(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Qp(i,s,a){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],f=s[c];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function AA(i,s,a,c=!0){const d=s[Xe];if(function $T(i,s,a,c){const d=Bt+c,f=a.length;c>0&&(a[d-1][si]=s),c<f-Bt?(s[si]=a[d],uv(a,Bt+c,s)):(a.push(s),s[si]=null),s[Bn]=a;const y=s[Ui];null!==y&&a!==y&&function HT(i,s){const a=i[Ft];s[Tr]!==s[Bn][Bn][Tr]&&(i[We]=!0),null===a?i[Ft]=[s]:a.push(s)}(y,s);const _=s[gi];null!==_&&_.insertView(i),s[qt]|=128}(d,s,i,a),c){const f=Tv(a,i),y=s[kt],_=ug(y,i[et]);null!==_&&function Uh(i,s,a,c,d,f){c[Kn]=d,c[Wr]=s,Gh(i,c,a,1,d,f)}(d,i[Wr],y,s,_,f)}}let xd=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=xA}return i})();const MA=xd,xD=class extends MA{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,c){const d=function TA(i,s,a,c){const d=s.tView,_=zo(i,d,a,4096&i[qt]?4096:16,null,s,null,null,null,c?.injector??null,c?.hydrationInfo??null);_[Ui]=i[s.index];const D=i[gi];return null!==D&&(_[gi]=D.createEmbeddedView(d)),Mc(d,_,a),_}(this._declarationLView,this._declarationTContainer,s,{injector:a,hydrationInfo:c});return new nd(d)}};function xA(){return Gf(oi(),Le())}function Gf(i,s){return 4&i.type?new xD(s,i,_c(i,s)):null}let Bm=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=NA}return i})();function NA(){return Wf(oi(),Le())}const RA=Bm,ND=class extends RA{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return _c(this._hostTNode,this._hostLView)}get injector(){return new jr(this._hostTNode,this._hostLView)}get parentInjector(){const s=ga(this._hostTNode,this._hostLView);if(ml(s)){const a=Kr(s,this._hostLView),c=Xi(s);return new jr(a[Xe].data[c+8],a)}return new jr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=jm(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-Bt}createEmbeddedView(s,a,c){let d,f;"number"==typeof c?d=c:null!=c&&(d=c.index,f=c.injector);const _=s.createEmbeddedViewImpl(a||{},f,null);return this.insertImpl(_,d,false),_}createComponent(s,a,c,d,f){const y=s&&!function so(i){return"function"==typeof i}(s);let _;if(y)_=a;else{const Ke=a||{};_=Ke.index,c=Ke.injector,d=Ke.projectableNodes,f=Ke.environmentInjector||Ke.ngModuleRef}const I=y?s:new vu(Cn(s)),D=c||this.parentInjector;if(!f&&null==I.ngModule){const ut=(y?D:this.parentInjector).get(Qn,null);ut&&(f=ut)}Cn(I.componentType??{});const ie=I.create(D,d,null,f);return this.insertImpl(ie.hostView,_,false),ie}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,c){const d=s._lView;if(function cl(i){return Mn(i[Bn])}(d)){const I=this.indexOf(s);if(-1!==I)this.detach(I);else{const D=d[Bn],S=new ND(D,D[Wr],D[Bn]);S.detach(S.indexOf(s))}}const y=this._adjustIndex(a),_=this._lContainer;return AA(_,d,y,!c),s.attachToViewContainerRef(),uv(Z0(_),y,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=jm(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=ag(this._lContainer,a);c&&(su(Z0(this._lContainer),a),Iv(c[Xe],c))}detach(s){const a=this._adjustIndex(s,-1),c=ag(this._lContainer,a);return c&&null!=su(Z0(this._lContainer),a)?new nd(c):null}_adjustIndex(s,a=0){return s??this.length+a}};function jm(i){return i[8]}function Z0(i){return i[8]||(i[8]=[])}function Wf(i,s){let a;const c=s[i.index];return Mn(c)?a=c:(a=WI(c,s,null,i),s[i.index]=a,Hg(s,a)),RD(a,s,i,c),new ND(a,i,s)}let RD=function K0(i,s,a,c){if(i[et])return;let d;d=8&a.type?$n(c):function $m(i,s){const a=i[kt],c=a.createComment(""),d=Di(s,i);return gc(a,ug(a,d),c,function qT(i,s){return i.nextSibling(s)}(a,d),!1),c}(s,a),i[et]=d};class qc{constructor(s){this.queryList=s,this.matches=null}clone(){return new qc(this.queryList)}setDirty(){this.queryList.setDirty()}}class Od{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let f=0;f<c;f++){const y=a.getByIndex(f);d.push(this.queries[y.indexInDeclarationView].clone())}return new Od(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==X0(s,a).matches&&this.queries[a].setDirty()}}class Hm{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class Zf{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,f=this.getByIndex(c).embeddedTView(s,d);f&&(f.indexInDeclarationView=c,null!==a?a.push(f):a=[f])}return null!==a?new Zf(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Gm{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Gm(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(s,a,kA(a,f)),this.matchTNodeWithReadOption(s,a,Fo(a,s,f,!1,!1))}else c===xd?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Fo(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===ql||d===Bm||d===xd&&4&a.type)this.addMatch(a.index,-2);else{const f=Fo(a,s,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function kA(i,s){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function FD(i,s,a,c){return-1===a?function kD(i,s){return 11&i.type?_c(i,s):4&i.type?Gf(i,s):null}(s,i):-2===a?function J0(i,s,a){return a===ql?_c(s,i):a===xd?Gf(s,i):a===Bm?Wf(s,i):void 0}(i,s,c):ma(i,i[Xe],a,s)}function LD(i,s,a,c){const d=s[gi].queries[c];if(null===d.matches){const f=i.data,y=a.matches,_=[];for(let I=0;I<y.length;I+=2){const D=y[I];_.push(D<0?null:FD(s,f[D],y[I+1],a.metadata.read))}d.matches=_}return d.matches}function zm(i,s,a,c){const d=i.queries.getByIndex(a),f=d.matches;if(null!==f){const y=LD(i,s,d,a);for(let _=0;_<f.length;_+=2){const I=f[_];if(I>0)c.push(y[_/2]);else{const D=f[_+1],S=s[-I];for(let L=Bt;L<S.length;L++){const Z=S[L];Z[Ui]===Z[Bn]&&zm(Z[Xe],Z,D,c)}if(null!==S[Ft]){const L=S[Ft];for(let Z=0;Z<L.length;Z++){const ie=L[Z];zm(ie[Xe],ie,D,c)}}}}}return c}function VD(i){const s=Le(),a=Sn(),c=iv();Bp(c+1);const d=X0(a,c);if(i.dirty&&function yh(i){return 4==(4&i[qt])}(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?zm(a,s,c,[]):LD(a,s,d,c);i.reset(f,bg),i.notifyOnChanges()}return!0}return!1}function BD(i,s,a,c){const d=Sn();if(d.firstCreatePass){const f=oi();(function Kf(i,s,a){null===i.queries&&(i.queries=new Zf),i.queries.track(new Gm(s,a))})(d,new Hm(s,a,c),f.index),function jD(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function qm(i,s,a){const c=new Um(4==(4&a));(function mu(i,s,a,c){const d=b_(s);d.push(a),i.firstCreatePass&&hf(i).push(c,d.length-1)})(i,s,c,c.destroy),null===s[gi]&&(s[gi]=new Od),s[gi].queries.push(new qc(c))}(d,Le(),a)}function Wc(){return function Pd(i,s){return i[gi].queries[s].queryList}(Le(),iv())}function X0(i,s){return i.queries.getByIndex(s)}function ew(i,s){return Gf(i,s)}function Nd(i){return!!ii(i)}const iy=new zn("Application Initializer");let gw=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c}),this.appInits=ot(iy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const d of this.appInits){const f=d();if(W_(f))a.push(f);else if(wC(f)){const y=new Promise((_,I)=>{f.subscribe({complete:_,error:I})});a.push(y)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),sy=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();const Vd=new zn("LocaleId",{providedIn:"root",factory:()=>ot(Vd,wt.Optional|wt.SkipSelf)||function WA(){return typeof $localize<"u"&&$localize.locale||_d}()}),QD=new zn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Kc=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new se.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class Bu{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let yw=(()=>{class i{compileModuleSync(a){return new P0(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),f=bs(ii(a).declarations).reduce((y,_)=>{const I=Cn(_);return I&&y.push(new vu(I)),y},[]);return new Bu(c,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const cy=new zn(""),ub=new zn("");let ly,Tw=(()=>{class i{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ly||(function Aw(i){ly=i}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{li.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}static#e=this.\u0275fac=function(c){return new(c||i)(Qe(li),Qe(Sw),Qe(ub))};static#t=this.\u0275prov=yt({token:i,factory:i.\u0275fac})}return i})(),Sw=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return ly?.findTestabilityInTree(this,a,c)??null}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})(),ju=null;const dy=new zn("AllowMultipleToken"),Mw=new zn("PlatformDestroyListeners"),tp=new zn("appBootstrapListener");class Ow{constructor(s,a){this.name=s,this.token=a}}function hb(i,s,a=[]){const c=`Platform: ${s}`,d=new zn(c);return(f=[])=>{let y=kw();if(!y||y.injector.get(dy,!1)){const _=[...a,...f,{provide:d,useValue:!0}];i?i(_):function Pw(i){if(ju&&!ju.get(dy,!1))throw new ee(400,!1);(function lb(){!function Dp(i){qy=i}(()=>{throw new ee(600,!1)})})(),ju=i;const s=i.get(hy);(function Nw(i){i.get(pt,null)?.forEach(a=>a())})(i)}(function ra(i=[],s){return co.create({name:s,providers:[{provide:vg,useValue:"platform"},{provide:Mw,useValue:new Set([()=>ju=null])},...i]})}(_,c))}return function Rw(i){const s=kw();if(!s)throw new ee(401,!1);return s}()}}function kw(){return ju?.get(hy)??null}let hy=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function tM(i="zone.js",s){return"noop"===i?new TS:"zone.js"===i?new li(s):i}(c?.ngZone,function pb(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return d.run(()=>{const f=function ED(i,s,a){return new km(i,s,a)}(a.moduleType,this.injector,function Lw(i){return[{provide:li,useFactory:i},{provide:Ll,multi:!0,useFactory:()=>{const s=ot(yb,{optional:!0});return()=>s.initialize()}},{provide:mb,useFactory:Fw},{provide:Ec,useFactory:PI}]}(()=>d)),y=f.injector.get(fu,null);return d.runOutsideAngular(()=>{const _=d.onError.subscribe({next:I=>{y.handleError(I)}});f.onDestroy(()=>{py(this._modules,f),_.unsubscribe()})}),function fy(i,s,a){try{const c=a();return W_(c)?c.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(y,d,()=>{const _=f.injector.get(gw);return _.runInitializers(),_.donePromise.then(()=>(function Bc(i){tt(i,"Expected localeId to be defined"),"string"==typeof i&&(m0=i.toLowerCase().replace(/_/g,"-"))}(f.injector.get(Vd,_d)||_d),this._moduleDoBootstrap(f),f))})})}bootstrapModule(a,c=[]){const d=gb({},c);return function eM(i,s,a){const c=new P0(a);return Promise.resolve(c)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(a){const c=a.injector.get($u);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new ee(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ee(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(Mw,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(c){return new(c||i)(Qe(co))};static#t=this.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();function gb(i,s){return Array.isArray(s)?s.reduce(gb,i):{...i,...s}}let $u=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ot(mb),this.zoneIsStable=ot(Ec),this.componentTypes=[],this.components=[],this.isStable=ot(Kc).hasPendingTasks.pipe((0,Oe.w)(a=>a?(0,ve.of)(!1):this.zoneIsStable),(0,he.x)(),(0,_e.B)()),this._injector=ot(Qn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const d=a instanceof zl;if(!this._injector.get(gw).done)throw!d&&Do(a),new ee(405,!1);let y;y=d?a:this._injector.get(Dg).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const _=function xw(i){return i.isBoundToModule}(y)?void 0:this._injector.get(Ou),D=y.create(co.NULL,[],c||y.selector,_),S=D.location.nativeElement,L=D.injector.get(cy,null);return L?.registerApplication(S),D.onDestroy(()=>{this.detachView(D.hostView),py(this.components,D),L?.unregisterApplication(S)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new ee(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;py(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(tp,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>py(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new ee(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function py(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}const mb=new zn("",{providedIn:"root",factory:()=>ot(fu).handleError.bind(void 0)});function Fw(){const i=ot(li),s=ot(fu);return a=>i.runOutsideAngular(()=>s.handleError(a))}let yb=(()=>{class i{constructor(){this.zone=ot(li),this.applicationRef=ot($u)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function rM(){return!1}let Vw=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=iM}return i})();function iM(i){return function np(i,s,a){if(Ji(i)&&!a){const c=ji(i.index,s);return new nd(c,c)}return 47&i.type?new nd(s[Tr],s):null}(oi(),Le(),16==(16&i))}class Bw{constructor(){}supports(s){return Yg(s)}create(s){return new bb(s)}}const jw=(i,s)=>s;class bb{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||jw}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,d=0,f=null;for(;a||c;){const y=!c||a&&a.currentIndex<Sb(c,d,f)?a:c,_=Sb(y,d,f),I=y.currentIndex;if(y===c)d--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{f||(f=[]);const D=_-d,S=I-d;if(D!=S){for(let Z=0;Z<D;Z++){const ie=Z<f.length?f[Z]:f[Z]=0,Re=ie+Z;S<=Re&&Re<D&&(f[Z]=ie+1)}f[y.previousIndex]=S-D}}_!==I&&s(y,_,I)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Yg(s))throw new ee(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,y,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let _=0;_<this.length;_++)f=s[_],y=this._trackByFn(_,f),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,f,y,_)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,y,_),c=!0),a=a._next}else d=0,function HS(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Symbol.iterator]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,_=>{y=this._trackByFn(d,_),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,_,y,d)),Object.is(a.item,_)||this._addIdentityChange(a,_)):(a=this._mismatch(a,_,y,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,d)):s=this._addAfter(new jd(a,c),f,d),s}_verifyReinsertion(s,a,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Tb),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Tb),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class jd{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $w{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class Tb{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new $w,this.map.set(a,c)),c.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Sb(i,s,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+s+d}class Ab{constructor(){}supports(s){return s instanceof Map||U_(s)}create(){return new Mb}}class Mb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||U_(s)))throw new ee(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const f=d._prev,y=d._next;return f&&(f._next=y),y&&(y._prev=f),d._next=null,d._prev=null,d}const c=new lM(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class lM{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Hw(){return new Gw([new Bw])}let Gw=(()=>{class i{static#e=this.\u0275prov=yt({token:i,providedIn:"root",factory:Hw});constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||Hw()),deps:[[i,new rt,new ge]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new ee(901,!1)}}return i})();function xb(){return new zw([new Ab])}let zw=(()=>{class i{static#e=this.\u0275prov=yt({token:i,providedIn:"root",factory:xb});constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||xb()),deps:[[i,new rt,new ge]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new ee(901,!1)}}return i})();const Rb=hb(null,"core",[]);let kb=(()=>{class i{constructor(a){}static#e=this.\u0275fac=function(c){return new(c||i)(Qe($u))};static#t=this.\u0275mod=ca({type:i});static#n=this.\u0275inj=jn({})}return i})();function Bb(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function Fa(i){const s=Cn(i);if(!s)return null;const a=new vu(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},3399:(vt,be,A)=>{A.d(be,{Z:()=>Ye});var h=A(9058),U=A(4537),N=A(7592),Y=A(7879);class se{constructor(Ze,Ae){this._delegate=Ze,this.firebase=Ae,(0,N._addComponent)(Ze,new U.wA("app-compat",()=>this,"PUBLIC")),this.container=Ze.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ze){this._delegate.automaticDataCollectionEnabled=Ze}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ze=>{this._delegate.checkDestroyed(),Ze()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(Ze,Ae=N._DEFAULT_ENTRY_NAME){var ht;this._delegate.checkDestroyed();const ft=this._delegate.container.getProvider(Ze);return!ft.isInitialized()&&"EXPLICIT"===(null===(ht=ft.getComponent())||void 0===ht?void 0:ht.instantiationMode)&&ft.initialize(),ft.getImmediate({identifier:Ae})}_removeServiceInstance(Ze,Ae=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ze).clearInstance(Ae)}_addComponent(Ze){(0,N._addComponent)(this._delegate,Ze)}_addOrOverwriteComponent(Ze){(0,N._addOrOverwriteComponent)(this._delegate,Ze)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _e=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function he(){const ke=function Oe(ke){const Ze={},Ae={__esModule:!0,initializeApp:function ee(Be,k={}){const te=N.initializeApp(Be,k);if((0,h.r3)(Ze,te.name))return Ze[te.name];const De=new ke(te,Ae);return Ze[te.name]=De,De},app:ft,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function ue(Be){const k=Be.name,te=k.replace("-compat","");if(N._registerComponent(Be)&&"PUBLIC"===Be.type){const De=(st=ft())=>{if("function"!=typeof st[te])throw _e.create("invalid-app-argument",{appName:k});return st[te]()};void 0!==Be.serviceProps&&(0,h.ZB)(De,Be.serviceProps),Ae[te]=De,ke.prototype[te]=function(...st){return this._getService.bind(this,k).apply(this,Be.multipleInstances?st:[])}}return"PUBLIC"===Be.type?Ae[te]:null},removeApp:function ht(Be){delete Ze[Be]},useAsService:function Me(Be,k){return"serverAuth"===k?null:k},modularAPIs:N}};function ft(Be){if(!(0,h.r3)(Ze,Be=Be||N._DEFAULT_ENTRY_NAME))throw _e.create("no-app",{appName:Be});return Ze[Be]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function Te(){return Object.keys(Ze).map(Be=>Ze[Be])}}),ft.App=ke,Ae}(se);return ke.INTERNAL=Object.assign(Object.assign({},ke.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function Ze(Ae){(0,h.ZB)(ke,Ae)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),ke}(),q=new Y.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ke=self.firebase.SDK_VERSION;ke&&ke.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ye=V;!function Ee(ke){(0,N.registerVersion)("@firebase/app-compat","0.2.13",ke)}()},7592:(vt,be,A)=>{A.r(be),A.d(be,{FirebaseError:()=>Y.ZR,SDK_VERSION:()=>jn,_DEFAULT_ENTRY_NAME:()=>ae,_addComponent:()=>Se,_addOrOverwriteComponent:()=>Ge,_apps:()=>ce,_clearComponents:()=>bt,_components:()=>oe,_getProvider:()=>qe,_registerComponent:()=>tt,_removeServiceInstance:()=>Zt,deleteApp:()=>sr,getApp:()=>_n,getApps:()=>Rn,initializeApp:()=>Ln,onLog:()=>bn,registerVersion:()=>Vn,setLogLevel:()=>tr});var h=A(5861),U=A(4537),N=A(7879),Y=A(9058),se=A(1878);class ve{constructor(W){this.container=W}getPlatformInfoString(){return this.container.getProviders().map(we=>{if(function _e(me){const W=me.getComponent();return"VERSION"===W?.type}(we)){const He=we.getImmediate();return`${He.library}/${He.version}`}return null}).filter(we=>we).join(" ")}}const Oe="@firebase/app",V=new N.Yd("@firebase/app"),ae="[DEFAULT]",fe={[Oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ce=new Map,oe=new Map;function Se(me,W){try{me.container.addComponent(W)}catch(we){V.debug(`Component ${W.name} failed to register with FirebaseApp ${me.name}`,we)}}function Ge(me,W){me.container.addOrOverwriteComponent(W)}function tt(me){const W=me.name;if(oe.has(W))return V.debug(`There were multiple attempts to register component ${W}.`),!1;oe.set(W,me);for(const we of ce.values())Se(we,me);return!0}function qe(me,W){const we=me.container.getProvider("heartbeat").getImmediate({optional:!0});return we&&we.triggerHeartbeat(),me.container.getProvider(W)}function Zt(me,W,we=ae){qe(me,W).clearInstance(we)}function bt(){oe.clear()}const yt=new Y.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class hn{constructor(W,we,He){this._isDeleted=!1,this._options=Object.assign({},W),this._config=Object.assign({},we),this._name=we.name,this._automaticDataCollectionEnabled=we.automaticDataCollectionEnabled,this._container=He,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(W){this.checkDestroyed(),this._automaticDataCollectionEnabled=W}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(W){this._isDeleted=W}checkDestroyed(){if(this.isDeleted)throw yt.create("app-deleted",{appName:this._name})}}const jn="9.23.0";function Ln(me,W={}){let we=me;"object"!=typeof W&&(W={name:W});const He=Object.assign({name:ae,automaticDataCollectionEnabled:!1},W),ct=He.name;if("string"!=typeof ct||!ct)throw yt.create("bad-app-name",{appName:String(ct)});if(we||(we=(0,Y.aH)()),!we)throw yt.create("no-options");const Et=ce.get(ct);if(Et){if((0,Y.vZ)(we,Et.options)&&(0,Y.vZ)(He,Et.config))return Et;throw yt.create("duplicate-app",{appName:ct})}const gn=new U.H0(ct);for(const H of oe.values())gn.addComponent(H);const G=new hn(we,He,gn);return ce.set(ct,G),G}function _n(me=ae){const W=ce.get(me);if(!W&&me===ae&&(0,Y.aH)())return Ln();if(!W)throw yt.create("no-app",{appName:me});return W}function Rn(){return Array.from(ce.values())}function sr(me){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,h.Z)(function*(me){const W=me.name;ce.has(W)&&(ce.delete(W),yield Promise.all(me.container.getProviders().map(we=>we.delete())),me.isDeleted=!0)})).apply(this,arguments)}function Vn(me,W,we){var He;let ct=null!==(He=fe[me])&&void 0!==He?He:me;we&&(ct+=`-${we}`);const Et=ct.match(/\s|\//),gn=W.match(/\s|\//);if(Et||gn){const G=[`Unable to register library "${ct}" with version "${W}":`];return Et&&G.push(`library name "${ct}" contains illegal characters (whitespace or "/")`),Et&&gn&&G.push("and"),gn&&G.push(`version name "${W}" contains illegal characters (whitespace or "/")`),void V.warn(G.join(" "))}tt(new U.wA(`${ct}-version`,()=>({library:ct,version:W}),"VERSION"))}function bn(me,W){if(null!==me&&"function"!=typeof me)throw yt.create("invalid-log-argument");(0,N.Am)(me,W)}function tr(me){(0,N.Ub)(me)}const Gr="firebase-heartbeat-database",wt=1,Ct="firebase-heartbeat-store";let Nt=null;function Rt(){return Nt||(Nt=(0,se.X3)(Gr,wt,{upgrade:(me,W)=>{0===W&&me.createObjectStore(Ct)}}).catch(me=>{throw yt.create("idb-open",{originalErrorMessage:me.message})})),Nt}function fn(){return(fn=(0,h.Z)(function*(me){try{return yield(yield Rt()).transaction(Ct).objectStore(Ct).get(Pr(me))}catch(W){if(W instanceof Y.ZR)V.warn(W.message);else{const we=yt.create("idb-get",{originalErrorMessage:W?.message});V.warn(we.message)}}})).apply(this,arguments)}function Kt(me,W){return pn.apply(this,arguments)}function pn(){return(pn=(0,h.Z)(function*(me,W){try{const He=(yield Rt()).transaction(Ct,"readwrite");yield He.objectStore(Ct).put(W,Pr(me)),yield He.done}catch(we){if(we instanceof Y.ZR)V.warn(we.message);else{const He=yt.create("idb-set",{originalErrorMessage:we?.message});V.warn(He.message)}}})).apply(this,arguments)}function Pr(me){return`${me.name}!${me.options.appId}`}class Xt{constructor(W){this.container=W,this._heartbeatsCache=null;const we=this.container.getProvider("app").getImmediate();this._storage=new or(we),this._heartbeatsCachePromise=this._storage.read().then(He=>(this._heartbeatsCache=He,He))}triggerHeartbeat(){var W=this;return(0,h.Z)(function*(){const He=W.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ct=cn();if(null===W._heartbeatsCache&&(W._heartbeatsCache=yield W._heartbeatsCachePromise),W._heartbeatsCache.lastSentHeartbeatDate!==ct&&!W._heartbeatsCache.heartbeats.some(Et=>Et.date===ct))return W._heartbeatsCache.heartbeats.push({date:ct,agent:He}),W._heartbeatsCache.heartbeats=W._heartbeatsCache.heartbeats.filter(Et=>{const gn=new Date(Et.date).valueOf();return Date.now()-gn<=2592e6}),W._storage.overwrite(W._heartbeatsCache)})()}getHeartbeatsHeader(){var W=this;return(0,h.Z)(function*(){if(null===W._heartbeatsCache&&(yield W._heartbeatsCachePromise),null===W._heartbeatsCache||0===W._heartbeatsCache.heartbeats.length)return"";const we=cn(),{heartbeatsToSend:He,unsentEntries:ct}=function Dr(me,W=1024){const we=[];let He=me.slice();for(const ct of me){const Et=we.find(gn=>gn.agent===ct.agent);if(Et){if(Et.dates.push(ct.date),dr(we)>W){Et.dates.pop();break}}else if(we.push({agent:ct.agent,dates:[ct.date]}),dr(we)>W){we.pop();break}He=He.slice(1)}return{heartbeatsToSend:we,unsentEntries:He}}(W._heartbeatsCache.heartbeats),Et=(0,Y.L)(JSON.stringify({version:2,heartbeats:He}));return W._heartbeatsCache.lastSentHeartbeatDate=we,ct.length>0?(W._heartbeatsCache.heartbeats=ct,yield W._storage.overwrite(W._heartbeatsCache)):(W._heartbeatsCache.heartbeats=[],W._storage.overwrite(W._heartbeatsCache)),Et})()}}function cn(){return(new Date).toISOString().substring(0,10)}class or{constructor(W){this.app=W,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,Y.hl)()&&(0,Y.eu)().then(()=>!0).catch(()=>!1)})()}read(){var W=this;return(0,h.Z)(function*(){return(yield W._canUseIndexedDBPromise)&&(yield function mr(me){return fn.apply(this,arguments)}(W.app))||{heartbeats:[]}})()}overwrite(W){var we=this;return(0,h.Z)(function*(){var He;if(yield we._canUseIndexedDBPromise){const Et=yield we.read();return Kt(we.app,{lastSentHeartbeatDate:null!==(He=W.lastSentHeartbeatDate)&&void 0!==He?He:Et.lastSentHeartbeatDate,heartbeats:W.heartbeats})}})()}add(W){var we=this;return(0,h.Z)(function*(){var He;if(yield we._canUseIndexedDBPromise){const Et=yield we.read();return Kt(we.app,{lastSentHeartbeatDate:null!==(He=W.lastSentHeartbeatDate)&&void 0!==He?He:Et.lastSentHeartbeatDate,heartbeats:[...Et.heartbeats,...W.heartbeats]})}})()}}function dr(me){return(0,Y.L)(JSON.stringify({version:2,heartbeats:me})).length}!function Un(me){tt(new U.wA("platform-logger",W=>new ve(W),"PRIVATE")),tt(new U.wA("heartbeat",W=>new Xt(W),"PRIVATE")),Vn(Oe,"0.9.13",me),Vn(Oe,"0.9.13","esm2017"),Vn("fire-js","")}("")},4097:(vt,be,A)=>{A.d(be,{C6:()=>h.getApps,Mq:()=>h.getApp});var h=A(7592);(0,h.registerVersion)("firebase","9.23.0","app")},120:(vt,be,A)=>{A.d(be,{Z:()=>h.Z});var h=A(3399);h.Z.registerVersion("firebase","9.23.0","app-compat")},8661:(vt,be,A)=>{A.r(be);var h=A(5861),U=A(3399),N=A(6710),Y=A(9058),_e=(A(7592),A(7879),A(4537));function Oe(){return window}function q(){return q=(0,h.Z)(function*(P,R,M){var X;const{BuildInfo:Ne}=Oe();(0,N.as)(R.sessionId,"AuthEvent did not contain a session ID");const Qe=yield function Ae(P){return ht.apply(this,arguments)}(R.sessionId),xt={};return(0,N.at)()?xt.ibi=Ne.packageName:(0,N.au)()?xt.apn=Ne.packageName:(0,N.av)(P,"operation-not-supported-in-this-environment"),Ne.displayName&&(xt.appDisplayName=Ne.displayName),xt.sessionId=Qe,(0,N.aw)(P,M,R.type,void 0,null!==(X=R.eventId)&&void 0!==X?X:void 0,xt)}),q.apply(this,arguments)}function Ue(){return(Ue=(0,h.Z)(function*(P){const{BuildInfo:R}=Oe(),M={};(0,N.at)()?M.iosBundleId=R.packageName:(0,N.au)()?M.androidPackageName=R.packageName:(0,N.av)(P,"operation-not-supported-in-this-environment"),yield(0,N.ax)(P,M)})).apply(this,arguments)}function ke(){return(ke=(0,h.Z)(function*(P,R,M){const{cordova:X}=Oe();let Ne=()=>{};try{yield new Promise((Qe,xt)=>{let ot=null;function mn(){var Yt;Qe();const yr=null===(Yt=X.plugins.browsertab)||void 0===Yt?void 0:Yt.close;"function"==typeof yr&&yr(),"function"==typeof M?.close&&M.close()}function Vt(){ot||(ot=window.setTimeout(()=>{xt((0,N.az)(P,"redirect-cancelled-by-user"))},2e3))}function wn(){"visible"===document?.visibilityState&&Vt()}R.addPassiveListener(mn),document.addEventListener("resume",Vt,!1),(0,N.au)()&&document.addEventListener("visibilitychange",wn,!1),Ne=()=>{R.removePassiveListener(mn),document.removeEventListener("resume",Vt,!1),document.removeEventListener("visibilitychange",wn,!1),ot&&window.clearTimeout(ot)}})}finally{Ne()}})).apply(this,arguments)}function ht(){return(ht=(0,h.Z)(function*(P){const R=function ft(P){if((0,N.as)(/[0-9a-zA-Z]+/.test(P),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(P);const R=new ArrayBuffer(P.length),M=new Uint8Array(R);for(let X=0;X<P.length;X++)M[X]=P.charCodeAt(X);return M}(P),M=yield crypto.subtle.digest("SHA-256",R);return Array.from(new Uint8Array(M)).map(Ne=>Ne.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Te extends N.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(R=>{this.resolveInialized=R})}addPassiveListener(R){this.passiveListeners.add(R)}removePassiveListener(R){this.passiveListeners.delete(R)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(R){return this.resolveInialized(),this.passiveListeners.forEach(M=>M(R)),super.onEvent(R)}initialized(){var R=this;return(0,h.Z)(function*(){yield R.initPromise})()}}function Be(P){return k.apply(this,arguments)}function k(){return(k=(0,h.Z)(function*(P){const R=yield st()._get(Lt(P));return R&&(yield st()._remove(Lt(P))),R})).apply(this,arguments)}function De(){const P=[];for(let M=0;M<20;M++){const X=Math.floor(62*Math.random());P.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(X))}return P.join("")}function st(){return(0,N.aC)(N.b)}function Lt(P){return(0,N.aD)("authEvent",P.config.apiKey,P.name)}function dn(P){if(!P?.includes("?"))return{};const[R,...M]=P.split("?");return(0,Y.zd)(M.join("?"))}const ae=class Gn{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aE,this._overrideRedirectResult=N.aF}_initialize(R){var M=this;return(0,h.Z)(function*(){const X=R._key();let Ne=M.eventManagers.get(X);return Ne||(Ne=new Te(R),M.eventManagers.set(X,Ne),M.attachCallbackListeners(R,Ne)),Ne})()}_openPopup(R){(0,N.av)(R,"operation-not-supported-in-this-environment")}_openRedirect(R,M,X,Ne){var Qe=this;return(0,h.Z)(function*(){!function Ze(P){var R,M,X,Ne,Qe,xt,ot,mn,Vt,wn;const Yt=Oe();(0,N.aA)("function"==typeof(null===(R=Yt?.universalLinks)||void 0===R?void 0:R.subscribe),P,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.aA)(typeof(null===(M=Yt?.BuildInfo)||void 0===M?void 0:M.packageName)<"u",P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.aA)("function"==typeof(null===(Qe=null===(Ne=null===(X=Yt?.cordova)||void 0===X?void 0:X.plugins)||void 0===Ne?void 0:Ne.browsertab)||void 0===Qe?void 0:Qe.openUrl),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aA)("function"==typeof(null===(mn=null===(ot=null===(xt=Yt?.cordova)||void 0===xt?void 0:xt.plugins)||void 0===ot?void 0:ot.browsertab)||void 0===mn?void 0:mn.isAvailable),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aA)("function"==typeof(null===(wn=null===(Vt=Yt?.cordova)||void 0===Vt?void 0:Vt.InAppBrowser)||void 0===wn?void 0:wn.open),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(R);const xt=yield Qe._initialize(R);yield xt.initialized(),xt.resetRedirect(),(0,N.aG)(),yield Qe._originValidation(R);const ot=function ue(P,R,M=null){return{type:R,eventId:M,urlResponse:null,sessionId:De(),postBody:null,tenantId:P.tenantId,error:(0,N.az)(P,"no-auth-event")}}(R,X,Ne);yield function Me(P,R){return st()._set(Lt(P),R)}(R,ot);const mn=yield function V(P,R,M){return q.apply(this,arguments)}(R,ot,M),Vt=yield function Ee(P){const{cordova:R}=Oe();return new Promise(M=>{R.plugins.browsertab.isAvailable(X=>{let Ne=null;X?R.plugins.browsertab.openUrl(P):Ne=R.InAppBrowser.open(P,(0,N.ay)()?"_blank":"_system","location=yes"),M(Ne)})})}(mn);return function Ye(P,R,M){return ke.apply(this,arguments)}(R,xt,Vt)})()}_isIframeWebStorageSupported(R,M){throw new Error("Method not implemented.")}_originValidation(R){const M=R._key();return this.originValidationPromises[M]||(this.originValidationPromises[M]=function ne(P){return Ue.apply(this,arguments)}(R)),this.originValidationPromises[M]}attachCallbackListeners(R,M){const{universalLinks:X,handleOpenURL:Ne,BuildInfo:Qe}=Oe(),xt=setTimeout((0,h.Z)(function*(){yield Be(R),M.onEvent(fe())}),500),ot=function(){var wn=(0,h.Z)(function*(Yt){clearTimeout(xt);const yr=yield Be(R);let K=null;yr&&Yt?.url&&(K=function te(P,R){var M,X;const Ne=function Gt(P){const R=dn(P),M=R.link?decodeURIComponent(R.link):void 0,X=dn(M).link,Ne=R.deep_link_id?decodeURIComponent(R.deep_link_id):void 0;return dn(Ne).link||Ne||X||M||P}(R);if(Ne.includes("/__/auth/callback")){const Qe=dn(Ne),xt=Qe.firebaseError?function Ht(P){try{return JSON.parse(P)}catch{return null}}(decodeURIComponent(Qe.firebaseError)):null,ot=null===(X=null===(M=xt?.code)||void 0===M?void 0:M.split("auth/"))||void 0===X?void 0:X[1],mn=ot?(0,N.az)(ot):null;return mn?{type:P.type,eventId:P.eventId,tenantId:P.tenantId,error:mn,urlResponse:null,sessionId:null,postBody:null}:{type:P.type,eventId:P.eventId,tenantId:P.tenantId,sessionId:P.sessionId,urlResponse:Ne,postBody:null}}return null}(yr,Yt.url)),M.onEvent(K||fe())});return function(yr){return wn.apply(this,arguments)}}();typeof X<"u"&&"function"==typeof X.subscribe&&X.subscribe(null,ot);const mn=Ne,Vt=`${Qe.packageName.toLowerCase()}://`;Oe().handleOpenURL=function(){var wn=(0,h.Z)(function*(Yt){if(Yt.toLowerCase().startsWith(Vt)&&ot({url:Yt}),"function"==typeof mn)try{mn(Yt)}catch(yr){console.error(yr)}});return function(Yt){return wn.apply(this,arguments)}}()}};function fe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.az)("no-auth-event")}}function tt(){var P;return(null===(P=self?.location)||void 0===P?void 0:P.protocol)||null}function Zt(P=(0,Y.z$)()){return!("file:"!==tt()&&"ionic:"!==tt()&&"capacitor:"!==tt()||!P.toLowerCase().match(/iphone|ipad|ipod|android/))}function jn(){try{const P=self.localStorage,R=N.aL();if(P)return P.setItem(R,"1"),P.removeItem(R),!function hn(P=(0,Y.z$)()){return function nn(){return(0,Y.w1)()&&11===document?.documentMode}()||function yt(P=(0,Y.z$)()){return/Edge\/\d+/.test(P)}(P)}()||(0,Y.hl)()}catch{return Ln()&&(0,Y.hl)()}return!1}function Ln(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function _n(){return(function qe(){return"http:"===tt()||"https:"===tt()}()||(0,Y.ru)()||Zt())&&!function bt(){return(0,Y.b$)()||(0,Y.UG)()}()&&jn()&&!Ln()}function Rn(){return Zt()&&typeof document<"u"}function Zn(){return(Zn=(0,h.Z)(function*(){return!!Rn()&&new Promise(P=>{const R=setTimeout(()=>{P(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(R),P(!0)})})})).apply(this,arguments)}const bn={LOCAL:"local",NONE:"none",SESSION:"session"},tr=N.aA,Gr="persistence";function Ct(P){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,h.Z)(function*(P){yield P._initializationPromise;const R=mr(),M=N.aD(Gr,P.config.apiKey,P.name);R&&R.setItem(M,P._getPersistence())})).apply(this,arguments)}function mr(){var P;try{return(null===(P=function Vn(){return typeof window<"u"?window:null}())||void 0===P?void 0:P.sessionStorage)||null}catch{return null}}const fn=N.aA;class Kt{constructor(){this.browserResolver=N.aC(N.k),this.cordovaResolver=N.aC(ae),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aE,this._overrideRedirectResult=N.aF}_initialize(R){var M=this;return(0,h.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._initialize(R)})()}_openPopup(R,M,X,Ne){var Qe=this;return(0,h.Z)(function*(){return yield Qe.selectUnderlyingResolver(),Qe.assertedUnderlyingResolver._openPopup(R,M,X,Ne)})()}_openRedirect(R,M,X,Ne){var Qe=this;return(0,h.Z)(function*(){return yield Qe.selectUnderlyingResolver(),Qe.assertedUnderlyingResolver._openRedirect(R,M,X,Ne)})()}_isIframeWebStorageSupported(R,M){this.assertedUnderlyingResolver._isIframeWebStorageSupported(R,M)}_originValidation(R){return this.assertedUnderlyingResolver._originValidation(R)}get _shouldInitProactively(){return Rn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return fn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var R=this;return(0,h.Z)(function*(){if(R.underlyingResolver)return;const M=yield function sr(){return Zn.apply(this,arguments)}();R.underlyingResolver=M?R.cordovaResolver:R.browserResolver})()}}function pn(P){return P.unwrap()}function rn(P){return Xt(P)}function Xt(P){const{_tokenResponse:R}=P instanceof Y.ZR?P.customData:P;if(!R)return null;if(!(P instanceof Y.ZR)&&"temporaryProof"in R&&"phoneNumber"in R)return N.P.credentialFromResult(P);const M=R.providerId;if(!M||M===N.p.PASSWORD)return null;let X;switch(M){case N.p.GOOGLE:X=N.V;break;case N.p.FACEBOOK:X=N.U;break;case N.p.GITHUB:X=N.W;break;case N.p.TWITTER:X=N.Z;break;default:const{oauthIdToken:Ne,oauthAccessToken:Qe,oauthTokenSecret:xt,pendingToken:ot,nonce:mn}=R;return Qe||xt||Ne||ot?ot?M.startsWith("saml.")?N.aO._create(M,ot):N.L._fromParams({providerId:M,signInMethod:M,pendingToken:ot,idToken:Ne,accessToken:Qe}):new N.X(M).credential({idToken:Ne,accessToken:Qe,rawNonce:mn}):null}return P instanceof Y.ZR?X.credentialFromError(P):X.credentialFromResult(P)}function cn(P,R){return R.catch(M=>{throw M instanceof Y.ZR&&function fi(P,R){var M;const X=null===(M=R.customData)||void 0===M?void 0:M._tokenResponse;if("auth/multi-factor-auth-required"===R?.code)R.resolver=new dr(P,N.aq(P,R));else if(X){const Ne=Xt(R),Qe=R;Ne&&(Qe.credential=Ne,Qe.tenantId=X.tenantId||void 0,Qe.email=X.email||void 0,Qe.phoneNumber=X.phoneNumber||void 0)}}(P,M),M}).then(M=>{const Ne=M.user;return{operationType:M.operationType,credential:rn(M),additionalUserInfo:N.ao(M),user:Un.getOrCreate(Ne)}})}function Dr(P,R){return or.apply(this,arguments)}function or(){return(or=(0,h.Z)(function*(P,R){const M=yield R;return{verificationId:M.verificationId,confirm:X=>cn(P,M.confirm(X))}})).apply(this,arguments)}class dr{constructor(R,M){this.resolver=M,this.auth=function Pr(P){return P.wrapped()}(R)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(R){return cn(pn(this.auth),this.resolver.resolveSignIn(R))}}class Un{constructor(R){this._delegate=R,this.multiFactor=N.ar(R)}static getOrCreate(R){return Un.USER_MAP.has(R)||Un.USER_MAP.set(R,new Un(R)),Un.USER_MAP.get(R)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(R){return this._delegate.getIdTokenResult(R)}getIdToken(R){return this._delegate.getIdToken(R)}linkAndRetrieveDataWithCredential(R){return this.linkWithCredential(R)}linkWithCredential(R){var M=this;return(0,h.Z)(function*(){return cn(M.auth,N.a0(M._delegate,R))})()}linkWithPhoneNumber(R,M){var X=this;return(0,h.Z)(function*(){return Dr(X.auth,N.l(X._delegate,R,M))})()}linkWithPopup(R){var M=this;return(0,h.Z)(function*(){return cn(M.auth,N.d(M._delegate,R,Kt))})()}linkWithRedirect(R){var M=this;return(0,h.Z)(function*(){return yield Ct(N.aH(M.auth)),N.g(M._delegate,R,Kt)})()}reauthenticateAndRetrieveDataWithCredential(R){return this.reauthenticateWithCredential(R)}reauthenticateWithCredential(R){var M=this;return(0,h.Z)(function*(){return cn(M.auth,N.a1(M._delegate,R))})()}reauthenticateWithPhoneNumber(R,M){return Dr(this.auth,N.r(this._delegate,R,M))}reauthenticateWithPopup(R){return cn(this.auth,N.e(this._delegate,R,Kt))}reauthenticateWithRedirect(R){var M=this;return(0,h.Z)(function*(){return yield Ct(N.aH(M.auth)),N.h(M._delegate,R,Kt)})()}sendEmailVerification(R){return N.ae(this._delegate,R)}unlink(R){var M=this;return(0,h.Z)(function*(){return yield N.an(M._delegate,R),M})()}updateEmail(R){return N.aj(this._delegate,R)}updatePassword(R){return N.ak(this._delegate,R)}updatePhoneNumber(R){return N.u(this._delegate,R)}updateProfile(R){return N.ai(this._delegate,R)}verifyBeforeUpdateEmail(R,M){return N.af(this._delegate,R,M)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Un.USER_MAP=new WeakMap;const me=N.aA;let W=(()=>{class P{constructor(M,X){if(this.app=M,X.isInitialized())return this._delegate=X.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ne}=M.options;me(Ne,"invalid-api-key",{appName:M.name}),me(Ne,"invalid-api-key",{appName:M.name});const Qe=typeof window<"u"?Kt:void 0;this._delegate=X.initialize({options:{persistence:He(Ne,M.name),popupRedirectResolver:Qe}}),this._delegate._updateErrorMap(N.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Un.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(M){this._delegate.languageCode=M}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(M){this._delegate.tenantId=M}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(M,X){N.I(this._delegate,M,X)}applyActionCode(M){return N.a5(this._delegate,M)}checkActionCode(M){return N.a6(this._delegate,M)}confirmPasswordReset(M,X){return N.a4(this._delegate,M,X)}createUserWithEmailAndPassword(M,X){var Ne=this;return(0,h.Z)(function*(){return cn(Ne._delegate,N.a8(Ne._delegate,M,X))})()}fetchProvidersForEmail(M){return this.fetchSignInMethodsForEmail(M)}fetchSignInMethodsForEmail(M){return N.ad(this._delegate,M)}isSignInWithEmailLink(M){return N.ab(this._delegate,M)}getRedirectResult(){var M=this;return(0,h.Z)(function*(){me(_n(),M._delegate,"operation-not-supported-in-this-environment");const X=yield N.j(M._delegate,Kt);return X?cn(M._delegate,Promise.resolve(X)):{credential:null,user:null}})()}addFrameworkForLogging(M){!function ce(P,R){(0,N.aH)(P)._logFramework(R)}(this._delegate,M)}onAuthStateChanged(M,X,Ne){const{next:Qe,error:xt,complete:ot}=we(M,X,Ne);return this._delegate.onAuthStateChanged(Qe,xt,ot)}onIdTokenChanged(M,X,Ne){const{next:Qe,error:xt,complete:ot}=we(M,X,Ne);return this._delegate.onIdTokenChanged(Qe,xt,ot)}sendSignInLinkToEmail(M,X){return N.aa(this._delegate,M,X)}sendPasswordResetEmail(M,X){return N.a3(this._delegate,M,X||void 0)}setPersistence(M){var X=this;return(0,h.Z)(function*(){let Ne;switch(function wt(P,R){tr(Object.values(bn).includes(R),P,"invalid-persistence-type"),(0,Y.b$)()?tr(R!==bn.SESSION,P,"unsupported-persistence-type"):(0,Y.UG)()?tr(R===bn.NONE,P,"unsupported-persistence-type"):Ln()?tr(R===bn.NONE||R===bn.LOCAL&&(0,Y.hl)(),P,"unsupported-persistence-type"):tr(R===bn.NONE||jn(),P,"unsupported-persistence-type")}(X._delegate,M),M){case bn.SESSION:Ne=N.a;break;case bn.LOCAL:Ne=(yield N.aC(N.i)._isAvailable())?N.i:N.b;break;case bn.NONE:Ne=N.N;break;default:return N.av("argument-error",{appName:X._delegate.name})}return X._delegate.setPersistence(Ne)})()}signInAndRetrieveDataWithCredential(M){return this.signInWithCredential(M)}signInAnonymously(){return cn(this._delegate,N._(this._delegate))}signInWithCredential(M){return cn(this._delegate,N.$(this._delegate,M))}signInWithCustomToken(M){return cn(this._delegate,N.a2(this._delegate,M))}signInWithEmailAndPassword(M,X){return cn(this._delegate,N.a9(this._delegate,M,X))}signInWithEmailLink(M,X){return cn(this._delegate,N.ac(this._delegate,M,X))}signInWithPhoneNumber(M,X){return Dr(this._delegate,N.s(this._delegate,M,X))}signInWithPopup(M){var X=this;return(0,h.Z)(function*(){return me(_n(),X._delegate,"operation-not-supported-in-this-environment"),cn(X._delegate,N.c(X._delegate,M,Kt))})()}signInWithRedirect(M){var X=this;return(0,h.Z)(function*(){return me(_n(),X._delegate,"operation-not-supported-in-this-environment"),yield Ct(X._delegate),N.f(X._delegate,M,Kt)})()}updateCurrentUser(M){return this._delegate.updateCurrentUser(M)}verifyPasswordResetCode(M){return N.a7(this._delegate,M)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return P.Persistence=bn,P})();function we(P,R,M){let X=P;"function"!=typeof P&&({next:X,error:R,complete:M}=P);const Ne=X;return{next:xt=>Ne(xt&&Un.getOrCreate(xt)),error:R,complete:M}}function He(P,R){const M=function Rt(P,R){const M=mr();if(!M)return[];const X=N.aD(Gr,P,R);switch(M.getItem(X)){case bn.NONE:return[N.N];case bn.LOCAL:return[N.i,N.a];case bn.SESSION:return[N.a];default:return[]}}(P,R);if(typeof self<"u"&&!M.includes(N.i)&&M.push(N.i),typeof window<"u")for(const X of[N.b,N.a])M.includes(X)||M.push(X);return M.includes(N.N)||M.push(N.N),M}class ct{constructor(){this.providerId="phone",this._delegate=new N.P(pn(U.Z.auth()))}static credential(R,M){return N.P.credential(R,M)}verifyPhoneNumber(R,M){return this._delegate.verifyPhoneNumber(R,M)}unwrap(){return this._delegate}}ct.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,ct.PROVIDER_ID=N.P.PROVIDER_ID;const Et=N.aA;class gn{constructor(R,M,X=U.Z.app()){var Ne;Et(null===(Ne=X.options)||void 0===Ne?void 0:Ne.apiKey,"invalid-api-key",{appName:X.name}),this._delegate=new N.R(R,M,X.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function H(P){P.INTERNAL.registerComponent(new _e.wA("auth-compat",R=>{const M=R.getProvider("app-compat").getImmediate(),X=R.getProvider("auth");return new W(M,X)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.Q,FacebookAuthProvider:N.U,GithubAuthProvider:N.W,GoogleAuthProvider:N.V,OAuthProvider:N.X,SAMLAuthProvider:N.Y,PhoneAuthProvider:ct,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:gn,TwitterAuthProvider:N.Z,Auth:W,AuthCredential:N.J,Error:Y.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),P.registerVersion("@firebase/auth-compat","0.4.2")}(U.Z)},9519:(vt,be,A)=>{A.d(be,{Gb:()=>h.Gb});var h=A(2650)},4303:(vt,be,A)=>{A.r(be),A.d(be,{FirebaseError:()=>Y.ZR,SDK_VERSION:()=>jn,_DEFAULT_ENTRY_NAME:()=>ae,_addComponent:()=>Se,_addOrOverwriteComponent:()=>Ge,_apps:()=>ce,_clearComponents:()=>bt,_components:()=>oe,_getProvider:()=>qe,_registerComponent:()=>tt,_removeServiceInstance:()=>Zt,deleteApp:()=>sr,getApp:()=>_n,getApps:()=>Rn,initializeApp:()=>Ln,onLog:()=>bn,registerVersion:()=>Vn,setLogLevel:()=>tr});var h=A(5861),U=A(4537),N=A(7879),Y=A(9058),se=A(1878);class ve{constructor(W){this.container=W}getPlatformInfoString(){return this.container.getProviders().map(we=>{if(function _e(me){const W=me.getComponent();return"VERSION"===W?.type}(we)){const He=we.getImmediate();return`${He.library}/${He.version}`}return null}).filter(we=>we).join(" ")}}const Oe="@firebase/app",V=new N.Yd("@firebase/app"),ae="[DEFAULT]",fe={[Oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ce=new Map,oe=new Map;function Se(me,W){try{me.container.addComponent(W)}catch(we){V.debug(`Component ${W.name} failed to register with FirebaseApp ${me.name}`,we)}}function Ge(me,W){me.container.addOrOverwriteComponent(W)}function tt(me){const W=me.name;if(oe.has(W))return V.debug(`There were multiple attempts to register component ${W}.`),!1;oe.set(W,me);for(const we of ce.values())Se(we,me);return!0}function qe(me,W){const we=me.container.getProvider("heartbeat").getImmediate({optional:!0});return we&&we.triggerHeartbeat(),me.container.getProvider(W)}function Zt(me,W,we=ae){qe(me,W).clearInstance(we)}function bt(){oe.clear()}const yt=new Y.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class hn{constructor(W,we,He){this._isDeleted=!1,this._options=Object.assign({},W),this._config=Object.assign({},we),this._name=we.name,this._automaticDataCollectionEnabled=we.automaticDataCollectionEnabled,this._container=He,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(W){this.checkDestroyed(),this._automaticDataCollectionEnabled=W}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(W){this._isDeleted=W}checkDestroyed(){if(this.isDeleted)throw yt.create("app-deleted",{appName:this._name})}}const jn="10.4.0";function Ln(me,W={}){let we=me;"object"!=typeof W&&(W={name:W});const He=Object.assign({name:ae,automaticDataCollectionEnabled:!1},W),ct=He.name;if("string"!=typeof ct||!ct)throw yt.create("bad-app-name",{appName:String(ct)});if(we||(we=(0,Y.aH)()),!we)throw yt.create("no-options");const Et=ce.get(ct);if(Et){if((0,Y.vZ)(we,Et.options)&&(0,Y.vZ)(He,Et.config))return Et;throw yt.create("duplicate-app",{appName:ct})}const gn=new U.H0(ct);for(const H of oe.values())gn.addComponent(H);const G=new hn(we,He,gn);return ce.set(ct,G),G}function _n(me=ae){const W=ce.get(me);if(!W&&me===ae&&(0,Y.aH)())return Ln();if(!W)throw yt.create("no-app",{appName:me});return W}function Rn(){return Array.from(ce.values())}function sr(me){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,h.Z)(function*(me){const W=me.name;ce.has(W)&&(ce.delete(W),yield Promise.all(me.container.getProviders().map(we=>we.delete())),me.isDeleted=!0)})).apply(this,arguments)}function Vn(me,W,we){var He;let ct=null!==(He=fe[me])&&void 0!==He?He:me;we&&(ct+=`-${we}`);const Et=ct.match(/\s|\//),gn=W.match(/\s|\//);if(Et||gn){const G=[`Unable to register library "${ct}" with version "${W}":`];return Et&&G.push(`library name "${ct}" contains illegal characters (whitespace or "/")`),Et&&gn&&G.push("and"),gn&&G.push(`version name "${W}" contains illegal characters (whitespace or "/")`),void V.warn(G.join(" "))}tt(new U.wA(`${ct}-version`,()=>({library:ct,version:W}),"VERSION"))}function bn(me,W){if(null!==me&&"function"!=typeof me)throw yt.create("invalid-log-argument");(0,N.Am)(me,W)}function tr(me){(0,N.Ub)(me)}const Gr="firebase-heartbeat-database",wt=1,Ct="firebase-heartbeat-store";let Nt=null;function Rt(){return Nt||(Nt=(0,se.X3)(Gr,wt,{upgrade:(me,W)=>{0===W&&me.createObjectStore(Ct)}}).catch(me=>{throw yt.create("idb-open",{originalErrorMessage:me.message})})),Nt}function fn(){return(fn=(0,h.Z)(function*(me){try{return yield(yield Rt()).transaction(Ct).objectStore(Ct).get(Pr(me))}catch(W){if(W instanceof Y.ZR)V.warn(W.message);else{const we=yt.create("idb-get",{originalErrorMessage:W?.message});V.warn(we.message)}}})).apply(this,arguments)}function Kt(me,W){return pn.apply(this,arguments)}function pn(){return(pn=(0,h.Z)(function*(me,W){try{const He=(yield Rt()).transaction(Ct,"readwrite");yield He.objectStore(Ct).put(W,Pr(me)),yield He.done}catch(we){if(we instanceof Y.ZR)V.warn(we.message);else{const He=yt.create("idb-set",{originalErrorMessage:we?.message});V.warn(He.message)}}})).apply(this,arguments)}function Pr(me){return`${me.name}!${me.options.appId}`}class Xt{constructor(W){this.container=W,this._heartbeatsCache=null;const we=this.container.getProvider("app").getImmediate();this._storage=new or(we),this._heartbeatsCachePromise=this._storage.read().then(He=>(this._heartbeatsCache=He,He))}triggerHeartbeat(){var W=this;return(0,h.Z)(function*(){const He=W.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ct=cn();if(null===W._heartbeatsCache&&(W._heartbeatsCache=yield W._heartbeatsCachePromise),W._heartbeatsCache.lastSentHeartbeatDate!==ct&&!W._heartbeatsCache.heartbeats.some(Et=>Et.date===ct))return W._heartbeatsCache.heartbeats.push({date:ct,agent:He}),W._heartbeatsCache.heartbeats=W._heartbeatsCache.heartbeats.filter(Et=>{const gn=new Date(Et.date).valueOf();return Date.now()-gn<=2592e6}),W._storage.overwrite(W._heartbeatsCache)})()}getHeartbeatsHeader(){var W=this;return(0,h.Z)(function*(){if(null===W._heartbeatsCache&&(yield W._heartbeatsCachePromise),null===W._heartbeatsCache||0===W._heartbeatsCache.heartbeats.length)return"";const we=cn(),{heartbeatsToSend:He,unsentEntries:ct}=function Dr(me,W=1024){const we=[];let He=me.slice();for(const ct of me){const Et=we.find(gn=>gn.agent===ct.agent);if(Et){if(Et.dates.push(ct.date),dr(we)>W){Et.dates.pop();break}}else if(we.push({agent:ct.agent,dates:[ct.date]}),dr(we)>W){we.pop();break}He=He.slice(1)}return{heartbeatsToSend:we,unsentEntries:He}}(W._heartbeatsCache.heartbeats),Et=(0,Y.L)(JSON.stringify({version:2,heartbeats:He}));return W._heartbeatsCache.lastSentHeartbeatDate=we,ct.length>0?(W._heartbeatsCache.heartbeats=ct,yield W._storage.overwrite(W._heartbeatsCache)):(W._heartbeatsCache.heartbeats=[],W._storage.overwrite(W._heartbeatsCache)),Et})()}}function cn(){return(new Date).toISOString().substring(0,10)}class or{constructor(W){this.app=W,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,Y.hl)()&&(0,Y.eu)().then(()=>!0).catch(()=>!1)})()}read(){var W=this;return(0,h.Z)(function*(){return(yield W._canUseIndexedDBPromise)&&(yield function mr(me){return fn.apply(this,arguments)}(W.app))||{heartbeats:[]}})()}overwrite(W){var we=this;return(0,h.Z)(function*(){var He;if(yield we._canUseIndexedDBPromise){const Et=yield we.read();return Kt(we.app,{lastSentHeartbeatDate:null!==(He=W.lastSentHeartbeatDate)&&void 0!==He?He:Et.lastSentHeartbeatDate,heartbeats:W.heartbeats})}})()}add(W){var we=this;return(0,h.Z)(function*(){var He;if(yield we._canUseIndexedDBPromise){const Et=yield we.read();return Kt(we.app,{lastSentHeartbeatDate:null!==(He=W.lastSentHeartbeatDate)&&void 0!==He?He:Et.lastSentHeartbeatDate,heartbeats:[...Et.heartbeats,...W.heartbeats]})}})()}}function dr(me){return(0,Y.L)(JSON.stringify({version:2,heartbeats:me})).length}!function Un(me){tt(new U.wA("platform-logger",W=>new ve(W),"PRIVATE")),tt(new U.wA("heartbeat",W=>new Xt(W),"PRIVATE")),Vn(Oe,"0.9.19",me),Vn(Oe,"0.9.19","esm2017"),Vn("fire-js","")}("")},4537:(vt,be,A)=>{A.d(be,{H0:()=>Oe,wA:()=>N});var h=A(5861),U=A(9058);class N{constructor(V,q,ne){this.name=V,this.instanceFactory=q,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}const Y="[DEFAULT]";class se{constructor(V,q){this.name=V,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(V){const q=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(q)){const ne=new U.BH;if(this.instancesDeferred.set(q,ne),this.isInitialized(q)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:q});Ue&&ne.resolve(Ue)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(V){var q;const ne=this.normalizeInstanceIdentifier(V?.identifier),Ue=null!==(q=V?.optional)&&void 0!==q&&q;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(Ee){if(Ue)return null;throw Ee}}getComponent(){return this.component}setComponent(V){if(V.name!==this.name)throw Error(`Mismatching Component ${V.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=V,this.shouldAutoInitialize()){if(function _e(he){return"EAGER"===he.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:Y})}catch{}for(const[q,ne]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(q);try{const Ee=this.getOrInitializeService({instanceIdentifier:Ue});ne.resolve(Ee)}catch{}}}}clearInstance(V=Y){this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)}delete(){var V=this;return(0,h.Z)(function*(){const q=Array.from(V.instances.values());yield Promise.all([...q.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...q.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(V=Y){return this.instances.has(V)}getOptions(V=Y){return this.instancesOptions.get(V)||{}}initialize(V={}){const{options:q={}}=V,ne=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:ne,options:q});for(const[Ee,Ye]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(Ee)&&Ye.resolve(Ue);return Ue}onInit(V,q){var ne;const Ue=this.normalizeInstanceIdentifier(q),Ee=null!==(ne=this.onInitCallbacks.get(Ue))&&void 0!==ne?ne:new Set;Ee.add(V),this.onInitCallbacks.set(Ue,Ee);const Ye=this.instances.get(Ue);return Ye&&V(Ye,Ue),()=>{Ee.delete(V)}}invokeOnInitCallbacks(V,q){const ne=this.onInitCallbacks.get(q);if(ne)for(const Ue of ne)try{Ue(V,q)}catch{}}getOrInitializeService({instanceIdentifier:V,options:q={}}){let ne=this.instances.get(V);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(he=V,he===Y?void 0:he),options:q}),this.instances.set(V,ne),this.instancesOptions.set(V,q),this.invokeOnInitCallbacks(ne,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,ne)}catch{}var he;return ne||null}normalizeInstanceIdentifier(V=Y){return this.component?this.component.multipleInstances?V:Y:V}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Oe{constructor(V){this.name=V,this.providers=new Map}addComponent(V){const q=this.getProvider(V.name);if(q.isComponentSet())throw new Error(`Component ${V.name} has already been registered with ${this.name}`);q.setComponent(V)}addOrOverwriteComponent(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)}getProvider(V){if(this.providers.has(V))return this.providers.get(V);const q=new se(V,this);return this.providers.set(V,q),q}getProviders(){return Array.from(this.providers.values())}}},2591:(vt,be,A)=>{var h=A(5861),U=A(4303),N=A(4537),Y=A(9058);const se=($,re)=>re.some(xe=>$ instanceof xe);let ve,_e;const V=new WeakMap,q=new WeakMap,ne=new WeakMap,Ue=new WeakMap,Ee=new WeakMap;let Ze={get($,re,xe){if($ instanceof IDBTransaction){if("done"===re)return q.get($);if("objectStoreNames"===re)return $.objectStoreNames||ne.get($);if("store"===re)return xe.objectStoreNames[1]?void 0:xe.objectStore(xe.objectStoreNames[0])}return ee($[re])},set:($,re,xe)=>($[re]=xe,!0),has:($,re)=>$ instanceof IDBTransaction&&("done"===re||"store"===re)||re in $};function ft($){return"function"==typeof $?function ht($){return $!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return _e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes($)?function(...re){return $.apply(Te(this),re),ee(V.get(this))}:function(...re){return ee($.apply(Te(this),re))}:function(re,...xe){const gt=$.call(Te(this),re,...xe);return ne.set(gt,re.sort?re.sort():[re]),ee(gt)}}($):($ instanceof IDBTransaction&&function ke($){if(q.has($))return;const re=new Promise((xe,gt)=>{const En=()=>{$.removeEventListener("complete",In),$.removeEventListener("error",en),$.removeEventListener("abort",en)},In=()=>{xe(),En()},en=()=>{gt($.error||new DOMException("AbortError","AbortError")),En()};$.addEventListener("complete",In),$.addEventListener("error",en),$.addEventListener("abort",en)});q.set($,re)}($),se($,function Oe(){return ve||(ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy($,Ze):$)}function ee($){if($ instanceof IDBRequest)return function Ye($){const re=new Promise((xe,gt)=>{const En=()=>{$.removeEventListener("success",In),$.removeEventListener("error",en)},In=()=>{xe(ee($.result)),En()},en=()=>{gt($.error),En()};$.addEventListener("success",In),$.addEventListener("error",en)});return re.then(xe=>{xe instanceof IDBCursor&&V.set(xe,$)}).catch(()=>{}),Ee.set(re,$),re}($);if(Ue.has($))return Ue.get($);const re=ft($);return re!==$&&(Ue.set($,re),Ee.set(re,$)),re}const Te=$=>Ee.get($),Be=["get","getKey","getAll","getAllKeys","count"],k=["put","add","delete","clear"],te=new Map;function De($,re){if(!($ instanceof IDBDatabase)||re in $||"string"!=typeof re)return;if(te.get(re))return te.get(re);const xe=re.replace(/FromIndex$/,""),gt=re!==xe,En=k.includes(xe);if(!(xe in(gt?IDBIndex:IDBObjectStore).prototype)||!En&&!Be.includes(xe))return;const In=function(){var en=(0,h.Z)(function*(nr,...hr){const Rr=this.transaction(nr,En?"readwrite":"readonly");let us=Rr.store;return gt&&(us=us.index(hr.shift())),(yield Promise.all([us[xe](...hr),En&&Rr.done]))[0]});return function(hr){return en.apply(this,arguments)}}();return te.set(re,In),In}!function Ae($){Ze=$(Ze)}($=>({...$,get:(re,xe,gt)=>De(re,xe)||$.get(re,xe,gt),has:(re,xe)=>!!De(re,xe)||$.has(re,xe)}));const st="@firebase/installations",Lt="0.6.4",Ht=1e4,Gt=`w:${Lt}`,dn="FIS_v2",Jt="https://firebaseinstallations.googleapis.com/v1",Gn=36e5,oe=new Y.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Se($){return $ instanceof Y.ZR&&$.code.includes("request-failed")}function Ge({projectId:$}){return`${Jt}/projects/${$}/installations`}function tt($){return{token:$.token,requestStatus:2,expiresIn:jn($.expiresIn),creationTime:Date.now()}}function qe($,re){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,h.Z)(function*($,re){const gt=(yield re.json()).error;return oe.create("request-failed",{requestName:$,serverCode:gt.code,serverMessage:gt.message,serverStatus:gt.status})})).apply(this,arguments)}function bt({apiKey:$}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":$})}function yt($){return hn.apply(this,arguments)}function hn(){return(hn=(0,h.Z)(function*($){const re=yield $();return re.status>=500&&re.status<600?$():re})).apply(this,arguments)}function jn($){return Number($.replace("s","000"))}function Rn(){return(Rn=(0,h.Z)(function*({appConfig:$,heartbeatServiceProvider:re},{fid:xe}){const gt=Ge($),En=bt($),In=re.getImmediate({optional:!0});if(In){const Rr=yield In.getHeartbeatsHeader();Rr&&En.append("x-firebase-client",Rr)}const nr={method:"POST",headers:En,body:JSON.stringify({fid:xe,authVersion:dn,appId:$.appId,sdkVersion:Gt})},hr=yield yt(()=>fetch(gt,nr));if(hr.ok){const Rr=yield hr.json();return{fid:Rr.fid||xe,registrationStatus:2,refreshToken:Rr.refreshToken,authToken:tt(Rr.authToken)}}throw yield qe("Create Installation",hr)})).apply(this,arguments)}function sr($){return new Promise(re=>{setTimeout(re,$)})}const Vn=/^[cdef][\w-]{21}$/,bn="";function tr(){try{const $=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues($),$[0]=112+$[0]%16;const xe=function Gr($){return function Zn($){return btoa(String.fromCharCode(...$)).replace(/\+/g,"-").replace(/\//g,"_")}($).substr(0,22)}($);return Vn.test(xe)?xe:bn}catch{return bn}}function wt($){return`${$.appName}!${$.appId}`}const Ct=new Map;function Nt($,re){const xe=wt($);fn(xe,re),function Kt($,re){const xe=function Pr(){return!pn&&"BroadcastChannel"in self&&(pn=new BroadcastChannel("[Firebase] FID Change"),pn.onmessage=$=>{fn($.data.key,$.data.fid)}),pn}();xe&&xe.postMessage({key:$,fid:re}),function rn(){0===Ct.size&&pn&&(pn.close(),pn=null)}()}(xe,re)}function fn($,re){const xe=Ct.get($);if(xe)for(const gt of xe)gt(re)}let pn=null;const fi="firebase-installations-database",Xt=1,cn="firebase-installations-store";let Dr=null;function or(){return Dr||(Dr=function ue($,re,{blocked:xe,upgrade:gt,blocking:En,terminated:In}={}){const en=indexedDB.open($,re),nr=ee(en);return gt&&en.addEventListener("upgradeneeded",hr=>{gt(ee(en.result),hr.oldVersion,hr.newVersion,ee(en.transaction))}),xe&&en.addEventListener("blocked",()=>xe()),nr.then(hr=>{In&&hr.addEventListener("close",()=>In()),En&&hr.addEventListener("versionchange",()=>En())}).catch(()=>{}),nr}(fi,Xt,{upgrade:($,re)=>{0===re&&$.createObjectStore(cn)}})),Dr}function dr($,re){return Un.apply(this,arguments)}function Un(){return(Un=(0,h.Z)(function*($,re){const xe=wt($),En=(yield or()).transaction(cn,"readwrite"),In=En.objectStore(cn),en=yield In.get(xe);return yield In.put(re,xe),yield En.done,(!en||en.fid!==re.fid)&&Nt($,re.fid),re})).apply(this,arguments)}function me($){return W.apply(this,arguments)}function W(){return(W=(0,h.Z)(function*($){const re=wt($),gt=(yield or()).transaction(cn,"readwrite");yield gt.objectStore(cn).delete(re),yield gt.done})).apply(this,arguments)}function we($,re){return He.apply(this,arguments)}function He(){return(He=(0,h.Z)(function*($,re){const xe=wt($),En=(yield or()).transaction(cn,"readwrite"),In=En.objectStore(cn),en=yield In.get(xe),nr=re(en);return void 0===nr?yield In.delete(xe):yield In.put(nr,xe),yield En.done,nr&&(!en||en.fid!==nr.fid)&&Nt($,nr.fid),nr})).apply(this,arguments)}function ct($){return Et.apply(this,arguments)}function Et(){return Et=(0,h.Z)(function*($){let re;const xe=yield we($.appConfig,gt=>{const En=function gn($){return Ne($||{fid:tr(),registrationStatus:0})}(gt),In=function G($,re){if(0===re.registrationStatus){if(!navigator.onLine)return{installationEntry:re,registrationPromise:Promise.reject(oe.create("app-offline"))};const xe={fid:re.fid,registrationStatus:1,registrationTime:Date.now()},gt=function H($,re){return P.apply(this,arguments)}($,xe);return{installationEntry:xe,registrationPromise:gt}}return 1===re.registrationStatus?{installationEntry:re,registrationPromise:R($)}:{installationEntry:re}}($,En);return re=In.registrationPromise,In.installationEntry});return xe.fid===bn?{installationEntry:yield re}:{installationEntry:xe,registrationPromise:re}}),Et.apply(this,arguments)}function P(){return P=(0,h.Z)(function*($,re){try{const xe=yield function _n($,re){return Rn.apply(this,arguments)}($,re);return dr($.appConfig,xe)}catch(xe){throw Se(xe)&&409===xe.customData.serverCode?yield me($.appConfig):yield dr($.appConfig,{fid:re.fid,registrationStatus:0}),xe}}),P.apply(this,arguments)}function R($){return M.apply(this,arguments)}function M(){return(M=(0,h.Z)(function*($){let re=yield X($.appConfig);for(;1===re.registrationStatus;)yield sr(100),re=yield X($.appConfig);if(0===re.registrationStatus){const{installationEntry:xe,registrationPromise:gt}=yield ct($);return gt||xe}return re})).apply(this,arguments)}function X($){return we($,re=>{if(!re)throw oe.create("installation-not-found");return Ne(re)})}function Ne($){return function Qe($){return 1===$.registrationStatus&&$.registrationTime+Ht<Date.now()}($)?{fid:$.fid,registrationStatus:0}:$}function ot(){return(ot=(0,h.Z)(function*({appConfig:$,heartbeatServiceProvider:re},xe){const gt=function mn($,{fid:re}){return`${Ge($)}/${re}/authTokens:generate`}($,xe),En=function nn($,{refreshToken:re}){const xe=bt($);return xe.append("Authorization",function Ln($){return`${dn} ${$}`}(re)),xe}($,xe),In=re.getImmediate({optional:!0});if(In){const Rr=yield In.getHeartbeatsHeader();Rr&&En.append("x-firebase-client",Rr)}const nr={method:"POST",headers:En,body:JSON.stringify({installation:{sdkVersion:Gt,appId:$.appId}})},hr=yield yt(()=>fetch(gt,nr));if(hr.ok)return tt(yield hr.json());throw yield qe("Generate Auth Token",hr)})).apply(this,arguments)}function Vt($){return wn.apply(this,arguments)}function wn(){return wn=(0,h.Z)(function*($,re=!1){let xe;const gt=yield we($.appConfig,In=>{if(!at(In))throw oe.create("not-registered");const en=In.authToken;if(!re&&function Ot($){return 2===$.requestStatus&&!function lt($){const re=Date.now();return re<$.creationTime||$.creationTime+$.expiresIn<re+Gn}($)}(en))return In;if(1===en.requestStatus)return xe=function Yt($,re){return yr.apply(this,arguments)}($,re),In;{if(!navigator.onLine)throw oe.create("app-offline");const nr=function Tn($){const re={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},$),{authToken:re})}(In);return xe=function de($,re){return nt.apply(this,arguments)}($,nr),nr}});return xe?yield xe:gt.authToken}),wn.apply(this,arguments)}function yr(){return(yr=(0,h.Z)(function*($,re){let xe=yield K($.appConfig);for(;1===xe.authToken.requestStatus;)yield sr(100),xe=yield K($.appConfig);const gt=xe.authToken;return 0===gt.requestStatus?Vt($,re):gt})).apply(this,arguments)}function K($){return we($,re=>{if(!at(re))throw oe.create("not-registered");return function ti($){return 1===$.requestStatus&&$.requestTime+Ht<Date.now()}(re.authToken)?Object.assign(Object.assign({},re),{authToken:{requestStatus:0}}):re})}function nt(){return nt=(0,h.Z)(function*($,re){try{const xe=yield function xt($,re){return ot.apply(this,arguments)}($,re),gt=Object.assign(Object.assign({},re),{authToken:xe});return yield dr($.appConfig,gt),xe}catch(xe){if(!Se(xe)||401!==xe.customData.serverCode&&404!==xe.customData.serverCode){const gt=Object.assign(Object.assign({},re),{authToken:{requestStatus:0}});yield dr($.appConfig,gt)}else yield me($.appConfig);throw xe}}),nt.apply(this,arguments)}function at($){return void 0!==$&&2===$.registrationStatus}function Zi(){return(Zi=(0,h.Z)(function*($){const re=$,{installationEntry:xe,registrationPromise:gt}=yield ct(re);return gt?gt.catch(console.error):Vt(re).catch(console.error),xe.fid})).apply(this,arguments)}function ln(){return ln=(0,h.Z)(function*($,re=!1){const xe=$;return yield function Fs($){return Ks.apply(this,arguments)}(xe),(yield Vt(xe,re)).token}),ln.apply(this,arguments)}function Ks(){return(Ks=(0,h.Z)(function*($){const{registrationPromise:re}=yield ct($);re&&(yield re)})).apply(this,arguments)}function Va($){return oe.create("missing-app-config-values",{valueName:$})}const Co="installations",Ua=$=>{const re=$.getProvider("app").getImmediate(),xe=function Yi($){if(!$||!$.options)throw Va("App Configuration");if(!$.name)throw Va("App Name");const re=["projectId","apiKey","appId"];for(const xe of re)if(!$.options[xe])throw Va(xe);return{appName:$.name,projectId:$.options.projectId,apiKey:$.options.apiKey,appId:$.options.appId}}(re);return{app:re,appConfig:xe,heartbeatServiceProvider:(0,U._getProvider)(re,"heartbeat"),_delete:()=>Promise.resolve()}},ua=$=>{const re=$.getProvider("app").getImmediate(),xe=(0,U._getProvider)(re,Co).getImmediate();return{getId:()=>function ni($){return Zi.apply(this,arguments)}(xe),getToken:En=>function Nr($){return ln.apply(this,arguments)}(xe,En)}};(function zu(){(0,U._registerComponent)(new N.wA(Co,Ua,"PUBLIC")),(0,U._registerComponent)(new N.wA("installations-internal",ua,"PRIVATE"))})(),(0,U.registerVersion)(st,Lt),(0,U.registerVersion)(st,Lt,"esm2017")},7879:(vt,be,A)=>{A.d(be,{Am:()=>he,Ub:()=>Oe,Yd:()=>_e,in:()=>U});const h=[];var U=function(V){return V[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT",V}(U||{});const N={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},Y=U.INFO,se={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},ve=(V,q,...ne)=>{if(q<V.logLevel)return;const Ue=(new Date).toISOString(),Ee=se[q];if(!Ee)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Ee](`[${Ue}]  ${V.name}:`,...ne)};class _e{constructor(q){this.name=q,this._logLevel=Y,this._logHandler=ve,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in U))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?N[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...q),this._logHandler(this,U.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...q),this._logHandler(this,U.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,U.INFO,...q),this._logHandler(this,U.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,U.WARN,...q),this._logHandler(this,U.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...q),this._logHandler(this,U.ERROR,...q)}}function Oe(V){h.forEach(q=>{q.setLogLevel(V)})}function he(V,q){for(const ne of h){let Ue=null;q&&q.level&&(Ue=N[q.level]),ne.userLogHandler=null===V?null:(Ee,Ye,...ke)=>{const Ze=ke.map(Ae=>{if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch{return null}}).filter(Ae=>Ae).join(" ");Ye>=(Ue??Ee.logLevel)&&V({level:U[Ye].toLowerCase(),message:Ze,args:ke,type:Ee.name})}}}},2650:(vt,be,A)=>{A.d(be,{Gb:()=>X,LP:()=>Vt,pQ:()=>Yt,ps:()=>yr});var h=A(5861),N=(A(2591),A(4537)),Y=A(9240),se=A(9058),ve=A(4303);const _e="/firebase-messaging-sw.js",Oe="/firebase-cloud-messaging-push-scope",he="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",V="https://fcmregistrations.googleapis.com/v1",q="google.c.a.c_id",ne="google.c.a.c_l",Ue="google.c.a.ts";var ke=function(K){return K.PUSH_RECEIVED="push-received",K.NOTIFICATION_CLICKED="notification-clicked",K}(ke||{});function Ze(K){const de=new Uint8Array(K);return btoa(String.fromCharCode(...de)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ae(K){const nt=(K+"=".repeat((4-K.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),at=atob(nt),Ot=new Uint8Array(at.length);for(let lt=0;lt<at.length;++lt)Ot[lt]=at.charCodeAt(lt);return Ot}const ht="fcm_token_details_db",ft=5,ee="fcm_token_object_Store";function ue(){return ue=(0,h.Z)(function*(K){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(lt=>lt.name).includes(ht))return null;let de=null;return(yield(0,Y.X3)(ht,ft,{upgrade:(at=(0,h.Z)(function*(Ot,lt,Tn,ti){var ni;if(lt<2||!Ot.objectStoreNames.contains(ee))return;const Zi=ti.objectStore(ee),Nr=yield Zi.index("fcmSenderId").get(K);if(yield Zi.clear(),Nr)if(2===lt){const ln=Nr;if(!ln.auth||!ln.p256dh||!ln.endpoint)return;de={token:ln.fcmToken,createTime:null!==(ni=ln.createTime)&&void 0!==ni?ni:Date.now(),subscriptionOptions:{auth:ln.auth,p256dh:ln.p256dh,endpoint:ln.endpoint,swScope:ln.swScope,vapidKey:"string"==typeof ln.vapidKey?ln.vapidKey:Ze(ln.vapidKey)}}}else if(3===lt){const ln=Nr;de={token:ln.fcmToken,createTime:ln.createTime,subscriptionOptions:{auth:Ze(ln.auth),p256dh:Ze(ln.p256dh),endpoint:ln.endpoint,swScope:ln.swScope,vapidKey:Ze(ln.vapidKey)}}}else if(4===lt){const ln=Nr;de={token:ln.fcmToken,createTime:ln.createTime,subscriptionOptions:{auth:Ze(ln.auth),p256dh:Ze(ln.p256dh),endpoint:ln.endpoint,swScope:ln.swScope,vapidKey:Ze(ln.vapidKey)}}}}),function(lt,Tn,ti,ni){return at.apply(this,arguments)})})).close(),yield(0,Y.Lj)(ht),yield(0,Y.Lj)("fcm_vapid_details_db"),yield(0,Y.Lj)("undefined"),function Me(K){if(!K||!K.subscriptionOptions)return!1;const{subscriptionOptions:de}=K;return"number"==typeof K.createTime&&K.createTime>0&&"string"==typeof K.token&&K.token.length>0&&"string"==typeof de.auth&&de.auth.length>0&&"string"==typeof de.p256dh&&de.p256dh.length>0&&"string"==typeof de.endpoint&&de.endpoint.length>0&&"string"==typeof de.swScope&&de.swScope.length>0&&"string"==typeof de.vapidKey&&de.vapidKey.length>0}(de)?de:null;var at}),ue.apply(this,arguments)}const Be="firebase-messaging-database",k=1,te="firebase-messaging-store";let De=null;function st(){return De||(De=(0,Y.X3)(Be,k,{upgrade:(K,de)=>{0===de&&K.createObjectStore(te)}})),De}function Lt(K){return Ht.apply(this,arguments)}function Ht(){return Ht=(0,h.Z)(function*(K){const de=ae(K),at=yield(yield st()).transaction(te).objectStore(te).get(de);if(at)return at;{const Ot=yield function Te(K){return ue.apply(this,arguments)}(K.appConfig.senderId);if(Ot)return yield Gt(K,Ot),Ot}}),Ht.apply(this,arguments)}function Gt(K,de){return dn.apply(this,arguments)}function dn(){return(dn=(0,h.Z)(function*(K,de){const nt=ae(K),Ot=(yield st()).transaction(te,"readwrite");return yield Ot.objectStore(te).put(de,nt),yield Ot.done,de})).apply(this,arguments)}function Gn(){return(Gn=(0,h.Z)(function*(K){const de=ae(K),at=(yield st()).transaction(te,"readwrite");yield at.objectStore(te).delete(de),yield at.done})).apply(this,arguments)}function ae({appConfig:K}){return K.appId}const ce=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function oe(K,de){return Se.apply(this,arguments)}function Se(){return(Se=(0,h.Z)(function*(K,de){const nt=yield nn(K),at=hn(de),Ot={method:"POST",headers:nt,body:JSON.stringify(at)};let lt;try{lt=yield(yield fetch(bt(K.appConfig),Ot)).json()}catch(Tn){throw ce.create("token-subscribe-failed",{errorInfo:Tn?.toString()})}if(lt.error)throw ce.create("token-subscribe-failed",{errorInfo:lt.error.message});if(!lt.token)throw ce.create("token-subscribe-no-token");return lt.token})).apply(this,arguments)}function tt(){return(tt=(0,h.Z)(function*(K,de){const nt=yield nn(K),at=hn(de.subscriptionOptions),Ot={method:"PATCH",headers:nt,body:JSON.stringify(at)};let lt;try{lt=yield(yield fetch(`${bt(K.appConfig)}/${de.token}`,Ot)).json()}catch(Tn){throw ce.create("token-update-failed",{errorInfo:Tn?.toString()})}if(lt.error)throw ce.create("token-update-failed",{errorInfo:lt.error.message});if(!lt.token)throw ce.create("token-update-no-token");return lt.token})).apply(this,arguments)}function qe(K,de){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,h.Z)(function*(K,de){const at={method:"DELETE",headers:yield nn(K)};try{const lt=yield(yield fetch(`${bt(K.appConfig)}/${de}`,at)).json();if(lt.error)throw ce.create("token-unsubscribe-failed",{errorInfo:lt.error.message})}catch(Ot){throw ce.create("token-unsubscribe-failed",{errorInfo:Ot?.toString()})}})).apply(this,arguments)}function bt({projectId:K}){return`${V}/projects/${K}/registrations`}function nn(K){return yt.apply(this,arguments)}function yt(){return(yt=(0,h.Z)(function*({appConfig:K,installations:de}){const nt=yield de.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":K.apiKey,"x-goog-firebase-installations-auth":`FIS ${nt}`})})).apply(this,arguments)}function hn({p256dh:K,auth:de,endpoint:nt,vapidKey:at}){const Ot={web:{endpoint:nt,auth:de,p256dh:K}};return at!==he&&(Ot.web.applicationPubKey=at),Ot}const jn=6048e5;function _n(){return _n=(0,h.Z)(function*(K){const de=yield function Gr(K,de){return wt.apply(this,arguments)}(K.swRegistration,K.vapidKey),nt={vapidKey:K.vapidKey,swScope:K.swRegistration.scope,endpoint:de.endpoint,auth:Ze(de.getKey("auth")),p256dh:Ze(de.getKey("p256dh"))},at=yield Lt(K.firebaseDependencies);if(at){if(function Ct(K,de){return de.vapidKey===K.vapidKey&&de.endpoint===K.endpoint&&de.auth===K.auth&&de.p256dh===K.p256dh}(at.subscriptionOptions,nt))return Date.now()>=at.createTime+jn?function Zn(K,de){return Vn.apply(this,arguments)}(K,{token:at.token,createTime:Date.now(),subscriptionOptions:nt}):at.token;try{yield qe(K.firebaseDependencies,at.token)}catch(Ot){console.warn(Ot)}return bn(K.firebaseDependencies,nt)}return bn(K.firebaseDependencies,nt)}),_n.apply(this,arguments)}function Rn(K){return sr.apply(this,arguments)}function sr(){return sr=(0,h.Z)(function*(K){const de=yield Lt(K.firebaseDependencies);de&&(yield qe(K.firebaseDependencies,de.token),yield function Jt(K){return Gn.apply(this,arguments)}(K.firebaseDependencies));const nt=yield K.swRegistration.pushManager.getSubscription();return!nt||nt.unsubscribe()}),sr.apply(this,arguments)}function Vn(){return Vn=(0,h.Z)(function*(K,de){try{const nt=yield function Ge(K,de){return tt.apply(this,arguments)}(K.firebaseDependencies,de),at=Object.assign(Object.assign({},de),{token:nt,createTime:Date.now()});return yield Gt(K.firebaseDependencies,at),nt}catch(nt){throw yield Rn(K),nt}}),Vn.apply(this,arguments)}function bn(K,de){return tr.apply(this,arguments)}function tr(){return(tr=(0,h.Z)(function*(K,de){const at={token:yield oe(K,de),createTime:Date.now(),subscriptionOptions:de};return yield Gt(K,at),at.token})).apply(this,arguments)}function wt(){return(wt=(0,h.Z)(function*(K,de){return(yield K.pushManager.getSubscription())||K.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ae(de)})})).apply(this,arguments)}function Nt(K){const de={from:K.from,collapseKey:K.collapse_key,messageId:K.fcmMessageId};return function Rt(K,de){if(!de.notification)return;K.notification={};const nt=de.notification.title;nt&&(K.notification.title=nt);const at=de.notification.body;at&&(K.notification.body=at);const Ot=de.notification.image;Ot&&(K.notification.image=Ot);const lt=de.notification.icon;lt&&(K.notification.icon=lt)}(de,K),function mr(K,de){de.data&&(K.data=de.data)}(de,K),function fn(K,de){var nt,at,Ot,lt,Tn;if(!(de.fcmOptions||null!==(nt=de.notification)&&void 0!==nt&&nt.click_action))return;K.fcmOptions={};const ti=null!==(Ot=null===(at=de.fcmOptions)||void 0===at?void 0:at.link)&&void 0!==Ot?Ot:null===(lt=de.notification)||void 0===lt?void 0:lt.click_action;ti&&(K.fcmOptions.link=ti);const ni=null===(Tn=de.fcmOptions)||void 0===Tn?void 0:Tn.analytics_label;ni&&(K.fcmOptions.analyticsLabel=ni)}(de,K),de}function pn(K,de){const nt=[];for(let at=0;at<K.length;at++)nt.push(K.charAt(at)),at<de.length&&nt.push(de.charAt(at));return nt.join("")}function rn(K){return ce.create("missing-app-config-values",{valueName:K})}pn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),pn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fi{constructor(de,nt,at){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ot=function Pr(K){if(!K||!K.options)throw rn("App Configuration Object");if(!K.name)throw rn("App Name");const de=["projectId","apiKey","appId","messagingSenderId"],{options:nt}=K;for(const at of de)if(!nt[at])throw rn(at);return{appName:K.name,projectId:nt.projectId,apiKey:nt.apiKey,appId:nt.appId,senderId:nt.messagingSenderId}}(de);this.firebaseDependencies={app:de,appConfig:Ot,installations:nt,analyticsProvider:at}}_delete(){return Promise.resolve()}}function Xt(K){return cn.apply(this,arguments)}function cn(){return(cn=(0,h.Z)(function*(K){try{K.swRegistration=yield navigator.serviceWorker.register(_e,{scope:Oe}),K.swRegistration.update().catch(()=>{})}catch(de){throw ce.create("failed-service-worker-registration",{browserErrorMessage:de?.message})}})).apply(this,arguments)}function or(){return(or=(0,h.Z)(function*(K,de){if(!de&&!K.swRegistration&&(yield Xt(K)),de||!K.swRegistration){if(!(de instanceof ServiceWorkerRegistration))throw ce.create("invalid-sw-registration");K.swRegistration=de}})).apply(this,arguments)}function Un(){return(Un=(0,h.Z)(function*(K,de){de?K.vapidKey=de:K.vapidKey||(K.vapidKey=he)})).apply(this,arguments)}function me(K,de){return W.apply(this,arguments)}function W(){return W=(0,h.Z)(function*(K,de){if(!navigator)throw ce.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ce.create("permission-blocked");return yield function dr(K,de){return Un.apply(this,arguments)}(K,de?.vapidKey),yield function Dr(K,de){return or.apply(this,arguments)}(K,de?.serviceWorkerRegistration),function Ln(K){return _n.apply(this,arguments)}(K)}),W.apply(this,arguments)}function He(){return(He=(0,h.Z)(function*(K,de,nt){const at=function ct(K){switch(K){case ke.NOTIFICATION_CLICKED:return"notification_open";case ke.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(de);(yield K.firebaseDependencies.analyticsProvider.get()).logEvent(at,{message_id:nt[q],message_name:nt[ne],message_time:nt[Ue],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function gn(){return gn=(0,h.Z)(function*(K,de){const nt=de.data;if(!nt.isFirebaseMessaging)return;K.onMessageHandler&&nt.messageType===ke.PUSH_RECEIVED&&("function"==typeof K.onMessageHandler?K.onMessageHandler(Nt(nt)):K.onMessageHandler.next(Nt(nt)));const at=nt.data;(function Kt(K){return"object"==typeof K&&!!K&&q in K})(at)&&"1"===at["google.c.a.e"]&&(yield function we(K,de,nt){return He.apply(this,arguments)}(K,nt.messageType,at))}),gn.apply(this,arguments)}const G="@firebase/messaging",H="0.12.4",P=K=>{const de=new fi(K.getProvider("app").getImmediate(),K.getProvider("installations-internal").getImmediate(),K.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",nt=>function Et(K,de){return gn.apply(this,arguments)}(de,nt)),de},R=K=>{const de=K.getProvider("messaging").getImmediate();return{getToken:at=>me(de,at)}};function X(){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,h.Z)(function*(){try{yield(0,se.eu)()}catch{return!1}return typeof window<"u"&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function xt(){return(xt=(0,h.Z)(function*(K){if(!navigator)throw ce.create("only-available-in-window");return K.swRegistration||(yield Xt(K)),Rn(K)})).apply(this,arguments)}function Vt(K,de){return wn.apply(this,arguments)}function wn(){return(wn=(0,h.Z)(function*(K,de){return me(K=(0,se.m9)(K),de)})).apply(this,arguments)}function Yt(K){return function Qe(K){return xt.apply(this,arguments)}(K=(0,se.m9)(K))}function yr(K,de){return function ot(K,de){if(!navigator)throw ce.create("only-available-in-window");return K.onMessageHandler=de,()=>{K.onMessageHandler=null}}(K=(0,se.m9)(K),de)}!function M(){(0,ve._registerComponent)(new N.wA("messaging",P,"PUBLIC")),(0,ve._registerComponent)(new N.wA("messaging-internal",R,"PRIVATE")),(0,ve.registerVersion)(G,H),(0,ve.registerVersion)(G,H,"esm2017")}()},9240:(vt,be,A)=>{A.d(be,{Lj:()=>ee,X3:()=>ft});var h=A(5861);const U=(k,te)=>te.some(De=>k instanceof De);let N,Y;const _e=new WeakMap,Oe=new WeakMap,he=new WeakMap,V=new WeakMap,q=new WeakMap;let Ee={get(k,te,De){if(k instanceof IDBTransaction){if("done"===te)return Oe.get(k);if("objectStoreNames"===te)return k.objectStoreNames||he.get(k);if("store"===te)return De.objectStoreNames[1]?void 0:De.objectStore(De.objectStoreNames[0])}return Ae(k[te])},set:(k,te,De)=>(k[te]=De,!0),has:(k,te)=>k instanceof IDBTransaction&&("done"===te||"store"===te)||te in k};function Ze(k){return"function"==typeof k?function ke(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return Y||(Y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...te){return k.apply(ht(this),te),Ae(_e.get(this))}:function(...te){return Ae(k.apply(ht(this),te))}:function(te,...De){const st=k.call(ht(this),te,...De);return he.set(st,te.sort?te.sort():[te]),Ae(st)}}(k):(k instanceof IDBTransaction&&function Ue(k){if(Oe.has(k))return;const te=new Promise((De,st)=>{const Lt=()=>{k.removeEventListener("complete",Ht),k.removeEventListener("error",Gt),k.removeEventListener("abort",Gt)},Ht=()=>{De(),Lt()},Gt=()=>{st(k.error||new DOMException("AbortError","AbortError")),Lt()};k.addEventListener("complete",Ht),k.addEventListener("error",Gt),k.addEventListener("abort",Gt)});Oe.set(k,te)}(k),U(k,function se(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,Ee):k)}function Ae(k){if(k instanceof IDBRequest)return function ne(k){const te=new Promise((De,st)=>{const Lt=()=>{k.removeEventListener("success",Ht),k.removeEventListener("error",Gt)},Ht=()=>{De(Ae(k.result)),Lt()},Gt=()=>{st(k.error),Lt()};k.addEventListener("success",Ht),k.addEventListener("error",Gt)});return te.then(De=>{De instanceof IDBCursor&&_e.set(De,k)}).catch(()=>{}),q.set(te,k),te}(k);if(V.has(k))return V.get(k);const te=Ze(k);return te!==k&&(V.set(k,te),q.set(te,k)),te}const ht=k=>q.get(k);function ft(k,te,{blocked:De,upgrade:st,blocking:Lt,terminated:Ht}={}){const Gt=indexedDB.open(k,te),dn=Ae(Gt);return st&&Gt.addEventListener("upgradeneeded",Jt=>{st(Ae(Gt.result),Jt.oldVersion,Jt.newVersion,Ae(Gt.transaction))}),De&&Gt.addEventListener("blocked",()=>De()),dn.then(Jt=>{Ht&&Jt.addEventListener("close",()=>Ht()),Lt&&Jt.addEventListener("versionchange",()=>Lt())}).catch(()=>{}),dn}function ee(k,{blocked:te}={}){const De=indexedDB.deleteDatabase(k);return te&&De.addEventListener("blocked",()=>te()),Ae(De).then(()=>{})}const Te=["get","getKey","getAll","getAllKeys","count"],ue=["put","add","delete","clear"],Me=new Map;function Be(k,te){if(!(k instanceof IDBDatabase)||te in k||"string"!=typeof te)return;if(Me.get(te))return Me.get(te);const De=te.replace(/FromIndex$/,""),st=te!==De,Lt=ue.includes(De);if(!(De in(st?IDBIndex:IDBObjectStore).prototype)||!Lt&&!Te.includes(De))return;const Ht=function(){var Gt=(0,h.Z)(function*(dn,...Jt){const Gn=this.transaction(dn,Lt?"readwrite":"readonly");let ae=Gn.store;return st&&(ae=ae.index(Jt.shift())),(yield Promise.all([ae[De](...Jt),Lt&&Gn.done]))[0]});return function(Jt){return Gt.apply(this,arguments)}}();return Me.set(te,Ht),Ht}!function Ye(k){Ee=k(Ee)}(k=>({...k,get:(te,De,st)=>Be(te,De)||k.get(te,De,st),has:(te,De)=>!!Be(te,De)||k.has(te,De)}))},1878:(vt,be,A)=>{A.d(be,{X3:()=>ft});var h=A(5861);const U=(k,te)=>te.some(De=>k instanceof De);let N,Y;const _e=new WeakMap,Oe=new WeakMap,he=new WeakMap,V=new WeakMap,q=new WeakMap;let Ee={get(k,te,De){if(k instanceof IDBTransaction){if("done"===te)return Oe.get(k);if("objectStoreNames"===te)return k.objectStoreNames||he.get(k);if("store"===te)return De.objectStoreNames[1]?void 0:De.objectStore(De.objectStoreNames[0])}return Ae(k[te])},set:(k,te,De)=>(k[te]=De,!0),has:(k,te)=>k instanceof IDBTransaction&&("done"===te||"store"===te)||te in k};function Ze(k){return"function"==typeof k?function ke(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return Y||(Y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...te){return k.apply(ht(this),te),Ae(_e.get(this))}:function(...te){return Ae(k.apply(ht(this),te))}:function(te,...De){const st=k.call(ht(this),te,...De);return he.set(st,te.sort?te.sort():[te]),Ae(st)}}(k):(k instanceof IDBTransaction&&function Ue(k){if(Oe.has(k))return;const te=new Promise((De,st)=>{const Lt=()=>{k.removeEventListener("complete",Ht),k.removeEventListener("error",Gt),k.removeEventListener("abort",Gt)},Ht=()=>{De(),Lt()},Gt=()=>{st(k.error||new DOMException("AbortError","AbortError")),Lt()};k.addEventListener("complete",Ht),k.addEventListener("error",Gt),k.addEventListener("abort",Gt)});Oe.set(k,te)}(k),U(k,function se(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,Ee):k)}function Ae(k){if(k instanceof IDBRequest)return function ne(k){const te=new Promise((De,st)=>{const Lt=()=>{k.removeEventListener("success",Ht),k.removeEventListener("error",Gt)},Ht=()=>{De(Ae(k.result)),Lt()},Gt=()=>{st(k.error),Lt()};k.addEventListener("success",Ht),k.addEventListener("error",Gt)});return te.then(De=>{De instanceof IDBCursor&&_e.set(De,k)}).catch(()=>{}),q.set(te,k),te}(k);if(V.has(k))return V.get(k);const te=Ze(k);return te!==k&&(V.set(k,te),q.set(te,k)),te}const ht=k=>q.get(k);function ft(k,te,{blocked:De,upgrade:st,blocking:Lt,terminated:Ht}={}){const Gt=indexedDB.open(k,te),dn=Ae(Gt);return st&&Gt.addEventListener("upgradeneeded",Jt=>{st(Ae(Gt.result),Jt.oldVersion,Jt.newVersion,Ae(Gt.transaction),Jt)}),De&&Gt.addEventListener("blocked",Jt=>De(Jt.oldVersion,Jt.newVersion,Jt)),dn.then(Jt=>{Ht&&Jt.addEventListener("close",()=>Ht()),Lt&&Jt.addEventListener("versionchange",Gn=>Lt(Gn.oldVersion,Gn.newVersion,Gn))}).catch(()=>{}),dn}const Te=["get","getKey","getAll","getAllKeys","count"],ue=["put","add","delete","clear"],Me=new Map;function Be(k,te){if(!(k instanceof IDBDatabase)||te in k||"string"!=typeof te)return;if(Me.get(te))return Me.get(te);const De=te.replace(/FromIndex$/,""),st=te!==De,Lt=ue.includes(De);if(!(De in(st?IDBIndex:IDBObjectStore).prototype)||!Lt&&!Te.includes(De))return;const Ht=function(){var Gt=(0,h.Z)(function*(dn,...Jt){const Gn=this.transaction(dn,Lt?"readwrite":"readonly");let ae=Gn.store;return st&&(ae=ae.index(Jt.shift())),(yield Promise.all([ae[De](...Jt),Lt&&Gn.done]))[0]});return function(Jt){return Gt.apply(this,arguments)}}();return Me.set(te,Ht),Ht}!function Ye(k){Ee=k(Ee)}(k=>({...k,get:(te,De,st)=>Be(te,De)||k.get(te,De,st),has:(te,De)=>!!Be(te,De)||k.has(te,De)}))},5861:(vt,be,A)=>{function h(N,Y,se,ve,_e,Oe,he){try{var V=N[Oe](he),q=V.value}catch(ne){return void se(ne)}V.done?Y(q):Promise.resolve(q).then(ve,_e)}function U(N){return function(){var Y=this,se=arguments;return new Promise(function(ve,_e){var Oe=N.apply(Y,se);function he(q){h(Oe,ve,_e,he,V,"next",q)}function V(q){h(Oe,ve,_e,he,V,"throw",q)}he(void 0)})}}A.d(be,{Z:()=>U})},7582:(vt,be,A)=>{function Y(ae,fe){var ce={};for(var oe in ae)Object.prototype.hasOwnProperty.call(ae,oe)&&fe.indexOf(oe)<0&&(ce[oe]=ae[oe]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var Se=0;for(oe=Object.getOwnPropertySymbols(ae);Se<oe.length;Se++)fe.indexOf(oe[Se])<0&&Object.prototype.propertyIsEnumerable.call(ae,oe[Se])&&(ce[oe[Se]]=ae[oe[Se]])}return ce}function ne(ae,fe,ce,oe){return new(ce||(ce=Promise))(function(Ge,tt){function qe(nn){try{bt(oe.next(nn))}catch(yt){tt(yt)}}function Zt(nn){try{bt(oe.throw(nn))}catch(yt){tt(yt)}}function bt(nn){nn.done?Ge(nn.value):function Se(Ge){return Ge instanceof ce?Ge:new ce(function(tt){tt(Ge)})}(nn.value).then(qe,Zt)}bt((oe=oe.apply(ae,fe||[])).next())})}function ee(ae){return this instanceof ee?(this.v=ae,this):new ee(ae)}function Te(ae,fe,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,oe=ce.apply(ae,fe||[]),Ge=[];return Se={},tt("next"),tt("throw"),tt("return"),Se[Symbol.asyncIterator]=function(){return this},Se;function tt(hn){oe[hn]&&(Se[hn]=function(jn){return new Promise(function(Ln,_n){Ge.push([hn,jn,Ln,_n])>1||qe(hn,jn)})})}function qe(hn,jn){try{!function Zt(hn){hn.value instanceof ee?Promise.resolve(hn.value.v).then(bt,nn):yt(Ge[0][2],hn)}(oe[hn](jn))}catch(Ln){yt(Ge[0][3],Ln)}}function bt(hn){qe("next",hn)}function nn(hn){qe("throw",hn)}function yt(hn,jn){hn(jn),Ge.shift(),Ge.length&&qe(Ge[0][0],Ge[0][1])}}function Me(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,fe=ae[Symbol.asyncIterator];return fe?fe.call(ae):(ae=function ke(ae){var fe="function"==typeof Symbol&&Symbol.iterator,ce=fe&&ae[fe],oe=0;if(ce)return ce.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&oe>=ae.length&&(ae=void 0),{value:ae&&ae[oe++],done:!ae}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),ce={},oe("next"),oe("throw"),oe("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function oe(Ge){ce[Ge]=ae[Ge]&&function(tt){return new Promise(function(qe,Zt){!function Se(Ge,tt,qe,Zt){Promise.resolve(Zt).then(function(bt){Ge({value:bt,done:qe})},tt)}(qe,Zt,(tt=ae[Ge](tt)).done,tt.value)})}}}A.d(be,{FC:()=>Te,KL:()=>Me,_T:()=>Y,mG:()=>ne,qq:()=>ee}),"function"==typeof SuppressedError&&SuppressedError}},vt=>{vt(vt.s=8186)}]);